window.switchEditors={switchto:function(e){var t=e.id,r=t.length,e=t.substr(0,r-5),r=t.substr(r-4);this.go(e,r)},go:function(e,t){var r,p,n,i=tinymce.DOM;if(e=e||"content",t=t||"toggle",r=tinymce.get(e),p="wp-"+e+"-wrap",n=i.get(e),"tmce"===(t="toggle"===t?r&&!r.isHidden()?"html":"tmce":t)||"tinymce"===t){if(r&&!r.isHidden())return!1;"undefined"!=typeof QTags&&QTags.closeAllTags(e),tinyMCEPreInit.mceInit[e]&&tinyMCEPreInit.mceInit[e].wpautop&&(n.value=this.wpautop(n.value)),r?r.show():(r=new tinymce.Editor(e,tinyMCEPreInit.mceInit[e])).render(),i.removeClass(p,"html-active"),i.addClass(p,"tmce-active"),setUserSetting("editor","tinymce")}else if("html"===t){if(r&&r.isHidden())return!1;r?r.hide():(tinyMCEPreInit.mceInit[e]&&tinyMCEPreInit.mceInit[e].wpautop&&(n.value=this.pre_wpautop(n.value)),i.setStyles(n,{display:"",visibility:""})),i.removeClass(p,"tmce-active"),i.addClass(p,"html-active"),setUserSetting("editor","html")}return!1},_wp_Nop:function(e){var t,r,p=!1,n=!1;return-1===e.indexOf("<pre")&&-1===e.indexOf("<script")||(p=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]+?<\/\1>/g,function(e){return(e=e.replace(/<br ?\/?>(\r\n|\n)?/g,"<wp-temp-lb>")).replace(/<\/?p( [^>]*)?>(\r\n|\n)?/g,"<wp-temp-lb>")})),-1!==e.indexOf("[caption")&&(n=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>").replace(/[\r\n\t]+/,"")})),t="blockquote|ul|ol|li|table|thead|tbody|tfoot|tr|th|td|div|h[1-6]|p|fieldset",r="blockquote|ul|ol|li|table|thead|tbody|tfoot|tr|th|td|h[1-6]|pre|fieldset",e=(e=(e=(e=(e=-1!==(e=-1!==(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(new RegExp("\\s*</("+t+")>\\s*","g"),"</$1>\n")).replace(new RegExp("\\s*<((?:"+t+")(?: [^>]*)?)>","g"),"\n<$1>")).replace(/(<p [^>]+>.*?)<\/p>/g,"$1</p#>")).replace(/<div( [^>]*)?>\s*<p>/gi,"<div$1>\n\n")).replace(/\s*<p>/gi,"")).replace(/\s*<\/p>\s*/gi,"\n\n")).replace(/\n[\s\u00a0]+\n/g,"\n\n")).replace(/\s*<br ?\/?>\s*/gi,"\n")).replace(/\s*<div/g,"\n<div")).replace(/<\/div>\s*/g,"</div>\n")).replace(/\s*\[caption([^\[]+)\[\/caption\]\s*/gi,"\n\n[caption$1[/caption]\n\n")).replace(/caption\]\n\n+\[caption/g,"caption]\n\n[caption")).replace(new RegExp("\\s*<((?:"+r+")(?: [^>]*)?)\\s*>","g"),"\n<$1>")).replace(new RegExp("\\s*</("+r+")>\\s*","g"),"</$1>\n")).replace(/<li([^>]*)>/g,"\t<li$1>")).indexOf("<hr")?e.replace(/\s*<hr( [^>]*)?>\s*/g,"\n\n<hr$1>\n\n"):e).indexOf("<object")?e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/[\r\n]+/g,"")}):e).replace(/<\/p#>/g,"</p>\n")).replace(/\s*(<p [^>]+>[\s\S]*?<\/p>)/g,"\n$1")).replace(/^\s+/,"")).replace(/[\s\u00a0]+$/,""),p&&(e=e.replace(/<wp-temp-lb>/g,"\n")),e=n?e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>"):e},_wp_Autop:function(e){var t=!1,r=!1,p="table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|option|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|noscript|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary";return-1===(e=(e=-1!==e.indexOf("<object")?e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/[\r\n]+/g,"")}):e).replace(/<[^<>]+>/g,function(e){return e.replace(/[\r\n]+/g," ")})).indexOf("<pre")&&-1===e.indexOf("<script")||(t=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]+?<\/\1>/g,function(e){return e.replace(/(\r\n|\n)/g,"<wp-temp-lb>")})),-1!==e.indexOf("[caption")&&(r=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return(e=(e=e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>")).replace(/<[a-zA-Z0-9]+( [^<>]+)?>/g,function(e){return e.replace(/[\r\n\t]+/," ")})).replace(/\s*\n\s*/g,"<wp-temp-br />")})),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+="\n\n").replace(/<br \/>\s*<br \/>/gi,"\n\n")).replace(new RegExp("(<(?:"+p+")(?: [^>]*)?>)","gi"),"\n$1")).replace(new RegExp("(</(?:"+p+")>)","gi"),"$1\n\n")).replace(/<hr( [^>]*)?>/gi,"<hr$1>\n\n")).replace(/\r\n|\r/g,"\n")).replace(/\n\s*\n+/g,"\n\n")).replace(/([\s\S]+?)\n\n/g,"<p>$1</p>\n")).replace(/<p>\s*?<\/p>/gi,"")).replace(new RegExp("<p>\\s*(</?(?:"+p+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/<p>(<li.+?)<\/p>/gi,"$1")).replace(/<p>\s*<blockquote([^>]*)>/gi,"<blockquote$1><p>")).replace(/<\/blockquote>\s*<\/p>/gi,"</p></blockquote>")).replace(new RegExp("<p>\\s*(</?(?:"+p+")(?: [^>]*)?>)","gi"),"$1")).replace(new RegExp("(</?(?:"+p+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/\s*\n/gi,"<br />\n")).replace(new RegExp("(</?(?:"+p+")[^>]*>)\\s*<br />","gi"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)/gi,"$1")).replace(/(?:<p>|<br ?\/?>)*\s*\[caption([^\[]+)\[\/caption\]\s*(?:<\/p>|<br ?\/?>)*/gi,"[caption$1[/caption]")).replace(/(<(?:div|th|td|form|fieldset|dd)[^>]*>)(.*?)<\/p>/g,function(e,t,r){return r.match(/<p( [^>]*)?>/)?e:t+"<p>"+r+"</p>"}),t&&(e=e.replace(/<wp-temp-lb>/g,"\n")),e=r?e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>"):e},pre_wpautop:function(e){var t={o:this,data:e,unfiltered:e},e="undefined"!=typeof jQuery;return e&&jQuery("body").trigger("beforePreWpautop",[t]),t.data=this._wp_Nop(t.data),e&&jQuery("body").trigger("afterPreWpautop",[t]),t.data},wpautop:function(e){var t={o:this,data:e,unfiltered:e},e="undefined"!=typeof jQuery;return e&&jQuery("body").trigger("beforeWpautop",[t]),t.data=this._wp_Autop(t.data),e&&jQuery("body").trigger("afterWpautop",[t]),t.data}};