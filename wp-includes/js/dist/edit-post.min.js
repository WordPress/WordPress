/*! This file is auto-generated */
(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var o in s)e.o(s,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:s[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{PluginBlockSettingsMenuItem:()=>Gt,PluginDocumentSettingPanel:()=>Ht,PluginMoreMenuItem:()=>Ut,PluginPostPublishPanel:()=>Wt,PluginPostStatusInfo:()=>Qt,PluginPrePublishPanel:()=>qt,PluginSidebar:()=>Xt,PluginSidebarMoreMenuItem:()=>Zt,__experimentalFullscreenModeClose:()=>D,__experimentalMainDashboardButton:()=>Yt,__experimentalPluginPostExcerpt:()=>$t,initializeEditor:()=>Jt,reinitializeEditor:()=>es,store:()=>ot});var s={};e.r(s),e.d(s,{__experimentalSetPreviewDeviceType:()=>_e,__unstableCreateTemplate:()=>ve,closeGeneralSidebar:()=>K,closeModal:()=>ee,closePublishSidebar:()=>se,hideBlockTypes:()=>ue,initializeMetaBoxes:()=>Se,metaBoxUpdatesFailure:()=>we,metaBoxUpdatesSuccess:()=>he,openGeneralSidebar:()=>Y,openModal:()=>J,openPublishSidebar:()=>te,removeEditorPanel:()=>ne,requestMetaBoxUpdates:()=>me,setAvailableMetaBoxesPerLocation:()=>ge,setIsEditingTemplate:()=>ye,setIsInserterOpened:()=>fe,setIsListViewOpened:()=>xe,showBlockTypes:()=>pe,switchEditorMode:()=>ce,toggleDistractionFree:()=>Pe,toggleEditorPanelEnabled:()=>ie,toggleEditorPanelOpened:()=>re,toggleFeature:()=>ae,toggleFullscreenMode:()=>Ee,togglePinnedPluginItem:()=>le,togglePublishSidebar:()=>oe,updatePreferredStyleVariations:()=>de});var o={};e.r(o),e.d(o,{__experimentalGetInsertionPoint:()=>Ke,__experimentalGetPreviewDeviceType:()=>$e,areMetaBoxesInitialized:()=>tt,getActiveGeneralSidebarName:()=>Ae,getActiveMetaBoxLocations:()=>He,getAllMetaBoxes:()=>Qe,getEditedPostTemplate:()=>st,getEditorMode:()=>ke,getHiddenBlockTypes:()=>De,getMetaBoxesPerLocation:()=>We,getPreference:()=>Ce,getPreferences:()=>Re,hasMetaBoxes:()=>Xe,isEditingTemplate:()=>et,isEditorPanelEnabled:()=>Le,isEditorPanelOpened:()=>Fe,isEditorPanelRemoved:()=>Ne,isEditorSidebarOpened:()=>Be,isFeatureActive:()=>ze,isInserterOpened:()=>Ye,isListViewOpened:()=>Je,isMetaBoxLocationActive:()=>qe,isMetaBoxLocationVisible:()=>Ue,isModalActive:()=>Ve,isPluginItemPinned:()=>Ge,isPluginSidebarOpened:()=>Ie,isPublishSidebarOpened:()=>Oe,isSavingMetaBoxes:()=>Ze});const i=window.ReactJSXRuntime,r=window.wp.blocks,n=window.wp.blockLibrary,a=window.wp.deprecated;var c=e.n(a);const l=window.wp.element,d=window.wp.data,p=window.wp.preferences,u=window.wp.widgets,g=window.wp.editor;function m(e){var t,s,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=m(e[t]))&&(o&&(o+=" "),o+=s)}else for(s in e)e[s]&&(o&&(o+=" "),o+=s);return o}const h=function(){for(var e,t,s=0,o="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=m(e))&&(o&&(o+=" "),o+=t);return o},w=(0,l.forwardRef)((({children:e,className:t,ariaLabel:s,as:o="div",...r},n)=>(0,i.jsx)(o,{ref:n,className:h("admin-ui-navigable-region",t),"aria-label":s,role:"region",tabIndex:"-1",...r,children:e})));w.displayName="NavigableRegion";var _=w;const f=window.wp.blockEditor,x=window.wp.plugins,y=window.wp.i18n,v=window.wp.primitives;var b=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),S=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});const P=window.wp.notices,E=window.wp.commands,M=window.wp.url,j=window.wp.htmlEntities,T=window.wp.coreData,k=window.wp.components,B=window.wp.compose;var I=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,i.jsx)(v.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})}),A=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M14 6H6v8h1.5V8.5L17 18l1-1-9.5-9.5H14V6Z"})});const R={edit:{clipPath:"inset(0% round 0px)"},hover:{clipPath:"inset( 22% round 2px )"},tap:{clipPath:"inset(0% round 0px)"}},C={edit:{opacity:0,scale:.2},hover:{opacity:1,scale:1,clipPath:"inset( 22% round 2px )"}};var D=function({showTooltip:e,icon:t,href:s,initialPost:o}){const{isRequestingSiteIcon:r,postType:n,siteIconUrl:a}=(0,d.useSelect)((e=>{const{getCurrentPostType:t}=e(g.store),{getEntityRecord:s,getPostType:i,isResolving:r}=e(T.store),n=s("root","__unstableBase",void 0)||{},a=o?.type||t();return{isRequestingSiteIcon:r("getEntityRecord",["root","__unstableBase",void 0]),postType:i(a),siteIconUrl:n.site_icon_url}}),[o?.type]),c=(0,B.useReducedMotion)(),l={duration:c?0:.2};if(!n)return null;let p;p=r&&!a?(0,i.jsx)("div",{className:"edit-post-fullscreen-mode-close-site-icon__image"}):a?(0,i.jsx)("img",{className:"edit-post-fullscreen-mode-close-site-icon__image",alt:(0,y.__)("Site Icon"),src:a}):(0,i.jsx)(k.Icon,{className:"edit-post-fullscreen-mode-close-site-icon__icon",icon:I,size:48});const u=t?(0,i.jsx)(k.Icon,{size:"36px",icon:t}):(0,i.jsx)("div",{className:"edit-post-fullscreen-mode-close-site-icon",children:p}),m=h("edit-post-fullscreen-mode-close",{"has-icon":a}),w=s??(0,M.addQueryArgs)("edit.php",{post_type:n.slug}),_=n?.labels?.view_items??(0,y.__)("Back");return(0,i.jsxs)(k.__unstableMotion.div,{className:"edit-post-fullscreen-mode-close__view-mode-toggle",animate:"edit",initial:"edit",whileHover:"hover",whileTap:"tap",transition:l,children:[(0,i.jsx)(k.Button,{__next40pxDefaultSize:!0,className:m,href:w,label:_,showTooltip:e,tooltipPosition:"middle right",children:(0,i.jsx)(k.__unstableMotion.div,{variants:!c&&R,children:(0,i.jsx)("div",{className:"edit-post-fullscreen-mode-close__view-mode-toggle-icon",children:u})})}),(0,i.jsx)(k.__unstableMotion.div,{className:h("edit-post-fullscreen-mode-close__back-icon",{"has-site-icon":a}),variants:!c&&C,children:(0,i.jsx)(k.Icon,{icon:A})})]})};const O=window.wp.privateApis,{lock:N,unlock:L}=(0,O.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/edit-post"),{BackButton:F}=L(g.privateApis),V={hidden:{x:"-100%"},distractionFreeInactive:{x:0},hover:{x:0,transition:{type:"tween",delay:.2}}};var z=function({initialPost:e}){return(0,i.jsx)(F,{children:({length:t})=>t<=1&&(0,i.jsx)(k.__unstableMotion.div,{variants:V,transition:{type:"tween",delay:.8},children:(0,i.jsx)(D,{showTooltip:!0,initialPost:e})})})};function G(){return(()=>{const{isViewable:e,newPermalink:t}=(0,d.useSelect)((e=>{const{getPostType:t}=e(T.store),{getCurrentPost:s,getEditedPostAttribute:o}=e(g.store),i=t(o("type"));return{isViewable:i?.viewable,newPermalink:s().link}}),[]),s=(0,l.useRef)();(0,l.useEffect)((()=>{s.current=document.querySelector("#wp-admin-bar-preview a")||document.querySelector("#wp-admin-bar-view a")}),[]),(0,l.useEffect)((()=>{t&&s.current&&(e?(s.current.style.display="",s.current.setAttribute("href",t)):s.current.style.display="none")}),[t,e])})(),null}const H=window.wp.keyboardShortcuts;function U(e=[],t){const s=[...e];for(const e of t){const t=s.findIndex((t=>t.id===e.id));-1!==t?s[t]=e:s.push(e)}return s}const q=(0,d.combineReducers)({isSaving:function(e=!1,t){switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}},locations:function(e={},t){if("SET_META_BOXES_PER_LOCATIONS"===t.type){const s={...e};for(const[e,o]of Object.entries(t.metaBoxesPerLocation))s[e]=U(s[e],o);return s}return e},initialized:function(e=!1,t){return"META_BOXES_INITIALIZED"===t.type||e}});var W=(0,d.combineReducers)({metaBoxes:q});const Q=window.wp.apiFetch;var X=e.n(Q);const Z=window.wp.hooks,{interfaceStore:$}=L(g.privateApis),Y=e=>({registry:t})=>{t.dispatch($).enableComplementaryArea("core",e)},K=()=>({registry:e})=>e.dispatch($).disableComplementaryArea("core"),J=e=>({registry:t})=>(c()("select( 'core/edit-post' ).openModal( name )",{since:"6.3",alternative:"select( 'core/interface').openModal( name )"}),t.dispatch($).openModal(e)),ee=()=>({registry:e})=>(c()("select( 'core/edit-post' ).closeModal()",{since:"6.3",alternative:"select( 'core/interface').closeModal()"}),e.dispatch($).closeModal()),te=()=>({registry:e})=>{c()("dispatch( 'core/edit-post' ).openPublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').openPublishSidebar"}),e.dispatch(g.store).openPublishSidebar()},se=()=>({registry:e})=>{c()("dispatch( 'core/edit-post' ).closePublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').closePublishSidebar"}),e.dispatch(g.store).closePublishSidebar()},oe=()=>({registry:e})=>{c()("dispatch( 'core/edit-post' ).togglePublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').togglePublishSidebar"}),e.dispatch(g.store).togglePublishSidebar()},ie=e=>({registry:t})=>{c()("dispatch( 'core/edit-post' ).toggleEditorPanelEnabled",{since:"6.5",alternative:"dispatch( 'core/editor').toggleEditorPanelEnabled"}),t.dispatch(g.store).toggleEditorPanelEnabled(e)},re=e=>({registry:t})=>{c()("dispatch( 'core/edit-post' ).toggleEditorPanelOpened",{since:"6.5",alternative:"dispatch( 'core/editor').toggleEditorPanelOpened"}),t.dispatch(g.store).toggleEditorPanelOpened(e)},ne=e=>({registry:t})=>{c()("dispatch( 'core/edit-post' ).removeEditorPanel",{since:"6.5",alternative:"dispatch( 'core/editor').removeEditorPanel"}),t.dispatch(g.store).removeEditorPanel(e)},ae=e=>({registry:t})=>t.dispatch(p.store).toggle("core/edit-post",e),ce=e=>({registry:t})=>{c()("dispatch( 'core/edit-post' ).switchEditorMode",{since:"6.6",alternative:"dispatch( 'core/editor').switchEditorMode"}),t.dispatch(g.store).switchEditorMode(e)},le=e=>({registry:t})=>{const s=t.select($).isItemPinned("core",e);t.dispatch($)[s?"unpinItem":"pinItem"]("core",e)};function de(){return c()("dispatch( 'core/edit-post' ).updatePreferredStyleVariations",{since:"6.6",hint:"Preferred Style Variations are not supported anymore."}),{type:"NOTHING"}}const pe=e=>({registry:t})=>{L(t.dispatch(g.store)).showBlockTypes(e)},ue=e=>({registry:t})=>{L(t.dispatch(g.store)).hideBlockTypes(e)};function ge(e){return{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}const me=()=>async({registry:e,select:t,dispatch:s})=>{s({type:"REQUEST_META_BOX_UPDATES"}),window.tinyMCE&&window.tinyMCE.triggerSave();const o=new window.FormData(document.querySelector(".metabox-base-form")),i=o.get("post_ID"),r=o.get("post_type"),n=e.select(T.store).getEditedEntityRecord("postType",r,i),a=[!!n.comment_status&&["comment_status",n.comment_status],!!n.ping_status&&["ping_status",n.ping_status],!!n.sticky&&["sticky",n.sticky],!!n.author&&["post_author",n.author]].filter(Boolean),c=[o,...t.getActiveMetaBoxLocations().map((e=>new window.FormData((e=>{const t=document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-${e}`);return t||document.querySelector("#metaboxes .metabox-location-"+e)})(e))))].reduce(((e,t)=>{for(const[s,o]of t)e.append(s,o);return e}),new window.FormData);a.forEach((([e,t])=>c.append(e,t)));try{await X()({url:window._wpMetaBoxUrl,method:"POST",body:c,parse:!1}),s.metaBoxUpdatesSuccess()}catch{s.metaBoxUpdatesFailure()}};function he(){return{type:"META_BOX_UPDATES_SUCCESS"}}function we(){return{type:"META_BOX_UPDATES_FAILURE"}}const _e=e=>({registry:t})=>{c()("dispatch( 'core/edit-post' ).__experimentalSetPreviewDeviceType",{since:"6.5",version:"6.7",hint:"registry.dispatch( editorStore ).setDeviceType"}),t.dispatch(g.store).setDeviceType(e)},fe=e=>({registry:t})=>{c()("dispatch( 'core/edit-post' ).setIsInserterOpened",{since:"6.5",alternative:"dispatch( 'core/editor').setIsInserterOpened"}),t.dispatch(g.store).setIsInserterOpened(e)},xe=e=>({registry:t})=>{c()("dispatch( 'core/edit-post' ).setIsListViewOpened",{since:"6.5",alternative:"dispatch( 'core/editor').setIsListViewOpened"}),t.dispatch(g.store).setIsListViewOpened(e)};function ye(){return c()("dispatch( 'core/edit-post' ).setIsEditingTemplate",{since:"6.5",alternative:"dispatch( 'core/editor').setRenderingMode"}),{type:"NOTHING"}}function ve(){return c()("dispatch( 'core/edit-post' ).__unstableCreateTemplate",{since:"6.5"}),{type:"NOTHING"}}let be=!1;const Se=()=>({registry:e,select:t,dispatch:s})=>{if(!e.select(g.store).__unstableIsEditorReady())return;if(be)return;const o=e.select(g.store).getCurrentPostType();window.postboxes.page!==o&&window.postboxes.add_postbox_toggles(o),be=!0,(0,Z.addAction)("editor.savePost","core/edit-post/save-metaboxes",(async(e,o)=>{!o.isAutosave&&t.hasMetaBoxes()&&await s.requestMetaBoxUpdates()})),s({type:"META_BOXES_INITIALIZED"})},Pe=()=>({registry:e})=>{c()("dispatch( 'core/edit-post' ).toggleDistractionFree",{since:"6.6",alternative:"dispatch( 'core/editor').toggleDistractionFree"}),e.dispatch(g.store).toggleDistractionFree()},Ee=()=>({registry:e})=>{const t=e.select(p.store).get("core/edit-post","fullscreenMode");e.dispatch(p.store).toggle("core/edit-post","fullscreenMode"),e.dispatch(P.store).createInfoNotice(t?(0,y.__)("Fullscreen mode deactivated."):(0,y.__)("Fullscreen mode activated."),{id:"core/edit-post/toggle-fullscreen-mode/notice",type:"snackbar",actions:[{label:(0,y.__)("Undo"),onClick:()=>{e.dispatch(p.store).toggle("core/edit-post","fullscreenMode")}}]})},{interfaceStore:Me}=L(g.privateApis),je=[],Te={},ke=(0,d.createRegistrySelector)((e=>()=>e(p.store).get("core","editorMode")??"visual")),Be=(0,d.createRegistrySelector)((e=>()=>{const t=e(Me).getActiveComplementaryArea("core");return["edit-post/document","edit-post/block"].includes(t)})),Ie=(0,d.createRegistrySelector)((e=>()=>{const t=e(Me).getActiveComplementaryArea("core");return!!t&&!["edit-post/document","edit-post/block"].includes(t)})),Ae=(0,d.createRegistrySelector)((e=>()=>e(Me).getActiveComplementaryArea("core")));const Re=(0,d.createRegistrySelector)((e=>()=>{c()("select( 'core/edit-post' ).getPreferences",{since:"6.0",alternative:"select( 'core/preferences' ).get"});const t=["editorMode","hiddenBlockTypes"].reduce(((t,s)=>{const o=e(p.store).get("core",s);return{...t,[s]:o}}),{}),s=function(e,t){const s=e?.reduce(((e,t)=>({...e,[t]:{enabled:!1}})),{}),o=t?.reduce(((e,t)=>{const s=e?.[t];return{...e,[t]:{...s,opened:!0}}}),s??{});return o??s??Te}(e(p.store).get("core","inactivePanels"),e(p.store).get("core","openPanels"));return{...t,panels:s}}));function Ce(e,t,s){c()("select( 'core/edit-post' ).getPreference",{since:"6.0",alternative:"select( 'core/preferences' ).get"});const o=Re(e)[t];return void 0===o?s:o}const De=(0,d.createRegistrySelector)((e=>()=>e(p.store).get("core","hiddenBlockTypes")??je)),Oe=(0,d.createRegistrySelector)((e=>()=>(c()("select( 'core/edit-post' ).isPublishSidebarOpened",{since:"6.6",alternative:"select( 'core/editor' ).isPublishSidebarOpened"}),e(g.store).isPublishSidebarOpened()))),Ne=(0,d.createRegistrySelector)((e=>(t,s)=>(c()("select( 'core/edit-post' ).isEditorPanelRemoved",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelRemoved"}),e(g.store).isEditorPanelRemoved(s)))),Le=(0,d.createRegistrySelector)((e=>(t,s)=>(c()("select( 'core/edit-post' ).isEditorPanelEnabled",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelEnabled"}),e(g.store).isEditorPanelEnabled(s)))),Fe=(0,d.createRegistrySelector)((e=>(t,s)=>(c()("select( 'core/edit-post' ).isEditorPanelOpened",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelOpened"}),e(g.store).isEditorPanelOpened(s)))),Ve=(0,d.createRegistrySelector)((e=>(t,s)=>(c()("select( 'core/edit-post' ).isModalActive",{since:"6.3",alternative:"select( 'core/interface' ).isModalActive"}),!!e(Me).isModalActive(s)))),ze=(0,d.createRegistrySelector)((e=>(t,s)=>!!e(p.store).get("core/edit-post",s))),Ge=(0,d.createRegistrySelector)((e=>(t,s)=>e(Me).isItemPinned("core",s))),He=(0,d.createSelector)((e=>Object.keys(e.metaBoxes.locations).filter((t=>qe(e,t)))),(e=>[e.metaBoxes.locations])),Ue=(0,d.createRegistrySelector)((e=>(t,s)=>qe(t,s)&&We(t,s)?.some((({id:t})=>e(g.store).isEditorPanelEnabled(`meta-box-${t}`)))));function qe(e,t){const s=We(e,t);return!!s&&0!==s.length}function We(e,t){return e.metaBoxes.locations[t]}const Qe=(0,d.createSelector)((e=>Object.values(e.metaBoxes.locations).flat()),(e=>[e.metaBoxes.locations]));function Xe(e){return He(e).length>0}function Ze(e){return e.metaBoxes.isSaving}const $e=(0,d.createRegistrySelector)((e=>()=>(c()("select( 'core/edit-site' ).__experimentalGetPreviewDeviceType",{since:"6.5",version:"6.7",alternative:"select( 'core/editor' ).getDeviceType"}),e(g.store).getDeviceType()))),Ye=(0,d.createRegistrySelector)((e=>()=>(c()("select( 'core/edit-post' ).isInserterOpened",{since:"6.5",alternative:"select( 'core/editor' ).isInserterOpened"}),e(g.store).isInserterOpened()))),Ke=(0,d.createRegistrySelector)((e=>()=>(c()("select( 'core/edit-post' ).__experimentalGetInsertionPoint",{since:"6.5",version:"6.7"}),L(e(g.store)).getInserter()))),Je=(0,d.createRegistrySelector)((e=>()=>(c()("select( 'core/edit-post' ).isListViewOpened",{since:"6.5",alternative:"select( 'core/editor' ).isListViewOpened"}),e(g.store).isListViewOpened()))),et=(0,d.createRegistrySelector)((e=>()=>(c()("select( 'core/edit-post' ).isEditingTemplate",{since:"6.5",alternative:"select( 'core/editor' ).getRenderingMode"}),"wp_template"===e(g.store).getCurrentPostType())));function tt(e){return e.metaBoxes.initialized}const st=(0,d.createRegistrySelector)((e=>()=>{const{id:t,type:s}=e(g.store).getCurrentPost(),o=L(e(T.store)).getTemplateId(s,t);if(o)return e(T.store).getEditedEntityRecord("postType","wp_template",o)})),ot=(0,d.createReduxStore)("core/edit-post",{reducer:W,actions:s,selectors:o});(0,d.register)(ot);var it=function(){const{toggleFullscreenMode:e}=(0,d.useDispatch)(ot),{registerShortcut:t}=(0,d.useDispatch)(H.store);return(0,l.useEffect)((()=>{t({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,y.__)("Enable or disable fullscreen mode."),keyCombination:{modifier:"secondary",character:"f"}})}),[]),(0,H.useShortcut)("core/edit-post/toggle-fullscreen",(()=>{e()})),null};function rt(){const{editPost:e}=(0,d.useDispatch)(g.store),[t,s]=(0,l.useState)(void 0),[o,r]=(0,l.useState)(""),{postType:n,isNewPost:a}=(0,d.useSelect)((e=>{const{getEditedPostAttribute:t,isCleanNewPost:s}=e(g.store);return{postType:t("type"),isNewPost:s()}}),[]),[c,p]=(0,l.useState)((()=>a&&"wp_block"===n));return"wp_block"===n&&a?(0,i.jsx)(i.Fragment,{children:c&&(0,i.jsx)(k.Modal,{title:(0,y.__)("Create pattern"),onRequestClose:()=>{p(!1)},overlayClassName:"reusable-blocks-menu-items__convert-modal",children:(0,i.jsx)("form",{onSubmit:s=>{s.preventDefault(),p(!1),e({title:o,meta:{wp_pattern_sync_status:t}})},children:(0,i.jsxs)(k.__experimentalVStack,{spacing:"5",children:[(0,i.jsx)(k.TextControl,{label:(0,y.__)("Name"),value:o,onChange:r,placeholder:(0,y.__)("My pattern"),className:"patterns-create-modal__name-input",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,i.jsx)(k.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,y._x)("Synced","pattern (singular)"),help:(0,y.__)("Sync this pattern across multiple locations."),checked:!t,onChange:()=>{s(t?void 0:"unsynced")}}),(0,i.jsx)(k.__experimentalHStack,{justify:"right",children:(0,i.jsx)(k.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",disabled:!o,accessibleWhenDisabled:!0,children:(0,y.__)("Create")})})]})})})}):null}function nt(){const[e,t]=(0,l.useState)(null),{postId:s,postStatus:o}=(0,d.useSelect)((e=>{const{getCurrentPost:t}=e(g.store),s=t();let{id:o,status:i,type:r}=s;return["wp_template","wp_template_part"].includes(r)&&(o=s.wp_id),{postId:o,postStatus:i}}),[]);return(0,l.useEffect)((()=>{s&&s!==e&&"auto-draft"!==o&&(window.history.replaceState({id:s},"Post "+s,function(e){return(0,M.addQueryArgs)("post.php",{post:e,action:"edit"})}(s)),t(s))}),[s,o,e]),null}var at=function({location:e}){const t=(0,l.useRef)(null),s=(0,l.useRef)(null);(0,l.useEffect)((()=>(s.current=document.querySelector(".metabox-location-"+e),s.current&&t.current.appendChild(s.current),()=>{s.current&&document.querySelector("#metaboxes").appendChild(s.current)})),[e]);const o=(0,d.useSelect)((e=>e(ot).isSavingMetaBoxes()),[]),r=h("edit-post-meta-boxes-area",`is-${e}`,{"is-loading":o});return(0,i.jsxs)("div",{className:r,children:[o&&(0,i.jsx)(k.Spinner,{}),(0,i.jsx)("div",{className:"edit-post-meta-boxes-area__container",ref:t}),(0,i.jsx)("div",{className:"edit-post-meta-boxes-area__clear"})]})};function ct({id:e}){const t=(0,d.useSelect)((t=>t(g.store).isEditorPanelEnabled(`meta-box-${e}`)),[e]);return(0,l.useEffect)((()=>{const s=document.getElementById(e);s&&(t?s.classList.remove("is-hidden"):s.classList.add("is-hidden"))}),[e,t]),null}function lt({location:e}){const t=(0,d.useSelect)((t=>t(ot).getMetaBoxesPerLocation(e)),[e]);return(0,i.jsxs)(i.Fragment,{children:[(t??[]).map((({id:e})=>(0,i.jsx)(ct,{id:e},e))),(0,i.jsx)(at,{location:e})]})}const dt=window.wp.keycodes;var pt=function(){const e=(0,d.useSelect)((e=>{const{canUser:t}=e(T.store),s=(0,M.addQueryArgs)("edit.php",{post_type:"wp_block"}),o=(0,M.addQueryArgs)("site-editor.php",{p:"/pattern"});return t("create",{kind:"postType",name:"wp_template"})?o:s}),[]);return(0,i.jsx)(k.MenuItem,{role:"menuitem",href:e,children:(0,y.__)("Manage patterns")})};function ut(){const e=(0,d.useSelect)((e=>"wp_template"===e(g.store).getCurrentPostType()),[]);return(0,i.jsx)(p.PreferenceToggleMenuItem,{scope:"core/edit-post",name:e?"welcomeGuideTemplate":"welcomeGuide",label:(0,y.__)("Welcome Guide")})}const{PreferenceBaseOption:gt}=L(p.privateApis);function mt({willEnable:e}){const[t,s]=(0,l.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message",children:(0,y.__)("A page reload is required for this change. Make sure your content is saved before reloading.")}),(0,i.jsx)(k.Button,{__next40pxDefaultSize:!0,variant:"secondary",isBusy:t,accessibleWhenDisabled:!0,disabled:t,onClick:()=>{s(!0),function(){const e=document.getElementById("toggle-custom-fields-form");e.querySelector('[name="_wp_http_referer"]').setAttribute("value",(0,M.getPathAndQueryString)(window.location.href)),e.submit()}()},children:e?(0,y.__)("Show & Reload Page"):(0,y.__)("Hide & Reload Page")})]})}function ht({label:e}){const t=(0,d.useSelect)((e=>!!e(g.store).getEditorSettings().enableCustomFields),[]),[s,o]=(0,l.useState)(t);return(0,i.jsx)(gt,{label:e,isChecked:s,onChange:o,children:s!==t&&(0,i.jsx)(mt,{willEnable:s})})}const{PreferenceBaseOption:wt}=L(p.privateApis);function _t(e){const{toggleEditorPanelEnabled:t}=(0,d.useDispatch)(g.store),{isChecked:s,isRemoved:o}=(0,d.useSelect)((t=>{const{isEditorPanelEnabled:s,isEditorPanelRemoved:o}=t(g.store);return{isChecked:s(e.panelName),isRemoved:o(e.panelName)}}),[e.panelName]);return o?null:(0,i.jsx)(wt,{isChecked:s,onChange:()=>t(e.panelName),...e})}const{PreferencesModalSection:ft}=L(p.privateApis);var xt=(0,d.withSelect)((e=>{const{getEditorSettings:t}=e(g.store),{getAllMetaBoxes:s}=e(ot);return{areCustomFieldsRegistered:void 0!==t().enableCustomFields,metaBoxes:s()}}))((function({areCustomFieldsRegistered:e,metaBoxes:t,...s}){const o=t.filter((({id:e})=>"postcustom"!==e));return e||0!==o.length?(0,i.jsxs)(ft,{...s,children:[e&&(0,i.jsx)(ht,{label:(0,y.__)("Custom fields")}),o.map((({id:e,title:t})=>(0,i.jsx)(_t,{label:t,panelName:`meta-box-${e}`},e)))]}):null}));const{PreferenceToggleControl:yt}=L(p.privateApis),{PreferencesModal:vt}=L(g.privateApis);function bt(){const e={general:(0,i.jsx)(xt,{title:(0,y.__)("Advanced")}),appearance:(0,i.jsx)(yt,{scope:"core/edit-post",featureName:"themeStyles",help:(0,y.__)("Make the editor look like your theme."),label:(0,y.__)("Use theme styles")})};return(0,i.jsx)(vt,{extraSections:e})}const{ToolsMoreMenuGroup:St,ViewMoreMenuGroup:Pt}=L(g.privateApis);var Et=()=>{const e=(0,B.useViewportMatch)("large");return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(Pt,{children:(0,i.jsx)(p.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"fullscreenMode",label:(0,y.__)("Fullscreen mode"),info:(0,y.__)("Show and hide the admin user interface"),messageActivated:(0,y.__)("Fullscreen mode activated."),messageDeactivated:(0,y.__)("Fullscreen mode deactivated."),shortcut:dt.displayShortcut.secondary("f")})}),(0,i.jsxs)(St,{children:[(0,i.jsx)(pt,{}),(0,i.jsx)(ut,{})]}),(0,i.jsx)(bt,{})]})};function Mt({nonAnimatedSrc:e,animatedSrc:t}){return(0,i.jsxs)("picture",{className:"edit-post-welcome-guide__image",children:[(0,i.jsx)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,i.jsx)("img",{src:t,width:"312",height:"240",alt:""})]})}function jt(){const{toggleFeature:e}=(0,d.useDispatch)(ot);return(0,i.jsx)(k.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,y.__)("Welcome to the editor"),finishButtonText:(0,y.__)("Get started"),onFinish:()=>e("welcomeGuide"),pages:[{image:(0,i.jsx)(Mt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,y.__)("Welcome to the editor")}),(0,i.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,y.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct “block” of content.")})]})},{image:(0,i.jsx)(Mt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,y.__)("Customize each block")}),(0,i.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,y.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")})]})},{image:(0,i.jsx)(Mt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,y.__)("Explore all blocks")}),(0,i.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,l.createInterpolateElement)((0,y.__)("All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,i.jsx)("img",{alt:(0,y.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})})]})},{image:(0,i.jsx)(Mt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,y.__)("Learn more")}),(0,i.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,l.createInterpolateElement)((0,y.__)("New to the block editor? Want to learn more about using it? <a>Here's a detailed guide.</a>"),{a:(0,i.jsx)(k.ExternalLink,{href:(0,y.__)("https://wordpress.org/documentation/article/wordpress-block-editor/")})})})]})}]})}function Tt(){const{toggleFeature:e}=(0,d.useDispatch)(ot);return(0,i.jsx)(k.Guide,{className:"edit-template-welcome-guide",contentLabel:(0,y.__)("Welcome to the template editor"),finishButtonText:(0,y.__)("Get started"),onFinish:()=>e("welcomeGuideTemplate"),pages:[{image:(0,i.jsx)(Mt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.gif"}),content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"edit-post-welcome-guide__heading",children:(0,y.__)("Welcome to the template editor")}),(0,i.jsx)("p",{className:"edit-post-welcome-guide__text",children:(0,y.__)("Templates help define the layout of the site. You can customize all aspects of your posts and pages using blocks and patterns in this editor.")})]})}]})}function kt({postType:e}){const{isActive:t,isEditingTemplate:s}=(0,d.useSelect)((t=>{const{isFeatureActive:s}=t(ot),o="wp_template"===e;return{isActive:s(o?"welcomeGuideTemplate":"welcomeGuide"),isEditingTemplate:o}}),[e]);return t?s?(0,i.jsx)(Tt,{}):(0,i.jsx)(jt,{}):null}var Bt=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M6 4a2 2 0 0 0-2 2v3h1.5V6a.5.5 0 0 1 .5-.5h3V4H6Zm3 14.5H6a.5.5 0 0 1-.5-.5v-3H4v3a2 2 0 0 0 2 2h3v-1.5Zm6 1.5v-1.5h3a.5.5 0 0 0 .5-.5v-3H20v3a2 2 0 0 1-2 2h-3Zm3-16a2 2 0 0 1 2 2v3h-1.5V6a.5.5 0 0 0-.5-.5h-3V4h3Z"})});const{getLayoutStyles:It}=L(f.privateApis),{useCommandContext:At}=L(E.privateApis),{Editor:Rt,FullscreenMode:Ct}=L(g.privateApis),{BlockKeyboardShortcuts:Dt}=L(n.privateApis),Ot=["wp_template","wp_template_part","wp_block","wp_navigation"];function Nt({isLegacy:e}){const[t,s,o]=(0,d.useSelect)((e=>{const{get:t}=e(p.store),{isMetaBoxLocationVisible:s}=e(ot);return[!!t("core/edit-post","metaBoxesMainIsOpen"),t("core/edit-post","metaBoxesMainOpenHeight"),s("normal")||s("advanced")||s("side")]}),[]),{set:r}=(0,d.useDispatch)(p.store),n=(0,l.useRef)(),a=(0,B.useMediaQuery)("(max-height: 549px)"),[{min:c,max:u},g]=(0,l.useState)((()=>({}))),m=(0,B.useRefEffect)((e=>{const t=e.closest(".interface-interface-skeleton__content");if(!t)return;const s=t.querySelectorAll(":scope > .components-notice-list"),o=t.querySelector(".edit-post-meta-boxes-main__presenter"),i=new window.ResizeObserver((()=>{let e=t.offsetHeight;for(const t of s)e-=t.offsetHeight;const i=o.offsetHeight;g({min:i,max:e})}));i.observe(t);for(const e of s)i.observe(e);return()=>i.disconnect()}),[]),h=(0,l.useRef)({}),w=(0,l.useRef)(),f=(0,l.useId)(),x=(e="auto",t,s)=>{"auto"===e?t=!1:e=Math.min(u,Math.max(c,e)),t?r("core/edit-post","metaBoxesMainOpenHeight",e):a||(w.current.ariaValueNow=M(e)),s&&n.current.updateSize({height:e,width:"auto"})},v=(0,B.useEvent)((()=>({isOpen:t,openHeight:s,min:c})));if((0,l.useEffect)((()=>{const e=v();if(void 0!==e.min&&n.current){const t=a?"auto":e.openHeight,s=e.isOpen?t:e.min;x(s,!1,!0)}}),[a]),!o)return;const P=(0,i.jsxs)("div",{className:"edit-post-layout__metaboxes edit-post-meta-boxes-main__liner",hidden:!e&&!t,children:[(0,i.jsx)(lt,{location:"normal"}),(0,i.jsx)(lt,{location:"advanced"})]});if(e)return P;const E=void 0===s,M=e=>Math.round((e-c)/(u-c)*100),j=void 0===u||E?50:M(s),T=(e=!t)=>r("core/edit-post","metaBoxesMainIsOpen",e),I=(0,y.__)("Meta Boxes"),A=(0,i.jsxs)("button",{"aria-expanded":t,onClick:({detail:e})=>{const{isToggleInferred:o}=h.current;if(a||!e||o){T();x(t?c:a?"auto":s,!1,!0)}},...a&&{onMouseDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation()},children:[I,(0,i.jsx)(k.Icon,{icon:t?b:S})]}),R=!a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.Tooltip,{text:(0,y.__)("Drag to resize"),children:(0,i.jsx)("button",{ref:w,role:"separator","aria-valuenow":j,"aria-label":(0,y.__)("Drag to resize"),"aria-describedby":f,onKeyDown:e=>{const t={ArrowUp:20,ArrowDown:-20}[e.key];if(t){const o=n.current.resizable,i=t+(E?o.offsetHeight:s);x(i,!0,!0),T(i>c),e.preventDefault()}}})}),(0,i.jsx)(k.VisuallyHidden,{id:f,children:(0,y.__)("Use up and down arrow keys to resize the meta box panel.")})]}),C={as:_,ref:n,className:"edit-post-meta-boxes-main",defaultSize:{height:t?s:0},minHeight:c,maxHeight:u,enable:{top:!0},handleClasses:{top:"edit-post-meta-boxes-main__presenter"},handleComponent:{top:(0,i.jsxs)(i.Fragment,{children:[A,R]})},onPointerDown:({pointerId:e,target:t})=>{w.current?.parentElement.contains(t)&&t.setPointerCapture(e)},onResizeStart:({timeStamp:e},t,s)=>{E&&x(s.offsetHeight,!1,!0),s.classList.add("is-resizing"),h.current={timeStamp:e,maxDelta:0}},onResize:(e,t,s,o)=>{const{maxDelta:i}=h.current,r=Math.abs(o.height);h.current.maxDelta=Math.max(i,r),x(n.current.state.height)},onResizeStop:(e,t,s)=>{s.classList.remove("is-resizing");const o=e.timeStamp-h.current.timeStamp,i=e.target===w.current,{maxDelta:r}=h.current;if(a||!i&&(r<1||o<144&&r<5))h.current.isToggleInferred=!0;else{const{height:e}=n.current.state,t=e>c;T(t),t&&x(e,!0)}}};return(0,i.jsxs)(k.ResizableBox,{"aria-label":I,...C,children:[(0,i.jsx)("meta",{ref:m}),P]})}var Lt=function({postId:e,postType:t,settings:s,initialEdits:o}){!function(){const{isFullscreen:e}=(0,d.useSelect)((e=>{const{get:t}=e(p.store);return{isFullscreen:t("core/edit-post","fullscreenMode")}}),[]),{toggle:t}=(0,d.useDispatch)(p.store),{createInfoNotice:s}=(0,d.useDispatch)(P.store);(0,E.useCommand)({name:"core/toggle-fullscreen-mode",label:e?(0,y.__)("Exit fullscreen"):(0,y.__)("Enter fullscreen"),icon:Bt,callback:({close:o})=>{t("core/edit-post","fullscreenMode"),o(),s(e?(0,y.__)("Fullscreen off."):(0,y.__)("Fullscreen on."),{id:"core/edit-post/toggle-fullscreen-mode/notice",type:"snackbar",actions:[{label:(0,y.__)("Undo"),onClick:()=>{t("core/edit-post","fullscreenMode")}}]})}})}();const n=(0,d.useSelect)((e=>{const{getEditorSettings:t,getCurrentPostType:s,getDeviceType:o}=e(g.store);return"Desktop"!==o()||["wp_template","wp_block"].includes(s())||L(e(f.store)).isZoomOut()||e(r.store).getBlockTypes().every((e=>e.apiVersion>=3))}),[]),{createErrorNotice:a}=(0,d.useDispatch)(P.store),{currentPost:{postId:c,postType:u},onNavigateToEntityRecord:m,onNavigateToPreviousEntityRecord:w}=function(e,t,s){const[o,i]=(0,l.useReducer)(((e,{type:t,post:s,previousRenderingMode:o})=>"push"===t?[...e,{post:s,previousRenderingMode:o}]:"pop"===t&&e.length>1?e.slice(0,-1):e),[{post:{postId:e,postType:t}}]),{post:r,previousRenderingMode:n}=o[o.length-1],{getRenderingMode:a}=(0,d.useSelect)(g.store),{setRenderingMode:c}=(0,d.useDispatch)(g.store),p=(0,l.useCallback)((e=>{i({type:"push",post:{postId:e.postId,postType:e.postType},previousRenderingMode:a()}),c(s)}),[a,c,s]),u=(0,l.useCallback)((()=>{i({type:"pop"}),n&&c(n)}),[c,n]);return{currentPost:r,onNavigateToEntityRecord:p,onNavigateToPreviousEntityRecord:o.length>1?u:void 0}}(e,t,"post-only"),_="wp_template"===u,{mode:v,isFullscreenActive:b,hasResolvedMode:S,hasActiveMetaboxes:I,hasBlockSelected:A,showIconLabels:R,isDistractionFree:C,showMetaBoxes:D,isWelcomeGuideVisible:O,templateId:N,enablePaddingAppender:F,isDevicePreview:V}=(0,d.useSelect)((e=>{const{get:t}=e(p.store),{isFeatureActive:o,hasMetaBoxes:i}=e(ot),{canUser:r,getPostType:n,getTemplateId:a}=L(e(T.store)),l=s.supportsTemplateMode,d=n(u)?.viewable??!1,m=r("read",{kind:"postType",name:"wp_template"}),{getBlockSelectionStart:h,isZoomOut:x}=L(e(f.store)),{getEditorMode:y,getRenderingMode:v,getDefaultRenderingMode:b,getDeviceType:S}=L(e(g.store)),P="post-only"===v(),E=!Ot.includes(u),M="wp_block"===u&&!w,j=a(u,c),k=b(u);return{mode:y(),isFullscreenActive:o("fullscreenMode"),hasActiveMetaboxes:i(),hasResolvedMode:"template-locked"===k?!!j:void 0!==k,hasBlockSelected:!!h(),showIconLabels:t("core","showIconLabels"),isDistractionFree:t("core","distractionFree"),showMetaBoxes:E&&!x()||M,isWelcomeGuideVisible:o("welcomeGuide"),templateId:l&&d&&m&&!_?j:null,enablePaddingAppender:!x()&&P&&E,isDevicePreview:"Desktop"!==S()}}),[u,c,_,s.supportsTemplateMode,w]);(e=>{const t=(0,d.useSelect)((t=>e&&t(g.store).__unstableIsEditorReady()),[e]),{initializeMetaBoxes:s}=(0,d.useDispatch)(ot);(0,l.useEffect)((()=>{t&&s()}),[t,s])})(I&&S);const[H,U]=function(e){const t=(0,d.useRegistry)(),s=(0,B.useRefEffect)((e=>{function s(s){if(s.target!==e&&s.target!==e.parentElement)return;const o=e.lastElementChild;if(!o)return;const i=o.getBoundingClientRect();if(s.clientY<i.bottom)return;s.preventDefault();const n=t.select(f.store).getBlockOrder(""),a=n[n.length-1],c=t.select(f.store).getBlock(a),{selectBlock:l,insertDefaultBlock:d}=t.dispatch(f.store);c&&(0,r.isUnmodifiedDefaultBlock)(c)?l(a):d()}const{ownerDocument:o}=e;return o.addEventListener("pointerdown",s),()=>{o.removeEventListener("pointerdown",s)}}),[t]);return e?[s,':root :where(.editor-styles-wrapper)::after {content: ""; display: block; height: 40vh;}']:[]}(F);At(A?"block-selection-edit":"entity-edit");const q=(0,l.useMemo)((()=>({...s,onNavigateToEntityRecord:m,onNavigateToPreviousEntityRecord:w,defaultRenderingMode:"post-only"})),[s,m,w]),W=function(...e){const{hasThemeStyleSupport:t,editorSettings:s}=(0,d.useSelect)((e=>({hasThemeStyleSupport:e(ot).isFeatureActive("themeStyles"),editorSettings:e(g.store).getEditorSettings()})),[]),o=e.join("\n");return(0,l.useMemo)((()=>{const e=s.styles?.filter((e=>e.__unstableType&&"theme"!==e.__unstableType))??[],i=[...s?.defaultEditorStyles??[],...e],r=t&&e.length!==(s.styles?.length??0);s.disableLayoutStyles||r||i.push({css:It({style:{},selector:"body",hasBlockGapSupport:!1,hasFallbackGapSupport:!0,fallbackGapValue:"0.5em"})});const n=r?s.styles??[]:i;return o?[...n,{css:o}]:n}),[s.defaultEditorStyles,s.disableLayoutStyles,s.styles,t,o])}(U);R?document.body.classList.add("show-icon-labels"):document.body.classList.remove("show-icon-labels");const Q=(0,k.__unstableUseNavigateRegions)(),X=h("edit-post-layout","is-mode-"+v,{"has-metaboxes":I}),{createSuccessNotice:Z}=(0,d.useDispatch)(P.store),$=(0,l.useCallback)(((e,t)=>{switch(e){case"move-to-trash":document.location.href=(0,M.addQueryArgs)("edit.php",{trashed:1,post_type:t[0].type,ids:t[0].id});break;case"duplicate-post":{const e=t[0],s="string"==typeof e.title?e.title:e.title?.rendered;Z((0,y.sprintf)((0,y.__)('"%s" successfully created.'),(0,j.decodeEntities)(s)||(0,y.__)("(no title)")),{type:"snackbar",id:"duplicate-post-action",actions:[{label:(0,y.__)("Edit"),onClick:()=>{const t=e.id;document.location.href=(0,M.addQueryArgs)("post.php",{post:t,action:"edit"})}}]})}}}),[Z]),Y=(0,l.useMemo)((()=>({type:t,id:e})),[t,e]),K=(0,B.useViewportMatch)("medium")&&b?(0,i.jsx)(z,{initialPost:Y}):null;return(0,i.jsx)(k.SlotFillProvider,{children:(0,i.jsxs)(g.ErrorBoundary,{canCopyContent:!0,children:[(0,i.jsx)(kt,{postType:u}),(0,i.jsx)("div",{className:Q.className,...Q,ref:Q.ref,children:(0,i.jsxs)(Rt,{settings:q,initialEdits:o,postType:u,postId:c,templateId:N,className:X,styles:W,forceIsDirty:I,contentRef:H,disableIframe:!n,autoFocus:!O,onActionPerformed:$,extraSidebarPanels:D&&(0,i.jsx)(lt,{location:"side"}),extraContent:!C&&D&&(0,i.jsx)(Nt,{isLegacy:!n||V}),children:[(0,i.jsx)(g.PostLockedModal,{}),(0,i.jsx)(G,{}),(0,i.jsx)(Ct,{isActive:b}),(0,i.jsx)(nt,{}),(0,i.jsx)(g.UnsavedChangesWarning,{}),(0,i.jsx)(g.AutosaveMonitor,{}),(0,i.jsx)(g.LocalAutosaveMonitor,{}),(0,i.jsx)(it,{}),(0,i.jsx)(g.EditorKeyboardShortcutsRegister,{}),(0,i.jsx)(Dt,{}),(0,i.jsx)(rt,{}),(0,i.jsx)(x.PluginArea,{onError:function(e){a((0,y.sprintf)((0,y.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}),(0,i.jsx)(Et,{}),K,(0,i.jsx)(g.EditorSnackbars,{})]})})]})})};const{PluginPostExcerpt:Ft}=L(g.privateApis),Vt=(0,M.getPath)(window.location.href)?.includes("site-editor.php"),zt=e=>{c()(`wp.editPost.${e}`,{since:"6.6",alternative:`wp.editor.${e}`})};function Gt(e){return Vt?null:(zt("PluginBlockSettingsMenuItem"),(0,i.jsx)(g.PluginBlockSettingsMenuItem,{...e}))}function Ht(e){return Vt?null:(zt("PluginDocumentSettingPanel"),(0,i.jsx)(g.PluginDocumentSettingPanel,{...e}))}function Ut(e){return Vt?null:(zt("PluginMoreMenuItem"),(0,i.jsx)(g.PluginMoreMenuItem,{...e}))}function qt(e){return Vt?null:(zt("PluginPrePublishPanel"),(0,i.jsx)(g.PluginPrePublishPanel,{...e}))}function Wt(e){return Vt?null:(zt("PluginPostPublishPanel"),(0,i.jsx)(g.PluginPostPublishPanel,{...e}))}function Qt(e){return Vt?null:(zt("PluginPostStatusInfo"),(0,i.jsx)(g.PluginPostStatusInfo,{...e}))}function Xt(e){return Vt?null:(zt("PluginSidebar"),(0,i.jsx)(g.PluginSidebar,{...e}))}function Zt(e){return Vt?null:(zt("PluginSidebarMoreMenuItem"),(0,i.jsx)(g.PluginSidebarMoreMenuItem,{...e}))}function $t(){return Vt?null:(c()("wp.editPost.__experimentalPluginPostExcerpt",{since:"6.6",hint:"Core and custom panels can be access programmatically using their panel name.",link:"https://developer.wordpress.org/block-editor/reference-guides/slotfills/plugin-document-setting-panel/#accessing-a-panel-programmatically"}),Ft)}const{BackButton:Yt,registerCoreBlockBindingsSources:Kt}=L(g.privateApis);function Jt(e,t,s,o,a){const c=window.matchMedia("(min-width: 782px)").matches,m=document.getElementById(e),h=(0,l.createRoot)(m);(0,d.dispatch)(p.store).setDefaults("core/edit-post",{fullscreenMode:!0,themeStyles:!0,welcomeGuide:!0,welcomeGuideTemplate:!0}),(0,d.dispatch)(p.store).setDefaults("core",{allowRightClickOverrides:!0,editorMode:"visual",editorTool:"edit",fixedToolbar:!1,hiddenBlockTypes:[],inactivePanels:[],openPanels:["post-status"],showBlockBreadcrumbs:!0,showIconLabels:!1,showListViewByDefault:!1,enableChoosePatternModal:!0,isPublishSidebarEnabled:!0}),window.__experimentalMediaProcessing&&(0,d.dispatch)(p.store).setDefaults("core/media",{requireApproval:!0,optimizeOnUpload:!0}),(0,d.dispatch)(r.store).reapplyBlockTypeFilters(),c&&(0,d.select)(p.store).get("core","showListViewByDefault")&&!(0,d.select)(p.store).get("core","distractionFree")&&(0,d.dispatch)(g.store).setIsListViewOpened(!0),(0,n.registerCoreBlocks)(),Kt(),(0,u.registerLegacyWidgetBlock)({inserter:!1}),(0,u.registerWidgetGroupBlock)({inserter:!1});"Standards"!==("CSS1Compat"===document.compatMode?"Standards":"Quirks")&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins.");return-1!==window.navigator.userAgent.indexOf("iPhone")&&window.addEventListener("scroll",(e=>{const t=document.getElementsByClassName("interface-interface-skeleton__body")[0];e.target===document&&(window.scrollY>100&&(t.scrollTop=t.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0]&&window.scrollTo(0,0))})),window.addEventListener("dragover",(e=>e.preventDefault()),!1),window.addEventListener("drop",(e=>e.preventDefault()),!1),h.render((0,i.jsx)(l.StrictMode,{children:(0,i.jsx)(Lt,{settings:o,postId:s,postType:t,initialEdits:a})})),h}function es(){c()("wp.editPost.reinitializeEditor",{since:"6.2",version:"6.3"})}(window.wp=window.wp||{}).editPost=t})();