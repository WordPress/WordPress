{"version":3,"sources":["webpack://wp.[name]/webpack/bootstrap","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://wp.[name]/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/archives/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/archives/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/audio/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/audio/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/block/edit-panel/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/block/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/block/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/block/indicator/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/button/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/button/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/categories/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/categories/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/classic/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/classic/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/code/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/code/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/columns/column.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/columns/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/cover/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/constants.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/core-embeds.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/embed-controls.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/embed-loading.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/embed-placeholder.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/embed-preview.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/icons.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/settings.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/util.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/embed/wp-embed-preview.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/file/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/file/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/file/inspector.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/gallery/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/gallery/gallery-image.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/gallery/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/heading/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/heading/heading-toolbar.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/heading/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/html/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/image/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/image/image-size.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/image/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/latest-comments/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/latest-comments/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/latest-posts/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/latest-posts/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/list/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/media-text/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/media-text/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/media-text/media-container.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/missing/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/more/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/more/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/nextpage/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/nextpage/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/paragraph/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/paragraph/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/preformatted/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/pullquote/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/pullquote/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/quote/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/separator/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/shortcode/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/spacer/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/subhead/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/table/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/table/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/table/state.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/template/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/text-columns/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/verse/index.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/video/edit.js","webpack://wp.[name]//Users/andrew/Documents/Code/vvv/www/editor/htdocs/wp-content/plugins/gutenberg/packages/block-library/src/video/index.js","webpack://wp.[name]/./node_modules/classnames/dedupe.js","webpack://wp.[name]/./node_modules/classnames/index.js","webpack://wp.[name]/./node_modules/memize/index.js","webpack://wp.[name]/./node_modules/punycode/punycode.js","webpack://wp.[name]/./node_modules/querystring-es3/decode.js","webpack://wp.[name]/./node_modules/querystring-es3/encode.js","webpack://wp.[name]/./node_modules/querystring-es3/index.js","webpack://wp.[name]/./node_modules/url/url.js","webpack://wp.[name]/./node_modules/url/util.js","webpack://wp.[name]/(webpack)/buildin/global.js","webpack://wp.[name]/(webpack)/buildin/module.js","webpack://wp.[name]/external {\"this\":[\"wp\",\"apiFetch\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"autop\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"blob\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"blocks\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"components\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"compose\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"coreData\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"data\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"date\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"deprecated\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"editor\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"element\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"htmlEntities\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"i18n\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"keycodes\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"richText\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"url\"]}","webpack://wp.[name]/external {\"this\":[\"wp\",\"viewport\"]}","webpack://wp.[name]/external \"lodash\""],"names":["ArchivesEdit","attributes","setAttributes","align","showPostCounts","displayAsDropdown","__","nextAlign","name","settings","title","description","icon","category","supports","html","getEditWrapperProps","includes","edit","save","ALLOWED_MEDIA_TYPES","AudioEdit","arguments","state","editing","props","src","toggleAttribute","bind","onSelectURL","noticeOperations","id","isBlobURL","file","getBlobByURL","mediaUpload","filesList","onFileChange","mediaId","url","onError","e","undefined","setState","createErrorNotice","allowedTypes","attribute","newValue","newSrc","embedBlock","createUpgradedEmbedBlock","onReplace","autoplay","caption","loop","preload","isSelected","className","noticeUI","switchToEditing","onSelectAudio","media","value","label","RichText","isEmpty","Component","withNotices","type","source","selector","transforms","from","isMatch","files","length","indexOf","transform","block","createBlock","createBlobURL","ReusableBlockEditPanel","titleField","createRef","editButton","handleFormSubmit","handleTitleChange","handleTitleKeyDown","isEditing","current","select","prevProps","isSaving","focus","event","preventDefault","onSave","onChangeTitle","target","keyCode","ESCAPE","stopPropagation","onCancel","onEdit","instanceId","withInstanceId","ReusableBlockEdit","reusableBlock","startEditing","stopEditing","setTitle","isTemporary","changedAttributes","fetchReusableBlock","prevState","onUpdateTitle","updateAttributes","clientId","isFetching","element","noop","compose","withSelect","ownProps","getReusableBlock","__experimentalGetReusableBlock","isFetchingReusableBlock","__experimentalIsFetchingReusableBlock","isSavingReusableBlock","__experimentalIsSavingReusableBlock","getBlock","ref","withDispatch","dispatch","fetchReusableBlocks","__experimentalFetchReusableBlocks","updateBlockAttributes","updateReusableBlockTitle","__experimentalUpdateReusableBlockTitle","saveReusableBlock","__experimentalSaveReusableBlock","partial","customClassName","inserter","ReusableBlockIndicator","tooltipText","sprintf","window","getComputedStyle","applyFallbackStyles","withFallbackStyles","node","textColor","backgroundColor","backgroundColorValue","color","textColorValue","textNode","querySelector","fallbackBackgroundColor","fallbackTextColor","ButtonEdit","nodeRef","bindRef","setBackgroundColor","setTextColor","text","classnames","class","onChange","isLargeText","withColors","blockAttributes","customBackgroundColor","customTextColor","colorsMigration","omit","alignWide","styles","_x","isDefault","textClass","getColorClassName","backgroundClass","buttonClasses","buttonStyle","deprecated","pick","default","linkClass","migrate","CategoriesEdit","toggleDisplayAsDropdown","toggleShowPostCounts","toggleShowHierarchy","showHierarchy","parentId","categories","filter","parent","level","unescape","trim","getCategories","getCategoryListClassName","map","renderCategoryListItem","childCategories","link","renderCategoryName","count","childCategory","selectId","renderCategoryDropdownItem","times","isRequesting","inspectorControls","renderCategoryDropdown","renderCategoryList","getEntityRecords","isResolving","query","per_page","isTmceEmpty","editor","body","getBody","childNodes","test","innerText","textContent","ClassicEdit","initialize","onSetup","wpEditorL10n","tinymce","baseURL","suffix","EditorManager","overrideDefaults","base_url","document","readyState","addEventListener","wp","oldEditor","remove","content","get","setContent","inline","content_css","fixed_toolbar_container","setup","on","getContent","BACKSPACE","DELETE","stopImmediatePropagation","altKey","F10","addButton","tooltip","onClick","button","active","dom","toggleClass","toolbar1","addClass","cmd","rootNode","activeElement","blur","nativeEvent","onToolbarKeyDown","reusable","CodeEdit","regExp","nodeName","children","firstChild","schema","pre","code","ALLOWED_BLOCKS","getColumnsTemplate","memoize","columns","getDeprecatedLayoutColumn","originalContent","doc","implementation","createHTMLDocument","columnMatch","innerHTML","classList","classListItem","match","Number","isEligible","innerBlocks","isFastPassEligible","some","innerBlock","reduce","result","columnIndex","push","migratedInnerBlocks","columnBlocks","classes","nextColumns","validAlignments","contentAlign","hasParallax","dimRatio","overlayColor","customOverlayColor","backgroundType","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","blocks","to","setOverlayColor","updateAlignment","onSelectMedia","mediaType","media_type","toggleParallax","setDimRatio","ratio","newTitle","style","backgroundImageStyles","dimRatioToClass","controls","open","hasTitle","instructions","overlayColorClass","Math","round","backgroundImage","HOSTS_NO_PREVIEWS","ASPECT_RATIOS","DEFAULT_EMBED_BLOCK","WORDPRESS_EMBED_BLOCK","common","embedTwitterIcon","keywords","patterns","embedYouTubeIcon","embedFacebookIcon","embedInstagramIcon","embedWordPressIcon","responsive","embedAudioIcon","embedSpotifyIcon","embedFlickrIcon","embedVimeoIcon","others","embedVideoIcon","embedContentIcon","embedPhotoIcon","embedRedditIcon","embedTumbrIcon","getEmbedEditComponent","switchBackToURLInput","setUrl","getAttributesFromPreview","setAttributesFromPreview","getResponsiveHelp","toggleResponsive","handleIncomingPreview","editingURL","preview","allowResponsive","upgradedBlock","hasPreview","hadPreview","switchedPreview","switchedURL","cannotEmbed","providerName","provider_name","providerNameSlug","kebabCase","toLower","isFromWordPress","getClassNames","checked","newAllowResponsive","fetching","themeSupportsResponsive","EmbedControls","blockSupportsResponsive","showEditButton","EmbedLoading","EmbedPlaceholder","onSubmit","EmbedPreview","onCaptionChange","scripts","getPhotoHtml","parsedUrl","parse","cannotPreview","host","replace","iframeTitle","sandboxClassnames","embedWrapper","foreground","getEmbedBlockSettings","commonEmbeds","embedDefinition","otherEmbeds","embedAttributes","blockDescription","core","getEmbedPreview","isPreviewEmbedFallback","isRequestingEmbedPreview","getThemeSupports","previewIsFallback","themeSupports","badEmbedProvider","wordpressCantEmbed","data","status","validPreview","embedClassName","matchesPatterns","pattern","findBlock","photo","photoPreview","thumbnail_url","renderToString","attributesFromPreview","matchingBlock","existingClassNames","aspectRatioClassNames","ratioIndex","aspectRatioToRemove","previewDocument","iframe","height","width","aspectRatio","toFixed","potentialRatio","FocusEvent","WpEmbedPreview","checkFocus","tagName","parentNode","focusEvent","bubbles","dispatchEvent","__html","withGlobalEvents","FileEdit","onSelectFile","confirmCopyURL","resetCopyConfirmation","changeLinkDestinationOption","changeOpenInNewWindow","changeShowDownloadButton","hasError","showCopyConfirmation","href","message","revokeBlobURL","fileName","textLinkHref","newHref","textLinkTarget","showDownloadButton","downloadButtonText","attachmentPage","openInNewWindow","getMedia","priority","blobURL","mime_type","getDownloadButtonHelp","FileBlockInspector","hrefs","linkDestinationOptions","MAX_COLUMNS","linkOptions","defaultColumnsNumber","min","images","pickRelevantMediaFiles","image","imageProps","GalleryEdit","onSelectImage","onSelectImages","setLinkTo","setColumnsNumber","toggleImageCrop","onRemoveImage","setImageAttributes","addFiles","uploadFromFiles","selectedImage","ids","Error","index","img","i","linkTo","imageCrop","slice","currentImages","imagesNormalized","concat","captionSelected","dropZone","getImageCropHelp","ariaLabel","alt","attrs","GalleryImage","onImageClick","onSelectCaption","onKeyDown","bindContainer","container","onSelect","onRemove","source_url","alt_text","newCaption","parseShortcodeIds","split","parseInt","isMultiBlock","validImages","tag","shortcode","named","every","imagesAttr","HeadingEdit","mergeBlocks","insertBlocksAfter","placeholder","newLevel","before","after","textAlign","HeadingToolbar","targetLevel","selectedLevel","isActive","subscript","String","minLevel","maxLevel","range","createLevelControl","getLevelFromHeadingNodeName","substr","anchor","h1","getPhrasingContentSchema","h2","h3","h4","h5","h6","getBlockAttributes","outerHTML","prefix","Array","join","property","migratedAttributes","toLowerCase","merge","attributesToMerge","figure","require","figcaption","withState","isPreview","isDisabled","MIN_SIZE","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_CUSTOM","NEW_TAB_REL","isTemporaryImage","isExternalImage","ImageEdit","updateAlt","onFocusCaption","updateImageURL","updateWidth","updateHeight","updateDimensions","onSetCustomHref","onSetLinkClass","onSetLinkRel","onSetLinkDestination","onSetNewTab","getFilename","toggleIsEditing","onUploadError","onImageError","captionFocused","prevID","prevURL","linkDestination","newURL","rel","linkTarget","updatedRel","newAlt","extraUpdatedAttributes","path","getPath","last","imageSizes","compact","slug","sizeUrl","isLargeViewport","maxWidth","toggleSelection","isRTL","isExternal","imageSizeOptions","getImageSizeOptions","toolbarEditButton","isResizable","isLinkURLInputReadOnly","getInspectorControls","imageWidth","imageHeight","scale","scaledWidth","scaledHeight","isCurrent","getLinkDestinationOptions","sizes","imageWidthWithinContainer","imageHeightWithinContainer","filename","defaultedAlt","currentWidth","currentHeight","minWidth","minHeight","maxWidthBuffer","showRightHandle","showLeftHandle","top","right","bottom","left","direction","elt","delta","getEditorSettings","withViewportMatch","ImageSize","calculateSize","fetchImageSize","dirtynessTrigger","onload","Image","clientWidth","exceedMaxWidth","containerWidth","containerHeight","clientHeight","resize","imageSchema","a","alignMatches","exec","idMatches","anchorElement","extraImageProps","figureStyle","registerCoreBlocks","paragraph","heading","gallery","list","quote","archives","audio","column","cover","embed","classic","mediaText","latestComments","latestPosts","missing","more","nextpage","preformatted","pullquote","separator","spacer","subhead","table","template","textColumns","verse","video","forEach","registerBlockType","setDefaultBlockName","setFreeformContentHandlerName","setUnregisteredTypeHandlerName","MIN_COMMENTS","MAX_COMMENTS","LatestComments","setAlignment","setCommentsToShow","toggleDisplayAvatar","createToggleAttribute","toggleDisplayDate","toggleDisplayExcerpt","propName","commentsToShow","displayAvatar","displayDate","displayExcerpt","CATEGORIES_LIST_QUERY","MAX_POSTS_COLUMNS","LatestPostsEdit","categoriesList","toggleDisplayPostDate","isStillMounted","fetchRequest","apiFetch","addQueryArgs","then","catch","displayPostDate","postLayout","order","orderBy","postsToShow","hasPosts","isArray","displayPosts","layoutControls","dateFormat","__experimentalGetSettings","formats","date","post","decodeEntities","rendered","date_gmt","format","dateI18n","latestPostsQuery","pickBy","orderby","isUndefined","listContentSchema","ul","ol","li","ordered","values","multiline","toHTMLString","create","LINE_SEPARATOR","multilineTag","multilineWrapperTags","piece","nextValues","TEMPLATE","fontSize","MediaTextEdit","onWidthChange","commitWidthChange","mediaWidth","mediaAlt","mediaUrl","mediaPosition","isStackedOnMobile","temporaryMediaWidth","classNames","widthString","gridTemplateColumns","colorSettings","toolbarControls","onMediaAltChange","newMediaAlt","mediaTextGeneralSettings","renderMediaArea","DEFAULT_MEDIA_WIDTH","mediaTypeRenders","MediaContainer","renderToolbarEditButton","onResize","onResizeStop","enablePositions","mediaElement","renderImage","renderVideo","renderPlaceholder","MissingBlockWarning","convertToHTML","originalName","originalUndelimitedContent","hasContent","hasHTMLBlock","getBlockType","actions","messageHTML","replaceBlock","MoreEdit","onChangeInput","defaultText","customText","ENTER","getDefaultBlockName","noTeaser","toggleNoTeaser","inputLength","multiple","dataset","moreTag","noTeaserTag","NextPageEdit","customFontSize","editableNode","computedStyles","fallbackFontSize","ParagraphBlock","toggleDropCap","splitBlock","dropCap","setFontSize","nextDirection","size","getDropCapHelp","nextContent","ParagraphEdit","withFontSizes","enum","p","fontSizeClass","isFinite","getFontSizeClass","SOLID_COLOR_STYLE_NAME","SOLID_COLOR_CLASS","PullQuoteEdit","wasTextColorAutomaticallyComputed","pullQuoteMainColorSetter","pullQuoteTextColorSetter","colorValue","colorUtils","setMainColor","isSolidColorStyle","needTextColor","shouldSetTextColor","getMostReadableColor","mainColor","citation","borderColor","blockquoteStyle","blockquoteClasses","nextValue","nextCitation","customMainColor","figureClass","figureStyles","colors","colorObject","getColorObjectByAttributeValues","blockquoteTextColorClass","ATTRIBUTE_QUOTE","ATTRIBUTE_CITATION","child","blockquote","paragraphs","pieces","quotePieces","forward","hasEmptyCitation","hr","removep","autop","inputId","topRight","bottomRight","bottomLeft","topLeft","alternative","plugin","TableEdit","onCreateTable","onChangeFixedLayout","onChangeInitialColumnCount","onChangeInitialRowCount","renderSection","getTableControls","onInsertRow","onInsertRowBefore","onInsertRowAfter","onDeleteRow","onInsertColumn","onInsertColumnBefore","onInsertColumnAfter","onDeleteColumn","initialRowCount","initialColumnCount","selectedCell","createTable","rowCount","columnCount","hasFixedLayout","section","rowIndex","updateCellContent","insertRow","deleteRow","insertColumn","deleteColumn","rows","Tag","cells","CellTag","cell","createOnFocus","head","foot","Section","tableContentPasteSchema","tr","th","td","tablePasteSchema","thead","tfoot","tbody","getTableSectionAttributeSchema","cellIndex","row","currentRowIndex","currentColumnIndex","cellCount","nextWidth","VIDEO_POSTER_ALLOWED_MEDIA_TYPES","VideoEdit","videoPlayer","posterImageButton","onSelectPoster","onRemovePoster","poster","load","muted","onSelectVideo"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;;ACRA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACNA;AAAA;AAAe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACJA;AAAA;AAAA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACdA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACbA;AAAA;AAAe;AACf;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AChBA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACLA;AAAA;AAAA;AAA8C;AAC/B;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,+DAAc;AAChC,C;;;;;;;;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AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA,OAAO;AACP,IAAI;AACJ;;AAEA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;AAEF,KAAK,KAA6B;AAClC;AACA;AACA,EAAE,UAAU,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAEN;AACF,CAAC;;;;;;;;;;;;AC7GD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK,KAA6B;AAClC;AACA;AACA,EAAE,UAAU,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAEN;AACF,CAAC;;;;;;;;;;;;ACnDD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc,SAAS;AACvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAM,KAA+B,GAAG,EAMtC;;AAEF;AACA;;;;;;;;;;;;ACpHA;AACA,CAAC;;AAED;AACA,mBAAmB,KAA0B;AAC7C;AACA,kBAAkB,KAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,KAAK;AACL,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;;AAExB,yCAAyC,qBAAqB;;AAE9D;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;;AAEtD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAEU;AACZ;AACA,EAAE,mCAAmB;AACrB;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAaN;;AAEF,CAAC;;;;;;;;;;;;;;ACphBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpFa;;AAEb,iCAAiC,mBAAO,CAAC,0DAAU;AACnD,qCAAqC,mBAAO,CAAC,0DAAU;;;;;;;;;;;;;ACHvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,eAAe,mBAAO,CAAC,qDAAU;AACjC,WAAW,mBAAO,CAAC,0CAAQ;;AAE3B;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAK;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,2CAA2C,KAAK;AAChD,0CAA0C,KAAK;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kBAAkB,mBAAO,CAAC,4DAAa;;AAEvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3tBa;;AAEb;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;ACfA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;ACrBA,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,sCAAsC,EAAE,I;;;;;;;;;;;ACArD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,6CAA6C,EAAE,I;;;;;;;;;;;ACA5D,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,iCAAiC,EAAE,I","file":"block-library.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./node_modules/@wordpress/block-library/build-module/index.js\");\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport {\n\tPanelBody,\n\tToggleControl,\n\tDisabled,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tInspectorControls,\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\tServerSideRender,\n} from '@wordpress/editor';\n\nexport default function ArchivesEdit( { attributes, setAttributes } ) {\n\tconst { align, showPostCounts, displayAsDropdown } = attributes;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Archives Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display as Dropdown' ) }\n\t\t\t\t\t\tchecked={ displayAsDropdown }\n\t\t\t\t\t\tonChange={ () => setAttributes( { displayAsDropdown: ! displayAsDropdown } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show Post Counts' ) }\n\t\t\t\t\t\tchecked={ showPostCounts }\n\t\t\t\t\t\tonChange={ () => setAttributes( { showPostCounts: ! showPostCounts } ) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\tvalue={ align }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t\tcontrols={ [ 'left', 'center', 'right' ] }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<Disabled>\n\t\t\t\t<ServerSideRender block=\"core/archives\" attributes={ attributes } />\n\t\t\t</Disabled>\n\t\t</Fragment>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { G, Path, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/archives';\n\nexport const settings = {\n\ttitle: __( 'Archives' ),\n\n\tdescription: __( 'Display a monthly archive of your posts.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M7 11h2v2H7v-2zm14-5v14l-2 2H5l-2-2V6l2-2h1V2h2v2h8V2h2v2h1l2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z\" /></G></SVG>,\n\n\tcategory: 'widgets',\n\n\tsupports: {\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align } = attributes;\n\t\tif ( [ 'left', 'center', 'right' ].includes( align ) ) {\n\t\t\treturn { 'data-align': align };\n\t\t}\n\t},\n\n\tedit,\n\n\tsave() {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tDisabled,\n\tIconButton,\n\tPanelBody,\n\tSelectControl,\n\tToolbar,\n\tToggleControl,\n\twithNotices,\n} from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tRichText,\n\tmediaUpload,\n} from '@wordpress/editor';\nimport { getBlobByURL, isBlobURL } from '@wordpress/blob';\n\n/**\n * Internal dependencies\n */\nimport { createUpgradedEmbedBlock } from '../embed/util';\n\nconst ALLOWED_MEDIA_TYPES = [ 'audio' ];\n\nclass AudioEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\t// edit component has its own src in the state so it can be edited\n\t\t// without setting the actual value outside of the edit UI\n\t\tthis.state = {\n\t\t\tediting: ! this.props.attributes.src,\n\t\t};\n\n\t\tthis.toggleAttribute = this.toggleAttribute.bind( this );\n\t\tthis.onSelectURL = this.onSelectURL.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { attributes, noticeOperations, setAttributes } = this.props;\n\t\tconst { id, src = '' } = attributes;\n\n\t\tif ( ! id && isBlobURL( src ) ) {\n\t\t\tconst file = getBlobByURL( src );\n\n\t\t\tif ( file ) {\n\t\t\t\tmediaUpload( {\n\t\t\t\t\tfilesList: [ file ],\n\t\t\t\t\tonFileChange: ( [ { id: mediaId, url } ] ) => {\n\t\t\t\t\t\tsetAttributes( { id: mediaId, src: url } );\n\t\t\t\t\t},\n\t\t\t\t\tonError: ( e ) => {\n\t\t\t\t\t\tsetAttributes( { src: undefined, id: undefined } );\n\t\t\t\t\t\tthis.setState( { editing: true } );\n\t\t\t\t\t\tnoticeOperations.createErrorNotice( e );\n\t\t\t\t\t},\n\t\t\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleAttribute( attribute ) {\n\t\treturn ( newValue ) => {\n\t\t\tthis.props.setAttributes( { [ attribute ]: newValue } );\n\t\t};\n\t}\n\n\tonSelectURL( newSrc ) {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { src } = attributes;\n\n\t\t// Set the block's src from the edit component's state, and switch off\n\t\t// the editing UI.\n\t\tif ( newSrc !== src ) {\n\t\t\t// Check if there's an embed block that handles this URL.\n\t\t\tconst embedBlock = createUpgradedEmbedBlock(\n\t\t\t\t{ attributes: { url: newSrc } }\n\t\t\t);\n\t\t\tif ( undefined !== embedBlock ) {\n\t\t\t\tthis.props.onReplace( embedBlock );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetAttributes( { src: newSrc, id: undefined } );\n\t\t}\n\n\t\tthis.setState( { editing: false } );\n\t}\n\n\trender() {\n\t\tconst { autoplay, caption, loop, preload, src } = this.props.attributes;\n\t\tconst { setAttributes, isSelected, className, noticeOperations, noticeUI } = this.props;\n\t\tconst { editing } = this.state;\n\t\tconst switchToEditing = () => {\n\t\t\tthis.setState( { editing: true } );\n\t\t};\n\t\tconst onSelectAudio = ( media ) => {\n\t\t\tif ( ! media || ! media.url ) {\n\t\t\t\t// in this case there was an error and we should continue in the editing state\n\t\t\t\t// previous attributes should be removed because they may be temporary blob urls\n\t\t\t\tsetAttributes( { src: undefined, id: undefined } );\n\t\t\t\tswitchToEditing();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// sets the block's attribute and updates the edit component from the\n\t\t\t// selected media, then switches off the editing UI\n\t\t\tsetAttributes( { src: media.url, id: media.id } );\n\t\t\tthis.setState( { src: media.url, editing: false } );\n\t\t};\n\t\tif ( editing ) {\n\t\t\treturn (\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon=\"media-audio\"\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tonSelect={ onSelectAudio }\n\t\t\t\t\tonSelectURL={ this.onSelectURL }\n\t\t\t\t\taccept=\"audio/*\"\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tvalue={ this.props.attributes }\n\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\tonError={ noticeOperations.createErrorNotice }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"components-icon-button components-toolbar__control\"\n\t\t\t\t\t\t\tlabel={ __( 'Edit audio' ) }\n\t\t\t\t\t\t\tonClick={ switchToEditing }\n\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Audio Settings' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Autoplay' ) }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'autoplay' ) }\n\t\t\t\t\t\t\tchecked={ autoplay }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Loop' ) }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'loop' ) }\n\t\t\t\t\t\t\tchecked={ loop }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Preload' ) }\n\t\t\t\t\t\t\tvalue={ undefined !== preload ? preload : 'none' }\n\t\t\t\t\t\t\t// `undefined` is required for the preload attribute to be unset.\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { preload: ( 'none' !== value ) ? value : undefined } ) }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{ value: 'auto', label: __( 'Auto' ) },\n\t\t\t\t\t\t\t\t{ value: 'metadata', label: __( 'Metadata' ) },\n\t\t\t\t\t\t\t\t{ value: 'none', label: __( 'None' ) },\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<figure className={ className }>\n\t\t\t\t\t{ /*\n\t\t\t\t\t\tDisable the audio tag so the user clicking on it won't play the\n\t\t\t\t\t\tfile or change the position slider when the controls are enabled.\n\t\t\t\t\t*/ }\n\t\t\t\t\t<Disabled>\n\t\t\t\t\t\t<audio controls=\"controls\" src={ src } />\n\t\t\t\t\t</Disabled>\n\t\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\tplaceholder={ __( 'Write caption' ) }\n\t\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { caption: value } ) }\n\t\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</figure>\n\t\t\t</Fragment>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t}\n}\n\nexport default withNotices( AudioEdit );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/editor';\nimport { SVG, Path } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport { createBlock } from '@wordpress/blocks';\nimport { createBlobURL } from '@wordpress/blob';\n\nexport const name = 'core/audio';\n\nexport const settings = {\n\ttitle: __( 'Audio' ),\n\n\tdescription: __( 'Embed a simple audio player.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"m12 3l0.01 10.55c-0.59-0.34-1.27-0.55-2-0.55-2.22 0-4.01 1.79-4.01 4s1.79 4 4.01 4 3.99-1.79 3.99-4v-10h4v-4h-6zm-1.99 16c-1.1 0-2-0.9-2-2s0.9-2 2-2 2 0.9 2 2-0.9 2-2 2z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tattributes: {\n\t\tsrc: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'src',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t},\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tautoplay: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'autoplay',\n\t\t},\n\t\tloop: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'loop',\n\t\t},\n\t\tpreload: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'audio',\n\t\t\tattribute: 'preload',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'audio/' ) === 0;\n\t\t\t\t},\n\t\t\t\ttransform( files ) {\n\t\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t\t// in the audio block\n\t\t\t\t\tconst block = createBlock( 'core/audio', {\n\t\t\t\t\t\tsrc: createBlobURL( file ),\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tsupports: {\n\t\talign: true,\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { autoplay, caption, loop, preload, src } = attributes;\n\t\treturn (\n\t\t\t<figure>\n\t\t\t\t<audio controls=\"controls\" src={ src } autoPlay={ autoplay } loop={ loop } preload={ preload } />\n\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { Component, Fragment, createRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { withInstanceId } from '@wordpress/compose';\n\nclass ReusableBlockEditPanel extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.titleField = createRef();\n\t\tthis.editButton = createRef();\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind( this );\n\t\tthis.handleTitleChange = this.handleTitleChange.bind( this );\n\t\tthis.handleTitleKeyDown = this.handleTitleKeyDown.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\t// Select the input text when the form opens.\n\t\tif ( this.props.isEditing && this.titleField.current ) {\n\t\t\tthis.titleField.current.select();\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\t// Select the input text only once when the form opens.\n\t\tif ( ! prevProps.isEditing && this.props.isEditing ) {\n\t\t\tthis.titleField.current.select();\n\t\t}\n\t\t// Move focus back to the Edit button after pressing the Escape key or Save.\n\t\tif ( ( prevProps.isEditing || prevProps.isSaving ) && ! this.props.isEditing && ! this.props.isSaving ) {\n\t\t\tthis.editButton.current.focus();\n\t\t}\n\t}\n\n\thandleFormSubmit( event ) {\n\t\tevent.preventDefault();\n\t\tthis.props.onSave();\n\t}\n\n\thandleTitleChange( event ) {\n\t\tthis.props.onChangeTitle( event.target.value );\n\t}\n\n\thandleTitleKeyDown( event ) {\n\t\tif ( event.keyCode === ESCAPE ) {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.props.onCancel();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { isEditing, title, isSaving, onEdit, instanceId } = this.props;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ ( ! isEditing && ! isSaving ) && (\n\t\t\t\t\t<div className=\"reusable-block-edit-panel\">\n\t\t\t\t\t\t<b className=\"reusable-block-edit-panel__info\">\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tref={ this.editButton }\n\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\tclassName=\"reusable-block-edit-panel__button\"\n\t\t\t\t\t\t\tonClick={ onEdit }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ ( isEditing || isSaving ) && (\n\t\t\t\t\t<form className=\"reusable-block-edit-panel\" onSubmit={ this.handleFormSubmit }>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\thtmlFor={ `reusable-block-edit-panel__title-${ instanceId }` }\n\t\t\t\t\t\t\tclassName=\"reusable-block-edit-panel__label\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Name:' ) }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tref={ this.titleField }\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tdisabled={ isSaving }\n\t\t\t\t\t\t\tclassName=\"reusable-block-edit-panel__title\"\n\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\tonChange={ this.handleTitleChange }\n\t\t\t\t\t\t\tonKeyDown={ this.handleTitleKeyDown }\n\t\t\t\t\t\t\tid={ `reusable-block-edit-panel__title-${ instanceId }` }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\tisBusy={ isSaving }\n\t\t\t\t\t\t\tdisabled={ ! title || isSaving }\n\t\t\t\t\t\t\tclassName=\"reusable-block-edit-panel__button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default withInstanceId( ReusableBlockEditPanel );\n","/**\n * External dependencies\n */\nimport { noop, partial } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { Placeholder, Spinner, Disabled } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { BlockEdit } from '@wordpress/editor';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport ReusableBlockEditPanel from './edit-panel';\nimport ReusableBlockIndicator from './indicator';\n\nclass ReusableBlockEdit extends Component {\n\tconstructor( { reusableBlock } ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.startEditing = this.startEditing.bind( this );\n\t\tthis.stopEditing = this.stopEditing.bind( this );\n\t\tthis.setAttributes = this.setAttributes.bind( this );\n\t\tthis.setTitle = this.setTitle.bind( this );\n\t\tthis.save = this.save.bind( this );\n\n\t\tif ( reusableBlock && reusableBlock.isTemporary ) {\n\t\t\t// Start in edit mode when we're working with a newly created reusable block\n\t\t\tthis.state = {\n\t\t\t\tisEditing: true,\n\t\t\t\ttitle: reusableBlock.title,\n\t\t\t\tchangedAttributes: {},\n\t\t\t};\n\t\t} else {\n\t\t\t// Start in preview mode when we're working with an existing reusable block\n\t\t\tthis.state = {\n\t\t\t\tisEditing: false,\n\t\t\t\ttitle: null,\n\t\t\t\tchangedAttributes: null,\n\t\t\t};\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( ! this.props.reusableBlock ) {\n\t\t\tthis.props.fetchReusableBlock();\n\t\t}\n\t}\n\n\tstartEditing() {\n\t\tconst { reusableBlock } = this.props;\n\n\t\tthis.setState( {\n\t\t\tisEditing: true,\n\t\t\ttitle: reusableBlock.title,\n\t\t\tchangedAttributes: {},\n\t\t} );\n\t}\n\n\tstopEditing() {\n\t\tthis.setState( {\n\t\t\tisEditing: false,\n\t\t\ttitle: null,\n\t\t\tchangedAttributes: null,\n\t\t} );\n\t}\n\n\tsetAttributes( attributes ) {\n\t\tthis.setState( ( prevState ) => {\n\t\t\tif ( prevState.changedAttributes !== null ) {\n\t\t\t\treturn { changedAttributes: { ...prevState.changedAttributes, ...attributes } };\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetTitle( title ) {\n\t\tthis.setState( { title } );\n\t}\n\n\tsave() {\n\t\tconst { reusableBlock, onUpdateTitle, updateAttributes, block, onSave } = this.props;\n\t\tconst { title, changedAttributes } = this.state;\n\n\t\tif ( title !== reusableBlock.title ) {\n\t\t\tonUpdateTitle( title );\n\t\t}\n\n\t\tupdateAttributes( block.clientId, changedAttributes );\n\t\tonSave();\n\n\t\tthis.stopEditing();\n\t}\n\n\trender() {\n\t\tconst { isSelected, reusableBlock, block, isFetching, isSaving } = this.props;\n\t\tconst { isEditing, title, changedAttributes } = this.state;\n\n\t\tif ( ! reusableBlock && isFetching ) {\n\t\t\treturn <Placeholder><Spinner /></Placeholder>;\n\t\t}\n\n\t\tif ( ! reusableBlock || ! block ) {\n\t\t\treturn <Placeholder>{ __( 'Block has been deleted or is unavailable.' ) }</Placeholder>;\n\t\t}\n\n\t\tlet element = (\n\t\t\t<BlockEdit\n\t\t\t\t{ ...this.props }\n\t\t\t\tisSelected={ isEditing && isSelected }\n\t\t\t\tclientId={ block.clientId }\n\t\t\t\tname={ block.name }\n\t\t\t\tattributes={ { ...block.attributes, ...changedAttributes } }\n\t\t\t\tsetAttributes={ isEditing ? this.setAttributes : noop }\n\t\t\t/>\n\t\t);\n\n\t\tif ( ! isEditing ) {\n\t\t\telement = <Disabled>{ element }</Disabled>;\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ ( isSelected || isEditing ) && (\n\t\t\t\t\t<ReusableBlockEditPanel\n\t\t\t\t\t\tisEditing={ isEditing }\n\t\t\t\t\t\ttitle={ title !== null ? title : reusableBlock.title }\n\t\t\t\t\t\tisSaving={ isSaving && ! reusableBlock.isTemporary }\n\t\t\t\t\t\tonEdit={ this.startEditing }\n\t\t\t\t\t\tonChangeTitle={ this.setTitle }\n\t\t\t\t\t\tonSave={ this.save }\n\t\t\t\t\t\tonCancel={ this.stopEditing }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! isSelected && ! isEditing && <ReusableBlockIndicator title={ reusableBlock.title } /> }\n\t\t\t\t{ element }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\t__experimentalGetReusableBlock: getReusableBlock,\n\t\t\t__experimentalIsFetchingReusableBlock: isFetchingReusableBlock,\n\t\t\t__experimentalIsSavingReusableBlock: isSavingReusableBlock,\n\t\t\tgetBlock,\n\t\t} = select( 'core/editor' );\n\t\tconst { ref } = ownProps.attributes;\n\t\tconst reusableBlock = getReusableBlock( ref );\n\n\t\treturn {\n\t\t\treusableBlock,\n\t\t\tisFetching: isFetchingReusableBlock( ref ),\n\t\t\tisSaving: isSavingReusableBlock( ref ),\n\t\t\tblock: reusableBlock ? getBlock( reusableBlock.clientId ) : null,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst {\n\t\t\t__experimentalFetchReusableBlocks: fetchReusableBlocks,\n\t\t\tupdateBlockAttributes,\n\t\t\t__experimentalUpdateReusableBlockTitle: updateReusableBlockTitle,\n\t\t\t__experimentalSaveReusableBlock: saveReusableBlock,\n\t\t} = dispatch( 'core/editor' );\n\t\tconst { ref } = ownProps.attributes;\n\n\t\treturn {\n\t\t\tfetchReusableBlock: partial( fetchReusableBlocks, ref ),\n\t\t\tupdateAttributes: updateBlockAttributes,\n\t\t\tonUpdateTitle: partial( updateReusableBlockTitle, ref ),\n\t\t\tonSave: partial( saveReusableBlock, ref ),\n\t\t};\n\t} ),\n] )( ReusableBlockEdit );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/block';\n\nexport const settings = {\n\ttitle: __( 'Reusable Block' ),\n\n\tcategory: 'reusable',\n\n\tdescription: __( 'Create content, and save it for you and other contributors to reuse across your site. Update the block, and the changes apply everywhere its used.' ),\n\n\tattributes: {\n\t\tref: {\n\t\t\ttype: 'number',\n\t\t},\n\t},\n\n\tsupports: {\n\t\tcustomClassName: false,\n\t\thtml: false,\n\t\tinserter: false,\n\t},\n\n\tedit,\n\n\tsave: () => null,\n};\n","/**\n * WordPress dependencies\n */\nimport { Tooltip, Dashicon } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\n\nfunction ReusableBlockIndicator( { title } ) {\n\t// translators: %s: title/name of the reusable block\n\tconst tooltipText = sprintf( __( 'Reusable Block: %s' ), title );\n\treturn (\n\t\t<Tooltip text={ tooltipText }>\n\t\t\t<span className=\"reusable-block-indicator\">\n\t\t\t\t<Dashicon icon=\"controls-repeat\" />\n\t\t\t</span>\n\t\t</Tooltip>\n\t);\n}\n\nexport default ReusableBlockIndicator;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tComponent,\n\tFragment,\n} from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport {\n\tDashicon,\n\tIconButton,\n\twithFallbackStyles,\n} from '@wordpress/components';\nimport {\n\tURLInput,\n\tRichText,\n\tContrastChecker,\n\tInspectorControls,\n\twithColors,\n\tPanelColorSettings,\n} from '@wordpress/editor';\n\nconst { getComputedStyle } = window;\n\nconst applyFallbackStyles = withFallbackStyles( ( node, ownProps ) => {\n\tconst { textColor, backgroundColor } = ownProps;\n\tconst backgroundColorValue = backgroundColor && backgroundColor.color;\n\tconst textColorValue = textColor && textColor.color;\n\t//avoid the use of querySelector if textColor color is known and verify if node is available.\n\tconst textNode = ! textColorValue && node ? node.querySelector( '[contenteditable=\"true\"]' ) : null;\n\treturn {\n\t\tfallbackBackgroundColor: backgroundColorValue || ! node ? undefined : getComputedStyle( node ).backgroundColor,\n\t\tfallbackTextColor: textColorValue || ! textNode ? undefined : getComputedStyle( textNode ).color,\n\t};\n} );\n\nclass ButtonEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.nodeRef = null;\n\t\tthis.bindRef = this.bindRef.bind( this );\n\t}\n\n\tbindRef( node ) {\n\t\tif ( ! node ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.nodeRef = node;\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tbackgroundColor,\n\t\t\ttextColor,\n\t\t\tsetBackgroundColor,\n\t\t\tsetTextColor,\n\t\t\tfallbackBackgroundColor,\n\t\t\tfallbackTextColor,\n\t\t\tsetAttributes,\n\t\t\tisSelected,\n\t\t\tclassName,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\ttext,\n\t\t\turl,\n\t\t\ttitle,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className={ className } title={ title } ref={ this.bindRef }>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tplaceholder={ __( 'Add text' ) }\n\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { text: value } ) }\n\t\t\t\t\t\tformattingControls={ [ 'bold', 'italic', 'strikethrough' ] }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'wp-block-button__link', {\n\t\t\t\t\t\t\t\t'has-background': backgroundColor.color,\n\t\t\t\t\t\t\t\t[ backgroundColor.class ]: backgroundColor.class,\n\t\t\t\t\t\t\t\t'has-text-color': textColor.color,\n\t\t\t\t\t\t\t\t[ textColor.class ]: textColor.class,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\tbackgroundColor: backgroundColor.color,\n\t\t\t\t\t\t\tcolor: textColor.color,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t/>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: backgroundColor.color,\n\t\t\t\t\t\t\t\t\tonChange: setBackgroundColor,\n\t\t\t\t\t\t\t\t\tlabel: __( 'Background Color' ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: textColor.color,\n\t\t\t\t\t\t\t\t\tonChange: setTextColor,\n\t\t\t\t\t\t\t\t\tlabel: __( 'Text Color' ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\t\t// Text is considered large if font size is greater or equal to 18pt or 24px,\n\t\t\t\t\t\t\t\t\t// currently that's not the case for button.\n\t\t\t\t\t\t\t\t\tisLargeText: false,\n\t\t\t\t\t\t\t\t\ttextColor: textColor.color,\n\t\t\t\t\t\t\t\t\tbackgroundColor: backgroundColor.color,\n\t\t\t\t\t\t\t\t\tfallbackBackgroundColor,\n\t\t\t\t\t\t\t\t\tfallbackTextColor,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelColorSettings>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t</div>\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName=\"block-library-button__inline-link\"\n\t\t\t\t\t\tonSubmit={ ( event ) => event.preventDefault() }>\n\t\t\t\t\t\t<Dashicon icon=\"admin-links\" />\n\t\t\t\t\t\t<URLInput\n\t\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { url: value } ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<IconButton icon=\"editor-break\" label={ __( 'Apply' ) } type=\"submit\" />\n\t\t\t\t\t</form>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithColors( 'backgroundColor', { textColor: 'color' } ),\n\tapplyFallbackStyles,\n] )( ButtonEdit );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { omit, pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { G, Path, SVG } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tRichText,\n\tgetColorClassName,\n} from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nconst blockAttributes = {\n\turl: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'a',\n\t\tattribute: 'href',\n\t},\n\ttitle: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'a',\n\t\tattribute: 'title',\n\t},\n\ttext: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'a',\n\t},\n\tbackgroundColor: {\n\t\ttype: 'string',\n\t},\n\ttextColor: {\n\t\ttype: 'string',\n\t},\n\tcustomBackgroundColor: {\n\t\ttype: 'string',\n\t},\n\tcustomTextColor: {\n\t\ttype: 'string',\n\t},\n};\n\nexport const name = 'core/button';\n\nconst colorsMigration = ( attributes ) => {\n\treturn omit( {\n\t\t...attributes,\n\t\tcustomTextColor: attributes.textColor && '#' === attributes.textColor[ 0 ] ? attributes.textColor : undefined,\n\t\tcustomBackgroundColor: attributes.color && '#' === attributes.color[ 0 ] ? attributes.color : undefined,\n\t}, [ 'color', 'textColor' ] );\n};\n\nexport const settings = {\n\ttitle: __( 'Button' ),\n\n\tdescription: __( 'Prompt visitors to take action with a custom button.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M19 6H5L3 8v8l2 2h14l2-2V8l-2-2zm0 10H5V8h14v8z\" /></G></SVG>,\n\n\tcategory: 'layout',\n\n\tattributes: blockAttributes,\n\n\tsupports: {\n\t\talign: true,\n\t\talignWide: false,\n\t},\n\n\tstyles: [\n\t\t{ name: 'default', label: _x( 'Rounded', 'block style' ), isDefault: true },\n\t\t{ name: 'outline', label: __( 'Outline' ) },\n\t\t{ name: 'squared', label: _x( 'Squared', 'block style' ) },\n\t],\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\turl,\n\t\t\ttext,\n\t\t\ttitle,\n\t\t\tbackgroundColor,\n\t\t\ttextColor,\n\t\t\tcustomBackgroundColor,\n\t\t\tcustomTextColor,\n\t\t} = attributes;\n\n\t\tconst textClass = getColorClassName( 'color', textColor );\n\t\tconst backgroundClass = getColorClassName( 'background-color', backgroundColor );\n\n\t\tconst buttonClasses = classnames( 'wp-block-button__link', {\n\t\t\t'has-text-color': textColor || customTextColor,\n\t\t\t[ textClass ]: textClass,\n\t\t\t'has-background': backgroundColor || customBackgroundColor,\n\t\t\t[ backgroundClass ]: backgroundClass,\n\t\t} );\n\n\t\tconst buttonStyle = {\n\t\t\tbackgroundColor: backgroundClass ? undefined : customBackgroundColor,\n\t\t\tcolor: textClass ? undefined : customTextColor,\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<RichText.Content\n\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\tclassName={ buttonClasses }\n\t\t\t\t\thref={ url }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tstyle={ buttonStyle }\n\t\t\t\t\tvalue={ text }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t},\n\n\tdeprecated: [ {\n\t\tattributes: {\n\t\t\t...pick( blockAttributes, [ 'url', 'title', 'text' ] ),\n\t\t\tcolor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\ttextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'none',\n\t\t\t},\n\t\t},\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, text, title, align, color, textColor } = attributes;\n\n\t\t\tconst buttonStyle = {\n\t\t\t\tbackgroundColor: color,\n\t\t\t\tcolor: textColor,\n\t\t\t};\n\n\t\t\tconst linkClass = 'wp-block-button__link';\n\n\t\t\treturn (\n\t\t\t\t<div className={ `align${ align }` }>\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\t\tclassName={ linkClass }\n\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\tstyle={ buttonStyle }\n\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tmigrate: colorsMigration,\n\t},\n\t{\n\t\tattributes: {\n\t\t\t...pick( blockAttributes, [ 'url', 'title', 'text' ] ),\n\t\t\tcolor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\ttextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'none',\n\t\t\t},\n\t\t},\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, text, title, align, color, textColor } = attributes;\n\n\t\t\treturn (\n\t\t\t\t<div className={ `align${ align }` } style={ { backgroundColor: color } }>\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\tstyle={ { color: textColor } }\n\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tmigrate: colorsMigration,\n\t},\n\t],\n};\n","/**\n * External dependencies\n */\nimport { times, unescape } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { PanelBody, Placeholder, Spinner, ToggleControl } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport {\n\tInspectorControls,\n\tBlockControls,\n\tBlockAlignmentToolbar,\n} from '@wordpress/editor';\n\nclass CategoriesEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.toggleDisplayAsDropdown = this.toggleDisplayAsDropdown.bind( this );\n\t\tthis.toggleShowPostCounts = this.toggleShowPostCounts.bind( this );\n\t\tthis.toggleShowHierarchy = this.toggleShowHierarchy.bind( this );\n\t}\n\n\ttoggleDisplayAsDropdown() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { displayAsDropdown } = attributes;\n\n\t\tsetAttributes( { displayAsDropdown: ! displayAsDropdown } );\n\t}\n\n\ttoggleShowPostCounts() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { showPostCounts } = attributes;\n\n\t\tsetAttributes( { showPostCounts: ! showPostCounts } );\n\t}\n\n\ttoggleShowHierarchy() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { showHierarchy } = attributes;\n\n\t\tsetAttributes( { showHierarchy: ! showHierarchy } );\n\t}\n\n\tgetCategories( parentId = null ) {\n\t\tconst categories = this.props.categories;\n\t\tif ( ! categories || ! categories.length ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif ( parentId === null ) {\n\t\t\treturn categories;\n\t\t}\n\n\t\treturn categories.filter( ( category ) => category.parent === parentId );\n\t}\n\n\tgetCategoryListClassName( level ) {\n\t\tconst { className } = this.props;\n\t\treturn `${ className }__list ${ className }__list-level-${ level }`;\n\t}\n\n\trenderCategoryName( category ) {\n\t\tif ( ! category.name ) {\n\t\t\treturn __( '(Untitled)' );\n\t\t}\n\n\t\treturn unescape( category.name ).trim();\n\t}\n\n\trenderCategoryList() {\n\t\tconst { showHierarchy } = this.props.attributes;\n\t\tconst parentId = showHierarchy ? 0 : null;\n\t\tconst categories = this.getCategories( parentId );\n\n\t\treturn (\n\t\t\t<ul className={ this.getCategoryListClassName( 0 ) }>\n\t\t\t\t{ categories.map( ( category ) => this.renderCategoryListItem( category, 0 ) ) }\n\t\t\t</ul>\n\t\t);\n\t}\n\n\trenderCategoryListItem( category, level ) {\n\t\tconst { showHierarchy, showPostCounts } = this.props.attributes;\n\t\tconst childCategories = this.getCategories( category.id );\n\n\t\treturn (\n\t\t\t<li key={ category.id }>\n\t\t\t\t<a href={ category.link } target=\"_blank\">{ this.renderCategoryName( category ) }</a>\n\t\t\t\t{ showPostCounts &&\n\t\t\t\t\t<span className={ `${ this.props.className }__post-count` }>\n\t\t\t\t\t\t{ ' ' }({ category.count })\n\t\t\t\t\t</span>\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tshowHierarchy &&\n\t\t\t\t\t!! childCategories.length && (\n\t\t\t\t\t\t<ul className={ this.getCategoryListClassName( level + 1 ) }>\n\t\t\t\t\t\t\t{ childCategories.map( ( childCategory ) => this.renderCategoryListItem( childCategory, level + 1 ) ) }\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</li>\n\t\t);\n\t}\n\n\trenderCategoryDropdown() {\n\t\tconst { showHierarchy, instanceId, className } = this.props;\n\t\tconst parentId = showHierarchy ? 0 : null;\n\t\tconst categories = this.getCategories( parentId );\n\t\tconst selectId = `blocks-category-select-${ instanceId }`;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<label htmlFor={ selectId } className=\"screen-reader-text\">\n\t\t\t\t\t{ __( 'Categories' ) }\n\t\t\t\t</label>\n\t\t\t\t<select id={ selectId } className={ `${ className }__dropdown` }>\n\t\t\t\t\t{ categories.map( ( category ) => this.renderCategoryDropdownItem( category, 0 ) ) }\n\t\t\t\t</select>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderCategoryDropdownItem( category, level ) {\n\t\tconst { showHierarchy, showPostCounts } = this.props.attributes;\n\t\tconst childCategories = this.getCategories( category.id );\n\n\t\treturn [\n\t\t\t<option key={ category.id }>\n\t\t\t\t{ times( level * 3, () => '\\xa0' ) }\n\t\t\t\t{ this.renderCategoryName( category ) }\n\t\t\t\t{\n\t\t\t\t\t!! showPostCounts ?\n\t\t\t\t\t\t` (${ category.count })` :\n\t\t\t\t\t\t''\n\t\t\t\t}\n\t\t\t</option>,\n\t\t\tshowHierarchy &&\n\t\t\t!! childCategories.length && (\n\t\t\t\tchildCategories.map( ( childCategory ) => this.renderCategoryDropdownItem( childCategory, level + 1 ) )\n\t\t\t),\n\t\t];\n\t}\n\n\trender() {\n\t\tconst { attributes, setAttributes, isRequesting } = this.props;\n\t\tconst { align, displayAsDropdown, showHierarchy, showPostCounts } = attributes;\n\n\t\tconst inspectorControls = (\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Categories Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display as Dropdown' ) }\n\t\t\t\t\t\tchecked={ displayAsDropdown }\n\t\t\t\t\t\tonChange={ this.toggleDisplayAsDropdown }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show Hierarchy' ) }\n\t\t\t\t\t\tchecked={ showHierarchy }\n\t\t\t\t\t\tonChange={ this.toggleShowHierarchy }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show Post Counts' ) }\n\t\t\t\t\t\tchecked={ showPostCounts }\n\t\t\t\t\t\tonChange={ this.toggleShowPostCounts }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t);\n\n\t\tif ( isRequesting ) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ inspectorControls }\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\ticon=\"admin-post\"\n\t\t\t\t\t\tlabel={ __( 'Categories' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</Placeholder>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ inspectorControls }\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tcontrols={ [ 'left', 'center', 'right', 'full' ] }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<div className={ this.props.className }>\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayAsDropdown ?\n\t\t\t\t\t\t\tthis.renderCategoryDropdown() :\n\t\t\t\t\t\t\tthis.renderCategoryList()\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getEntityRecords } = select( 'core' );\n\t\tconst { isResolving } = select( 'core/data' );\n\t\tconst query = { per_page: -1 };\n\n\t\treturn {\n\t\t\tcategories: getEntityRecords( 'taxonomy', 'category', query ),\n\t\t\tisRequesting: isResolving( 'core', 'getEntityRecords', [ 'taxonomy', 'category', query ] ),\n\t\t};\n\t} ),\n\twithInstanceId\n)( CategoriesEdit );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SVG, Path } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/categories';\n\nexport const settings = {\n\ttitle: __( 'Categories' ),\n\n\tdescription: __( 'Display a list of all categories.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"M12,2l-5.5,9h11L12,2z M12,5.84L13.93,9h-3.87L12,5.84z\" /><Path d=\"m17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" /><Path d=\"m3 21.5h8v-8h-8v8zm2-6h4v4h-4v-4z\" /></SVG>,\n\n\tcategory: 'widgets',\n\n\tattributes: {\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tdisplayAsDropdown: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tshowHierarchy: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tshowPostCounts: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tsupports: {\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align } = attributes;\n\t\tif ( [ 'left', 'center', 'right', 'full' ].includes( align ) ) {\n\t\t\treturn { 'data-align': align };\n\t\t}\n\t},\n\n\tedit,\n\n\tsave() {\n\t\treturn null;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { BACKSPACE, DELETE, F10 } from '@wordpress/keycodes';\n\nfunction isTmceEmpty( editor ) {\n\t// When tinyMce is empty the content seems to be:\n\t// <p><br data-mce-bogus=\"1\"></p>\n\t// avoid expensive checks for large documents\n\tconst body = editor.getBody();\n\tif ( body.childNodes.length > 1 ) {\n\t\treturn false;\n\t} else if ( body.childNodes.length === 0 ) {\n\t\treturn true;\n\t}\n\tif ( body.childNodes[ 0 ].childNodes.length > 1 ) {\n\t\treturn false;\n\t}\n\treturn /^\\n?$/.test( body.innerText || body.textContent );\n}\n\nexport default class ClassicEdit extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.initialize = this.initialize.bind( this );\n\t\tthis.onSetup = this.onSetup.bind( this );\n\t\tthis.focus = this.focus.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { baseURL, suffix } = window.wpEditorL10n.tinymce;\n\n\t\twindow.tinymce.EditorManager.overrideDefaults( {\n\t\t\tbase_url: baseURL,\n\t\t\tsuffix,\n\t\t} );\n\n\t\tif ( document.readyState === 'complete' ) {\n\t\t\tthis.initialize();\n\t\t} else {\n\t\t\twindow.addEventListener( 'DOMContentLoaded', this.initialize );\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.addEventListener( 'DOMContentLoaded', this.initialize );\n\t\twp.oldEditor.remove( `editor-${ this.props.clientId }` );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { clientId, attributes: { content } } = this.props;\n\n\t\tconst editor = window.tinymce.get( `editor-${ clientId }` );\n\n\t\tif ( prevProps.attributes.content !== content ) {\n\t\t\teditor.setContent( content || '' );\n\t\t}\n\t}\n\n\tinitialize() {\n\t\tconst { clientId } = this.props;\n\t\tconst { settings } = window.wpEditorL10n.tinymce;\n\t\twp.oldEditor.initialize( `editor-${ clientId }`, {\n\t\t\ttinymce: {\n\t\t\t\t...settings,\n\t\t\t\tinline: true,\n\t\t\t\tcontent_css: false,\n\t\t\t\tfixed_toolbar_container: `#toolbar-${ clientId }`,\n\t\t\t\tsetup: this.onSetup,\n\t\t\t},\n\t\t} );\n\t}\n\n\tonSetup( editor ) {\n\t\tconst { attributes: { content }, setAttributes } = this.props;\n\t\tconst { ref } = this;\n\n\t\tthis.editor = editor;\n\n\t\tif ( content ) {\n\t\t\teditor.on( 'loadContent', () => editor.setContent( content ) );\n\t\t}\n\n\t\teditor.on( 'blur', () => {\n\t\t\tsetAttributes( {\n\t\t\t\tcontent: editor.getContent(),\n\t\t\t} );\n\t\t\treturn false;\n\t\t} );\n\n\t\teditor.on( 'keydown', ( event ) => {\n\t\t\tif ( ( event.keyCode === BACKSPACE || event.keyCode === DELETE ) && isTmceEmpty( editor ) ) {\n\t\t\t\t// delete the block\n\t\t\t\tthis.props.onReplace( [] );\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\n\t\t\tconst { altKey } = event;\n\t\t\t/*\n\t\t\t * Prevent Mousetrap from kicking in: TinyMCE already uses its own\n\t\t\t * `alt+f10` shortcut to focus its toolbar.\n\t\t\t */\n\t\t\tif ( altKey && event.keyCode === F10 ) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t} );\n\n\t\t// TODO: the following is for back-compat with WP 4.9, not needed in WP 5.0. Remove it after the release.\n\t\teditor.addButton( 'kitchensink', {\n\t\t\ttooltip: _x( 'More', 'button to expand options' ),\n\t\t\ticon: 'dashicon dashicons-editor-kitchensink',\n\t\t\tonClick: function() {\n\t\t\t\tconst button = this;\n\t\t\t\tconst active = ! button.active();\n\n\t\t\t\tbutton.active( active );\n\t\t\t\teditor.dom.toggleClass( ref, 'has-advanced-toolbar', active );\n\t\t\t},\n\t\t} );\n\n\t\t// Show the second, third, etc. toolbars when the `kitchensink` button is removed by a plugin.\n\t\teditor.on( 'init', function() {\n\t\t\tif ( editor.settings.toolbar1 && editor.settings.toolbar1.indexOf( 'kitchensink' ) === -1 ) {\n\t\t\t\teditor.dom.addClass( ref, 'has-advanced-toolbar' );\n\t\t\t}\n\t\t} );\n\n\t\teditor.addButton( 'wp_add_media', {\n\t\t\ttooltip: __( 'Insert Media' ),\n\t\t\ticon: 'dashicon dashicons-admin-media',\n\t\t\tcmd: 'WP_Medialib',\n\t\t} );\n\t\t// End TODO.\n\n\t\teditor.on( 'init', () => {\n\t\t\tconst rootNode = this.editor.getBody();\n\n\t\t\t// Create the toolbar by refocussing the editor.\n\t\t\tif ( document.activeElement === rootNode ) {\n\t\t\t\trootNode.blur();\n\t\t\t\tthis.editor.focus();\n\t\t\t}\n\t\t} );\n\t}\n\n\tfocus() {\n\t\tif ( this.editor ) {\n\t\t\tthis.editor.focus();\n\t\t}\n\t}\n\n\tonToolbarKeyDown( event ) {\n\t\t// Prevent WritingFlow from kicking in and allow arrows navigation on the toolbar.\n\t\tevent.stopPropagation();\n\t\t// Prevent Mousetrap from moving focus to the top toolbar when pressing `alt+f10` on this block toolbar.\n\t\tevent.nativeEvent.stopImmediatePropagation();\n\t}\n\n\trender() {\n\t\tconst { clientId } = this.props;\n\n\t\t// Disable reason: the toolbar itself is non-interactive, but must capture\n\t\t// events from the KeyboardShortcuts component to stop their propagation.\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\treturn [\n\t\t\t// Disable reason: Clicking on this visual placeholder should create\n\t\t\t// the toolbar, it can also be created by focussing the field below.\n\t\t\t/* eslint-disable jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t\t<div\n\t\t\t\tkey=\"toolbar\"\n\t\t\t\tid={ `toolbar-${ clientId }` }\n\t\t\t\tref={ ( ref ) => this.ref = ref }\n\t\t\t\tclassName=\"block-library-classic__toolbar\"\n\t\t\t\tonClick={ this.focus }\n\t\t\t\tdata-placeholder={ __( 'Classic' ) }\n\t\t\t\tonKeyDown={ this.onToolbarKeyDown }\n\t\t\t/>,\n\t\t\t<div\n\t\t\t\tkey=\"editor\"\n\t\t\t\tid={ `editor-${ clientId }` }\n\t\t\t\tclassName=\"wp-block-freeform block-library-rich-text__tinymce\"\n\t\t\t/>,\n\t\t];\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { RawHTML } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { Path, Rect, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/freeform';\n\nexport const settings = {\n\ttitle: _x( 'Classic', 'block title' ),\n\n\tdescription: __( 'Use the classic WordPress editor.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"m20 7v10h-16v-10h16m0-2h-16c-1.1 0-1.99 0.9-1.99 2l-0.01 10c0 1.1 0.9 2 2 2h16c1.1 0 2-0.9 2-2v-10c0-1.1-0.9-2-2-2z\" /><Rect x=\"11\" y=\"8\" width=\"2\" height=\"2\" /><Rect x=\"11\" y=\"11\" width=\"2\" height=\"2\" /><Rect x=\"8\" y=\"8\" width=\"2\" height=\"2\" /><Rect x=\"8\" y=\"11\" width=\"2\" height=\"2\" /><Rect x=\"5\" y=\"11\" width=\"2\" height=\"2\" /><Rect x=\"5\" y=\"8\" width=\"2\" height=\"2\" /><Rect x=\"8\" y=\"14\" width=\"8\" height=\"2\" /><Rect x=\"14\" y=\"11\" width=\"2\" height=\"2\" /><Rect x=\"14\" y=\"8\" width=\"2\" height=\"2\" /><Rect x=\"17\" y=\"11\" width=\"2\" height=\"2\" /><Rect x=\"17\" y=\"8\" width=\"2\" height=\"2\" /></SVG>,\n\n\tcategory: 'formatting',\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t},\n\t},\n\n\tsupports: {\n\t\tclassName: false,\n\t\tcustomClassName: false,\n\t\t// Hide 'Add to Reusable Blocks' on Classic blocks. Showing it causes a\n\t\t// confusing UX, because of its similarity to the 'Convert to Blocks' button.\n\t\treusable: false,\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { content } = attributes;\n\n\t\treturn <RawHTML>{ content }</RawHTML>;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { PlainText } from '@wordpress/editor';\n\nexport default function CodeEdit( { attributes, setAttributes, className } ) {\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<PlainText\n\t\t\t\tvalue={ attributes.content }\n\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\n\t\t\t\tplaceholder={ __( 'Write code' ) }\n\t\t\t\taria-label={ __( 'Code' ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tPath,\n\tSVG,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/code';\n\nexport const settings = {\n\ttitle: __( 'Code' ),\n\n\tdescription: __( 'Display code snippets that respect your spacing and tabs.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"M9.4,16.6L4.8,12l4.6-4.6L8,6l-6,6l6,6L9.4,16.6z M14.6,16.6l4.6-4.6l-4.6-4.6L16,6l6,6l-6,6L14.6,16.6z\" /></SVG>,\n\n\tcategory: 'formatting',\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'text',\n\t\t\tselector: 'code',\n\t\t},\n\t},\n\n\tsupports: {\n\t\thtml: false,\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'enter',\n\t\t\t\tregExp: /^```$/,\n\t\t\t\ttransform: () => createBlock( 'core/code' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => (\n\t\t\t\t\tnode.nodeName === 'PRE' &&\n\t\t\t\t\tnode.children.length === 1 &&\n\t\t\t\t\tnode.firstChild.nodeName === 'CODE'\n\t\t\t\t),\n\t\t\t\tschema: {\n\t\t\t\t\tpre: {\n\t\t\t\t\t\tchildren: {\n\t\t\t\t\t\t\tcode: {\n\t\t\t\t\t\t\t\tchildren: {\n\t\t\t\t\t\t\t\t\t'#text': {},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\treturn <pre><code>{ attributes.content }</code></pre>;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { InnerBlocks } from '@wordpress/editor';\n\nexport const name = 'core/column';\n\nexport const settings = {\n\ttitle: __( 'Column' ),\n\n\tparent: [ 'core/columns' ],\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><Path d=\"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z\" /></SVG>,\n\n\tdescription: __( 'A single column within a columns block.' ),\n\n\tcategory: 'common',\n\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit() {\n\t\treturn <InnerBlocks templateLock={ false } />;\n\t},\n\n\tsave() {\n\t\treturn <div><InnerBlocks.Content /></div>;\n\t},\n};\n","/**\n * External dependencies\n */\nimport { times } from 'lodash';\nimport classnames from 'classnames';\nimport memoize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, RangeControl, G, SVG, Path } from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tInspectorControls,\n\tInnerBlocks,\n} from '@wordpress/editor';\n\n/**\n * Allowed blocks constant is passed to InnerBlocks precisely as specified here.\n * The contents of the array should never change.\n * The array should contain the name of each block that is allowed.\n * In columns block, the only block we allow is 'core/column'.\n *\n * @constant\n * @type {string[]}\n*/\nconst ALLOWED_BLOCKS = [ 'core/column' ];\n\n/**\n * Returns the layouts configuration for a given number of columns.\n *\n * @param {number} columns Number of columns.\n *\n * @return {Object[]} Columns layout configuration.\n */\nconst getColumnsTemplate = memoize( ( columns ) => {\n\treturn times( columns, () => [ 'core/column' ] );\n} );\n\n/**\n * Given an HTML string for a deprecated columns inner block, returns the\n * column index to which the migrated inner block should be assigned. Returns\n * undefined if the inner block was not assigned to a column.\n *\n * @param {string} originalContent Deprecated Columns inner block HTML.\n *\n * @return {?number} Column to which inner block is to be assigned.\n */\nfunction getDeprecatedLayoutColumn( originalContent ) {\n\tlet { doc } = getDeprecatedLayoutColumn;\n\tif ( ! doc ) {\n\t\tdoc = document.implementation.createHTMLDocument( '' );\n\t\tgetDeprecatedLayoutColumn.doc = doc;\n\t}\n\n\tlet columnMatch;\n\n\tdoc.body.innerHTML = originalContent;\n\tfor ( const classListItem of doc.body.firstChild.classList ) {\n\t\tif ( ( columnMatch = classListItem.match( /^layout-column-(\\d+)$/ ) ) ) {\n\t\t\treturn Number( columnMatch[ 1 ] ) - 1;\n\t\t}\n\t}\n}\n\nexport const name = 'core/columns';\n\nexport const settings = {\n\ttitle: __( 'Columns' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M21 4H3L2 5v14l1 1h18l1-1V5l-1-1zM8 18H4V6h4v12zm6 0h-4V6h4v12zm6 0h-4V6h4v12z\" /></G></SVG>,\n\n\tcategory: 'layout',\n\n\tattributes: {\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2,\n\t\t},\n\t},\n\n\tdescription: __( 'Add a block that displays content in multiple columns, then add whatever content blocks youd like.' ),\n\n\tsupports: {\n\t\talign: [ 'wide', 'full' ],\n\t\thtml: false,\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: {\n\t\t\t\tcolumns: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t\tdefault: 2,\n\t\t\t\t},\n\t\t\t},\n\t\t\tisEligible( attributes, innerBlocks ) {\n\t\t\t\t// Since isEligible is called on every valid instance of the\n\t\t\t\t// Columns block and a deprecation is the unlikely case due to\n\t\t\t\t// its subsequent migration, optimize for the `false` condition\n\t\t\t\t// by performing a naive, inaccurate pass at inner blocks.\n\t\t\t\tconst isFastPassEligible = innerBlocks.some( ( innerBlock ) => (\n\t\t\t\t\t/layout-column-\\d+/.test( innerBlock.originalContent )\n\t\t\t\t) );\n\n\t\t\t\tif ( ! isFastPassEligible ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Only if the fast pass is considered eligible is the more\n\t\t\t\t// accurate, durable, slower condition performed.\n\t\t\t\treturn innerBlocks.some( ( innerBlock ) => (\n\t\t\t\t\tgetDeprecatedLayoutColumn( innerBlock.originalContent ) !== undefined\n\t\t\t\t) );\n\t\t\t},\n\t\t\tmigrate( attributes, innerBlocks ) {\n\t\t\t\tconst columns = innerBlocks.reduce( ( result, innerBlock ) => {\n\t\t\t\t\tconst { originalContent } = innerBlock;\n\n\t\t\t\t\tlet columnIndex = getDeprecatedLayoutColumn( originalContent );\n\t\t\t\t\tif ( columnIndex === undefined ) {\n\t\t\t\t\t\tcolumnIndex = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! result[ columnIndex ] ) {\n\t\t\t\t\t\tresult[ columnIndex ] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[ columnIndex ].push( innerBlock );\n\n\t\t\t\t\treturn result;\n\t\t\t\t}, [] );\n\n\t\t\t\tconst migratedInnerBlocks = columns.map( ( columnBlocks ) => (\n\t\t\t\t\tcreateBlock( 'core/column', {}, columnBlocks )\n\t\t\t\t) );\n\n\t\t\t\treturn [\n\t\t\t\t\tattributes,\n\t\t\t\t\tmigratedInnerBlocks,\n\t\t\t\t];\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { columns } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className={ `has-${ columns }-columns` }>\n\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\n\tedit( { attributes, setAttributes, className } ) {\n\t\tconst { columns } = attributes;\n\t\tconst classes = classnames( className, `has-${ columns }-columns` );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( nextColumns ) => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tcolumns: nextColumns,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 6 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div className={ classes }>\n\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\ttemplate={ getColumnsTemplate( columns ) }\n\t\t\t\t\t\ttemplateLock=\"all\"\n\t\t\t\t\t\tallowedBlocks={ ALLOWED_BLOCKS } />\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { columns } = attributes;\n\n\t\treturn (\n\t\t\t<div className={ `has-${ columns }-columns` }>\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t);\n\t},\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tIconButton,\n\tPanelBody,\n\tRangeControl,\n\tToggleControl,\n\tToolbar,\n\twithNotices,\n\tSVG,\n\tPath,\n} from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tBlockAlignmentToolbar,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tAlignmentToolbar,\n\tPanelColorSettings,\n\tRichText,\n\twithColors,\n\tgetColorClassName,\n} from '@wordpress/editor';\n\nconst validAlignments = [ 'left', 'center', 'right', 'wide', 'full' ];\n\nconst blockAttributes = {\n\ttitle: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'p',\n\t},\n\turl: {\n\t\ttype: 'string',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t},\n\tcontentAlign: {\n\t\ttype: 'string',\n\t\tdefault: 'center',\n\t},\n\tid: {\n\t\ttype: 'number',\n\t},\n\thasParallax: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tdimRatio: {\n\t\ttype: 'number',\n\t\tdefault: 50,\n\t},\n\toverlayColor: {\n\t\ttype: 'string',\n\t},\n\tcustomOverlayColor: {\n\t\ttype: 'string',\n\t},\n\tbackgroundType: {\n\t\ttype: 'string',\n\t\tdefault: 'image',\n\t},\n};\n\nexport const name = 'core/cover';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image', 'video' ];\nconst IMAGE_BACKGROUND_TYPE = 'image';\nconst VIDEO_BACKGROUND_TYPE = 'video';\n\nexport const settings = {\n\ttitle: __( 'Cover' ),\n\n\tdescription: __( 'Add an image or video with a text overlay  great for headers.' ),\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path d=\"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2V4zm6 9l-4 5h12l-3-4-2.03 2.71L10 13zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5zM20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2zm0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2v7zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4v-7z\" /><Path d=\"M0 0h24v24H0z\" fill=\"none\" /></SVG>,\n\n\tcategory: 'common',\n\n\tattributes: blockAttributes,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/heading' ],\n\t\t\t\ttransform: ( { content } ) => (\n\t\t\t\t\tcreateBlock( 'core/cover', { title: content } )\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\ttransform: ( { caption, url, align, id } ) => (\n\t\t\t\t\tcreateBlock( 'core/cover', {\n\t\t\t\t\t\ttitle: caption,\n\t\t\t\t\t\turl,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tid,\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/video' ],\n\t\t\t\ttransform: ( { caption, src, align, id } ) => (\n\t\t\t\t\tcreateBlock( 'core/cover', {\n\t\t\t\t\t\ttitle: caption,\n\t\t\t\t\t\turl: src,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tbackgroundType: VIDEO_BACKGROUND_TYPE,\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/heading' ],\n\t\t\t\ttransform: ( { title } ) => (\n\t\t\t\t\tcreateBlock( 'core/heading', { content: title } )\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\tisMatch: ( { backgroundType, url } ) => {\n\t\t\t\t\treturn ! url || backgroundType === IMAGE_BACKGROUND_TYPE;\n\t\t\t\t},\n\t\t\t\ttransform: ( { title, url, align, id } ) => (\n\t\t\t\t\tcreateBlock( 'core/image', {\n\t\t\t\t\t\tcaption: title,\n\t\t\t\t\t\turl,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tid,\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/video' ],\n\t\t\t\tisMatch: ( { backgroundType, url } ) => {\n\t\t\t\t\treturn ! url || backgroundType === VIDEO_BACKGROUND_TYPE;\n\t\t\t\t},\n\t\t\t\ttransform: ( { title, url, align, id } ) => (\n\t\t\t\t\tcreateBlock( 'core/video', {\n\t\t\t\t\t\tcaption: title,\n\t\t\t\t\t\tsrc: url,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\talign,\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align } = attributes;\n\t\tif ( -1 !== validAlignments.indexOf( align ) ) {\n\t\t\treturn { 'data-align': align };\n\t\t}\n\t},\n\n\tedit: compose( [\n\t\twithColors( { overlayColor: 'background-color' } ),\n\t\twithNotices,\n\t] )(\n\t\t( { attributes, setAttributes, isSelected, className, noticeOperations, noticeUI, overlayColor, setOverlayColor } ) => {\n\t\t\tconst {\n\t\t\t\talign,\n\t\t\t\tbackgroundType,\n\t\t\t\tcontentAlign,\n\t\t\t\tdimRatio,\n\t\t\t\thasParallax,\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\turl,\n\t\t\t} = attributes;\n\t\t\tconst updateAlignment = ( nextAlign ) => setAttributes( { align: nextAlign } );\n\t\t\tconst onSelectMedia = ( media ) => {\n\t\t\t\tif ( ! media || ! media.url ) {\n\t\t\t\t\tsetAttributes( { url: undefined, id: undefined } );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet mediaType;\n\t\t\t\t// for media selections originated from a file upload.\n\t\t\t\tif ( media.media_type ) {\n\t\t\t\t\tif ( media.media_type === IMAGE_BACKGROUND_TYPE ) {\n\t\t\t\t\t\tmediaType = IMAGE_BACKGROUND_TYPE;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// only images and videos are accepted so if the media_type is not an image we can assume it is a video.\n\t\t\t\t\t\t// Videos contain the media type of 'file' in the object returned from the rest api.\n\t\t\t\t\t\tmediaType = VIDEO_BACKGROUND_TYPE;\n\t\t\t\t\t}\n\t\t\t\t} else { // for media selections originated from existing files in the media library.\n\t\t\t\t\tif (\n\t\t\t\t\t\tmedia.type !== IMAGE_BACKGROUND_TYPE &&\n\t\t\t\t\t\tmedia.type !== VIDEO_BACKGROUND_TYPE\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tmediaType = media.type;\n\t\t\t\t}\n\n\t\t\t\tsetAttributes( {\n\t\t\t\t\turl: media.url,\n\t\t\t\t\tid: media.id,\n\t\t\t\t\tbackgroundType: mediaType,\n\t\t\t\t} );\n\t\t\t};\n\t\t\tconst toggleParallax = () => setAttributes( { hasParallax: ! hasParallax } );\n\t\t\tconst setDimRatio = ( ratio ) => setAttributes( { dimRatio: ratio } );\n\t\t\tconst setTitle = ( newTitle ) => setAttributes( { title: newTitle } );\n\n\t\t\tconst style = {\n\t\t\t\t...(\n\t\t\t\t\tbackgroundType === IMAGE_BACKGROUND_TYPE ?\n\t\t\t\t\t\tbackgroundImageStyles( url ) :\n\t\t\t\t\t\t{}\n\t\t\t\t),\n\t\t\t\tbackgroundColor: overlayColor.color,\n\t\t\t};\n\n\t\t\tconst classes = classnames(\n\t\t\t\tclassName,\n\t\t\t\tcontentAlign !== 'center' && `has-${ contentAlign }-content`,\n\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t{\n\t\t\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t\t\t'has-parallax': hasParallax,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst controls = (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\t\tonChange={ updateAlignment }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !! url && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\t\t\t\tvalue={ contentAlign }\n\t\t\t\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { contentAlign: nextAlign } );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Edit media' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</BlockControls>\n\t\t\t\t\t{ !! url && (\n\t\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t\t<PanelBody title={ __( 'Cover Settings' ) }>\n\t\t\t\t\t\t\t\t{ IMAGE_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Fixed Background' ) }\n\t\t\t\t\t\t\t\t\t\tchecked={ hasParallax }\n\t\t\t\t\t\t\t\t\t\tonChange={ toggleParallax }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Overlay' ) }\n\t\t\t\t\t\t\t\t\tinitialOpen={ true }\n\t\t\t\t\t\t\t\t\tcolorSettings={ [ {\n\t\t\t\t\t\t\t\t\t\tvalue: overlayColor.color,\n\t\t\t\t\t\t\t\t\t\tonChange: setOverlayColor,\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Overlay Color' ),\n\t\t\t\t\t\t\t\t\t} ] }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Background Opacity' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={ dimRatio }\n\t\t\t\t\t\t\t\t\t\tonChange={ setDimRatio }\n\t\t\t\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PanelColorSettings>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t);\n\n\t\t\tif ( ! url ) {\n\t\t\t\tconst hasTitle = ! RichText.isEmpty( title );\n\t\t\t\tconst icon = hasTitle ? undefined : 'format-image';\n\t\t\t\tconst label = hasTitle ? (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"h2\"\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t/>\n\t\t\t\t) : __( 'Cover' );\n\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{ controls }\n\t\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\t\tlabels={ {\n\t\t\t\t\t\t\t\ttitle: label,\n\t\t\t\t\t\t\t\tinstructions: __( 'Drag an image or a video, upload a new one or select a file from your library.' ),\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\t\t\tonError={ noticeOperations.createErrorNotice }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ controls }\n\t\t\t\t\t<div\n\t\t\t\t\t\tdata-url={ url }\n\t\t\t\t\t\tstyle={ style }\n\t\t\t\t\t\tclassName={ classes }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\n\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ( ! RichText.isEmpty( title ) || isSelected ) && (\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\tclassName=\"wp-block-cover-text\"\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Write title' ) }\n\t\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t),\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\talign,\n\t\t\tbackgroundType,\n\t\t\tcontentAlign,\n\t\t\tcustomOverlayColor,\n\t\t\tdimRatio,\n\t\t\thasParallax,\n\t\t\toverlayColor,\n\t\t\ttitle,\n\t\t\turl,\n\t\t} = attributes;\n\t\tconst overlayColorClass = getColorClassName( 'background-color', overlayColor );\n\t\tconst style = backgroundType === IMAGE_BACKGROUND_TYPE ?\n\t\t\tbackgroundImageStyles( url ) :\n\t\t\t{};\n\t\tif ( ! overlayColorClass ) {\n\t\t\tstyle.backgroundColor = customOverlayColor;\n\t\t}\n\n\t\tconst classes = classnames(\n\t\t\tdimRatioToClass( dimRatio ),\n\t\t\toverlayColorClass,\n\t\t\t{\n\t\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t\t'has-parallax': hasParallax,\n\t\t\t\t[ `has-${ contentAlign }-content` ]: contentAlign !== 'center',\n\t\t\t},\n\t\t\talign ? `align${ align }` : null,\n\t\t);\n\n\t\treturn (\n\t\t\t<div className={ classes } style={ style }>\n\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && url && ( <video\n\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\n\t\t\t\t\tautoPlay\n\t\t\t\t\tmuted\n\t\t\t\t\tloop\n\t\t\t\t\tsrc={ url }\n\t\t\t\t/> ) }\n\t\t\t\t{ ! RichText.isEmpty( title ) && (\n\t\t\t\t\t<RichText.Content tagName=\"p\" className=\"wp-block-cover-text\" value={ title } />\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t},\n\n\tdeprecated: [ {\n\t\tattributes: {\n\t\t\t...blockAttributes,\n\t\t},\n\n\t\tsupports: {\n\t\t\tclassName: false,\n\t\t},\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, title, hasParallax, dimRatio, align, contentAlign, overlayColor, customOverlayColor } = attributes;\n\t\t\tconst overlayColorClass = getColorClassName( 'background-color', overlayColor );\n\t\t\tconst style = backgroundImageStyles( url );\n\t\t\tif ( ! overlayColorClass ) {\n\t\t\t\tstyle.backgroundColor = customOverlayColor;\n\t\t\t}\n\n\t\t\tconst classes = classnames(\n\t\t\t\t'wp-block-cover-image',\n\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\toverlayColorClass,\n\t\t\t\t{\n\t\t\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t\t\t'has-parallax': hasParallax,\n\t\t\t\t\t[ `has-${ contentAlign }-content` ]: contentAlign !== 'center',\n\t\t\t\t},\n\t\t\t\talign ? `align${ align }` : null,\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div className={ classes } style={ style }>\n\t\t\t\t\t{ ! RichText.isEmpty( title ) && (\n\t\t\t\t\t\t<RichText.Content tagName=\"p\" className=\"wp-block-cover-image-text\" value={ title } />\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t}, {\n\t\tattributes: {\n\t\t\t...blockAttributes,\n\t\t\ttitle: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: 'h2',\n\t\t\t},\n\t\t},\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, title, hasParallax, dimRatio, align } = attributes;\n\t\t\tconst style = backgroundImageStyles( url );\n\t\t\tconst classes = classnames(\n\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t{\n\t\t\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t\t\t'has-parallax': hasParallax,\n\t\t\t\t},\n\t\t\t\talign ? `align${ align }` : null,\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<section className={ classes } style={ style }>\n\t\t\t\t\t<RichText.Content tagName=\"h2\" value={ title } />\n\t\t\t\t</section>\n\t\t\t);\n\t\t},\n\t} ],\n};\n\nfunction dimRatioToClass( ratio ) {\n\treturn ( ratio === 0 || ratio === 50 ) ?\n\t\tnull :\n\t\t'has-background-dim-' + ( 10 * Math.round( ratio / 10 ) );\n}\n\nfunction backgroundImageStyles( url ) {\n\treturn url ?\n\t\t{ backgroundImage: `url(${ url })` } :\n\t\t{};\n}\n","// These embeds do not work in sandboxes due to the iframe's security restrictions.\nexport const HOSTS_NO_PREVIEWS = [ 'facebook.com' ];\n\nexport const ASPECT_RATIOS = [\n\t// Common video resolutions.\n\t{ ratio: '2.33', className: 'wp-embed-aspect-21-9' },\n\t{ ratio: '2.00', className: 'wp-embed-aspect-18-9' },\n\t{ ratio: '1.78', className: 'wp-embed-aspect-16-9' },\n\t{ ratio: '1.33', className: 'wp-embed-aspect-4-3' },\n\t// Vertical video and instagram square video support.\n\t{ ratio: '1.00', className: 'wp-embed-aspect-1-1' },\n\t{ ratio: '0.56', className: 'wp-embed-aspect-9-16' },\n\t{ ratio: '0.50', className: 'wp-embed-aspect-1-2' },\n];\n\nexport const DEFAULT_EMBED_BLOCK = 'core/embed';\nexport const WORDPRESS_EMBED_BLOCK = 'core-embed/wordpress';\n","/**\n * Internal dependencies\n */\nimport {\n\tembedContentIcon,\n\tembedAudioIcon,\n\tembedPhotoIcon,\n\tembedVideoIcon,\n\tembedTwitterIcon,\n\tembedYouTubeIcon,\n\tembedFacebookIcon,\n\tembedInstagramIcon,\n\tembedWordPressIcon,\n\tembedSpotifyIcon,\n\tembedFlickrIcon,\n\tembedVimeoIcon,\n\tembedRedditIcon,\n\tembedTumbrIcon,\n} from './icons';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\n\nexport const common = [\n\t{\n\t\tname: 'core-embed/twitter',\n\t\tsettings: {\n\t\t\ttitle: 'Twitter',\n\t\t\ticon: embedTwitterIcon,\n\t\t\tkeywords: [ 'tweet' ],\n\t\t\tdescription: __( 'Embed a tweet.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?twitter\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/youtube',\n\t\tsettings: {\n\t\t\ttitle: 'YouTube',\n\t\t\ticon: embedYouTubeIcon,\n\t\t\tkeywords: [ __( 'music' ), __( 'video' ) ],\n\t\t\tdescription: __( 'Embed a YouTube video.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/((m|www)\\.)?youtube\\.com\\/.+/i, /^https?:\\/\\/youtu\\.be\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/facebook',\n\t\tsettings: {\n\t\t\ttitle: 'Facebook',\n\t\t\ticon: embedFacebookIcon,\n\t\t\tdescription: __( 'Embed a Facebook post.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/www\\.facebook.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/instagram',\n\t\tsettings: {\n\t\t\ttitle: 'Instagram',\n\t\t\ticon: embedInstagramIcon,\n\t\t\tkeywords: [ __( 'image' ) ],\n\t\t\tdescription: __( 'Embed an Instagram post.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?instagr(\\.am|am\\.com)\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/wordpress',\n\t\tsettings: {\n\t\t\ttitle: 'WordPress',\n\t\t\ticon: embedWordPressIcon,\n\t\t\tkeywords: [ __( 'post' ), __( 'blog' ) ],\n\t\t\tresponsive: false,\n\t\t\tdescription: __( 'Embed a WordPress post.' ),\n\t\t},\n\t},\n\t{\n\t\tname: 'core-embed/soundcloud',\n\t\tsettings: {\n\t\t\ttitle: 'SoundCloud',\n\t\t\ticon: embedAudioIcon,\n\t\t\tkeywords: [ __( 'music' ), __( 'audio' ) ],\n\t\t\tdescription: __( 'Embed SoundCloud content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?soundcloud\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/spotify',\n\t\tsettings: {\n\t\t\ttitle: 'Spotify',\n\t\t\ticon: embedSpotifyIcon,\n\t\t\tkeywords: [ __( 'music' ), __( 'audio' ) ],\n\t\t\tdescription: __( 'Embed Spotify content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(open|play)\\.spotify\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/flickr',\n\t\tsettings: {\n\t\t\ttitle: 'Flickr',\n\t\t\ticon: embedFlickrIcon,\n\t\t\tkeywords: [ __( 'image' ) ],\n\t\t\tdescription: __( 'Embed Flickr content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?flickr\\.com\\/.+/i, /^https?:\\/\\/flic\\.kr\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/vimeo',\n\t\tsettings: {\n\t\t\ttitle: 'Vimeo',\n\t\t\ticon: embedVimeoIcon,\n\t\t\tkeywords: [ __( 'video' ) ],\n\t\t\tdescription: __( 'Embed a Vimeo video.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?vimeo\\.com\\/.+/i ],\n\t},\n];\n\nexport const others = [\n\t{\n\t\tname: 'core-embed/animoto',\n\t\tsettings: {\n\t\t\ttitle: 'Animoto',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed an Animoto video.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?(animoto|video214)\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/cloudup',\n\t\tsettings: {\n\t\t\ttitle: 'Cloudup',\n\t\t\ticon: embedContentIcon,\n\t\t\tdescription: __( 'Embed Cloudup content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/cloudup\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/collegehumor',\n\t\tsettings: {\n\t\t\ttitle: 'CollegeHumor',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed CollegeHumor content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?collegehumor\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/dailymotion',\n\t\tsettings: {\n\t\t\ttitle: 'Dailymotion',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed a Dailymotion video.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?dailymotion\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/funnyordie',\n\t\tsettings: {\n\t\t\ttitle: 'Funny or Die',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed Funny or Die content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?funnyordie\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/hulu',\n\t\tsettings: {\n\t\t\ttitle: 'Hulu',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed Hulu content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?hulu\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/imgur',\n\t\tsettings: {\n\t\t\ttitle: 'Imgur',\n\t\t\ticon: embedPhotoIcon,\n\t\t\tdescription: __( 'Embed Imgur content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(.+\\.)?imgur\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/issuu',\n\t\tsettings: {\n\t\t\ttitle: 'Issuu',\n\t\t\ticon: embedContentIcon,\n\t\t\tdescription: __( 'Embed Issuu content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?issuu\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/kickstarter',\n\t\tsettings: {\n\t\t\ttitle: 'Kickstarter',\n\t\t\ticon: embedContentIcon,\n\t\t\tdescription: __( 'Embed Kickstarter content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?kickstarter\\.com\\/.+/i, /^https?:\\/\\/kck\\.st\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/meetup-com',\n\t\tsettings: {\n\t\t\ttitle: 'Meetup.com',\n\t\t\ticon: embedContentIcon,\n\t\t\tdescription: __( 'Embed Meetup.com content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?meetu(\\.ps|p\\.com)\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/mixcloud',\n\t\tsettings: {\n\t\t\ttitle: 'Mixcloud',\n\t\t\ticon: embedAudioIcon,\n\t\t\tkeywords: [ __( 'music' ), __( 'audio' ) ],\n\t\t\tdescription: __( 'Embed Mixcloud content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?mixcloud\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/photobucket',\n\t\tsettings: {\n\t\t\ttitle: 'Photobucket',\n\t\t\ticon: embedPhotoIcon,\n\t\t\tdescription: __( 'Embed a Photobucket image.' ),\n\t\t},\n\t\tpatterns: [ /^http:\\/\\/g?i*\\.photobucket\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/polldaddy',\n\t\tsettings: {\n\t\t\ttitle: 'Polldaddy',\n\t\t\ticon: embedContentIcon,\n\t\t\tdescription: __( 'Embed Polldaddy content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?polldaddy\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/reddit',\n\t\tsettings: {\n\t\t\ttitle: 'Reddit',\n\t\t\ticon: embedRedditIcon,\n\t\t\tdescription: __( 'Embed a Reddit thread.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?reddit\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/reverbnation',\n\t\tsettings: {\n\t\t\ttitle: 'ReverbNation',\n\t\t\ticon: embedAudioIcon,\n\t\t\tdescription: __( 'Embed ReverbNation content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?reverbnation\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/screencast',\n\t\tsettings: {\n\t\t\ttitle: 'Screencast',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed Screencast content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?screencast\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/scribd',\n\t\tsettings: {\n\t\t\ttitle: 'Scribd',\n\t\t\ticon: embedContentIcon,\n\t\t\tdescription: __( 'Embed Scribd content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?scribd\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/slideshare',\n\t\tsettings: {\n\t\t\ttitle: 'Slideshare',\n\t\t\ticon: embedContentIcon,\n\t\t\tdescription: __( 'Embed Slideshare content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(.+?\\.)?slideshare\\.net\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/smugmug',\n\t\tsettings: {\n\t\t\ttitle: 'SmugMug',\n\t\t\ticon: embedPhotoIcon,\n\t\t\tdescription: __( 'Embed SmugMug content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?smugmug\\.com\\/.+/i ],\n\t},\n\t{\n\t\t// Deprecated in favour of the core-embed/speaker-deck block.\n\t\tname: 'core-embed/speaker',\n\t\tsettings: {\n\t\t\ttitle: 'Speaker',\n\t\t\ticon: embedAudioIcon,\n\t\t\tsupports: {\n\t\t\t\tinserter: false,\n\t\t\t},\n\t\t},\n\t\tpatterns: [],\n\t},\n\t{\n\t\tname: 'core-embed/speaker-deck',\n\t\tsettings: {\n\t\t\ttitle: 'Speaker Deck',\n\t\t\ticon: embedContentIcon,\n\t\t\ttransform: [ {\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core-embed/speaker' ],\n\t\t\t\ttransform: ( content ) => {\n\t\t\t\t\treturn createBlock( 'core-embed/speaker-deck', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t} ],\n\t\t\tdescription: __( 'Embed Speaker Deck content.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?speakerdeck\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/ted',\n\t\tsettings: {\n\t\t\ttitle: 'TED',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed a TED video.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.|embed\\.)?ted\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/tumblr',\n\t\tsettings: {\n\t\t\ttitle: 'Tumblr',\n\t\t\ticon: embedTumbrIcon,\n\t\t\tdescription: __( 'Embed a Tumblr post.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?tumblr\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/videopress',\n\t\tsettings: {\n\t\t\ttitle: 'VideoPress',\n\t\t\ticon: embedVideoIcon,\n\t\t\tkeywords: [ __( 'video' ) ],\n\t\t\tdescription: __( 'Embed a VideoPress video.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/videopress\\.com\\/.+/i ],\n\t},\n\t{\n\t\tname: 'core-embed/wordpress-tv',\n\t\tsettings: {\n\t\t\ttitle: 'WordPress.tv',\n\t\t\ticon: embedVideoIcon,\n\t\t\tdescription: __( 'Embed a WordPress.tv video.' ),\n\t\t},\n\t\tpatterns: [ /^https?:\\/\\/wordpress\\.tv\\/.+/i ],\n\t},\n];\n","/**\n * Internal dependencies\n */\nimport { isFromWordPress, createUpgradedEmbedBlock, getClassNames } from './util';\nimport EmbedControls from './embed-controls';\nimport EmbedLoading from './embed-loading';\nimport EmbedPlaceholder from './embed-placeholder';\nimport EmbedPreview from './embed-preview';\n\n/**\n * External dependencies\n */\nimport { kebabCase, toLower } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component, Fragment } from '@wordpress/element';\n\nexport function getEmbedEditComponent( title, icon, responsive = true ) {\n\treturn class extends Component {\n\t\tconstructor() {\n\t\t\tsuper( ...arguments );\n\t\t\tthis.switchBackToURLInput = this.switchBackToURLInput.bind( this );\n\t\t\tthis.setUrl = this.setUrl.bind( this );\n\t\t\tthis.getAttributesFromPreview = this.getAttributesFromPreview.bind( this );\n\t\t\tthis.setAttributesFromPreview = this.setAttributesFromPreview.bind( this );\n\t\t\tthis.getResponsiveHelp = this.getResponsiveHelp.bind( this );\n\t\t\tthis.toggleResponsive = this.toggleResponsive.bind( this );\n\t\t\tthis.handleIncomingPreview = this.handleIncomingPreview.bind( this );\n\n\t\t\tthis.state = {\n\t\t\t\teditingURL: false,\n\t\t\t\turl: this.props.attributes.url,\n\t\t\t};\n\n\t\t\tif ( this.props.preview ) {\n\t\t\t\tthis.handleIncomingPreview();\n\t\t\t}\n\t\t}\n\n\t\thandleIncomingPreview() {\n\t\t\tconst { allowResponsive } = this.props.attributes;\n\t\t\tthis.setAttributesFromPreview();\n\t\t\tconst upgradedBlock = createUpgradedEmbedBlock(\n\t\t\t\tthis.props,\n\t\t\t\tthis.getAttributesFromPreview( this.props.preview, allowResponsive )\n\t\t\t);\n\t\t\tif ( upgradedBlock ) {\n\t\t\t\tthis.props.onReplace( upgradedBlock );\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate( prevProps ) {\n\t\t\tconst hasPreview = undefined !== this.props.preview;\n\t\t\tconst hadPreview = undefined !== prevProps.preview;\n\t\t\tconst switchedPreview = this.props.preview && this.props.attributes.url !== prevProps.attributes.url;\n\t\t\tconst switchedURL = this.props.attributes.url !== prevProps.attributes.url;\n\n\t\t\tif ( ( hasPreview && ! hadPreview ) || switchedPreview || switchedURL ) {\n\t\t\t\tif ( this.props.cannotEmbed ) {\n\t\t\t\t\t// Can't embed this URL, and we've just received or switched the preview.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.handleIncomingPreview();\n\t\t\t}\n\t\t}\n\n\t\tsetUrl( event ) {\n\t\t\tif ( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tconst { url } = this.state;\n\t\t\tconst { setAttributes } = this.props;\n\t\t\tthis.setState( { editingURL: false } );\n\t\t\tsetAttributes( { url } );\n\t\t}\n\n\t\t/***\n\t\t * Gets block attributes based on the preview and responsive state.\n\t\t *\n\t\t * @param {string} preview The preview data.\n\t\t * @param {boolean} allowResponsive Apply responsive classes to fixed size content.\n\t\t * @return {Object} Attributes and values.\n\t\t */\n\t\tgetAttributesFromPreview( preview, allowResponsive = true ) {\n\t\t\tconst attributes = {};\n\t\t\t// Some plugins only return HTML with no type info, so default this to 'rich'.\n\t\t\tlet { type = 'rich' } = preview;\n\t\t\t// If we got a provider name from the API, use it for the slug, otherwise we use the title,\n\t\t\t// because not all embed code gives us a provider name.\n\t\t\tconst { html, provider_name: providerName } = preview;\n\t\t\tconst providerNameSlug = kebabCase( toLower( '' !== providerName ? providerName : title ) );\n\n\t\t\tif ( isFromWordPress( html ) ) {\n\t\t\t\ttype = 'wp-embed';\n\t\t\t}\n\n\t\t\tif ( html || 'photo' === type ) {\n\t\t\t\tattributes.type = type;\n\t\t\t\tattributes.providerNameSlug = providerNameSlug;\n\t\t\t}\n\n\t\t\tattributes.className = getClassNames( html, this.props.attributes.className, responsive && allowResponsive );\n\n\t\t\treturn attributes;\n\t\t}\n\n\t\t/***\n\t\t * Sets block attributes based on the preview data.\n\t\t */\n\t\tsetAttributesFromPreview() {\n\t\t\tconst { setAttributes, preview } = this.props;\n\t\t\tconst { allowResponsive } = this.props.attributes;\n\t\t\tsetAttributes( this.getAttributesFromPreview( preview, allowResponsive ) );\n\t\t}\n\n\t\tswitchBackToURLInput() {\n\t\t\tthis.setState( { editingURL: true } );\n\t\t}\n\n\t\tgetResponsiveHelp( checked ) {\n\t\t\treturn checked ? __( 'This embed will preserve its aspect ratio when the browser is resized.' ) : __( 'This embed may not preserve its aspect ratio when the browser is resized.' );\n\t\t}\n\n\t\ttoggleResponsive() {\n\t\t\tconst { allowResponsive, className } = this.props.attributes;\n\t\t\tconst { html } = this.props.preview;\n\t\t\tconst newAllowResponsive = ! allowResponsive;\n\n\t\t\tthis.props.setAttributes(\n\t\t\t\t{\n\t\t\t\t\tallowResponsive: newAllowResponsive,\n\t\t\t\t\tclassName: getClassNames( html, className, responsive && newAllowResponsive ),\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\trender() {\n\t\t\tconst { url, editingURL } = this.state;\n\t\t\tconst { caption, type, allowResponsive } = this.props.attributes;\n\t\t\tconst { fetching, setAttributes, isSelected, className, preview, cannotEmbed, themeSupportsResponsive } = this.props;\n\n\t\t\tif ( fetching ) {\n\t\t\t\treturn (\n\t\t\t\t\t<EmbedLoading />\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// translators: %s: type of embed e.g: \"YouTube\", \"Twitter\", etc. \"Embed\" is used when no specific type exists\n\t\t\tconst label = sprintf( __( '%s URL' ), title );\n\n\t\t\t// No preview, or we can't embed the current URL, or we've clicked the edit button.\n\t\t\tif ( ! preview || cannotEmbed || editingURL ) {\n\t\t\t\treturn (\n\t\t\t\t\t<EmbedPlaceholder\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\tonSubmit={ this.setUrl }\n\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\tcannotEmbed={ cannotEmbed }\n\t\t\t\t\t\tonChange={ ( event ) => this.setState( { url: event.target.value } ) }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<EmbedControls\n\t\t\t\t\t\tshowEditButton={ preview && ! cannotEmbed }\n\t\t\t\t\t\tthemeSupportsResponsive={ themeSupportsResponsive }\n\t\t\t\t\t\tblockSupportsResponsive={ responsive }\n\t\t\t\t\t\tallowResponsive={ allowResponsive }\n\t\t\t\t\t\tgetResponsiveHelp={ this.getResponsiveHelp }\n\t\t\t\t\t\ttoggleResponsive={ this.toggleResponsive }\n\t\t\t\t\t\tswitchBackToURLInput={ this.switchBackToURLInput }\n\t\t\t\t\t/>\n\t\t\t\t\t<EmbedPreview\n\t\t\t\t\t\tpreview={ preview }\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\ttype={ type }\n\t\t\t\t\t\tcaption={ caption }\n\t\t\t\t\t\tonCaptionChange={ ( value ) => setAttributes( { caption: value } ) }\n\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { IconButton, Toolbar, PanelBody, ToggleControl } from '@wordpress/components';\nimport { BlockControls, InspectorControls } from '@wordpress/editor';\n\nconst EmbedControls = ( props ) => {\n\tconst {\n\t\tblockSupportsResponsive,\n\t\tshowEditButton,\n\t\tthemeSupportsResponsive,\n\t\tallowResponsive,\n\t\tgetResponsiveHelp,\n\t\ttoggleResponsive,\n\t\tswitchBackToURLInput,\n\t} = props;\n\treturn (\n\t\t<Fragment>\n\t\t\t<BlockControls>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t{ showEditButton && (\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\tlabel={ __( 'Edit URL' ) }\n\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\tonClick={ switchBackToURLInput }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</Toolbar>\n\t\t\t</BlockControls>\n\t\t\t{ themeSupportsResponsive && blockSupportsResponsive && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Media Settings' ) } className=\"blocks-responsive\">\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Resize for smaller devices' ) }\n\t\t\t\t\t\t\tchecked={ allowResponsive }\n\t\t\t\t\t\t\thelp={ getResponsiveHelp }\n\t\t\t\t\t\t\tonChange={ toggleResponsive }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n};\n\nexport default EmbedControls;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Spinner } from '@wordpress/components';\n\nconst EmbedLoading = () => (\n\t<div className=\"wp-block-embed is-loading\">\n\t\t<Spinner />\n\t\t<p>{ __( 'Embedding' ) }</p>\n\t</div>\n);\n\nexport default EmbedLoading;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { Button, Placeholder } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/editor';\n\nconst EmbedPlaceholder = ( props ) => {\n\tconst { icon, label, value, onSubmit, onChange, cannotEmbed } = props;\n\treturn (\n\t\t<Placeholder icon={ <BlockIcon icon={ icon } showColors /> } label={ label } className=\"wp-block-embed\">\n\t\t\t<form onSubmit={ onSubmit }>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tclassName=\"components-placeholder__input\"\n\t\t\t\t\taria-label={ label }\n\t\t\t\t\tplaceholder={ __( 'Enter URL to embed here' ) }\n\t\t\t\t\tonChange={ onChange } />\n\t\t\t\t<Button\n\t\t\t\t\tisLarge\n\t\t\t\t\ttype=\"submit\">\n\t\t\t\t\t{ _x( 'Embed', 'button label' ) }\n\t\t\t\t</Button>\n\t\t\t\t{ cannotEmbed && <p className=\"components-placeholder__error\">{ __( 'Sorry, we could not embed that content.' ) }</p> }\n\t\t\t</form>\n\t\t</Placeholder>\n\t);\n};\n\nexport default EmbedPlaceholder;\n","/**\n * Internal dependencies\n */\nimport { HOSTS_NO_PREVIEWS } from './constants';\nimport { getPhotoHtml } from './util';\n\n/**\n * External dependencies\n */\nimport { parse } from 'url';\nimport { includes } from 'lodash';\nimport classnames from 'classnames/dedupe';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Placeholder, SandBox } from '@wordpress/components';\nimport { RichText, BlockIcon } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport WpEmbedPreview from './wp-embed-preview';\n\nconst EmbedPreview = ( props ) => {\n\tconst { preview, url, type, caption, onCaptionChange, isSelected, className, icon, label } = props;\n\tconst { scripts } = preview;\n\n\tconst html = 'photo' === type ? getPhotoHtml( preview ) : preview.html;\n\tconst parsedUrl = parse( url );\n\tconst cannotPreview = includes( HOSTS_NO_PREVIEWS, parsedUrl.host.replace( /^www\\./, '' ) );\n\t// translators: %s: host providing embed content e.g: www.youtube.com\n\tconst iframeTitle = sprintf( __( 'Embedded content from %s' ), parsedUrl.host );\n\tconst sandboxClassnames = classnames( type, className, 'wp-block-embed__wrapper' );\n\n\tconst embedWrapper = 'wp-embed' === type ? (\n\t\t<WpEmbedPreview\n\t\t\thtml={ html }\n\t\t/>\n\t) : (\n\t\t<div className=\"wp-block-embed__wrapper\">\n\t\t\t<SandBox\n\t\t\t\thtml={ html }\n\t\t\t\tscripts={ scripts }\n\t\t\t\ttitle={ iframeTitle }\n\t\t\t\ttype={ sandboxClassnames }\n\t\t\t/>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<figure className={ classnames( className, 'wp-block-embed', { 'is-type-video': 'video' === type } ) }>\n\t\t\t{ ( cannotPreview ) ? (\n\t\t\t\t<Placeholder icon={ <BlockIcon icon={ icon } showColors /> } label={ label }>\n\t\t\t\t\t<p className=\"components-placeholder__error\"><a href={ url }>{ url }</a></p>\n\t\t\t\t\t<p className=\"components-placeholder__error\">{ __( 'Previews for this are unavailable in the editor, sorry!' ) }</p>\n\t\t\t\t</Placeholder>\n\t\t\t) : embedWrapper }\n\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\tplaceholder={ __( 'Write caption' ) }\n\t\t\t\t\tvalue={ caption }\n\t\t\t\t\tonChange={ onCaptionChange }\n\t\t\t\t\tinlineToolbar\n\t\t\t\t/>\n\t\t\t) }\n\t\t</figure>\n\t);\n};\n\nexport default EmbedPreview;\n","/**\n * WordPress dependencies\n */\nimport {\n\tG,\n\tPath,\n\tPolygon,\n\tSVG,\n} from '@wordpress/components';\n\nexport const embedContentIcon = <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"M19,4H5C3.89,4,3,4.9,3,6v12c0,1.1,0.89,2,2,2h14c1.1,0,2-0.9,2-2V6C21,4.9,20.11,4,19,4z M19,18H5V8h14V18z\" /></SVG>;\nexport const embedAudioIcon = <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><Path d=\"M21 3H3L1 5v14l2 2h18l2-2V5l-2-2zm0 16H3V5h18v14zM8 15a3 3 0 0 1 4-3V6h5v2h-3v7a3 3 0 0 1-6 0z\" /></SVG>;\nexport const embedPhotoIcon = <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"M21,4H3C1.9,4,1,4.9,1,6v12c0,1.1,0.9,2,2,2h18c1.1,0,2-0.9,2-2V6C23,4.9,22.1,4,21,4z M21,18H3V6h18V18z\" /><Polygon points=\"14.5 11 11 15.51 8.5 12.5 5 17 19 17\" /></SVG>;\nexport const embedVideoIcon = <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"m10 8v8l5-4-5-4zm9-5h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2zm0 16h-14v-14h14v14z\" /></SVG>;\nexport const embedTwitterIcon = {\n\tforeground: '#1da1f2',\n\tsrc: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><G><Path d=\"M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z\"></Path></G></SVG>,\n};\nexport const embedYouTubeIcon = {\n\tforeground: '#ff0000',\n\tsrc: <SVG viewBox=\"0 0 24 24\"><Path d=\"M21.8 8s-.195-1.377-.795-1.984c-.76-.797-1.613-.8-2.004-.847-2.798-.203-6.996-.203-6.996-.203h-.01s-4.197 0-6.996.202c-.39.046-1.242.05-2.003.846C2.395 6.623 2.2 8 2.2 8S2 9.62 2 11.24v1.517c0 1.618.2 3.237.2 3.237s.195 1.378.795 1.985c.76.797 1.76.77 2.205.855 1.6.153 6.8.2 6.8.2s4.203-.005 7-.208c.392-.047 1.244-.05 2.005-.847.6-.607.795-1.985.795-1.985s.2-1.618.2-3.237v-1.517C22 9.62 21.8 8 21.8 8zM9.935 14.595v-5.62l5.403 2.82-5.403 2.8z\" /></SVG>,\n};\nexport const embedFacebookIcon = {\n\tforeground: '#3b5998',\n\tsrc: <SVG viewBox=\"0 0 24 24\"><Path d=\"M20 3H4c-.6 0-1 .4-1 1v16c0 .5.4 1 1 1h8.6v-7h-2.3v-2.7h2.3v-2c0-2.3 1.4-3.6 3.5-3.6 1 0 1.8.1 2.1.1v2.4h-1.4c-1.1 0-1.3.5-1.3 1.3v1.7h2.7l-.4 2.8h-2.3v7H20c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1z\" /></SVG>,\n};\nexport const embedInstagramIcon = <SVG viewBox=\"0 0 24 24\"><G><Path d=\"M12 4.622c2.403 0 2.688.01 3.637.052.877.04 1.354.187 1.67.31.42.163.72.358 1.036.673.315.315.51.615.673 1.035.123.317.27.794.31 1.67.043.95.052 1.235.052 3.638s-.01 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.67-.163.42-.358.72-.673 1.036-.315.315-.615.51-1.035.673-.317.123-.794.27-1.67.31-.95.043-1.234.052-3.638.052s-2.688-.01-3.637-.052c-.877-.04-1.354-.187-1.67-.31-.42-.163-.72-.358-1.036-.673-.315-.315-.51-.615-.673-1.035-.123-.317-.27-.794-.31-1.67-.043-.95-.052-1.235-.052-3.638s.01-2.688.052-3.637c.04-.877.187-1.354.31-1.67.163-.42.358-.72.673-1.036.315-.315.615-.51 1.035-.673.317-.123.794-.27 1.67-.31.95-.043 1.235-.052 3.638-.052M12 3c-2.444 0-2.75.01-3.71.054s-1.613.196-2.185.418c-.592.23-1.094.538-1.594 1.04-.5.5-.807 1-1.037 1.593-.223.572-.375 1.226-.42 2.184C3.01 9.25 3 9.555 3 12s.01 2.75.054 3.71.196 1.613.418 2.186c.23.592.538 1.094 1.038 1.594s1.002.808 1.594 1.038c.572.222 1.227.375 2.185.418.96.044 1.266.054 3.71.054s2.75-.01 3.71-.054 1.613-.196 2.186-.418c.592-.23 1.094-.538 1.594-1.038s.808-1.002 1.038-1.594c.222-.572.375-1.227.418-2.185.044-.96.054-1.266.054-3.71s-.01-2.75-.054-3.71-.196-1.613-.418-2.186c-.23-.592-.538-1.094-1.038-1.594s-1.002-.808-1.594-1.038c-.572-.222-1.227-.375-2.185-.418C14.75 3.01 14.445 3 12 3zm0 4.378c-2.552 0-4.622 2.07-4.622 4.622s2.07 4.622 4.622 4.622 4.622-2.07 4.622-4.622S14.552 7.378 12 7.378zM12 15c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3zm4.804-8.884c-.596 0-1.08.484-1.08 1.08s.484 1.08 1.08 1.08c.596 0 1.08-.484 1.08-1.08s-.483-1.08-1.08-1.08z\"></Path></G></SVG>;\nexport const embedWordPressIcon = {\n\tforeground: '#0073AA',\n\tsrc: <SVG viewBox=\"0 0 24 24\"><G><Path d=\"M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z\"></Path></G></SVG>,\n};\nexport const embedSpotifyIcon = {\n\tforeground: '#1db954',\n\tsrc: <SVG viewBox=\"0 0 24 24\"><Path d=\"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m4.586 14.424c-.18.295-.563.387-.857.207-2.35-1.434-5.305-1.76-8.786-.963-.335.077-.67-.133-.746-.47-.077-.334.132-.67.47-.745 3.808-.87 7.076-.496 9.712 1.115.293.18.386.563.206.857M17.81 13.7c-.226.367-.706.482-1.072.257-2.687-1.652-6.785-2.13-9.965-1.166-.413.127-.848-.106-.973-.517-.125-.413.108-.848.52-.973 3.632-1.102 8.147-.568 11.234 1.328.366.226.48.707.256 1.072m.105-2.835C14.692 8.95 9.375 8.775 6.297 9.71c-.493.15-1.016-.13-1.166-.624-.148-.495.13-1.017.625-1.167 3.532-1.073 9.404-.866 13.115 1.337.445.264.59.838.327 1.282-.264.443-.838.59-1.282.325\" /></SVG>,\n};\nexport const embedFlickrIcon = <SVG viewBox=\"0 0 24 24\"><Path d=\"m6.5 7c-2.75 0-5 2.25-5 5s2.25 5 5 5 5-2.25 5-5-2.25-5-5-5zm11 0c-2.75 0-5 2.25-5 5s2.25 5 5 5 5-2.25 5-5-2.25-5-5-5z\" /></SVG>;\nexport const embedVimeoIcon = {\n\tforeground: '#1ab7ea',\n\tsrc: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><G><Path d=\"M22.396 7.164c-.093 2.026-1.507 4.8-4.245 8.32C15.323 19.16 12.93 21 10.97 21c-1.214 0-2.24-1.12-3.08-3.36-.56-2.052-1.118-4.105-1.68-6.158-.622-2.24-1.29-3.36-2.004-3.36-.156 0-.7.328-1.634.98l-.978-1.26c1.027-.903 2.04-1.806 3.037-2.71C6 3.95 7.03 3.328 7.716 3.265c1.62-.156 2.616.95 2.99 3.32.404 2.558.685 4.148.84 4.77.468 2.12.982 3.18 1.543 3.18.435 0 1.09-.687 1.963-2.064.872-1.376 1.34-2.422 1.402-3.142.125-1.187-.343-1.782-1.4-1.782-.5 0-1.013.115-1.542.34 1.023-3.35 2.977-4.976 5.862-4.883 2.14.063 3.148 1.45 3.024 4.16z\"></Path></G></SVG>,\n};\nexport const embedRedditIcon = <SVG viewBox=\"0 0 24 24\"><Path d=\"M22 11.816c0-1.256-1.02-2.277-2.277-2.277-.593 0-1.122.24-1.526.613-1.48-.965-3.455-1.594-5.647-1.69l1.17-3.702 3.18.75c.01 1.027.847 1.86 1.877 1.86 1.035 0 1.877-.84 1.877-1.877 0-1.035-.842-1.877-1.877-1.877-.77 0-1.43.466-1.72 1.13L13.55 3.92c-.204-.047-.4.067-.46.26l-1.35 4.27c-2.317.037-4.412.67-5.97 1.67-.402-.355-.917-.58-1.493-.58C3.02 9.54 2 10.56 2 11.815c0 .814.433 1.523 1.078 1.925-.037.222-.06.445-.06.673 0 3.292 4.01 5.97 8.94 5.97s8.94-2.678 8.94-5.97c0-.214-.02-.424-.052-.632.687-.39 1.154-1.12 1.154-1.964zm-3.224-7.422c.606 0 1.1.493 1.1 1.1s-.493 1.1-1.1 1.1-1.1-.494-1.1-1.1.493-1.1 1.1-1.1zm-16 7.422c0-.827.673-1.5 1.5-1.5.313 0 .598.103.838.27-.85.675-1.477 1.478-1.812 2.36-.32-.274-.525-.676-.525-1.13zm9.183 7.79c-4.502 0-8.165-2.33-8.165-5.193S7.457 9.22 11.96 9.22s8.163 2.33 8.163 5.193-3.663 5.193-8.164 5.193zM20.635 13c-.326-.89-.948-1.7-1.797-2.383.247-.186.55-.3.882-.3.827 0 1.5.672 1.5 1.5 0 .482-.23.91-.586 1.184zm-11.64 1.704c-.76 0-1.397-.616-1.397-1.376 0-.76.636-1.397 1.396-1.397.76 0 1.376.638 1.376 1.398 0 .76-.616 1.376-1.376 1.376zm7.405-1.376c0 .76-.615 1.376-1.375 1.376s-1.4-.616-1.4-1.376c0-.76.64-1.397 1.4-1.397.76 0 1.376.638 1.376 1.398zm-1.17 3.38c.15.152.15.398 0 .55-.675.674-1.728 1.002-3.22 1.002l-.01-.002-.012.002c-1.492 0-2.544-.328-3.218-1.002-.152-.152-.152-.398 0-.55.152-.152.4-.15.55 0 .52.52 1.394.775 2.67.775l.01.002.01-.002c1.276 0 2.15-.253 2.67-.775.15-.152.398-.152.55 0z\" /></SVG>;\nexport const embedTumbrIcon = {\n\tforeground: '#35465c',\n\tsrc: <SVG viewBox=\"0 0 24 24\"><Path d=\"M19 3H5c-1.105 0-2 .895-2 2v14c0 1.105.895 2 2 2h14c1.105 0 2-.895 2-2V5c0-1.105-.895-2-2-2zm-5.57 14.265c-2.445.042-3.37-1.742-3.37-2.998V10.6H8.922V9.15c1.703-.615 2.113-2.15 2.21-3.026.006-.06.053-.084.08-.084h1.645V8.9h2.246v1.7H12.85v3.495c.008.476.182 1.13 1.08 1.107.3-.008.698-.094.907-.194l.54 1.6c-.205.297-1.12.642-1.946.657z\" /></SVG>,\n};\n","/**\n * Internal dependencies\n */\nimport { common as commonEmbeds, others as otherEmbeds } from './core-embeds';\nimport { embedContentIcon } from './icons';\nimport { getEmbedBlockSettings } from './settings';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\n\nexport const name = 'core/embed';\n\nexport const settings = getEmbedBlockSettings( {\n\ttitle: _x( 'Embed', 'block title' ),\n\tdescription: __( 'Embed videos, images, tweets, audio, and other content from external sources.' ),\n\ticon: embedContentIcon,\n\t// Unknown embeds should not be responsive by default.\n\tresponsive: false,\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => node.nodeName === 'P' && /^\\s*(https?:\\/\\/\\S+)\\s*$/i.test( node.textContent ),\n\t\t\t\ttransform: ( node ) => {\n\t\t\t\t\treturn createBlock( 'core/embed', {\n\t\t\t\t\t\turl: node.textContent.trim(),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n} );\n\nexport const common = commonEmbeds.map(\n\t( embedDefinition ) => {\n\t\treturn {\n\t\t\t...embedDefinition,\n\t\t\tsettings: getEmbedBlockSettings( embedDefinition.settings ),\n\t\t};\n\t}\n);\n\nexport const others = otherEmbeds.map(\n\t( embedDefinition ) => {\n\t\treturn {\n\t\t\t...embedDefinition,\n\t\t\tsettings: getEmbedBlockSettings( embedDefinition.settings ),\n\t\t};\n\t}\n);\n","/**\n * Internal dependencies\n */\nimport { getEmbedEditComponent } from './edit';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames/dedupe';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { RichText } from '@wordpress/editor';\nimport { withSelect } from '@wordpress/data';\n\nconst embedAttributes = {\n\turl: {\n\t\ttype: 'string',\n\t},\n\tcaption: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'figcaption',\n\t},\n\ttype: {\n\t\ttype: 'string',\n\t},\n\tproviderNameSlug: {\n\t\ttype: 'string',\n\t},\n\tallowResponsive: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n};\n\nexport function getEmbedBlockSettings( { title, description, icon, category = 'embed', transforms, keywords = [], supports = {}, responsive = true } ) {\n\t// translators: %s: Name of service (e.g. VideoPress, YouTube)\n\tconst blockDescription = description || sprintf( __( 'Add a block that displays content pulled from other sites, like Twitter, Instagram or YouTube.' ), title );\n\tconst edit = getEmbedEditComponent( title, icon, responsive );\n\treturn {\n\t\ttitle,\n\t\tdescription: blockDescription,\n\t\ticon,\n\t\tcategory,\n\t\tkeywords,\n\t\tattributes: embedAttributes,\n\n\t\tsupports: {\n\t\t\talign: true,\n\t\t\t...supports,\n\t\t},\n\n\t\ttransforms,\n\n\t\tedit: compose(\n\t\t\twithSelect( ( select, ownProps ) => {\n\t\t\t\tconst { url } = ownProps.attributes;\n\t\t\t\tconst core = select( 'core' );\n\t\t\t\tconst { getEmbedPreview, isPreviewEmbedFallback, isRequestingEmbedPreview, getThemeSupports } = core;\n\t\t\t\tconst preview = undefined !== url && getEmbedPreview( url );\n\t\t\t\tconst previewIsFallback = undefined !== url && isPreviewEmbedFallback( url );\n\t\t\t\tconst fetching = undefined !== url && isRequestingEmbedPreview( url );\n\t\t\t\tconst themeSupports = getThemeSupports();\n\t\t\t\t// The external oEmbed provider does not exist. We got no type info and no html.\n\t\t\t\tconst badEmbedProvider = !! preview && undefined === preview.type && false === preview.html;\n\t\t\t\t// Some WordPress URLs that can't be embedded will cause the API to return\n\t\t\t\t// a valid JSON response with no HTML and `data.status` set to 404, rather\n\t\t\t\t// than generating a fallback response as other embeds do.\n\t\t\t\tconst wordpressCantEmbed = !! preview && preview.data && preview.data.status === 404;\n\t\t\t\tconst validPreview = !! preview && ! badEmbedProvider && ! wordpressCantEmbed;\n\t\t\t\tconst cannotEmbed = undefined !== url && ( ! validPreview || previewIsFallback );\n\t\t\t\treturn {\n\t\t\t\t\tpreview: validPreview ? preview : undefined,\n\t\t\t\t\tfetching,\n\t\t\t\t\tthemeSupportsResponsive: themeSupports[ 'responsive-embeds' ],\n\t\t\t\t\tcannotEmbed,\n\t\t\t\t};\n\t\t\t} )\n\t\t)( edit ),\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { url, caption, type, providerNameSlug } = attributes;\n\n\t\t\tif ( ! url ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst embedClassName = classnames( 'wp-block-embed', {\n\t\t\t\t[ `is-type-${ type }` ]: type,\n\t\t\t\t[ `is-provider-${ providerNameSlug }` ]: providerNameSlug,\n\t\t\t} );\n\n\t\t\treturn (\n\t\t\t\t<figure className={ embedClassName }>\n\t\t\t\t\t<div className=\"wp-block-embed__wrapper\">\n\t\t\t\t\t\t{ `\\n${ url }\\n` /* URL needs to be on its own line. */ }\n\t\t\t\t\t</div>\n\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t</figure>\n\t\t\t);\n\t\t},\n\n\t\tdeprecated: [\n\t\t\t{\n\t\t\t\tattributes: embedAttributes,\n\t\t\t\tsave( { attributes } ) {\n\t\t\t\t\tconst { url, caption, type, providerNameSlug } = attributes;\n\n\t\t\t\t\tif ( ! url ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst embedClassName = classnames( 'wp-block-embed', {\n\t\t\t\t\t\t[ `is-type-${ type }` ]: type,\n\t\t\t\t\t\t[ `is-provider-${ providerNameSlug }` ]: providerNameSlug,\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<figure className={ embedClassName }>\n\t\t\t\t\t\t\t{ `\\n${ url }\\n` /* URL needs to be on its own line. */ }\n\t\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t};\n}\n","/**\n * Internal dependencies\n */\nimport { common, others } from './core-embeds';\nimport { DEFAULT_EMBED_BLOCK, WORDPRESS_EMBED_BLOCK, ASPECT_RATIOS } from './constants';\n\n/**\n * External dependencies\n */\nimport { includes } from 'lodash';\nimport classnames from 'classnames/dedupe';\n\n/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Returns true if any of the regular expressions match the URL.\n *\n * @param {string}   url      The URL to test.\n * @param {Array}    patterns The list of regular expressions to test agains.\n * @return {boolean} True if any of the regular expressions match the URL.\n */\nexport const matchesPatterns = ( url, patterns = [] ) => {\n\treturn patterns.some( ( pattern ) => {\n\t\treturn url.match( pattern );\n\t} );\n};\n\n/**\n * Finds the block name that should be used for the URL, based on the\n * structure of the URL.\n *\n * @param {string}  url The URL to test.\n * @return {string} The name of the block that should be used for this URL, e.g. core-embed/twitter\n */\nexport const findBlock = ( url ) => {\n\tfor ( const block of [ ...common, ...others ] ) {\n\t\tif ( matchesPatterns( url, block.patterns ) ) {\n\t\t\treturn block.name;\n\t\t}\n\t}\n\treturn DEFAULT_EMBED_BLOCK;\n};\n\nexport const isFromWordPress = ( html ) => {\n\treturn includes( html, 'class=\"wp-embedded-content\" data-secret' );\n};\n\nexport const getPhotoHtml = ( photo ) => {\n\t// 100% width for the preview so it fits nicely into the document, some \"thumbnails\" are\n\t// acually the full size photo.\n\tconst photoPreview = <p><img src={ photo.thumbnail_url } alt={ photo.title } width=\"100%\" /></p>;\n\treturn renderToString( photoPreview );\n};\n\n/***\n * Creates a more suitable embed block based on the passed in props\n * and attributes generated from an embed block's preview.\n *\n * We require `attributesFromPreview` to be generated from the latest attributes\n * and preview, and because of the way the react lifecycle operates, we can't\n * guarantee that the attributes contained in the block's props are the latest\n * versions, so we require that these are generated separately.\n * See `getAttributesFromPreview` in the generated embed edit component.\n *\n * @param {Object}            props                 The block's props.\n * @param {Object}            attributesFromPreview Attributes generated from the block's most up to date preview.\n * @return {Object|undefined} A more suitable embed block if one exists.\n */\nexport const createUpgradedEmbedBlock = ( props, attributesFromPreview ) => {\n\tconst { preview, name } = props;\n\tconst { url } = props.attributes;\n\n\tif ( ! url ) {\n\t\treturn;\n\t}\n\n\tconst matchingBlock = findBlock( url );\n\n\t// WordPress blocks can work on multiple sites, and so don't have patterns,\n\t// so if we're in a WordPress block, assume the user has chosen it for a WordPress URL.\n\tif ( WORDPRESS_EMBED_BLOCK !== name && DEFAULT_EMBED_BLOCK !== matchingBlock ) {\n\t\t// At this point, we have discovered a more suitable block for this url, so transform it.\n\t\tif ( name !== matchingBlock ) {\n\t\t\treturn createBlock( matchingBlock, { url } );\n\t\t}\n\t}\n\n\tif ( preview ) {\n\t\tconst { html } = preview;\n\n\t\t// We can't match the URL for WordPress embeds, we have to check the HTML instead.\n\t\tif ( isFromWordPress( html ) ) {\n\t\t\t// If this is not the WordPress embed block, transform it into one.\n\t\t\tif ( WORDPRESS_EMBED_BLOCK !== name ) {\n\t\t\t\treturn createBlock(\n\t\t\t\t\tWORDPRESS_EMBED_BLOCK,\n\t\t\t\t\t{\n\t\t\t\t\t\turl,\n\t\t\t\t\t\t// By now we have the preview, but when the new block first renders, it\n\t\t\t\t\t\t// won't have had all the attributes set, and so won't get the correct\n\t\t\t\t\t\t// type and it won't render correctly. So, we pass through the current attributes\n\t\t\t\t\t\t// here so that the initial render works when we switch to the WordPress\n\t\t\t\t\t\t// block. This only affects the WordPress block because it can't be\n\t\t\t\t\t\t// rendered in the usual Sandbox (it has a sandbox of its own) and it\n\t\t\t\t\t\t// relies on the preview to set the correct render type.\n\t\t\t\t\t\t...attributesFromPreview,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Returns class names with any relevant responsive aspect ratio names.\n *\n * @param {string}  html               The preview HTML that possibly contains an iframe with width and height set.\n * @param {string}  existingClassNames Any existing class names.\n * @param {boolean} allowResponsive    If the responsive class names should be added, or removed.\n * @return {string} Deduped class names.\n */\nexport function getClassNames( html, existingClassNames = '', allowResponsive = true ) {\n\tif ( ! allowResponsive ) {\n\t\t// Remove all of the aspect ratio related class names.\n\t\tconst aspectRatioClassNames = {\n\t\t\t'wp-has-aspect-ratio': false,\n\t\t};\n\t\tfor ( let ratioIndex = 0; ratioIndex < ASPECT_RATIOS.length; ratioIndex++ ) {\n\t\t\tconst aspectRatioToRemove = ASPECT_RATIOS[ ratioIndex ];\n\t\t\taspectRatioClassNames[ aspectRatioToRemove.className ] = false;\n\t\t}\n\t\treturn classnames(\n\t\t\texistingClassNames,\n\t\t\taspectRatioClassNames\n\t\t);\n\t}\n\n\tconst previewDocument = document.implementation.createHTMLDocument( '' );\n\tpreviewDocument.body.innerHTML = html;\n\tconst iframe = previewDocument.body.querySelector( 'iframe' );\n\n\t// If we have a fixed aspect iframe, and it's a responsive embed block.\n\tif ( iframe && iframe.height && iframe.width ) {\n\t\tconst aspectRatio = ( iframe.width / iframe.height ).toFixed( 2 );\n\t\t// Given the actual aspect ratio, find the widest ratio to support it.\n\t\tfor ( let ratioIndex = 0; ratioIndex < ASPECT_RATIOS.length; ratioIndex++ ) {\n\t\t\tconst potentialRatio = ASPECT_RATIOS[ ratioIndex ];\n\t\t\tif ( aspectRatio >= potentialRatio.ratio ) {\n\t\t\t\treturn classnames(\n\t\t\t\t\texistingClassNames,\n\t\t\t\t\t{\n\t\t\t\t\t\t[ potentialRatio.className ]: allowResponsive,\n\t\t\t\t\t\t'wp-has-aspect-ratio': allowResponsive,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn existingClassNames;\n}\n","/**\n * WordPress dependencies\n */\nimport { Component, createRef } from '@wordpress/element';\nimport { withGlobalEvents } from '@wordpress/compose';\n\n/**\n * Browser dependencies\n */\n\nconst { FocusEvent } = window;\n\nclass WpEmbedPreview extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.checkFocus = this.checkFocus.bind( this );\n\t\tthis.node = createRef();\n\t}\n\n\t/**\n\t * Checks whether the wp embed iframe is the activeElement,\n\t * if it is dispatch a focus event.\n\t */\n\tcheckFocus() {\n\t\tconst { activeElement } = document;\n\n\t\tif (\n\t\t\tactiveElement.tagName !== 'IFRAME' ||\n\t\t\tactiveElement.parentNode !== this.node.current\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst focusEvent = new FocusEvent( 'focus', { bubbles: true } );\n\t\tactiveElement.dispatchEvent( focusEvent );\n\t}\n\n\trender() {\n\t\tconst { html } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ this.node }\n\t\t\t\tclassName=\"wp-block-embed__wrapper\"\n\t\t\t\tdangerouslySetInnerHTML={ { __html: html } }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default withGlobalEvents( {\n\tblur: 'checkFocus',\n} )( WpEmbedPreview );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { getBlobByURL, revokeBlobURL, isBlobURL } from '@wordpress/blob';\nimport {\n\tClipboardButton,\n\tIconButton,\n\tToolbar,\n\twithNotices,\n} from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport { Component, Fragment } from '@wordpress/element';\nimport {\n\tMediaUpload,\n\tMediaPlaceholder,\n\tMediaUploadCheck,\n\tBlockControls,\n\tRichText,\n\tmediaUpload,\n} from '@wordpress/editor';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport FileBlockInspector from './inspector';\n\nclass FileEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onSelectFile = this.onSelectFile.bind( this );\n\t\tthis.confirmCopyURL = this.confirmCopyURL.bind( this );\n\t\tthis.resetCopyConfirmation = this.resetCopyConfirmation.bind( this );\n\t\tthis.changeLinkDestinationOption = this.changeLinkDestinationOption.bind( this );\n\t\tthis.changeOpenInNewWindow = this.changeOpenInNewWindow.bind( this );\n\t\tthis.changeShowDownloadButton = this.changeShowDownloadButton.bind( this );\n\n\t\tthis.state = {\n\t\t\thasError: false,\n\t\t\tshowCopyConfirmation: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { attributes, noticeOperations } = this.props;\n\t\tconst { href } = attributes;\n\n\t\t// Upload a file drag-and-dropped into the editor\n\t\tif ( isBlobURL( href ) ) {\n\t\t\tconst file = getBlobByURL( href );\n\n\t\t\tmediaUpload( {\n\t\t\t\tfilesList: [ file ],\n\t\t\t\tonFileChange: ( [ media ] ) => this.onSelectFile( media ),\n\t\t\t\tonError: ( message ) => {\n\t\t\t\t\tthis.setState( { hasError: true } );\n\t\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t\t},\n\t\t\t} );\n\n\t\t\trevokeBlobURL( href );\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\t// Reset copy confirmation state when block is deselected\n\t\tif ( prevProps.isSelected && ! this.props.isSelected ) {\n\t\t\tthis.setState( { showCopyConfirmation: false } );\n\t\t}\n\t}\n\n\tonSelectFile( media ) {\n\t\tif ( media && media.url ) {\n\t\t\tthis.setState( { hasError: false } );\n\t\t\tthis.props.setAttributes( {\n\t\t\t\thref: media.url,\n\t\t\t\tfileName: media.title,\n\t\t\t\ttextLinkHref: media.url,\n\t\t\t\tid: media.id,\n\t\t\t} );\n\t\t}\n\t}\n\n\tconfirmCopyURL() {\n\t\tthis.setState( { showCopyConfirmation: true } );\n\t}\n\n\tresetCopyConfirmation() {\n\t\tthis.setState( { showCopyConfirmation: false } );\n\t}\n\n\tchangeLinkDestinationOption( newHref ) {\n\t\t// Choose Media File or Attachment Page (when file is in Media Library)\n\t\tthis.props.setAttributes( { textLinkHref: newHref } );\n\t}\n\n\tchangeOpenInNewWindow( newValue ) {\n\t\tthis.props.setAttributes( {\n\t\t\ttextLinkTarget: newValue ? '_blank' : false,\n\t\t} );\n\t}\n\n\tchangeShowDownloadButton( newValue ) {\n\t\tthis.props.setAttributes( { showDownloadButton: newValue } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tisSelected,\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tnoticeUI,\n\t\t\tnoticeOperations,\n\t\t\tmedia,\n\t\t} = this.props;\n\t\tconst {\n\t\t\tfileName,\n\t\t\thref,\n\t\t\ttextLinkHref,\n\t\t\ttextLinkTarget,\n\t\t\tshowDownloadButton,\n\t\t\tdownloadButtonText,\n\t\t\tid,\n\t\t} = attributes;\n\t\tconst { hasError, showCopyConfirmation } = this.state;\n\t\tconst attachmentPage = media && media.link;\n\n\t\tif ( ! href || hasError ) {\n\t\t\treturn (\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon=\"media-default\"\n\t\t\t\t\tlabels={ {\n\t\t\t\t\t\ttitle: __( 'File' ),\n\t\t\t\t\t\tinstructions: __( 'Drag a file, upload a new one or select a file from your library.' ),\n\t\t\t\t\t} }\n\t\t\t\t\tonSelect={ this.onSelectFile }\n\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\tonError={ noticeOperations.createErrorNotice }\n\t\t\t\t\taccept=\"*\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst classes = classnames( className, {\n\t\t\t'is-transient': isBlobURL( href ),\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<FileBlockInspector\n\t\t\t\t\threfs={ { href, textLinkHref, attachmentPage } }\n\t\t\t\t\t{ ...{\n\t\t\t\t\t\topenInNewWindow: !! textLinkTarget,\n\t\t\t\t\t\tshowDownloadButton,\n\t\t\t\t\t\tchangeLinkDestinationOption: this.changeLinkDestinationOption,\n\t\t\t\t\t\tchangeOpenInNewWindow: this.changeOpenInNewWindow,\n\t\t\t\t\t\tchangeShowDownloadButton: this.changeShowDownloadButton,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\tonSelect={ this.onSelectFile }\n\t\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Edit file' ) }\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t</BlockControls>\n\t\t\t\t<div className={ classes }>\n\t\t\t\t\t<div className={ `${ className }__content-wrapper` }>\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\twrapperClassName={ `${ className }__textlink` }\n\t\t\t\t\t\t\ttagName=\"div\" // must be block-level or else cursor disappears\n\t\t\t\t\t\t\tvalue={ fileName }\n\t\t\t\t\t\t\tplaceholder={ __( 'Write file name' ) }\n\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\tformattingControls={ [] } // disable controls\n\t\t\t\t\t\t\tonChange={ ( text ) => setAttributes( { fileName: text } ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ showDownloadButton &&\n\t\t\t\t\t\t\t<div className={ `${ className }__button-richtext-wrapper` }>\n\t\t\t\t\t\t\t\t{ /* Using RichText here instead of PlainText so that it can be styled like a button */ }\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"div\" // must be block-level or else cursor disappears\n\t\t\t\t\t\t\t\t\tclassName={ `${ className }__button` }\n\t\t\t\t\t\t\t\t\tvalue={ downloadButtonText }\n\t\t\t\t\t\t\t\t\tformattingControls={ [] } // disable controls\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Add text' ) }\n\t\t\t\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\t\t\t\tonChange={ ( text ) => setAttributes( { downloadButtonText: text } ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t{ isSelected &&\n\t\t\t\t\t\t<ClipboardButton\n\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\ttext={ href }\n\t\t\t\t\t\t\tclassName={ `${ className }__copy-url-button` }\n\t\t\t\t\t\t\tonCopy={ this.confirmCopyURL }\n\t\t\t\t\t\t\tonFinishCopy={ this.resetCopyConfirmation }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ showCopyConfirmation ? __( 'Copied!' ) : __( 'Copy URL' ) }\n\t\t\t\t\t\t</ClipboardButton>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, props ) => {\n\t\tconst { getMedia } = select( 'core' );\n\t\tconst { id } = props.attributes;\n\t\treturn {\n\t\t\tmedia: id === undefined ? undefined : getMedia( id ),\n\t\t};\n\t} ),\n\twithNotices,\n] )( FileEdit );\n","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { createBlobURL } from '@wordpress/blob';\nimport { createBlock } from '@wordpress/blocks';\nimport { select } from '@wordpress/data';\nimport { RichText } from '@wordpress/editor';\nimport { SVG, Path } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/file';\n\nexport const settings = {\n\ttitle: __( 'File' ),\n\n\tdescription: __( 'Add a link to a downloadable file.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><Path d=\"M9 6l2 2h9v10H4V6h5m1-2H4L2 6v12l2 2h16l2-2V8l-2-2h-8l-2-2z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tkeywords: [ __( 'document' ), __( 'pdf' ) ],\n\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\thref: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tfileName: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a:not([download])',\n\t\t},\n\t\t// Differs to the href when the block is configured to link to the attachment page\n\t\ttextLinkHref: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'href',\n\t\t},\n\t\t// e.g. `_blank` when the block is configured to open in a new tab\n\t\ttextLinkTarget: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'target',\n\t\t},\n\t\tshowDownloadButton: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tdownloadButtonText: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a[download]',\n\t\t\tdefault: _x( 'Download', 'button label' ),\n\t\t},\n\t},\n\n\tsupports: {\n\t\talign: true,\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length > 0;\n\t\t\t\t},\n\t\t\t\t// We define a lower priorty (higher number) than the default of 10. This\n\t\t\t\t// ensures that the File block is only created as a fallback.\n\t\t\t\tpriority: 15,\n\t\t\t\ttransform: ( files ) => {\n\t\t\t\t\tconst blocks = [];\n\n\t\t\t\t\tfiles.map( ( file ) => {\n\t\t\t\t\t\tconst blobURL = createBlobURL( file );\n\n\t\t\t\t\t\t// File will be uploaded in componentDidMount()\n\t\t\t\t\t\tblocks.push( createBlock( 'core/file', {\n\t\t\t\t\t\t\thref: blobURL,\n\t\t\t\t\t\t\tfileName: file.name,\n\t\t\t\t\t\t\ttextLinkHref: blobURL,\n\t\t\t\t\t\t} ) );\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn blocks;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/audio' ],\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\treturn createBlock( 'core/file', {\n\t\t\t\t\t\thref: attributes.src,\n\t\t\t\t\t\tfileName: attributes.caption,\n\t\t\t\t\t\ttextLinkHref: attributes.src,\n\t\t\t\t\t\tid: attributes.id,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/video' ],\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\treturn createBlock( 'core/file', {\n\t\t\t\t\t\thref: attributes.src,\n\t\t\t\t\t\tfileName: attributes.caption,\n\t\t\t\t\t\ttextLinkHref: attributes.src,\n\t\t\t\t\t\tid: attributes.id,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\treturn createBlock( 'core/file', {\n\t\t\t\t\t\thref: attributes.url,\n\t\t\t\t\t\tfileName: attributes.caption,\n\t\t\t\t\t\ttextLinkHref: attributes.url,\n\t\t\t\t\t\tid: attributes.id,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/audio' ],\n\t\t\t\tisMatch: ( { id } ) => {\n\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst { getMedia } = select( 'core' );\n\t\t\t\t\tconst media = getMedia( id );\n\t\t\t\t\treturn !! media && includes( media.mime_type, 'audio' );\n\t\t\t\t},\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\treturn createBlock( 'core/audio', {\n\t\t\t\t\t\tsrc: attributes.href,\n\t\t\t\t\t\tcaption: attributes.fileName,\n\t\t\t\t\t\tid: attributes.id,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/video' ],\n\t\t\t\tisMatch: ( { id } ) => {\n\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst { getMedia } = select( 'core' );\n\t\t\t\t\tconst media = getMedia( id );\n\t\t\t\t\treturn !! media && includes( media.mime_type, 'video' );\n\t\t\t\t},\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\treturn createBlock( 'core/video', {\n\t\t\t\t\t\tsrc: attributes.href,\n\t\t\t\t\t\tcaption: attributes.fileName,\n\t\t\t\t\t\tid: attributes.id,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\tisMatch: ( { id } ) => {\n\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst { getMedia } = select( 'core' );\n\t\t\t\t\tconst media = getMedia( id );\n\t\t\t\t\treturn !! media && includes( media.mime_type, 'image' );\n\t\t\t\t},\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\treturn createBlock( 'core/image', {\n\t\t\t\t\t\turl: attributes.href,\n\t\t\t\t\t\tcaption: attributes.fileName,\n\t\t\t\t\t\tid: attributes.id,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\thref,\n\t\t\tfileName,\n\t\t\ttextLinkHref,\n\t\t\ttextLinkTarget,\n\t\t\tshowDownloadButton,\n\t\t\tdownloadButtonText,\n\t\t} = attributes;\n\n\t\treturn ( href &&\n\t\t\t<div>\n\t\t\t\t{ ! RichText.isEmpty( fileName ) &&\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\t\ttarget={ textLinkTarget }\n\t\t\t\t\t\trel={ textLinkTarget ? 'noreferrer noopener' : false }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\tvalue={ fileName }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</a>\n\t\t\t\t}\n\t\t\t\t{ showDownloadButton &&\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\tclassName=\"wp-block-file__button\"\n\t\t\t\t\t\tdownload={ true }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\tvalue={ downloadButtonText }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</a>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t},\n\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/editor';\n\nfunction getDownloadButtonHelp( checked ) {\n\treturn checked ? __( 'The download button is visible.' ) : __( 'The download button is hidden.' );\n}\n\nexport default function FileBlockInspector( {\n\threfs,\n\topenInNewWindow,\n\tshowDownloadButton,\n\tchangeLinkDestinationOption,\n\tchangeOpenInNewWindow,\n\tchangeShowDownloadButton,\n} ) {\n\tconst { href, textLinkHref, attachmentPage } = hrefs;\n\n\tlet linkDestinationOptions = [ { value: href, label: __( 'URL' ) } ];\n\tif ( attachmentPage ) {\n\t\tlinkDestinationOptions = [\n\t\t\t{ value: href, label: __( 'Media File' ) },\n\t\t\t{ value: attachmentPage, label: __( 'Attachment Page' ) },\n\t\t];\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Text Link Settings' ) }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Link To' ) }\n\t\t\t\t\t\tvalue={ textLinkHref }\n\t\t\t\t\t\toptions={ linkDestinationOptions }\n\t\t\t\t\t\tonChange={ changeLinkDestinationOption }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Open in New Tab' ) }\n\t\t\t\t\t\tchecked={ openInNewWindow }\n\t\t\t\t\t\tonChange={ changeOpenInNewWindow }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody title={ __( 'Download Button Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show Download Button' ) }\n\t\t\t\t\t\thelp={ getDownloadButtonHelp }\n\t\t\t\t\t\tchecked={ showDownloadButton }\n\t\t\t\t\t\tonChange={ changeShowDownloadButton }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</Fragment>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport { filter, pick, map, get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tIconButton,\n\tDropZone,\n\tFormFileUpload,\n\tPanelBody,\n\tRangeControl,\n\tSelectControl,\n\tToggleControl,\n\tToolbar,\n\twithNotices,\n} from '@wordpress/components';\nimport {\n\tBlockControls,\n\tMediaUpload,\n\tMediaPlaceholder,\n\tInspectorControls,\n\tmediaUpload,\n} from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport GalleryImage from './gallery-image';\n\nconst MAX_COLUMNS = 8;\nconst linkOptions = [\n\t{ value: 'attachment', label: __( 'Attachment Page' ) },\n\t{ value: 'media', label: __( 'Media File' ) },\n\t{ value: 'none', label: __( 'None' ) },\n];\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nexport function defaultColumnsNumber( attributes ) {\n\treturn Math.min( 3, attributes.images.length );\n}\n\nexport const pickRelevantMediaFiles = ( image ) => {\n\tconst imageProps = pick( image, [ 'alt', 'id', 'link', 'caption' ] );\n\timageProps.url = get( image, [ 'sizes', 'large', 'url' ] ) || get( image, [ 'media_details', 'sizes', 'large', 'source_url' ] ) || image.url;\n\treturn imageProps;\n};\n\nclass GalleryEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onSelectImage = this.onSelectImage.bind( this );\n\t\tthis.onSelectImages = this.onSelectImages.bind( this );\n\t\tthis.setLinkTo = this.setLinkTo.bind( this );\n\t\tthis.setColumnsNumber = this.setColumnsNumber.bind( this );\n\t\tthis.toggleImageCrop = this.toggleImageCrop.bind( this );\n\t\tthis.onRemoveImage = this.onRemoveImage.bind( this );\n\t\tthis.setImageAttributes = this.setImageAttributes.bind( this );\n\t\tthis.addFiles = this.addFiles.bind( this );\n\t\tthis.uploadFromFiles = this.uploadFromFiles.bind( this );\n\t\tthis.setAttributes = this.setAttributes.bind( this );\n\n\t\tthis.state = {\n\t\t\tselectedImage: null,\n\t\t};\n\t}\n\n\tsetAttributes( attributes ) {\n\t\tif ( attributes.ids ) {\n\t\t\tthrow new Error( 'The \"ids\" attribute should not be changed directly. It is managed automatically when \"images\" attribute changes' );\n\t\t}\n\n\t\tif ( attributes.images ) {\n\t\t\tattributes = {\n\t\t\t\t...attributes,\n\t\t\t\tids: map( attributes.images, 'id' ),\n\t\t\t};\n\t\t}\n\n\t\tthis.props.setAttributes( attributes );\n\t}\n\n\tonSelectImage( index ) {\n\t\treturn () => {\n\t\t\tif ( this.state.selectedImage !== index ) {\n\t\t\t\tthis.setState( {\n\t\t\t\t\tselectedImage: index,\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\t}\n\n\tonRemoveImage( index ) {\n\t\treturn () => {\n\t\t\tconst images = filter( this.props.attributes.images, ( img, i ) => index !== i );\n\t\t\tconst { columns } = this.props.attributes;\n\t\t\tthis.setState( { selectedImage: null } );\n\t\t\tthis.setAttributes( {\n\t\t\t\timages,\n\t\t\t\tcolumns: columns ? Math.min( images.length, columns ) : columns,\n\t\t\t} );\n\t\t};\n\t}\n\n\tonSelectImages( images ) {\n\t\tthis.setAttributes( {\n\t\t\timages: images.map( ( image ) => pickRelevantMediaFiles( image ) ),\n\t\t} );\n\t}\n\n\tsetLinkTo( value ) {\n\t\tthis.setAttributes( { linkTo: value } );\n\t}\n\n\tsetColumnsNumber( value ) {\n\t\tthis.setAttributes( { columns: value } );\n\t}\n\n\ttoggleImageCrop() {\n\t\tthis.setAttributes( { imageCrop: ! this.props.attributes.imageCrop } );\n\t}\n\n\tgetImageCropHelp( checked ) {\n\t\treturn checked ? __( 'Thumbnails are cropped to align.' ) : __( 'Thumbnails are not cropped.' );\n\t}\n\n\tsetImageAttributes( index, attributes ) {\n\t\tconst { attributes: { images } } = this.props;\n\t\tconst { setAttributes } = this;\n\t\tif ( ! images[ index ] ) {\n\t\t\treturn;\n\t\t}\n\t\tsetAttributes( {\n\t\t\timages: [\n\t\t\t\t...images.slice( 0, index ),\n\t\t\t\t{\n\t\t\t\t\t...images[ index ],\n\t\t\t\t\t...attributes,\n\t\t\t\t},\n\t\t\t\t...images.slice( index + 1 ),\n\t\t\t],\n\t\t} );\n\t}\n\n\tuploadFromFiles( event ) {\n\t\tthis.addFiles( event.target.files );\n\t}\n\n\taddFiles( files ) {\n\t\tconst currentImages = this.props.attributes.images || [];\n\t\tconst { noticeOperations } = this.props;\n\t\tconst { setAttributes } = this;\n\t\tmediaUpload( {\n\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\tfilesList: files,\n\t\t\tonFileChange: ( images ) => {\n\t\t\t\tconst imagesNormalized = images.map( ( image ) => pickRelevantMediaFiles( image ) );\n\t\t\t\tsetAttributes( {\n\t\t\t\t\timages: currentImages.concat( imagesNormalized ),\n\t\t\t\t} );\n\t\t\t},\n\t\t\tonError: noticeOperations.createErrorNotice,\n\t\t} );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\t// Deselect images when deselecting the block\n\t\tif ( ! this.props.isSelected && prevProps.isSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tselectedImage: null,\n\t\t\t\tcaptionSelected: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { attributes, isSelected, className, noticeOperations, noticeUI } = this.props;\n\t\tconst { images, columns = defaultColumnsNumber( attributes ), align, imageCrop, linkTo } = attributes;\n\n\t\tconst dropZone = (\n\t\t\t<DropZone\n\t\t\t\tonFilesDrop={ this.addFiles }\n\t\t\t/>\n\t\t);\n\n\t\tconst controls = (\n\t\t\t<BlockControls>\n\t\t\t\t{ !! images.length && (\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tonSelect={ this.onSelectImages }\n\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\tgallery\n\t\t\t\t\t\t\tvalue={ images.map( ( img ) => img.id ) }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Edit Gallery' ) }\n\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t);\n\n\t\tif ( images.length === 0 ) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ controls }\n\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\ticon=\"format-gallery\"\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\tlabels={ {\n\t\t\t\t\t\t\ttitle: __( 'Gallery' ),\n\t\t\t\t\t\t\tinstructions: __( 'Drag images, upload new ones or select files from your library.' ),\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonSelect={ this.onSelectImages }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\t\tonError={ noticeOperations.createErrorNotice }\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ controls }\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Gallery Settings' ) }>\n\t\t\t\t\t\t{ images.length > 1 && <RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ this.setColumnsNumber }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ Math.min( MAX_COLUMNS, images.length ) }\n\t\t\t\t\t\t/> }\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Crop Images' ) }\n\t\t\t\t\t\t\tchecked={ !! imageCrop }\n\t\t\t\t\t\t\tonChange={ this.toggleImageCrop }\n\t\t\t\t\t\t\thelp={ this.getImageCropHelp }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Link To' ) }\n\t\t\t\t\t\t\tvalue={ linkTo }\n\t\t\t\t\t\t\tonChange={ this.setLinkTo }\n\t\t\t\t\t\t\toptions={ linkOptions }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t{ noticeUI }\n\t\t\t\t<ul className={ `${ className } align${ align } columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }` }>\n\t\t\t\t\t{ dropZone }\n\t\t\t\t\t{ images.map( ( img, index ) => {\n\t\t\t\t\t\t/* translators: %1$d is the order number of the image, %2$d is the total number of images. */\n\t\t\t\t\t\tconst ariaLabel = __( sprintf( 'image %1$d of %2$d in gallery', ( index + 1 ), images.length ) );\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"blocks-gallery-item\" key={ img.id || img.url }>\n\t\t\t\t\t\t\t\t<GalleryImage\n\t\t\t\t\t\t\t\t\turl={ img.url }\n\t\t\t\t\t\t\t\t\talt={ img.alt }\n\t\t\t\t\t\t\t\t\tid={ img.id }\n\t\t\t\t\t\t\t\t\tisSelected={ isSelected && this.state.selectedImage === index }\n\t\t\t\t\t\t\t\t\tonRemove={ this.onRemoveImage( index ) }\n\t\t\t\t\t\t\t\t\tonSelect={ this.onSelectImage( index ) }\n\t\t\t\t\t\t\t\t\tsetAttributes={ ( attrs ) => this.setImageAttributes( index, attrs ) }\n\t\t\t\t\t\t\t\t\tcaption={ img.caption }\n\t\t\t\t\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t\t{ isSelected &&\n\t\t\t\t\t\t<li className=\"blocks-gallery-item has-add-item-button\">\n\t\t\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\t\tclassName=\"block-library-gallery-add-item-button\"\n\t\t\t\t\t\t\t\tonChange={ this.uploadFromFiles }\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\ticon=\"insert\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Upload an image' ) }\n\t\t\t\t\t\t\t</FormFileUpload>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default withNotices( GalleryEdit );\n","/**\n * External Dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress Dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { IconButton, Spinner } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { BACKSPACE, DELETE } from '@wordpress/keycodes';\nimport { withSelect } from '@wordpress/data';\nimport { RichText } from '@wordpress/editor';\nimport { isBlobURL } from '@wordpress/blob';\n\nclass GalleryImage extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onImageClick = this.onImageClick.bind( this );\n\t\tthis.onSelectCaption = this.onSelectCaption.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\n\t\tthis.state = {\n\t\t\tcaptionSelected: false,\n\t\t};\n\t}\n\n\tbindContainer( ref ) {\n\t\tthis.container = ref;\n\t}\n\n\tonSelectCaption() {\n\t\tif ( ! this.state.captionSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionSelected: true,\n\t\t\t} );\n\t\t}\n\n\t\tif ( ! this.props.isSelected ) {\n\t\t\tthis.props.onSelect();\n\t\t}\n\t}\n\n\tonImageClick() {\n\t\tif ( ! this.props.isSelected ) {\n\t\t\tthis.props.onSelect();\n\t\t}\n\n\t\tif ( this.state.captionSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionSelected: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\tonKeyDown( event ) {\n\t\tif (\n\t\t\tthis.container === document.activeElement &&\n\t\t\tthis.props.isSelected && [ BACKSPACE, DELETE ].indexOf( event.keyCode ) !== -1\n\t\t) {\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.onRemove();\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { isSelected, image, url } = this.props;\n\t\tif ( image && ! url ) {\n\t\t\tthis.props.setAttributes( {\n\t\t\t\turl: image.source_url,\n\t\t\t\talt: image.alt_text,\n\t\t\t} );\n\t\t}\n\n\t\t// unselect the caption so when the user selects other image and comeback\n\t\t// the caption is not immediately selected\n\t\tif ( this.state.captionSelected && ! isSelected && prevProps.isSelected ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionSelected: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { url, alt, id, linkTo, link, isSelected, caption, onRemove, setAttributes, 'aria-label': ariaLabel } = this.props;\n\n\t\tlet href;\n\n\t\tswitch ( linkTo ) {\n\t\t\tcase 'media':\n\t\t\t\thref = url;\n\t\t\t\tbreak;\n\t\t\tcase 'attachment':\n\t\t\t\thref = link;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst img = (\n\t\t\t// Disable reason: Image itself is not meant to be interactive, but should\n\t\t\t// direct image selection and unfocus caption fields.\n\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\talt={ alt }\n\t\t\t\t\tdata-id={ id }\n\t\t\t\t\tonClick={ this.onImageClick }\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\tonKeyDown={ this.onImageClick }\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ isBlobURL( url ) && <Spinner /> }\n\t\t\t</Fragment>\n\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\n\t\t);\n\n\t\tconst className = classnames( {\n\t\t\t'is-selected': isSelected,\n\t\t\t'is-transient': isBlobURL( url ),\n\t\t} );\n\n\t\t// Disable reason: Each block can be selected by clicking on it and we should keep the same saved markup\n\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t\treturn (\n\t\t\t<figure className={ className } tabIndex=\"-1\" onKeyDown={ this.onKeyDown } ref={ this.bindContainer }>\n\t\t\t\t{ isSelected &&\n\t\t\t\t\t<div className=\"block-library-gallery-item__inline-menu\">\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__remove\"\n\t\t\t\t\t\t\tlabel={ __( 'Remove Image' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) ? (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tplaceholder={ __( 'Write caption' ) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tisSelected={ this.state.captionSelected }\n\t\t\t\t\t\tonChange={ ( newCaption ) => setAttributes( { caption: newCaption } ) }\n\t\t\t\t\t\tunstableOnFocus={ this.onSelectCaption }\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t/>\n\t\t\t\t) : null }\n\t\t\t</figure>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t}\n}\n\nexport default withSelect( ( select, ownProps ) => {\n\tconst { getMedia } = select( 'core' );\n\tconst { id } = ownProps;\n\n\treturn {\n\t\timage: id ? getMedia( id ) : null,\n\t};\n} )( GalleryImage );\n","/**\n * External dependencies\n */\nimport { filter, every, map, some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport { RichText, mediaUpload } from '@wordpress/editor';\nimport { createBlobURL } from '@wordpress/blob';\nimport { G, Path, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { default as edit, defaultColumnsNumber, pickRelevantMediaFiles } from './edit';\n\nconst blockAttributes = {\n\timages: {\n\t\ttype: 'array',\n\t\tdefault: [],\n\t\tsource: 'query',\n\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\tquery: {\n\t\t\turl: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'src',\n\t\t\t},\n\t\t\tlink: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'data-link',\n\t\t\t},\n\t\t\talt: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'alt',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tid: {\n\t\t\t\tsource: 'attribute',\n\t\t\t\tselector: 'img',\n\t\t\t\tattribute: 'data-id',\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: 'figcaption',\n\t\t\t},\n\t\t},\n\t},\n\tids: {\n\t\ttype: 'array',\n\t\tdefault: [],\n\t},\n\tcolumns: {\n\t\ttype: 'number',\n\t},\n\timageCrop: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\tlinkTo: {\n\t\ttype: 'string',\n\t\tdefault: 'none',\n\t},\n};\n\nexport const name = 'core/gallery';\n\nconst parseShortcodeIds = ( ids ) => {\n\tif ( ! ids ) {\n\t\treturn [];\n\t}\n\n\treturn ids.split( ',' ).map( ( id ) => (\n\t\tparseInt( id, 10 )\n\t) );\n};\n\nexport const settings = {\n\ttitle: __( 'Gallery' ),\n\tdescription: __( 'Display multiple images in a rich gallery.' ),\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M20 4v12H8V4h12m0-2H8L6 4v12l2 2h12l2-2V4l-2-2z\" /><Path d=\"M12 12l1 2 3-3 3 4H9z\" /><Path d=\"M2 6v14l2 2h14v-2H4V6H2z\" /></G></SVG>,\n\tcategory: 'common',\n\tkeywords: [ __( 'images' ), __( 'photos' ) ],\n\tattributes: blockAttributes,\n\tsupports: {\n\t\talign: true,\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tisMultiBlock: true,\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\tconst validImages = filter( attributes, ( { id, url } ) => id && url );\n\t\t\t\t\tif ( validImages.length > 0 ) {\n\t\t\t\t\t\treturn createBlock( 'core/gallery', {\n\t\t\t\t\t\t\timages: validImages.map( ( { id, url, alt, caption } ) => ( { id, url, alt, caption } ) ),\n\t\t\t\t\t\t\tids: validImages.map( ( { id } ) => id ),\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t\treturn createBlock( 'core/gallery' );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'gallery',\n\t\t\t\tattributes: {\n\t\t\t\t\timages: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\tshortcode: ( { named: { ids } } ) => {\n\t\t\t\t\t\t\treturn parseShortcodeIds( ids ).map( ( id ) => ( {\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t} ) );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tids: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\tshortcode: ( { named: { ids } } ) => {\n\t\t\t\t\t\t\treturn parseShortcodeIds( ids );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tcolumns: {\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tshortcode: ( { named: { columns = '3' } } ) => {\n\t\t\t\t\t\t\treturn parseInt( columns, 10 );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlinkTo: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { link = 'attachment' } } ) => {\n\t\t\t\t\t\t\treturn link === 'file' ? 'media' : link;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t// When created by drag and dropping multiple files on an insertion point\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length !== 1 && every( files, ( file ) => file.type.indexOf( 'image/' ) === 0 );\n\t\t\t\t},\n\t\t\t\ttransform( files, onChange ) {\n\t\t\t\t\tconst block = createBlock( 'core/gallery', {\n\t\t\t\t\t\timages: files.map( ( file ) => pickRelevantMediaFiles( {\n\t\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t\t} ) ),\n\t\t\t\t\t} );\n\t\t\t\t\tmediaUpload( {\n\t\t\t\t\t\tfilesList: files,\n\t\t\t\t\t\tonFileChange: ( images ) => {\n\t\t\t\t\t\t\tconst imagesAttr = images.map(\n\t\t\t\t\t\t\t\tpickRelevantMediaFiles\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tonChange( block.clientId, {\n\t\t\t\t\t\t\t\tids: map( imagesAttr, 'id' ),\n\t\t\t\t\t\t\t\timages: imagesAttr,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tallowedTypes: [ 'image' ],\n\t\t\t\t\t} );\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\ttransform: ( { images } ) => {\n\t\t\t\t\tif ( images.length > 0 ) {\n\t\t\t\t\t\treturn images.map( ( { id, url, alt, caption } ) => createBlock( 'core/image', { id, url, alt, caption } ) );\n\t\t\t\t\t}\n\t\t\t\t\treturn createBlock( 'core/image' );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { images, columns = defaultColumnsNumber( attributes ), imageCrop, linkTo } = attributes;\n\t\treturn (\n\t\t\t<ul className={ `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }` } >\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = <img src={ image.url } alt={ image.alt } data-id={ image.id } data-link={ image.link } className={ image.id ? `wp-image-${ image.id }` : null } />;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={ image.id || image.url } className=\"blocks-gallery-item\">\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ image.caption } />\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tisEligible( { images, ids } ) {\n\t\t\t\treturn images &&\n\t\t\t\t\timages.length > 0 &&\n\t\t\t\t\t(\n\t\t\t\t\t\t( ! ids && images ) ||\n\t\t\t\t\t\t( ids && images && ids.length !== images.length ) ||\n\t\t\t\t\t\tsome( images, ( id, index ) => {\n\t\t\t\t\t\t\tif ( ! id && ids[ index ] !== null ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn parseInt( id, 10 ) !== ids[ index ];\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t},\n\t\t\tmigrate( attributes ) {\n\t\t\t\treturn {\n\t\t\t\t\t...attributes,\n\t\t\t\t\tids: map( attributes.images, ( { id } ) => {\n\t\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn parseInt( id, 10 );\n\t\t\t\t\t} ),\n\t\t\t\t};\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { images, columns = defaultColumnsNumber( attributes ), imageCrop, linkTo } = attributes;\n\t\t\t\treturn (\n\t\t\t\t\t<ul className={ `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }` } >\n\t\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst img = <img src={ image.url } alt={ image.alt } data-id={ image.id } data-link={ image.link } className={ image.id ? `wp-image-${ image.id }` : null } />;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={ image.id || image.url } className=\"blocks-gallery-item\">\n\t\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ image.caption } />\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</ul>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { images, columns = defaultColumnsNumber( attributes ), imageCrop, linkTo } = attributes;\n\t\t\t\treturn (\n\t\t\t\t\t<ul className={ `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }` } >\n\t\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst img = <img src={ image.url } alt={ image.alt } data-id={ image.id } data-link={ image.link } />;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={ image.id || image.url } className=\"blocks-gallery-item\">\n\t\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ image.caption } />\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</ul>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: {\n\t\t\t\t...blockAttributes,\n\t\t\t\timages: {\n\t\t\t\t\t...blockAttributes.images,\n\t\t\t\t\tselector: 'div.wp-block-gallery figure.blocks-gallery-image img',\n\t\t\t\t},\n\t\t\t\talign: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdefault: 'none',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { images, columns = defaultColumnsNumber( attributes ), align, imageCrop, linkTo } = attributes;\n\t\t\t\treturn (\n\t\t\t\t\t<div className={ `align${ align } columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }` } >\n\t\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst img = <img src={ image.url } alt={ image.alt } data-id={ image.id } />;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<figure key={ image.id || image.url } className=\"blocks-gallery-image\">\n\t\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n","/**\n * Internal dependencies\n */\nimport HeadingToolbar from './heading-toolbar';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { PanelBody } from '@wordpress/components';\nimport { createBlock } from '@wordpress/blocks';\nimport { RichText, BlockControls, InspectorControls, AlignmentToolbar } from '@wordpress/editor';\n\nexport default function HeadingEdit( {\n\tattributes,\n\tsetAttributes,\n\tmergeBlocks,\n\tinsertBlocksAfter,\n\tonReplace,\n\tclassName,\n} ) {\n\tconst { align, content, level, placeholder } = attributes;\n\tconst tagName = 'h' + level;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<BlockControls>\n\t\t\t\t<HeadingToolbar minLevel={ 2 } maxLevel={ 5 } selectedLevel={ level } onChange={ ( newLevel ) => setAttributes( { level: newLevel } ) } />\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Heading Settings' ) }>\n\t\t\t\t\t<p>{ __( 'Level' ) }</p>\n\t\t\t\t\t<HeadingToolbar minLevel={ 1 } maxLevel={ 7 } selectedLevel={ level } onChange={ ( newLevel ) => setAttributes( { level: newLevel } ) } />\n\t\t\t\t\t<p>{ __( 'Text Alignment' ) }</p>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<RichText\n\t\t\t\tidentifier=\"content\"\n\t\t\t\twrapperClassName=\"wp-block-heading\"\n\t\t\t\ttagName={ tagName }\n\t\t\t\tvalue={ content }\n\t\t\t\tonChange={ ( value ) => setAttributes( { content: value } ) }\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tunstableOnSplit={\n\t\t\t\t\tinsertBlocksAfter ?\n\t\t\t\t\t\t( before, after, ...blocks ) => {\n\t\t\t\t\t\t\tsetAttributes( { content: before } );\n\t\t\t\t\t\t\tinsertBlocksAfter( [\n\t\t\t\t\t\t\t\t...blocks,\n\t\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', { content: after } ),\n\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t} :\n\t\t\t\t\t\tundefined\n\t\t\t\t}\n\t\t\t\tonRemove={ () => onReplace( [] ) }\n\t\t\t\tstyle={ { textAlign: align } }\n\t\t\t\tclassName={ className }\n\t\t\t\tplaceholder={ placeholder || __( 'Write heading' ) }\n\t\t\t/>\n\t\t</Fragment>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { range } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { Toolbar } from '@wordpress/components';\n\nclass HeadingToolbar extends Component {\n\tcreateLevelControl( targetLevel, selectedLevel, onChange ) {\n\t\treturn {\n\t\t\ticon: 'heading',\n\t\t\t// translators: %s: heading level e.g: \"1\", \"2\", \"3\"\n\t\t\ttitle: sprintf( __( 'Heading %d' ), targetLevel ),\n\t\t\tisActive: targetLevel === selectedLevel,\n\t\t\tonClick: () => onChange( targetLevel ),\n\t\t\tsubscript: String( targetLevel ),\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { minLevel, maxLevel, selectedLevel, onChange } = this.props;\n\t\treturn (\n\t\t\t<Toolbar controls={ range( minLevel, maxLevel ).map( ( index ) => this.createLevelControl( index, selectedLevel, onChange ) ) } />\n\t\t);\n\t}\n}\n\nexport default HeadingToolbar;\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tcreateBlock,\n\tgetPhrasingContentSchema,\n\tgetBlockAttributes,\n} from '@wordpress/blocks';\nimport { RichText } from '@wordpress/editor';\nimport {\n\tPath,\n\tSVG,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\n/**\n * Given a node name string for a heading node, returns its numeric level.\n *\n * @param {string} nodeName Heading node name.\n *\n * @return {number} Heading level.\n */\nexport function getLevelFromHeadingNodeName( nodeName ) {\n\treturn Number( nodeName.substr( 1 ) );\n}\n\nconst supports = {\n\tclassName: false,\n\tanchor: true,\n};\n\nconst schema = {\n\tcontent: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'h1,h2,h3,h4,h5,h6',\n\t\tdefault: '',\n\t},\n\tlevel: {\n\t\ttype: 'number',\n\t\tdefault: 2,\n\t},\n\talign: {\n\t\ttype: 'string',\n\t},\n\tplaceholder: {\n\t\ttype: 'string',\n\t},\n};\n\nexport const name = 'core/heading';\n\nexport const settings = {\n\ttitle: __( 'Heading' ),\n\n\tdescription: __( 'Introduce new sections and organize content to help visitors (and search engines) understand the structure of your content.' ),\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path d=\"M5 4v3h5.5v12h3V7H19V4z\" /><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tkeywords: [ __( 'title' ), __( 'subtitle' ) ],\n\n\tsupports,\n\n\tattributes: schema,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( { content } ) => {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tselector: 'h1,h2,h3,h4,h5,h6',\n\t\t\t\tschema: {\n\t\t\t\t\th1: { children: getPhrasingContentSchema() },\n\t\t\t\t\th2: { children: getPhrasingContentSchema() },\n\t\t\t\t\th3: { children: getPhrasingContentSchema() },\n\t\t\t\t\th4: { children: getPhrasingContentSchema() },\n\t\t\t\t\th5: { children: getPhrasingContentSchema() },\n\t\t\t\t\th6: { children: getPhrasingContentSchema() },\n\t\t\t\t},\n\t\t\t\ttransform( node ) {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\t...getBlockAttributes(\n\t\t\t\t\t\t\t'core/heading',\n\t\t\t\t\t\t\tnode.outerHTML\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlevel: getLevelFromHeadingNodeName( node.nodeName ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t...[ 2, 3, 4, 5, 6 ].map( ( level ) => ( {\n\t\t\t\ttype: 'prefix',\n\t\t\t\tprefix: Array( level + 1 ).join( '#' ),\n\t\t\t\ttransform( content ) {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\tlevel,\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t} ) ),\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( { content } ) => {\n\t\t\t\t\treturn createBlock( 'core/paragraph', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tsupports,\n\t\t\tattributes: {\n\t\t\t\t...omit( schema, [ 'level' ] ),\n\t\t\t\tnodeName: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'property',\n\t\t\t\t\tselector: 'h1,h2,h3,h4,h5,h6',\n\t\t\t\t\tproperty: 'nodeName',\n\t\t\t\t\tdefault: 'H2',\n\t\t\t\t},\n\t\t\t},\n\t\t\tmigrate( attributes ) {\n\t\t\t\tconst { nodeName, ...migratedAttributes } = attributes;\n\n\t\t\t\treturn {\n\t\t\t\t\t...migratedAttributes,\n\t\t\t\t\tlevel: getLevelFromHeadingNodeName( nodeName ),\n\t\t\t\t};\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { align, nodeName, content } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName={ nodeName.toLowerCase() }\n\t\t\t\t\t\tstyle={ { textAlign: align } }\n\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent: attributes.content + attributesToMerge.content,\n\t\t};\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { align, level, content } = attributes;\n\t\tconst tagName = 'h' + level;\n\n\t\treturn (\n\t\t\t<RichText.Content\n\t\t\t\ttagName={ tagName }\n\t\t\t\tstyle={ { textAlign: align } }\n\t\t\t\tvalue={ content }\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { RawHTML } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Disabled, SandBox, SVG, Path } from '@wordpress/components';\nimport { getPhrasingContentSchema } from '@wordpress/blocks';\nimport { BlockControls, PlainText } from '@wordpress/editor';\nimport { withState } from '@wordpress/compose';\n\nexport const name = 'core/html';\n\nexport const settings = {\n\ttitle: __( 'Custom HTML' ),\n\n\tdescription: __( 'Add custom HTML code and preview it as you edit.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M4.5,11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5V11z M7,10.5h1.5V15H10v-4.5h1.5V9H7V10.5z M14.5,10l-1-1H12v6h1.5v-3.9  l1,1l1-1V15H17V9h-1.5L14.5,10z M19.5,13.5V9H18v6h5v-1.5H19.5z\" /></SVG>,\n\n\tcategory: 'formatting',\n\n\tkeywords: [ __( 'embed' ) ],\n\n\tsupports: {\n\t\tcustomClassName: false,\n\t\tclassName: false,\n\t\thtml: false,\n\t},\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => node.nodeName === 'FIGURE' && !! node.querySelector( 'iframe' ),\n\t\t\t\tschema: {\n\t\t\t\t\tfigure: {\n\t\t\t\t\t\trequire: [ 'iframe' ],\n\t\t\t\t\t\tchildren: {\n\t\t\t\t\t\t\tiframe: {\n\t\t\t\t\t\t\t\tattributes: [ 'src', 'allowfullscreen', 'height', 'width' ],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfigcaption: {\n\t\t\t\t\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit: withState( {\n\t\tisPreview: false,\n\t} )( ( { attributes, setAttributes, setState, isPreview } ) => (\n\t\t<div className=\"wp-block-html\">\n\t\t\t<BlockControls>\n\t\t\t\t<div className=\"components-toolbar\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={ `components-tab-button ${ ! isPreview ? 'is-active' : '' }` }\n\t\t\t\t\t\tonClick={ () => setState( { isPreview: false } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>HTML</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={ `components-tab-button ${ isPreview ? 'is-active' : '' }` }\n\t\t\t\t\t\tonClick={ () => setState( { isPreview: true } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{ __( 'Preview' ) }</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</BlockControls>\n\t\t\t<Disabled.Consumer>\n\t\t\t\t{ ( isDisabled ) => (\n\t\t\t\t\t( isPreview || isDisabled ) ? (\n\t\t\t\t\t\t<SandBox html={ attributes.content } />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PlainText\n\t\t\t\t\t\t\tvalue={ attributes.content }\n\t\t\t\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\n\t\t\t\t\t\t\tplaceholder={ __( 'Write HTML' ) }\n\t\t\t\t\t\t\taria-label={ __( 'HTML' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t) }\n\t\t\t</Disabled.Consumer>\n\t\t</div>\n\t) ),\n\n\tsave( { attributes } ) {\n\t\treturn <RawHTML>{ attributes.content }</RawHTML>;\n\t},\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport {\n\tget,\n\tisEmpty,\n\tmap,\n\tlast,\n\tpick,\n\tcompact,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { getPath } from '@wordpress/url';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component, Fragment } from '@wordpress/element';\nimport { getBlobByURL, revokeBlobURL, isBlobURL } from '@wordpress/blob';\nimport {\n\tButton,\n\tButtonGroup,\n\tIconButton,\n\tPanelBody,\n\tResizableBox,\n\tSelectControl,\n\tSpinner,\n\tTextControl,\n\tTextareaControl,\n\tToolbar,\n\twithNotices,\n\tToggleControl,\n} from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport {\n\tRichText,\n\tBlockControls,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tBlockAlignmentToolbar,\n\tmediaUpload,\n} from '@wordpress/editor';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { createUpgradedEmbedBlock } from '../embed/util';\nimport ImageSize from './image-size';\n\n/**\n * Module constants\n */\nconst MIN_SIZE = 20;\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst LINK_DESTINATION_CUSTOM = 'custom';\nconst NEW_TAB_REL = 'noreferrer noopener';\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nexport const pickRelevantMediaFiles = ( image ) => {\n\tconst imageProps = pick( image, [ 'alt', 'id', 'link', 'caption' ] );\n\timageProps.url = get( image, [ 'sizes', 'large', 'url' ] ) || get( image, [ 'media_details', 'sizes', 'large', 'source_url' ] ) || image.url;\n\treturn imageProps;\n};\n\n/**\n * Is the URL a temporary blob URL? A blob URL is one that is used temporarily\n * while the image is being uploaded and will not have an id yet allocated.\n *\n * @param {number=} id The id of the image.\n * @param {string=} url The url of the image.\n *\n * @return {boolean} Is the URL a Blob URL\n */\nconst isTemporaryImage = ( id, url ) => ! id && isBlobURL( url );\n\n/**\n * Is the url for the image hosted externally. An externally hosted image has no id\n * and is not a blob url.\n *\n * @param {number=} id  The id of the image.\n * @param {string=} url The url of the image.\n *\n * @return {boolean} Is the url an externally hosted url?\n */\nconst isExternalImage = ( id, url ) => url && ! id && ! isBlobURL( url );\n\nclass ImageEdit extends Component {\n\tconstructor( { attributes } ) {\n\t\tsuper( ...arguments );\n\t\tthis.updateAlt = this.updateAlt.bind( this );\n\t\tthis.updateAlignment = this.updateAlignment.bind( this );\n\t\tthis.onFocusCaption = this.onFocusCaption.bind( this );\n\t\tthis.onImageClick = this.onImageClick.bind( this );\n\t\tthis.onSelectImage = this.onSelectImage.bind( this );\n\t\tthis.onSelectURL = this.onSelectURL.bind( this );\n\t\tthis.updateImageURL = this.updateImageURL.bind( this );\n\t\tthis.updateWidth = this.updateWidth.bind( this );\n\t\tthis.updateHeight = this.updateHeight.bind( this );\n\t\tthis.updateDimensions = this.updateDimensions.bind( this );\n\t\tthis.onSetCustomHref = this.onSetCustomHref.bind( this );\n\t\tthis.onSetLinkClass = this.onSetLinkClass.bind( this );\n\t\tthis.onSetLinkRel = this.onSetLinkRel.bind( this );\n\t\tthis.onSetLinkDestination = this.onSetLinkDestination.bind( this );\n\t\tthis.onSetNewTab = this.onSetNewTab.bind( this );\n\t\tthis.getFilename = this.getFilename.bind( this );\n\t\tthis.toggleIsEditing = this.toggleIsEditing.bind( this );\n\t\tthis.onUploadError = this.onUploadError.bind( this );\n\t\tthis.onImageError = this.onImageError.bind( this );\n\n\t\tthis.state = {\n\t\t\tcaptionFocused: false,\n\t\t\tisEditing: ! attributes.url,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { id, url = '' } = attributes;\n\n\t\tif ( isTemporaryImage( id, url ) ) {\n\t\t\tconst file = getBlobByURL( url );\n\n\t\t\tif ( file ) {\n\t\t\t\tmediaUpload( {\n\t\t\t\t\tfilesList: [ file ],\n\t\t\t\t\tonFileChange: ( [ image ] ) => {\n\t\t\t\t\t\tsetAttributes( pickRelevantMediaFiles( image ) );\n\t\t\t\t\t},\n\t\t\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { id: prevID, url: prevURL = '' } = prevProps.attributes;\n\t\tconst { id, url = '' } = this.props.attributes;\n\n\t\tif ( isTemporaryImage( prevID, prevURL ) && ! isTemporaryImage( id, url ) ) {\n\t\t\trevokeBlobURL( url );\n\t\t}\n\n\t\tif ( ! this.props.isSelected && prevProps.isSelected && this.state.captionFocused ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionFocused: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\tonUploadError( message ) {\n\t\tconst { noticeOperations } = this.props;\n\t\tnoticeOperations.createErrorNotice( message );\n\t\tthis.setState( {\n\t\t\tisEditing: true,\n\t\t} );\n\t}\n\n\tonSelectImage( media ) {\n\t\tif ( ! media || ! media.url ) {\n\t\t\tthis.props.setAttributes( {\n\t\t\t\turl: undefined,\n\t\t\t\talt: undefined,\n\t\t\t\tid: undefined,\n\t\t\t\tcaption: undefined,\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tisEditing: false,\n\t\t} );\n\n\t\tthis.props.setAttributes( {\n\t\t\t...pickRelevantMediaFiles( media ),\n\t\t\twidth: undefined,\n\t\t\theight: undefined,\n\t\t} );\n\t}\n\n\tonSetLinkDestination( value ) {\n\t\tlet href;\n\n\t\tif ( value === LINK_DESTINATION_NONE ) {\n\t\t\thref = undefined;\n\t\t} else if ( value === LINK_DESTINATION_MEDIA ) {\n\t\t\thref = ( this.props.image && this.props.image.source_url ) || this.props.attributes.url;\n\t\t} else if ( value === LINK_DESTINATION_ATTACHMENT ) {\n\t\t\thref = this.props.image && this.props.image.link;\n\t\t} else {\n\t\t\thref = this.props.attributes.href;\n\t\t}\n\n\t\tthis.props.setAttributes( {\n\t\t\tlinkDestination: value,\n\t\t\thref,\n\t\t} );\n\t}\n\n\tonSelectURL( newURL ) {\n\t\tconst { url } = this.props.attributes;\n\n\t\tif ( newURL !== url ) {\n\t\t\tthis.props.setAttributes( {\n\t\t\t\turl: newURL,\n\t\t\t\tid: undefined,\n\t\t\t} );\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tisEditing: false,\n\t\t} );\n\t}\n\n\tonImageError( url ) {\n\t\t// Check if there's an embed block that handles this URL.\n\t\tconst embedBlock = createUpgradedEmbedBlock(\n\t\t\t{ attributes: { url } }\n\t\t);\n\t\tif ( undefined !== embedBlock ) {\n\t\t\tthis.props.onReplace( embedBlock );\n\t\t}\n\t}\n\n\tonSetCustomHref( value ) {\n\t\tthis.props.setAttributes( { href: value } );\n\t}\n\n\tonSetLinkClass( value ) {\n\t\tthis.props.setAttributes( { linkClass: value } );\n\t}\n\n\tonSetLinkRel( value ) {\n\t\tthis.props.setAttributes( { rel: value } );\n\t}\n\n\tonSetNewTab( value ) {\n\t\tconst { rel } = this.props.attributes;\n\t\tconst linkTarget = value ? '_blank' : undefined;\n\n\t\tlet updatedRel = rel;\n\t\tif ( linkTarget && ! rel ) {\n\t\t\tupdatedRel = NEW_TAB_REL;\n\t\t} else if ( ! linkTarget && rel === NEW_TAB_REL ) {\n\t\t\tupdatedRel = undefined;\n\t\t}\n\n\t\tthis.props.setAttributes( {\n\t\t\tlinkTarget,\n\t\t\trel: updatedRel,\n\t\t} );\n\t}\n\n\tonFocusCaption() {\n\t\tif ( ! this.state.captionFocused ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionFocused: true,\n\t\t\t} );\n\t\t}\n\t}\n\n\tonImageClick() {\n\t\tif ( this.state.captionFocused ) {\n\t\t\tthis.setState( {\n\t\t\t\tcaptionFocused: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\tupdateAlt( newAlt ) {\n\t\tthis.props.setAttributes( { alt: newAlt } );\n\t}\n\n\tupdateAlignment( nextAlign ) {\n\t\tconst extraUpdatedAttributes = [ 'wide', 'full' ].indexOf( nextAlign ) !== -1 ?\n\t\t\t{ width: undefined, height: undefined } :\n\t\t\t{};\n\t\tthis.props.setAttributes( { ...extraUpdatedAttributes, align: nextAlign } );\n\t}\n\n\tupdateImageURL( url ) {\n\t\tthis.props.setAttributes( { url, width: undefined, height: undefined } );\n\t}\n\n\tupdateWidth( width ) {\n\t\tthis.props.setAttributes( { width: parseInt( width, 10 ) } );\n\t}\n\n\tupdateHeight( height ) {\n\t\tthis.props.setAttributes( { height: parseInt( height, 10 ) } );\n\t}\n\n\tupdateDimensions( width = undefined, height = undefined ) {\n\t\treturn () => {\n\t\t\tthis.props.setAttributes( { width, height } );\n\t\t};\n\t}\n\n\tgetFilename( url ) {\n\t\tconst path = getPath( url );\n\t\tif ( path ) {\n\t\t\treturn last( path.split( '/' ) );\n\t\t}\n\t}\n\n\tgetLinkDestinationOptions() {\n\t\treturn [\n\t\t\t{ value: LINK_DESTINATION_NONE, label: __( 'None' ) },\n\t\t\t{ value: LINK_DESTINATION_MEDIA, label: __( 'Media File' ) },\n\t\t\t{ value: LINK_DESTINATION_ATTACHMENT, label: __( 'Attachment Page' ) },\n\t\t\t{ value: LINK_DESTINATION_CUSTOM, label: __( 'Custom URL' ) },\n\t\t];\n\t}\n\n\ttoggleIsEditing() {\n\t\tthis.setState( {\n\t\t\tisEditing: ! this.state.isEditing,\n\t\t} );\n\t}\n\n\tgetImageSizeOptions() {\n\t\tconst { imageSizes, image } = this.props;\n\t\treturn compact( map( imageSizes, ( { name, slug } ) => {\n\t\t\tconst sizeUrl = get( image, [ 'media_details', 'sizes', slug, 'source_url' ] );\n\t\t\tif ( ! sizeUrl ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tvalue: sizeUrl,\n\t\t\t\tlabel: name,\n\t\t\t};\n\t\t} ) );\n\t}\n\n\trender() {\n\t\tconst { isEditing } = this.state;\n\t\tconst {\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tisLargeViewport,\n\t\t\tisSelected,\n\t\t\tclassName,\n\t\t\tmaxWidth,\n\t\t\tnoticeUI,\n\t\t\ttoggleSelection,\n\t\t\tisRTL,\n\t\t} = this.props;\n\t\tconst {\n\t\t\turl,\n\t\t\talt,\n\t\t\tcaption,\n\t\t\talign,\n\t\t\tid,\n\t\t\thref,\n\t\t\trel,\n\t\t\tlinkClass,\n\t\t\tlinkDestination,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tlinkTarget,\n\t\t} = attributes;\n\t\tconst isExternal = isExternalImage( id, url );\n\t\tconst imageSizeOptions = this.getImageSizeOptions();\n\n\t\tlet toolbarEditButton;\n\t\tif ( url ) {\n\t\t\tif ( isExternal ) {\n\t\t\t\ttoolbarEditButton = (\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"components-icon-button components-toolbar__control\"\n\t\t\t\t\t\t\tlabel={ __( 'Edit image' ) }\n\t\t\t\t\t\t\tonClick={ this.toggleIsEditing }\n\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\ttoolbarEditButton = (\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\tonSelect={ this.onSelectImage }\n\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Edit image' ) }\n\t\t\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst controls = (\n\t\t\t<BlockControls>\n\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\tvalue={ align }\n\t\t\t\t\tonChange={ this.updateAlignment }\n\t\t\t\t/>\n\t\t\t\t{ toolbarEditButton }\n\t\t\t</BlockControls>\n\t\t);\n\n\t\tif ( isEditing ) {\n\t\t\tconst src = isExternal ? url : undefined;\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ controls }\n\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\ticon=\"format-image\"\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\tonSelect={ this.onSelectImage }\n\t\t\t\t\t\tonSelectURL={ this.onSelectURL }\n\t\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\t\tonError={ this.onUploadError }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tvalue={ { id, src } }\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\tconst classes = classnames( className, {\n\t\t\t'is-transient': isBlobURL( url ),\n\t\t\t'is-resized': !! width || !! height,\n\t\t\t'is-focused': isSelected,\n\t\t} );\n\n\t\tconst isResizable = [ 'wide', 'full' ].indexOf( align ) === -1 && isLargeViewport;\n\t\tconst isLinkURLInputReadOnly = linkDestination !== LINK_DESTINATION_CUSTOM;\n\n\t\tconst getInspectorControls = ( imageWidth, imageHeight ) => (\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Image Settings' ) }>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={ __( 'Alt Text (Alternative Text)' ) }\n\t\t\t\t\t\tvalue={ alt }\n\t\t\t\t\t\tonChange={ this.updateAlt }\n\t\t\t\t\t\thelp={ __( 'Alternative text describes your image to people who cant see it. Add a short description with its key details.' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ ! isEmpty( imageSizeOptions ) && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Image Size' ) }\n\t\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\t\tonChange={ this.updateImageURL }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isResizable && (\n\t\t\t\t\t\t<div className=\"block-library-image__dimensions\">\n\t\t\t\t\t\t\t<p className=\"block-library-image__dimensions__row\">\n\t\t\t\t\t\t\t\t{ __( 'Image Dimensions' ) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"block-library-image__dimensions__row\">\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tclassName=\"block-library-image__dimensions__width\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\t\t\t\tvalue={ width !== undefined ? width : '' }\n\t\t\t\t\t\t\t\t\tplaceholder={ imageWidth }\n\t\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\t\tonChange={ this.updateWidth }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tclassName=\"block-library-image__dimensions__height\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\t\t\t\tvalue={ height !== undefined ? height : '' }\n\t\t\t\t\t\t\t\t\tplaceholder={ imageHeight }\n\t\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\t\tonChange={ this.updateHeight }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"block-library-image__dimensions__row\">\n\t\t\t\t\t\t\t\t<ButtonGroup aria-label={ __( 'Image Size' ) }>\n\t\t\t\t\t\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( scale ) => {\n\t\t\t\t\t\t\t\t\t\tconst scaledWidth = Math.round( imageWidth * ( scale / 100 ) );\n\t\t\t\t\t\t\t\t\t\tconst scaledHeight = Math.round( imageHeight * ( scale / 100 ) );\n\n\t\t\t\t\t\t\t\t\t\tconst isCurrent = width === scaledWidth && height === scaledHeight;\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ scale }\n\t\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\t\tisPrimary={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\t\taria-pressed={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ this.updateDimensions( scaledWidth, scaledHeight ) }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ scale }%\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\tonClick={ this.updateDimensions() }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody title={ __( 'Link Settings' ) }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Link To' ) }\n\t\t\t\t\t\tvalue={ linkDestination }\n\t\t\t\t\t\toptions={ this.getLinkDestinationOptions() }\n\t\t\t\t\t\tonChange={ this.onSetLinkDestination }\n\t\t\t\t\t/>\n\t\t\t\t\t{ linkDestination !== LINK_DESTINATION_NONE && (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Link URL' ) }\n\t\t\t\t\t\t\t\tvalue={ href || '' }\n\t\t\t\t\t\t\t\tonChange={ this.onSetCustomHref }\n\t\t\t\t\t\t\t\tplaceholder={ ! isLinkURLInputReadOnly ? 'https://' : undefined }\n\t\t\t\t\t\t\t\treadOnly={ isLinkURLInputReadOnly }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Open in New Tab' ) }\n\t\t\t\t\t\t\t\tonChange={ this.onSetNewTab }\n\t\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' } />\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Link CSS Class' ) }\n\t\t\t\t\t\t\t\tvalue={ linkClass || '' }\n\t\t\t\t\t\t\t\tonChange={ this.onSetLinkClass }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Link Rel' ) }\n\t\t\t\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\t\t\t\tonChange={ this.onSetLinkRel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t);\n\n\t\t// Disable reason: Each block can be selected by clicking on it\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ controls }\n\t\t\t\t<figure className={ classes }>\n\t\t\t\t\t<ImageSize src={ url } dirtynessTrigger={ align }>\n\t\t\t\t\t\t{ ( sizes ) => {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\timageWidthWithinContainer,\n\t\t\t\t\t\t\t\timageHeightWithinContainer,\n\t\t\t\t\t\t\t\timageWidth,\n\t\t\t\t\t\t\t\timageHeight,\n\t\t\t\t\t\t\t} = sizes;\n\n\t\t\t\t\t\t\tconst filename = this.getFilename( url );\n\t\t\t\t\t\t\tlet defaultedAlt;\n\t\t\t\t\t\t\tif ( alt ) {\n\t\t\t\t\t\t\t\tdefaultedAlt = alt;\n\t\t\t\t\t\t\t} else if ( filename ) {\n\t\t\t\t\t\t\t\tdefaultedAlt = sprintf( __( 'This image has an empty alt attribute; its file name is %s' ), filename );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefaultedAlt = __( 'This image has an empty alt attribute' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t\t// Disable reason: Image itself is not meant to be interactive, but\n\t\t\t\t\t\t\t\t// should direct focus to block.\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<img src={ url } alt={ defaultedAlt } onClick={ this.onImageClick } onError={ () => this.onImageError( url ) } />\n\t\t\t\t\t\t\t\t\t{ isBlobURL( url ) && <Spinner /> }\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( ! isResizable || ! imageWidthWithinContainer ) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t{ getInspectorControls( imageWidth, imageHeight ) }\n\t\t\t\t\t\t\t\t\t\t<div style={ { width, height } }>\n\t\t\t\t\t\t\t\t\t\t\t{ img }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst currentWidth = width || imageWidthWithinContainer;\n\t\t\t\t\t\t\tconst currentHeight = height || imageHeightWithinContainer;\n\n\t\t\t\t\t\t\tconst ratio = imageWidth / imageHeight;\n\t\t\t\t\t\t\tconst minWidth = imageWidth < imageHeight ? MIN_SIZE : MIN_SIZE * ratio;\n\t\t\t\t\t\t\tconst minHeight = imageHeight < imageWidth ? MIN_SIZE : MIN_SIZE / ratio;\n\n\t\t\t\t\t\t\t// With the current implementation of ResizableBox, an image needs an explicit pixel value for the max-width.\n\t\t\t\t\t\t\t// In absence of being able to set the content-width, this max-width is currently dictated by the vanilla editor style.\n\t\t\t\t\t\t\t// The following variable adds a buffer to this vanilla style, so 3rd party themes have some wiggleroom.\n\t\t\t\t\t\t\t// This does, in most cases, allow you to scale the image beyond the width of the main column, though not infinitely.\n\t\t\t\t\t\t\t// @todo It would be good to revisit this once a content-width variable becomes available.\n\t\t\t\t\t\t\tconst maxWidthBuffer = maxWidth * 2.5;\n\n\t\t\t\t\t\t\tlet showRightHandle = false;\n\t\t\t\t\t\t\tlet showLeftHandle = false;\n\n\t\t\t\t\t\t\t/* eslint-disable no-lonely-if */\n\t\t\t\t\t\t\t// See https://github.com/WordPress/gutenberg/issues/7584.\n\t\t\t\t\t\t\tif ( align === 'center' ) {\n\t\t\t\t\t\t\t\t// When the image is centered, show both handles.\n\t\t\t\t\t\t\t\tshowRightHandle = true;\n\t\t\t\t\t\t\t\tshowLeftHandle = true;\n\t\t\t\t\t\t\t} else if ( isRTL ) {\n\t\t\t\t\t\t\t\t// In RTL mode the image is on the right by default.\n\t\t\t\t\t\t\t\t// Show the right handle and hide the left handle only when it is aligned left.\n\t\t\t\t\t\t\t\t// Otherwise always show the left handle.\n\t\t\t\t\t\t\t\tif ( align === 'left' ) {\n\t\t\t\t\t\t\t\t\tshowRightHandle = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tshowLeftHandle = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Show the left handle and hide the right handle only when the image is aligned right.\n\t\t\t\t\t\t\t\t// Otherwise always show the right handle.\n\t\t\t\t\t\t\t\tif ( align === 'right' ) {\n\t\t\t\t\t\t\t\t\tshowLeftHandle = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tshowRightHandle = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* eslint-enable no-lonely-if */\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t{ getInspectorControls( imageWidth, imageHeight ) }\n\t\t\t\t\t\t\t\t\t<ResizableBox\n\t\t\t\t\t\t\t\t\t\tsize={\n\t\t\t\t\t\t\t\t\t\t\twidth && height ? {\n\t\t\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\t\t\t\t} : undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tminWidth={ minWidth }\n\t\t\t\t\t\t\t\t\t\tmaxWidth={ maxWidthBuffer }\n\t\t\t\t\t\t\t\t\t\tminHeight={ minHeight }\n\t\t\t\t\t\t\t\t\t\tmaxHeight={ maxWidthBuffer / ratio }\n\t\t\t\t\t\t\t\t\t\tlockAspectRatio\n\t\t\t\t\t\t\t\t\t\tenable={ {\n\t\t\t\t\t\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\t\t\t\t\t\tright: showRightHandle,\n\t\t\t\t\t\t\t\t\t\t\tbottom: true,\n\t\t\t\t\t\t\t\t\t\t\tleft: showLeftHandle,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tonResizeStart={ () => {\n\t\t\t\t\t\t\t\t\t\t\ttoggleSelection( false );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tonResizeStop={ ( event, direction, elt, delta ) => {\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\twidth: parseInt( currentWidth + delta.width, 10 ),\n\t\t\t\t\t\t\t\t\t\t\t\theight: parseInt( currentHeight + delta.height, 10 ),\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\ttoggleSelection( true );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ img }\n\t\t\t\t\t\t\t\t\t</ResizableBox>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t</ImageSize>\n\t\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\tplaceholder={ __( 'Write caption' ) }\n\t\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\t\tunstableOnFocus={ this.onFocusCaption }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { caption: value } ) }\n\t\t\t\t\t\t\tisSelected={ this.state.captionFocused }\n\t\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</figure>\n\t\t\t</Fragment>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, props ) => {\n\t\tconst { getMedia } = select( 'core' );\n\t\tconst { getEditorSettings } = select( 'core/editor' );\n\t\tconst { id } = props.attributes;\n\t\tconst { maxWidth, isRTL, imageSizes } = getEditorSettings();\n\n\t\treturn {\n\t\t\timage: id ? getMedia( id ) : null,\n\t\t\tmaxWidth,\n\t\t\tisRTL,\n\t\t\timageSizes,\n\t\t};\n\t} ),\n\twithViewportMatch( { isLargeViewport: 'medium' } ),\n\twithNotices,\n] )( ImageEdit );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withGlobalEvents } from '@wordpress/compose';\nimport { Component } from '@wordpress/element';\n\nclass ImageSize extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\twidth: undefined,\n\t\t\theight: undefined,\n\t\t};\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\t\tthis.calculateSize = this.calculateSize.bind( this );\n\t}\n\n\tbindContainer( ref ) {\n\t\tthis.container = ref;\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.src !== prevProps.src ) {\n\t\t\tthis.setState( {\n\t\t\t\twidth: undefined,\n\t\t\t\theight: undefined,\n\t\t\t} );\n\t\t\tthis.fetchImageSize();\n\t\t}\n\n\t\tif ( this.props.dirtynessTrigger !== prevProps.dirtynessTrigger ) {\n\t\t\tthis.calculateSize();\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchImageSize();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif ( this.image ) {\n\t\t\tthis.image.onload = noop;\n\t\t}\n\t}\n\n\tfetchImageSize() {\n\t\tthis.image = new window.Image();\n\t\tthis.image.onload = this.calculateSize;\n\t\tthis.image.src = this.props.src;\n\t}\n\n\tcalculateSize() {\n\t\tconst maxWidth = this.container.clientWidth;\n\t\tconst exceedMaxWidth = this.image.width > maxWidth;\n\t\tconst ratio = this.image.height / this.image.width;\n\t\tconst width = exceedMaxWidth ? maxWidth : this.image.width;\n\t\tconst height = exceedMaxWidth ? maxWidth * ratio : this.image.height;\n\t\tthis.setState( { width, height } );\n\t}\n\n\trender() {\n\t\tconst sizes = {\n\t\t\timageWidth: this.image && this.image.width,\n\t\t\timageHeight: this.image && this.image.height,\n\t\t\tcontainerWidth: this.container && this.container.clientWidth,\n\t\t\tcontainerHeight: this.container && this.container.clientHeight,\n\t\t\timageWidthWithinContainer: this.state.width,\n\t\t\timageHeightWithinContainer: this.state.height,\n\t\t};\n\t\treturn (\n\t\t\t<div ref={ this.bindContainer }>\n\t\t\t\t{ this.props.children( sizes ) }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withGlobalEvents( {\n\tresize: 'calculateSize',\n} )( ImageSize );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tcreateBlock,\n\tgetBlockAttributes,\n\tgetPhrasingContentSchema,\n} from '@wordpress/blocks';\nimport { RichText } from '@wordpress/editor';\nimport { createBlobURL } from '@wordpress/blob';\nimport {\n\tPath,\n\tSVG,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/image';\n\nconst blockAttributes = {\n\turl: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'img',\n\t\tattribute: 'src',\n\t},\n\talt: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'img',\n\t\tattribute: 'alt',\n\t\tdefault: '',\n\t},\n\tcaption: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'figcaption',\n\t},\n\thref: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'figure > a',\n\t\tattribute: 'href',\n\t},\n\trel: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'figure > a',\n\t\tattribute: 'rel',\n\t},\n\tlinkClass: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'figure > a',\n\t\tattribute: 'class',\n\t},\n\tid: {\n\t\ttype: 'number',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t},\n\twidth: {\n\t\ttype: 'number',\n\t},\n\theight: {\n\t\ttype: 'number',\n\t},\n\tlinkDestination: {\n\t\ttype: 'string',\n\t\tdefault: 'none',\n\t},\n\tlinkTarget: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'figure > a',\n\t\tattribute: 'target',\n\t},\n};\n\nconst imageSchema = {\n\timg: {\n\t\tattributes: [ 'src', 'alt' ],\n\t\tclasses: [ 'alignleft', 'aligncenter', 'alignright', 'alignnone', /^wp-image-\\d+$/ ],\n\t},\n};\n\nconst schema = {\n\tfigure: {\n\t\trequire: [ 'img' ],\n\t\tchildren: {\n\t\t\t...imageSchema,\n\t\t\ta: {\n\t\t\t\tattributes: [ 'href', 'rel', 'target' ],\n\t\t\t\tchildren: imageSchema,\n\t\t\t},\n\t\t\tfigcaption: {\n\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport const settings = {\n\ttitle: __( 'Image' ),\n\n\tdescription: __( 'Insert an image to make a visual statement.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z\" /><Path d=\"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tkeywords: [\n\t\t'img', // \"img\" is not translated as it is intended to reflect the HTML <img> tag.\n\t\t__( 'photo' ),\n\t],\n\n\tattributes: blockAttributes,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => node.nodeName === 'FIGURE' && !! node.querySelector( 'img' ),\n\t\t\t\tschema,\n\t\t\t\ttransform: ( node ) => {\n\t\t\t\t\t// Search both figure and image classes. Alignment could be\n\t\t\t\t\t// set on either. ID is set on the image.\n\t\t\t\t\tconst className = node.className + ' ' + node.querySelector( 'img' ).className;\n\t\t\t\t\tconst alignMatches = /(?:^|\\s)align(left|center|right)(?:$|\\s)/.exec( className );\n\t\t\t\t\tconst align = alignMatches ? alignMatches[ 1 ] : undefined;\n\t\t\t\t\tconst idMatches = /(?:^|\\s)wp-image-(\\d+)(?:$|\\s)/.exec( className );\n\t\t\t\t\tconst id = idMatches ? Number( idMatches[ 1 ] ) : undefined;\n\t\t\t\t\tconst anchorElement = node.querySelector( 'a' );\n\t\t\t\t\tconst linkDestination = anchorElement && anchorElement.href ? 'custom' : undefined;\n\t\t\t\t\tconst href = anchorElement && anchorElement.href ? anchorElement.href : undefined;\n\t\t\t\t\tconst rel = anchorElement && anchorElement.rel ? anchorElement.rel : undefined;\n\t\t\t\t\tconst linkClass = anchorElement && anchorElement.className ? anchorElement.className : undefined;\n\t\t\t\t\tconst attributes = getBlockAttributes( 'core/image', node.outerHTML, { align, id, linkDestination, href, rel, linkClass } );\n\t\t\t\t\treturn createBlock( 'core/image', attributes );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'image/' ) === 0;\n\t\t\t\t},\n\t\t\t\ttransform( files ) {\n\t\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t\t// int the image block\n\t\t\t\t\tconst block = createBlock( 'core/image', {\n\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'caption',\n\t\t\t\tattributes: {\n\t\t\t\t\turl: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'src',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t},\n\t\t\t\t\talt: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t},\n\t\t\t\t\tcaption: {\n\t\t\t\t\t\tshortcode: ( attributes, { shortcode } ) => {\n\t\t\t\t\t\t\tconst { content } = shortcode;\n\t\t\t\t\t\t\treturn content.replace( /\\s*<img[^>]*>\\s/, '' );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\thref: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'href',\n\t\t\t\t\t\tselector: 'a',\n\t\t\t\t\t},\n\t\t\t\t\trel: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'rel',\n\t\t\t\t\t\tselector: 'a',\n\t\t\t\t\t},\n\t\t\t\t\tlinkClass: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'class',\n\t\t\t\t\t\tselector: 'a',\n\t\t\t\t\t},\n\t\t\t\t\tid: {\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tshortcode: ( { named: { id } } ) => {\n\t\t\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn parseInt( id.replace( 'attachment_', '' ), 10 );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\talign: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { align = 'alignnone' } } ) => {\n\t\t\t\t\t\t\treturn align.replace( 'align', '' );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align, width } = attributes;\n\t\tif ( 'left' === align || 'center' === align || 'right' === align || 'wide' === align || 'full' === align ) {\n\t\t\treturn { 'data-align': align, 'data-resized': !! width };\n\t\t}\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\turl,\n\t\t\talt,\n\t\t\tcaption,\n\t\t\talign,\n\t\t\thref,\n\t\t\trel,\n\t\t\tlinkClass,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tid,\n\t\t\tlinkTarget,\n\t\t} = attributes;\n\n\t\tconst classes = classnames( {\n\t\t\t[ `align${ align }` ]: align,\n\t\t\t'is-resized': width || height,\n\t\t} );\n\n\t\tconst image = (\n\t\t\t<img\n\t\t\t\tsrc={ url }\n\t\t\t\talt={ alt }\n\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\twidth={ width }\n\t\t\t\theight={ height }\n\t\t\t/>\n\t\t);\n\n\t\tconst figure = (\n\t\t\t<Fragment>\n\t\t\t\t{ href ? (\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName={ linkClass }\n\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\ttarget={ linkTarget }\n\t\t\t\t\t\trel={ rel }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ image }\n\t\t\t\t\t</a>\n\t\t\t\t) : image }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t</Fragment>\n\t\t);\n\n\t\tif ( 'left' === align || 'right' === align || 'center' === align ) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<figure className={ classes }>\n\t\t\t\t\t\t{ figure }\n\t\t\t\t\t</figure>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<figure className={ classes }>\n\t\t\t\t{ figure }\n\t\t\t</figure>\n\t\t);\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { url, alt, caption, align, href, width, height, id } = attributes;\n\n\t\t\t\tconst classes = classnames( {\n\t\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t\t'is-resized': width || height,\n\t\t\t\t} );\n\n\t\t\t\tconst image = (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\t\t\twidth={ width }\n\t\t\t\t\t\theight={ height }\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<figure className={ classes }>\n\t\t\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\n\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t\t</figure>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { url, alt, caption, align, href, width, height, id } = attributes;\n\n\t\t\t\tconst image = (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\t\t\t\twidth={ width }\n\t\t\t\t\t\theight={ height }\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<figure className={ align ? `align${ align }` : null } >\n\t\t\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\n\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t\t</figure>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { url, alt, caption, align, href, width, height } = attributes;\n\t\t\t\tconst extraImageProps = width || height ? { width, height } : {};\n\t\t\t\tconst image = <img src={ url } alt={ alt } { ...extraImageProps } />;\n\n\t\t\t\tlet figureStyle = {};\n\n\t\t\t\tif ( width ) {\n\t\t\t\t\tfigureStyle = { width };\n\t\t\t\t} else if ( align === 'left' || align === 'right' ) {\n\t\t\t\t\tfigureStyle = { maxWidth: '50%' };\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<figure className={ align ? `align${ align }` : null } style={ figureStyle }>\n\t\t\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\n\t\t\t\t\t\t{ ! RichText.isEmpty( caption ) && <RichText.Content tagName=\"figcaption\" value={ caption } /> }\n\t\t\t\t\t</figure>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n","/**\n * WordPress dependencies\n */\nimport '@wordpress/core-data';\nimport {\n\tregisterBlockType,\n\tsetDefaultBlockName,\n\tsetFreeformContentHandlerName,\n\tsetUnregisteredTypeHandlerName,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport * as paragraph from './paragraph';\nimport * as image from './image';\nimport * as heading from './heading';\nimport * as quote from './quote';\nimport * as gallery from './gallery';\nimport * as archives from './archives';\nimport * as audio from './audio';\nimport * as button from './button';\nimport * as categories from './categories';\nimport * as code from './code';\nimport * as columns from './columns';\nimport * as column from './columns/column';\nimport * as cover from './cover';\nimport * as embed from './embed';\nimport * as file from './file';\nimport * as html from './html';\nimport * as mediaText from './media-text';\nimport * as latestComments from './latest-comments';\nimport * as latestPosts from './latest-posts';\nimport * as list from './list';\nimport * as missing from './missing';\nimport * as more from './more';\nimport * as nextpage from './nextpage';\nimport * as preformatted from './preformatted';\nimport * as pullquote from './pullquote';\nimport * as reusableBlock from './block';\nimport * as separator from './separator';\nimport * as shortcode from './shortcode';\nimport * as spacer from './spacer';\nimport * as subhead from './subhead';\nimport * as table from './table';\nimport * as template from './template';\nimport * as textColumns from './text-columns';\nimport * as verse from './verse';\nimport * as video from './video';\n\nimport * as classic from './classic';\n\nexport const registerCoreBlocks = () => {\n\t[\n\t\t// Common blocks are grouped at the top to prioritize their display\n\t\t// in various contexts  like the inserter and auto-complete components.\n\t\tparagraph,\n\t\timage,\n\t\theading,\n\t\tgallery,\n\t\tlist,\n\t\tquote,\n\n\t\t// Register all remaining core blocks.\n\t\tshortcode,\n\t\tarchives,\n\t\taudio,\n\t\tbutton,\n\t\tcategories,\n\t\tcode,\n\t\tcolumns,\n\t\tcolumn,\n\t\tcover,\n\t\tembed,\n\t\t...embed.common,\n\t\t...embed.others,\n\t\tfile,\n\t\twindow.wp && window.wp.oldEditor ? classic : null, // Only add the classic block in WP Context\n\t\thtml,\n\t\tmediaText,\n\t\tlatestComments,\n\t\tlatestPosts,\n\t\tmissing,\n\t\tmore,\n\t\tnextpage,\n\t\tpreformatted,\n\t\tpullquote,\n\t\tseparator,\n\t\treusableBlock,\n\t\tspacer,\n\t\tsubhead,\n\t\ttable,\n\t\ttemplate,\n\t\ttextColumns,\n\t\tverse,\n\t\tvideo,\n\t].forEach( ( block ) => {\n\t\tif ( ! block ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { name, settings } = block;\n\t\tregisterBlockType( name, settings );\n\t} );\n\n\tsetDefaultBlockName( paragraph.name );\n\tif ( window.wp && window.wp.oldEditor ) {\n\t\tsetFreeformContentHandlerName( classic.name );\n\t}\n\tsetUnregisteredTypeHandlerName( missing.name );\n};\n","/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport {\n\tDisabled,\n\tPanelBody,\n\tRangeControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\tServerSideRender,\n} from '@wordpress/editor';\n\n/**\n * Minimum number of comments a user can show using this block.\n *\n * @type {number}\n */\nconst MIN_COMMENTS = 1;\n/**\n * Maximum number of comments a user can show using this block.\n *\n * @type {number}\n */\nconst MAX_COMMENTS = 100;\n\nclass LatestComments extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.setAlignment = this.setAlignment.bind( this );\n\t\tthis.setCommentsToShow = this.setCommentsToShow.bind( this );\n\n\t\t// Create toggles for each attribute; we create them here rather than\n\t\t// passing `this.createToggleAttribute( 'displayAvatar' )` directly to\n\t\t// `onChange` to avoid re-renders.\n\t\tthis.toggleDisplayAvatar = this.createToggleAttribute( 'displayAvatar' );\n\t\tthis.toggleDisplayDate = this.createToggleAttribute( 'displayDate' );\n\t\tthis.toggleDisplayExcerpt = this.createToggleAttribute( 'displayExcerpt' );\n\t}\n\n\tcreateToggleAttribute( propName ) {\n\t\treturn () => {\n\t\t\tconst value = this.props.attributes[ propName ];\n\t\t\tconst { setAttributes } = this.props;\n\n\t\t\tsetAttributes( { [ propName ]: ! value } );\n\t\t};\n\t}\n\n\tsetAlignment( align ) {\n\t\tthis.props.setAttributes( { align } );\n\t}\n\n\tsetCommentsToShow( commentsToShow ) {\n\t\tthis.props.setAttributes( { commentsToShow } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talign,\n\t\t\tcommentsToShow,\n\t\t\tdisplayAvatar,\n\t\t\tdisplayDate,\n\t\t\tdisplayExcerpt,\n\t\t} = this.props.attributes;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ this.setAlignment }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Latest Comments Settings' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display Avatar' ) }\n\t\t\t\t\t\t\tchecked={ displayAvatar }\n\t\t\t\t\t\t\tonChange={ this.toggleDisplayAvatar }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display Date' ) }\n\t\t\t\t\t\t\tchecked={ displayDate }\n\t\t\t\t\t\t\tonChange={ this.toggleDisplayDate }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display Excerpt' ) }\n\t\t\t\t\t\t\tchecked={ displayExcerpt }\n\t\t\t\t\t\t\tonChange={ this.toggleDisplayExcerpt }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Number of Comments' ) }\n\t\t\t\t\t\t\tvalue={ commentsToShow }\n\t\t\t\t\t\t\tonChange={ this.setCommentsToShow }\n\t\t\t\t\t\t\tmin={ MIN_COMMENTS }\n\t\t\t\t\t\t\tmax={ MAX_COMMENTS }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock=\"core/latest-comments\"\n\t\t\t\t\t\tattributes={ this.props.attributes }\n\t\t\t\t\t/>\n\t\t\t\t</Disabled>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default LatestComments;\n","/**\n * WordPress dependencies.\n */\nimport { __ } from '@wordpress/i18n';\nimport { G, Path, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies.\n */\nimport edit from './edit';\n\nexport const name = 'core/latest-comments';\n\nexport const settings = {\n\ttitle: __( 'Latest Comments' ),\n\n\tdescription: __( 'Display a list of your most recent comments.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M22 4l-2-2H4L2 4v12l2 2h14l4 4V4zm-2 0v13l-1-1H4V4h16z\" /><Path d=\"M6 12h12v2H6zM6 9h12v2H6zM6 6h12v2H6z\" /></G></SVG>,\n\n\tcategory: 'widgets',\n\n\tkeywords: [ __( 'recent comments' ) ],\n\n\tsupports: {\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align } = attributes;\n\n\t\t// TODO: Use consistent values across the app;\n\t\t// see: https://github.com/WordPress/gutenberg/issues/7908.\n\t\tif ( [ 'left', 'center', 'right', 'wide', 'full' ].includes( align ) ) {\n\t\t\treturn { 'data-align': align };\n\t\t}\n\t},\n\n\tedit,\n\n\tsave() {\n\t\treturn null;\n\t},\n};\n","/**\n * External dependencies\n */\nimport { isUndefined, pickBy } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport {\n\tPanelBody,\n\tPlaceholder,\n\tQueryControls,\n\tRangeControl,\n\tSpinner,\n\tToggleControl,\n\tToolbar,\n} from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport { __ } from '@wordpress/i18n';\nimport { dateI18n, format, __experimentalGetSettings } from '@wordpress/date';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport {\n\tInspectorControls,\n\tBlockAlignmentToolbar,\n\tBlockControls,\n} from '@wordpress/editor';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Module Constants\n */\nconst CATEGORIES_LIST_QUERY = {\n\tper_page: -1,\n};\nconst MAX_POSTS_COLUMNS = 6;\n\nclass LatestPostsEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tcategoriesList: [],\n\t\t};\n\t\tthis.toggleDisplayPostDate = this.toggleDisplayPostDate.bind( this );\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.isStillMounted = true;\n\t\tthis.fetchRequest = apiFetch( {\n\t\t\tpath: addQueryArgs( `/wp/v2/categories`, CATEGORIES_LIST_QUERY ),\n\t\t} ).then(\n\t\t\t( categoriesList ) => {\n\t\t\t\tif ( this.isStillMounted ) {\n\t\t\t\t\tthis.setState( { categoriesList } );\n\t\t\t\t}\n\t\t\t}\n\t\t).catch(\n\t\t\t() => {\n\t\t\t\tif ( this.isStillMounted ) {\n\t\t\t\t\tthis.setState( { categoriesList: [] } );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.isStillMounted = false;\n\t}\n\n\ttoggleDisplayPostDate() {\n\t\tconst { displayPostDate } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { displayPostDate: ! displayPostDate } );\n\t}\n\n\trender() {\n\t\tconst { attributes, setAttributes, latestPosts } = this.props;\n\t\tconst { categoriesList } = this.state;\n\t\tconst { displayPostDate, align, postLayout, columns, order, orderBy, categories, postsToShow } = attributes;\n\n\t\tconst inspectorControls = (\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Latest Posts Settings' ) }>\n\t\t\t\t\t<QueryControls\n\t\t\t\t\t\t{ ...{ order, orderBy } }\n\t\t\t\t\t\tnumberOfItems={ postsToShow }\n\t\t\t\t\t\tcategoriesList={ categoriesList }\n\t\t\t\t\t\tselectedCategoryId={ categories }\n\t\t\t\t\t\tonOrderChange={ ( value ) => setAttributes( { order: value } ) }\n\t\t\t\t\t\tonOrderByChange={ ( value ) => setAttributes( { orderBy: value } ) }\n\t\t\t\t\t\tonCategoryChange={ ( value ) => setAttributes( { categories: '' !== value ? value : undefined } ) }\n\t\t\t\t\t\tonNumberOfItemsChange={ ( value ) => setAttributes( { postsToShow: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display post date' ) }\n\t\t\t\t\t\tchecked={ displayPostDate }\n\t\t\t\t\t\tonChange={ this.toggleDisplayPostDate }\n\t\t\t\t\t/>\n\t\t\t\t\t{ postLayout === 'grid' &&\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { columns: value } ) }\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ ! hasPosts ? MAX_POSTS_COLUMNS : Math.min( MAX_POSTS_COLUMNS, latestPosts.length ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t);\n\n\t\tconst hasPosts = Array.isArray( latestPosts ) && latestPosts.length;\n\t\tif ( ! hasPosts ) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ inspectorControls }\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\ticon=\"admin-post\"\n\t\t\t\t\t\tlabel={ __( 'Latest Posts' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ! Array.isArray( latestPosts ) ?\n\t\t\t\t\t\t\t<Spinner /> :\n\t\t\t\t\t\t\t__( 'No posts found.' )\n\t\t\t\t\t\t}\n\t\t\t\t\t</Placeholder>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\t// Removing posts from display should be instant.\n\t\tconst displayPosts = latestPosts.length > postsToShow ?\n\t\t\tlatestPosts.slice( 0, postsToShow ) :\n\t\t\tlatestPosts;\n\n\t\tconst layoutControls = [\n\t\t\t{\n\t\t\t\ticon: 'list-view',\n\t\t\t\ttitle: __( 'List View' ),\n\t\t\t\tonClick: () => setAttributes( { postLayout: 'list' } ),\n\t\t\t\tisActive: postLayout === 'list',\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'grid-view',\n\t\t\t\ttitle: __( 'Grid View' ),\n\t\t\t\tonClick: () => setAttributes( { postLayout: 'grid' } ),\n\t\t\t\tisActive: postLayout === 'grid',\n\t\t\t},\n\t\t];\n\n\t\tconst dateFormat = __experimentalGetSettings().formats.date;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ inspectorControls }\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tcontrols={ [ 'center', 'wide', 'full' ] }\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar controls={ layoutControls } />\n\t\t\t\t</BlockControls>\n\t\t\t\t<ul\n\t\t\t\t\tclassName={ classnames( this.props.className, {\n\t\t\t\t\t\t'is-grid': postLayout === 'grid',\n\t\t\t\t\t\t'has-dates': displayPostDate,\n\t\t\t\t\t\t[ `columns-${ columns }` ]: postLayout === 'grid',\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ displayPosts.map( ( post, i ) =>\n\t\t\t\t\t\t<li key={ i }>\n\t\t\t\t\t\t\t<a href={ post.link } target=\"_blank\">{ decodeEntities( post.title.rendered.trim() ) || __( '(Untitled)' ) }</a>\n\t\t\t\t\t\t\t{ displayPostDate && post.date_gmt &&\n\t\t\t\t\t\t\t\t<time dateTime={ format( 'c', post.date_gmt ) } className={ `${ this.props.className }__post-date` }>\n\t\t\t\t\t\t\t\t\t{ dateI18n( dateFormat, post.date_gmt ) }\n\t\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) }\n\t\t\t\t</ul>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default withSelect( ( select, props ) => {\n\tconst { postsToShow, order, orderBy, categories } = props.attributes;\n\tconst { getEntityRecords } = select( 'core' );\n\tconst latestPostsQuery = pickBy( {\n\t\tcategories,\n\t\torder,\n\t\torderby: orderBy,\n\t\tper_page: postsToShow,\n\t}, ( value ) => ! isUndefined( value ) );\n\treturn {\n\t\tlatestPosts: getEntityRecords( 'postType', 'post', latestPostsQuery ),\n\t};\n} )( LatestPostsEdit );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Path, Rect, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/latest-posts';\n\nexport const settings = {\n\ttitle: __( 'Latest Posts' ),\n\n\tdescription: __( 'Display a list of your most recent posts.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Rect x=\"11\" y=\"7\" width=\"6\" height=\"2\" /><Rect x=\"11\" y=\"11\" width=\"6\" height=\"2\" /><Rect x=\"11\" y=\"15\" width=\"6\" height=\"2\" /><Rect x=\"7\" y=\"7\" width=\"2\" height=\"2\" /><Rect x=\"7\" y=\"11\" width=\"2\" height=\"2\" /><Rect x=\"7\" y=\"15\" width=\"2\" height=\"2\" /><Path d=\"M20.1,3H3.9C3.4,3,3,3.4,3,3.9v16.2C3,20.5,3.4,21,3.9,21h16.2c0.4,0,0.9-0.5,0.9-0.9V3.9C21,3.4,20.5,3,20.1,3z M19,19H5V5h14V19z\" /></SVG>,\n\n\tcategory: 'widgets',\n\n\tkeywords: [ __( 'recent posts' ) ],\n\n\tsupports: {\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { align } = attributes;\n\t\tif ( 'left' === align || 'right' === align || 'wide' === align || 'full' === align ) {\n\t\t\treturn { 'data-align': align };\n\t\t}\n\t},\n\n\tedit,\n\n\tsave() {\n\t\treturn null;\n\t},\n};\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tcreateBlock,\n\tgetPhrasingContentSchema,\n\tgetBlockAttributes,\n} from '@wordpress/blocks';\nimport { RichText } from '@wordpress/editor';\nimport { replace, join, split, create, toHTMLString, LINE_SEPARATOR } from '@wordpress/rich-text';\nimport { G, Path, SVG } from '@wordpress/components';\n\nconst listContentSchema = {\n\t...getPhrasingContentSchema(),\n\tul: {},\n\tol: { attributes: [ 'type' ] },\n};\n\n// Recursion is needed.\n// Possible: ul > li > ul.\n// Impossible: ul > ul.\n[ 'ul', 'ol' ].forEach( ( tag ) => {\n\tlistContentSchema[ tag ].children = {\n\t\tli: {\n\t\t\tchildren: listContentSchema,\n\t\t},\n\t};\n} );\n\nconst supports = {\n\tclassName: false,\n};\n\nconst schema = {\n\tordered: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tvalues: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'ol,ul',\n\t\tmultiline: 'li',\n\t\tdefault: '',\n\t},\n};\n\nexport const name = 'core/list';\n\nexport const settings = {\n\ttitle: __( 'List' ),\n\tdescription: __( 'Create a bulleted or numbered list.' ),\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><G><Path d=\"M9 19h12v-2H9v2zm0-6h12v-2H9v2zm0-8v2h12V5H9zm-4-.5c-.828 0-1.5.672-1.5 1.5S4.172 7.5 5 7.5 6.5 6.828 6.5 6 5.828 4.5 5 4.5zm0 6c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm0 6c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5z\" /></G></SVG>,\n\tcategory: 'common',\n\tkeywords: [ __( 'bullet list' ), __( 'ordered list' ), __( 'numbered list' ) ],\n\n\tattributes: schema,\n\n\tsupports,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tisMultiBlock: true,\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( blockAttributes ) => {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tvalues: toHTMLString( {\n\t\t\t\t\t\t\tvalue: join( blockAttributes.map( ( { content } ) =>\n\t\t\t\t\t\t\t\treplace( create( { html: content } ), /\\n/g, LINE_SEPARATOR )\n\t\t\t\t\t\t\t), LINE_SEPARATOR ),\n\t\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/quote' ],\n\t\t\t\ttransform: ( { value } ) => {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tvalues: toHTMLString( {\n\t\t\t\t\t\t\tvalue: create( { html: value, multilineTag: 'p' } ),\n\t\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tselector: 'ol,ul',\n\t\t\t\tschema: {\n\t\t\t\t\tol: listContentSchema.ol,\n\t\t\t\t\tul: listContentSchema.ul,\n\t\t\t\t},\n\t\t\t\ttransform( node ) {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\t...getBlockAttributes(\n\t\t\t\t\t\t\t'core/list',\n\t\t\t\t\t\t\tnode.outerHTML\n\t\t\t\t\t\t),\n\t\t\t\t\t\tordered: node.nodeName === 'OL',\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t...[ '*', '-' ].map( ( prefix ) => ( {\n\t\t\t\ttype: 'prefix',\n\t\t\t\tprefix,\n\t\t\t\ttransform( content ) {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tvalues: `<li>${ content }</li>`,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t} ) ),\n\t\t\t...[ '1.', '1)' ].map( ( prefix ) => ( {\n\t\t\t\ttype: 'prefix',\n\t\t\t\tprefix,\n\t\t\t\ttransform( content ) {\n\t\t\t\t\treturn createBlock( 'core/list', {\n\t\t\t\t\t\tordered: true,\n\t\t\t\t\t\tvalues: `<li>${ content }</li>`,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t} ) ),\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( { values } ) =>\n\t\t\t\t\tsplit( create( {\n\t\t\t\t\t\thtml: values,\n\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\tmultilineWrapperTags: [ 'ul', 'ol' ],\n\t\t\t\t\t} ), LINE_SEPARATOR )\n\t\t\t\t\t\t.map( ( piece ) =>\n\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\t\tcontent: toHTMLString( { value: piece } ),\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/quote' ],\n\t\t\t\ttransform: ( { values } ) => {\n\t\t\t\t\treturn createBlock( 'core/quote', {\n\t\t\t\t\t\tvalue: toHTMLString( {\n\t\t\t\t\t\t\tvalue: create( {\n\t\t\t\t\t\t\t\thtml: values,\n\t\t\t\t\t\t\t\tmultilineTag: 'li',\n\t\t\t\t\t\t\t\tmultilineWrapperTags: [ 'ul', 'ol' ],\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\tmultilineTag: 'p',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tsupports,\n\t\t\tattributes: {\n\t\t\t\t...omit( schema, [ 'ordered' ] ),\n\t\t\t\tnodeName: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'property',\n\t\t\t\t\tselector: 'ol,ul',\n\t\t\t\t\tproperty: 'nodeName',\n\t\t\t\t\tdefault: 'UL',\n\t\t\t\t},\n\t\t\t},\n\t\t\tmigrate( attributes ) {\n\t\t\t\tconst { nodeName, ...migratedAttributes } = attributes;\n\n\t\t\t\treturn {\n\t\t\t\t\t...migratedAttributes,\n\t\t\t\t\tordered: 'OL' === nodeName,\n\t\t\t\t};\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { nodeName, values } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName={ nodeName.toLowerCase() }\n\t\t\t\t\t\tvalue={ values }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\n\tmerge( attributes, attributesToMerge ) {\n\t\tconst { values } = attributesToMerge;\n\n\t\tif ( ! values || values === '<li></li>' ) {\n\t\t\treturn attributes;\n\t\t}\n\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tvalues: attributes.values + values,\n\t\t};\n\t},\n\n\tedit( {\n\t\tattributes,\n\t\tinsertBlocksAfter,\n\t\tsetAttributes,\n\t\tmergeBlocks,\n\t\tonReplace,\n\t\tclassName,\n\t} ) {\n\t\tconst { ordered, values } = attributes;\n\n\t\treturn (\n\t\t\t<RichText\n\t\t\t\tidentifier=\"values\"\n\t\t\t\tmultiline=\"li\"\n\t\t\t\ttagName={ ordered ? 'ol' : 'ul' }\n\t\t\t\tonChange={ ( nextValues ) => setAttributes( { values: nextValues } ) }\n\t\t\t\tvalue={ values }\n\t\t\t\twrapperClassName=\"block-library-list\"\n\t\t\t\tclassName={ className }\n\t\t\t\tplaceholder={ __( 'Write list' ) }\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tunstableOnSplit={\n\t\t\t\t\tinsertBlocksAfter ?\n\t\t\t\t\t\t( before, after, ...blocks ) => {\n\t\t\t\t\t\t\tif ( ! blocks.length ) {\n\t\t\t\t\t\t\t\tblocks.push( createBlock( 'core/paragraph' ) );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( after !== '<li></li>' ) {\n\t\t\t\t\t\t\t\tblocks.push( createBlock( 'core/list', {\n\t\t\t\t\t\t\t\t\tordered,\n\t\t\t\t\t\t\t\t\tvalues: after,\n\t\t\t\t\t\t\t\t} ) );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetAttributes( { values: before } );\n\t\t\t\t\t\t\tinsertBlocksAfter( blocks );\n\t\t\t\t\t\t} :\n\t\t\t\t\t\tundefined\n\t\t\t\t}\n\t\t\t\tonRemove={ () => onReplace( [] ) }\n\t\t\t\tonTagNameChange={ ( tag ) => setAttributes( { ordered: tag === 'ol' } ) }\n\t\t\t/>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { ordered, values } = attributes;\n\t\tconst tagName = ordered ? 'ol' : 'ul';\n\n\t\treturn (\n\t\t\t<RichText.Content tagName={ tagName } value={ values } multiline=\"li\" />\n\t\t);\n\t},\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tBlockControls,\n\tInnerBlocks,\n\tInspectorControls,\n\tPanelColorSettings,\n\twithColors,\n} from '@wordpress/editor';\nimport { Component, Fragment } from '@wordpress/element';\nimport {\n\tPanelBody,\n\tTextareaControl,\n\tToggleControl,\n\tToolbar,\n} from '@wordpress/components';\n/**\n * Internal dependencies\n */\nimport MediaContainer from './media-container';\n\n/**\n * Constants\n */\nconst ALLOWED_BLOCKS = [ 'core/button', 'core/paragraph', 'core/heading', 'core/list' ];\nconst TEMPLATE = [\n\t[ 'core/paragraph', { fontSize: 'large', placeholder: 'Content' } ],\n];\n\nclass MediaTextEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onSelectMedia = this.onSelectMedia.bind( this );\n\t\tthis.onWidthChange = this.onWidthChange.bind( this );\n\t\tthis.commitWidthChange = this.commitWidthChange.bind( this );\n\t\tthis.state = {\n\t\t\tmediaWidth: null,\n\t\t};\n\t}\n\n\tonSelectMedia( media ) {\n\t\tconst { setAttributes } = this.props;\n\n\t\tlet mediaType;\n\t\tlet src;\n\t\t// for media selections originated from a file upload.\n\t\tif ( media.media_type ) {\n\t\t\tif ( media.media_type === 'image' ) {\n\t\t\t\tmediaType = 'image';\n\t\t\t} else {\n\t\t\t\t// only images and videos are accepted so if the media_type is not an image we can assume it is a video.\n\t\t\t\t// video contain the media type of 'file' in the object returned from the rest api.\n\t\t\t\tmediaType = 'video';\n\t\t\t}\n\t\t} else { // for media selections originated from existing files in the media library.\n\t\t\tmediaType = media.type;\n\t\t}\n\n\t\tif ( mediaType === 'image' ) {\n\t\t\t// Try the \"large\" size URL, falling back to the \"full\" size URL below.\n\t\t\tsrc = get( media, [ 'sizes', 'large', 'url' ] ) || get( media, [ 'media_details', 'sizes', 'large', 'source_url' ] );\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\tmediaAlt: media.alt,\n\t\t\tmediaId: media.id,\n\t\t\tmediaType,\n\t\t\tmediaUrl: src || media.url,\n\t\t} );\n\t}\n\n\tonWidthChange( width ) {\n\t\tthis.setState( {\n\t\t\tmediaWidth: width,\n\t\t} );\n\t}\n\n\tcommitWidthChange( width ) {\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( {\n\t\t\tmediaWidth: width,\n\t\t} );\n\t\tthis.setState( {\n\t\t\tmediaWidth: null,\n\t\t} );\n\t}\n\n\trenderMediaArea() {\n\t\tconst { attributes } = this.props;\n\t\tconst { mediaAlt, mediaId, mediaPosition, mediaType, mediaUrl, mediaWidth } = attributes;\n\n\t\treturn (\n\t\t\t<MediaContainer\n\t\t\t\tclassName=\"block-library-media-text__media-container\"\n\t\t\t\tonSelectMedia={ this.onSelectMedia }\n\t\t\t\tonWidthChange={ this.onWidthChange }\n\t\t\t\tcommitWidthChange={ this.commitWidthChange }\n\t\t\t\t{ ...{ mediaAlt, mediaId, mediaType, mediaUrl, mediaPosition, mediaWidth } }\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tclassName,\n\t\t\tbackgroundColor,\n\t\t\tisSelected,\n\t\t\tsetAttributes,\n\t\t\tsetBackgroundColor,\n\t\t} = this.props;\n\t\tconst {\n\t\t\tisStackedOnMobile,\n\t\t\tmediaAlt,\n\t\t\tmediaPosition,\n\t\t\tmediaType,\n\t\t\tmediaWidth,\n\t\t} = attributes;\n\t\tconst temporaryMediaWidth = this.state.mediaWidth;\n\t\tconst classNames = classnames( className, {\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t\t'is-selected': isSelected,\n\t\t\t[ backgroundColor.class ]: backgroundColor.class,\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t} );\n\t\tconst widthString = `${ temporaryMediaWidth || mediaWidth }%`;\n\t\tconst style = {\n\t\t\tgridTemplateColumns: 'right' === mediaPosition ? `auto ${ widthString }` : `${ widthString } auto`,\n\t\t\tbackgroundColor: backgroundColor.color,\n\t\t};\n\t\tconst colorSettings = [ {\n\t\t\tvalue: backgroundColor.color,\n\t\t\tonChange: setBackgroundColor,\n\t\t\tlabel: __( 'Background Color' ),\n\t\t} ];\n\t\tconst toolbarControls = [ {\n\t\t\ticon: 'align-pull-left',\n\t\t\ttitle: __( 'Show media on left' ),\n\t\t\tisActive: mediaPosition === 'left',\n\t\t\tonClick: () => setAttributes( { mediaPosition: 'left' } ),\n\t\t}, {\n\t\t\ticon: 'align-pull-right',\n\t\t\ttitle: __( 'Show media on right' ),\n\t\t\tisActive: mediaPosition === 'right',\n\t\t\tonClick: () => setAttributes( { mediaPosition: 'right' } ),\n\t\t} ];\n\t\tconst onMediaAltChange = ( newMediaAlt ) => {\n\t\t\tsetAttributes( { mediaAlt: newMediaAlt } );\n\t\t};\n\t\tconst mediaTextGeneralSettings = (\n\t\t\t<PanelBody title={ __( 'Media & Text Settings' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Stack on mobile' ) }\n\t\t\t\t\tchecked={ isStackedOnMobile }\n\t\t\t\t\tonChange={ () => setAttributes( {\n\t\t\t\t\t\tisStackedOnMobile: ! isStackedOnMobile,\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t\t{ mediaType === 'image' && ( <TextareaControl\n\t\t\t\t\tlabel={ __( 'Alt Text (Alternative Text)' ) }\n\t\t\t\t\tvalue={ mediaAlt }\n\t\t\t\t\tonChange={ onMediaAltChange }\n\t\t\t\t\thelp={ __( 'Alternative text describes your image to people who cant see it. Add a short description with its key details.' ) }\n\t\t\t\t/> ) }\n\t\t\t</PanelBody>\n\t\t);\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t{ mediaTextGeneralSettings }\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\tcolorSettings={ colorSettings }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={ toolbarControls }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<div className={ classNames } style={ style } >\n\t\t\t\t\t{ this.renderMediaArea() }\n\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\tallowedBlocks={ ALLOWED_BLOCKS }\n\t\t\t\t\t\ttemplate={ TEMPLATE }\n\t\t\t\t\t\ttemplateInsertUpdatesSelection={ false }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default withColors( 'backgroundColor' )( MediaTextEdit );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n\tgetColorClassName,\n} from '@wordpress/editor';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\n\nexport const name = 'core/media-text';\n\nconst blockAttributes = {\n\talign: {\n\t\ttype: 'string',\n\t\tdefault: 'wide',\n\t},\n\tbackgroundColor: {\n\t\ttype: 'string',\n\t},\n\tcustomBackgroundColor: {\n\t\ttype: 'string',\n\t},\n\tmediaAlt: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'figure img',\n\t\tattribute: 'alt',\n\t\tdefault: '',\n\t},\n\tmediaPosition: {\n\t\ttype: 'string',\n\t\tdefault: 'left',\n\t},\n\tmediaId: {\n\t\ttype: 'number',\n\t},\n\tmediaUrl: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: 'figure video,figure img',\n\t\tattribute: 'src',\n\t},\n\tmediaType: {\n\t\ttype: 'string',\n\t},\n\tmediaWidth: {\n\t\ttype: 'number',\n\t\tdefault: 50,\n\t},\n\tisStackedOnMobile: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n};\n\nexport const settings = {\n\ttitle: __( 'Media & Text' ),\n\n\tdescription: __( 'Set media and words side-by-side for a richer layout.' ),\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path d=\"M13 17h8v-2h-8v2zM3 19h8V5H3v14zM13 9h8V7h-8v2zm0 4h8v-2h-8v2z\" /></SVG>,\n\n\tcategory: 'layout',\n\n\tkeywords: [ __( 'image' ), __( 'video' ) ],\n\n\tattributes: blockAttributes,\n\n\tsupports: {\n\t\talign: [ 'wide', 'full' ],\n\t\thtml: false,\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\ttransform: ( { alt, url, id } ) => (\n\t\t\t\t\tcreateBlock( 'core/media-text', {\n\t\t\t\t\t\tmediaAlt: alt,\n\t\t\t\t\t\tmediaId: id,\n\t\t\t\t\t\tmediaUrl: url,\n\t\t\t\t\t\tmediaType: 'image',\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/video' ],\n\t\t\t\ttransform: ( { src, id } ) => (\n\t\t\t\t\tcreateBlock( 'core/media-text', {\n\t\t\t\t\t\tmediaId: id,\n\t\t\t\t\t\tmediaUrl: src,\n\t\t\t\t\t\tmediaType: 'video',\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/image' ],\n\t\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\n\t\t\t\t\treturn ! mediaUrl || mediaType === 'image';\n\t\t\t\t},\n\t\t\t\ttransform: ( { mediaAlt, mediaId, mediaUrl } ) => {\n\t\t\t\t\treturn createBlock( 'core/image', {\n\t\t\t\t\t\talt: mediaAlt,\n\t\t\t\t\t\tid: mediaId,\n\t\t\t\t\t\turl: mediaUrl,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/video' ],\n\t\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\n\t\t\t\t\treturn ! mediaUrl || mediaType === 'video';\n\t\t\t\t},\n\t\t\t\ttransform: ( { mediaId, mediaUrl } ) => {\n\t\t\t\t\treturn createBlock( 'core/video', {\n\t\t\t\t\t\tid: mediaId,\n\t\t\t\t\t\tsrc: mediaUrl,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\tbackgroundColor,\n\t\t\tcustomBackgroundColor,\n\t\t\tisStackedOnMobile,\n\t\t\tmediaAlt,\n\t\t\tmediaPosition,\n\t\t\tmediaType,\n\t\t\tmediaUrl,\n\t\t\tmediaWidth,\n\t\t\tmediaId,\n\t\t} = attributes;\n\t\tconst mediaTypeRenders = {\n\t\t\timage: () => <img src={ mediaUrl } alt={ mediaAlt } className={ ( mediaId && mediaType === 'image' ) ? `wp-image-${ mediaId }` : null } />,\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t\t};\n\t\tconst backgroundClass = getColorClassName( 'background-color', backgroundColor );\n\t\tconst className = classnames( {\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t\t[ backgroundClass ]: backgroundClass,\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t} );\n\n\t\tlet gridTemplateColumns;\n\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\t\tgridTemplateColumns = 'right' === mediaPosition ? `auto ${ mediaWidth }%` : `${ mediaWidth }% auto`;\n\t\t}\n\t\tconst style = {\n\t\t\tbackgroundColor: backgroundClass ? undefined : customBackgroundColor,\n\t\t\tgridTemplateColumns,\n\t\t};\n\t\treturn (\n\t\t\t<div className={ className } style={ style }>\n\t\t\t\t<figure className=\"wp-block-media-text__media\" >\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t</figure>\n\t\t\t\t<div className=\"wp-block-media-text__content\">\n\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst {\n\t\t\t\t\tbackgroundColor,\n\t\t\t\t\tcustomBackgroundColor,\n\t\t\t\t\tisStackedOnMobile,\n\t\t\t\t\tmediaAlt,\n\t\t\t\t\tmediaPosition,\n\t\t\t\t\tmediaType,\n\t\t\t\t\tmediaUrl,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t} = attributes;\n\t\t\t\tconst mediaTypeRenders = {\n\t\t\t\t\timage: () => <img src={ mediaUrl } alt={ mediaAlt } />,\n\t\t\t\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t\t\t\t};\n\t\t\t\tconst backgroundClass = getColorClassName( 'background-color', backgroundColor );\n\t\t\t\tconst className = classnames( {\n\t\t\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t\t\t\t[ backgroundClass ]: backgroundClass,\n\t\t\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t\t\t} );\n\n\t\t\t\tlet gridTemplateColumns;\n\t\t\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\t\t\t\tgridTemplateColumns = 'right' === mediaPosition ? `auto ${ mediaWidth }%` : `${ mediaWidth }% auto`;\n\t\t\t\t}\n\t\t\t\tconst style = {\n\t\t\t\t\tbackgroundColor: backgroundClass ? undefined : customBackgroundColor,\n\t\t\t\t\tgridTemplateColumns,\n\t\t\t\t};\n\t\t\t\treturn (\n\t\t\t\t\t<div className={ className } style={ style }>\n\t\t\t\t\t\t<figure className=\"wp-block-media-text__media\" >\n\t\t\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t<div className=\"wp-block-media-text__content\">\n\t\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, Fragment } from '@wordpress/element';\nimport { IconButton, ResizableBox, Toolbar } from '@wordpress/components';\nimport {\n\tBlockControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n} from '@wordpress/editor';\n\n/**\n * Constants\n */\nconst ALLOWED_MEDIA_TYPES = [ 'image', 'video' ];\n\nclass MediaContainer extends Component {\n\trenderToolbarEditButton() {\n\t\tconst { mediaId, onSelectMedia } = this.props;\n\t\treturn (\n\t\t\t<BlockControls>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tvalue={ mediaId }\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Edit media' ) }\n\t\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t</BlockControls>\n\t\t);\n\t}\n\n\trenderImage() {\n\t\tconst { mediaAlt, mediaUrl, className } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ this.renderToolbarEditButton() }\n\t\t\t\t<figure className={ className }>\n\t\t\t\t\t<img src={ mediaUrl } alt={ mediaAlt } />\n\t\t\t\t</figure>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderVideo() {\n\t\tconst { mediaUrl, className } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ this.renderToolbarEditButton() }\n\t\t\t\t<figure className={ className }>\n\t\t\t\t\t<video controls src={ mediaUrl } />\n\t\t\t\t</figure>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\trenderPlaceholder() {\n\t\tconst { onSelectMedia, className } = this.props;\n\t\treturn (\n\t\t\t<MediaPlaceholder\n\t\t\t\ticon=\"format-image\"\n\t\t\t\tlabels={ {\n\t\t\t\t\ttitle: __( 'Media area' ),\n\t\t\t\t} }\n\t\t\t\tclassName={ className }\n\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { mediaPosition, mediaUrl, mediaType, mediaWidth, commitWidthChange, onWidthChange } = this.props;\n\t\tif ( mediaType && mediaUrl ) {\n\t\t\tconst onResize = ( event, direction, elt ) => {\n\t\t\t\tonWidthChange( parseInt( elt.style.width ) );\n\t\t\t};\n\t\t\tconst onResizeStop = ( event, direction, elt ) => {\n\t\t\t\tcommitWidthChange( parseInt( elt.style.width ) );\n\t\t\t};\n\t\t\tconst enablePositions = {\n\t\t\t\tright: mediaPosition === 'left',\n\t\t\t\tleft: mediaPosition === 'right',\n\t\t\t};\n\n\t\t\tlet mediaElement = null;\n\t\t\tswitch ( mediaType ) {\n\t\t\t\tcase 'image':\n\t\t\t\t\tmediaElement = this.renderImage();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video':\n\t\t\t\t\tmediaElement = this.renderVideo();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<ResizableBox\n\t\t\t\t\tclassName=\"editor-media-container__resizer\"\n\t\t\t\t\tsize={ { width: mediaWidth + '%' } }\n\t\t\t\t\tminWidth=\"10%\"\n\t\t\t\t\tmaxWidth=\"100%\"\n\t\t\t\t\tenable={ enablePositions }\n\t\t\t\t\tonResize={ onResize }\n\t\t\t\t\tonResizeStop={ onResizeStop }\n\t\t\t\t\taxis=\"x\"\n\t\t\t\t>\n\t\t\t\t\t{ mediaElement }\n\t\t\t\t</ResizableBox>\n\t\t\t);\n\t\t}\n\t\treturn this.renderPlaceholder();\n\t}\n}\n\nexport default MediaContainer;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { RawHTML, Fragment } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\nimport { getBlockType, createBlock } from '@wordpress/blocks';\nimport { withDispatch } from '@wordpress/data';\nimport { Warning } from '@wordpress/editor';\n\nfunction MissingBlockWarning( { attributes, convertToHTML } ) {\n\tconst { originalName, originalUndelimitedContent } = attributes;\n\tconst hasContent = !! originalUndelimitedContent;\n\tconst hasHTMLBlock = getBlockType( 'core/html' );\n\n\tconst actions = [];\n\tlet messageHTML;\n\tif ( hasContent && hasHTMLBlock ) {\n\t\tmessageHTML = sprintf(\n\t\t\t__( 'Your site doesnt include support for the \"%s\" block. You can leave this block intact, convert its content to a Custom HTML block, or remove it entirely.' ),\n\t\t\toriginalName\n\t\t);\n\t\tactions.push(\n\t\t\t<Button key=\"convert\" onClick={ convertToHTML } isLarge isPrimary>\n\t\t\t\t{ __( 'Keep as HTML' ) }\n\t\t\t</Button>\n\t\t);\n\t} else {\n\t\tmessageHTML = sprintf(\n\t\t\t__( 'Your site doesnt include support for the \"%s\" block. You can leave this block intact or remove it entirely.' ),\n\t\t\toriginalName\n\t\t);\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Warning actions={ actions }>\n\t\t\t\t{ messageHTML }\n\t\t\t</Warning>\n\t\t\t<RawHTML>{ originalUndelimitedContent }</RawHTML>\n\t\t</Fragment>\n\t);\n}\n\nconst edit = withDispatch( ( dispatch, { clientId, attributes } ) => {\n\tconst { replaceBlock } = dispatch( 'core/editor' );\n\treturn {\n\t\tconvertToHTML() {\n\t\t\treplaceBlock( clientId, createBlock( 'core/html', {\n\t\t\t\tcontent: attributes.originalUndelimitedContent,\n\t\t\t} ) );\n\t\t},\n\t};\n} )( MissingBlockWarning );\n\nexport const name = 'core/missing';\n\nexport const settings = {\n\tname,\n\tcategory: 'common',\n\ttitle: __( 'Unrecognized Block' ),\n\tdescription: __( 'Your site doesnt include support for this block.' ),\n\n\tsupports: {\n\t\tclassName: false,\n\t\tcustomClassName: false,\n\t\tinserter: false,\n\t\thtml: false,\n\t\treusable: false,\n\t},\n\n\tattributes: {\n\t\toriginalName: {\n\t\t\ttype: 'string',\n\t\t},\n\t\toriginalUndelimitedContent: {\n\t\t\ttype: 'string',\n\t\t},\n\t\toriginalContent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t},\n\t},\n\n\tedit,\n\tsave( { attributes } ) {\n\t\t// Preserve the missing block's content.\n\t\treturn <RawHTML>{ attributes.originalContent }</RawHTML>;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport {\n\tgetDefaultBlockName,\n\tcreateBlock,\n} from '@wordpress/blocks';\n\nexport default class MoreEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onChangeInput = this.onChangeInput.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\n\t\tthis.state = {\n\t\t\tdefaultText: __( 'Read more' ),\n\t\t};\n\t}\n\n\tonChangeInput( event ) {\n\t\t// Set defaultText to an empty string, allowing the user to clear/replace the input field's text\n\t\tthis.setState( {\n\t\t\tdefaultText: '',\n\t\t} );\n\n\t\tconst value = event.target.value.length === 0 ? undefined : event.target.value;\n\t\tthis.props.setAttributes( { customText: value } );\n\t}\n\n\tonKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\t\tconst { insertBlocksAfter } = this.props;\n\t\tif ( keyCode === ENTER ) {\n\t\t\tinsertBlocksAfter( [ createBlock( getDefaultBlockName() ) ] );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { customText, noTeaser } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tconst toggleNoTeaser = () => setAttributes( { noTeaser: ! noTeaser } );\n\t\tconst { defaultText } = this.state;\n\t\tconst value = customText !== undefined ? customText : defaultText;\n\t\tconst inputLength = value.length + 1;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Hide the teaser before the \"More\" tag' ) }\n\t\t\t\t\t\t\tchecked={ !! noTeaser }\n\t\t\t\t\t\t\tonChange={ toggleNoTeaser }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div className=\"wp-block-more\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tsize={ inputLength }\n\t\t\t\t\t\tonChange={ this.onChangeInput }\n\t\t\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport { compact } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { RawHTML } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tPath,\n\tG,\n\tSVG,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/more';\n\nexport const settings = {\n\ttitle: _x( 'More', 'block name' ),\n\n\tdescription: __( 'Mark the excerpt of this content. Content before this block will be shown in the excerpt on your archives page.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M2 9v2h19V9H2zm0 6h5v-2H2v2zm7 0h5v-2H9v2zm7 0h5v-2h-5v2z\" /></G></SVG>,\n\n\tcategory: 'layout',\n\n\tsupports: {\n\t\tcustomClassName: false,\n\t\tclassName: false,\n\t\thtml: false,\n\t\tmultiple: false,\n\t},\n\n\tattributes: {\n\t\tcustomText: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tnoTeaser: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tschema: {\n\t\t\t\t\t'wp-block': { attributes: [ 'data-block' ] },\n\t\t\t\t},\n\t\t\t\tisMatch: ( node ) => node.dataset && node.dataset.block === 'core/more',\n\t\t\t\ttransform( node ) {\n\t\t\t\t\tconst { customText, noTeaser } = node.dataset;\n\t\t\t\t\tconst attrs = {};\n\t\t\t\t\t// Don't copy unless defined and not an empty string\n\t\t\t\t\tif ( customText ) {\n\t\t\t\t\t\tattrs.customText = customText;\n\t\t\t\t\t}\n\t\t\t\t\t// Special handling for boolean\n\t\t\t\t\tif ( noTeaser === '' ) {\n\t\t\t\t\t\tattrs.noTeaser = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn createBlock( 'core/more', attrs );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { customText, noTeaser } = attributes;\n\n\t\tconst moreTag = customText ?\n\t\t\t`<!--more ${ customText }-->` :\n\t\t\t'<!--more-->';\n\n\t\tconst noTeaserTag = noTeaser ?\n\t\t\t'<!--noteaser-->' :\n\t\t\t'';\n\n\t\treturn (\n\t\t\t<RawHTML>\n\t\t\t\t{ compact( [ moreTag, noTeaserTag ] ).join( '\\n' ) }\n\t\t\t</RawHTML>\n\t\t);\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport default function NextPageEdit() {\n\treturn (\n\t\t<div className=\"wp-block-nextpage\">\n\t\t\t<span>{ __( 'Page break' ) }</span>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RawHTML } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\nimport { G, Path, SVG } from '@wordpress/components';\nimport edit from './edit';\n\nexport const name = 'core/nextpage';\n\nexport const settings = {\n\ttitle: __( 'Page Break' ),\n\n\tdescription: __( 'Separate your content into a multi-page experience.' ),\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><G><Path d=\"M9 12h6v-2H9zm-7 0h5v-2H2zm15 0h5v-2h-5zm3 2v2l-6 6H6a2 2 0 0 1-2-2v-6h2v6h6v-4a2 2 0 0 1 2-2h6zM4 8V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4h-2V4H6v4z\" /></G></SVG>,\n\n\tcategory: 'layout',\n\n\tkeywords: [ __( 'next page' ), __( 'pagination' ) ],\n\n\tsupports: {\n\t\tcustomClassName: false,\n\t\tclassName: false,\n\t\thtml: false,\n\t},\n\n\tattributes: {},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tschema: {\n\t\t\t\t\t'wp-block': { attributes: [ 'data-block' ] },\n\t\t\t\t},\n\t\t\t\tisMatch: ( node ) => node.dataset && node.dataset.block === 'core/nextpage',\n\t\t\t\ttransform() {\n\t\t\t\t\treturn createBlock( 'core/nextpage', {} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave() {\n\t\treturn (\n\t\t\t<RawHTML>\n\t\t\t\t{ '<!--nextpage-->' }\n\t\t\t</RawHTML>\n\t\t);\n\t},\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tComponent,\n\tFragment,\n} from '@wordpress/element';\nimport {\n\tPanelBody,\n\tToggleControl,\n\tToolbar,\n\twithFallbackStyles,\n} from '@wordpress/components';\nimport {\n\twithColors,\n\tAlignmentToolbar,\n\tBlockControls,\n\tContrastChecker,\n\tFontSizePicker,\n\tInspectorControls,\n\tPanelColorSettings,\n\tRichText,\n\twithFontSizes,\n} from '@wordpress/editor';\nimport { createBlock } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nconst { getComputedStyle } = window;\n\nconst name = 'core/paragraph';\n\nconst applyFallbackStyles = withFallbackStyles( ( node, ownProps ) => {\n\tconst { textColor, backgroundColor, fontSize, customFontSize } = ownProps.attributes;\n\tconst editableNode = node.querySelector( '[contenteditable=\"true\"]' );\n\t//verify if editableNode is available, before using getComputedStyle.\n\tconst computedStyles = editableNode ? getComputedStyle( editableNode ) : null;\n\treturn {\n\t\tfallbackBackgroundColor: backgroundColor || ! computedStyles ? undefined : computedStyles.backgroundColor,\n\t\tfallbackTextColor: textColor || ! computedStyles ? undefined : computedStyles.color,\n\t\tfallbackFontSize: fontSize || customFontSize || ! computedStyles ? undefined : parseInt( computedStyles.fontSize ) || undefined,\n\t};\n} );\n\nclass ParagraphBlock extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onReplace = this.onReplace.bind( this );\n\t\tthis.toggleDropCap = this.toggleDropCap.bind( this );\n\t\tthis.splitBlock = this.splitBlock.bind( this );\n\t}\n\n\tonReplace( blocks ) {\n\t\tconst { attributes, onReplace } = this.props;\n\t\tonReplace( blocks.map( ( block, index ) => (\n\t\t\tindex === 0 && block.name === name ?\n\t\t\t\t{ ...block,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t...block.attributes,\n\t\t\t\t\t},\n\t\t\t\t} :\n\t\t\t\tblock\n\t\t) ) );\n\t}\n\n\ttoggleDropCap() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tsetAttributes( { dropCap: ! attributes.dropCap } );\n\t}\n\n\tgetDropCapHelp( checked ) {\n\t\treturn checked ? __( 'Showing large initial letter.' ) : __( 'Toggle to show a large initial letter.' );\n\t}\n\n\t/**\n\t * Split handler for RichText value, namely when content is pasted or the\n\t * user presses the Enter key.\n\t *\n\t * @param {?Array}     before Optional before value, to be used as content\n\t *                            in place of what exists currently for the\n\t *                            block. If undefined, the block is deleted.\n\t * @param {?Array}     after  Optional after value, to be appended in a new\n\t *                            paragraph block to the set of blocks passed\n\t *                            as spread.\n\t * @param {...WPBlock} blocks Optional blocks inserted between the before\n\t *                            and after value blocks.\n\t */\n\tsplitBlock( before, after, ...blocks ) {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tinsertBlocksAfter,\n\t\t\tsetAttributes,\n\t\t\tonReplace,\n\t\t} = this.props;\n\n\t\tif ( after !== null ) {\n\t\t\t// Append \"After\" content as a new paragraph block to the end of\n\t\t\t// any other blocks being inserted after the current paragraph.\n\t\t\tblocks.push( createBlock( name, { content: after } ) );\n\t\t}\n\n\t\tif ( blocks.length && insertBlocksAfter ) {\n\t\t\tinsertBlocksAfter( blocks );\n\t\t}\n\n\t\tconst { content } = attributes;\n\t\tif ( before === null ) {\n\t\t\t// If before content is omitted, treat as intent to delete block.\n\t\t\tonReplace( [] );\n\t\t} else if ( content !== before ) {\n\t\t\t// Only update content if it has in-fact changed. In case that user\n\t\t\t// has created a new paragraph at end of an existing one, the value\n\t\t\t// of before will be strictly equal to the current content.\n\t\t\tsetAttributes( { content: before } );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tmergeBlocks,\n\t\t\tonReplace,\n\t\t\tclassName,\n\t\t\tbackgroundColor,\n\t\t\ttextColor,\n\t\t\tsetBackgroundColor,\n\t\t\tsetTextColor,\n\t\t\tfallbackBackgroundColor,\n\t\t\tfallbackTextColor,\n\t\t\tfallbackFontSize,\n\t\t\tfontSize,\n\t\t\tsetFontSize,\n\t\t\tisRTL,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\talign,\n\t\t\tcontent,\n\t\t\tdropCap,\n\t\t\tplaceholder,\n\t\t\tdirection,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t{ isRTL && (\n\t\t\t\t\t\t<Toolbar\n\t\t\t\t\t\t\tcontrols={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ticon: 'editor-ltr',\n\t\t\t\t\t\t\t\t\ttitle: _x( 'Left to right', 'editor button' ),\n\t\t\t\t\t\t\t\t\tisActive: direction === 'ltr',\n\t\t\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\t\t\tconst nextDirection = direction === 'ltr' ? undefined : 'ltr';\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tdirection: nextDirection,\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Text Settings' ) } className=\"blocks-font-size\">\n\t\t\t\t\t\t<FontSizePicker\n\t\t\t\t\t\t\tfallbackFontSize={ fallbackFontSize }\n\t\t\t\t\t\t\tvalue={ fontSize.size }\n\t\t\t\t\t\t\tonChange={ setFontSize }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Drop Cap' ) }\n\t\t\t\t\t\t\tchecked={ !! dropCap }\n\t\t\t\t\t\t\tonChange={ this.toggleDropCap }\n\t\t\t\t\t\t\thelp={ this.getDropCapHelp }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: backgroundColor.color,\n\t\t\t\t\t\t\t\tonChange: setBackgroundColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Background Color' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: textColor.color,\n\t\t\t\t\t\t\t\tonChange: setTextColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Text Color' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\ttextColor: textColor.color,\n\t\t\t\t\t\t\t\tbackgroundColor: backgroundColor.color,\n\t\t\t\t\t\t\t\tfallbackTextColor,\n\t\t\t\t\t\t\t\tfallbackBackgroundColor,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tfontSize={ fontSize.size }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelColorSettings>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<RichText\n\t\t\t\t\tidentifier=\"content\"\n\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\tclassName={ classnames( 'wp-block-paragraph', className, {\n\t\t\t\t\t\t'has-text-color': textColor.color,\n\t\t\t\t\t\t'has-background': backgroundColor.color,\n\t\t\t\t\t\t'has-drop-cap': dropCap,\n\t\t\t\t\t\t[ backgroundColor.class ]: backgroundColor.class,\n\t\t\t\t\t\t[ textColor.class ]: textColor.class,\n\t\t\t\t\t\t[ fontSize.class ]: fontSize.class,\n\t\t\t\t\t} ) }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tbackgroundColor: backgroundColor.color,\n\t\t\t\t\t\tcolor: textColor.color,\n\t\t\t\t\t\tfontSize: fontSize.size ? fontSize.size + 'px' : undefined,\n\t\t\t\t\t\ttextAlign: align,\n\t\t\t\t\t\tdirection,\n\t\t\t\t\t} }\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tonChange={ ( nextContent ) => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tcontent: nextContent,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tunstableOnSplit={ this.splitBlock }\n\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\tonReplace={ this.onReplace }\n\t\t\t\t\tonRemove={ () => onReplace( [] ) }\n\t\t\t\t\taria-label={ content ? __( 'Paragraph block' ) : __( 'Empty block; start writing or type forward slash to choose a block' ) }\n\t\t\t\t\tplaceholder={ placeholder || __( 'Start writing or type / to choose a block' ) }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst ParagraphEdit = compose( [\n\twithColors( 'backgroundColor', { textColor: 'color' } ),\n\twithFontSizes( 'fontSize' ),\n\tapplyFallbackStyles,\n\twithSelect( ( select ) => {\n\t\tconst { getEditorSettings } = select( 'core/editor' );\n\n\t\treturn {\n\t\t\tisRTL: getEditorSettings().isRTL,\n\t\t};\n\t} ),\n] )( ParagraphBlock );\n\nexport default ParagraphEdit;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isFinite, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\nimport {\n\tgetColorClassName,\n\tgetFontSizeClass,\n\tRichText,\n} from '@wordpress/editor';\nimport { getPhrasingContentSchema } from '@wordpress/blocks';\nimport {\n\tPath,\n\tSVG,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nconst supports = {\n\tclassName: false,\n};\n\nconst schema = {\n\tcontent: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'p',\n\t\tdefault: '',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t},\n\tdropCap: {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t},\n\tplaceholder: {\n\t\ttype: 'string',\n\t},\n\ttextColor: {\n\t\ttype: 'string',\n\t},\n\tcustomTextColor: {\n\t\ttype: 'string',\n\t},\n\tbackgroundColor: {\n\t\ttype: 'string',\n\t},\n\tcustomBackgroundColor: {\n\t\ttype: 'string',\n\t},\n\tfontSize: {\n\t\ttype: 'string',\n\t},\n\tcustomFontSize: {\n\t\ttype: 'number',\n\t},\n\tdirection: {\n\t\ttype: 'string',\n\t\tenum: [ 'ltr', 'rtl' ],\n\t},\n};\n\nexport const name = 'core/paragraph';\n\nexport const settings = {\n\ttitle: __( 'Paragraph' ),\n\n\tdescription: __( 'Start with the building block of all narrative.' ),\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path d=\"M11 5v7H9.5C7.6 12 6 10.4 6 8.5S7.6 5 9.5 5H11m8-2H9.5C6.5 3 4 5.5 4 8.5S6.5 14 9.5 14H11v7h2V5h2v16h2V5h2V3z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tkeywords: [ __( 'text' ) ],\n\n\tsupports,\n\n\tattributes: schema,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\t// Paragraph is a fallback and should be matched last.\n\t\t\t\tpriority: 20,\n\t\t\t\tselector: 'p',\n\t\t\t\tschema: {\n\t\t\t\t\tp: {\n\t\t\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tsupports,\n\t\t\tattributes: {\n\t\t\t\t...schema,\n\t\t\t\twidth: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst {\n\t\t\t\t\twidth,\n\t\t\t\t\talign,\n\t\t\t\t\tcontent,\n\t\t\t\t\tdropCap,\n\t\t\t\t\tbackgroundColor,\n\t\t\t\t\ttextColor,\n\t\t\t\t\tcustomBackgroundColor,\n\t\t\t\t\tcustomTextColor,\n\t\t\t\t\tfontSize,\n\t\t\t\t\tcustomFontSize,\n\t\t\t\t} = attributes;\n\n\t\t\t\tconst textClass = getColorClassName( 'color', textColor );\n\t\t\t\tconst backgroundClass = getColorClassName( 'background-color', backgroundColor );\n\t\t\t\tconst fontSizeClass = fontSize && `is-${ fontSize }-text`;\n\n\t\t\t\tconst className = classnames( {\n\t\t\t\t\t[ `align${ width }` ]: width,\n\t\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\n\t\t\t\t\t'has-drop-cap': dropCap,\n\t\t\t\t\t[ fontSizeClass ]: fontSizeClass,\n\t\t\t\t\t[ textClass ]: textClass,\n\t\t\t\t\t[ backgroundClass ]: backgroundClass,\n\t\t\t\t} );\n\n\t\t\t\tconst styles = {\n\t\t\t\t\tbackgroundColor: backgroundClass ? undefined : customBackgroundColor,\n\t\t\t\t\tcolor: textClass ? undefined : customTextColor,\n\t\t\t\t\tfontSize: fontSizeClass ? undefined : customFontSize,\n\t\t\t\t\ttextAlign: align,\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\tstyle={ styles }\n\t\t\t\t\t\tclassName={ className ? className : undefined }\n\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tsupports,\n\t\t\tattributes: omit( {\n\t\t\t\t...schema,\n\t\t\t\tfontSize: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t},\n\t\t\t}, 'customFontSize', 'customTextColor', 'customBackgroundColor' ),\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { width, align, content, dropCap, backgroundColor, textColor, fontSize } = attributes;\n\t\t\t\tconst className = classnames( {\n\t\t\t\t\t[ `align${ width }` ]: width,\n\t\t\t\t\t'has-background': backgroundColor,\n\t\t\t\t\t'has-drop-cap': dropCap,\n\t\t\t\t} );\n\t\t\t\tconst styles = {\n\t\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\t\tcolor: textColor,\n\t\t\t\t\tfontSize: fontSize,\n\t\t\t\t\ttextAlign: align,\n\t\t\t\t};\n\n\t\t\t\treturn <p style={ styles } className={ className ? className : undefined }>{ content }</p>;\n\t\t\t},\n\t\t\tmigrate( attributes ) {\n\t\t\t\treturn omit( {\n\t\t\t\t\t...attributes,\n\t\t\t\t\tcustomFontSize: isFinite( attributes.fontSize ) ? attributes.fontSize : undefined,\n\t\t\t\t\tcustomTextColor: attributes.textColor && '#' === attributes.textColor[ 0 ] ? attributes.textColor : undefined,\n\t\t\t\t\tcustomBackgroundColor: attributes.backgroundColor && '#' === attributes.backgroundColor[ 0 ] ? attributes.backgroundColor : undefined,\n\t\t\t\t}, [ 'fontSize', 'textColor', 'backgroundColor' ] );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tsupports,\n\t\t\tattributes: {\n\t\t\t\t...schema,\n\t\t\t\tcontent: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\treturn <RawHTML>{ attributes.content }</RawHTML>;\n\t\t\t},\n\t\t\tmigrate( attributes ) {\n\t\t\t\treturn attributes;\n\t\t\t},\n\t\t},\n\t],\n\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent: attributes.content + attributesToMerge.content,\n\t\t};\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { width } = attributes;\n\t\tif ( [ 'wide', 'full', 'left', 'right' ].indexOf( width ) !== -1 ) {\n\t\t\treturn { 'data-align': width };\n\t\t}\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\talign,\n\t\t\tcontent,\n\t\t\tdropCap,\n\t\t\tbackgroundColor,\n\t\t\ttextColor,\n\t\t\tcustomBackgroundColor,\n\t\t\tcustomTextColor,\n\t\t\tfontSize,\n\t\t\tcustomFontSize,\n\t\t\tdirection,\n\t\t} = attributes;\n\n\t\tconst textClass = getColorClassName( 'color', textColor );\n\t\tconst backgroundClass = getColorClassName( 'background-color', backgroundColor );\n\t\tconst fontSizeClass = getFontSizeClass( fontSize );\n\n\t\tconst className = classnames( {\n\t\t\t'has-text-color': textColor || customTextColor,\n\t\t\t'has-background': backgroundColor || customBackgroundColor,\n\t\t\t'has-drop-cap': dropCap,\n\t\t\t[ fontSizeClass ]: fontSizeClass,\n\t\t\t[ textClass ]: textClass,\n\t\t\t[ backgroundClass ]: backgroundClass,\n\t\t} );\n\n\t\tconst styles = {\n\t\t\tbackgroundColor: backgroundClass ? undefined : customBackgroundColor,\n\t\t\tcolor: textClass ? undefined : customTextColor,\n\t\t\tfontSize: fontSizeClass ? undefined : customFontSize,\n\t\t\ttextAlign: align,\n\t\t};\n\n\t\treturn (\n\t\t\t<RichText.Content\n\t\t\t\ttagName=\"p\"\n\t\t\t\tstyle={ styles }\n\t\t\t\tclassName={ className ? className : undefined }\n\t\t\t\tvalue={ content }\n\t\t\t\tdir={ direction }\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\n * WordPress\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock, getPhrasingContentSchema } from '@wordpress/blocks';\nimport { RichText } from '@wordpress/editor';\nimport { Path, Rect, SVG } from '@wordpress/components';\n\nexport const name = 'core/preformatted';\n\nexport const settings = {\n\ttitle: __( 'Preformatted' ),\n\n\tdescription: __( 'Add text that respects your spacing and tabs, and also allows styling.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Path d=\"M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M20,18H4V6h16V18z\" /><Rect x=\"6\" y=\"10\" width=\"2\" height=\"2\" /><Rect x=\"6\" y=\"14\" width=\"8\" height=\"2\" /><Rect x=\"16\" y=\"14\" width=\"2\" height=\"2\" /><Rect x=\"10\" y=\"10\" width=\"8\" height=\"2\" /></SVG>,\n\n\tcategory: 'formatting',\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'pre',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/code', 'core/paragraph' ],\n\t\t\t\ttransform: ( { content } ) =>\n\t\t\t\t\tcreateBlock( 'core/preformatted', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} ),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => (\n\t\t\t\t\tnode.nodeName === 'PRE' &&\n\t\t\t\t\t! (\n\t\t\t\t\t\tnode.children.length === 1 &&\n\t\t\t\t\t\tnode.firstChild.nodeName === 'CODE'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tschema: {\n\t\t\t\t\tpre: {\n\t\t\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( attributes ) =>\n\t\t\t\t\tcreateBlock( 'core/paragraph', attributes ),\n\t\t\t},\n\t\t],\n\t},\n\n\tedit( { attributes, mergeBlocks, setAttributes, className } ) {\n\t\tconst { content } = attributes;\n\n\t\treturn (\n\t\t\t<RichText\n\t\t\t\ttagName=\"pre\"\n\t\t\t\tvalue={ content }\n\t\t\t\tonChange={ ( nextContent ) => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tcontent: nextContent,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tplaceholder={ __( 'Write preformatted text' ) }\n\t\t\t\twrapperClassName={ className }\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t/>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { content } = attributes;\n\n\t\treturn <RichText.Content tagName=\"pre\" value={ content } />;\n\t},\n\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent: attributes.content + attributesToMerge.content,\n\t\t};\n\t},\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tComponent,\n\tFragment,\n} from '@wordpress/element';\nimport {\n\tRichText,\n\tContrastChecker,\n\tInspectorControls,\n\twithColors,\n\tPanelColorSettings,\n} from '@wordpress/editor';\n\nexport const SOLID_COLOR_STYLE_NAME = 'solid-color';\nexport const SOLID_COLOR_CLASS = `is-style-${ SOLID_COLOR_STYLE_NAME }`;\n\nclass PullQuoteEdit extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.wasTextColorAutomaticallyComputed = false;\n\t\tthis.pullQuoteMainColorSetter = this.pullQuoteMainColorSetter.bind( this );\n\t\tthis.pullQuoteTextColorSetter = this.pullQuoteTextColorSetter.bind( this );\n\t}\n\n\tpullQuoteMainColorSetter( colorValue ) {\n\t\tconst { colorUtils, textColor, setTextColor, setMainColor, className } = this.props;\n\t\tconst isSolidColorStyle = includes( className, SOLID_COLOR_CLASS );\n\t\tconst needTextColor = ! textColor.color || this.wasTextColorAutomaticallyComputed;\n\t\tconst shouldSetTextColor = isSolidColorStyle && needTextColor && colorValue;\n\n\t\tsetMainColor( colorValue );\n\t\tif ( shouldSetTextColor ) {\n\t\t\tthis.wasTextColorAutomaticallyComputed = true;\n\t\t\tsetTextColor( colorUtils.getMostReadableColor( colorValue ) );\n\t\t}\n\t}\n\n\tpullQuoteTextColorSetter( colorValue ) {\n\t\tconst { setTextColor } = this.props;\n\t\tsetTextColor( colorValue );\n\t\tthis.wasTextColorAutomaticallyComputed = false;\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tmainColor,\n\t\t\ttextColor,\n\t\t\tsetAttributes,\n\t\t\tisSelected,\n\t\t\tclassName,\n\t\t} = this.props;\n\n\t\tconst { value, citation } = attributes;\n\n\t\tconst isSolidColorStyle = includes( className, SOLID_COLOR_CLASS );\n\t\tconst figureStyle = isSolidColorStyle ?\n\t\t\t{ backgroundColor: mainColor.color } :\n\t\t\t{ borderColor: mainColor.color };\n\t\tconst blockquoteStyle = {\n\t\t\tcolor: textColor.color,\n\t\t};\n\t\tconst blockquoteClasses = textColor.color ? classnames( 'has-text-color', {\n\t\t\t[ textColor.class ]: textColor.class,\n\t\t} ) : undefined;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<figure style={ figureStyle } className={ classnames(\n\t\t\t\t\tclassName, {\n\t\t\t\t\t\t[ mainColor.class ]: isSolidColorStyle && mainColor.class,\n\t\t\t\t\t} ) }>\n\t\t\t\t\t<blockquote style={ blockquoteStyle } className={ blockquoteClasses }>\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t( nextValue ) => setAttributes( {\n\t\t\t\t\t\t\t\t\tvalue: nextValue,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t// translators: placeholder text used for the quote\n\t\t\t\t\t\t\t\t__( 'Write quote' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twrapperClassName=\"block-library-pullquote__content\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ ( ! RichText.isEmpty( citation ) || isSelected ) && (\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\tvalue={ citation }\n\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\t// translators: placeholder text used for the citation\n\t\t\t\t\t\t\t\t\t__( 'Write citation' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t( nextCitation ) => setAttributes( {\n\t\t\t\t\t\t\t\t\t\tcitation: nextCitation,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"wp-block-pullquote__citation\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</blockquote>\n\t\t\t\t</figure>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Color Settings' ) }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: mainColor.color,\n\t\t\t\t\t\t\t\tonChange: this.pullQuoteMainColorSetter,\n\t\t\t\t\t\t\t\tlabel: __( 'Main Color' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: textColor.color,\n\t\t\t\t\t\t\t\tonChange: this.pullQuoteTextColorSetter,\n\t\t\t\t\t\t\t\tlabel: __( 'Text Color' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isSolidColorStyle && (\n\t\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\t\ttextColor: textColor.color,\n\t\t\t\t\t\t\t\t\tbackgroundColor: mainColor.color,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tisLargeText={ false }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelColorSettings>\n\t\t\t\t</InspectorControls>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default withColors( { mainColor: 'background-color', textColor: 'color' } )(\n\tPullQuoteEdit\n);\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tgetColorClassName,\n\tRichText,\n\tgetColorObjectByAttributeValues,\n} from '@wordpress/editor';\nimport {\n\tselect,\n} from '@wordpress/data';\nimport { Path, Polygon, SVG } from '@wordpress/components';\n\nimport {\n\tdefault as edit,\n\tSOLID_COLOR_STYLE_NAME,\n\tSOLID_COLOR_CLASS,\n} from './edit';\n\nconst blockAttributes = {\n\tvalue: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'blockquote',\n\t\tmultiline: 'p',\n\t},\n\tcitation: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'cite',\n\t\tdefault: '',\n\t},\n\tmainColor: {\n\t\ttype: 'string',\n\t},\n\tcustomMainColor: {\n\t\ttype: 'string',\n\t},\n\ttextColor: {\n\t\ttype: 'string',\n\t},\n\tcustomTextColor: {\n\t\ttype: 'string',\n\t},\n};\n\nexport const name = 'core/pullquote';\n\nexport const settings = {\n\n\ttitle: __( 'Pullquote' ),\n\n\tdescription: __( 'Give special visual emphasis to a quote from your text.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M0,0h24v24H0V0z\" fill=\"none\" /><Polygon points=\"21 18 2 18 2 20 21 20\" /><Path d=\"m19 10v4h-15v-4h15m1-2h-17c-0.55 0-1 0.45-1 1v6c0 0.55 0.45 1 1 1h17c0.55 0 1-0.45 1-1v-6c0-0.55-0.45-1-1-1z\" /><Polygon points=\"21 4 2 4 2 6 21 6\" /></SVG>,\n\n\tcategory: 'formatting',\n\n\tattributes: blockAttributes,\n\n\tstyles: [\n\t\t{ name: 'default', label: _x( 'Regular', 'block style' ), isDefault: true },\n\t\t{ name: SOLID_COLOR_STYLE_NAME, label: __( 'Solid Color' ) },\n\t],\n\n\tsupports: {\n\t\talign: [ 'left', 'right', 'wide', 'full' ],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { mainColor, customMainColor, textColor, customTextColor, value, citation, className } = attributes;\n\t\tconst isSolidColorStyle = includes( className, SOLID_COLOR_CLASS );\n\n\t\tlet figureClass, figureStyles;\n\t\t// Is solid color style\n\t\tif ( isSolidColorStyle ) {\n\t\t\tfigureClass = getColorClassName( 'background-color', mainColor );\n\t\t\tif ( ! figureClass ) {\n\t\t\t\tfigureStyles = {\n\t\t\t\t\tbackgroundColor: customMainColor,\n\t\t\t\t};\n\t\t\t}\n\t\t// Is normal style and a custom color is being used ( we can set a style directly with its value)\n\t\t} else if ( customMainColor ) {\n\t\t\tfigureStyles = {\n\t\t\t\tborderColor: customMainColor,\n\t\t\t};\n\t\t// Is normal style and a named color is being used, we need to retrieve the color value to set the style,\n\t\t// as there is no expectation that themes create classes that set border colors.\n\t\t} else if ( mainColor ) {\n\t\t\tconst colors = get( select( 'core/editor' ).getEditorSettings(), [ 'colors' ], [] );\n\t\t\tconst colorObject = getColorObjectByAttributeValues( colors, mainColor );\n\t\t\tfigureStyles = {\n\t\t\t\tborderColor: colorObject.color,\n\t\t\t};\n\t\t}\n\n\t\tconst blockquoteTextColorClass = getColorClassName( 'color', textColor );\n\t\tconst blockquoteClasses = textColor || customTextColor ? classnames( 'has-text-color', {\n\t\t\t[ blockquoteTextColorClass ]: blockquoteTextColorClass,\n\t\t} ) : undefined;\n\t\tconst blockquoteStyle = blockquoteTextColorClass ? undefined : { color: customTextColor };\n\t\treturn (\n\t\t\t<figure className={ figureClass } style={ figureStyles }>\n\t\t\t\t<blockquote className={ blockquoteClasses } style={ blockquoteStyle } >\n\t\t\t\t\t<RichText.Content value={ value } multiline />\n\t\t\t\t\t{ ! RichText.isEmpty( citation ) && <RichText.Content tagName=\"cite\" value={ citation } /> }\n\t\t\t\t</blockquote>\n\t\t\t</figure>\n\t\t);\n\t},\n\n\tdeprecated: [ {\n\t\tattributes: {\n\t\t\t...blockAttributes,\n\t\t},\n\t\tsave( { attributes } ) {\n\t\t\tconst { value, citation } = attributes;\n\t\t\treturn (\n\t\t\t\t<blockquote>\n\t\t\t\t\t<RichText.Content value={ value } multiline />\n\t\t\t\t\t{ ! RichText.isEmpty( citation ) && <RichText.Content tagName=\"cite\" value={ citation } /> }\n\t\t\t\t</blockquote>\n\t\t\t);\n\t\t},\n\t}, {\n\t\tattributes: {\n\t\t\t...blockAttributes,\n\t\t\tcitation: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'html',\n\t\t\t\tselector: 'footer',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'none',\n\t\t\t},\n\t\t},\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { value, citation, align } = attributes;\n\n\t\t\treturn (\n\t\t\t\t<blockquote className={ `align${ align }` }>\n\t\t\t\t\t<RichText.Content value={ value } multiline />\n\t\t\t\t\t{ ! RichText.isEmpty( citation ) && <RichText.Content tagName=\"footer\" value={ citation } /> }\n\t\t\t\t</blockquote>\n\t\t\t);\n\t\t},\n\t} ],\n};\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { createBlock, getPhrasingContentSchema } from '@wordpress/blocks';\nimport {\n\tBlockControls,\n\tAlignmentToolbar,\n\tRichText,\n} from '@wordpress/editor';\nimport { join, split, create, toHTMLString } from '@wordpress/rich-text';\nimport { G, Path, SVG } from '@wordpress/components';\n\nconst ATTRIBUTE_QUOTE = 'value';\nconst ATTRIBUTE_CITATION = 'citation';\n\nconst blockAttributes = {\n\t[ ATTRIBUTE_QUOTE ]: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'blockquote',\n\t\tmultiline: 'p',\n\t\tdefault: '',\n\t},\n\t[ ATTRIBUTE_CITATION ]: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'cite',\n\t\tdefault: '',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t},\n};\n\nexport const name = 'core/quote';\n\nexport const settings = {\n\ttitle: __( 'Quote' ),\n\tdescription: __( 'Give quoted text visual emphasis. \"In quoting others, we cite ourselves.\"  Julio Cortzar' ),\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M19 18h-6l2-4h-2V6h8v7l-2 5zm-2-2l2-3V8h-4v4h4l-2 4zm-8 2H3l2-4H3V6h8v7l-2 5zm-2-2l2-3V8H5v4h4l-2 4z\" /></G></SVG>,\n\tcategory: 'common',\n\tkeywords: [ __( 'blockquote' ) ],\n\n\tattributes: blockAttributes,\n\n\tstyles: [\n\t\t{ name: 'default', label: _x( 'Regular', 'block style' ), isDefault: true },\n\t\t{ name: 'large', label: _x( 'Large', 'block style' ) },\n\t],\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tisMultiBlock: true,\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( attributes ) => {\n\t\t\t\t\treturn createBlock( 'core/quote', {\n\t\t\t\t\t\tvalue: toHTMLString( {\n\t\t\t\t\t\t\tvalue: join( attributes.map( ( { content } ) =>\n\t\t\t\t\t\t\t\tcreate( { html: content } )\n\t\t\t\t\t\t\t), '\\u2028' ),\n\t\t\t\t\t\t\tmultilineTag: 'p',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/heading' ],\n\t\t\t\ttransform: ( { content } ) => {\n\t\t\t\t\treturn createBlock( 'core/quote', {\n\t\t\t\t\t\tvalue: `<p>${ content }</p>`,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/pullquote' ],\n\t\t\t\ttransform: ( { value, citation } ) => createBlock( 'core/quote', {\n\t\t\t\t\tvalue,\n\t\t\t\t\tcitation,\n\t\t\t\t} ),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'prefix',\n\t\t\t\tprefix: '>',\n\t\t\t\ttransform: ( content ) => {\n\t\t\t\t\treturn createBlock( 'core/quote', {\n\t\t\t\t\t\tvalue: `<p>${ content }</p>`,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => (\n\t\t\t\t\tnode.nodeName === 'BLOCKQUOTE' &&\n\t\t\t\t\t// The quote block can only handle multiline paragraph\n\t\t\t\t\t// content.\n\t\t\t\t\tArray.from( node.childNodes ).every( ( child ) => child.nodeName === 'P' )\n\t\t\t\t),\n\t\t\t\tschema: {\n\t\t\t\t\tblockquote: {\n\t\t\t\t\t\tchildren: {\n\t\t\t\t\t\t\tp: {\n\t\t\t\t\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\t\tconst paragraphs = [];\n\t\t\t\t\tif ( value && value !== '<p></p>' ) {\n\t\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\t\t...split( create( { html: value, multilineTag: 'p' } ), '\\u2028' )\n\t\t\t\t\t\t\t\t.map( ( piece ) =>\n\t\t\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\t\t\t\tcontent: toHTMLString( { value: piece } ),\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif ( citation && citation !== '<p></p>' ) {\n\t\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( paragraphs.length === 0 ) {\n\t\t\t\t\t\treturn createBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t\treturn paragraphs;\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/heading' ],\n\t\t\t\ttransform: ( { value, citation, ...attrs } ) => {\n\t\t\t\t\t// If there is no quote content, use the citation as the\n\t\t\t\t\t// content of the resulting heading. A nonexistent citation\n\t\t\t\t\t// will result in an empty heading.\n\t\t\t\t\tif ( value === '<p></p>' ) {\n\t\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\tconst pieces = split( create( { html: value, multilineTag: 'p' } ), '\\u2028' );\n\t\t\t\t\tconst quotePieces = pieces.slice( 1 );\n\n\t\t\t\t\treturn [\n\t\t\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\t\t\tcontent: toHTMLString( { value: pieces[ 0 ] } ),\n\t\t\t\t\t\t} ),\n\t\t\t\t\t\tcreateBlock( 'core/quote', {\n\t\t\t\t\t\t\t...attrs,\n\t\t\t\t\t\t\tcitation,\n\t\t\t\t\t\t\tvalue: toHTMLString( {\n\t\t\t\t\t\t\t\tvalue: quotePieces.length ? join( pieces.slice( 1 ), '\\u2028' ) : create(),\n\t\t\t\t\t\t\t\tmultilineTag: 'p',\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t} ),\n\t\t\t\t\t];\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/pullquote' ],\n\t\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\t\treturn createBlock( 'core/pullquote', {\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tcitation,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit( { attributes, setAttributes, isSelected, mergeBlocks, onReplace, className } ) {\n\t\tconst { align, value, citation } = attributes;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<blockquote className={ className } style={ { textAlign: align } }>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier={ ATTRIBUTE_QUOTE }\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t( nextValue ) => setAttributes( {\n\t\t\t\t\t\t\t\tvalue: nextValue,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\t\tonRemove={ ( forward ) => {\n\t\t\t\t\t\t\tconst hasEmptyCitation = ! citation || citation.length === 0;\n\t\t\t\t\t\t\tif ( ! forward && hasEmptyCitation ) {\n\t\t\t\t\t\t\t\tonReplace( [] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t// translators: placeholder text used for the quote\n\t\t\t\t\t\t\t__( 'Write quote' )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ ( ! RichText.isEmpty( citation ) || isSelected ) && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\tidentifier={ ATTRIBUTE_CITATION }\n\t\t\t\t\t\t\tvalue={ citation }\n\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t( nextCitation ) => setAttributes( {\n\t\t\t\t\t\t\t\t\tcitation: nextCitation,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t// translators: placeholder text used for the citation\n\t\t\t\t\t\t\t\t__( 'Write citation' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"wp-block-quote__citation\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</blockquote>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { align, value, citation } = attributes;\n\n\t\treturn (\n\t\t\t<blockquote style={ { textAlign: align ? align : null } }>\n\t\t\t\t<RichText.Content multiline value={ value } />\n\t\t\t\t{ ! RichText.isEmpty( citation ) && <RichText.Content tagName=\"cite\" value={ citation } /> }\n\t\t\t</blockquote>\n\t\t);\n\t},\n\n\tmerge( attributes, { value, citation } ) {\n\t\tif ( ! value || value === '<p></p>' ) {\n\t\t\treturn {\n\t\t\t\t...attributes,\n\t\t\t\tcitation: attributes.citation + citation,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tvalue: attributes.value + value,\n\t\t\tcitation: attributes.citation + citation,\n\t\t};\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: {\n\t\t\t\t...blockAttributes,\n\t\t\t\tstyle: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t\tdefault: 1,\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tmigrate( attributes ) {\n\t\t\t\tif ( attributes.style === 2 ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...omit( attributes, [ 'style' ] ),\n\t\t\t\t\t\tclassName: attributes.className ? attributes.className + ' is-style-large' : 'is-style-large',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn attributes;\n\t\t\t},\n\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { align, value, citation, style } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<blockquote\n\t\t\t\t\t\tclassName={ style === 2 ? 'is-large' : '' }\n\t\t\t\t\t\tstyle={ { textAlign: align ? align : null } }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText.Content multiline value={ value } />\n\t\t\t\t\t\t{ ! RichText.isEmpty( citation ) && <RichText.Content tagName=\"cite\" value={ citation } /> }\n\t\t\t\t\t</blockquote>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: {\n\t\t\t\t...blockAttributes,\n\t\t\t\tcitation: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: 'footer',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t\tdefault: 1,\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { align, value, citation, style } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<blockquote\n\t\t\t\t\t\tclassName={ `blocks-quote-style-${ style }` }\n\t\t\t\t\t\tstyle={ { textAlign: align ? align : null } }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText.Content multiline value={ value } />\n\t\t\t\t\t\t{ ! RichText.isEmpty( citation ) && <RichText.Content tagName=\"footer\" value={ citation } /> }\n\t\t\t\t\t</blockquote>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport { SVG, Path } from '@wordpress/components';\n\nexport const name = 'core/separator';\n\nexport const settings = {\n\ttitle: __( 'Separator' ),\n\n\tdescription: __( 'Create a break between ideas or sections with a horizontal separator.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><Path d=\"M19 13H5v-2h14v2z\" /></SVG>,\n\n\tcategory: 'layout',\n\n\tkeywords: [ __( 'horizontal-line' ), 'hr', __( 'divider' ) ],\n\n\tstyles: [\n\t\t{ name: 'default', label: __( 'Short Line' ), isDefault: true },\n\t\t{ name: 'wide', label: __( 'Wide Line' ) },\n\t\t{ name: 'dots', label: __( 'Dots' ) },\n\t],\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'enter',\n\t\t\t\tregExp: /^-{3,}$/,\n\t\t\t\ttransform: () => createBlock( 'core/separator' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tselector: 'hr',\n\t\t\t\tschema: {\n\t\t\t\t\thr: {},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit( { className } ) {\n\t\treturn <hr className={ className } />;\n\t},\n\n\tsave() {\n\t\treturn <hr />;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { removep, autop } from '@wordpress/autop';\nimport { RawHTML } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Dashicon, SVG, Path } from '@wordpress/components';\nimport { PlainText } from '@wordpress/editor';\nimport { withInstanceId } from '@wordpress/compose';\n\nexport const name = 'core/shortcode';\n\nexport const settings = {\n\ttitle: __( 'Shortcode' ),\n\n\tdescription: __( 'Insert additional custom elements with a WordPress shortcode.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path d=\"M8.5,21.4l1.9,0.5l5.2-19.3l-1.9-0.5L8.5,21.4z M3,19h4v-2H5V7h2V5H3V19z M17,5v2h2v10h-2v2h4V5H17z\" /></SVG>,\n\n\tcategory: 'widgets',\n\n\tattributes: {\n\t\ttext: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'text',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\t// Per \"Shortcode names should be all lowercase and use all\n\t\t\t\t// letters, but numbers and underscores should work fine too.\n\t\t\t\t// Be wary of using hyphens (dashes), you'll be better off not\n\t\t\t\t// using them.\" in https://codex.wordpress.org/Shortcode_API\n\t\t\t\t// Require that the first character be a letter. This notably\n\t\t\t\t// prevents footnote markings ([1]) from being caught as\n\t\t\t\t// shortcodes.\n\t\t\t\ttag: '[a-z][a-z0-9_-]*',\n\t\t\t\tattributes: {\n\t\t\t\t\ttext: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( attrs, { content } ) => {\n\t\t\t\t\t\t\treturn removep( autop( content ) );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpriority: 20,\n\t\t\t},\n\t\t],\n\t},\n\n\tsupports: {\n\t\tcustomClassName: false,\n\t\tclassName: false,\n\t\thtml: false,\n\t},\n\n\tedit: withInstanceId(\n\t\t( { attributes, setAttributes, instanceId } ) => {\n\t\t\tconst inputId = `blocks-shortcode-input-${ instanceId }`;\n\n\t\t\treturn (\n\t\t\t\t<div className=\"wp-block-shortcode\">\n\t\t\t\t\t<label htmlFor={ inputId }>\n\t\t\t\t\t\t<Dashicon icon=\"shortcode\" />\n\t\t\t\t\t\t{ __( 'Shortcode' ) }\n\t\t\t\t\t</label>\n\t\t\t\t\t<PlainText\n\t\t\t\t\t\tclassName=\"input-control\"\n\t\t\t\t\t\tid={ inputId }\n\t\t\t\t\t\tvalue={ attributes.text }\n\t\t\t\t\t\tplaceholder={ __( 'Write shortcode here' ) }\n\t\t\t\t\t\tonChange={ ( text ) => setAttributes( { text } ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t),\n\n\tsave( { attributes } ) {\n\t\treturn <RawHTML>{ attributes.text }</RawHTML>;\n\t},\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress\n */\nimport { Fragment } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/editor';\nimport { BaseControl, PanelBody, ResizableBox, G, SVG, Path } from '@wordpress/components';\nimport { withInstanceId } from '@wordpress/compose';\n\nexport const name = 'core/spacer';\n\nexport const settings = {\n\ttitle: __( 'Spacer' ),\n\n\tdescription: __( 'Add white space between blocks and customize its height.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><G><Path d=\"M13 4v2h3.59L6 16.59V13H4v7h7v-2H7.41L18 7.41V11h2V4h-7\" /></G></SVG>,\n\n\tcategory: 'layout',\n\n\tattributes: {\n\t\theight: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 100,\n\t\t},\n\t},\n\n\tedit: withInstanceId(\n\t\t( { attributes, isSelected, setAttributes, toggleSelection, instanceId } ) => {\n\t\t\tconst { height } = attributes;\n\t\t\tconst id = `block-spacer-height-input-${ instanceId }`;\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ResizableBox\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-library-spacer__resize-container',\n\t\t\t\t\t\t\t{ 'is-selected': isSelected }\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tsize={ {\n\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tminHeight=\"20\"\n\t\t\t\t\t\tenable={ {\n\t\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\t\tright: false,\n\t\t\t\t\t\t\tbottom: true,\n\t\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\t\ttopRight: false,\n\t\t\t\t\t\t\tbottomRight: false,\n\t\t\t\t\t\t\tbottomLeft: false,\n\t\t\t\t\t\t\ttopLeft: false,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonResizeStop={ ( event, direction, elt, delta ) => {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\theight: parseInt( height + delta.height, 10 ),\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\ttoggleSelection( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonResizeStart={ () => {\n\t\t\t\t\t\t\ttoggleSelection( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelBody title={ __( 'Spacer Settings' ) }>\n\t\t\t\t\t\t\t<BaseControl label={ __( 'Height in pixels' ) } id={ id }>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\theight: parseInt( event.target.value, 10 ),\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tvalue={ height }\n\t\t\t\t\t\t\t\t\tmin=\"20\"\n\t\t\t\t\t\t\t\t\tstep=\"10\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t),\n\n\tsave( { attributes } ) {\n\t\treturn <div style={ { height: attributes.height } } aria-hidden />;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tRichText,\n\tBlockControls,\n\tAlignmentToolbar,\n} from '@wordpress/editor';\nimport { SVG, Path } from '@wordpress/components';\n\nexport const name = 'core/subhead';\n\nexport const settings = {\n\ttitle: __( 'Subheading (deprecated)' ),\n\n\tdescription: __( 'This block is deprecated. Please use the Paragraph block instead.' ),\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path d=\"M7.1 6l-.5 3h4.5L9.4 19h3l1.8-10h4.5l.5-3H7.1z\" /></SVG>,\n\n\tcategory: 'common',\n\n\tsupports: {\n\t\t// Hide from inserter as this block is deprecated.\n\t\tinserter: false,\n\t\tmultiple: false,\n\t},\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'p',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( attributes ) =>\n\t\t\t\t\tcreateBlock( 'core/paragraph', attributes ),\n\t\t\t},\n\t\t],\n\t},\n\n\tedit( { attributes, setAttributes, className } ) {\n\t\tconst { align, content, placeholder } = attributes;\n\n\t\tdeprecated( 'The Subheading block', {\n\t\t\talternative: 'the Paragraph block',\n\t\t\tplugin: 'Gutenberg',\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tonChange={ ( nextContent ) => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tcontent: nextContent,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tstyle={ { textAlign: align } }\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tplaceholder={ placeholder || __( 'Write subheading' ) }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { align, content } = attributes;\n\n\t\treturn (\n\t\t\t<RichText.Content\n\t\t\t\ttagName=\"p\"\n\t\t\t\tstyle={ { textAlign: align } }\n\t\t\t\tvalue={ content }\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment, Component } from '@wordpress/element';\nimport { InspectorControls, BlockControls, RichText } from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\tToggleControl,\n\tTextControl,\n\tButton,\n\tToolbar,\n\tDropdownMenu,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport {\n\tcreateTable,\n\tupdateCellContent,\n\tinsertRow,\n\tdeleteRow,\n\tinsertColumn,\n\tdeleteColumn,\n} from './state';\n\nexport default class TableEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onCreateTable = this.onCreateTable.bind( this );\n\t\tthis.onChangeFixedLayout = this.onChangeFixedLayout.bind( this );\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.onChangeInitialColumnCount = this.onChangeInitialColumnCount.bind( this );\n\t\tthis.onChangeInitialRowCount = this.onChangeInitialRowCount.bind( this );\n\t\tthis.renderSection = this.renderSection.bind( this );\n\t\tthis.getTableControls = this.getTableControls.bind( this );\n\t\tthis.onInsertRow = this.onInsertRow.bind( this );\n\t\tthis.onInsertRowBefore = this.onInsertRowBefore.bind( this );\n\t\tthis.onInsertRowAfter = this.onInsertRowAfter.bind( this );\n\t\tthis.onDeleteRow = this.onDeleteRow.bind( this );\n\t\tthis.onInsertColumn = this.onInsertColumn.bind( this );\n\t\tthis.onInsertColumnBefore = this.onInsertColumnBefore.bind( this );\n\t\tthis.onInsertColumnAfter = this.onInsertColumnAfter.bind( this );\n\t\tthis.onDeleteColumn = this.onDeleteColumn.bind( this );\n\n\t\tthis.state = {\n\t\t\tinitialRowCount: 2,\n\t\t\tinitialColumnCount: 2,\n\t\t\tselectedCell: null,\n\t\t};\n\t}\n\n\t/**\n\t * Updates the initial column count used for table creation.\n\t *\n\t * @param {number} initialColumnCount New initial column count.\n\t */\n\tonChangeInitialColumnCount( initialColumnCount ) {\n\t\tthis.setState( { initialColumnCount } );\n\t}\n\n\t/**\n\t * Updates the initial row count used for table creation.\n\t *\n\t * @param {number} initialRowCount New initial row count.\n\t */\n\tonChangeInitialRowCount( initialRowCount ) {\n\t\tthis.setState( { initialRowCount } );\n\t}\n\n\t/**\n\t * Creates a table based on dimensions in local state.\n\t *\n\t * @param {Object} event Form submit event.\n\t */\n\tonCreateTable( event ) {\n\t\tevent.preventDefault();\n\n\t\tconst { setAttributes } = this.props;\n\t\tlet { initialRowCount, initialColumnCount } = this.state;\n\n\t\tinitialRowCount = parseInt( initialRowCount, 10 ) || 2;\n\t\tinitialColumnCount = parseInt( initialColumnCount, 10 ) || 2;\n\n\t\tsetAttributes( createTable( {\n\t\t\trowCount: initialRowCount,\n\t\t\tcolumnCount: initialColumnCount,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Toggles whether the table has a fixed layout or not.\n\t */\n\tonChangeFixedLayout() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { hasFixedLayout } = attributes;\n\n\t\tsetAttributes( { hasFixedLayout: ! hasFixedLayout } );\n\t}\n\n\t/**\n\t * Changes the content of the currently selected cell.\n\t *\n\t * @param {Array} content A RichText content value.\n\t */\n\tonChange( content ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, rowIndex, columnIndex } = selectedCell;\n\n\t\tsetAttributes( updateCellContent( attributes, {\n\t\t\tsection,\n\t\t\trowIndex,\n\t\t\tcolumnIndex,\n\t\t\tcontent,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Inserts a row at the currently selected row index, plus `delta`.\n\t *\n\t * @param {number} delta Offset for selected row index at which to insert.\n\t */\n\tonInsertRow( delta ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, rowIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( insertRow( attributes, {\n\t\t\tsection,\n\t\t\trowIndex: rowIndex + delta,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Inserts a row before the currently selected row.\n\t */\n\tonInsertRowBefore() {\n\t\tthis.onInsertRow( 0 );\n\t}\n\n\t/**\n\t * Inserts a row after the currently selected row.\n\t */\n\tonInsertRowAfter() {\n\t\tthis.onInsertRow( 1 );\n\t}\n\n\t/**\n\t * Deletes the currently selected row.\n\t */\n\tonDeleteRow() {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, rowIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( deleteRow( attributes, { section, rowIndex } ) );\n\t}\n\n\t/**\n\t * Inserts a column at the currently selected column index, plus `delta`.\n\t *\n\t * @param {number} delta Offset for selected column index at which to insert.\n\t */\n\tonInsertColumn( delta = 0 ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, columnIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( insertColumn( attributes, {\n\t\t\tsection,\n\t\t\tcolumnIndex: columnIndex + delta,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Inserts a column before the currently selected column.\n\t */\n\tonInsertColumnBefore() {\n\t\tthis.onInsertColumn( 0 );\n\t}\n\n\t/**\n\t * Inserts a column after the currently selected column.\n\t */\n\tonInsertColumnAfter() {\n\t\tthis.onInsertColumn( 1 );\n\t}\n\n\t/**\n\t * Deletes the currently selected column.\n\t */\n\tonDeleteColumn() {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { section, columnIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( deleteColumn( attributes, { section, columnIndex } ) );\n\t}\n\n\t/**\n\t * Creates an onFocus handler for a specified cell.\n\t *\n\t * @param {Object} selectedCell Object with `section`, `rowIndex`, and\n\t *                              `columnIndex` properties.\n\t *\n\t * @return {Function} Function to call on focus.\n\t */\n\tcreateOnFocus( selectedCell ) {\n\t\treturn () => {\n\t\t\tthis.setState( { selectedCell } );\n\t\t};\n\t}\n\n\t/**\n\t * Gets the table controls to display in the block toolbar.\n\t *\n\t * @return {Array} Table controls.\n\t */\n\tgetTableControls() {\n\t\tconst { selectedCell } = this.state;\n\n\t\treturn [\n\t\t\t{\n\t\t\t\ticon: 'table-row-before',\n\t\t\t\ttitle: __( 'Add Row Before' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertRowBefore,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-row-after',\n\t\t\t\ttitle: __( 'Add Row After' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertRowAfter,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-row-delete',\n\t\t\t\ttitle: __( 'Delete Row' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onDeleteRow,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-col-before',\n\t\t\t\ttitle: __( 'Add Column Before' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertColumnBefore,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-col-after',\n\t\t\t\ttitle: __( 'Add Column After' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertColumnAfter,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'table-col-delete',\n\t\t\t\ttitle: __( 'Delete Column' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onDeleteColumn,\n\t\t\t},\n\t\t];\n\t}\n\n\t/**\n\t * Renders a table section.\n\t *\n\t * @param {string} options.type Section type: head, body, or foot.\n\t * @param {Array}  options.rows The rows to render.\n\t *\n\t * @return {Object} React element for the section.\n\t */\n\trenderSection( { type, rows } ) {\n\t\tif ( ! rows.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst Tag = `t${ type }`;\n\t\tconst { selectedCell } = this.state;\n\n\t\treturn (\n\t\t\t<Tag>\n\t\t\t\t{ rows.map( ( { cells }, rowIndex ) =>\n\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t{ cells.map( ( { content, tag: CellTag }, columnIndex ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedCell && (\n\t\t\t\t\t\t\t\ttype === selectedCell.section &&\n\t\t\t\t\t\t\t\trowIndex === selectedCell.rowIndex &&\n\t\t\t\t\t\t\t\tcolumnIndex === selectedCell.columnIndex\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tconst cell = {\n\t\t\t\t\t\t\t\tsection: type,\n\t\t\t\t\t\t\t\trowIndex,\n\t\t\t\t\t\t\t\tcolumnIndex,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst classes = classnames( {\n\t\t\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<CellTag key={ columnIndex } className={ classes }>\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-table__cell-content\"\n\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\t\t\t\t\tunstableOnFocus={ this.createOnFocus( cell ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CellTag>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</tr>\n\t\t\t\t) }\n\t\t\t</Tag>\n\t\t);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { isSelected } = this.props;\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! isSelected && selectedCell ) {\n\t\t\tthis.setState( { selectedCell: null } );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { attributes, className } = this.props;\n\t\tconst { initialRowCount, initialColumnCount } = this.state;\n\t\tconst { hasFixedLayout, head, body, foot } = attributes;\n\t\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\n\t\tconst Section = this.renderSection;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn (\n\t\t\t\t<form onSubmit={ this.onCreateTable }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tlabel={ __( 'Column Count' ) }\n\t\t\t\t\t\tvalue={ initialColumnCount }\n\t\t\t\t\t\tonChange={ this.onChangeInitialColumnCount }\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tlabel={ __( 'Row Count' ) }\n\t\t\t\t\t\tvalue={ initialRowCount }\n\t\t\t\t\t\tonChange={ this.onChangeInitialRowCount }\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button isPrimary type=\"submit\">{ __( 'Create' ) }</Button>\n\t\t\t\t</form>\n\t\t\t);\n\t\t}\n\n\t\tconst classes = classnames( className, {\n\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\ticon=\"editor-table\"\n\t\t\t\t\t\t\tlabel={ __( 'Edit Table' ) }\n\t\t\t\t\t\t\tcontrols={ this.getTableControls() }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Table Settings' ) } className=\"blocks-table-settings\">\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Fixed width table cells' ) }\n\t\t\t\t\t\t\tchecked={ !! hasFixedLayout }\n\t\t\t\t\t\t\tonChange={ this.onChangeFixedLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<table className={ classes }>\n\t\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t\t</table>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { getPhrasingContentSchema } from '@wordpress/blocks';\nimport { RichText } from '@wordpress/editor';\nimport { G, Path, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nconst tableContentPasteSchema = {\n\ttr: {\n\t\tchildren: {\n\t\t\tth: {\n\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t},\n\t\t\ttd: {\n\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t},\n\t\t},\n\t},\n};\n\nconst tablePasteSchema = {\n\ttable: {\n\t\tchildren: {\n\t\t\tthead: {\n\t\t\t\tchildren: tableContentPasteSchema,\n\t\t\t},\n\t\t\ttfoot: {\n\t\t\t\tchildren: tableContentPasteSchema,\n\t\t\t},\n\t\t\ttbody: {\n\t\t\t\tchildren: tableContentPasteSchema,\n\t\t\t},\n\t\t},\n\t},\n};\n\nfunction getTableSectionAttributeSchema( section ) {\n\treturn {\n\t\ttype: 'array',\n\t\tdefault: [],\n\t\tsource: 'query',\n\t\tselector: `t${ section } tr`,\n\t\tquery: {\n\t\t\tcells: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdefault: [],\n\t\t\t\tsource: 'query',\n\t\t\t\tselector: 'td,th',\n\t\t\t\tquery: {\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tsource: 'html',\n\t\t\t\t\t},\n\t\t\t\t\ttag: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: 'td',\n\t\t\t\t\t\tsource: 'tag',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport const name = 'core/table';\n\nexport const settings = {\n\ttitle: __( 'Table' ),\n\tdescription: __( 'Insert a table  perfect for sharing charts and data.' ),\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><G><Path d=\"M20 3H5L3 5v14l2 2h15l2-2V5l-2-2zm0 2v3H5V5h15zm-5 14h-5v-9h5v9zM5 10h3v9H5v-9zm12 9v-9h3v9h-3z\" /></G></SVG>,\n\tcategory: 'formatting',\n\n\tattributes: {\n\t\thasFixedLayout: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\thead: getTableSectionAttributeSchema( 'head' ),\n\t\tbody: getTableSectionAttributeSchema( 'body' ),\n\t\tfoot: getTableSectionAttributeSchema( 'foot' ),\n\t},\n\n\tstyles: [\n\t\t{ name: 'regular', label: _x( 'Regular', 'block style' ), isDefault: true },\n\t\t{ name: 'stripes', label: __( 'Stripes' ) },\n\t],\n\n\tsupports: {\n\t\talign: true,\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tselector: 'table',\n\t\t\t\tschema: tablePasteSchema,\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { hasFixedLayout, head, body, foot } = attributes;\n\t\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst classes = classnames( {\n\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t} );\n\n\t\tconst Section = ( { type, rows } ) => {\n\t\t\tif ( ! rows.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst Tag = `t${ type }`;\n\n\t\t\treturn (\n\t\t\t\t<Tag>\n\t\t\t\t\t{ rows.map( ( { cells }, rowIndex ) =>\n\t\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t\t{ cells.map( ( { content, tag }, cellIndex ) =>\n\t\t\t\t\t\t\t\t<RichText.Content tagName={ tag } value={ content } key={ cellIndex } />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) }\n\t\t\t\t</Tag>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<table className={ classes }>\n\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t</table>\n\t\t);\n\t},\n};\n","/**\n * External dependencies\n */\nimport { times } from 'lodash';\n\n/**\n * Creates a table state.\n *\n * @param {number} options.rowCount    Row count for the table to create.\n * @param {number} options.columnCount Column count for the table to create.\n *\n * @return {Object} New table state.\n */\nexport function createTable( {\n\trowCount,\n\tcolumnCount,\n} ) {\n\treturn {\n\t\tbody: times( rowCount, () => ( {\n\t\t\tcells: times( columnCount, () => ( {\n\t\t\t\tcontent: '',\n\t\t\t\ttag: 'td',\n\t\t\t} ) ),\n\t\t} ) ),\n\t};\n}\n\n/**\n * Updates cell content in the table state.\n *\n * @param {Object} state               Current table state.\n * @param {string} options.section     Section of the cell to update.\n * @param {number} options.rowIndex    Row index of the cell to update.\n * @param {number} options.columnIndex Column index of the cell to update.\n * @param {Array}  options.content     Content to set for the cell.\n *\n * @return {Object} New table state.\n */\nexport function updateCellContent( state, {\n\tsection,\n\trowIndex,\n\tcolumnIndex,\n\tcontent,\n} ) {\n\treturn {\n\t\t[ section ]: state[ section ].map( ( row, currentRowIndex ) => {\n\t\t\tif ( currentRowIndex !== rowIndex ) {\n\t\t\t\treturn row;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcells: row.cells.map( ( cell, currentColumnIndex ) => {\n\t\t\t\t\tif ( currentColumnIndex !== columnIndex ) {\n\t\t\t\t\t\treturn cell;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...cell,\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t};\n\t\t\t\t} ),\n\t\t\t};\n\t\t} ),\n\t};\n}\n\n/**\n * Inserts a row in the table state.\n *\n * @param {Object} state            Current table state.\n * @param {string} options.section  Section in which to insert the row.\n * @param {number} options.rowIndex Row index at which to insert the row.\n *\n * @return {Object} New table state.\n */\nexport function insertRow( state, {\n\tsection,\n\trowIndex,\n} ) {\n\tconst cellCount = state[ section ][ 0 ].cells.length;\n\n\treturn {\n\t\t[ section ]: [\n\t\t\t...state[ section ].slice( 0, rowIndex ),\n\t\t\t{\n\t\t\t\tcells: times( cellCount, () => ( {\n\t\t\t\t\tcontent: '',\n\t\t\t\t\ttag: 'td',\n\t\t\t\t} ) ),\n\t\t\t},\n\t\t\t...state[ section ].slice( rowIndex ),\n\t\t],\n\t};\n}\n\n/**\n * Deletes a row from the table state.\n *\n * @param {Object} state            Current table state.\n * @param {string} options.section  Section in which to delete the row.\n * @param {number} options.rowIndex Row index to delete.\n *\n * @return {Object} New table state.\n */\nexport function deleteRow( state, {\n\tsection,\n\trowIndex,\n} ) {\n\treturn {\n\t\t[ section ]: state[ section ].filter( ( row, index ) => index !== rowIndex ),\n\t};\n}\n\n/**\n * Inserts a column in the table state.\n *\n * @param {Object} state               Current table state.\n * @param {string} options.section     Section in which to insert the column.\n * @param {number} options.columnIndex Column index at which to insert the column.\n *\n * @return {Object} New table state.\n */\nexport function insertColumn( state, {\n\tsection,\n\tcolumnIndex,\n} ) {\n\treturn {\n\t\t[ section ]: state[ section ].map( ( row ) => ( {\n\t\t\tcells: [\n\t\t\t\t...row.cells.slice( 0, columnIndex ),\n\t\t\t\t{\n\t\t\t\t\tcontent: '',\n\t\t\t\t\ttag: 'td',\n\t\t\t\t},\n\t\t\t\t...row.cells.slice( columnIndex ),\n\t\t\t],\n\t\t} ) ),\n\t};\n}\n\n/**\n * Deletes a column from the table state.\n *\n * @param {Object} state               Current table state.\n * @param {string} options.section     Section in which to delete the column.\n * @param {number} options.columnIndex Column index to delete.\n *\n * @return {Object} New table state.\n */\nexport function deleteColumn( state, {\n\tsection,\n\tcolumnIndex,\n} ) {\n\treturn {\n\t\t[ section ]: state[ section ].map( ( row ) => ( {\n\t\t\tcells: row.cells.filter( ( cell, index ) => index !== columnIndex ),\n\t\t} ) ).filter( ( row ) => row.cells.length ),\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { InnerBlocks } from '@wordpress/editor';\nimport { G, Path, Rect, SVG } from '@wordpress/components';\n\nexport const name = 'core/template';\n\nexport const settings = {\n\ttitle: __( 'Reusable Template' ),\n\n\tcategory: 'reusable',\n\n\tdescription: __( 'Template block used as a container.' ),\n\n\ticon: <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Rect x=\"0\" fill=\"none\" width=\"24\" height=\"24\" /><G><Path d=\"M19 3H5c-1.105 0-2 .895-2 2v14c0 1.105.895 2 2 2h14c1.105 0 2-.895 2-2V5c0-1.105-.895-2-2-2zM6 6h5v5H6V6zm4.5 13C9.12 19 8 17.88 8 16.5S9.12 14 10.5 14s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zm3-6l3-5 3 5h-6z\" /></G></SVG>,\n\n\tsupports: {\n\t\tcustomClassName: false,\n\t\thtml: false,\n\t\tinserter: false,\n\t},\n\n\tedit() {\n\t\treturn <InnerBlocks />;\n\t},\n\n\tsave() {\n\t\treturn <InnerBlocks.Content />;\n\t},\n};\n","/**\n * External dependencies\n */\nimport { get, times } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, RangeControl } from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tBlockAlignmentToolbar,\n\tInspectorControls,\n\tRichText,\n} from '@wordpress/editor';\nimport deprecated from '@wordpress/deprecated';\n\nexport const name = 'core/text-columns';\n\nexport const settings = {\n\t// Disable insertion as this block is deprecated and ultimately replaced by the Columns block.\n\tsupports: {\n\t\tinserter: false,\n\t},\n\n\ttitle: __( 'Text Columns (deprecated)' ),\n\n\tdescription: __( 'This block is deprecated. Please use the Columns block instead.' ),\n\n\ticon: 'columns',\n\n\tcategory: 'layout',\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'array',\n\t\t\tsource: 'query',\n\t\t\tselector: 'p',\n\t\t\tquery: {\n\t\t\t\tchildren: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t},\n\t\t\t},\n\t\t\tdefault: [ {}, {} ],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2,\n\t\t},\n\t\twidth: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/columns' ],\n\t\t\t\ttransform: ( { className, columns, content, width } ) => (\n\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t'core/columns',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talign: ( 'wide' === width || 'full' === width ) ? width : undefined,\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\tcolumns,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent.map( ( { children } ) =>\n\t\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t\t'core/column',\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t[ createBlock( 'core/paragraph', { content: children } ) ]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t},\n\n\tgetEditWrapperProps( attributes ) {\n\t\tconst { width } = attributes;\n\t\tif ( 'wide' === width || 'full' === width ) {\n\t\t\treturn { 'data-align': width };\n\t\t}\n\t},\n\n\tedit: ( ( { attributes, setAttributes, className } ) => {\n\t\tconst { width, content, columns } = attributes;\n\n\t\tdeprecated( 'The Text Columns block', {\n\t\t\talternative: 'the Columns block',\n\t\t\tplugin: 'Gutenberg',\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\tvalue={ width }\n\t\t\t\t\t\tonChange={ ( nextWidth ) => setAttributes( { width: nextWidth } ) }\n\t\t\t\t\t\tcontrols={ [ 'center', 'wide', 'full' ] }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { columns: value } ) }\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div className={ `${ className } align${ width } columns-${ columns }` }>\n\t\t\t\t\t{ times( columns, ( index ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"wp-block-column\" key={ `column-${ index }` }>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\t\t\t\tvalue={ get( content, [ index, 'children' ] ) }\n\t\t\t\t\t\t\t\t\tonChange={ ( nextContent ) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\t\t\t\t\t\t...content.slice( 0, index ),\n\t\t\t\t\t\t\t\t\t\t\t\t{ children: nextContent },\n\t\t\t\t\t\t\t\t\t\t\t\t...content.slice( index + 1 ),\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'New Column' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t} ),\n\n\tsave( { attributes } ) {\n\t\tconst { width, content, columns } = attributes;\n\t\treturn (\n\t\t\t<div className={ `align${ width } columns-${ columns }` }>\n\t\t\t\t{ times( columns, ( index ) =>\n\t\t\t\t\t<div className=\"wp-block-column\" key={ `column-${ index }` }>\n\t\t\t\t\t\t<RichText.Content tagName=\"p\" value={ get( content, [ index, 'children' ] ) } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t},\n};\n","/**\n * WordPress\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tRichText,\n\tBlockControls,\n\tAlignmentToolbar,\n} from '@wordpress/editor';\nimport { SVG, Path } from '@wordpress/components';\n\nexport const name = 'core/verse';\n\nexport const settings = {\n\ttitle: __( 'Verse' ),\n\n\tdescription: __( 'Insert poetry. Use special spacing formats. Or quote song lyrics.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><Path d=\"M3 17v4h4l11-11-4-4L3 17zm3 2H5v-1l9-9 1 1-9 9zM21 6l-3-3h-1l-2 2 4 4 2-2V6z\" /></SVG>,\n\n\tcategory: 'formatting',\n\n\tkeywords: [ __( 'poetry' ) ],\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'pre',\n\t\t\tdefault: '',\n\t\t},\n\t\ttextAlign: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( attributes ) =>\n\t\t\t\t\tcreateBlock( 'core/verse', attributes ),\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( attributes ) =>\n\t\t\t\t\tcreateBlock( 'core/paragraph', attributes ),\n\t\t\t},\n\t\t],\n\t},\n\n\tedit( { attributes, setAttributes, className, mergeBlocks } ) {\n\t\tconst { textAlign, content } = attributes;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"pre\"\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tonChange={ ( nextContent ) => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tcontent: nextContent,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tstyle={ { textAlign: textAlign } }\n\t\t\t\t\tplaceholder={ __( 'Write' ) }\n\t\t\t\t\twrapperClassName={ className }\n\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { textAlign, content } = attributes;\n\n\t\treturn (\n\t\t\t<RichText.Content\n\t\t\t\ttagName=\"pre\"\n\t\t\t\tstyle={ { textAlign: textAlign } }\n\t\t\t\tvalue={ content }\n\t\t\t/>\n\t\t);\n\t},\n\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent: attributes.content + attributesToMerge.content,\n\t\t};\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tBaseControl,\n\tButton,\n\tDisabled,\n\tIconButton,\n\tPanelBody,\n\tSelectControl,\n\tToolbar,\n\tToggleControl,\n\twithNotices,\n} from '@wordpress/components';\nimport { Component, Fragment, createRef } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tRichText,\n\tmediaUpload,\n} from '@wordpress/editor';\nimport { getBlobByURL, isBlobURL } from '@wordpress/blob';\n\n/**\n * Internal dependencies\n */\nimport { createUpgradedEmbedBlock } from '../embed/util';\n\nconst ALLOWED_MEDIA_TYPES = [ 'video' ];\nconst VIDEO_POSTER_ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nclass VideoEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\t// edit component has its own src in the state so it can be edited\n\t\t// without setting the actual value outside of the edit UI\n\t\tthis.state = {\n\t\t\tediting: ! this.props.attributes.src,\n\t\t};\n\n\t\tthis.videoPlayer = createRef();\n\t\tthis.posterImageButton = createRef();\n\t\tthis.toggleAttribute = this.toggleAttribute.bind( this );\n\t\tthis.onSelectURL = this.onSelectURL.bind( this );\n\t\tthis.onSelectPoster = this.onSelectPoster.bind( this );\n\t\tthis.onRemovePoster = this.onRemovePoster.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { attributes, noticeOperations, setAttributes } = this.props;\n\t\tconst { id, src = '' } = attributes;\n\t\tif ( ! id && isBlobURL( src ) ) {\n\t\t\tconst file = getBlobByURL( src );\n\t\t\tif ( file ) {\n\t\t\t\tmediaUpload( {\n\t\t\t\t\tfilesList: [ file ],\n\t\t\t\t\tonFileChange: ( [ { url } ] ) => {\n\t\t\t\t\t\tsetAttributes( { src: url } );\n\t\t\t\t\t},\n\t\t\t\t\tonError: ( message ) => {\n\t\t\t\t\t\tthis.setState( { editing: true } );\n\t\t\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t\t\t},\n\t\t\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.attributes.poster !== prevProps.attributes.poster ) {\n\t\t\tthis.videoPlayer.current.load();\n\t\t}\n\t}\n\n\ttoggleAttribute( attribute ) {\n\t\treturn ( newValue ) => {\n\t\t\tthis.props.setAttributes( { [ attribute ]: newValue } );\n\t\t};\n\t}\n\n\tonSelectURL( newSrc ) {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { src } = attributes;\n\n\t\t// Set the block's src from the edit component's state, and switch off\n\t\t// the editing UI.\n\t\tif ( newSrc !== src ) {\n\t\t\t// Check if there's an embed block that handles this URL.\n\t\t\tconst embedBlock = createUpgradedEmbedBlock(\n\t\t\t\t{ attributes: { url: newSrc } }\n\t\t\t);\n\t\t\tif ( undefined !== embedBlock ) {\n\t\t\t\tthis.props.onReplace( embedBlock );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetAttributes( { src: newSrc, id: undefined } );\n\t\t}\n\n\t\tthis.setState( { editing: false } );\n\t}\n\n\tonSelectPoster( image ) {\n\t\tconst { setAttributes } = this.props;\n\t\tsetAttributes( { poster: image.url } );\n\t}\n\n\tonRemovePoster() {\n\t\tconst { setAttributes } = this.props;\n\t\tsetAttributes( { poster: '' } );\n\n\t\t// Move focus back to the Media Upload button.\n\t\tthis.posterImageButton.current.focus();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tautoplay,\n\t\t\tcaption,\n\t\t\tcontrols,\n\t\t\tloop,\n\t\t\tmuted,\n\t\t\tposter,\n\t\t\tpreload,\n\t\t\tsrc,\n\t\t} = this.props.attributes;\n\t\tconst { setAttributes, isSelected, className, noticeOperations, noticeUI } = this.props;\n\t\tconst { editing } = this.state;\n\t\tconst switchToEditing = () => {\n\t\t\tthis.setState( { editing: true } );\n\t\t};\n\t\tconst onSelectVideo = ( media ) => {\n\t\t\tif ( ! media || ! media.url ) {\n\t\t\t\t// in this case there was an error and we should continue in the editing state\n\t\t\t\t// previous attributes should be removed because they may be temporary blob urls\n\t\t\t\tsetAttributes( { src: undefined, id: undefined } );\n\t\t\t\tswitchToEditing();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// sets the block's attribute and updates the edit component from the\n\t\t\t// selected media, then switches off the editing UI\n\t\t\tsetAttributes( { src: media.url, id: media.id } );\n\t\t\tthis.setState( { src: media.url, editing: false } );\n\t\t};\n\n\t\tif ( editing ) {\n\t\t\treturn (\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon=\"media-video\"\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tonSelect={ onSelectVideo }\n\t\t\t\t\tonSelectURL={ this.onSelectURL }\n\t\t\t\t\taccept=\"video/*\"\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tvalue={ this.props.attributes }\n\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\tonError={ noticeOperations.createErrorNotice }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"components-icon-button components-toolbar__control\"\n\t\t\t\t\t\t\tlabel={ __( 'Edit video' ) }\n\t\t\t\t\t\t\tonClick={ switchToEditing }\n\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Video Settings' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Autoplay' ) }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'autoplay' ) }\n\t\t\t\t\t\t\tchecked={ autoplay }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Loop' ) }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'loop' ) }\n\t\t\t\t\t\t\tchecked={ loop }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Muted' ) }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'muted' ) }\n\t\t\t\t\t\t\tchecked={ muted }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Playback Controls' ) }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'controls' ) }\n\t\t\t\t\t\t\tchecked={ controls }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Preload' ) }\n\t\t\t\t\t\t\tvalue={ preload }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { preload: value } ) }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{ value: 'auto', label: __( 'Auto' ) },\n\t\t\t\t\t\t\t\t{ value: 'metadata', label: __( 'Metadata' ) },\n\t\t\t\t\t\t\t\t{ value: 'none', label: __( 'None' ) },\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<BaseControl\n\t\t\t\t\t\t\t\tclassName=\"editor-video-poster-control\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Poster Image' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Select Poster Image' ) }\n\t\t\t\t\t\t\t\t\tonSelect={ this.onSelectPoster }\n\t\t\t\t\t\t\t\t\tallowedTypes={ VIDEO_POSTER_ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\tref={ this.posterImageButton }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ ! this.props.attributes.poster ? __( 'Select Poster Image' ) : __( 'Replace image' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ !! this.props.attributes.poster &&\n\t\t\t\t\t\t\t\t\t<Button onClick={ this.onRemovePoster } isLink isDestructive>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Remove Poster Image' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<figure className={ className }>\n\t\t\t\t\t{ /*\n\t\t\t\t\t\tDisable the video tag so the user clicking on it won't play the\n\t\t\t\t\t\tvideo when the controls are enabled.\n\t\t\t\t\t*/ }\n\t\t\t\t\t<Disabled>\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tcontrols={ controls }\n\t\t\t\t\t\t\tposter={ poster }\n\t\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t\t\tref={ this.videoPlayer }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Disabled>\n\t\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\tplaceholder={ __( 'Write caption' ) }\n\t\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { caption: value } ) }\n\t\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</figure>\n\t\t\t</Fragment>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n\t}\n}\n\nexport default withNotices( VideoEdit );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/editor';\nimport { createBlock } from '@wordpress/blocks';\nimport { createBlobURL } from '@wordpress/blob';\nimport { SVG, Path } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\n\nexport const name = 'core/video';\n\nexport const settings = {\n\ttitle: __( 'Video' ),\n\n\tdescription: __( 'Embed a video from your media library or upload a new one.' ),\n\n\ticon: <SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><Path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><Path d=\"M4 6l2 4h14v8H4V6m18-2h-4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4L2 6v12l2 2h16l2-2V4z\" /></SVG>,\n\n\tkeywords: [ __( 'movie' ) ],\n\n\tcategory: 'common',\n\n\tattributes: {\n\t\tautoplay: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'autoplay',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t},\n\t\tcontrols: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'controls',\n\t\t\tdefault: true,\n\t\t},\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tloop: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'loop',\n\t\t},\n\t\tmuted: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'muted',\n\t\t},\n\t\tposter: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'poster',\n\t\t},\n\t\tpreload: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'preload',\n\t\t\tdefault: 'metadata',\n\t\t},\n\t\tsrc: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'src',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'video/' ) === 0;\n\t\t\t\t},\n\t\t\t\ttransform( files ) {\n\t\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t\t// in the video block\n\t\t\t\t\tconst block = createBlock( 'core/video', {\n\t\t\t\t\t\tsrc: createBlobURL( file ),\n\t\t\t\t\t} );\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tsupports: {\n\t\talign: true,\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { autoplay, caption, controls, loop, muted, poster, preload, src } = attributes;\n\t\treturn (\n\t\t\t<figure>\n\t\t\t\t{ src && (\n\t\t\t\t\t<video\n\t\t\t\t\t\tautoPlay={ autoplay }\n\t\t\t\t\t\tcontrols={ controls }\n\t\t\t\t\t\tloop={ loop }\n\t\t\t\t\t\tmuted={ muted }\n\t\t\t\t\t\tposter={ poster }\n\t\t\t\t\t\tpreload={ preload !== 'metadata' ? preload : undefined }\n\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar classNames = (function () {\n\t\t// don't inherit from Object so we can skip hasOwnProperty check later\n\t\t// http://stackoverflow.com/questions/15518328/creating-js-object-with-object-createnull#answer-21079232\n\t\tfunction StorageObject() {}\n\t\tStorageObject.prototype = Object.create(null);\n\n\t\tfunction _parseArray (resultSet, array) {\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\t_parse(resultSet, array[i]);\n\t\t\t}\n\t\t}\n\n\t\tvar hasOwn = {}.hasOwnProperty;\n\n\t\tfunction _parseNumber (resultSet, num) {\n\t\t\tresultSet[num] = true;\n\t\t}\n\n\t\tfunction _parseObject (resultSet, object) {\n\t\t\tfor (var k in object) {\n\t\t\t\tif (hasOwn.call(object, k)) {\n\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n\t\t\t\t\tresultSet[k] = !!object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar SPACE = /\\s+/;\n\t\tfunction _parseString (resultSet, str) {\n\t\t\tvar array = str.split(SPACE);\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\tresultSet[array[i]] = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction _parse (resultSet, arg) {\n\t\t\tif (!arg) return;\n\t\t\tvar argType = typeof arg;\n\n\t\t\t// 'foo bar'\n\t\t\tif (argType === 'string') {\n\t\t\t\t_parseString(resultSet, arg);\n\n\t\t\t// ['foo', 'bar', ...]\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t_parseArray(resultSet, arg);\n\n\t\t\t// { 'foo': true, ... }\n\t\t\t} else if (argType === 'object') {\n\t\t\t\t_parseObject(resultSet, arg);\n\n\t\t\t// '130'\n\t\t\t} else if (argType === 'number') {\n\t\t\t\t_parseNumber(resultSet, arg);\n\t\t\t}\n\t\t}\n\n\t\tfunction _classNames () {\n\t\t\t// don't leak arguments\n\t\t\t// https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n\t\t\tvar len = arguments.length;\n\t\t\tvar args = Array(len);\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\targs[i] = arguments[i];\n\t\t\t}\n\n\t\t\tvar classSet = new StorageObject();\n\t\t\t_parseArray(classSet, args);\n\n\t\t\tvar list = [];\n\n\t\t\tfor (var k in classSet) {\n\t\t\t\tif (classSet[k]) {\n\t\t\t\t\tlist.push(k)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list.join(' ');\n\t\t}\n\n\t\treturn _classNames;\n\t})();\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = function memize( fn, options ) {\n\tvar size = 0,\n\t\tmaxSize, head, tail;\n\n\tif ( options && options.maxSize ) {\n\t\tmaxSize = options.maxSize;\n\t}\n\n\tfunction memoized( /* ...args */ ) {\n\t\tvar node = head,\n\t\t\tlen = arguments.length,\n\t\t\targs, i;\n\n\t\tsearchCache: while ( node ) {\n\t\t\t// Perform a shallow equality test to confirm that whether the node\n\t\t\t// under test is a candidate for the arguments passed. Two arrays\n\t\t\t// are shallowly equal if their length matches and each entry is\n\t\t\t// strictly equal between the two sets. Avoid abstracting to a\n\t\t\t// function which could incur an arguments leaking deoptimization.\n\n\t\t\t// Check whether node arguments match arguments length\n\t\t\tif ( node.args.length !== arguments.length ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check whether node arguments match arguments values\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( node.args[ i ] !== arguments[ i ] ) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tcontinue searchCache;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== head ) {\n\t\t\t\t// As tail, shift to previous. Must only shift if not also\n\t\t\t\t// head, since if both head and tail, there is no previous.\n\t\t\t\tif ( node === tail ) {\n\t\t\t\t\ttail = node.prev;\n\t\t\t\t}\n\n\t\t\t\t// Adjust siblings to point to each other. If node was tail,\n\t\t\t\t// this also handles new tail's empty `next` assignment.\n\t\t\t\tnode.prev.next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = head;\n\t\t\t\tnode.prev = null;\n\t\t\t\thead.prev = node;\n\t\t\t\thead = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\t// Create a copy of arguments (avoid leaking deoptimization)\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tnode = {\n\t\t\targs: args,\n\n\t\t\t// Generate the result from original function\n\t\t\tval: fn.apply( null, args )\n\t\t};\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( head ) {\n\t\t\thead.prev = node;\n\t\t\tnode.next = head;\n\t\t} else {\n\t\t\t// If no head, follows that there's no tail (at initial or reset)\n\t\t\ttail = node;\n\t\t}\n\n\t\t// Trim tail if we're reached max size and are pending cache insertion\n\t\tif ( size === maxSize ) {\n\t\t\ttail = tail.prev;\n\t\t\ttail.next = null;\n\t\t} else {\n\t\t\tsize++;\n\t\t}\n\n\t\thead = node;\n\n\t\treturn node.val;\n\t}\n\n\tmemoized.clear = function() {\n\t\thead = null;\n\t\ttail = null;\n\t\tsize = 0;\n\t};\n\n\tif ( process.env.NODE_ENV === 'test' ) {\n\t\t// Cache is not exposed in the public API, but used in tests to ensure\n\t\t// expected list progression\n\t\tmemoized.getCache = function() {\n\t\t\treturn [ head, tail, size ];\n\t\t};\n\t}\n\n\treturn memoized;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"autop\"]; }());","(function() { module.exports = this[\"wp\"][\"blob\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"coreData\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"date\"]; }());","(function() { module.exports = this[\"wp\"][\"deprecated\"]; }());","(function() { module.exports = this[\"wp\"][\"editor\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"htmlEntities\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"keycodes\"]; }());","(function() { module.exports = this[\"wp\"][\"richText\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"wp\"][\"viewport\"]; }());","(function() { module.exports = this[\"lodash\"]; }());"],"sourceRoot":""}