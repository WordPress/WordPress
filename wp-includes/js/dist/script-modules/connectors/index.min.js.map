{
  "version": 3,
  "sources": ["package-external:@wordpress/data", "package-external:@wordpress/private-apis", "package-external:@wordpress/components", "package-external:@wordpress/element", "package-external:@wordpress/i18n", "vendor-external:react/jsx-runtime", "../../../packages/connectors/src/api.ts", "../../../packages/connectors/src/store.ts", "../../../packages/connectors/src/lock-unlock.ts", "../../../packages/connectors/src/connector-item.tsx", "../../../packages/connectors/src/private-apis.ts"],
  "sourcesContent": ["module.exports = window.wp.data;", "module.exports = window.wp.privateApis;", "module.exports = window.wp.components;", "module.exports = window.wp.element;", "module.exports = window.wp.i18n;", "module.exports = window.ReactJSXRuntime;", "/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store } from './store';\nimport { unlock } from './lock-unlock';\nimport type { ConnectorConfig } from './types';\n\n/**\n * Register a connector that will appear in the Connectors settings page.\n *\n * @param slug   Unique identifier for the connector.\n * @param config Connector configuration.\n *\n * @example\n * ```js\n * import { __experimentalRegisterConnector as registerConnector, __experimentalConnectorItem as ConnectorItem } from '@wordpress/connectors';\n *\n * registerConnector( 'my-plugin/openai', {\n *     label: 'OpenAI',\n *     description: 'Text, image, and code generation with GPT.',\n *     icon: <MyOpenAIIcon />,\n *     render: ( { slug, label, description } ) => (\n *         <ConnectorItem\n *             icon={ <MyOpenAIIcon /> }\n *             name={ label }\n *             description={ description }\n *         >\n *             <MyCustomSettings />\n *         </ConnectorItem>\n *     ),\n * } );\n * ```\n */\nexport function registerConnector(\n\tslug: string,\n\tconfig: Omit< ConnectorConfig, 'slug' >\n): void {\n\tunlock( dispatch( store ) ).registerConnector( slug, config );\n}\n", "/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport type { ConnectorConfig, ConnectorsState } from './types';\nimport { unlock } from './lock-unlock';\n\nconst STORE_NAME = 'core/connectors';\n\nconst DEFAULT_STATE: ConnectorsState = {\n\tconnectors: {},\n};\n\nconst actions = {\n\tregisterConnector( slug: string, config: Omit< ConnectorConfig, 'slug' > ) {\n\t\treturn {\n\t\t\ttype: 'REGISTER_CONNECTOR' as const,\n\t\t\tslug,\n\t\t\tconfig,\n\t\t};\n\t},\n};\n\ntype Action = ReturnType< typeof actions.registerConnector >;\n\nfunction reducer(\n\tstate: ConnectorsState = DEFAULT_STATE,\n\taction: Action\n): ConnectorsState {\n\tswitch ( action.type ) {\n\t\tcase 'REGISTER_CONNECTOR':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconnectors: {\n\t\t\t\t\t...state.connectors,\n\t\t\t\t\t[ action.slug ]: {\n\t\t\t\t\t\tslug: action.slug,\n\t\t\t\t\t\t...action.config,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nconst selectors = {\n\tgetConnectors( state: ConnectorsState ): ConnectorConfig[] {\n\t\treturn Object.values( state.connectors );\n\t},\n\tgetConnector(\n\t\tstate: ConnectorsState,\n\t\tslug: string\n\t): ConnectorConfig | undefined {\n\t\treturn state.connectors[ slug ];\n\t},\n};\n\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n} );\n\nregister( store );\nunlock( store ).registerPrivateActions( actions );\nunlock( store ).registerPrivateSelectors( selectors );\n\nexport { STORE_NAME };\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/connectors'\n\t);\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalItem as Item,\n\t__experimentalText as Text,\n\tExternalLink,\n\tFlexBlock,\n\tButton,\n\tTextControl,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { ReactNode } from 'react';\n\nexport interface ConnectorItemProps {\n\tclassName?: string;\n\ticon?: ReactNode;\n\tname: string;\n\tdescription: string;\n\tactionArea?: ReactNode;\n\tchildren?: ReactNode;\n}\n\nexport function ConnectorItem( {\n\tclassName,\n\ticon,\n\tname,\n\tdescription,\n\tactionArea,\n\tchildren,\n}: ConnectorItemProps ) {\n\treturn (\n\t\t<Item className={ className }>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<HStack alignment=\"center\" spacing={ 4 }>\n\t\t\t\t\t{ icon }\n\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t<VStack spacing={ 0 }>\n\t\t\t\t\t\t\t<Text weight={ 600 } size={ 15 }>\n\t\t\t\t\t\t\t\t{ name }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text variant=\"muted\" size={ 12 }>\n\t\t\t\t\t\t\t\t{ description }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t{ actionArea }\n\t\t\t\t</HStack>\n\t\t\t\t{ children }\n\t\t\t</VStack>\n\t\t</Item>\n\t);\n}\n\nexport interface DefaultConnectorSettingsProps {\n\tonSave?: ( apiKey: string ) => void | Promise< void >;\n\tonRemove?: () => void;\n\tinitialValue?: string;\n\thelpUrl?: string;\n\thelpLabel?: string;\n\treadOnly?: boolean;\n}\n\n/**\n * Default settings form for connectors.\n *\n * @param props              - Component props.\n * @param props.onSave       - Callback invoked with the API key when the user saves.\n * @param props.onRemove     - Callback invoked when the user removes the connector.\n * @param props.initialValue - Initial value for the API key field.\n * @param props.helpUrl      - URL to documentation for obtaining an API key.\n * @param props.helpLabel    - Custom label for the help link. Defaults to the URL without protocol.\n * @param props.readOnly     - Whether the form is in read-only mode.\n */\nexport function DefaultConnectorSettings( {\n\tonSave,\n\tonRemove,\n\tinitialValue = '',\n\thelpUrl,\n\thelpLabel,\n\treadOnly = false,\n}: DefaultConnectorSettingsProps ) {\n\tconst [ apiKey, setApiKey ] = useState( initialValue );\n\tconst [ isSaving, setIsSaving ] = useState( false );\n\tconst [ saveError, setSaveError ] = useState< string | null >( null );\n\n\tconst helpLinkLabel = helpLabel || helpUrl?.replace( /^https?:\\/\\//, '' );\n\n\tconst helpLink = helpUrl ? (\n\t\t<>\n\t\t\t{ __( 'Get your API key at' ) }{ ' ' }\n\t\t\t<ExternalLink href={ helpUrl }>{ helpLinkLabel }</ExternalLink>\n\t\t</>\n\t) : undefined;\n\n\tconst getHelp = () => {\n\t\tif ( readOnly ) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Your API key is stored securely. You can reset it at'\n\t\t\t\t\t) }{ ' ' }\n\t\t\t\t\t{ helpUrl ? (\n\t\t\t\t\t\t<ExternalLink href={ helpUrl }>\n\t\t\t\t\t\t\t{ helpLinkLabel }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t) : undefined }\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\tif ( saveError ) {\n\t\t\treturn <span style={ { color: '#cc1818' } }>{ saveError }</span>;\n\t\t}\n\t\treturn helpLink;\n\t};\n\n\tconst handleSave = async () => {\n\t\tsetSaveError( null );\n\t\tsetIsSaving( true );\n\t\ttry {\n\t\t\tawait onSave?.( apiKey );\n\t\t} catch ( error ) {\n\t\t\tsetSaveError(\n\t\t\t\terror instanceof Error\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'It was not possible to connect to the provider using this key.'\n\t\t\t\t\t  )\n\t\t\t);\n\t\t} finally {\n\t\t\tsetIsSaving( false );\n\t\t}\n\t};\n\n\treturn (\n\t\t<VStack\n\t\t\tspacing={ 4 }\n\t\t\tclassName=\"connector-settings\"\n\t\t\tstyle={\n\t\t\t\treadOnly\n\t\t\t\t\t? ( {\n\t\t\t\t\t\t\t'--wp-components-color-background': '#f0f0f0',\n\t\t\t\t\t  } as React.CSSProperties )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t>\n\t\t\t<TextControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={ __( 'API Key' ) }\n\t\t\t\tvalue={ apiKey }\n\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\tif ( ! readOnly ) {\n\t\t\t\t\t\tsetSaveError( null );\n\t\t\t\t\t\tsetApiKey( value );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tplaceholder=\"YOUR_API_KEY\"\n\t\t\t\tdisabled={ readOnly || isSaving }\n\t\t\t\thelp={ getHelp() }\n\t\t\t/>\n\t\t\t{ readOnly ? (\n\t\t\t\t<Button variant=\"link\" isDestructive onClick={ onRemove }>\n\t\t\t\t\t{ __( 'Remove and replace' ) }\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tdisabled={ ! apiKey || isSaving }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tisBusy={ isSaving }\n\t\t\t\t\t\tonClick={ handleSave }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport { lock } from './lock-unlock';\nimport { store, STORE_NAME } from './store';\n\nexport const privateApis: Record< string, never > = {};\nlock( privateApis, { store, STORE_NAME } );\n"],
  "mappings": "ygBAAA,IAAAA,EAAAC,EAAA,CAAAC,GAAAC,IAAA,CAAAA,EAAO,QAAU,OAAO,GAAG,OCA3B,IAAAC,EAAAC,EAAA,CAAAC,GAAAC,IAAA,CAAAA,EAAO,QAAU,OAAO,GAAG,cCA3B,IAAAC,EAAAC,EAAA,CAAAC,GAAAC,IAAA,CAAAA,EAAO,QAAU,OAAO,GAAG,aCA3B,IAAAC,EAAAC,EAAA,CAAAC,GAAAC,IAAA,CAAAA,EAAO,QAAU,OAAO,GAAG,UCA3B,IAAAC,EAAAC,EAAA,CAAAC,GAAAC,IAAA,CAAAA,EAAO,QAAU,OAAO,GAAG,OCA3B,IAAAC,EAAAC,EAAA,CAAAC,GAAAC,IAAA,CAAAA,EAAO,QAAU,OAAO,kBCGxB,IAAAC,EAAyB,SCAzB,IAAAC,EAA2C,SCA3C,IAAAC,EAAiE,SAEpD,CAAE,KAAAC,EAAM,OAAAC,CAAO,KAC3B,oDACC,gIACA,uBACD,EDED,IAAMC,EAAa,kBAEbC,EAAiC,CACtC,WAAY,CAAC,CACd,EAEMC,EAAU,CACf,kBAAmBC,EAAcC,EAA0C,CAC1E,MAAO,CACN,KAAM,qBACN,KAAAD,EACA,OAAAC,CACD,CACD,CACD,EAIA,SAASC,EACRC,EAAyBL,EACzBM,EACkB,CAClB,OAASA,EAAO,OACV,qBACG,CACN,GAAGD,EACH,WAAY,CACX,GAAGA,EAAM,WACT,CAAEC,EAAO,IAAK,EAAG,CAChB,KAAMA,EAAO,KACb,GAAGA,EAAO,MACX,CACD,CACD,EAEOD,CAEV,CAEA,IAAME,EAAY,CACjB,cAAeF,EAA4C,CAC1D,OAAO,OAAO,OAAQA,EAAM,UAAW,CACxC,EACA,aACCA,EACAH,EAC8B,CAC9B,OAAOG,EAAM,WAAYH,CAAK,CAC/B,CACD,EAEaM,KAAQ,oBAAkBT,EAAY,CAClD,QAAAK,CACD,CAAE,KAEF,YAAUI,CAAM,EAChBC,EAAQD,CAAM,EAAE,uBAAwBP,CAAQ,EAChDQ,EAAQD,CAAM,EAAE,yBAA0BD,CAAU,ED9B7C,SAASG,GACfC,EACAC,EACO,CACPC,KAAQ,YAAUC,CAAM,CAAE,EAAE,kBAAmBH,EAAMC,CAAO,CAC7D,CGxCA,IAAAG,EASO,SACPC,EAAyB,SACzBC,EAAmB,SA8BbC,EAAA,SAdC,SAASC,GAAe,CAC9B,UAAAC,EACA,KAAAC,EACA,KAAAC,EACA,YAAAC,EACA,WAAAC,EACA,SAAAC,CACD,EAAwB,CACvB,SACC,OAAC,EAAAC,mBAAA,CAAK,UAAAN,EACL,YAAA,QAAC,EAAAO,qBAAA,CAAO,QAAU,EACjB,SAAA,IAAA,QAAC,EAAAC,qBAAA,CAAO,UAAU,SAAS,QAAU,EAClC,SAAA,CAAAP,KACF,OAAC,YAAA,CACA,YAAA,QAAC,EAAAM,qBAAA,CAAO,QAAU,EACjB,SAAA,IAAA,OAAC,EAAAE,mBAAA,CAAK,OAAS,IAAM,KAAO,GACzB,SAAAP,CAAA,CACH,KACA,OAAC,EAAAO,mBAAA,CAAK,QAAQ,QAAQ,KAAO,GAC1B,SAAAN,CAAA,CACH,CAAA,CAAA,CACD,CAAA,CACD,EACEC,CAAA,CAAA,CACH,EACEC,CAAA,CAAA,CACH,CAAA,CACD,CAEF,CAsBO,SAASK,GAA0B,CACzC,OAAAC,EACA,SAAAC,EACA,aAAAC,EAAe,GACf,QAAAC,EACA,UAAAC,EACA,SAAAC,EAAW,EACZ,EAAmC,CAClC,GAAM,CAAEC,EAAQC,CAAU,KAAI,YAAUL,CAAa,EAC/C,CAAEM,EAAUC,CAAY,KAAI,YAAU,EAAM,EAC5C,CAAEC,EAAWC,CAAa,KAAI,YAA2B,IAAK,EAE9DC,EAAgBR,GAAaD,GAAS,QAAS,eAAgB,EAAG,EAElEU,EAAWV,KAChB,QAAA,WAAA,CACG,SAAA,IAAA,MAAI,qBAAsB,EAAK,OACjC,OAAC,eAAA,CAAa,KAAOA,EAAY,SAAAS,CAAA,CAAe,CAAA,CAAA,CACjD,EACG,OAEEE,EAAU,IACVT,KAEH,QAAA,WAAA,CACG,SAAA,IAAA,MACD,sDACD,EAAK,IACHF,KACD,OAAC,eAAA,CAAa,KAAOA,EAClB,SAAAS,CAAA,CACH,EACG,MAAA,CAAA,CACL,EAGGF,KACG,OAAC,OAAA,CAAK,MAAQ,CAAE,MAAO,SAAU,EAAM,SAAAA,CAAA,CAAW,EAEnDG,EAGFE,EAAa,SAAY,CAC9BJ,EAAc,IAAK,EACnBF,EAAa,EAAK,EAClB,GAAI,CACH,MAAMT,IAAUM,CAAO,CACxB,OAAUU,EAAQ,CACjBL,EACCK,aAAiB,MACdA,EAAM,WACN,MACA,gEACA,CACJ,CACD,QAAA,CACCP,EAAa,EAAM,CACpB,CACD,EAEA,SACC,QAAC,EAAAb,qBAAA,CACA,QAAU,EACV,UAAU,qBACV,MACCS,EACK,CACF,mCAAoC,SACpC,EACA,OAGJ,SAAA,IAAA,OAAC,cAAA,CACA,wBAAuB,GACvB,sBAAqB,GACrB,SAAQ,MAAI,SAAU,EACtB,MAAQC,EACR,SAAaW,GAAW,CAChBZ,IACNM,EAAc,IAAK,EACnBJ,EAAWU,CAAM,EAEnB,EACA,YAAY,eACZ,SAAWZ,GAAYG,EACvB,KAAOM,EAAQ,CAAA,CAChB,EACET,KACD,OAAC,SAAA,CAAO,QAAQ,OAAO,cAAa,GAAC,QAAUJ,EAC5C,YAAA,MAAI,oBAAqB,CAAA,CAC5B,KAEA,OAAC,EAAAJ,qBAAA,CAAO,QAAQ,aACf,YAAA,OAAC,SAAA,CACA,sBAAqB,GACrB,QAAQ,UACR,SAAW,CAAES,GAAUE,EACvB,uBAAsB,GACtB,OAASA,EACT,QAAUO,EAER,YAAA,MAAI,MAAO,CAAA,CACd,CAAA,CACD,CAAA,CAAA,CAEF,CAEF,CCtLO,IAAMG,EAAuC,CAAC,EACrDC,EAAMD,EAAa,CAAE,MAAAE,EAAO,WAAAC,CAAW,CAAE",
  "names": ["require_data", "__commonJSMin", "exports", "module", "require_private_apis", "__commonJSMin", "exports", "module", "require_components", "__commonJSMin", "exports", "module", "require_element", "__commonJSMin", "exports", "module", "require_i18n", "__commonJSMin", "exports", "module", "require_jsx_runtime", "__commonJSMin", "exports", "module", "import_data", "import_data", "import_private_apis", "lock", "unlock", "STORE_NAME", "DEFAULT_STATE", "actions", "slug", "config", "reducer", "state", "action", "selectors", "store", "unlock", "registerConnector", "slug", "config", "unlock", "store", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "ConnectorItem", "className", "icon", "name", "description", "actionArea", "children", "Item", "VStack", "HStack", "Text", "DefaultConnectorSettings", "onSave", "onRemove", "initialValue", "helpUrl", "helpLabel", "readOnly", "apiKey", "setApiKey", "isSaving", "setIsSaving", "saveError", "setSaveError", "helpLinkLabel", "helpLink", "getHelp", "handleSave", "error", "value", "privateApis", "lock", "store", "STORE_NAME"]
}
