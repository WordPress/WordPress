{
  "version": 3,
  "sources": ["../../../../packages/block-library/src/playlist/view.js"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { store, getContext, getElement } from '@wordpress/interactivity';\n\nstore(\n\t'core/playlist',\n\t{\n\t\tstate: {\n\t\t\tplaylists: {},\n\t\t\tget currentTrack() {\n\t\t\t\tconst { currentId, playlistId } = getContext();\n\t\t\t\tif ( ! currentId || ! playlistId ) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\tconst playlist = this.playlists[ playlistId ];\n\t\t\t\tif ( ! playlist ) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\treturn playlist.tracks[ currentId ] || {};\n\t\t\t},\n\t\t\tget isCurrentTrack() {\n\t\t\t\tconst { currentId, uniqueId } = getContext();\n\t\t\t\treturn currentId === uniqueId;\n\t\t\t},\n\t\t},\n\t\tactions: {\n\t\t\tchangeTrack() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tcontext.currentId = context.uniqueId;\n\t\t\t\tcontext.isPlaying = true;\n\t\t\t},\n\t\t\tisPlaying() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tcontext.isPlaying = true;\n\t\t\t},\n\t\t\tisPaused() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tcontext.isPlaying = false;\n\t\t\t},\n\t\t\tnextSong() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tconst currentIndex = context.tracks.findIndex(\n\t\t\t\t\t( uniqueId ) => uniqueId === context.currentId\n\t\t\t\t);\n\t\t\t\tconst nextTrack = context.tracks[ currentIndex + 1 ];\n\t\t\t\tif ( nextTrack ) {\n\t\t\t\t\tcontext.currentId = nextTrack;\n\t\t\t\t\tconst { ref } = getElement();\n\t\t\t\t\t// Waits a moment before changing the track, since\n\t\t\t\t\t// immediately changing the track can be jarring.\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tref.play();\n\t\t\t\t\t}, 1000 );\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcallbacks: {\n\t\t\tautoPlay() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\tif ( context.currentId && context.isPlaying ) {\n\t\t\t\t\tref.play();\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\t{ lock: true }\n);\n"],
  "mappings": ";AAGA,SAAS,OAAO,YAAY,kBAAkB;AAE9C;EACC;EACA;IACC,OAAO;MACN,WAAW,CAAC;MACZ,IAAI,eAAe;AAClB,cAAM,EAAE,WAAW,WAAW,IAAI,WAAW;AAC7C,YAAK,CAAE,aAAa,CAAE,YAAa;AAClC,iBAAO,CAAC;QACT;AACA,cAAM,WAAW,KAAK,UAAW,UAAW;AAC5C,YAAK,CAAE,UAAW;AACjB,iBAAO,CAAC;QACT;AACA,eAAO,SAAS,OAAQ,SAAU,KAAK,CAAC;MACzC;MACA,IAAI,iBAAiB;AACpB,cAAM,EAAE,WAAW,SAAS,IAAI,WAAW;AAC3C,eAAO,cAAc;MACtB;IACD;IACA,SAAS;MACR,cAAc;AACb,cAAM,UAAU,WAAW;AAC3B,gBAAQ,YAAY,QAAQ;AAC5B,gBAAQ,YAAY;MACrB;MACA,YAAY;AACX,cAAM,UAAU,WAAW;AAC3B,gBAAQ,YAAY;MACrB;MACA,WAAW;AACV,cAAM,UAAU,WAAW;AAC3B,gBAAQ,YAAY;MACrB;MACA,WAAW;AACV,cAAM,UAAU,WAAW;AAC3B,cAAM,eAAe,QAAQ,OAAO;UACnC,CAAE,aAAc,aAAa,QAAQ;QACtC;AACA,cAAM,YAAY,QAAQ,OAAQ,eAAe,CAAE;AACnD,YAAK,WAAY;AAChB,kBAAQ,YAAY;AACpB,gBAAM,EAAE,IAAI,IAAI,WAAW;AAG3B,qBAAY,MAAM;AACjB,gBAAI,KAAK;UACV,GAAG,GAAK;QACT;MACD;IACD;IACA,WAAW;MACV,WAAW;AACV,cAAM,UAAU,WAAW;AAC3B,cAAM,EAAE,IAAI,IAAI,WAAW;AAC3B,YAAK,QAAQ,aAAa,QAAQ,WAAY;AAC7C,cAAI,KAAK;QACV;MACD;IACD;EACD;EACA,EAAE,MAAM,KAAK;AACd;",
  "names": []
}
