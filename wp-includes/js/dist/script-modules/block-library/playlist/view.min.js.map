{
  "version": 3,
  "sources": ["../../../../packages/block-library/src/playlist/view.js"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { store, getContext, getElement } from '@wordpress/interactivity';\n\nstore(\n\t'core/playlist',\n\t{\n\t\tstate: {\n\t\t\tplaylists: {},\n\t\t\tget currentTrack() {\n\t\t\t\tconst { currentId, playlistId } = getContext();\n\t\t\t\tif ( ! currentId || ! playlistId ) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\tconst playlist = this.playlists[ playlistId ];\n\t\t\t\tif ( ! playlist ) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\treturn playlist.tracks[ currentId ] || {};\n\t\t\t},\n\t\t\tget isCurrentTrack() {\n\t\t\t\tconst { currentId, uniqueId } = getContext();\n\t\t\t\treturn currentId === uniqueId;\n\t\t\t},\n\t\t},\n\t\tactions: {\n\t\t\tchangeTrack() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tcontext.currentId = context.uniqueId;\n\t\t\t\tcontext.isPlaying = true;\n\t\t\t},\n\t\t\tisPlaying() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tcontext.isPlaying = true;\n\t\t\t},\n\t\t\tisPaused() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tcontext.isPlaying = false;\n\t\t\t},\n\t\t\tnextSong() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tconst currentIndex = context.tracks.findIndex(\n\t\t\t\t\t( uniqueId ) => uniqueId === context.currentId\n\t\t\t\t);\n\t\t\t\tconst nextTrack = context.tracks[ currentIndex + 1 ];\n\t\t\t\tif ( nextTrack ) {\n\t\t\t\t\tcontext.currentId = nextTrack;\n\t\t\t\t\tconst { ref } = getElement();\n\t\t\t\t\t// Waits a moment before changing the track, since\n\t\t\t\t\t// immediately changing the track can be jarring.\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tref.play();\n\t\t\t\t\t}, 1000 );\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcallbacks: {\n\t\t\tautoPlay() {\n\t\t\t\tconst context = getContext();\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\tif ( context.currentId && context.isPlaying ) {\n\t\t\t\t\tref.play();\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\t{ lock: true }\n);\n"],
  "mappings": "AAGA,OAAS,SAAAA,EAAO,cAAAC,EAAY,cAAAC,MAAkB,2BAE9CF,EACC,gBACA,CACC,MAAO,CACN,UAAW,CAAC,EACZ,IAAI,cAAe,CAClB,GAAM,CAAE,UAAAG,EAAW,WAAAC,CAAW,EAAIH,EAAW,EAC7C,GAAK,CAAEE,GAAa,CAAEC,EACrB,MAAO,CAAC,EAET,IAAMC,EAAW,KAAK,UAAWD,CAAW,EAC5C,OAAOC,EAGAA,EAAS,OAAQF,CAAU,GAAK,CAAC,EAFhC,CAAC,CAGV,EACA,IAAI,gBAAiB,CACpB,GAAM,CAAE,UAAAA,EAAW,SAAAG,CAAS,EAAIL,EAAW,EAC3C,OAAOE,IAAcG,CACtB,CACD,EACA,QAAS,CACR,aAAc,CACb,IAAMC,EAAUN,EAAW,EAC3BM,EAAQ,UAAYA,EAAQ,SAC5BA,EAAQ,UAAY,EACrB,EACA,WAAY,CACX,IAAMA,EAAUN,EAAW,EAC3BM,EAAQ,UAAY,EACrB,EACA,UAAW,CACV,IAAMA,EAAUN,EAAW,EAC3BM,EAAQ,UAAY,EACrB,EACA,UAAW,CACV,IAAMA,EAAUN,EAAW,EACrBO,EAAeD,EAAQ,OAAO,UACjCD,GAAcA,IAAaC,EAAQ,SACtC,EACME,EAAYF,EAAQ,OAAQC,EAAe,CAAE,EACnD,GAAKC,EAAY,CAChBF,EAAQ,UAAYE,EACpB,GAAM,CAAE,IAAAC,CAAI,EAAIR,EAAW,EAG3B,WAAY,IAAM,CACjBQ,EAAI,KAAK,CACV,EAAG,GAAK,CACT,CACD,CACD,EACA,UAAW,CACV,UAAW,CACV,IAAMH,EAAUN,EAAW,EACrB,CAAE,IAAAS,CAAI,EAAIR,EAAW,EACtBK,EAAQ,WAAaA,EAAQ,WACjCG,EAAI,KAAK,CAEX,CACD,CACD,EACA,CAAE,KAAM,EAAK,CACd",
  "names": ["store", "getContext", "getElement", "currentId", "playlistId", "playlist", "uniqueId", "context", "currentIndex", "nextTrack", "ref"]
}
