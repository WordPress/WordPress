{
  "version": 3,
  "sources": ["../../../../packages/block-library/src/search/view.js"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport {\n\tstore,\n\tgetContext,\n\tgetElement,\n\twithSyncEvent,\n} from '@wordpress/interactivity';\n\nconst { actions } = store(\n\t'core/search',\n\t{\n\t\tstate: {\n\t\t\tget ariaLabel() {\n\t\t\t\tconst {\n\t\t\t\t\tisSearchInputVisible,\n\t\t\t\t\tariaLabelCollapsed,\n\t\t\t\t\tariaLabelExpanded,\n\t\t\t\t} = getContext();\n\t\t\t\treturn isSearchInputVisible\n\t\t\t\t\t? ariaLabelExpanded\n\t\t\t\t\t: ariaLabelCollapsed;\n\t\t\t},\n\t\t\tget ariaControls() {\n\t\t\t\tconst { isSearchInputVisible, inputId } = getContext();\n\t\t\t\treturn isSearchInputVisible ? null : inputId;\n\t\t\t},\n\t\t\tget type() {\n\t\t\t\tconst { isSearchInputVisible } = getContext();\n\t\t\t\treturn isSearchInputVisible ? 'submit' : 'button';\n\t\t\t},\n\t\t\tget tabindex() {\n\t\t\t\tconst { isSearchInputVisible } = getContext();\n\t\t\t\treturn isSearchInputVisible ? '0' : '-1';\n\t\t\t},\n\t\t},\n\t\tactions: {\n\t\t\topenSearchInput: withSyncEvent( ( event ) => {\n\t\t\t\tconst ctx = getContext();\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\tif ( ! ctx.isSearchInputVisible ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tctx.isSearchInputVisible = true;\n\t\t\t\t\tref.parentElement.querySelector( 'input' ).focus();\n\t\t\t\t}\n\t\t\t} ),\n\t\t\tcloseSearchInput() {\n\t\t\t\tconst ctx = getContext();\n\t\t\t\tctx.isSearchInputVisible = false;\n\t\t\t},\n\t\t\thandleSearchKeydown: withSyncEvent( ( event ) => {\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\t// If Escape close the menu.\n\t\t\t\tif ( event?.key === 'Escape' ) {\n\t\t\t\t\tactions.closeSearchInput();\n\t\t\t\t\tref.querySelector( 'button' ).focus();\n\t\t\t\t}\n\t\t\t} ),\n\t\t\thandleSearchFocusout: withSyncEvent( ( event ) => {\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\t// If focus is outside search form, and in the document, close menu\n\t\t\t\t// event.target === The element losing focus\n\t\t\t\t// event.relatedTarget === The element receiving focus (if any)\n\t\t\t\t// When focusout is outside the document,\n\t\t\t\t// `window.document.activeElement` doesn't change.\n\t\t\t\tif (\n\t\t\t\t\t! ref.contains( event.relatedTarget ) &&\n\t\t\t\t\tevent.target !== window.document.activeElement\n\t\t\t\t) {\n\t\t\t\t\tactions.closeSearchInput();\n\t\t\t\t}\n\t\t\t} ),\n\t\t},\n\t},\n\t{ lock: true }\n);\n"],
  "mappings": ";AAGA;EACC;EACA;EACA;EACA;OACM;AAEP,IAAM,EAAE,QAAQ,IAAI;EACnB;EACA;IACC,OAAO;MACN,IAAI,YAAY;AACf,cAAM;UACL;UACA;UACA;QACD,IAAI,WAAW;AACf,eAAO,uBACJ,oBACA;MACJ;MACA,IAAI,eAAe;AAClB,cAAM,EAAE,sBAAsB,QAAQ,IAAI,WAAW;AACrD,eAAO,uBAAuB,OAAO;MACtC;MACA,IAAI,OAAO;AACV,cAAM,EAAE,qBAAqB,IAAI,WAAW;AAC5C,eAAO,uBAAuB,WAAW;MAC1C;MACA,IAAI,WAAW;AACd,cAAM,EAAE,qBAAqB,IAAI,WAAW;AAC5C,eAAO,uBAAuB,MAAM;MACrC;IACD;IACA,SAAS;MACR,iBAAiB,cAAe,CAAE,UAAW;AAC5C,cAAM,MAAM,WAAW;AACvB,cAAM,EAAE,IAAI,IAAI,WAAW;AAC3B,YAAK,CAAE,IAAI,sBAAuB;AACjC,gBAAM,eAAe;AACrB,cAAI,uBAAuB;AAC3B,cAAI,cAAc,cAAe,OAAQ,EAAE,MAAM;QAClD;MACD,CAAE;MACF,mBAAmB;AAClB,cAAM,MAAM,WAAW;AACvB,YAAI,uBAAuB;MAC5B;MACA,qBAAqB,cAAe,CAAE,UAAW;AAChD,cAAM,EAAE,IAAI,IAAI,WAAW;AAE3B,YAAK,OAAO,QAAQ,UAAW;AAC9B,kBAAQ,iBAAiB;AACzB,cAAI,cAAe,QAAS,EAAE,MAAM;QACrC;MACD,CAAE;MACF,sBAAsB,cAAe,CAAE,UAAW;AACjD,cAAM,EAAE,IAAI,IAAI,WAAW;AAM3B,YACC,CAAE,IAAI,SAAU,MAAM,aAAc,KACpC,MAAM,WAAW,OAAO,SAAS,eAChC;AACD,kBAAQ,iBAAiB;QAC1B;MACD,CAAE;IACH;EACD;EACA,EAAE,MAAM,KAAK;AACd;",
  "names": []
}
