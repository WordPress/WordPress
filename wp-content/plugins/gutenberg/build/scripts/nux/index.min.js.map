{
  "version": 3,
  "sources": ["package-external:@wordpress/deprecated", "package-external:@wordpress/data", "package-external:@wordpress/compose", "package-external:@wordpress/components", "package-external:@wordpress/i18n", "package-external:@wordpress/element", "package-external:@wordpress/primitives", "vendor-external:react/jsx-runtime", "../../../packages/nux/src/index.js", "../../../packages/nux/src/store/index.js", "../../../packages/nux/src/store/reducer.js", "../../../packages/nux/src/store/actions.js", "../../../packages/nux/src/store/selectors.js", "../../../packages/nux/src/components/dot-tip/index.js", "../../../packages/icons/src/library/close.tsx"],
  "sourcesContent": ["module.exports = window.wp.deprecated;", "module.exports = window.wp.data;", "module.exports = window.wp.compose;", "module.exports = window.wp.components;", "module.exports = window.wp.i18n;", "module.exports = window.wp.element;", "module.exports = window.wp.primitives;", "module.exports = window.ReactJSXRuntime;", "/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\nexport { store } from './store';\nexport { default as DotTip } from './components/dot-tip';\n\ndeprecated( 'wp.nux', {\n\tsince: '5.4',\n\thint: 'wp.components.Guide can be used to show a user guide.',\n\tversion: '6.2',\n} );\n", "/**\n * WordPress dependencies\n */\nimport { createReduxStore, registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\n\nconst STORE_NAME = 'core/nux';\n\n/**\n * Store definition for the nux namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n\tpersist: [ 'preferences' ],\n} );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregisterStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n\tpersist: [ 'preferences' ],\n} );\n", "/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer that tracks which tips are in a guide. Each guide is represented by\n * an array which contains the tip identifiers contained within that guide.\n *\n * @param {Array}  state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Array} Updated state.\n */\nexport function guides( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'TRIGGER_GUIDE':\n\t\t\treturn [ ...state, action.tipIds ];\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer that tracks whether or not tips are globally enabled.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function areTipsEnabled( state = true, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'DISABLE_TIPS':\n\t\t\treturn false;\n\n\t\tcase 'ENABLE_TIPS':\n\t\t\treturn true;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer that tracks which tips have been dismissed. If the state object\n * contains a tip identifier, then that tip is dismissed.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function dismissedTips( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'DISMISS_TIP':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.id ]: true,\n\t\t\t};\n\n\t\tcase 'ENABLE_TIPS':\n\t\t\treturn {};\n\t}\n\n\treturn state;\n}\n\nconst preferences = combineReducers( { areTipsEnabled, dismissedTips } );\n\nexport default combineReducers( { guides, preferences } );\n", "/**\n * Returns an action object that, when dispatched, presents a guide that takes\n * the user through a series of tips step by step.\n *\n * @param {string[]} tipIds Which tips to show in the guide.\n *\n * @return {Object} Action object.\n */\nexport function triggerGuide( tipIds ) {\n\treturn {\n\t\ttype: 'TRIGGER_GUIDE',\n\t\ttipIds,\n\t};\n}\n\n/**\n * Returns an action object that, when dispatched, dismisses the given tip. A\n * dismissed tip will not show again.\n *\n * @param {string} id The tip to dismiss.\n *\n * @return {Object} Action object.\n */\nexport function dismissTip( id ) {\n\treturn {\n\t\ttype: 'DISMISS_TIP',\n\t\tid,\n\t};\n}\n\n/**\n * Returns an action object that, when dispatched, prevents all tips from\n * showing again.\n *\n * @return {Object} Action object.\n */\nexport function disableTips() {\n\treturn {\n\t\ttype: 'DISABLE_TIPS',\n\t};\n}\n\n/**\n * Returns an action object that, when dispatched, makes all tips show again.\n *\n * @return {Object} Action object.\n */\nexport function enableTips() {\n\treturn {\n\t\ttype: 'ENABLE_TIPS',\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { createSelector } from '@wordpress/data';\n\n/**\n * An object containing information about a guide.\n *\n * @typedef {Object} NUXGuideInfo\n * @property {string[]} tipIds       Which tips the guide contains.\n * @property {?string}  currentTipId The guide's currently showing tip.\n * @property {?string}  nextTipId    The guide's next tip to show.\n */\n\n/**\n * Returns an object describing the guide, if any, that the given tip is a part\n * of.\n *\n * @param {Object} state Global application state.\n * @param {string} tipId The tip to query.\n *\n * @return {?NUXGuideInfo} Information about the associated guide.\n */\nexport const getAssociatedGuide = createSelector(\n\t( state, tipId ) => {\n\t\tfor ( const tipIds of state.guides ) {\n\t\t\tif ( tipIds.includes( tipId ) ) {\n\t\t\t\tconst nonDismissedTips = tipIds.filter(\n\t\t\t\t\t( tId ) =>\n\t\t\t\t\t\t! Object.keys(\n\t\t\t\t\t\t\tstate.preferences.dismissedTips\n\t\t\t\t\t\t).includes( tId )\n\t\t\t\t);\n\t\t\t\tconst [ currentTipId = null, nextTipId = null ] =\n\t\t\t\t\tnonDismissedTips;\n\t\t\t\treturn { tipIds, currentTipId, nextTipId };\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\t( state ) => [ state.guides, state.preferences.dismissedTips ]\n);\n\n/**\n * Determines whether or not the given tip is showing. Tips are hidden if they\n * are disabled, have been dismissed, or are not the current tip in any\n * guide that they have been added to.\n *\n * @param {Object} state Global application state.\n * @param {string} tipId The tip to query.\n *\n * @return {boolean} Whether or not the given tip is showing.\n */\nexport function isTipVisible( state, tipId ) {\n\tif ( ! state.preferences.areTipsEnabled ) {\n\t\treturn false;\n\t}\n\n\tif ( state.preferences.dismissedTips?.hasOwnProperty( tipId ) ) {\n\t\treturn false;\n\t}\n\n\tconst associatedGuide = getAssociatedGuide( state, tipId );\n\tif ( associatedGuide && associatedGuide.currentTipId !== tipId ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns whether or not tips are globally enabled.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether tips are globally enabled.\n */\nexport function areTipsEnabled( state ) {\n\treturn state.preferences.areTipsEnabled;\n}\n", "/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { Popover, Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { useCallback, useRef } from '@wordpress/element';\nimport { close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as nuxStore } from '../../store';\n\nfunction onClick( event ) {\n\t// Tips are often nested within buttons. We stop propagation so that clicking\n\t// on a tip doesn't result in the button being clicked.\n\tevent.stopPropagation();\n}\n\nexport function DotTip( {\n\tposition = 'middle right',\n\tchildren,\n\tisVisible,\n\thasNextTip,\n\tonDismiss,\n\tonDisable,\n} ) {\n\tconst anchorParent = useRef( null );\n\tconst onFocusOutsideCallback = useCallback(\n\t\t( event ) => {\n\t\t\tif ( ! anchorParent.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( anchorParent.current.contains( event.relatedTarget ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonDisable();\n\t\t},\n\t\t[ onDisable, anchorParent ]\n\t);\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nux-dot-tip\"\n\t\t\tposition={ position }\n\t\t\tfocusOnMount\n\t\t\trole=\"dialog\"\n\t\t\taria-label={ __( 'Editor tips' ) }\n\t\t\tonClick={ onClick }\n\t\t\tonFocusOutside={ onFocusOutsideCallback }\n\t\t>\n\t\t\t<p>{ children }</p>\n\t\t\t<p>\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\tonClick={ onDismiss }\n\t\t\t\t>\n\t\t\t\t\t{ hasNextTip ? __( 'See next tip' ) : __( 'Got it' ) }\n\t\t\t\t</Button>\n\t\t\t</p>\n\t\t\t<Button\n\t\t\t\tsize=\"small\"\n\t\t\t\tclassName=\"nux-dot-tip__disable\"\n\t\t\t\ticon={ close }\n\t\t\t\tlabel={ __( 'Disable tips' ) }\n\t\t\t\tonClick={ onDisable }\n\t\t\t/>\n\t\t</Popover>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, { tipId } ) => {\n\t\tconst { isTipVisible, getAssociatedGuide } = select( nuxStore );\n\t\tconst associatedGuide = getAssociatedGuide( tipId );\n\t\treturn {\n\t\t\tisVisible: isTipVisible( tipId ),\n\t\t\thasNextTip: !! ( associatedGuide && associatedGuide.nextTipId ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { tipId } ) => {\n\t\tconst { dismissTip, disableTips } = dispatch( nuxStore );\n\t\treturn {\n\t\t\tonDismiss() {\n\t\t\t\tdismissTip( tipId );\n\t\t\t},\n\t\t\tonDisable() {\n\t\t\t\tdisableTips();\n\t\t\t},\n\t\t};\n\t} )\n)( DotTip );\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z\" />\n\t</SVG>\n);\n"],
  "mappings": "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",
  "names": ["require_deprecated", "__commonJSMin", "exports", "module", "require_data", "__commonJSMin", "exports", "module", "require_compose", "__commonJSMin", "exports", "module", "require_components", "__commonJSMin", "exports", "module", "require_i18n", "__commonJSMin", "exports", "module", "require_element", "__commonJSMin", "exports", "module", "require_primitives", "__commonJSMin", "exports", "module", "require_jsx_runtime", "__commonJSMin", "exports", "module", "import_deprecated", "import_data", "import_data", "guides", "state", "action", "areTipsEnabled", "dismissedTips", "preferences", "reducer_default", "triggerGuide", "tipIds", "dismissTip", "id", "disableTips", "enableTips", "import_data", "getAssociatedGuide", "state", "tipId", "tipIds", "nonDismissedTips", "tId", "currentTipId", "nextTipId", "isTipVisible", "associatedGuide", "areTipsEnabled", "STORE_NAME", "store", "reducer_default", "actions_exports", "selectors_exports", "import_compose", "import_components", "import_i18n", "import_data", "import_element", "import_primitives", "import_jsx_runtime", "close_default", "import_jsx_runtime", "onClick", "event", "DotTip", "position", "children", "isVisible", "hasNextTip", "onDismiss", "onDisable", "anchorParent", "onFocusOutsideCallback", "close_default", "dot_tip_default", "select", "tipId", "isTipVisible", "getAssociatedGuide", "store", "associatedGuide", "dispatch", "dismissTip", "disableTips", "deprecated"]
}
