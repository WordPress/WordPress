{
  "version": 3,
  "sources": ["package-external:@wordpress/element", "package-external:@wordpress/i18n", "package-external:@wordpress/blob", "package-external:@wordpress/api-fetch", "package-external:@wordpress/core-data", "package-external:@wordpress/data", "package-external:@wordpress/components", "package-external:@wordpress/primitives", "vendor-external:react/jsx-runtime", "package-external:@wordpress/compose", "package-external:@wordpress/keycodes", "package-external:@wordpress/private-apis", "vendor-external:react", "../../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js", "../../../node_modules/use-sync-external-store/shim/index.js", "vendor-external:react-dom", "../../../node_modules/remove-accents/index.js", "../../../node_modules/fast-deep-equal/es6/index.js", "package-external:@wordpress/date", "package-external:@wordpress/warning", "../../../packages/media-utils/src/components/media-upload/index.js", "../../../packages/media-utils/src/utils/upload-media.ts", "../../../packages/media-utils/src/utils/upload-to-server.ts", "../../../packages/media-utils/src/utils/flatten-form-data.ts", "../../../packages/media-utils/src/utils/transform-attachment.ts", "../../../packages/media-utils/src/utils/validate-mime-type.ts", "../../../packages/media-utils/src/utils/upload-error.ts", "../../../packages/media-utils/src/utils/validate-mime-type-for-user.ts", "../../../packages/media-utils/src/utils/get-mime-types-array.ts", "../../../packages/media-utils/src/utils/validate-file-size.ts", "../../../packages/media-utils/src/utils/sideload-media.ts", "../../../packages/media-utils/src/utils/sideload-to-server.ts", "../../../packages/media-utils/src/components/media-upload-modal/index.tsx", "../../../packages/icons/src/library/arrow-down.tsx", "../../../packages/icons/src/library/arrow-left.tsx", "../../../packages/icons/src/library/arrow-right.tsx", "../../../packages/icons/src/library/arrow-up.tsx", "../../../packages/icons/src/library/at-symbol.tsx", "../../../packages/icons/src/library/block-table.tsx", "../../../packages/icons/src/library/category.tsx", "../../../packages/icons/src/library/check.tsx", "../../../packages/icons/src/library/close-small.tsx", "../../../packages/icons/src/library/cog.tsx", "../../../packages/icons/src/library/error.tsx", "../../../packages/icons/src/library/format-list-bullets-rtl.tsx", "../../../packages/icons/src/library/format-list-bullets.tsx", "../../../packages/icons/src/library/funnel.tsx", "../../../packages/icons/src/library/link.tsx", "../../../packages/icons/src/library/mobile.tsx", "../../../packages/icons/src/library/more-vertical.tsx", "../../../packages/icons/src/library/next.tsx", "../../../packages/icons/src/library/previous.tsx", "../../../packages/icons/src/library/search.tsx", "../../../packages/icons/src/library/seen.tsx", "../../../packages/icons/src/library/unseen.tsx", "../../../packages/icons/src/library/upload.tsx", "../../../packages/dataviews/src/components/dataviews-context/index.ts", "../../../packages/dataviews/src/constants.ts", "../../../packages/dataviews/src/dataviews-layouts/index.ts", "../../../node_modules/clsx/dist/clsx.mjs", "../../../packages/dataviews/src/dataviews-layouts/table/index.tsx", "../../../packages/dataviews/src/components/dataviews-selection-checkbox/index.tsx", "../../../packages/dataviews/src/components/dataviews-item-actions/index.tsx", "../../../packages/dataviews/src/lock-unlock.ts", "../../../packages/dataviews/src/components/dataviews-bulk-actions/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/column-header-menu.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/column-primary.tsx", "../../../packages/dataviews/src/dataviews-layouts/utils/item-click-wrapper.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/use-is-horizontal-scroll-end.ts", "../../../packages/dataviews/src/dataviews-layouts/utils/get-data-by-group.ts", "../../../packages/dataviews/src/components/dataviews-view-config/properties-section.tsx", "../../../packages/dataviews/src/dataviews-layouts/grid/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/utils/grid-items.tsx", "../../../packages/dataviews/src/dataviews-layouts/list/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/picker-grid/index.tsx", "../../../packages/dataviews/src/components/dataviews-picker/footer.tsx", "../../../packages/dataviews/src/components/dataviews-pagination/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/picker-table/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/utils/preview-size-picker.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/density-picker.tsx", "../../../packages/dataviews/src/components/dataviews-filters/filters.tsx", "../../../packages/dataviews/src/components/dataviews-filters/filter.tsx", "../../../node_modules/@ariakit/react-core/esm/__chunks/3YLGPPWQ.js", "../../../node_modules/@ariakit/core/esm/__chunks/3YLGPPWQ.js", "../../../node_modules/@ariakit/core/esm/__chunks/PBFD2E7P.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/SK3NAZA3.js", "../../../node_modules/@ariakit/core/esm/__chunks/DTR5TSDJ.js", "../../../node_modules/@ariakit/core/esm/__chunks/QAGXQEUG.js", "../../../node_modules/@ariakit/core/esm/utils/events.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/ABQUS43J.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/LMDWO4NN.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/VDHZ5F7K.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/P7GR5CS5.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/3XAVFTCA.js", "../../../node_modules/@ariakit/core/esm/__chunks/BCALMBPZ.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/YV4JVR4I.js", "../../../node_modules/@ariakit/core/esm/__chunks/CYQWQL4J.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/C3IKGW5T.js", "../../../node_modules/@ariakit/core/esm/__chunks/7PRQYBBV.js", "../../../node_modules/@ariakit/core/esm/__chunks/AJZ4BYF3.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/4CMBR7SL.js", "../../../node_modules/@ariakit/core/esm/__chunks/RCQ5P4YE.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/WYCIER3C.js", "../../../node_modules/@ariakit/core/esm/__chunks/FZZ2AVHF.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/BM6PGYQY.js", "../../../node_modules/@ariakit/core/esm/__chunks/ME2CUF3F.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/O2PQ2652.js", "../../../node_modules/@ariakit/core/esm/combobox/combobox-store.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/FEOFMWBY.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/S6EF7IVO.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/RS7LB2H4.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/MTZPJQMC.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/VEVQD5MH.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/OMU7RWRV.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/5VQZOHHZ.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/SWN3JYXT.js", "../../../node_modules/@ariakit/core/esm/utils/focus.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/LVA2YJMS.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/ITI7HKP4.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox-provider.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/KUU7WJ55.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox-item-value.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/UQQRIHDV.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/RZ4GPYOB.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/P2CTZE2T.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/ZTDSJLD6.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox-label.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/VGCJ63VH.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/HUWAI7RB.js", "../../../packages/dataviews/src/components/dataviews-filters/search-widget.tsx", "../../../packages/dataviews/src/components/dataviews-filters/utils.ts", "../../../packages/dataviews/src/hooks/use-elements.ts", "../../../packages/dataviews/src/components/dataviews-filters/input-widget.tsx", "../../../packages/dataviews/node_modules/date-fns/constants.js", "../../../packages/dataviews/node_modules/date-fns/constructFrom.js", "../../../packages/dataviews/node_modules/date-fns/toDate.js", "../../../packages/dataviews/node_modules/date-fns/addDays.js", "../../../packages/dataviews/node_modules/date-fns/addMonths.js", "../../../packages/dataviews/node_modules/date-fns/_lib/defaultOptions.js", "../../../packages/dataviews/node_modules/date-fns/startOfWeek.js", "../../../packages/dataviews/node_modules/date-fns/startOfISOWeek.js", "../../../packages/dataviews/node_modules/date-fns/getISOWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js", "../../../packages/dataviews/node_modules/date-fns/_lib/normalizeDates.js", "../../../packages/dataviews/node_modules/date-fns/startOfDay.js", "../../../packages/dataviews/node_modules/date-fns/differenceInCalendarDays.js", "../../../packages/dataviews/node_modules/date-fns/startOfISOWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/addYears.js", "../../../packages/dataviews/node_modules/date-fns/isDate.js", "../../../packages/dataviews/node_modules/date-fns/isValid.js", "../../../packages/dataviews/node_modules/date-fns/startOfMonth.js", "../../../packages/dataviews/node_modules/date-fns/startOfYear.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatDistance.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildFormatLongFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatLong.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatRelative.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildLocalizeFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/localize.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildMatchFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildMatchPatternFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/match.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US.js", "../../../packages/dataviews/node_modules/date-fns/getDayOfYear.js", "../../../packages/dataviews/node_modules/date-fns/getISOWeek.js", "../../../packages/dataviews/node_modules/date-fns/getWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/startOfWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/getWeek.js", "../../../packages/dataviews/node_modules/date-fns/_lib/addLeadingZeros.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/lightFormatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/formatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/longFormatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/protectedTokens.js", "../../../packages/dataviews/node_modules/date-fns/format.js", "../../../packages/dataviews/node_modules/date-fns/subDays.js", "../../../packages/dataviews/node_modules/date-fns/subMonths.js", "../../../packages/dataviews/node_modules/date-fns/subYears.js", "../../../packages/dataviews/src/field-types/utils/parse-date-time.ts", "../../../packages/dataviews/src/components/dataviews-filters/add-filter.tsx", "../../../packages/dataviews/src/components/dataviews-filters/reset-filters.tsx", "../../../packages/dataviews/src/components/dataviews-filters/use-filters.ts", "../../../packages/dataviews/src/components/dataviews-filters/toggle.tsx", "../../../packages/dataviews/src/components/dataviews-filters/filters-toggled.tsx", "../../../packages/dataviews/src/components/dataviews-layout/index.tsx", "../../../packages/dataviews/src/components/dataviews-search/index.tsx", "../../../packages/dataviews/src/components/dataviews-view-config/index.tsx", "../../../packages/dataviews/src/components/dataviews-view-config/infinite-scroll-toggle.tsx", "../../../packages/dataviews/src/field-types/email.tsx", "../../../packages/dataviews/src/field-types/utils/render-from-elements.tsx", "../../../packages/dataviews/src/field-types/integer.tsx", "../../../packages/dataviews/src/field-types/number.tsx", "../../../packages/dataviews/src/field-types/text.tsx", "../../../packages/dataviews/src/field-types/datetime.tsx", "../../../packages/dataviews/src/field-types/date.tsx", "../../../packages/dataviews/src/field-types/boolean.tsx", "../../../packages/dataviews/src/field-types/media.tsx", "../../../packages/dataviews/src/field-types/array.tsx", "../../../packages/dataviews/src/field-types/password.tsx", "../../../packages/dataviews/src/field-types/telephone.tsx", "../../../node_modules/colord/index.mjs", "../../../packages/dataviews/src/field-types/color.tsx", "../../../packages/dataviews/src/field-types/url.tsx", "../../../packages/dataviews/src/field-types/index.tsx", "../../../packages/dataviews/src/dataform-controls/checkbox.tsx", "../../../packages/dataviews/src/dataform-controls/utils/get-custom-validity.ts", "../../../packages/dataviews/src/dataform-controls/datetime.tsx", "../../../packages/dataviews/src/dataform-controls/utils/relative-date-control.tsx", "../../../packages/dataviews/src/dataform-controls/date.tsx", "../../../packages/dataviews/src/dataform-controls/email.tsx", "../../../packages/dataviews/src/dataform-controls/utils/validated-input.tsx", "../../../packages/dataviews/src/dataform-controls/telephone.tsx", "../../../packages/dataviews/src/dataform-controls/url.tsx", "../../../packages/dataviews/src/dataform-controls/utils/validated-number.tsx", "../../../packages/dataviews/src/dataform-controls/integer.tsx", "../../../packages/dataviews/src/dataform-controls/number.tsx", "../../../packages/dataviews/src/dataform-controls/radio.tsx", "../../../packages/dataviews/src/dataform-controls/select.tsx", "../../../packages/dataviews/src/dataform-controls/text.tsx", "../../../packages/dataviews/src/dataform-controls/toggle.tsx", "../../../packages/dataviews/src/dataform-controls/textarea.tsx", "../../../packages/dataviews/src/dataform-controls/toggle-group.tsx", "../../../packages/dataviews/src/dataform-controls/array.tsx", "../../../packages/dataviews/src/dataform-controls/color.tsx", "../../../packages/dataviews/src/dataform-controls/password.tsx", "../../../packages/dataviews/src/utils/has-elements.ts", "../../../packages/dataviews/src/dataform-controls/index.tsx", "../../../packages/dataviews/src/utils/normalize-fields.ts", "../../../packages/dataviews/src/components/dataviews-picker/index.tsx", "../../../packages/media-utils/src/lock-unlock.ts", "../../../packages/media-utils/src/private-apis.ts"],
  "sourcesContent": ["module.exports = window.wp.element;", "module.exports = window.wp.i18n;", "module.exports = window.wp.blob;", "module.exports = window.wp.apiFetch;", "module.exports = window.wp.coreData;", "module.exports = window.wp.data;", "module.exports = window.wp.components;", "module.exports = window.wp.primitives;", "module.exports = window.ReactJSXRuntime;", "module.exports = window.wp.compose;", "module.exports = window.wp.keycodes;", "module.exports = window.wp.privateApis;", "module.exports = window.React;", "/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n", "module.exports = window.ReactDOM;", "var characterMap = {\n\t\"\u00C0\": \"A\",\n\t\"\u00C1\": \"A\",\n\t\"\u00C2\": \"A\",\n\t\"\u00C3\": \"A\",\n\t\"\u00C4\": \"A\",\n\t\"\u00C5\": \"A\",\n\t\"\u1EA4\": \"A\",\n\t\"\u1EAE\": \"A\",\n\t\"\u1EB2\": \"A\",\n\t\"\u1EB4\": \"A\",\n\t\"\u1EB6\": \"A\",\n\t\"\u00C6\": \"AE\",\n\t\"\u1EA6\": \"A\",\n\t\"\u1EB0\": \"A\",\n\t\"\u0202\": \"A\",\n\t\"\u1EA2\": \"A\",\n\t\"\u1EA0\": \"A\",\n\t\"\u1EA8\": \"A\",\n\t\"\u1EAA\": \"A\",\n\t\"\u1EAC\": \"A\",\n\t\"\u00C7\": \"C\",\n\t\"\u1E08\": \"C\",\n\t\"\u00C8\": \"E\",\n\t\"\u00C9\": \"E\",\n\t\"\u00CA\": \"E\",\n\t\"\u00CB\": \"E\",\n\t\"\u1EBE\": \"E\",\n\t\"\u1E16\": \"E\",\n\t\"\u1EC0\": \"E\",\n\t\"\u1E14\": \"E\",\n\t\"\u1E1C\": \"E\",\n\t\"\u0206\": \"E\",\n\t\"\u1EBA\": \"E\",\n\t\"\u1EBC\": \"E\",\n\t\"\u1EB8\": \"E\",\n\t\"\u1EC2\": \"E\",\n\t\"\u1EC4\": \"E\",\n\t\"\u1EC6\": \"E\",\n\t\"\u00CC\": \"I\",\n\t\"\u00CD\": \"I\",\n\t\"\u00CE\": \"I\",\n\t\"\u00CF\": \"I\",\n\t\"\u1E2E\": \"I\",\n\t\"\u020A\": \"I\",\n\t\"\u1EC8\": \"I\",\n\t\"\u1ECA\": \"I\",\n\t\"\u00D0\": \"D\",\n\t\"\u00D1\": \"N\",\n\t\"\u00D2\": \"O\",\n\t\"\u00D3\": \"O\",\n\t\"\u00D4\": \"O\",\n\t\"\u00D5\": \"O\",\n\t\"\u00D6\": \"O\",\n\t\"\u00D8\": \"O\",\n\t\"\u1ED0\": \"O\",\n\t\"\u1E4C\": \"O\",\n\t\"\u1E52\": \"O\",\n\t\"\u020E\": \"O\",\n\t\"\u1ECE\": \"O\",\n\t\"\u1ECC\": \"O\",\n\t\"\u1ED4\": \"O\",\n\t\"\u1ED6\": \"O\",\n\t\"\u1ED8\": \"O\",\n\t\"\u1EDC\": \"O\",\n\t\"\u1EDE\": \"O\",\n\t\"\u1EE0\": \"O\",\n\t\"\u1EDA\": \"O\",\n\t\"\u1EE2\": \"O\",\n\t\"\u00D9\": \"U\",\n\t\"\u00DA\": \"U\",\n\t\"\u00DB\": \"U\",\n\t\"\u00DC\": \"U\",\n\t\"\u1EE6\": \"U\",\n\t\"\u1EE4\": \"U\",\n\t\"\u1EEC\": \"U\",\n\t\"\u1EEE\": \"U\",\n\t\"\u1EF0\": \"U\",\n\t\"\u00DD\": \"Y\",\n\t\"\u00E0\": \"a\",\n\t\"\u00E1\": \"a\",\n\t\"\u00E2\": \"a\",\n\t\"\u00E3\": \"a\",\n\t\"\u00E4\": \"a\",\n\t\"\u00E5\": \"a\",\n\t\"\u1EA5\": \"a\",\n\t\"\u1EAF\": \"a\",\n\t\"\u1EB3\": \"a\",\n\t\"\u1EB5\": \"a\",\n\t\"\u1EB7\": \"a\",\n\t\"\u00E6\": \"ae\",\n\t\"\u1EA7\": \"a\",\n\t\"\u1EB1\": \"a\",\n\t\"\u0203\": \"a\",\n\t\"\u1EA3\": \"a\",\n\t\"\u1EA1\": \"a\",\n\t\"\u1EA9\": \"a\",\n\t\"\u1EAB\": \"a\",\n\t\"\u1EAD\": \"a\",\n\t\"\u00E7\": \"c\",\n\t\"\u1E09\": \"c\",\n\t\"\u00E8\": \"e\",\n\t\"\u00E9\": \"e\",\n\t\"\u00EA\": \"e\",\n\t\"\u00EB\": \"e\",\n\t\"\u1EBF\": \"e\",\n\t\"\u1E17\": \"e\",\n\t\"\u1EC1\": \"e\",\n\t\"\u1E15\": \"e\",\n\t\"\u1E1D\": \"e\",\n\t\"\u0207\": \"e\",\n\t\"\u1EBB\": \"e\",\n\t\"\u1EBD\": \"e\",\n\t\"\u1EB9\": \"e\",\n\t\"\u1EC3\": \"e\",\n\t\"\u1EC5\": \"e\",\n\t\"\u1EC7\": \"e\",\n\t\"\u00EC\": \"i\",\n\t\"\u00ED\": \"i\",\n\t\"\u00EE\": \"i\",\n\t\"\u00EF\": \"i\",\n\t\"\u1E2F\": \"i\",\n\t\"\u020B\": \"i\",\n\t\"\u1EC9\": \"i\",\n\t\"\u1ECB\": \"i\",\n\t\"\u00F0\": \"d\",\n\t\"\u00F1\": \"n\",\n\t\"\u00F2\": \"o\",\n\t\"\u00F3\": \"o\",\n\t\"\u00F4\": \"o\",\n\t\"\u00F5\": \"o\",\n\t\"\u00F6\": \"o\",\n\t\"\u00F8\": \"o\",\n\t\"\u1ED1\": \"o\",\n\t\"\u1E4D\": \"o\",\n\t\"\u1E53\": \"o\",\n\t\"\u020F\": \"o\",\n\t\"\u1ECF\": \"o\",\n\t\"\u1ECD\": \"o\",\n\t\"\u1ED5\": \"o\",\n\t\"\u1ED7\": \"o\",\n\t\"\u1ED9\": \"o\",\n\t\"\u1EDD\": \"o\",\n\t\"\u1EDF\": \"o\",\n\t\"\u1EE1\": \"o\",\n\t\"\u1EDB\": \"o\",\n\t\"\u1EE3\": \"o\",\n\t\"\u00F9\": \"u\",\n\t\"\u00FA\": \"u\",\n\t\"\u00FB\": \"u\",\n\t\"\u00FC\": \"u\",\n\t\"\u1EE7\": \"u\",\n\t\"\u1EE5\": \"u\",\n\t\"\u1EED\": \"u\",\n\t\"\u1EEF\": \"u\",\n\t\"\u1EF1\": \"u\",\n\t\"\u00FD\": \"y\",\n\t\"\u00FF\": \"y\",\n\t\"\u0100\": \"A\",\n\t\"\u0101\": \"a\",\n\t\"\u0102\": \"A\",\n\t\"\u0103\": \"a\",\n\t\"\u0104\": \"A\",\n\t\"\u0105\": \"a\",\n\t\"\u0106\": \"C\",\n\t\"\u0107\": \"c\",\n\t\"\u0108\": \"C\",\n\t\"\u0109\": \"c\",\n\t\"\u010A\": \"C\",\n\t\"\u010B\": \"c\",\n\t\"\u010C\": \"C\",\n\t\"\u010D\": \"c\",\n\t\"C\u0306\": \"C\",\n\t\"c\u0306\": \"c\",\n\t\"\u010E\": \"D\",\n\t\"\u010F\": \"d\",\n\t\"\u0110\": \"D\",\n\t\"\u0111\": \"d\",\n\t\"\u0112\": \"E\",\n\t\"\u0113\": \"e\",\n\t\"\u0114\": \"E\",\n\t\"\u0115\": \"e\",\n\t\"\u0116\": \"E\",\n\t\"\u0117\": \"e\",\n\t\"\u0118\": \"E\",\n\t\"\u0119\": \"e\",\n\t\"\u011A\": \"E\",\n\t\"\u011B\": \"e\",\n\t\"\u011C\": \"G\",\n\t\"\u01F4\": \"G\",\n\t\"\u011D\": \"g\",\n\t\"\u01F5\": \"g\",\n\t\"\u011E\": \"G\",\n\t\"\u011F\": \"g\",\n\t\"\u0120\": \"G\",\n\t\"\u0121\": \"g\",\n\t\"\u0122\": \"G\",\n\t\"\u0123\": \"g\",\n\t\"\u0124\": \"H\",\n\t\"\u0125\": \"h\",\n\t\"\u0126\": \"H\",\n\t\"\u0127\": \"h\",\n\t\"\u1E2A\": \"H\",\n\t\"\u1E2B\": \"h\",\n\t\"\u0128\": \"I\",\n\t\"\u0129\": \"i\",\n\t\"\u012A\": \"I\",\n\t\"\u012B\": \"i\",\n\t\"\u012C\": \"I\",\n\t\"\u012D\": \"i\",\n\t\"\u012E\": \"I\",\n\t\"\u012F\": \"i\",\n\t\"\u0130\": \"I\",\n\t\"\u0131\": \"i\",\n\t\"\u0132\": \"IJ\",\n\t\"\u0133\": \"ij\",\n\t\"\u0134\": \"J\",\n\t\"\u0135\": \"j\",\n\t\"\u0136\": \"K\",\n\t\"\u0137\": \"k\",\n\t\"\u1E30\": \"K\",\n\t\"\u1E31\": \"k\",\n\t\"K\u0306\": \"K\",\n\t\"k\u0306\": \"k\",\n\t\"\u0139\": \"L\",\n\t\"\u013A\": \"l\",\n\t\"\u013B\": \"L\",\n\t\"\u013C\": \"l\",\n\t\"\u013D\": \"L\",\n\t\"\u013E\": \"l\",\n\t\"\u013F\": \"L\",\n\t\"\u0140\": \"l\",\n\t\"\u0141\": \"l\",\n\t\"\u0142\": \"l\",\n\t\"\u1E3E\": \"M\",\n\t\"\u1E3F\": \"m\",\n\t\"M\u0306\": \"M\",\n\t\"m\u0306\": \"m\",\n\t\"\u0143\": \"N\",\n\t\"\u0144\": \"n\",\n\t\"\u0145\": \"N\",\n\t\"\u0146\": \"n\",\n\t\"\u0147\": \"N\",\n\t\"\u0148\": \"n\",\n\t\"\u0149\": \"n\",\n\t\"N\u0306\": \"N\",\n\t\"n\u0306\": \"n\",\n\t\"\u014C\": \"O\",\n\t\"\u014D\": \"o\",\n\t\"\u014E\": \"O\",\n\t\"\u014F\": \"o\",\n\t\"\u0150\": \"O\",\n\t\"\u0151\": \"o\",\n\t\"\u0152\": \"OE\",\n\t\"\u0153\": \"oe\",\n\t\"P\u0306\": \"P\",\n\t\"p\u0306\": \"p\",\n\t\"\u0154\": \"R\",\n\t\"\u0155\": \"r\",\n\t\"\u0156\": \"R\",\n\t\"\u0157\": \"r\",\n\t\"\u0158\": \"R\",\n\t\"\u0159\": \"r\",\n\t\"R\u0306\": \"R\",\n\t\"r\u0306\": \"r\",\n\t\"\u0212\": \"R\",\n\t\"\u0213\": \"r\",\n\t\"\u015A\": \"S\",\n\t\"\u015B\": \"s\",\n\t\"\u015C\": \"S\",\n\t\"\u015D\": \"s\",\n\t\"\u015E\": \"S\",\n\t\"\u0218\": \"S\",\n\t\"\u0219\": \"s\",\n\t\"\u015F\": \"s\",\n\t\"\u0160\": \"S\",\n\t\"\u0161\": \"s\",\n\t\"\u0162\": \"T\",\n\t\"\u0163\": \"t\",\n\t\"\u021B\": \"t\",\n\t\"\u021A\": \"T\",\n\t\"\u0164\": \"T\",\n\t\"\u0165\": \"t\",\n\t\"\u0166\": \"T\",\n\t\"\u0167\": \"t\",\n\t\"T\u0306\": \"T\",\n\t\"t\u0306\": \"t\",\n\t\"\u0168\": \"U\",\n\t\"\u0169\": \"u\",\n\t\"\u016A\": \"U\",\n\t\"\u016B\": \"u\",\n\t\"\u016C\": \"U\",\n\t\"\u016D\": \"u\",\n\t\"\u016E\": \"U\",\n\t\"\u016F\": \"u\",\n\t\"\u0170\": \"U\",\n\t\"\u0171\": \"u\",\n\t\"\u0172\": \"U\",\n\t\"\u0173\": \"u\",\n\t\"\u0216\": \"U\",\n\t\"\u0217\": \"u\",\n\t\"V\u0306\": \"V\",\n\t\"v\u0306\": \"v\",\n\t\"\u0174\": \"W\",\n\t\"\u0175\": \"w\",\n\t\"\u1E82\": \"W\",\n\t\"\u1E83\": \"w\",\n\t\"X\u0306\": \"X\",\n\t\"x\u0306\": \"x\",\n\t\"\u0176\": \"Y\",\n\t\"\u0177\": \"y\",\n\t\"\u0178\": \"Y\",\n\t\"Y\u0306\": \"Y\",\n\t\"y\u0306\": \"y\",\n\t\"\u0179\": \"Z\",\n\t\"\u017A\": \"z\",\n\t\"\u017B\": \"Z\",\n\t\"\u017C\": \"z\",\n\t\"\u017D\": \"Z\",\n\t\"\u017E\": \"z\",\n\t\"\u017F\": \"s\",\n\t\"\u0192\": \"f\",\n\t\"\u01A0\": \"O\",\n\t\"\u01A1\": \"o\",\n\t\"\u01AF\": \"U\",\n\t\"\u01B0\": \"u\",\n\t\"\u01CD\": \"A\",\n\t\"\u01CE\": \"a\",\n\t\"\u01CF\": \"I\",\n\t\"\u01D0\": \"i\",\n\t\"\u01D1\": \"O\",\n\t\"\u01D2\": \"o\",\n\t\"\u01D3\": \"U\",\n\t\"\u01D4\": \"u\",\n\t\"\u01D5\": \"U\",\n\t\"\u01D6\": \"u\",\n\t\"\u01D7\": \"U\",\n\t\"\u01D8\": \"u\",\n\t\"\u01D9\": \"U\",\n\t\"\u01DA\": \"u\",\n\t\"\u01DB\": \"U\",\n\t\"\u01DC\": \"u\",\n\t\"\u1EE8\": \"U\",\n\t\"\u1EE9\": \"u\",\n\t\"\u1E78\": \"U\",\n\t\"\u1E79\": \"u\",\n\t\"\u01FA\": \"A\",\n\t\"\u01FB\": \"a\",\n\t\"\u01FC\": \"AE\",\n\t\"\u01FD\": \"ae\",\n\t\"\u01FE\": \"O\",\n\t\"\u01FF\": \"o\",\n\t\"\u00DE\": \"TH\",\n\t\"\u00FE\": \"th\",\n\t\"\u1E54\": \"P\",\n\t\"\u1E55\": \"p\",\n\t\"\u1E64\": \"S\",\n\t\"\u1E65\": \"s\",\n\t\"X\u0301\": \"X\",\n\t\"x\u0301\": \"x\",\n\t\"\u0403\": \"\u0413\",\n\t\"\u0453\": \"\u0433\",\n\t\"\u040C\": \"\u041A\",\n\t\"\u045C\": \"\u043A\",\n\t\"A\u030B\": \"A\",\n\t\"a\u030B\": \"a\",\n\t\"E\u030B\": \"E\",\n\t\"e\u030B\": \"e\",\n\t\"I\u030B\": \"I\",\n\t\"i\u030B\": \"i\",\n\t\"\u01F8\": \"N\",\n\t\"\u01F9\": \"n\",\n\t\"\u1ED2\": \"O\",\n\t\"\u1ED3\": \"o\",\n\t\"\u1E50\": \"O\",\n\t\"\u1E51\": \"o\",\n\t\"\u1EEA\": \"U\",\n\t\"\u1EEB\": \"u\",\n\t\"\u1E80\": \"W\",\n\t\"\u1E81\": \"w\",\n\t\"\u1EF2\": \"Y\",\n\t\"\u1EF3\": \"y\",\n\t\"\u0200\": \"A\",\n\t\"\u0201\": \"a\",\n\t\"\u0204\": \"E\",\n\t\"\u0205\": \"e\",\n\t\"\u0208\": \"I\",\n\t\"\u0209\": \"i\",\n\t\"\u020C\": \"O\",\n\t\"\u020D\": \"o\",\n\t\"\u0210\": \"R\",\n\t\"\u0211\": \"r\",\n\t\"\u0214\": \"U\",\n\t\"\u0215\": \"u\",\n\t\"B\u030C\": \"B\",\n\t\"b\u030C\": \"b\",\n\t\"\u010C\u0323\": \"C\",\n\t\"\u010D\u0323\": \"c\",\n\t\"\u00CA\u030C\": \"E\",\n\t\"\u00EA\u030C\": \"e\",\n\t\"F\u030C\": \"F\",\n\t\"f\u030C\": \"f\",\n\t\"\u01E6\": \"G\",\n\t\"\u01E7\": \"g\",\n\t\"\u021E\": \"H\",\n\t\"\u021F\": \"h\",\n\t\"J\u030C\": \"J\",\n\t\"\u01F0\": \"j\",\n\t\"\u01E8\": \"K\",\n\t\"\u01E9\": \"k\",\n\t\"M\u030C\": \"M\",\n\t\"m\u030C\": \"m\",\n\t\"P\u030C\": \"P\",\n\t\"p\u030C\": \"p\",\n\t\"Q\u030C\": \"Q\",\n\t\"q\u030C\": \"q\",\n\t\"\u0158\u0329\": \"R\",\n\t\"\u0159\u0329\": \"r\",\n\t\"\u1E66\": \"S\",\n\t\"\u1E67\": \"s\",\n\t\"V\u030C\": \"V\",\n\t\"v\u030C\": \"v\",\n\t\"W\u030C\": \"W\",\n\t\"w\u030C\": \"w\",\n\t\"X\u030C\": \"X\",\n\t\"x\u030C\": \"x\",\n\t\"Y\u030C\": \"Y\",\n\t\"y\u030C\": \"y\",\n\t\"A\u0327\": \"A\",\n\t\"a\u0327\": \"a\",\n\t\"B\u0327\": \"B\",\n\t\"b\u0327\": \"b\",\n\t\"\u1E10\": \"D\",\n\t\"\u1E11\": \"d\",\n\t\"\u0228\": \"E\",\n\t\"\u0229\": \"e\",\n\t\"\u0190\u0327\": \"E\",\n\t\"\u025B\u0327\": \"e\",\n\t\"\u1E28\": \"H\",\n\t\"\u1E29\": \"h\",\n\t\"I\u0327\": \"I\",\n\t\"i\u0327\": \"i\",\n\t\"\u0197\u0327\": \"I\",\n\t\"\u0268\u0327\": \"i\",\n\t\"M\u0327\": \"M\",\n\t\"m\u0327\": \"m\",\n\t\"O\u0327\": \"O\",\n\t\"o\u0327\": \"o\",\n\t\"Q\u0327\": \"Q\",\n\t\"q\u0327\": \"q\",\n\t\"U\u0327\": \"U\",\n\t\"u\u0327\": \"u\",\n\t\"X\u0327\": \"X\",\n\t\"x\u0327\": \"x\",\n\t\"Z\u0327\": \"Z\",\n\t\"z\u0327\": \"z\",\n\t\"\u0439\":\"\u0438\",\n\t\"\u0419\":\"\u0418\",\n\t\"\u0451\":\"\u0435\",\n\t\"\u0401\":\"\u0415\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "module.exports = window.wp.date;", "module.exports = window.wp.warning;", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nconst DEFAULT_EMPTY_GALLERY = [];\n\n/**\n * Prepares the Featured Image toolbars and frames.\n *\n * @return {window.wp.media.view.MediaFrame.Select} The default media workflow.\n */\nconst getFeaturedImageMediaFrame = () => {\n\tconst { wp } = window;\n\n\treturn wp.media.view.MediaFrame.Select.extend( {\n\t\t/**\n\t\t * Enables the Set Featured Image Button.\n\t\t *\n\t\t * @param {Object} toolbar toolbar for featured image state\n\t\t * @return {void}\n\t\t */\n\t\tfeaturedImageToolbar( toolbar ) {\n\t\t\tthis.createSelectToolbar( toolbar, {\n\t\t\t\ttext: wp.media.view.l10n.setFeaturedImage,\n\t\t\t\tstate: this.options.state,\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Handle the edit state requirements of selected media item.\n\t\t *\n\t\t * @return {void}\n\t\t */\n\t\teditState() {\n\t\t\tconst selection = this.state( 'featured-image' ).get( 'selection' );\n\t\t\tconst view = new wp.media.view.EditImage( {\n\t\t\t\tmodel: selection.single(),\n\t\t\t\tcontroller: this,\n\t\t\t} ).render();\n\n\t\t\t// Set the view to the EditImage frame using the selected image.\n\t\t\tthis.content.set( view );\n\n\t\t\t// After bringing in the frame, load the actual editor via an ajax call.\n\t\t\tview.loadEditor();\n\t\t},\n\n\t\t/**\n\t\t * Create the default states.\n\t\t *\n\t\t * @return {void}\n\t\t */\n\t\tcreateStates: function createStates() {\n\t\t\tthis.on(\n\t\t\t\t'toolbar:create:featured-image',\n\t\t\t\tthis.featuredImageToolbar,\n\t\t\t\tthis\n\t\t\t);\n\t\t\tthis.on( 'content:render:edit-image', this.editState, this );\n\n\t\t\tthis.states.add( [\n\t\t\t\tnew wp.media.controller.FeaturedImage(),\n\t\t\t\tnew wp.media.controller.EditImage( {\n\t\t\t\t\tmodel: this.options.editImage,\n\t\t\t\t} ),\n\t\t\t] );\n\t\t},\n\t} );\n};\n\n/**\n * Prepares the default frame for selecting a single media item.\n *\n * @return {window.wp.media.view.MediaFrame.Select} The default media workflow.\n */\nconst getSingleMediaFrame = () => {\n\tconst { wp } = window;\n\n\t// Extend the default Select frame, and use the same `createStates` method as in core,\n\t// but with the addition of `filterable: 'uploaded'` to the Library state, so that\n\t// the user can filter the media library by uploaded media.\n\treturn wp.media.view.MediaFrame.Select.extend( {\n\t\t/**\n\t\t * Create the default states on the frame.\n\t\t */\n\t\tcreateStates() {\n\t\t\tconst options = this.options;\n\n\t\t\tif ( this.options.states ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Add the default states.\n\t\t\tthis.states.add( [\n\t\t\t\t// Main states.\n\t\t\t\tnew wp.media.controller.Library( {\n\t\t\t\t\tlibrary: wp.media.query( options.library ),\n\t\t\t\t\tmultiple: options.multiple,\n\t\t\t\t\ttitle: options.title,\n\t\t\t\t\tpriority: 20,\n\t\t\t\t\tfilterable: 'uploaded', // Allow filtering by uploaded images.\n\t\t\t\t} ),\n\t\t\t\tnew wp.media.controller.EditImage( {\n\t\t\t\t\tmodel: options.editImage,\n\t\t\t\t} ),\n\t\t\t] );\n\t\t},\n\t} );\n};\n\n/**\n * Prepares the Gallery toolbars and frames.\n *\n * @return {window.wp.media.view.MediaFrame.Post} The default media workflow.\n */\nconst getGalleryDetailsMediaFrame = () => {\n\tconst { wp } = window;\n\t/**\n\t * Custom gallery details frame.\n\t *\n\t * @see https://github.com/xwp/wp-core-media-widgets/blob/905edbccfc2a623b73a93dac803c5335519d7837/wp-admin/js/widgets/media-gallery-widget.js\n\t * @class GalleryDetailsMediaFrame\n\t * @class\n\t */\n\treturn wp.media.view.MediaFrame.Post.extend( {\n\t\t/**\n\t\t * Set up gallery toolbar.\n\t\t *\n\t\t * @return {void}\n\t\t */\n\t\tgalleryToolbar() {\n\t\t\tconst editing = this.state().get( 'editing' );\n\t\t\tthis.toolbar.set(\n\t\t\t\tnew wp.media.view.Toolbar( {\n\t\t\t\t\tcontroller: this,\n\t\t\t\t\titems: {\n\t\t\t\t\t\tinsert: {\n\t\t\t\t\t\t\tstyle: 'primary',\n\t\t\t\t\t\t\ttext: editing\n\t\t\t\t\t\t\t\t? wp.media.view.l10n.updateGallery\n\t\t\t\t\t\t\t\t: wp.media.view.l10n.insertGallery,\n\t\t\t\t\t\t\tpriority: 80,\n\t\t\t\t\t\t\trequires: { library: true },\n\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @fires wp.media.controller.State#update\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tclick() {\n\t\t\t\t\t\t\t\tconst controller = this.controller,\n\t\t\t\t\t\t\t\t\tstate = controller.state();\n\n\t\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\t\tstate.trigger(\n\t\t\t\t\t\t\t\t\t'update',\n\t\t\t\t\t\t\t\t\tstate.get( 'library' )\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t// Restore and reset the default state.\n\t\t\t\t\t\t\t\tcontroller.setState( controller.options.state );\n\t\t\t\t\t\t\t\tcontroller.reset();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Handle the edit state requirements of selected media item.\n\t\t *\n\t\t * @return {void}\n\t\t */\n\t\teditState() {\n\t\t\tconst selection = this.state( 'gallery' ).get( 'selection' );\n\t\t\tconst view = new wp.media.view.EditImage( {\n\t\t\t\tmodel: selection.single(),\n\t\t\t\tcontroller: this,\n\t\t\t} ).render();\n\n\t\t\t// Set the view to the EditImage frame using the selected image.\n\t\t\tthis.content.set( view );\n\n\t\t\t// After bringing in the frame, load the actual editor via an ajax call.\n\t\t\tview.loadEditor();\n\t\t},\n\n\t\t/**\n\t\t * Create the default states.\n\t\t *\n\t\t * @return {void}\n\t\t */\n\t\tcreateStates: function createStates() {\n\t\t\tthis.on( 'toolbar:create:main-gallery', this.galleryToolbar, this );\n\t\t\tthis.on( 'content:render:edit-image', this.editState, this );\n\n\t\t\tthis.states.add( [\n\t\t\t\tnew wp.media.controller.Library( {\n\t\t\t\t\tid: 'gallery',\n\t\t\t\t\ttitle: wp.media.view.l10n.createGalleryTitle,\n\t\t\t\t\tpriority: 40,\n\t\t\t\t\ttoolbar: 'main-gallery',\n\t\t\t\t\tfilterable: 'uploaded',\n\t\t\t\t\tmultiple: 'add',\n\t\t\t\t\teditable: false,\n\n\t\t\t\t\tlibrary: wp.media.query( {\n\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t...this.options.library,\n\t\t\t\t\t} ),\n\t\t\t\t} ),\n\t\t\t\tnew wp.media.controller.EditImage( {\n\t\t\t\t\tmodel: this.options.editImage,\n\t\t\t\t} ),\n\n\t\t\t\tnew wp.media.controller.GalleryEdit( {\n\t\t\t\t\tlibrary: this.options.selection,\n\t\t\t\t\tediting: this.options.editing,\n\t\t\t\t\tmenu: 'gallery',\n\t\t\t\t\tdisplaySettings: false,\n\t\t\t\t\tmultiple: true,\n\t\t\t\t} ),\n\n\t\t\t\tnew wp.media.controller.GalleryAdd(),\n\t\t\t] );\n\t\t},\n\t} );\n};\n\n// The media library image object contains numerous attributes\n// we only need this set to display the image in the library.\nconst slimImageObject = ( img ) => {\n\tconst attrSet = [\n\t\t'sizes',\n\t\t'mime',\n\t\t'type',\n\t\t'subtype',\n\t\t'id',\n\t\t'url',\n\t\t'alt',\n\t\t'link',\n\t\t'caption',\n\t];\n\treturn attrSet.reduce( ( result, key ) => {\n\t\tif ( img?.hasOwnProperty( key ) ) {\n\t\t\tresult[ key ] = img[ key ];\n\t\t}\n\t\treturn result;\n\t}, {} );\n};\n\nconst getAttachmentsCollection = ( ids ) => {\n\tconst { wp } = window;\n\n\treturn wp.media.query( {\n\t\torder: 'ASC',\n\t\torderby: 'post__in',\n\t\tpost__in: ids,\n\t\tposts_per_page: -1,\n\t\tquery: true,\n\t\ttype: 'image',\n\t} );\n};\n\nclass MediaUpload extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.openModal = this.openModal.bind( this );\n\t\tthis.onOpen = this.onOpen.bind( this );\n\t\tthis.onSelect = this.onSelect.bind( this );\n\t\tthis.onUpdate = this.onUpdate.bind( this );\n\t\tthis.onClose = this.onClose.bind( this );\n\t}\n\n\tinitializeListeners() {\n\t\t// When an image is selected in the media frame...\n\t\tthis.frame.on( 'select', this.onSelect );\n\t\tthis.frame.on( 'update', this.onUpdate );\n\t\tthis.frame.on( 'open', this.onOpen );\n\t\tthis.frame.on( 'close', this.onClose );\n\t}\n\n\t/**\n\t * Sets the Gallery frame and initializes listeners.\n\t *\n\t * @return {void}\n\t */\n\tbuildAndSetGalleryFrame() {\n\t\tconst {\n\t\t\taddToGallery = false,\n\t\t\tallowedTypes,\n\t\t\tmultiple = false,\n\t\t\tvalue = DEFAULT_EMPTY_GALLERY,\n\t\t} = this.props;\n\n\t\t// If the value did not changed there is no need to rebuild the frame,\n\t\t// we can continue to use the existing one.\n\t\tif ( value === this.lastGalleryValue ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { wp } = window;\n\n\t\tthis.lastGalleryValue = value;\n\n\t\t// If a frame already existed remove it.\n\t\tif ( this.frame ) {\n\t\t\tthis.frame.remove();\n\t\t}\n\t\tlet currentState;\n\t\tif ( addToGallery ) {\n\t\t\tcurrentState = 'gallery-library';\n\t\t} else {\n\t\t\tcurrentState = value && value.length ? 'gallery-edit' : 'gallery';\n\t\t}\n\t\tif ( ! this.GalleryDetailsMediaFrame ) {\n\t\t\tthis.GalleryDetailsMediaFrame = getGalleryDetailsMediaFrame();\n\t\t}\n\t\tconst attachments = getAttachmentsCollection( value );\n\t\tconst selection = new wp.media.model.Selection( attachments.models, {\n\t\t\tprops: attachments.props.toJSON(),\n\t\t\tmultiple,\n\t\t} );\n\t\tthis.frame = new this.GalleryDetailsMediaFrame( {\n\t\t\tmimeType: allowedTypes,\n\t\t\tstate: currentState,\n\t\t\tmultiple,\n\t\t\tselection,\n\t\t\tediting: !! value?.length,\n\t\t} );\n\t\twp.media.frame = this.frame;\n\t\tthis.initializeListeners();\n\t}\n\n\t/**\n\t * Initializes the Media Library requirements for the featured image flow.\n\t *\n\t * @return {void}\n\t */\n\tbuildAndSetFeatureImageFrame() {\n\t\tconst { wp } = window;\n\t\tconst { value: featuredImageId, multiple, allowedTypes } = this.props;\n\t\tconst featuredImageFrame = getFeaturedImageMediaFrame();\n\t\tconst attachments = getAttachmentsCollection( featuredImageId );\n\t\tconst selection = new wp.media.model.Selection( attachments.models, {\n\t\t\tprops: attachments.props.toJSON(),\n\t\t} );\n\t\tthis.frame = new featuredImageFrame( {\n\t\t\tmimeType: allowedTypes,\n\t\t\tstate: 'featured-image',\n\t\t\tmultiple,\n\t\t\tselection,\n\t\t\tediting: featuredImageId,\n\t\t} );\n\t\twp.media.frame = this.frame;\n\t\t// In order to select the current featured image when opening\n\t\t// the media library we have to set the appropriate settings.\n\t\t// Currently they are set in php for the post editor, but\n\t\t// not for site editor.\n\t\twp.media.view.settings.post = {\n\t\t\t...wp.media.view.settings.post,\n\t\t\tfeaturedImageId: featuredImageId || -1,\n\t\t};\n\t}\n\n\t/**\n\t * Initializes the Media Library requirements for the single image flow.\n\t *\n\t * @return {void}\n\t */\n\tbuildAndSetSingleMediaFrame() {\n\t\tconst { wp } = window;\n\t\tconst {\n\t\t\tallowedTypes,\n\t\t\tmultiple = false,\n\t\t\ttitle = __( 'Select or Upload Media' ),\n\t\t\tvalue,\n\t\t} = this.props;\n\n\t\tconst frameConfig = {\n\t\t\ttitle,\n\t\t\tmultiple,\n\t\t};\n\t\tif ( !! allowedTypes ) {\n\t\t\tframeConfig.library = { type: allowedTypes };\n\t\t}\n\n\t\t// If a frame already exists, remove it.\n\t\tif ( this.frame ) {\n\t\t\tthis.frame.remove();\n\t\t}\n\n\t\tconst singleImageFrame = getSingleMediaFrame();\n\t\tconst attachments = getAttachmentsCollection( value );\n\t\tconst selection = new wp.media.model.Selection( attachments.models, {\n\t\t\tprops: attachments.props.toJSON(),\n\t\t} );\n\t\tthis.frame = new singleImageFrame( {\n\t\t\tmimeType: allowedTypes,\n\t\t\tmultiple,\n\t\t\tselection,\n\t\t\t...frameConfig,\n\t\t} );\n\t\twp.media.frame = this.frame;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.frame?.remove();\n\t}\n\n\tonUpdate( selections ) {\n\t\tconst { onSelect, multiple = false } = this.props;\n\t\tconst state = this.frame.state();\n\t\tconst selectedImages = selections || state.get( 'selection' );\n\n\t\tif ( ! selectedImages || ! selectedImages.models.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( multiple ) {\n\t\t\tonSelect(\n\t\t\t\tselectedImages.models.map( ( model ) =>\n\t\t\t\t\tslimImageObject( model.toJSON() )\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tonSelect( slimImageObject( selectedImages.models[ 0 ].toJSON() ) );\n\t\t}\n\t}\n\n\tonSelect() {\n\t\tconst { onSelect, multiple = false } = this.props;\n\t\t// Get media attachment details from the frame state.\n\t\tconst attachment = this.frame.state().get( 'selection' ).toJSON();\n\t\tonSelect( multiple ? attachment : attachment[ 0 ] );\n\t}\n\n\tonOpen() {\n\t\tconst { wp } = window;\n\t\tconst { value } = this.props;\n\t\tthis.updateCollection();\n\n\t\t//Handle active tab in media model on model open.\n\t\tif ( this.props.mode ) {\n\t\t\tthis.frame.content.mode( this.props.mode );\n\t\t}\n\n\t\t// Handle both this.props.value being either (number[]) multiple ids\n\t\t// (for galleries) or a (number) singular id (e.g. image block).\n\t\tconst hasMedia = Array.isArray( value ) ? !! value?.length : !! value;\n\n\t\tif ( ! hasMedia ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isGallery = this.props.gallery;\n\t\tconst selection = this.frame.state().get( 'selection' );\n\t\tconst valueArray = Array.isArray( value ) ? value : [ value ];\n\n\t\tif ( ! isGallery ) {\n\t\t\tvalueArray.forEach( ( id ) => {\n\t\t\t\tselection.add( wp.media.attachment( id ) );\n\t\t\t} );\n\t\t}\n\n\t\t// Load the images so they are available in the media modal.\n\t\tconst attachments = getAttachmentsCollection( valueArray );\n\n\t\t// Once attachments are loaded, set the current selection.\n\t\tattachments.more().done( function () {\n\t\t\tif ( isGallery && attachments?.models?.length ) {\n\t\t\t\tselection.add( attachments.models );\n\t\t\t}\n\t\t} );\n\t}\n\n\tonClose() {\n\t\tconst { onClose } = this.props;\n\n\t\tif ( onClose ) {\n\t\t\tonClose();\n\t\t}\n\n\t\tthis.frame.detach();\n\t}\n\n\tupdateCollection() {\n\t\tconst frameContent = this.frame.content.get();\n\t\tif ( frameContent && frameContent.collection ) {\n\t\t\tconst collection = frameContent.collection;\n\n\t\t\t// Clean all attachments we have in memory.\n\t\t\tcollection\n\t\t\t\t.toArray()\n\t\t\t\t.forEach( ( model ) => model.trigger( 'destroy', model ) );\n\n\t\t\t// Reset has more flag, if library had small amount of items all items may have been loaded before.\n\t\t\tcollection.mirroring._hasMore = true;\n\n\t\t\t// Request items.\n\t\t\tcollection.more();\n\t\t}\n\t}\n\n\topenModal() {\n\t\tconst {\n\t\t\tgallery = false,\n\t\t\tunstableFeaturedImageFlow = false,\n\t\t\tmodalClass,\n\t\t} = this.props;\n\n\t\tif ( gallery ) {\n\t\t\tthis.buildAndSetGalleryFrame();\n\t\t} else {\n\t\t\tthis.buildAndSetSingleMediaFrame();\n\t\t}\n\n\t\tif ( modalClass ) {\n\t\t\tthis.frame.$el.addClass( modalClass );\n\t\t}\n\n\t\tif ( unstableFeaturedImageFlow ) {\n\t\t\tthis.buildAndSetFeatureImageFrame();\n\t\t}\n\t\tthis.initializeListeners();\n\t\tthis.frame.open();\n\t}\n\n\trender() {\n\t\treturn this.props.render( { open: this.openModal } );\n\t}\n}\n\nexport default MediaUpload;\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { createBlobURL, revokeBlobURL } from '@wordpress/blob';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tAdditionalData,\n\tAttachment,\n\tOnChangeHandler,\n\tOnErrorHandler,\n} from './types';\nimport { uploadToServer } from './upload-to-server';\nimport { validateMimeType } from './validate-mime-type';\nimport { validateMimeTypeForUser } from './validate-mime-type-for-user';\nimport { validateFileSize } from './validate-file-size';\nimport { UploadError } from './upload-error';\n\ndeclare global {\n\tinterface Window {\n\t\t__experimentalMediaProcessing?: boolean;\n\t}\n}\n\ninterface UploadMediaArgs {\n\t// Additional data to include in the request.\n\tadditionalData?: AdditionalData;\n\t// Array with the types of media that can be uploaded, if unset all types are allowed.\n\tallowedTypes?: string[];\n\t// List of files.\n\tfilesList: File[];\n\t// Maximum upload size in bytes allowed for the site.\n\tmaxUploadFileSize?: number;\n\t// Function called when an error happens.\n\tonError?: OnErrorHandler;\n\t// Function called each time a file or a temporary representation of the file is available.\n\tonFileChange?: OnChangeHandler;\n\t// List of allowed mime types and file extensions.\n\twpAllowedMimeTypes?: Record< string, string > | null;\n\t// Abort signal.\n\tsignal?: AbortSignal;\n\t// Whether to allow multiple files to be uploaded.\n\tmultiple?: boolean;\n}\n\n/**\n * Upload a media file when the file upload button is activated\n * or when adding a file to the editor via drag & drop.\n *\n * @param $0                    Parameters object passed to the function.\n * @param $0.allowedTypes       Array with the types of media that can be uploaded, if unset all types are allowed.\n * @param $0.additionalData     Additional data to include in the request.\n * @param $0.filesList          List of files.\n * @param $0.maxUploadFileSize  Maximum upload size in bytes allowed for the site.\n * @param $0.onError            Function called when an error happens.\n * @param $0.onFileChange       Function called each time a file or a temporary representation of the file is available.\n * @param $0.wpAllowedMimeTypes List of allowed mime types and file extensions.\n * @param $0.signal             Abort signal.\n * @param $0.multiple           Whether to allow multiple files to be uploaded.\n */\nexport function uploadMedia( {\n\twpAllowedMimeTypes,\n\tallowedTypes,\n\tadditionalData = {},\n\tfilesList,\n\tmaxUploadFileSize,\n\tonError,\n\tonFileChange,\n\tsignal,\n\tmultiple = true,\n}: UploadMediaArgs ) {\n\tif ( ! multiple && filesList.length > 1 ) {\n\t\tonError?.( new Error( __( 'Only one file can be used here.' ) ) );\n\t\treturn;\n\t}\n\n\tconst validFiles = [];\n\n\tconst filesSet: Array< Partial< Attachment > | null > = [];\n\tconst setAndUpdateFiles = ( index: number, value: Attachment | null ) => {\n\t\t// For client-side media processing, this is handled by the upload-media package.\n\t\tif ( ! window.__experimentalMediaProcessing ) {\n\t\t\tif ( filesSet[ index ]?.url ) {\n\t\t\t\trevokeBlobURL( filesSet[ index ].url );\n\t\t\t}\n\t\t}\n\t\tfilesSet[ index ] = value;\n\t\tonFileChange?.(\n\t\t\tfilesSet.filter( ( attachment ) => attachment !== null )\n\t\t);\n\t};\n\n\tfor ( const mediaFile of filesList ) {\n\t\t// Verify if user is allowed to upload this mime type.\n\t\t// Defer to the server when type not detected.\n\t\ttry {\n\t\t\tvalidateMimeTypeForUser( mediaFile, wpAllowedMimeTypes );\n\t\t} catch ( error: unknown ) {\n\t\t\tonError?.( error as Error );\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Check if the caller (e.g. a block) supports this mime type.\n\t\t// Defer to the server when type not detected.\n\t\ttry {\n\t\t\tvalidateMimeType( mediaFile, allowedTypes );\n\t\t} catch ( error: unknown ) {\n\t\t\tonError?.( error as Error );\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Verify if file is greater than the maximum file upload size allowed for the site.\n\t\ttry {\n\t\t\tvalidateFileSize( mediaFile, maxUploadFileSize );\n\t\t} catch ( error: unknown ) {\n\t\t\tonError?.( error as Error );\n\t\t\tcontinue;\n\t\t}\n\n\t\tvalidFiles.push( mediaFile );\n\n\t\t// For client-side media processing, this is handled by the upload-media package.\n\t\tif ( ! window.__experimentalMediaProcessing ) {\n\t\t\t// Set temporary URL to create placeholder media file, this is replaced\n\t\t\t// with final file from media gallery when upload is `done` below.\n\t\t\tfilesSet.push( { url: createBlobURL( mediaFile ) } );\n\t\t\tonFileChange?.( filesSet as Array< Partial< Attachment > > );\n\t\t}\n\t}\n\n\tvalidFiles.map( async ( file, index ) => {\n\t\ttry {\n\t\t\tconst attachment = await uploadToServer(\n\t\t\t\tfile,\n\t\t\t\tadditionalData,\n\t\t\t\tsignal\n\t\t\t);\n\t\t\tsetAndUpdateFiles( index, attachment );\n\t\t} catch ( error ) {\n\t\t\t// Reset to empty on failure.\n\t\t\tsetAndUpdateFiles( index, null );\n\n\t\t\t// @wordpress/api-fetch throws any response that isn't in the 200 range as-is.\n\t\t\tlet message: string;\n\t\t\tif (\n\t\t\t\ttypeof error === 'object' &&\n\t\t\t\terror !== null &&\n\t\t\t\t'message' in error\n\t\t\t) {\n\t\t\t\tmessage =\n\t\t\t\t\ttypeof error.message === 'string'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: String( error.message );\n\t\t\t} else {\n\t\t\t\tmessage = sprintf(\n\t\t\t\t\t// translators: %s: file name\n\t\t\t\t\t__( 'Error while uploading file %s to the media library.' ),\n\t\t\t\t\tfile.name\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tonError?.(\n\t\t\t\tnew UploadError( {\n\t\t\t\t\tcode: 'GENERAL',\n\t\t\t\t\tmessage,\n\t\t\t\t\tfile,\n\t\t\t\t\tcause: error instanceof Error ? error : undefined,\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\t} );\n}\n", "/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { flattenFormData } from './flatten-form-data';\nimport { transformAttachment } from './transform-attachment';\nimport type { CreateRestAttachment, RestAttachment } from './types';\n\nexport async function uploadToServer(\n\tfile: File,\n\tadditionalData: CreateRestAttachment = {},\n\tsignal?: AbortSignal\n) {\n\t// Create upload payload.\n\tconst data = new FormData();\n\tdata.append( 'file', file, file.name || file.type.replace( '/', '.' ) );\n\tfor ( const [ key, value ] of Object.entries( additionalData ) ) {\n\t\tflattenFormData(\n\t\t\tdata,\n\t\t\tkey,\n\t\t\tvalue as string | Record< string, string > | undefined\n\t\t);\n\t}\n\n\treturn transformAttachment(\n\t\tawait apiFetch< RestAttachment >( {\n\t\t\t// This allows the video block to directly get a video's poster image.\n\t\t\tpath: '/wp/v2/media?_embed=wp:featuredmedia',\n\t\t\tbody: data,\n\t\t\tmethod: 'POST',\n\t\t\tsignal,\n\t\t} )\n\t);\n}\n", "/**\n * Determines whether the passed argument appears to be a plain object.\n *\n * @param data The object to inspect.\n */\nfunction isPlainObject( data: unknown ): data is Record< string, unknown > {\n\treturn (\n\t\tdata !== null &&\n\t\ttypeof data === 'object' &&\n\t\tObject.getPrototypeOf( data ) === Object.prototype\n\t);\n}\n\n/**\n * Recursively flatten data passed to form data, to allow using multi-level objects.\n *\n * @param {FormData}      formData Form data object.\n * @param {string}        key      Key to amend to form data object\n * @param {string|Object} data     Data to be amended to form data.\n */\nexport function flattenFormData(\n\tformData: FormData,\n\tkey: string,\n\tdata: string | undefined | Record< string, string >\n) {\n\tif ( isPlainObject( data ) ) {\n\t\tfor ( const [ name, value ] of Object.entries( data ) ) {\n\t\t\tflattenFormData( formData, `${ key }[${ name }]`, value );\n\t\t}\n\t} else if ( data !== undefined ) {\n\t\tformData.append( key, String( data ) );\n\t}\n}\n", "/**\n * Internal dependencies\n */\nimport type { Attachment, RestAttachment } from './types';\n\n/**\n * Transforms an attachment object from the REST API shape into the shape expected by the block editor and other consumers.\n *\n * @param attachment REST API attachment object.\n */\nexport function transformAttachment( attachment: RestAttachment ): Attachment {\n\t// eslint-disable-next-line camelcase\n\tconst { alt_text, source_url, ...savedMediaProps } = attachment;\n\treturn {\n\t\t...savedMediaProps,\n\t\talt: attachment.alt_text,\n\t\tcaption: attachment.caption?.raw ?? '',\n\t\ttitle: attachment.title.raw,\n\t\turl: attachment.source_url,\n\t\tposter:\n\t\t\tattachment._embedded?.[ 'wp:featuredmedia' ]?.[ 0 ]?.source_url ||\n\t\t\tundefined,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { UploadError } from './upload-error';\n\n/**\n * Verifies if the caller (e.g. a block) supports this mime type.\n *\n * @param file         File object.\n * @param allowedTypes List of allowed mime types.\n */\nexport function validateMimeType( file: File, allowedTypes?: string[] ) {\n\tif ( ! allowedTypes ) {\n\t\treturn;\n\t}\n\n\t// Allowed type specified by consumer.\n\tconst isAllowedType = allowedTypes.some( ( allowedType ) => {\n\t\t// If a complete mimetype is specified verify if it matches exactly the mime type of the file.\n\t\tif ( allowedType.includes( '/' ) ) {\n\t\t\treturn allowedType === file.type;\n\t\t}\n\t\t// Otherwise a general mime type is used, and we should verify if the file mimetype starts with it.\n\t\treturn file.type.startsWith( `${ allowedType }/` );\n\t} );\n\n\tif ( file.type && ! isAllowedType ) {\n\t\tthrow new UploadError( {\n\t\t\tcode: 'MIME_TYPE_NOT_SUPPORTED',\n\t\t\tmessage: sprintf(\n\t\t\t\t// translators: %s: file name.\n\t\t\t\t__( '%s: Sorry, this file type is not supported here.' ),\n\t\t\t\tfile.name\n\t\t\t),\n\t\t\tfile,\n\t\t} );\n\t}\n}\n", "interface UploadErrorArgs {\n\tcode: string;\n\tmessage: string;\n\tfile: File;\n\tcause?: Error;\n}\n\n/**\n * MediaError class.\n *\n * Small wrapper around the `Error` class\n * to hold an error code and a reference to a file object.\n */\nexport class UploadError extends Error {\n\tcode: string;\n\tfile: File;\n\n\tconstructor( { code, message, file, cause }: UploadErrorArgs ) {\n\t\tsuper( message, { cause } );\n\n\t\tObject.setPrototypeOf( this, new.target.prototype );\n\n\t\tthis.code = code;\n\t\tthis.file = file;\n\t}\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { UploadError } from './upload-error';\nimport { getMimeTypesArray } from './get-mime-types-array';\n\n/**\n * Verifies if the user is allowed to upload this mime type.\n *\n * @param file               File object.\n * @param wpAllowedMimeTypes List of allowed mime types and file extensions.\n */\nexport function validateMimeTypeForUser(\n\tfile: File,\n\twpAllowedMimeTypes?: Record< string, string > | null\n) {\n\t// Allowed types for the current WP_User.\n\tconst allowedMimeTypesForUser = getMimeTypesArray( wpAllowedMimeTypes );\n\n\tif ( ! allowedMimeTypesForUser ) {\n\t\treturn;\n\t}\n\n\tconst isAllowedMimeTypeForUser = allowedMimeTypesForUser.includes(\n\t\tfile.type\n\t);\n\n\tif ( file.type && ! isAllowedMimeTypeForUser ) {\n\t\tthrow new UploadError( {\n\t\t\tcode: 'MIME_TYPE_NOT_ALLOWED_FOR_USER',\n\t\t\tmessage: sprintf(\n\t\t\t\t// translators: %s: file name.\n\t\t\t\t__(\n\t\t\t\t\t'%s: Sorry, you are not allowed to upload this file type.'\n\t\t\t\t),\n\t\t\t\tfile.name\n\t\t\t),\n\t\t\tfile,\n\t\t} );\n\t}\n}\n", "/**\n * Browsers may use unexpected mime types, and they differ from browser to browser.\n * This function computes a flexible array of mime types from the mime type structured provided by the server.\n * Converts { jpg|jpeg|jpe: \"image/jpeg\" } into [ \"image/jpeg\", \"image/jpg\", \"image/jpeg\", \"image/jpe\" ]\n *\n * @param {?Object} wpMimeTypesObject Mime type object received from the server.\n *                                    Extensions are keys separated by '|' and values are mime types associated with an extension.\n *\n * @return An array of mime types or null\n */\nexport function getMimeTypesArray(\n\twpMimeTypesObject?: Record< string, string > | null\n) {\n\tif ( ! wpMimeTypesObject ) {\n\t\treturn null;\n\t}\n\treturn Object.entries( wpMimeTypesObject ).flatMap(\n\t\t( [ extensionsString, mime ] ) => {\n\t\t\tconst [ type ] = mime.split( '/' );\n\t\t\tconst extensions = extensionsString.split( '|' );\n\t\t\treturn [\n\t\t\t\tmime,\n\t\t\t\t...extensions.map(\n\t\t\t\t\t( extension ) => `${ type }/${ extension }`\n\t\t\t\t),\n\t\t\t];\n\t\t}\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { UploadError } from './upload-error';\n\n/**\n * Verifies whether the file is within the file upload size limits for the site.\n *\n * @param file              File object.\n * @param maxUploadFileSize Maximum upload size in bytes allowed for the site.\n */\nexport function validateFileSize( file: File, maxUploadFileSize?: number ) {\n\t// Don't allow empty files to be uploaded.\n\tif ( file.size <= 0 ) {\n\t\tthrow new UploadError( {\n\t\t\tcode: 'EMPTY_FILE',\n\t\t\tmessage: sprintf(\n\t\t\t\t// translators: %s: file name.\n\t\t\t\t__( '%s: This file is empty.' ),\n\t\t\t\tfile.name\n\t\t\t),\n\t\t\tfile,\n\t\t} );\n\t}\n\n\tif ( maxUploadFileSize && file.size > maxUploadFileSize ) {\n\t\tthrow new UploadError( {\n\t\t\tcode: 'SIZE_ABOVE_LIMIT',\n\t\t\tmessage: sprintf(\n\t\t\t\t// translators: %s: file name.\n\t\t\t\t__(\n\t\t\t\t\t'%s: This file exceeds the maximum upload size for this site.'\n\t\t\t\t),\n\t\t\t\tfile.name\n\t\t\t),\n\t\t\tfile,\n\t\t} );\n\t}\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tOnChangeHandler,\n\tOnErrorHandler,\n\tCreateSideloadFile,\n\tRestAttachment,\n} from './types';\nimport { sideloadToServer } from './sideload-to-server';\nimport { UploadError } from './upload-error';\n\nconst noop = () => {};\n\ninterface SideloadMediaArgs {\n\t// Additional data to include in the request.\n\tadditionalData?: CreateSideloadFile;\n\t// File to sideload.\n\tfile: File;\n\t// Attachment ID.\n\tattachmentId: RestAttachment[ 'id' ];\n\t// Function called when an error happens.\n\tonError?: OnErrorHandler;\n\t// Function called each time a file or a temporary representation of the file is available.\n\tonFileChange?: OnChangeHandler;\n\t// Abort signal.\n\tsignal?: AbortSignal;\n}\n\n/**\n * Uploads a file to the server without creating an attachment.\n *\n * @param $0                Parameters object passed to the function.\n * @param $0.file           Media File to Save.\n * @param $0.attachmentId   Parent attachment ID.\n * @param $0.additionalData Additional data to include in the request.\n * @param $0.signal         Abort signal.\n * @param $0.onFileChange   Function called each time a file or a temporary representation of the file is available.\n * @param $0.onError        Function called when an error happens.\n */\nexport async function sideloadMedia( {\n\tfile,\n\tattachmentId,\n\tadditionalData = {},\n\tsignal,\n\tonFileChange,\n\tonError = noop,\n}: SideloadMediaArgs ) {\n\ttry {\n\t\tconst attachment = await sideloadToServer(\n\t\t\tfile,\n\t\t\tattachmentId,\n\t\t\tadditionalData,\n\t\t\tsignal\n\t\t);\n\t\tonFileChange?.( [ attachment ] );\n\t} catch ( error ) {\n\t\tlet message;\n\t\tif ( error instanceof Error ) {\n\t\t\tmessage = error.message;\n\t\t} else {\n\t\t\tmessage = sprintf(\n\t\t\t\t// translators: %s: file name\n\t\t\t\t__( 'Error while sideloading file %s to the server.' ),\n\t\t\t\tfile.name\n\t\t\t);\n\t\t}\n\t\tonError(\n\t\t\tnew UploadError( {\n\t\t\t\tcode: 'GENERAL',\n\t\t\t\tmessage,\n\t\t\t\tfile,\n\t\t\t\tcause: error instanceof Error ? error : undefined,\n\t\t\t} )\n\t\t);\n\t}\n}\n", "/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport type { CreateSideloadFile, RestAttachment } from './types';\nimport { flattenFormData } from './flatten-form-data';\nimport { transformAttachment } from './transform-attachment';\n\n/**\n * Uploads a file to the server without creating an attachment.\n *\n * @param file           Media File to Save.\n * @param attachmentId   Parent attachment ID.\n * @param additionalData Additional data to include in the request.\n * @param signal         Abort signal.\n *\n * @return The saved attachment.\n */\nexport async function sideloadToServer(\n\tfile: File,\n\tattachmentId: RestAttachment[ 'id' ],\n\tadditionalData: CreateSideloadFile = {},\n\tsignal?: AbortSignal\n) {\n\t// Create upload payload.\n\tconst data = new FormData();\n\tdata.append( 'file', file, file.name || file.type.replace( '/', '.' ) );\n\tfor ( const [ key, value ] of Object.entries( additionalData ) ) {\n\t\tflattenFormData(\n\t\t\tdata,\n\t\t\tkey,\n\t\t\tvalue as string | Record< string, string > | undefined\n\t\t);\n\t}\n\n\treturn transformAttachment(\n\t\tawait apiFetch< RestAttachment >( {\n\t\t\tpath: `/wp/v2/media/${ attachmentId }/sideload`,\n\t\t\tbody: data,\n\t\t\tmethod: 'POST',\n\t\t\tsignal,\n\t\t} )\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useState, useCallback, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tprivateApis as coreDataPrivateApis,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport { resolveSelect } from '@wordpress/data';\nimport { Modal, DropZone, FormFileUpload, Button } from '@wordpress/components';\nimport { upload as uploadIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { DataViewsPicker } from '@wordpress/dataviews';\nimport type { View, Field, ActionButton } from '@wordpress/dataviews';\nimport type { Attachment, RestAttachment } from '../../utils/types';\nimport { transformAttachment } from '../../utils/transform-attachment';\nimport { uploadMedia } from '../../utils/upload-media';\nimport { unlock } from '../../lock-unlock';\n\nconst { useEntityRecordsWithPermissions } = unlock( coreDataPrivateApis );\n\n// Layout constants - matching the picker layout types\nconst LAYOUT_PICKER_GRID = 'pickerGrid';\nconst LAYOUT_PICKER_TABLE = 'pickerTable';\n\ninterface MediaUploadModalProps {\n\t/**\n\t * Array of allowed media types.\n\t * @default ['image']\n\t */\n\tallowedTypes?: string[];\n\n\t/**\n\t * Whether multiple files can be selected.\n\t * @default false\n\t */\n\tmultiple?: boolean;\n\n\t/**\n\t * The currently selected media item(s).\n\t * Can be a single ID number or array of IDs for multiple selection.\n\t */\n\tvalue?: number | number[];\n\n\t/**\n\t * Function called when media is selected.\n\t * Receives single attachment object or array of attachments.\n\t */\n\tonSelect: ( media: Attachment | Attachment[] ) => void;\n\n\t/**\n\t * Function called when the modal is closed without selection.\n\t */\n\tonClose?: () => void;\n\n\t/**\n\t * Function to handle media uploads.\n\t * If not provided, drag and drop will be disabled.\n\t */\n\tonUpload?: ( args: {\n\t\tallowedTypes?: string[];\n\t\tfilesList: File[];\n\t\tonFileChange?: ( attachments: Partial< Attachment >[] ) => void;\n\t\tonError?: ( error: Error ) => void;\n\t\tmultiple?: boolean;\n\t} ) => void;\n\n\t/**\n\t * Title for the modal.\n\t * @default 'Select Media'\n\t */\n\ttitle?: string;\n\n\t/**\n\t * Whether the modal is open.\n\t */\n\tisOpen: boolean;\n\n\t/**\n\t * Whether the modal can be closed by clicking outside or pressing escape.\n\t * @default true\n\t */\n\tisDismissible?: boolean;\n\n\t/**\n\t * Additional CSS class for the modal.\n\t */\n\tmodalClass?: string;\n\n\t/**\n\t * Whether to show a search input.\n\t * @default true\n\t */\n\tsearch?: boolean;\n\n\t/**\n\t * Label for the search input.\n\t */\n\tsearchLabel?: string;\n}\n\n/**\n * MediaUploadModal component that uses Modal and DataViewsPicker for media selection.\n *\n * This is a modern functional component alternative to the legacy MediaUpload class component.\n * It provides a cleaner API and better integration with the WordPress block editor.\n *\n * @param props               Component props\n * @param props.allowedTypes  Array of allowed media types\n * @param props.multiple      Whether multiple files can be selected\n * @param props.value         Currently selected media item(s)\n * @param props.onSelect      Function called when media is selected\n * @param props.onClose       Function called when modal is closed\n * @param props.onUpload      Function to handle media uploads\n * @param props.title         Title for the modal\n * @param props.isOpen        Whether the modal is open\n * @param props.isDismissible Whether modal can be dismissed\n * @param props.modalClass    Additional CSS class for modal\n * @param props.search        Whether to show search input\n * @param props.searchLabel   Label for search input\n * @return JSX element or null\n */\nexport function MediaUploadModal( {\n\tallowedTypes = [ 'image' ],\n\tmultiple = false,\n\tvalue,\n\tonSelect,\n\tonClose,\n\tonUpload,\n\ttitle = __( 'Select Media' ),\n\tisOpen,\n\tisDismissible = true,\n\tmodalClass,\n\tsearch = true,\n\tsearchLabel = __( 'Search media' ),\n}: MediaUploadModalProps ) {\n\tconst [ selection, setSelection ] = useState< string[] >( () => {\n\t\tif ( ! value ) {\n\t\t\treturn [];\n\t\t}\n\t\treturn Array.isArray( value )\n\t\t\t? value.map( String )\n\t\t\t: [ String( value ) ];\n\t} );\n\n\t// DataViews configuration - allow view updates\n\tconst [ view, setView ] = useState< View >( () => ( {\n\t\ttype: LAYOUT_PICKER_GRID,\n\t\tfields: [],\n\t\ttitleField: 'title',\n\t\tmediaField: 'url',\n\t\tsearch: '',\n\t\tpage: 1,\n\t\tperPage: 20,\n\t\tfilters: [],\n\t} ) );\n\n\t// Build query args based on view properties, similar to PostList\n\tconst queryArgs = useMemo( () => {\n\t\tconst filters: Record< string, any > = {};\n\n\t\tview.filters?.forEach( ( filter ) => {\n\t\t\t// Handle media type filters\n\t\t\tif ( filter.field === 'media_type' ) {\n\t\t\t\tfilters.media_type = filter.value;\n\t\t\t}\n\t\t\t// Handle author filters\n\t\t\tif ( filter.field === 'author' ) {\n\t\t\t\tfilters.author = filter.value;\n\t\t\t}\n\t\t\t// Handle date filters\n\t\t\tif ( filter.field === 'date' ) {\n\t\t\t\tfilters.after = filter.value?.after;\n\t\t\t\tfilters.before = filter.value?.before;\n\t\t\t}\n\t\t\t// Handle mime type filters\n\t\t\tif ( filter.field === 'mime_type' ) {\n\t\t\t\tfilters.mime_type = filter.value;\n\t\t\t}\n\t\t} );\n\n\t\t// Base media type on allowedTypes if no filter is set\n\t\tif ( ! filters.media_type ) {\n\t\t\tfilters.media_type = allowedTypes.includes( '*' )\n\t\t\t\t? undefined\n\t\t\t\t: allowedTypes;\n\t\t}\n\n\t\treturn {\n\t\t\tper_page: view.perPage || 20,\n\t\t\tpage: view.page || 1,\n\t\t\tstatus: 'inherit',\n\t\t\torder: view.sort?.direction,\n\t\t\torderby: view.sort?.field,\n\t\t\tsearch: view.search,\n\t\t\t...filters,\n\t\t};\n\t}, [ view, allowedTypes ] );\n\n\t// Fetch all media attachments using WordPress core data with permissions\n\tconst {\n\t\trecords: mediaRecords,\n\t\tisResolving: isLoading,\n\t\ttotalItems,\n\t\ttotalPages,\n\t} = useEntityRecordsWithPermissions( 'postType', 'attachment', queryArgs );\n\n\tconst fields: Field< RestAttachment >[] = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tid: 'url',\n\t\t\t\ttype: 'media' as const,\n\t\t\t\tlabel: __( 'Media' ),\n\t\t\t\trender: ( { item }: { item: RestAttachment } ) => (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ item.source_url }\n\t\t\t\t\t\talt={ item.alt_text }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'title',\n\t\t\t\ttype: 'text' as const,\n\t\t\t\tlabel: __( 'Title' ),\n\t\t\t\tgetValue: ( { item }: { item: RestAttachment } ) => {\n\t\t\t\t\tconst titleValue = item.title.raw || item.title.rendered;\n\t\t\t\t\treturn titleValue || __( '(no title)' );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'alt',\n\t\t\t\ttype: 'text' as const,\n\t\t\t\tlabel: __( 'Alt text' ),\n\t\t\t\tgetValue: ( { item }: { item: RestAttachment } ) =>\n\t\t\t\t\titem.alt_text,\n\t\t\t},\n\t\t],\n\t\t[]\n\t);\n\n\tconst actions: ActionButton< RestAttachment >[] = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tid: 'select',\n\t\t\t\tlabel: multiple ? __( 'Select' ) : __( 'Select' ),\n\t\t\t\tisPrimary: true,\n\t\t\t\tsupportsBulk: multiple,\n\t\t\t\tasync callback() {\n\t\t\t\t\tif ( selection.length === 0 ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst selectedPostsQuery = {\n\t\t\t\t\t\tinclude: selection,\n\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t};\n\n\t\t\t\t\tconst selectedPosts = await resolveSelect(\n\t\t\t\t\t\tcoreStore\n\t\t\t\t\t).getEntityRecords(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t'attachment',\n\t\t\t\t\t\tselectedPostsQuery\n\t\t\t\t\t);\n\n\t\t\t\t\t// Transform the selected posts to the expected Attachment format\n\t\t\t\t\tconst transformedPosts =\n\t\t\t\t\t\tselectedPosts?.map( transformAttachment );\n\n\t\t\t\t\tconst selectedItems = multiple\n\t\t\t\t\t\t? transformedPosts\n\t\t\t\t\t\t: transformedPosts?.[ 0 ];\n\n\t\t\t\t\tonSelect( selectedItems );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\t[ multiple, onSelect, selection ]\n\t);\n\n\tconst handleModalClose = useCallback( () => {\n\t\tonClose?.();\n\t}, [ onClose ] );\n\n\t// Use onUpload if provided, otherwise fall back to uploadMedia\n\tconst handleUpload = onUpload || uploadMedia;\n\n\tconst handleFileSelect = useCallback(\n\t\t( event: React.ChangeEvent< HTMLInputElement > ) => {\n\t\t\tconst files = event.target.files;\n\t\t\tif ( files && files.length > 0 ) {\n\t\t\t\tconst filesArray = Array.from( files );\n\t\t\t\thandleUpload( {\n\t\t\t\t\tallowedTypes,\n\t\t\t\t\tfilesList: filesArray,\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\t[ allowedTypes, handleUpload ]\n\t);\n\n\tconst paginationInfo = useMemo(\n\t\t() => ( {\n\t\t\ttotalItems,\n\t\t\ttotalPages,\n\t\t} ),\n\t\t[ totalItems, totalPages ]\n\t);\n\n\tconst defaultLayouts = useMemo(\n\t\t() => ( {\n\t\t\t[ LAYOUT_PICKER_GRID ]: {},\n\t\t\t[ LAYOUT_PICKER_TABLE ]: {},\n\t\t} ),\n\t\t[]\n\t);\n\n\t// Build accept attribute from allowedTypes\n\tconst acceptTypes = useMemo( () => {\n\t\tif ( allowedTypes.includes( '*' ) ) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn allowedTypes.join( ',' );\n\t}, [ allowedTypes ] );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ title }\n\t\t\tonRequestClose={ handleModalClose }\n\t\t\tisDismissible={ isDismissible }\n\t\t\tclassName={ modalClass }\n\t\t\tsize=\"fill\"\n\t\t\theaderActions={\n\t\t\t\t<FormFileUpload\n\t\t\t\t\taccept={ acceptTypes }\n\t\t\t\t\tmultiple\n\t\t\t\t\tonChange={ handleFileSelect }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\trender={ ( { openFileDialog } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openFileDialog }\n\t\t\t\t\t\t\ticon={ uploadIcon }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Upload media' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t<DropZone\n\t\t\t\tonFilesDrop={ ( files ) => {\n\t\t\t\t\tlet filteredFiles = files;\n\t\t\t\t\t// Filter files by allowed types if specified\n\t\t\t\t\tif ( allowedTypes && ! allowedTypes.includes( '*' ) ) {\n\t\t\t\t\t\tfilteredFiles = files.filter( ( file ) =>\n\t\t\t\t\t\t\tallowedTypes.some( ( allowedType ) => {\n\t\t\t\t\t\t\t\t// Check if the file type matches the allowed MIME type\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tfile.type === allowedType ||\n\t\t\t\t\t\t\t\t\tfile.type.startsWith(\n\t\t\t\t\t\t\t\t\t\tallowedType.replace( '*', '' )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif ( filteredFiles.length > 0 ) {\n\t\t\t\t\t\thandleUpload( {\n\t\t\t\t\t\t\tallowedTypes,\n\t\t\t\t\t\t\tfilesList: filteredFiles,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tlabel={ __( 'Drop files to upload' ) }\n\t\t\t/>\n\t\t\t<DataViewsPicker\n\t\t\t\tdata={ mediaRecords || [] }\n\t\t\t\tfields={ fields }\n\t\t\t\tview={ view }\n\t\t\t\tonChangeView={ setView }\n\t\t\t\tactions={ actions }\n\t\t\t\tselection={ selection }\n\t\t\t\tonChangeSelection={ setSelection }\n\t\t\t\tisLoading={ isLoading }\n\t\t\t\tpaginationInfo={ paginationInfo }\n\t\t\t\tdefaultLayouts={ defaultLayouts }\n\t\t\t\tgetItemId={ ( item: RestAttachment ) => String( item.id ) }\n\t\t\t\tsearch={ search }\n\t\t\t\tsearchLabel={ searchLabel }\n\t\t\t\titemListLabel={ __( 'Media items' ) }\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n\nexport default MediaUploadModal;\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M12.5939 21C14.1472 21 16.1269 20.5701 17.0711 20.1975L16.6447 18.879C16.0964 19.051 14.3299 19.6242 12.6548 19.6242C7.4467 19.6242 4.67513 16.8726 4.67513 12C4.67513 7.21338 7.50762 4.34713 12.2893 4.34713C17.132 4.34713 19.4162 7.55732 19.4162 10.7675C19.4162 14.035 19.0508 15.4968 17.4975 15.4968C16.5838 15.4968 16.0964 14.7803 16.0964 13.9777V7.5H14.4822V8.30255H14.3909C14.1777 7.67198 12.9898 7.12739 11.467 7.2707C9.18274 7.5 7.4467 9.27707 7.4467 11.8567C7.4467 14.5796 8.81726 16.672 11.467 16.758C13.203 16.8153 14.1168 16.0127 14.4822 15.1815H14.5736C14.7563 16.414 16.401 16.8439 17.467 16.8439C20.6954 16.8439 21 13.5764 21 10.7962C21 6.86943 18.0761 3 12.3807 3C6.50254 3 3 6.3535 3 11.9427C3 17.7325 6.38071 21 12.5939 21ZM11.7107 15.2962C9.73096 15.2962 9.03046 13.6051 9.03046 11.7707C9.03046 10.1083 10.0355 8.67516 11.7716 8.67516C13.599 8.67516 14.5736 9.36306 14.5736 11.7707C14.5736 14.1497 13.7513 15.2962 11.7107 15.2962Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z\"\n\t      fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      d=\"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12.218 5.377a.25.25 0 0 0-.436 0l-7.29 12.96a.25.25 0 0 0 .218.373h14.58a.25.25 0 0 0 .218-.372l-7.29-12.96Zm-1.743-.735c.669-1.19 2.381-1.19 3.05 0l7.29 12.96a1.75 1.75 0 0 1-1.525 2.608H4.71a1.75 1.75 0 0 1-1.525-2.608l7.29-12.96ZM12.75 17.46h-1.5v-1.5h1.5v1.5Zm-1.5-3h1.5v-5h-1.5v5Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z\" />\n\t</SVG>\n);\n", "/**\n * External dependencies\n */\nimport type { ComponentProps, ReactElement, ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, createRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tView,\n\tAction,\n\tNormalizedField,\n\tSupportedLayouts,\n\tNormalizedFilter,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport { LAYOUT_TABLE } from '../../constants';\n\ntype DataViewsContextType< Item > = {\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n\tfields: NormalizedField< Item >[];\n\tactions?: Action< Item >[];\n\tdata: Item[];\n\tisLoading?: boolean;\n\tpaginationInfo: {\n\t\ttotalItems: number;\n\t\ttotalPages: number;\n\t};\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\topenedFilter: string | null;\n\tsetOpenedFilter: ( openedFilter: string | null ) => void;\n\tgetItemId: ( item: Item ) => string;\n\tgetItemLevel?: ( item: Item ) => number;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisItemClickable: ( item: Item ) => boolean;\n\tcontainerWidth: number;\n\tcontainerRef: React.MutableRefObject< HTMLDivElement | null >;\n\tresizeObserverRef:\n\t\t| ( ( element?: HTMLDivElement | null ) => void )\n\t\t| React.RefObject< HTMLDivElement >;\n\tdefaultLayouts: SupportedLayouts;\n\tfilters: NormalizedFilter[];\n\tisShowingFilter: boolean;\n\tsetIsShowingFilter: ( value: boolean ) => void;\n\tconfig: { perPageSizes: number[] };\n\tempty?: ReactNode;\n\thasInfiniteScrollHandler: boolean;\n\titemListLabel?: string;\n};\n\nconst DataViewsContext = createContext< DataViewsContextType< any > >( {\n\tview: { type: LAYOUT_TABLE },\n\tonChangeView: () => {},\n\tfields: [],\n\tdata: [],\n\tpaginationInfo: {\n\t\ttotalItems: 0,\n\t\ttotalPages: 0,\n\t},\n\tselection: [],\n\tonChangeSelection: () => {},\n\tsetOpenedFilter: () => {},\n\topenedFilter: null,\n\tgetItemId: ( item ) => item.id,\n\tisItemClickable: () => true,\n\trenderItemLink: undefined,\n\tcontainerWidth: 0,\n\tcontainerRef: createRef(),\n\tresizeObserverRef: () => {},\n\tdefaultLayouts: { list: {}, grid: {}, table: {} },\n\tfilters: [],\n\tisShowingFilter: false,\n\tsetIsShowingFilter: () => {},\n\thasInfiniteScrollHandler: false,\n\tconfig: {\n\t\tperPageSizes: [],\n\t},\n} );\n\nDataViewsContext.displayName = 'DataViewsContext';\n\nexport default DataViewsContext;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { arrowDown, arrowUp } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { Operator } from './types';\n\n// Filter operators.\nexport const OPERATOR_IS = 'is';\nexport const OPERATOR_IS_NOT = 'isNot';\nexport const OPERATOR_IS_ANY = 'isAny';\nexport const OPERATOR_IS_NONE = 'isNone';\nexport const OPERATOR_IS_ALL = 'isAll';\nexport const OPERATOR_IS_NOT_ALL = 'isNotAll';\nexport const OPERATOR_LESS_THAN = 'lessThan';\nexport const OPERATOR_GREATER_THAN = 'greaterThan';\nexport const OPERATOR_LESS_THAN_OR_EQUAL = 'lessThanOrEqual';\nexport const OPERATOR_GREATER_THAN_OR_EQUAL = 'greaterThanOrEqual';\nexport const OPERATOR_BEFORE = 'before';\nexport const OPERATOR_AFTER = 'after';\nexport const OPERATOR_BEFORE_INC = 'beforeInc';\nexport const OPERATOR_AFTER_INC = 'afterInc';\nexport const OPERATOR_CONTAINS = 'contains';\nexport const OPERATOR_NOT_CONTAINS = 'notContains';\nexport const OPERATOR_STARTS_WITH = 'startsWith';\nexport const OPERATOR_BETWEEN = 'between';\nexport const OPERATOR_ON = 'on';\nexport const OPERATOR_NOT_ON = 'notOn';\nexport const OPERATOR_IN_THE_PAST = 'inThePast';\nexport const OPERATOR_OVER = 'over';\n\nexport const ALL_OPERATORS: Operator[] = [\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n\tOPERATOR_BETWEEN,\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n];\n\nexport const SINGLE_SELECTION_OPERATORS: Operator[] = [\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n];\n\nexport const OPERATORS: Record< Operator, { key: string; label: string } > = {\n\t[ OPERATOR_IS ]: {\n\t\tkey: 'is-filter',\n\t\tlabel: __( 'Is' ),\n\t},\n\t[ OPERATOR_IS_NOT ]: {\n\t\tkey: 'is-not-filter',\n\t\tlabel: __( 'Is not' ),\n\t},\n\t[ OPERATOR_IS_ANY ]: {\n\t\tkey: 'is-any-filter',\n\t\tlabel: __( 'Is any' ),\n\t},\n\t[ OPERATOR_IS_NONE ]: {\n\t\tkey: 'is-none-filter',\n\t\tlabel: __( 'Is none' ),\n\t},\n\t[ OPERATOR_IS_ALL ]: {\n\t\tkey: 'is-all-filter',\n\t\tlabel: __( 'Is all' ),\n\t},\n\t[ OPERATOR_IS_NOT_ALL ]: {\n\t\tkey: 'is-not-all-filter',\n\t\tlabel: __( 'Is not all' ),\n\t},\n\t[ OPERATOR_LESS_THAN ]: {\n\t\tkey: 'less-than-filter',\n\t\tlabel: __( 'Less than' ),\n\t},\n\t[ OPERATOR_GREATER_THAN ]: {\n\t\tkey: 'greater-than-filter',\n\t\tlabel: __( 'Greater than' ),\n\t},\n\t[ OPERATOR_LESS_THAN_OR_EQUAL ]: {\n\t\tkey: 'less-than-or-equal-filter',\n\t\tlabel: __( 'Less than or equal' ),\n\t},\n\t[ OPERATOR_GREATER_THAN_OR_EQUAL ]: {\n\t\tkey: 'greater-than-or-equal-filter',\n\t\tlabel: __( 'Greater than or equal' ),\n\t},\n\t[ OPERATOR_BEFORE ]: {\n\t\tkey: 'before-filter',\n\t\tlabel: __( 'Before' ),\n\t},\n\t[ OPERATOR_AFTER ]: {\n\t\tkey: 'after-filter',\n\t\tlabel: __( 'After' ),\n\t},\n\t[ OPERATOR_BEFORE_INC ]: {\n\t\tkey: 'before-inc-filter',\n\t\tlabel: __( 'Before (inc)' ),\n\t},\n\t[ OPERATOR_AFTER_INC ]: {\n\t\tkey: 'after-inc-filter',\n\t\tlabel: __( 'After (inc)' ),\n\t},\n\t[ OPERATOR_CONTAINS ]: {\n\t\tkey: 'contains-filter',\n\t\tlabel: __( 'Contains' ),\n\t},\n\t[ OPERATOR_NOT_CONTAINS ]: {\n\t\tkey: 'not-contains-filter',\n\t\tlabel: __( \"Doesn't contain\" ),\n\t},\n\t[ OPERATOR_STARTS_WITH ]: {\n\t\tkey: 'starts-with-filter',\n\t\tlabel: __( 'Starts with' ),\n\t},\n\t[ OPERATOR_BETWEEN ]: {\n\t\tkey: 'between-filter',\n\t\tlabel: __( 'Between (inc)' ),\n\t},\n\t[ OPERATOR_ON ]: {\n\t\tkey: 'on-filter',\n\t\tlabel: __( 'On' ),\n\t},\n\t[ OPERATOR_NOT_ON ]: {\n\t\tkey: 'not-on-filter',\n\t\tlabel: __( 'Not on' ),\n\t},\n\t[ OPERATOR_IN_THE_PAST ]: {\n\t\tkey: 'in-the-past-filter',\n\t\tlabel: __( 'In the past' ),\n\t},\n\t[ OPERATOR_OVER ]: {\n\t\tkey: 'over-filter',\n\t\tlabel: __( 'Over' ),\n\t},\n};\n\nexport const SORTING_DIRECTIONS = [ 'asc', 'desc' ] as const;\nexport const sortArrows = { asc: '\u2191', desc: '\u2193' };\nexport const sortValues = { asc: 'ascending', desc: 'descending' } as const;\nexport const sortLabels = {\n\tasc: __( 'Sort ascending' ),\n\tdesc: __( 'Sort descending' ),\n};\nexport const sortIcons = {\n\tasc: arrowUp,\n\tdesc: arrowDown,\n};\n\n// View layouts.\nexport const LAYOUT_TABLE = 'table';\nexport const LAYOUT_GRID = 'grid';\nexport const LAYOUT_LIST = 'list';\n\n// Picker view layouts.\nexport const LAYOUT_PICKER_GRID = 'pickerGrid';\nexport const LAYOUT_PICKER_TABLE = 'pickerTable';\n", "/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport {\n\tblockTable,\n\tcategory,\n\tformatListBullets,\n\tformatListBulletsRTL,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ViewTable from './table';\nimport ViewGrid from './grid';\nimport ViewList from './list';\nimport ViewPickerGrid from './picker-grid';\nimport ViewPickerTable from './picker-table';\nimport {\n\tLAYOUT_GRID,\n\tLAYOUT_LIST,\n\tLAYOUT_TABLE,\n\tLAYOUT_PICKER_GRID,\n\tLAYOUT_PICKER_TABLE,\n} from '../constants';\nimport PreviewSizePicker from './utils/preview-size-picker';\nimport DensityPicker from './table/density-picker';\n\nexport const VIEW_LAYOUTS = [\n\t{\n\t\ttype: LAYOUT_TABLE,\n\t\tlabel: __( 'Table' ),\n\t\tcomponent: ViewTable,\n\t\ticon: blockTable,\n\t\tviewConfigOptions: DensityPicker,\n\t},\n\t{\n\t\ttype: LAYOUT_GRID,\n\t\tlabel: __( 'Grid' ),\n\t\tcomponent: ViewGrid,\n\t\ticon: category,\n\t\tviewConfigOptions: PreviewSizePicker,\n\t},\n\t{\n\t\ttype: LAYOUT_LIST,\n\t\tlabel: __( 'List' ),\n\t\tcomponent: ViewList,\n\t\ticon: isRTL() ? formatListBulletsRTL : formatListBullets,\n\t},\n\t{\n\t\ttype: LAYOUT_PICKER_GRID,\n\t\tlabel: __( 'Grid' ),\n\t\tcomponent: ViewPickerGrid,\n\t\ticon: category,\n\t\tviewConfigOptions: PreviewSizePicker,\n\t\tisPicker: true,\n\t},\n\t{\n\t\ttype: LAYOUT_PICKER_TABLE,\n\t\tlabel: __( 'Table' ),\n\t\tcomponent: ViewPickerTable,\n\t\ticon: blockTable,\n\t\tviewConfigOptions: DensityPicker,\n\t\tisPicker: true,\n\t},\n];\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ComponentProps, ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Spinner, Popover } from '@wordpress/components';\nimport {\n\tuseContext,\n\tuseEffect,\n\tuseId,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport ItemActions from '../../components/dataviews-item-actions';\nimport { sortValues } from '../../constants';\nimport {\n\tuseSomeItemHasAPossibleBulkAction,\n\tuseHasAPossibleBulkAction,\n\tBulkSelectionCheckbox,\n} from '../../components/dataviews-bulk-actions';\nimport type {\n\tAction,\n\tNormalizedField,\n\tViewTable as ViewTableType,\n\tViewTableProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport ColumnHeaderMenu from './column-header-menu';\nimport ColumnPrimary from './column-primary';\nimport { useIsHorizontalScrollEnd } from './use-is-horizontal-scroll-end';\nimport getDataByGroup from '../utils/get-data-by-group';\nimport { PropertiesSection } from '../../components/dataviews-view-config/properties-section';\n\ninterface TableColumnFieldProps< Item > {\n\tfields: NormalizedField< Item >[];\n\tcolumn: string;\n\titem: Item;\n\talign?: 'start' | 'center' | 'end';\n}\n\ninterface TableRowProps< Item > {\n\thasBulkActions: boolean;\n\titem: Item;\n\tlevel?: number;\n\tactions: Action< Item >[];\n\tfields: NormalizedField< Item >[];\n\tid: string;\n\tview: ViewTableType;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tselection: string[];\n\tgetItemId: ( item: Item ) => string;\n\tonChangeSelection: SetSelection;\n\tisItemClickable: ( item: Item ) => boolean;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisActionsColumnSticky?: boolean;\n\tposinset?: number;\n}\n\nfunction TableColumnField< Item >( {\n\titem,\n\tfields,\n\tcolumn,\n\talign,\n}: TableColumnFieldProps< Item > ) {\n\tconst field = fields.find( ( f ) => f.id === column );\n\n\tif ( ! field ) {\n\t\treturn null;\n\t}\n\n\tconst className = clsx( 'dataviews-view-table__cell-content-wrapper', {\n\t\t'dataviews-view-table__cell-align-end': align === 'end',\n\t\t'dataviews-view-table__cell-align-center': align === 'center',\n\t} );\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<field.render item={ item } field={ field } />\n\t\t</div>\n\t);\n}\n\nfunction TableRow< Item >( {\n\thasBulkActions,\n\titem,\n\tlevel,\n\tactions,\n\tfields,\n\tid,\n\tview,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tselection,\n\tgetItemId,\n\tisItemClickable,\n\tonClickItem,\n\trenderItemLink,\n\tonChangeSelection,\n\tisActionsColumnSticky,\n\tposinset,\n}: TableRowProps< Item > ) {\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\tconst hasPossibleBulkAction = useHasAPossibleBulkAction( actions, item );\n\tconst isSelected = hasPossibleBulkAction && selection.includes( id );\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst handleMouseEnter = () => {\n\t\tsetIsHovered( true );\n\t};\n\tconst handleMouseLeave = () => {\n\t\tsetIsHovered( false );\n\t};\n\n\t// Will be set to true if `onTouchStart` fires. This happens before\n\t// `onClick` and can be used to exclude touchscreen devices from certain\n\t// behaviours.\n\tconst isTouchDeviceRef = useRef( false );\n\tconst columns = view.fields ?? [];\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\n\treturn (\n\t\t<tr\n\t\t\tclassName={ clsx( 'dataviews-view-table__row', {\n\t\t\t\t'is-selected': hasPossibleBulkAction && isSelected,\n\t\t\t\t'is-hovered': isHovered,\n\t\t\t\t'has-bulk-actions': hasPossibleBulkAction,\n\t\t\t} ) }\n\t\t\tonMouseEnter={ handleMouseEnter }\n\t\t\tonMouseLeave={ handleMouseLeave }\n\t\t\tonTouchStart={ () => {\n\t\t\t\tisTouchDeviceRef.current = true;\n\t\t\t} }\n\t\t\taria-setsize={\n\t\t\t\tinfiniteScrollEnabled ? paginationInfo.totalItems : undefined\n\t\t\t}\n\t\t\taria-posinset={ posinset }\n\t\t\trole={ infiniteScrollEnabled ? 'article' : undefined }\n\t\t\tonClick={ ( event ) => {\n\t\t\t\tif ( ! hasPossibleBulkAction ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t! isTouchDeviceRef.current &&\n\t\t\t\t\tdocument.getSelection()?.type !== 'Range'\n\t\t\t\t) {\n\t\t\t\t\tif ( isAppleOS() ? event.metaKey : event.ctrlKey ) {\n\t\t\t\t\t\t// Handle non-consecutive selection.\n\t\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t\t\t? selection.filter(\n\t\t\t\t\t\t\t\t\t\t( itemId ) => id !== itemId\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: [ ...selection, id ]\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Handle single selection\n\t\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t\t\t? selection.filter(\n\t\t\t\t\t\t\t\t\t\t( itemId ) => id !== itemId\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: [ id ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} }\n\t\t>\n\t\t\t{ hasBulkActions && (\n\t\t\t\t<td className=\"dataviews-view-table__checkbox-column\">\n\t\t\t\t\t<div className=\"dataviews-view-table__cell-content-wrapper\">\n\t\t\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\tdisabled={ ! hasPossibleBulkAction }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t) }\n\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t<td>\n\t\t\t\t\t<ColumnPrimary\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tlevel={ level }\n\t\t\t\t\t\ttitleField={ showTitle ? titleField : undefined }\n\t\t\t\t\t\tmediaField={ showMedia ? mediaField : undefined }\n\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\tshowDescription ? descriptionField : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t/>\n\t\t\t\t</td>\n\t\t\t) }\n\t\t\t{ columns.map( ( column: string ) => {\n\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\n\t\t\t\treturn (\n\t\t\t\t\t<td\n\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableColumnField\n\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tcolumn={ column }\n\t\t\t\t\t\t\talign={ align }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ !! actions?.length && (\n\t\t\t\t// Disable reason: we are not making the element interactive,\n\t\t\t\t// but preventing any click events from bubbling up to the\n\t\t\t\t// table row. This allows us to add a click handler to the row\n\t\t\t\t// itself (to toggle row selection) without erroneously\n\t\t\t\t// intercepting click events from ItemActions.\n\n\t\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t\t\t<td\n\t\t\t\t\tclassName={ clsx( 'dataviews-view-table__actions-column', {\n\t\t\t\t\t\t'dataviews-view-table__actions-column--sticky': true,\n\t\t\t\t\t\t'dataviews-view-table__actions-column--stuck':\n\t\t\t\t\t\t\tisActionsColumnSticky,\n\t\t\t\t\t} ) }\n\t\t\t\t\tonClick={ ( e ) => e.stopPropagation() }\n\t\t\t\t>\n\t\t\t\t\t<ItemActions item={ item } actions={ actions } />\n\t\t\t\t</td>\n\t\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t\t) }\n\t\t</tr>\n\t);\n}\n\nfunction ViewTable< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tgetItemLevel,\n\tisLoading = false,\n\tonChangeView,\n\tonChangeSelection,\n\tselection,\n\tsetOpenedFilter,\n\tonClickItem,\n\tisItemClickable,\n\trenderItemLink,\n\tview,\n\tclassName,\n\tempty,\n}: ViewTableProps< Item > ) {\n\tconst { containerRef } = useContext( DataViewsContext );\n\tconst headerMenuRefs = useRef<\n\t\tMap< string, { node: HTMLButtonElement; fallback: string } >\n\t>( new Map() );\n\tconst headerMenuToFocusRef = useRef< HTMLButtonElement >();\n\tconst [ nextHeaderMenuToFocus, setNextHeaderMenuToFocus ] =\n\t\tuseState< HTMLButtonElement >();\n\tconst hasBulkActions = useSomeItemHasAPossibleBulkAction( actions, data );\n\tconst [ contextMenuAnchor, setContextMenuAnchor ] = useState< {\n\t\tgetBoundingClientRect: () => DOMRect;\n\t} | null >( null );\n\n\tuseEffect( () => {\n\t\tif ( headerMenuToFocusRef.current ) {\n\t\t\theaderMenuToFocusRef.current.focus();\n\t\t\theaderMenuToFocusRef.current = undefined;\n\t\t}\n\t} );\n\n\tconst tableNoticeId = useId();\n\n\tconst isHorizontalScrollEnd = useIsHorizontalScrollEnd( {\n\t\tscrollContainerRef: containerRef,\n\t\tenabled: !! actions?.length,\n\t} );\n\n\tif ( nextHeaderMenuToFocus ) {\n\t\t// If we need to force focus, we short-circuit rendering here\n\t\t// to prevent any additional work while we handle that.\n\t\t// Clearing out the focus directive is necessary to make sure\n\t\t// future renders don't cause unexpected focus jumps.\n\t\theaderMenuToFocusRef.current = nextHeaderMenuToFocus;\n\t\tsetNextHeaderMenuToFocus( undefined );\n\t\treturn;\n\t}\n\n\tconst onHide = ( field: NormalizedField< Item > ) => {\n\t\tconst hidden = headerMenuRefs.current.get( field.id );\n\t\tconst fallback = hidden\n\t\t\t? headerMenuRefs.current.get( hidden.fallback )\n\t\t\t: undefined;\n\t\tsetNextHeaderMenuToFocus( fallback?.node );\n\t};\n\n\tconst handleHeaderContextMenu = ( event: React.MouseEvent ) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tconst virtualAnchor = {\n\t\t\tgetBoundingClientRect: () => ( {\n\t\t\t\tx: event.clientX,\n\t\t\t\ty: event.clientY,\n\t\t\t\ttop: event.clientY,\n\t\t\t\tleft: event.clientX,\n\t\t\t\tright: event.clientX,\n\t\t\t\tbottom: event.clientY,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\ttoJSON: () => ( {} ),\n\t\t\t} ),\n\t\t};\n\t\twindow.requestAnimationFrame( () => {\n\t\t\tsetContextMenuAnchor( virtualAnchor );\n\t\t} );\n\t};\n\n\tconst hasData = !! data?.length;\n\n\tconst titleField = fields.find( ( field ) => field.id === view.titleField );\n\tconst mediaField = fields.find( ( field ) => field.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view.descriptionField\n\t);\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\tconst { showTitle = true, showMedia = true, showDescription = true } = view;\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\tconst columns = view.fields ?? [];\n\tconst headerMenuRef =\n\t\t( column: string, index: number ) => ( node: HTMLButtonElement ) => {\n\t\t\tif ( node ) {\n\t\t\t\theaderMenuRefs.current.set( column, {\n\t\t\t\t\tnode,\n\t\t\t\t\tfallback: columns[ index > 0 ? index - 1 : 1 ],\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\theaderMenuRefs.current.delete( column );\n\t\t\t}\n\t\t};\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\treturn (\n\t\t<>\n\t\t\t<table\n\t\t\t\tclassName={ clsx( 'dataviews-view-table', className, {\n\t\t\t\t\t[ `has-${ view.layout?.density }-density` ]:\n\t\t\t\t\t\tview.layout?.density &&\n\t\t\t\t\t\t[ 'compact', 'comfortable' ].includes(\n\t\t\t\t\t\t\tview.layout.density\n\t\t\t\t\t\t),\n\t\t\t\t} ) }\n\t\t\t\taria-busy={ isLoading }\n\t\t\t\taria-describedby={ tableNoticeId }\n\t\t\t\trole={ isInfiniteScroll ? 'feed' : undefined }\n\t\t\t>\n\t\t\t\t<colgroup>\n\t\t\t\t\t{ hasBulkActions && (\n\t\t\t\t\t\t<col className=\"dataviews-view-table__col-checkbox\" />\n\t\t\t\t\t) }\n\t\t\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t\t\t<col className=\"dataviews-view-table__col-primary\" />\n\t\t\t\t\t) }\n\t\t\t\t\t{ columns.map( ( column ) => (\n\t\t\t\t\t\t<col\n\t\t\t\t\t\t\tkey={ `col-${ column }` }\n\t\t\t\t\t\t\tclassName={ `dataviews-view-table__col-${ column }` }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t\t{ !! actions?.length && (\n\t\t\t\t\t\t<col className=\"dataviews-view-table__col-actions\" />\n\t\t\t\t\t) }\n\t\t\t\t</colgroup>\n\t\t\t\t{ contextMenuAnchor && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tanchor={ contextMenuAnchor }\n\t\t\t\t\t\tonClose={ () => setContextMenuAnchor( null ) }\n\t\t\t\t\t\tplacement=\"bottom-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<PropertiesSection showLabel={ false } />\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t\t<thead onContextMenu={ handleHeaderContextMenu }>\n\t\t\t\t\t<tr className=\"dataviews-view-table__row\">\n\t\t\t\t\t\t{ hasBulkActions && (\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__checkbox-column\"\n\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\tonContextMenu={ handleHeaderContextMenu }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BulkSelectionCheckbox\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ titleField && (\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef(\n\t\t\t\t\t\t\t\t\t\t\ttitleField.id,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ titleField.id }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={ false }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ columns.map( ( column, index ) => {\n\t\t\t\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t\t\t\t\ttextAlign: align,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\taria-sort={\n\t\t\t\t\t\t\t\t\t\tview.sort?.direction &&\n\t\t\t\t\t\t\t\t\t\tview.sort?.field === column\n\t\t\t\t\t\t\t\t\t\t\t? sortValues[ view.sort.direction ]\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef( column, index ) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ column }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={\n\t\t\t\t\t\t\t\t\t\t\tview.layout?.enableMoving ?? true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t{ !! actions?.length && (\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t'dataviews-view-table__actions-column',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'dataviews-view-table__actions-column--sticky':\n\t\t\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\t\t'dataviews-view-table__actions-column--stuck':\n\t\t\t\t\t\t\t\t\t\t\t! isHorizontalScrollEnd,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"dataviews-view-table-header\">\n\t\t\t\t\t\t\t\t\t{ __( 'Actions' ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t{ /* Render grouped data if groupByField is specified */ }\n\t\t\t\t{ hasData && groupField && dataByGroup ? (\n\t\t\t\t\tArray.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t<tbody key={ `group-${ groupName }` }>\n\t\t\t\t\t\t\t\t<tr className=\"dataviews-view-table__group-header-row\">\n\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\tcolumns.length +\n\t\t\t\t\t\t\t\t\t\t\t( hasPrimaryColumn ? 1 : 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t( hasBulkActions ? 1 : 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t( actions?.length ? 1 : 0 )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__group-header-cell\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{ groupItems.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tlevel={\n\t\t\t\t\t\t\t\t\t\t\tview.showLevels &&\n\t\t\t\t\t\t\t\t\t\t\ttypeof getItemLevel === 'function'\n\t\t\t\t\t\t\t\t\t\t\t\t? getItemLevel( item )\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thasBulkActions={ hasBulkActions }\n\t\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\t\t\tgetItemId( item ) ||\n\t\t\t\t\t\t\t\t\t\t\tindex.toString()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\t\t\t\t\tisActionsColumnSticky={\n\t\t\t\t\t\t\t\t\t\t\t! isHorizontalScrollEnd\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{ hasData &&\n\t\t\t\t\t\t\tdata.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tlevel={\n\t\t\t\t\t\t\t\t\t\tview.showLevels &&\n\t\t\t\t\t\t\t\t\t\ttypeof getItemLevel === 'function'\n\t\t\t\t\t\t\t\t\t\t\t? getItemLevel( item )\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thasBulkActions={ hasBulkActions }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\tid={ getItemId( item ) || index.toString() }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\t\t\t\tisActionsColumnSticky={\n\t\t\t\t\t\t\t\t\t\t! isHorizontalScrollEnd\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tposinset={\n\t\t\t\t\t\t\t\t\t\tisInfiniteScroll ? index + 1 : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</tbody>\n\t\t\t\t) }\n\t\t\t</table>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t'dataviews-no-results': ! hasData && ! isLoading,\n\t\t\t\t} ) }\n\t\t\t\tid={ tableNoticeId }\n\t\t\t>\n\t\t\t\t{ ! hasData &&\n\t\t\t\t\t( isLoading ? (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tempty\n\t\t\t\t\t) ) }\n\t\t\t\t{ hasData && isLoading && (\n\t\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ViewTable;\n", "/**\n * WordPress dependencies\n */\nimport { CheckboxControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { SetSelection } from '../../types/private';\nimport type { NormalizedField } from '../../types';\n\ninterface DataViewsSelectionCheckboxProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\titem: Item;\n\tgetItemId: ( item: Item ) => string;\n\ttitleField?: NormalizedField< Item >;\n\tdisabled: boolean;\n\ttabIndex?: number;\n}\n\nexport default function DataViewsSelectionCheckbox< Item >( {\n\tselection,\n\tonChangeSelection,\n\titem,\n\tgetItemId,\n\ttitleField,\n\tdisabled,\n\t...extraProps\n}: DataViewsSelectionCheckboxProps< Item > ) {\n\tconst id = getItemId( item );\n\tconst checked = ! disabled && selection.includes( id );\n\n\t// Fallback label to ensure accessibility\n\tconst selectionLabel =\n\t\ttitleField?.getValue?.( { item } ) || __( '(no title)' );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"dataviews-selection-checkbox\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\taria-label={ selectionLabel }\n\t\t\taria-disabled={ disabled }\n\t\t\tchecked={ checked }\n\t\t\tonChange={ () => {\n\t\t\t\tif ( disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tonChangeSelection(\n\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t? selection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t\t: [ ...selection, id ]\n\t\t\t\t);\n\t\t\t} }\n\t\t\t{ ...extraProps }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { MouseEventHandler } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalHStack as HStack,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMemo, useState } from '@wordpress/element';\nimport { moreVertical } from '@wordpress/icons';\nimport { useRegistry } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport type { Action, ActionModal as ActionModalType } from '../../types';\n\nconst { Menu, kebabCase } = unlock( componentsPrivateApis );\n\nexport interface ActionTriggerProps< Item > {\n\taction: Action< Item >;\n\tonClick: MouseEventHandler;\n\tisBusy?: boolean;\n\titems: Item[];\n}\n\nexport interface ActionModalProps< Item > {\n\taction: ActionModalType< Item >;\n\titems: Item[];\n\tcloseModal: () => void;\n}\n\ninterface ActionsMenuGroupProps< Item > {\n\tactions: Action< Item >[];\n\titem: Item;\n\tregistry: ReturnType< typeof useRegistry >;\n\tsetActiveModalAction: ( action: ActionModalType< Item > | null ) => void;\n}\n\ninterface ItemActionsProps< Item > {\n\titem: Item;\n\tactions: Action< Item >[];\n\tisCompact?: boolean;\n}\n\ninterface CompactItemActionsProps< Item > {\n\titem: Item;\n\tactions: Action< Item >[];\n\tisSmall?: boolean;\n\tregistry: ReturnType< typeof useRegistry >;\n}\n\ninterface PrimaryActionsProps< Item > {\n\titem: Item;\n\tactions: Action< Item >[];\n\tregistry: ReturnType< typeof useRegistry >;\n}\n\nfunction ButtonTrigger< Item >( {\n\taction,\n\tonClick,\n\titems,\n}: ActionTriggerProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<Button\n\t\t\tdisabled={ !! action.disabled }\n\t\t\taccessibleWhenDisabled\n\t\t\tsize=\"compact\"\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n\nfunction MenuItemTrigger< Item >( {\n\taction,\n\tonClick,\n\titems,\n}: ActionTriggerProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<Menu.Item disabled={ action.disabled } onClick={ onClick }>\n\t\t\t<Menu.ItemLabel>{ label }</Menu.ItemLabel>\n\t\t</Menu.Item>\n\t);\n}\n\nexport function ActionModal< Item >( {\n\taction,\n\titems,\n\tcloseModal,\n}: ActionModalProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\n\tconst modalHeader =\n\t\ttypeof action.modalHeader === 'function'\n\t\t\t? action.modalHeader( items )\n\t\t\t: action.modalHeader;\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ modalHeader || label }\n\t\t\t__experimentalHideHeader={ !! action.hideModalHeader }\n\t\t\tonRequestClose={ closeModal }\n\t\t\tfocusOnMount={ action.modalFocusOnMount ?? true }\n\t\t\tsize={ action.modalSize || 'medium' }\n\t\t\toverlayClassName={ `dataviews-action-modal dataviews-action-modal__${ kebabCase(\n\t\t\t\taction.id\n\t\t\t) }` }\n\t\t>\n\t\t\t<action.RenderModal items={ items } closeModal={ closeModal } />\n\t\t</Modal>\n\t);\n}\n\nexport function ActionsMenuGroup< Item >( {\n\tactions,\n\titem,\n\tregistry,\n\tsetActiveModalAction,\n}: ActionsMenuGroupProps< Item > ) {\n\tconst { primaryActions, regularActions } = useMemo( () => {\n\t\treturn actions.reduce(\n\t\t\t( acc, action ) => {\n\t\t\t\t( action.isPrimary\n\t\t\t\t\t? acc.primaryActions\n\t\t\t\t\t: acc.regularActions\n\t\t\t\t).push( action );\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{\n\t\t\t\tprimaryActions: [] as Action< Item >[],\n\t\t\t\tregularActions: [] as Action< Item >[],\n\t\t\t}\n\t\t);\n\t}, [ actions ] );\n\n\tconst renderActionGroup = ( actionList: Action< Item >[] ) =>\n\t\tactionList.map( ( action ) => (\n\t\t\t<MenuItemTrigger\n\t\t\t\tkey={ action.id }\n\t\t\t\taction={ action }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tif ( 'RenderModal' in action ) {\n\t\t\t\t\t\tsetActiveModalAction( action );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\taction.callback( [ item ], { registry } );\n\t\t\t\t} }\n\t\t\t\titems={ [ item ] }\n\t\t\t/>\n\t\t) );\n\n\treturn (\n\t\t<Menu.Group>\n\t\t\t{ renderActionGroup( primaryActions ) }\n\t\t\t{ primaryActions.length > 0 && regularActions.length > 0 && (\n\t\t\t\t<Menu.Separator />\n\t\t\t) }\n\t\t\t{ renderActionGroup( regularActions ) }\n\t\t</Menu.Group>\n\t);\n}\n\nexport default function ItemActions< Item >( {\n\titem,\n\tactions,\n\tisCompact,\n}: ItemActionsProps< Item > ) {\n\tconst registry = useRegistry();\n\tconst { primaryActions, eligibleActions } = useMemo( () => {\n\t\t// If an action is eligible for all items, doesn't need\n\t\t// to provide the `isEligible` function.\n\t\tconst _eligibleActions = actions.filter(\n\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\n\t\t);\n\t\tconst _primaryActions = _eligibleActions.filter(\n\t\t\t( action ) => action.isPrimary\n\t\t);\n\t\treturn {\n\t\t\tprimaryActions: _primaryActions,\n\t\t\teligibleActions: _eligibleActions,\n\t\t};\n\t}, [ actions, item ] );\n\n\tif ( isCompact ) {\n\t\treturn (\n\t\t\t<CompactItemActions\n\t\t\t\titem={ item }\n\t\t\t\tactions={ eligibleActions }\n\t\t\t\tisSmall\n\t\t\t\tregistry={ registry }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<HStack\n\t\t\tspacing={ 0 }\n\t\t\tjustify=\"flex-end\"\n\t\t\tclassName=\"dataviews-item-actions\"\n\t\t\tstyle={ {\n\t\t\t\tflexShrink: 0,\n\t\t\t\twidth: 'auto',\n\t\t\t} }\n\t\t>\n\t\t\t<PrimaryActions\n\t\t\t\titem={ item }\n\t\t\t\tactions={ primaryActions }\n\t\t\t\tregistry={ registry }\n\t\t\t/>\n\t\t\t{ primaryActions.length < eligibleActions.length && (\n\t\t\t\t<CompactItemActions\n\t\t\t\t\titem={ item }\n\t\t\t\t\tactions={ eligibleActions }\n\t\t\t\t\tregistry={ registry }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</HStack>\n\t);\n}\n\nfunction CompactItemActions< Item >( {\n\titem,\n\tactions,\n\tisSmall,\n\tregistry,\n}: CompactItemActionsProps< Item > ) {\n\tconst [ activeModalAction, setActiveModalAction ] = useState(\n\t\tnull as ActionModalType< Item > | null\n\t);\n\treturn (\n\t\t<>\n\t\t\t<Menu placement=\"bottom-end\">\n\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\trender={\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize={ isSmall ? 'small' : 'compact' }\n\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\tdisabled={ ! actions.length }\n\t\t\t\t\t\t\tclassName=\"dataviews-all-actions-button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Menu.Popover>\n\t\t\t\t\t<ActionsMenuGroup\n\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tregistry={ registry }\n\t\t\t\t\t\tsetActiveModalAction={ setActiveModalAction }\n\t\t\t\t\t/>\n\t\t\t\t</Menu.Popover>\n\t\t\t</Menu>\n\t\t\t{ !! activeModalAction && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ activeModalAction }\n\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\tcloseModal={ () => setActiveModalAction( null ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction PrimaryActions< Item >( {\n\titem,\n\tactions,\n\tregistry,\n}: PrimaryActionsProps< Item > ) {\n\tconst [ activeModalAction, setActiveModalAction ] = useState( null as any );\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\n\tif ( isMobileViewport ) {\n\t\treturn null;\n\t}\n\n\tif ( ! Array.isArray( actions ) || actions.length === 0 ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t{ actions.map( ( action ) => (\n\t\t\t\t<ButtonTrigger\n\t\t\t\t\tkey={ action.id }\n\t\t\t\t\taction={ action }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tif ( 'RenderModal' in action ) {\n\t\t\t\t\t\t\tsetActiveModalAction( action );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction.callback( [ item ], { registry } );\n\t\t\t\t\t} }\n\t\t\t\t\titems={ [ item ] }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t\t{ !! activeModalAction && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ activeModalAction }\n\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\tcloseModal={ () => setActiveModalAction( null ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/dataviews'\n\t);\n", "/**\n * External dependencies\n */\nimport type { ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport { useMemo, useState, useRef, useContext } from '@wordpress/element';\nimport { useRegistry } from '@wordpress/data';\nimport { closeSmall } from '@wordpress/icons';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport { ActionModal } from '../dataviews-item-actions';\nimport type { Action, ActionModal as ActionModalType } from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport type { ActionTriggerProps } from '../dataviews-item-actions';\n\ninterface ActionWithModalProps< Item > {\n\taction: ActionModalType< Item >;\n\titems: Item[];\n\tActionTriggerComponent: (\n\t\tprops: ActionTriggerProps< Item >\n\t) => ReactElement;\n}\n\nfunction ActionWithModal< Item >( {\n\taction,\n\titems,\n\tActionTriggerComponent,\n}: ActionWithModalProps< Item > ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst actionTriggerProps = {\n\t\taction,\n\t\tonClick: () => {\n\t\t\tsetIsModalOpen( true );\n\t\t},\n\t\titems,\n\t};\n\treturn (\n\t\t<>\n\t\t\t<ActionTriggerComponent { ...actionTriggerProps } />\n\t\t\t{ isModalOpen && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ action }\n\t\t\t\t\titems={ items }\n\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport function useHasAPossibleBulkAction< Item >(\n\tactions: Action< Item >[],\n\titem: Item\n) {\n\treturn useMemo( () => {\n\t\treturn actions.some( ( action ) => {\n\t\t\treturn (\n\t\t\t\taction.supportsBulk &&\n\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t);\n\t\t} );\n\t}, [ actions, item ] );\n}\n\nexport function useSomeItemHasAPossibleBulkAction< Item >(\n\tactions: Action< Item >[],\n\tdata: Item[]\n) {\n\treturn useMemo( () => {\n\t\treturn data.some( ( item ) => {\n\t\t\treturn actions.some( ( action ) => {\n\t\t\t\treturn (\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t\t);\n\t\t\t} );\n\t\t} );\n\t}, [ actions, data ] );\n}\n\ninterface BulkSelectionCheckboxProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tactions: Action< Item >[];\n\tgetItemId: ( item: Item ) => string;\n}\n\nexport function BulkSelectionCheckbox< Item >( {\n\tselection,\n\tonChangeSelection,\n\tdata,\n\tactions,\n\tgetItemId,\n}: BulkSelectionCheckboxProps< Item > ) {\n\tconst selectableItems = useMemo( () => {\n\t\treturn data.filter( ( item ) => {\n\t\t\treturn actions.some(\n\t\t\t\t( action ) =>\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t);\n\t\t} );\n\t}, [ data, actions ] );\n\tconst selectedItems = data.filter(\n\t\t( item ) =>\n\t\t\tselection.includes( getItemId( item ) ) &&\n\t\t\tselectableItems.includes( item )\n\t);\n\tconst areAllSelected = selectedItems.length === selectableItems.length;\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"dataviews-view-table-selection-checkbox\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tchecked={ areAllSelected }\n\t\t\tindeterminate={ ! areAllSelected && !! selectedItems.length }\n\t\t\tonChange={ () => {\n\t\t\t\tif ( areAllSelected ) {\n\t\t\t\t\tonChangeSelection( [] );\n\t\t\t\t} else {\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselectableItems.map( ( item ) => getItemId( item ) )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t\taria-label={\n\t\t\t\tareAllSelected ? __( 'Deselect all' ) : __( 'Select all' )\n\t\t\t}\n\t\t/>\n\t);\n}\n\ninterface ActionButtonProps< Item > {\n\taction: Action< Item >;\n\tselectedItems: Item[];\n\tactionInProgress: string | null;\n\tsetActionInProgress: ( actionId: string | null ) => void;\n}\n\ninterface ToolbarContentProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tactions: Action< Item >[];\n\tgetItemId: ( item: Item ) => string;\n}\n\nfunction ActionTrigger< Item >( {\n\taction,\n\tonClick,\n\tisBusy,\n\titems,\n}: ActionTriggerProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\n\tif ( isMobile ) {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tdisabled={ isBusy }\n\t\t\t\taccessibleWhenDisabled\n\t\t\t\tlabel={ label }\n\t\t\t\ticon={ action.icon }\n\t\t\t\tsize=\"compact\"\n\t\t\t\tonClick={ onClick }\n\t\t\t\tisBusy={ isBusy }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tdisabled={ isBusy }\n\t\t\taccessibleWhenDisabled\n\t\t\tsize=\"compact\"\n\t\t\tonClick={ onClick }\n\t\t\tisBusy={ isBusy }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n\nconst EMPTY_ARRAY: [] = [];\n\nfunction ActionButton< Item >( {\n\taction,\n\tselectedItems,\n\tactionInProgress,\n\tsetActionInProgress,\n}: ActionButtonProps< Item > ) {\n\tconst registry = useRegistry();\n\tconst selectedEligibleItems = useMemo( () => {\n\t\treturn selectedItems.filter( ( item ) => {\n\t\t\treturn ! action.isEligible || action.isEligible( item );\n\t\t} );\n\t}, [ action, selectedItems ] );\n\tif ( 'RenderModal' in action ) {\n\t\treturn (\n\t\t\t<ActionWithModal\n\t\t\t\tkey={ action.id }\n\t\t\t\taction={ action }\n\t\t\t\titems={ selectedEligibleItems }\n\t\t\t\tActionTriggerComponent={ ActionTrigger }\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<ActionTrigger\n\t\t\tkey={ action.id }\n\t\t\taction={ action }\n\t\t\tonClick={ async () => {\n\t\t\t\tsetActionInProgress( action.id );\n\t\t\t\tawait action.callback( selectedItems, {\n\t\t\t\t\tregistry,\n\t\t\t\t} );\n\t\t\t\tsetActionInProgress( null );\n\t\t\t} }\n\t\t\titems={ selectedEligibleItems }\n\t\t\tisBusy={ actionInProgress === action.id }\n\t\t/>\n\t);\n}\n\nfunction renderFooterContent< Item >(\n\tdata: Item[],\n\tactions: Action< Item >[],\n\tgetItemId: ( item: Item ) => string,\n\tselection: string[],\n\tactionsToShow: Action< Item >[],\n\tselectedItems: Item[],\n\tactionInProgress: string | null,\n\tsetActionInProgress: ( actionId: string | null ) => void,\n\tonChangeSelection: SetSelection\n) {\n\tconst message =\n\t\tselectedItems.length > 0\n\t\t\t? sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n(\n\t\t\t\t\t\t'%d Item selected',\n\t\t\t\t\t\t'%d Items selected',\n\t\t\t\t\t\tselectedItems.length\n\t\t\t\t\t),\n\t\t\t\t\tselectedItems.length\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n( '%d Item', '%d Items', data.length ),\n\t\t\t\t\tdata.length\n\t\t\t  );\n\treturn (\n\t\t<HStack\n\t\t\texpanded={ false }\n\t\t\tclassName=\"dataviews-bulk-actions-footer__container\"\n\t\t\tspacing={ 3 }\n\t\t>\n\t\t\t<BulkSelectionCheckbox\n\t\t\t\tselection={ selection }\n\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\tdata={ data }\n\t\t\t\tactions={ actions }\n\t\t\t\tgetItemId={ getItemId }\n\t\t\t/>\n\t\t\t<span className=\"dataviews-bulk-actions-footer__item-count\">\n\t\t\t\t{ message }\n\t\t\t</span>\n\t\t\t<HStack\n\t\t\t\tclassName=\"dataviews-bulk-actions-footer__action-buttons\"\n\t\t\t\texpanded={ false }\n\t\t\t\tspacing={ 1 }\n\t\t\t>\n\t\t\t\t{ actionsToShow.map( ( action ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t\tkey={ action.id }\n\t\t\t\t\t\t\taction={ action }\n\t\t\t\t\t\t\tselectedItems={ selectedItems }\n\t\t\t\t\t\t\tactionInProgress={ actionInProgress }\n\t\t\t\t\t\t\tsetActionInProgress={ setActionInProgress }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t\t{ selectedItems.length > 0 && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tlabel={ __( 'Cancel' ) }\n\t\t\t\t\t\tdisabled={ !! actionInProgress }\n\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonChangeSelection( EMPTY_ARRAY );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t</HStack>\n\t);\n}\n\nfunction FooterContent< Item >( {\n\tselection,\n\tactions,\n\tonChangeSelection,\n\tdata,\n\tgetItemId,\n}: ToolbarContentProps< Item > ) {\n\tconst [ actionInProgress, setActionInProgress ] = useState< string | null >(\n\t\tnull\n\t);\n\tconst footerContentRef = useRef< JSX.Element | null >( null );\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\n\tconst bulkActions = useMemo(\n\t\t() => actions.filter( ( action ) => action.supportsBulk ),\n\t\t[ actions ]\n\t);\n\tconst selectableItems = useMemo( () => {\n\t\treturn data.filter( ( item ) => {\n\t\t\treturn bulkActions.some(\n\t\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\n\t\t\t);\n\t\t} );\n\t}, [ data, bulkActions ] );\n\n\tconst selectedItems = useMemo( () => {\n\t\treturn data.filter(\n\t\t\t( item ) =>\n\t\t\t\tselection.includes( getItemId( item ) ) &&\n\t\t\t\tselectableItems.includes( item )\n\t\t);\n\t}, [ selection, data, getItemId, selectableItems ] );\n\n\tconst actionsToShow = useMemo(\n\t\t() =>\n\t\t\tactions.filter( ( action ) => {\n\t\t\t\treturn (\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! isMobile || action.icon ) &&\n\t\t\t\t\tselectedItems.some(\n\t\t\t\t\t\t( item ) =>\n\t\t\t\t\t\t\t! action.isEligible || action.isEligible( item )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} ),\n\t\t[ actions, selectedItems, isMobile ]\n\t);\n\tif ( ! actionInProgress ) {\n\t\tif ( footerContentRef.current ) {\n\t\t\tfooterContentRef.current = null;\n\t\t}\n\t\treturn renderFooterContent(\n\t\t\tdata,\n\t\t\tactions,\n\t\t\tgetItemId,\n\t\t\tselection,\n\t\t\tactionsToShow,\n\t\t\tselectedItems,\n\t\t\tactionInProgress,\n\t\t\tsetActionInProgress,\n\t\t\tonChangeSelection\n\t\t);\n\t} else if ( ! footerContentRef.current ) {\n\t\tfooterContentRef.current = renderFooterContent(\n\t\t\tdata,\n\t\t\tactions,\n\t\t\tgetItemId,\n\t\t\tselection,\n\t\t\tactionsToShow,\n\t\t\tselectedItems,\n\t\t\tactionInProgress,\n\t\t\tsetActionInProgress,\n\t\t\tonChangeSelection\n\t\t);\n\t}\n\treturn footerContentRef.current;\n}\n\nexport function BulkActionsFooter() {\n\tconst {\n\t\tdata,\n\t\tselection,\n\t\tactions = EMPTY_ARRAY,\n\t\tonChangeSelection,\n\t\tgetItemId,\n\t} = useContext( DataViewsContext );\n\treturn (\n\t\t<FooterContent\n\t\t\tselection={ selection }\n\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\tdata={ data }\n\t\t\tactions={ actions }\n\t\t\tgetItemId={ getItemId }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { ReactNode, Ref, PropsWithoutRef, RefAttributes } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { arrowLeft, arrowRight, unseen, funnel } from '@wordpress/icons';\nimport {\n\tButton,\n\tIcon,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { forwardRef, Children, Fragment } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { SORTING_DIRECTIONS, sortArrows, sortLabels } from '../../constants';\nimport type {\n\tNormalizedField,\n\tSortDirection,\n\tViewTable as ViewTableType,\n\tViewPickerTable as ViewPickerTableType,\n\tOperator,\n} from '../../types';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\ninterface HeaderMenuProps< Item > {\n\tfieldId: string;\n\tview: ViewTableType | ViewPickerTableType;\n\tfields: NormalizedField< Item >[];\n\tonChangeView: ( view: ViewTableType | ViewPickerTableType ) => void;\n\tonHide: ( field: NormalizedField< Item > ) => void;\n\tsetOpenedFilter: ( fieldId: string ) => void;\n\tcanMove?: boolean;\n}\n\nfunction WithMenuSeparators( { children }: { children: ReactNode } ) {\n\treturn Children.toArray( children )\n\t\t.filter( Boolean )\n\t\t.map( ( child, i ) => (\n\t\t\t<Fragment key={ i }>\n\t\t\t\t{ i > 0 && <Menu.Separator /> }\n\t\t\t\t{ child }\n\t\t\t</Fragment>\n\t\t) );\n}\n\nconst _HeaderMenu = forwardRef( function HeaderMenu< Item >(\n\t{\n\t\tfieldId,\n\t\tview,\n\t\tfields,\n\t\tonChangeView,\n\t\tonHide,\n\t\tsetOpenedFilter,\n\t\tcanMove = true,\n\t}: HeaderMenuProps< Item >,\n\tref: Ref< HTMLButtonElement >\n) {\n\tconst visibleFieldIds = view.fields ?? [];\n\tconst index = visibleFieldIds?.indexOf( fieldId ) as number;\n\tconst isSorted = view.sort?.field === fieldId;\n\tlet isHidable = false;\n\tlet isSortable = false;\n\tlet canAddFilter = false;\n\tlet operators: Operator[] = [];\n\tconst field = fields.find( ( f ) => f.id === fieldId );\n\n\tif ( ! field ) {\n\t\t// No combined or regular field found.\n\t\treturn null;\n\t}\n\n\tisHidable = field.enableHiding !== false;\n\tisSortable = field.enableSorting !== false;\n\tconst header = field.header;\n\n\toperators = ( !! field.filterBy && field.filterBy?.operators ) || [];\n\n\t// Filter can be added if:\n\t//\n\t// 1. The field is not already part of a view's filters.\n\t// 2. The field has elements or Edit property.\n\t// 3. The field does not opt-out of filtering.\n\t// 4. The filter is not primary (if it is, it is already visible).\n\tcanAddFilter =\n\t\t! view.filters?.some( ( _filter ) => fieldId === _filter.field ) &&\n\t\t!! ( field.hasElements || field.Edit ) &&\n\t\tfield.filterBy !== false &&\n\t\t! field.filterBy?.isPrimary;\n\n\tif ( ! isSortable && ! canMove && ! isHidable && ! canAddFilter ) {\n\t\treturn header;\n\t}\n\n\treturn (\n\t\t<Menu>\n\t\t\t<Menu.TriggerButton\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tclassName=\"dataviews-view-table-header-button\"\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ header }\n\t\t\t\t{ view.sort && isSorted && (\n\t\t\t\t\t<span aria-hidden=\"true\">\n\t\t\t\t\t\t{ sortArrows[ view.sort.direction ] }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t</Menu.TriggerButton>\n\t\t\t<Menu.Popover style={ { minWidth: '240px' } }>\n\t\t\t\t<WithMenuSeparators>\n\t\t\t\t\t{ isSortable && (\n\t\t\t\t\t\t<Menu.Group>\n\t\t\t\t\t\t\t{ SORTING_DIRECTIONS.map(\n\t\t\t\t\t\t\t\t( direction: SortDirection ) => {\n\t\t\t\t\t\t\t\t\tconst isChecked =\n\t\t\t\t\t\t\t\t\t\tview.sort &&\n\t\t\t\t\t\t\t\t\t\tisSorted &&\n\t\t\t\t\t\t\t\t\t\tview.sort.direction === direction;\n\n\t\t\t\t\t\t\t\t\tconst value = `${ fieldId }-${ direction }`;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Menu.RadioItem\n\t\t\t\t\t\t\t\t\t\t\tkey={ value }\n\t\t\t\t\t\t\t\t\t\t\t// All sorting radio items share the same name, so that\n\t\t\t\t\t\t\t\t\t\t\t// selecting a sorting option automatically deselects the\n\t\t\t\t\t\t\t\t\t\t\t// previously selected one, even if it is displayed in\n\t\t\t\t\t\t\t\t\t\t\t// another submenu. The field and direction are passed via\n\t\t\t\t\t\t\t\t\t\t\t// the `value` prop.\n\t\t\t\t\t\t\t\t\t\t\tname=\"view-table-sorting\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\t\tchecked={ isChecked }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsort: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield: fieldId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirection,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowLevels: false,\n\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{ sortLabels[ direction ] }\n\t\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t</Menu.RadioItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Menu.Group>\n\t\t\t\t\t) }\n\t\t\t\t\t{ canAddFilter && (\n\t\t\t\t\t\t<Menu.Group>\n\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\tprefix={ <Icon icon={ funnel } /> }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetOpenedFilter( fieldId );\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\t\tfilters: [\n\t\t\t\t\t\t\t\t\t\t\t...( view.filters || [] ),\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tfield: fieldId,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\toperator: operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t{ __( 'Add filter' ) }\n\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t</Menu.Group>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ( canMove || isHidable ) && field && (\n\t\t\t\t\t\t<Menu.Group>\n\t\t\t\t\t\t\t{ canMove && (\n\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\tprefix={ <Icon icon={ arrowLeft } /> }\n\t\t\t\t\t\t\t\t\tdisabled={ index < 1 }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex - 1\n\t\t\t\t\t\t\t\t\t\t\t\t) ?? [] ),\n\t\t\t\t\t\t\t\t\t\t\t\tfieldId,\n\t\t\t\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index - 1 ],\n\t\t\t\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 1\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Move left' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ canMove && (\n\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\tprefix={ <Icon icon={ arrowRight } /> }\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\tindex >= visibleFieldIds.length - 1\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t) ?? [] ),\n\t\t\t\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index + 1 ],\n\t\t\t\t\t\t\t\t\t\t\t\tfieldId,\n\t\t\t\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 2\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Move right' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ isHidable && field && (\n\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\tprefix={ <Icon icon={ unseen } /> }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonHide( field );\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tfields: visibleFieldIds.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t( id ) => id !== fieldId\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Hide column' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Menu.Group>\n\t\t\t\t\t) }\n\t\t\t\t</WithMenuSeparators>\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n} );\n\n// @ts-expect-error Lift the `Item` type argument through the forwardRef.\nconst ColumnHeaderMenu: < Item >(\n\tprops: PropsWithoutRef< HeaderMenuProps< Item > > &\n\t\tRefAttributes< HTMLButtonElement >\n) => ReturnType< typeof _HeaderMenu > = _HeaderMenu;\n\nexport default ColumnHeaderMenu;\n", "/**\n * External dependencies\n */\nimport type { ComponentProps, ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\nimport { ItemClickWrapper } from '../utils/item-click-wrapper';\n\nfunction ColumnPrimary< Item >( {\n\titem,\n\tlevel,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tonClickItem,\n\trenderItemLink,\n\tisItemClickable,\n}: {\n\titem: Item;\n\tlevel?: number;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisItemClickable: ( item: Item ) => boolean;\n} ) {\n\treturn (\n\t\t<HStack spacing={ 3 } justify=\"flex-start\">\n\t\t\t{ mediaField && (\n\t\t\t\t<ItemClickWrapper\n\t\t\t\t\titem={ item }\n\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\tclassName=\"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media\"\n\t\t\t\t\taria-label={\n\t\t\t\t\t\tisItemClickable( item ) &&\n\t\t\t\t\t\t( !! onClickItem || !! renderItemLink ) &&\n\t\t\t\t\t\t!! titleField\n\t\t\t\t\t\t\t? titleField.getValue?.( { item } )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<mediaField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ mediaField }\n\t\t\t\t\t\tconfig={ { sizes: '32px' } }\n\t\t\t\t\t/>\n\t\t\t\t</ItemClickWrapper>\n\t\t\t) }\n\t\t\t<VStack\n\t\t\t\tspacing={ 0 }\n\t\t\t\talignment=\"flex-start\"\n\t\t\t\tclassName=\"dataviews-view-table__primary-column-content\"\n\t\t\t>\n\t\t\t\t{ titleField && (\n\t\t\t\t\t<ItemClickWrapper\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\tclassName=\"dataviews-view-table__cell-content-wrapper dataviews-title-field\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ level !== undefined && level > 0 && (\n\t\t\t\t\t\t\t<span className=\"dataviews-view-table__level\">\n\t\t\t\t\t\t\t\t{ '\u2014'.repeat( level ) }&nbsp;\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t\t\t\t</ItemClickWrapper>\n\t\t\t\t) }\n\t\t\t\t{ descriptionField && (\n\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</HStack>\n\t);\n}\n\nexport default ColumnPrimary;\n", "/**\n * External dependencies\n */\nimport type { ReactNode, ReactElement, ComponentProps } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\nfunction getClickableItemProps< Item >( {\n\titem,\n\tisItemClickable,\n\tonClickItem,\n\tclassName,\n}: {\n\titem: Item;\n\tisItemClickable: ( item: Item ) => boolean;\n\tonClickItem?: ( item: Item ) => void;\n\tclassName?: string;\n} ) {\n\tif ( ! isItemClickable( item ) || ! onClickItem ) {\n\t\treturn { className };\n\t}\n\n\treturn {\n\t\tclassName: className\n\t\t\t? `${ className } ${ className }--clickable`\n\t\t\t: undefined,\n\t\trole: 'button',\n\t\ttabIndex: 0,\n\t\tonClick: ( event: React.MouseEvent ) => {\n\t\t\t// Prevents onChangeSelection from triggering.\n\t\t\tevent.stopPropagation();\n\t\t\tonClickItem( item );\n\t\t},\n\t\tonKeyDown: ( event: React.KeyboardEvent ) => {\n\t\t\tif (\n\t\t\t\tevent.key === 'Enter' ||\n\t\t\t\tevent.key === '' ||\n\t\t\t\tevent.key === ' '\n\t\t\t) {\n\t\t\t\t// Prevents onChangeSelection from triggering.\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tonClickItem( item );\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport function ItemClickWrapper< Item >( {\n\titem,\n\tisItemClickable,\n\tonClickItem,\n\trenderItemLink,\n\tclassName,\n\tchildren,\n\t...extraProps\n}: {\n\titem: Item;\n\tisItemClickable: ( item: Item ) => boolean;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tclassName?: string;\n\tchildren: ReactNode;\n} ) {\n\t// Always render a wrapper element so layout and styling relying on the wrapper\n\t// still works even if the item is not clickable.\n\tif ( ! isItemClickable( item ) ) {\n\t\treturn (\n\t\t\t<div className={ className } { ...extraProps }>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// If we have a renderItemLink, use it\n\tif ( renderItemLink ) {\n\t\tconst renderedElement = renderItemLink( {\n\t\t\titem,\n\t\t\tclassName: `${ className } ${ className }--clickable`,\n\t\t\t...extraProps,\n\t\t\tchildren,\n\t\t} );\n\n\t\t// Clone the element and enhance onClick to stop propagation\n\t\treturn cloneElement( renderedElement, {\n\t\t\tonClick: ( event: React.MouseEvent ) => {\n\t\t\t\t// Always stop propagation to prevent selection\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t// If consumer provided an onClick, call it\n\t\t\t\tif ( renderedElement.props.onClick ) {\n\t\t\t\t\trenderedElement.props.onClick( event );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonKeyDown: ( event: React.KeyboardEvent ) => {\n\t\t\t\tif (\n\t\t\t\t\tevent.key === 'Enter' ||\n\t\t\t\t\tevent.key === '' ||\n\t\t\t\t\tevent.key === ' '\n\t\t\t\t) {\n\t\t\t\t\t// Prevents onChangeSelection from triggering.\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t// If consumer provided an onKeyDown, call it\n\t\t\t\t\tif ( renderedElement.props.onKeyDown ) {\n\t\t\t\t\t\trenderedElement.props.onKeyDown( event );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t} );\n\t}\n\n\t// Otherwise use the classic click handler approach\n\tconst clickProps = getClickableItemProps( {\n\t\titem,\n\t\tisItemClickable,\n\t\tonClickItem,\n\t\tclassName,\n\t} );\n\n\treturn (\n\t\t<div { ...clickProps } { ...extraProps }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { MutableRefObject } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useDebounce } from '@wordpress/compose';\nimport { useCallback, useEffect, useState } from '@wordpress/element';\nimport { isRTL } from '@wordpress/i18n';\n\nconst isScrolledToEnd = ( element: Element ) => {\n\tif ( isRTL() ) {\n\t\tconst scrollLeft = Math.abs( element.scrollLeft );\n\t\treturn scrollLeft <= 1;\n\t}\n\n\treturn element.scrollLeft + element.clientWidth >= element.scrollWidth - 1;\n};\n\n/**\n * A hook to check if a given scroll container has reached the horizontal scroll end.\n *\n * The current way receives \"refs\" as arguments, but it lacks a mechanism to detect when a ref has changed.\n * As a result, when the \"ref\" is updated and attached to a new div, the computation should trigger again.\n * However, this isn't possible in the current setup because the hook is unaware that the ref has changed.\n *\n * See https://github.com/Automattic/wp-calypso/pull/103005#discussion_r2077567912.\n *\n * @param {Object}                                  params                    The parameters for the hook.\n * @param {MutableRefObject<HTMLDivElement | null>} params.scrollContainerRef The ref to the scroll container element.\n * @param {boolean}                                 [params.enabled=false]    Whether the hook is enabled.\n * @return {boolean} - Returns true if the scroll container is scrolled to the end or false otherwise.\n */\nexport function useIsHorizontalScrollEnd( {\n\tscrollContainerRef,\n\tenabled = false,\n}: {\n\tscrollContainerRef: React.MutableRefObject< HTMLDivElement | null >;\n\tenabled?: boolean;\n} ): boolean {\n\tconst [ isHorizontalScrollEnd, setIsHorizontalScrollEnd ] =\n\t\tuseState( false );\n\n\tconst handleIsHorizontalScrollEnd = useDebounce(\n\t\tuseCallback( () => {\n\t\t\tconst scrollContainer = scrollContainerRef.current;\n\t\t\tif ( scrollContainer ) {\n\t\t\t\tsetIsHorizontalScrollEnd( isScrolledToEnd( scrollContainer ) );\n\t\t\t}\n\t\t}, [ scrollContainerRef, setIsHorizontalScrollEnd ] ),\n\t\t200\n\t);\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\ttypeof window === 'undefined' ||\n\t\t\t! enabled ||\n\t\t\t! scrollContainerRef.current\n\t\t) {\n\t\t\treturn () => {};\n\t\t}\n\n\t\thandleIsHorizontalScrollEnd();\n\t\tscrollContainerRef.current.addEventListener(\n\t\t\t'scroll',\n\t\t\thandleIsHorizontalScrollEnd\n\t\t);\n\t\twindow.addEventListener( 'resize', handleIsHorizontalScrollEnd );\n\n\t\treturn () => {\n\t\t\tscrollContainerRef.current?.removeEventListener(\n\t\t\t\t'scroll',\n\t\t\t\thandleIsHorizontalScrollEnd\n\t\t\t);\n\t\t\twindow.removeEventListener( 'resize', handleIsHorizontalScrollEnd );\n\t\t};\n\t}, [ scrollContainerRef, enabled ] );\n\n\treturn isHorizontalScrollEnd;\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function getDataByGroup< Item >(\n\tdata: any[],\n\tgroupByField: NormalizedField< Item >\n): Map< string, any[] > {\n\treturn data.reduce( ( groups: Map< string, typeof data >, item ) => {\n\t\tconst groupName = groupByField.getValue( { item } );\n\t\tif ( ! groups.has( groupName ) ) {\n\t\t\tgroups.set( groupName, [] );\n\t\t}\n\t\tgroups.get( groupName )?.push( item );\n\t\treturn groups;\n\t}, new Map< string, typeof data >() );\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tBaseControl,\n\tIcon,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\nimport { check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\nimport DataViewsContext from '../dataviews-context';\n\nfunction FieldItem( {\n\tfield,\n\tisVisible,\n\tonToggleVisibility,\n}: {\n\tfield: NormalizedField< any >;\n\tisVisible: boolean;\n\tonToggleVisibility?: () => void;\n} ) {\n\treturn (\n\t\t<Item onClick={ field.enableHiding ? onToggleVisibility : undefined }>\n\t\t\t<HStack expanded justify=\"flex-start\" alignment=\"center\">\n\t\t\t\t<div style={ { height: 24, width: 24 } }>\n\t\t\t\t\t{ isVisible && <Icon icon={ check } /> }\n\t\t\t\t</div>\n\t\t\t\t<span className=\"dataviews-view-config__label\">\n\t\t\t\t\t{ field.label }\n\t\t\t\t</span>\n\t\t\t</HStack>\n\t\t</Item>\n\t);\n}\n\nfunction isDefined< T >( item: T | undefined ): item is T {\n\treturn !! item;\n}\n\nexport function PropertiesSection( {\n\tshowLabel = true,\n}: {\n\tshowLabel?: boolean;\n} ) {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\n\tconst togglableFields = [\n\t\tview?.titleField,\n\t\tview?.mediaField,\n\t\tview?.descriptionField,\n\t].filter( Boolean );\n\n\t// Get all regular fields (non-locked) in their original order from fields prop\n\tconst regularFields = fields.filter(\n\t\t( f ) =>\n\t\t\t! togglableFields.includes( f.id ) &&\n\t\t\tf.type !== 'media' &&\n\t\t\tf.enableHiding !== false\n\t);\n\n\tif ( ! regularFields?.length ) {\n\t\treturn null;\n\t}\n\tconst titleField = fields.find( ( f ) => f.id === view.titleField );\n\tconst previewField = fields.find( ( f ) => f.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( f ) => f.id === view.descriptionField\n\t);\n\n\tconst lockedFields = [\n\t\t{\n\t\t\tfield: titleField,\n\t\t\tisVisibleFlag: 'showTitle',\n\t\t},\n\t\t{\n\t\t\tfield: previewField,\n\t\t\tisVisibleFlag: 'showMedia',\n\t\t},\n\t\t{\n\t\t\tfield: descriptionField,\n\t\t\tisVisibleFlag: 'showDescription',\n\t\t},\n\t].filter( ( { field } ) => isDefined( field ) );\n\tconst visibleFieldIds = view.fields ?? [];\n\tconst visibleRegularFieldsCount = regularFields.filter( ( f ) =>\n\t\tvisibleFieldIds.includes( f.id )\n\t).length;\n\n\tlet visibleLockedFields = lockedFields.filter(\n\t\t( { field, isVisibleFlag } ) =>\n\t\t\t// @ts-expect-error\n\t\t\tisDefined( field ) && ( view[ isVisibleFlag ] ?? true )\n\t) as Array< {\n\t\tfield: NormalizedField< any >;\n\t\tisVisibleFlag: string;\n\t} >;\n\n\t// If only one field (locked or regular) is visible, prevent it from being hidden\n\tconst totalVisibleFields =\n\t\tvisibleLockedFields.length + visibleRegularFieldsCount;\n\tif ( totalVisibleFields === 1 ) {\n\t\tif ( visibleLockedFields.length === 1 ) {\n\t\t\tvisibleLockedFields = visibleLockedFields.map( ( locked ) => ( {\n\t\t\t\t...locked,\n\t\t\t\tfield: { ...locked.field, enableHiding: false },\n\t\t\t} ) );\n\t\t}\n\t}\n\n\tconst hiddenLockedFields = lockedFields.filter(\n\t\t( { field, isVisibleFlag } ) =>\n\t\t\t// @ts-expect-error\n\t\t\tisDefined( field ) && ! ( view[ isVisibleFlag ] ?? true )\n\t) as Array< {\n\t\tfield: NormalizedField< any >;\n\t\tisVisibleFlag: string;\n\t} >;\n\n\treturn (\n\t\t<VStack className=\"dataviews-field-control\" spacing={ 0 }>\n\t\t\t{ showLabel && (\n\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t{ __( 'Properties' ) }\n\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t) }\n\t\t\t<VStack className=\"dataviews-view-config__properties\" spacing={ 0 }>\n\t\t\t\t<ItemGroup isBordered isSeparated size=\"medium\">\n\t\t\t\t\t{ visibleLockedFields.map( ( { field, isVisibleFlag } ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t[ isVisibleFlag ]: false,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\n\t\t\t\t\t{ hiddenLockedFields.map( ( { field, isVisibleFlag } ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\tisVisible={ false }\n\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t[ isVisibleFlag ]: true,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\n\t\t\t\t\t{ regularFields.map( ( field ) => {\n\t\t\t\t\t\t// Check if this is the last visible field to prevent hiding\n\t\t\t\t\t\tconst isVisible = visibleFieldIds.includes( field.id );\n\t\t\t\t\t\tconst isLastVisible =\n\t\t\t\t\t\t\ttotalVisibleFields === 1 && isVisible;\n\t\t\t\t\t\tconst fieldToRender = isLastVisible\n\t\t\t\t\t\t\t? { ...field, enableHiding: false }\n\t\t\t\t\t\t\t: field;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tfield={ fieldToRender }\n\t\t\t\t\t\t\t\tisVisible={ isVisible }\n\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\tfields: isVisible\n\t\t\t\t\t\t\t\t\t\t\t? visibleFieldIds.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t( fieldId ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldId !== field.id\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: [ ...visibleFieldIds, field.id ],\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ItemGroup>\n\t\t\t</VStack>\n\t\t</VStack>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ComponentProps, ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tSpinner,\n\tFlex,\n\tFlexItem,\n\tTooltip,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { isAppleOS } from '@wordpress/keycodes';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport ItemActions from '../../components/dataviews-item-actions';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport DataViewsContext from '../../components/dataviews-context';\nimport {\n\tuseHasAPossibleBulkAction,\n\tuseSomeItemHasAPossibleBulkAction,\n} from '../../components/dataviews-bulk-actions';\nimport type {\n\tAction,\n\tNormalizedField,\n\tViewGrid as ViewGridType,\n\tViewGridProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport { ItemClickWrapper } from '../utils/item-click-wrapper';\nimport { GridItems } from '../utils/grid-items';\nconst { Badge } = unlock( componentsPrivateApis );\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface GridItemProps< Item > {\n\tview: ViewGridType;\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tgetItemId: ( item: Item ) => string;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisItemClickable: ( item: Item ) => boolean;\n\titem: Item;\n\tactions: Action< Item >[];\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tregularFields: NormalizedField< Item >[];\n\tbadgeFields: NormalizedField< Item >[];\n\thasBulkActions: boolean;\n\tconfig: {\n\t\tsizes: string;\n\t};\n\tposinset?: number;\n}\n\nfunction GridItem< Item >( {\n\tview,\n\tselection,\n\tonChangeSelection,\n\tonClickItem,\n\tisItemClickable,\n\trenderItemLink,\n\tgetItemId,\n\titem,\n\tactions,\n\tmediaField,\n\ttitleField,\n\tdescriptionField,\n\tregularFields,\n\tbadgeFields,\n\thasBulkActions,\n\tconfig,\n\tposinset,\n}: GridItemProps< Item > ) {\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst hasBulkAction = useHasAPossibleBulkAction( actions, item );\n\tconst id = getItemId( item );\n\tconst instanceId = useInstanceId( GridItem );\n\tconst isSelected = selection.includes( id );\n\tconst renderedMediaField = mediaField?.render ? (\n\t\t<mediaField.render\n\t\t\titem={ item }\n\t\t\tfield={ mediaField }\n\t\t\tconfig={ config }\n\t\t/>\n\t) : null;\n\tconst renderedTitleField =\n\t\tshowTitle && titleField?.render ? (\n\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t) : null;\n\tconst shouldRenderMedia = showMedia && renderedMediaField;\n\n\tlet mediaA11yProps;\n\tlet titleA11yProps;\n\tif ( isItemClickable( item ) && onClickItem ) {\n\t\tif ( renderedTitleField ) {\n\t\t\tmediaA11yProps = {\n\t\t\t\t'aria-labelledby': `dataviews-view-grid__title-field-${ instanceId }`,\n\t\t\t};\n\t\t\ttitleA11yProps = {\n\t\t\t\tid: `dataviews-view-grid__title-field-${ instanceId }`,\n\t\t\t};\n\t\t} else {\n\t\t\tmediaA11yProps = {\n\t\t\t\t'aria-label': __( 'Navigate to item' ),\n\t\t\t};\n\t\t}\n\t}\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\n\treturn (\n\t\t<VStack\n\t\t\tspacing={ 0 }\n\t\t\tkey={ id }\n\t\t\tclassName={ clsx( 'dataviews-view-grid__card', {\n\t\t\t\t'is-selected': hasBulkAction && isSelected,\n\t\t\t} ) }\n\t\t\tonClickCapture={ ( event ) => {\n\t\t\t\tif ( isAppleOS() ? event.metaKey : event.ctrlKey ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif ( ! hasBulkAction ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t\t? selection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t\t\t: [ ...selection, id ]\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t\trole={ infiniteScrollEnabled ? 'article' : undefined }\n\t\t\taria-setsize={\n\t\t\t\tinfiniteScrollEnabled ? paginationInfo.totalItems : undefined\n\t\t\t}\n\t\t\taria-posinset={ posinset }\n\t\t>\n\t\t\t{ shouldRenderMedia && (\n\t\t\t\t<ItemClickWrapper\n\t\t\t\t\titem={ item }\n\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\tclassName=\"dataviews-view-grid__media\"\n\t\t\t\t\t{ ...mediaA11yProps }\n\t\t\t\t>\n\t\t\t\t\t{ renderedMediaField }\n\t\t\t\t</ItemClickWrapper>\n\t\t\t) }\n\t\t\t{ hasBulkActions && shouldRenderMedia && (\n\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\titem={ item }\n\t\t\t\t\tselection={ selection }\n\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\tdisabled={ ! hasBulkAction }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! showTitle && shouldRenderMedia && !! actions?.length && (\n\t\t\t\t<div className=\"dataviews-view-grid__media-actions\">\n\t\t\t\t\t<ItemActions item={ item } actions={ actions } isCompact />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ showTitle && (\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\tclassName=\"dataviews-view-grid__title-actions\"\n\t\t\t\t>\n\t\t\t\t\t<ItemClickWrapper\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\tclassName=\"dataviews-view-grid__title-field dataviews-title-field\"\n\t\t\t\t\t\t{ ...titleA11yProps }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ renderedTitleField }\n\t\t\t\t\t</ItemClickWrapper>\n\t\t\t\t\t{ !! actions?.length && (\n\t\t\t\t\t\t<ItemActions\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\tisCompact\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t{ showDescription && descriptionField?.render && (\n\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ !! badgeFields?.length && (\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"dataviews-view-grid__badge-fields\"\n\t\t\t\t\t\tspacing={ 2 }\n\t\t\t\t\t\twrap\n\t\t\t\t\t\talignment=\"top\"\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ badgeFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-grid__field-value\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t) }\n\t\t\t\t{ !! regularFields?.length && (\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tclassName=\"dataviews-view-grid__fields\"\n\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ regularFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-grid__field\"\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tgap={ 1 }\n\t\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\t\texpanded\n\t\t\t\t\t\t\t\t\tstyle={ { height: 'auto' } }\n\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Tooltip text={ field.label }>\n\t\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"dataviews-view-grid__field-name\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ field.header }\n\t\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-grid__field-value\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={ { maxHeight: 'none' } }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</VStack>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</VStack>\n\t);\n}\n\nfunction ViewGrid< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tisLoading,\n\tonChangeSelection,\n\tonClickItem,\n\tisItemClickable,\n\trenderItemLink,\n\tselection,\n\tview,\n\tclassName,\n\tempty,\n}: ViewGridProps< Item > ) {\n\tconst { resizeObserverRef } = useContext( DataViewsContext );\n\tconst titleField = fields.find(\n\t\t( field ) => field.id === view?.titleField\n\t);\n\tconst mediaField = fields.find(\n\t\t( field ) => field.id === view?.mediaField\n\t);\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view?.descriptionField\n\t);\n\tconst otherFields = view.fields ?? [];\n\tconst { regularFields, badgeFields } = otherFields.reduce(\n\t\t(\n\t\t\taccumulator: Record< string, NormalizedField< Item >[] >,\n\t\t\tfieldId\n\t\t) => {\n\t\t\tconst field = fields.find( ( f ) => f.id === fieldId );\n\t\t\tif ( ! field ) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\t\t\t// If the field is a badge field, add it to the badgeFields array\n\t\t\t// otherwise add it to the rest visibleFields array.\n\t\t\tconst key = view.layout?.badgeFields?.includes( fieldId )\n\t\t\t\t? 'badgeFields'\n\t\t\t\t: 'regularFields';\n\t\t\taccumulator[ key ].push( field );\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ regularFields: [], badgeFields: [] }\n\t);\n\tconst hasData = !! data?.length;\n\tconst hasBulkActions = useSomeItemHasAPossibleBulkAction( actions, data );\n\tconst usedPreviewSize = view.layout?.previewSize;\n\t/*\n\t * This is the maximum width that an image can achieve in the grid. The reasoning is:\n\t * The biggest min image width available is 430px (see /dataviews-layouts/grid/preview-size-picker.tsx).\n\t * Because the grid is responsive, once there is room for another column, the images shrink to accommodate it.\n\t * So each image will never grow past 2*430px plus a little more to account for the gaps.\n\t */\n\tconst size = '900px';\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\t// Render multiple groups.\n\t\t\t\thasData && groupField && dataByGroup && (\n\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t{ Array.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t\t<VStack key={ groupName } spacing={ 2 }>\n\t\t\t\t\t\t\t\t\t<h3 className=\"dataviews-view-grid__group-header\">\n\t\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<GridItems\n\t\t\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t\t\t'dataviews-view-grid',\n\t\t\t\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\t\t\t\t\tref={ resizeObserverRef }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ groupItems.map( ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\t\t\t\t\tisItemClickable={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisItemClickable\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderItemLink={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderItemLink\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\t\t\t\t\thasBulkActions={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thasBulkActions\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t</GridItems>\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// Render a single grid with all data.\n\t\t\t\thasData && ! dataByGroup && (\n\t\t\t\t\t<GridItems\n\t\t\t\t\t\tclassName={ clsx( 'dataviews-view-grid', className ) }\n\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\tref={ resizeObserverRef }\n\t\t\t\t\t\trole={ isInfiniteScroll ? 'feed' : undefined }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ data.map( ( item, index ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tregularFields={ regularFields }\n\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\thasBulkActions={ hasBulkActions }\n\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tposinset={\n\t\t\t\t\t\t\t\t\t\tisInfiniteScroll ? index + 1 : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</GridItems>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\t// Render empty state.\n\t\t\t\t! hasData && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t\t\t'dataviews-no-results': ! isLoading,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isLoading ? (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tempty\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{ hasData && isLoading && (\n\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ViewGrid;\n", "/**\n * External dependencies\n */\nimport type { ComponentPropsWithoutRef } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\nexport const GridItems = forwardRef<\n\tHTMLDivElement,\n\t{\n\t\tclassName?: string;\n\t\tpreviewSize: number | undefined;\n\t} & ComponentPropsWithoutRef< 'div' >\n>( ( { className, previewSize, ...props }, ref ) => {\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ clsx( 'dataviews-view-grid-items', className ) }\n\t\t\tstyle={ {\n\t\t\t\tgridTemplateColumns:\n\t\t\t\t\tpreviewSize &&\n\t\t\t\t\t`repeat(auto-fill, minmax(${ previewSize }px, 1fr))`,\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n} );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId, usePrevious } from '@wordpress/compose';\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tButton,\n\tprivateApis as componentsPrivateApis,\n\tSpinner,\n\tVisuallyHidden,\n\tComposite,\n} from '@wordpress/components';\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n\tuseContext,\n} from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { moreVertical } from '@wordpress/icons';\nimport { useRegistry } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport {\n\tActionsMenuGroup,\n\tActionModal,\n} from '../../components/dataviews-item-actions';\nimport DataViewsContext from '../../components/dataviews-context';\nimport type {\n\tAction,\n\tNormalizedField,\n\tViewList as ViewListType,\n\tViewListProps,\n\tActionModal as ActionModalType,\n} from '../../types';\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface ListViewItemProps< Item > {\n\tview: ViewListType;\n\tactions: Action< Item >[];\n\tidPrefix: string;\n\tisSelected: boolean;\n\titem: Item;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tonSelect: ( item: Item ) => void;\n\totherFields: NormalizedField< Item >[];\n\tonDropdownTriggerKeyDown: React.KeyboardEventHandler< HTMLButtonElement >;\n\tposinset?: number;\n}\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nfunction generateItemWrapperCompositeId( idPrefix: string ) {\n\treturn `${ idPrefix }-item-wrapper`;\n}\nfunction generatePrimaryActionCompositeId(\n\tidPrefix: string,\n\tprimaryActionId: string\n) {\n\treturn `${ idPrefix }-primary-action-${ primaryActionId }`;\n}\nfunction generateDropdownTriggerCompositeId( idPrefix: string ) {\n\treturn `${ idPrefix }-dropdown`;\n}\n\nfunction PrimaryActionGridCell< Item >( {\n\tidPrefix,\n\tprimaryAction,\n\titem,\n}: {\n\tidPrefix: string;\n\tprimaryAction: Action< Item >;\n\titem: Item;\n} ) {\n\tconst registry = useRegistry();\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\tconst compositeItemId = generatePrimaryActionCompositeId(\n\t\tidPrefix,\n\t\tprimaryAction.id\n\t);\n\n\tconst label =\n\t\ttypeof primaryAction.label === 'string'\n\t\t\t? primaryAction.label\n\t\t\t: primaryAction.label( [ item ] );\n\n\treturn 'RenderModal' in primaryAction ? (\n\t\t<div role=\"gridcell\" key={ primaryAction.id }>\n\t\t\t<Composite.Item\n\t\t\t\tid={ compositeItemId }\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled={ !! primaryAction.disabled }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\ttext={ label }\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={ () => setIsModalOpen( true ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ isModalOpen && (\n\t\t\t\t\t<ActionModal< Item >\n\t\t\t\t\t\taction={ primaryAction }\n\t\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Composite.Item>\n\t\t</div>\n\t) : (\n\t\t<div role=\"gridcell\" key={ primaryAction.id }>\n\t\t\t<Composite.Item\n\t\t\t\tid={ compositeItemId }\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled={ !! primaryAction.disabled }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tprimaryAction.callback( [ item ], { registry } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label }\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nfunction ListItem< Item >( {\n\tview,\n\tactions,\n\tidPrefix,\n\tisSelected,\n\titem,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tonSelect,\n\totherFields,\n\tonDropdownTriggerKeyDown,\n\tposinset,\n}: ListViewItemProps< Item > ) {\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst itemRef = useRef< HTMLDivElement >( null );\n\tconst labelId = `${ idPrefix }-label`;\n\tconst descriptionId = `${ idPrefix }-description`;\n\n\tconst registry = useRegistry();\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst [ activeModalAction, setActiveModalAction ] = useState(\n\t\tnull as ActionModalType< Item > | null\n\t);\n\tconst handleHover: React.MouseEventHandler = ( { type } ) => {\n\t\tconst isHover = type === 'mouseenter';\n\t\tsetIsHovered( isHover );\n\t};\n\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\tuseEffect( () => {\n\t\tif ( isSelected ) {\n\t\t\titemRef.current?.scrollIntoView( {\n\t\t\t\tbehavior: 'auto',\n\t\t\t\tblock: 'nearest',\n\t\t\t\tinline: 'nearest',\n\t\t\t} );\n\t\t}\n\t}, [ isSelected ] );\n\n\tconst { primaryAction, eligibleActions } = useMemo( () => {\n\t\t// If an action is eligible for all items, doesn't need\n\t\t// to provide the `isEligible` function.\n\t\tconst _eligibleActions = actions.filter(\n\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\n\t\t);\n\t\tconst _primaryActions = _eligibleActions.filter(\n\t\t\t( action ) => action.isPrimary\n\t\t);\n\t\treturn {\n\t\t\tprimaryAction: _primaryActions[ 0 ],\n\t\t\teligibleActions: _eligibleActions,\n\t\t};\n\t}, [ actions, item ] );\n\n\tconst hasOnlyOnePrimaryAction = primaryAction && actions.length === 1;\n\n\tconst renderedMediaField =\n\t\tshowMedia && mediaField?.render ? (\n\t\t\t<div className=\"dataviews-view-list__media-wrapper\">\n\t\t\t\t<mediaField.render\n\t\t\t\t\titem={ item }\n\t\t\t\t\tfield={ mediaField }\n\t\t\t\t\tconfig={ { sizes: '52px' } }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t) : null;\n\n\tconst renderedTitleField =\n\t\tshowTitle && titleField?.render ? (\n\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t) : null;\n\n\tconst usedActions = eligibleActions?.length > 0 && (\n\t\t<HStack spacing={ 3 } className=\"dataviews-view-list__item-actions\">\n\t\t\t{ primaryAction && (\n\t\t\t\t<PrimaryActionGridCell\n\t\t\t\t\tidPrefix={ idPrefix }\n\t\t\t\t\tprimaryAction={ primaryAction }\n\t\t\t\t\titem={ item }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasOnlyOnePrimaryAction && (\n\t\t\t\t<div role=\"gridcell\">\n\t\t\t\t\t<Menu placement=\"bottom-end\">\n\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\t\t\t\tid={ generateDropdownTriggerCompositeId(\n\t\t\t\t\t\t\t\t\t\tidPrefix\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\t\t\tdisabled={ ! actions.length }\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={\n\t\t\t\t\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t<ActionsMenuGroup\n\t\t\t\t\t\t\t\tactions={ eligibleActions }\n\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\tregistry={ registry }\n\t\t\t\t\t\t\t\tsetActiveModalAction={ setActiveModalAction }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t</Menu>\n\t\t\t\t\t{ !! activeModalAction && (\n\t\t\t\t\t\t<ActionModal\n\t\t\t\t\t\t\taction={ activeModalAction }\n\t\t\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\t\t\tcloseModal={ () => setActiveModalAction( null ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</HStack>\n\t);\n\n\treturn (\n\t\t<Composite.Row\n\t\t\tref={ itemRef }\n\t\t\trender={\n\t\t\t\t/* aria-posinset breaks Composite.Row if passed to it directly. */\n\t\t\t\t<div\n\t\t\t\t\taria-posinset={ posinset }\n\t\t\t\t\taria-setsize={\n\t\t\t\t\t\tinfiniteScrollEnabled\n\t\t\t\t\t\t\t? paginationInfo.totalItems\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t}\n\t\t\trole={ infiniteScrollEnabled ? 'article' : 'row' }\n\t\t\tclassName={ clsx( {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t\t'is-hovered': isHovered,\n\t\t\t} ) }\n\t\t\tonMouseEnter={ handleHover }\n\t\t\tonMouseLeave={ handleHover }\n\t\t>\n\t\t\t<HStack className=\"dataviews-view-list__item-wrapper\" spacing={ 0 }>\n\t\t\t\t<div role=\"gridcell\">\n\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\tid={ generateItemWrapperCompositeId( idPrefix ) }\n\t\t\t\t\t\taria-pressed={ isSelected }\n\t\t\t\t\t\taria-labelledby={ labelId }\n\t\t\t\t\t\taria-describedby={ descriptionId }\n\t\t\t\t\t\tclassName=\"dataviews-view-list__item\"\n\t\t\t\t\t\tonClick={ () => onSelect( item ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<HStack spacing={ 3 } justify=\"start\" alignment=\"flex-start\">\n\t\t\t\t\t{ renderedMediaField }\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t\tclassName=\"dataviews-view-list__field-wrapper\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<HStack spacing={ 0 }>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"dataviews-title-field\"\n\t\t\t\t\t\t\t\tid={ labelId }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ renderedTitleField }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ usedActions }\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t{ showDescription && descriptionField?.render && (\n\t\t\t\t\t\t\t<div className=\"dataviews-view-list__field\">\n\t\t\t\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"dataviews-view-list__fields\"\n\t\t\t\t\t\t\tid={ descriptionId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ otherFields.map( ( field ) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-list__field\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-list__field-label\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t\t\t<span className=\"dataviews-view-list__field-value\">\n\t\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</VStack>\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t</Composite.Row>\n\t);\n}\n\nfunction isDefined< T >( item: T | undefined ): item is T {\n\treturn !! item;\n}\n\nexport default function ViewList< Item >( props: ViewListProps< Item > ) {\n\tconst {\n\t\tactions,\n\t\tdata,\n\t\tfields,\n\t\tgetItemId,\n\t\tisLoading,\n\t\tonChangeSelection,\n\t\tselection,\n\t\tview,\n\t\tclassName,\n\t\tempty,\n\t} = props;\n\tconst baseId = useInstanceId( ViewList, 'view-list' );\n\n\tconst selectedItem = data?.findLast( ( item ) =>\n\t\tselection.includes( getItemId( item ) )\n\t);\n\tconst titleField = fields.find( ( field ) => field.id === view.titleField );\n\tconst mediaField = fields.find( ( field ) => field.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view.descriptionField\n\t);\n\tconst otherFields = ( view?.fields ?? [] )\n\t\t.map( ( fieldId ) => fields.find( ( f ) => fieldId === f.id ) )\n\t\t.filter( isDefined );\n\n\tconst onSelect = ( item: Item ) =>\n\t\tonChangeSelection( [ getItemId( item ) ] );\n\n\tconst generateCompositeItemIdPrefix = useCallback(\n\t\t( item: Item ) => `${ baseId }-${ getItemId( item ) }`,\n\t\t[ baseId, getItemId ]\n\t);\n\n\tconst isActiveCompositeItem = useCallback(\n\t\t( item: Item, idToCheck: string ) => {\n\t\t\t// All composite items use the same prefix in their IDs.\n\t\t\treturn idToCheck.startsWith(\n\t\t\t\tgenerateCompositeItemIdPrefix( item )\n\t\t\t);\n\t\t},\n\t\t[ generateCompositeItemIdPrefix ]\n\t);\n\n\t// Controlled state for the active composite item.\n\tconst [ activeCompositeId, setActiveCompositeId ] = useState<\n\t\tstring | null | undefined\n\t>( undefined );\n\n\t// Update the active composite item when the selected item changes.\n\tuseEffect( () => {\n\t\tif ( selectedItem ) {\n\t\t\tsetActiveCompositeId(\n\t\t\t\tgenerateItemWrapperCompositeId(\n\t\t\t\t\tgenerateCompositeItemIdPrefix( selectedItem )\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}, [ selectedItem, generateCompositeItemIdPrefix ] );\n\n\tconst activeItemIndex = data.findIndex( ( item ) =>\n\t\tisActiveCompositeItem( item, activeCompositeId ?? '' )\n\t);\n\tconst previousActiveItemIndex = usePrevious( activeItemIndex );\n\tconst isActiveIdInList = activeItemIndex !== -1;\n\n\tconst selectCompositeItem = useCallback(\n\t\t(\n\t\t\ttargetIndex: number,\n\t\t\t// Allows invokers to specify a custom function to generate the\n\t\t\t// target composite item ID\n\t\t\tgenerateCompositeId: ( idPrefix: string ) => string\n\t\t) => {\n\t\t\t// Clamping between 0 and data.length - 1 to avoid out of bounds.\n\t\t\tconst clampedIndex = Math.min(\n\t\t\t\tdata.length - 1,\n\t\t\t\tMath.max( 0, targetIndex )\n\t\t\t);\n\t\t\tif ( ! data[ clampedIndex ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst itemIdPrefix = generateCompositeItemIdPrefix(\n\t\t\t\tdata[ clampedIndex ]\n\t\t\t);\n\t\t\tconst targetCompositeItemId = generateCompositeId( itemIdPrefix );\n\n\t\t\tsetActiveCompositeId( targetCompositeItemId );\n\t\t\tdocument.getElementById( targetCompositeItemId )?.focus();\n\t\t},\n\t\t[ data, generateCompositeItemIdPrefix ]\n\t);\n\n\t// Select a new active composite item when the current active item\n\t// is removed from the list.\n\tuseEffect( () => {\n\t\tconst wasActiveIdInList =\n\t\t\tpreviousActiveItemIndex !== undefined &&\n\t\t\tpreviousActiveItemIndex !== -1;\n\t\tif ( ! isActiveIdInList && wasActiveIdInList ) {\n\t\t\t// By picking `previousActiveItemIndex` as the next item index, we are\n\t\t\t// basically picking the item that would have been after the deleted one.\n\t\t\t// If the previously active (and removed) item was the last of the list,\n\t\t\t// we will select the item before it \u2014 which is the new last item.\n\t\t\tselectCompositeItem(\n\t\t\t\tpreviousActiveItemIndex,\n\t\t\t\tgenerateItemWrapperCompositeId\n\t\t\t);\n\t\t}\n\t}, [ isActiveIdInList, selectCompositeItem, previousActiveItemIndex ] );\n\n\t// Prevent the default behavior (open dropdown menu) and instead select the\n\t// dropdown menu trigger on the previous/next row.\n\t// https://github.com/ariakit/ariakit/issues/3768\n\tconst onDropdownTriggerKeyDown = useCallback(\n\t\t( event: React.KeyboardEvent< HTMLButtonElement > ) => {\n\t\t\tif ( event.key === 'ArrowDown' ) {\n\t\t\t\t// Select the dropdown menu trigger item in the next row.\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselectCompositeItem(\n\t\t\t\t\tactiveItemIndex + 1,\n\t\t\t\t\tgenerateDropdownTriggerCompositeId\n\t\t\t\t);\n\t\t\t}\n\t\t\tif ( event.key === 'ArrowUp' ) {\n\t\t\t\t// Select the dropdown menu trigger item in the previous row.\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselectCompositeItem(\n\t\t\t\t\tactiveItemIndex - 1,\n\t\t\t\t\tgenerateDropdownTriggerCompositeId\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ selectCompositeItem, activeItemIndex ]\n\t);\n\n\tconst hasData = data?.length;\n\tif ( ! hasData ) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t'dataviews-no-results': ! hasData && ! isLoading,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ ! hasData &&\n\t\t\t\t\t( isLoading ? (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tempty\n\t\t\t\t\t) ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( field ) => field.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\n\t// Render data grouped by field\n\tif ( hasData && groupField && dataByGroup ) {\n\t\treturn (\n\t\t\t<Composite\n\t\t\t\tid={ `${ baseId }` }\n\t\t\t\trender={ <div /> }\n\t\t\t\tclassName=\"dataviews-view-list__group\"\n\t\t\t\trole=\"grid\"\n\t\t\t\tactiveId={ activeCompositeId }\n\t\t\t\tsetActiveId={ setActiveCompositeId }\n\t\t\t>\n\t\t\t\t<VStack\n\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\tclassName={ clsx( 'dataviews-view-list', className ) }\n\t\t\t\t>\n\t\t\t\t\t{ Array.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t<VStack key={ groupName } spacing={ 2 }>\n\t\t\t\t\t\t\t\t<h3 className=\"dataviews-view-list__group-header\">\n\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t{ groupItems.map( ( item ) => {\n\t\t\t\t\t\t\t\t\tconst id =\n\t\t\t\t\t\t\t\t\t\tgenerateCompositeItemIdPrefix( item );\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\t\tidPrefix={ id }\n\t\t\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\tisSelected={ item === selectedItem }\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\totherFields={ otherFields }\n\t\t\t\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown={\n\t\t\t\t\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t)\n\t\t\t\t\t) }\n\t\t\t\t</VStack>\n\t\t\t</Composite>\n\t\t);\n\t}\n\n\t// Render ungrouped data\n\treturn (\n\t\t<>\n\t\t\t<Composite\n\t\t\t\tid={ baseId }\n\t\t\t\trender={ <div /> }\n\t\t\t\tclassName={ clsx( 'dataviews-view-list', className ) }\n\t\t\t\trole={ view.infiniteScrollEnabled ? 'feed' : 'grid' }\n\t\t\t\tactiveId={ activeCompositeId }\n\t\t\t\tsetActiveId={ setActiveCompositeId }\n\t\t\t>\n\t\t\t\t{ data.map( ( item, index ) => {\n\t\t\t\t\tconst id = generateCompositeItemIdPrefix( item );\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\tidPrefix={ id }\n\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tisSelected={ item === selectedItem }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\totherFields={ otherFields }\n\t\t\t\t\t\t\tonDropdownTriggerKeyDown={\n\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tposinset={\n\t\t\t\t\t\t\t\tview.infiniteScrollEnabled\n\t\t\t\t\t\t\t\t\t? index + 1\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Composite>\n\t\t\t{ hasData && isLoading && (\n\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tSpinner,\n\tFlex,\n\tFlexItem,\n\tprivateApis as componentsPrivateApis,\n\tComposite,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport DataViewsContext from '../../components/dataviews-context';\nimport { useIsMultiselectPicker } from '../../components/dataviews-picker/footer';\nimport type {\n\tNormalizedField,\n\tViewPickerGrid as ViewPickerGridType,\n\tViewPickerGridProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport { GridItems } from '../utils/grid-items';\nconst { Badge } = unlock( componentsPrivateApis );\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface GridItemProps< Item > {\n\tview: ViewPickerGridType;\n\tmultiselect?: boolean;\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tgetItemId: ( item: Item ) => string;\n\titem: Item;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tregularFields: NormalizedField< Item >[];\n\tbadgeFields: NormalizedField< Item >[];\n\tconfig: {\n\t\tsizes: string;\n\t};\n\tposinset?: number;\n\tsetsize?: number;\n}\n\nfunction GridItem< Item >( {\n\tview,\n\tmultiselect,\n\tselection,\n\tonChangeSelection,\n\tgetItemId,\n\titem,\n\tmediaField,\n\ttitleField,\n\tdescriptionField,\n\tregularFields,\n\tbadgeFields,\n\tconfig,\n\tposinset,\n\tsetsize,\n}: GridItemProps< Item > ) {\n\tconst { showTitle = true, showMedia = true, showDescription = true } = view;\n\tconst id = getItemId( item );\n\tconst isSelected = selection.includes( id );\n\tconst renderedMediaField = mediaField?.render ? (\n\t\t<mediaField.render\n\t\t\titem={ item }\n\t\t\tfield={ mediaField }\n\t\t\tconfig={ config }\n\t\t/>\n\t) : null;\n\tconst renderedTitleField =\n\t\tshowTitle && titleField?.render ? (\n\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t) : null;\n\n\treturn (\n\t\t<Composite.Item\n\t\t\taria-label={\n\t\t\t\ttitleField\n\t\t\t\t\t? titleField.getValue( { item } ) || __( '(no title)' )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tkey={ id }\n\t\t\trender={ ( { children, ...props } ) => (\n\t\t\t\t<VStack spacing={ 0 } children={ children } { ...props } />\n\t\t\t) }\n\t\t\trole=\"option\"\n\t\t\taria-posinset={ posinset }\n\t\t\taria-setsize={ setsize }\n\t\t\tclassName={ clsx( 'dataviews-view-picker-grid__card', {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t} ) }\n\t\t\taria-selected={ isSelected }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconst newSelection = multiselect\n\t\t\t\t\t\t? [ ...selection, id ]\n\t\t\t\t\t\t: [ id ];\n\t\t\t\t\tonChangeSelection( newSelection );\n\t\t\t\t}\n\t\t\t} }\n\t\t>\n\t\t\t{ showMedia && renderedMediaField && (\n\t\t\t\t<div className=\"dataviews-view-picker-grid__media\">\n\t\t\t\t\t{ renderedMediaField }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ showMedia && renderedMediaField && (\n\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\titem={ item }\n\t\t\t\t\tselection={ selection }\n\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\tdisabled={ false }\n\t\t\t\t\taria-hidden\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showTitle && (\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\tclassName=\"dataviews-view-picker-grid__title-actions\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"dataviews-view-picker-grid__title-field dataviews-title-field\">\n\t\t\t\t\t\t{ renderedTitleField }\n\t\t\t\t\t</div>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t{ showDescription && descriptionField?.render && (\n\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ !! badgeFields?.length && (\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__badge-fields\"\n\t\t\t\t\t\tspacing={ 2 }\n\t\t\t\t\t\twrap\n\t\t\t\t\t\talignment=\"top\"\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ badgeFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__field-value\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t) }\n\t\t\t\t{ !! regularFields?.length && (\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__fields\"\n\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ regularFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__field\"\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tgap={ 1 }\n\t\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\t\texpanded\n\t\t\t\t\t\t\t\t\tstyle={ { height: 'auto' } }\n\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"dataviews-view-picker-grid__field-name\">\n\t\t\t\t\t\t\t\t\t\t\t{ field.header }\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__field-value\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={ { maxHeight: 'none' } }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</VStack>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</Composite.Item>\n\t);\n}\n\nfunction GridGroup< Item >( {\n\tgroupName,\n\tgroupField,\n\tchildren,\n}: {\n\tgroupName: string;\n\tgroupField: NormalizedField< Item >;\n\tchildren: ReactNode;\n} ) {\n\tconst headerId = useInstanceId(\n\t\tGridGroup,\n\t\t'dataviews-view-picker-grid-group__header'\n\t);\n\treturn (\n\t\t<VStack\n\t\t\tkey={ groupName }\n\t\t\tspacing={ 2 }\n\t\t\trole=\"group\"\n\t\t\taria-labelledby={ headerId }\n\t\t>\n\t\t\t<h3\n\t\t\t\tclassName=\"dataviews-view-picker-grid-group__header\"\n\t\t\t\tid={ headerId }\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\tgroupField.label,\n\t\t\t\t\tgroupName\n\t\t\t\t) }\n\t\t\t</h3>\n\t\t\t{ children }\n\t\t</VStack>\n\t);\n}\n\nfunction ViewPickerGrid< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tisLoading,\n\tonChangeSelection,\n\tselection,\n\tview,\n\tclassName,\n\tempty,\n}: ViewPickerGridProps< Item > ) {\n\tconst { resizeObserverRef, paginationInfo, itemListLabel } =\n\t\tuseContext( DataViewsContext );\n\tconst titleField = fields.find(\n\t\t( field ) => field.id === view?.titleField\n\t);\n\tconst mediaField = fields.find(\n\t\t( field ) => field.id === view?.mediaField\n\t);\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view?.descriptionField\n\t);\n\tconst otherFields = view.fields ?? [];\n\tconst { regularFields, badgeFields } = otherFields.reduce(\n\t\t(\n\t\t\taccumulator: Record< string, NormalizedField< Item >[] >,\n\t\t\tfieldId\n\t\t) => {\n\t\t\tconst field = fields.find( ( f ) => f.id === fieldId );\n\t\t\tif ( ! field ) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\t\t\t// If the field is a badge field, add it to the badgeFields array\n\t\t\t// otherwise add it to the rest visibleFields array.\n\t\t\tconst key = view.layout?.badgeFields?.includes( fieldId )\n\t\t\t\t? 'badgeFields'\n\t\t\t\t: 'regularFields';\n\t\t\taccumulator[ key ].push( field );\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ regularFields: [], badgeFields: [] }\n\t);\n\tconst hasData = !! data?.length;\n\tconst usedPreviewSize = view.layout?.previewSize;\n\tconst isMultiselect = useIsMultiselectPicker( actions );\n\n\t/*\n\t * This is the maximum width that an image can achieve in the grid. The reasoning is:\n\t * The biggest min image width available is 430px (see /dataviews-layouts/grid/preview-size-picker.tsx).\n\t * Because the grid is responsive, once there is room for another column, the images shrink to accommodate it.\n\t * So each image will never grow past 2*430px plus a little more to account for the gaps.\n\t */\n\tconst size = '900px';\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\tconst currentPage = view?.page ?? 1;\n\tconst perPage = view?.perPage ?? 0;\n\tconst setSize = isInfiniteScroll ? paginationInfo?.totalItems : undefined;\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\t// Render multiple groups.\n\t\t\t\thasData && groupField && dataByGroup && (\n\t\t\t\t\t<Composite\n\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-multiselectable={ isMultiselect }\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'dataviews-view-picker-grid',\n\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t) }\n\t\t\t\t\t\taria-label={ itemListLabel }\n\t\t\t\t\t\trender={ ( { children, ...props } ) => (\n\t\t\t\t\t\t\t<VStack\n\t\t\t\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\t\t\t\tchildren={ children }\n\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ Array.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t\t<GridGroup\n\t\t\t\t\t\t\t\t\tkey={ groupName }\n\t\t\t\t\t\t\t\t\tgroupName={ groupName }\n\t\t\t\t\t\t\t\t\tgroupField={ groupField }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<GridItems\n\t\t\t\t\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\tgridTemplateColumns:\n\t\t\t\t\t\t\t\t\t\t\t\tusedPreviewSize &&\n\t\t\t\t\t\t\t\t\t\t\t\t`repeat(auto-fill, minmax(${ usedPreviewSize }px, 1fr))`,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\t\t\t\t\tref={\n\t\t\t\t\t\t\t\t\t\t\tresizeObserverRef as React.RefObject< HTMLDivElement >\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ groupItems.map( ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst posInSet =\n\t\t\t\t\t\t\t\t\t\t\t\t( currentPage - 1 ) * perPage +\n\t\t\t\t\t\t\t\t\t\t\t\tdata.indexOf( item ) +\n\t\t\t\t\t\t\t\t\t\t\t\t1;\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiselect={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMultiselect\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\tposinset={ posInSet }\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetsize={ setSize }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t</GridItems>\n\t\t\t\t\t\t\t\t</GridGroup>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Composite>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// Render a single grid with all data.\n\t\t\t\thasData && ! dataByGroup && (\n\t\t\t\t\t<Composite\n\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t<GridItems\n\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t'dataviews-view-picker-grid',\n\t\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\t\t\tref={\n\t\t\t\t\t\t\t\t\tresizeObserverRef as React.RefObject< HTMLDivElement >\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-multiselectable={ isMultiselect }\n\t\t\t\t\t\taria-label={ itemListLabel }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ data.map( ( item, index ) => {\n\t\t\t\t\t\t\tlet posinset = isInfiniteScroll\n\t\t\t\t\t\t\t\t? index + 1\n\t\t\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\t\t\tif ( ! isInfiniteScroll ) {\n\t\t\t\t\t\t\t\t// When infinite scroll isn't active, take pagination into account\n\t\t\t\t\t\t\t\t// when calculating the posinset.\n\t\t\t\t\t\t\t\tposinset =\n\t\t\t\t\t\t\t\t\t( currentPage - 1 ) * perPage + index + 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\tmultiselect={ isMultiselect }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tregularFields={ regularFields }\n\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tposinset={ posinset }\n\t\t\t\t\t\t\t\t\tsetsize={ setSize }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</Composite>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\t// Render empty state.\n\t\t\t\t! hasData && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t\t\t'dataviews-no-results': ! isLoading,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isLoading ? (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tempty\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{ hasData && isLoading && (\n\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ViewPickerGrid;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useRegistry } from '@wordpress/data';\nimport { useContext, useMemo, useState } from '@wordpress/element';\nimport { __, sprintf, _n } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport DataViewsPagination from '../dataviews-pagination';\nimport DataViewsContext from '../dataviews-context';\nimport type { SetSelection } from '../../types/private';\nimport type { Action } from '../../types';\n\nconst EMPTY_ARRAY: [] = [];\n\nexport function useIsMultiselectPicker< Item >(\n\tactions: Action< Item >[] | undefined\n) {\n\treturn useMemo( () => {\n\t\treturn actions?.every( ( action ) => action.supportsBulk );\n\t}, [ actions ] );\n}\n\nfunction BulkSelectionCheckbox< Item >( {\n\tselection,\n\tselectedItems,\n\tonChangeSelection,\n\tdata,\n\tgetItemId,\n}: {\n\tselection: string[];\n\tselectedItems: Item[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tgetItemId: ( item: Item ) => string;\n} ) {\n\tconst areAllSelected = selectedItems.length === data.length;\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"dataviews-view-table-selection-checkbox\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tchecked={ areAllSelected }\n\t\t\tindeterminate={ ! areAllSelected && !! selectedItems.length }\n\t\t\tonChange={ () => {\n\t\t\t\tif ( areAllSelected ) {\n\t\t\t\t\t// Deselect all - remove the current page from the total selection.\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.filter(\n\t\t\t\t\t\t\t( id ) =>\n\t\t\t\t\t\t\t\t! data.some(\n\t\t\t\t\t\t\t\t\t( item ) => id === getItemId( item )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// Select all - merge the current page into the total selection.\n\t\t\t\t\tconst selectionSet = new Set( [\n\t\t\t\t\t\t...selection,\n\t\t\t\t\t\t...data.map( ( item ) => getItemId( item ) ),\n\t\t\t\t\t] );\n\t\t\t\t\tonChangeSelection( Array.from( selectionSet ) );\n\t\t\t\t}\n\t\t\t} }\n\t\t\taria-label={\n\t\t\t\tareAllSelected ? __( 'Deselect all' ) : __( 'Select all' )\n\t\t\t}\n\t\t/>\n\t);\n}\n\nfunction ActionButtons< Item >( {\n\tactions,\n\titems,\n\tselection,\n}: {\n\tactions: Action< Item >[];\n\titems: Item[];\n\tselection: string[];\n} ) {\n\tconst registry = useRegistry();\n\tconst [ actionInProgress, setActionInProgress ] = useState< string | null >(\n\t\tnull\n\t);\n\n\treturn (\n\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t{ actions.map( ( action ) => {\n\t\t\t\t// Only support actions with callbacks for DataViewsPicker.\n\t\t\t\t// This is because many use cases of the picker will be already within modals.\n\t\t\t\tif ( ! ( 'callback' in action ) ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst { id, label, icon, isPrimary, callback } = action;\n\n\t\t\t\tconst _label =\n\t\t\t\t\ttypeof label === 'string' ? label : label( items );\n\t\t\t\tconst variant = isPrimary ? 'primary' : 'tertiary';\n\t\t\t\tconst isInProgress = id === actionInProgress;\n\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tdisabled={ isInProgress || ! selection?.length }\n\t\t\t\t\t\tisBusy={ isInProgress }\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetActionInProgress( id );\n\t\t\t\t\t\t\tawait callback( items, {\n\t\t\t\t\t\t\t\tregistry,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tsetActionInProgress( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant={ variant }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _label }\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</HStack>\n\t);\n}\n\nexport function DataViewsPickerFooter() {\n\tconst {\n\t\tdata,\n\t\tselection,\n\t\tonChangeSelection,\n\t\tgetItemId,\n\t\tactions = EMPTY_ARRAY,\n\t} = useContext( DataViewsContext );\n\n\tconst selectionCount = selection.length;\n\tconst isMultiselect = useIsMultiselectPicker( actions );\n\n\tconst message =\n\t\tselectionCount > 0\n\t\t\t? sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n(\n\t\t\t\t\t\t'%d Item selected',\n\t\t\t\t\t\t'%d Items selected',\n\t\t\t\t\t\tselectionCount\n\t\t\t\t\t),\n\t\t\t\t\tselectionCount\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n( '%d Item', '%d Items', data.length ),\n\t\t\t\t\tdata.length\n\t\t\t  );\n\n\tconst selectedItems = useMemo(\n\t\t() =>\n\t\t\tdata.filter( ( item ) => selection.includes( getItemId( item ) ) ),\n\t\t[ selection, getItemId, data ]\n\t);\n\n\treturn (\n\t\t<HStack\n\t\t\texpanded={ false }\n\t\t\tjustify=\"space-between\"\n\t\t\tclassName=\"dataviews-footer\"\n\t\t>\n\t\t\t<HStack\n\t\t\t\tclassName=\"dataviews-picker-footer__bulk-selection\"\n\t\t\t\texpanded={ false }\n\t\t\t\tspacing={ 3 }\n\t\t\t>\n\t\t\t\t{ isMultiselect && (\n\t\t\t\t\t<BulkSelectionCheckbox\n\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\tselectedItems={ selectedItems }\n\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<span className=\"dataviews-bulk-actions-footer__item-count\">\n\t\t\t\t\t{ message }\n\t\t\t\t</span>\n\t\t\t</HStack>\n\t\t\t<DataViewsPagination />\n\t\t\t{ Boolean( actions?.length ) && (\n\t\t\t\t<div className=\"dataviews-picker-footer__actions\">\n\t\t\t\t\t<ActionButtons\n\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\titems={ selectedItems }\n\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\tSelectControl,\n} from '@wordpress/components';\nimport { createInterpolateElement, memo, useContext } from '@wordpress/element';\nimport { sprintf, __, _x, isRTL } from '@wordpress/i18n';\nimport { next, previous } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\n\nexport function DataViewsPagination() {\n\tconst {\n\t\tview,\n\t\tonChangeView,\n\t\tpaginationInfo: { totalItems = 0, totalPages },\n\t} = useContext( DataViewsContext );\n\n\tif ( ! totalItems || ! totalPages || view.infiniteScrollEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst currentPage = view.page ?? 1;\n\tconst pageSelectOptions = Array.from( Array( totalPages ) ).map(\n\t\t( _, i ) => {\n\t\t\tconst page = i + 1;\n\t\t\treturn {\n\t\t\t\tvalue: page.toString(),\n\t\t\t\tlabel: page.toString(),\n\t\t\t\t'aria-label':\n\t\t\t\t\tcurrentPage === page\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: 1: current page number. 2: total number of pages.\n\t\t\t\t\t\t\t\t__( 'Page %1$d of %2$d' ),\n\t\t\t\t\t\t\t\tcurrentPage,\n\t\t\t\t\t\t\t\ttotalPages\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: page.toString(),\n\t\t\t};\n\t\t}\n\t);\n\n\treturn (\n\t\t!! totalItems &&\n\t\ttotalPages !== 1 && (\n\t\t\t<HStack\n\t\t\t\texpanded={ false }\n\t\t\t\tclassName=\"dataviews-pagination\"\n\t\t\t\tjustify=\"end\"\n\t\t\t\tspacing={ 6 }\n\t\t\t>\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\texpanded={ false }\n\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\tclassName=\"dataviews-pagination__page-select\"\n\t\t\t\t>\n\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t// translators: 1: Current page number, 2: Total number of pages.\n\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t'<div>Page</div>%1$s<div>of %2$d</div>',\n\t\t\t\t\t\t\t\t'paging'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'<CurrentPage />',\n\t\t\t\t\t\t\ttotalPages\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdiv: <div aria-hidden />,\n\t\t\t\t\t\t\tCurrentPage: (\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\taria-label={ __( 'Current page' ) }\n\t\t\t\t\t\t\t\t\tvalue={ currentPage.toString() }\n\t\t\t\t\t\t\t\t\toptions={ pageSelectOptions }\n\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tpage: +newValue,\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tvariant=\"minimal\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\tpage: currentPage - 1,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={ currentPage === 1 }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tlabel={ __( 'Previous page' ) }\n\t\t\t\t\t\ticon={ isRTL() ? next : previous }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\tonChangeView( { ...view, page: currentPage + 1 } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={ currentPage >= totalPages }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tlabel={ __( 'Next page' ) }\n\t\t\t\t\t\ticon={ isRTL() ? previous : next }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t)\n\t);\n}\n\nexport default memo( DataViewsPagination );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Spinner, Composite } from '@wordpress/components';\nimport {\n\tuseContext,\n\tuseEffect,\n\tuseId,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport { useIsMultiselectPicker } from '../../components/dataviews-picker/footer';\nimport { BulkSelectionCheckbox } from '../../components/dataviews-bulk-actions';\nimport { sortValues } from '../../constants';\nimport type {\n\tNormalizedField,\n\tViewPickerTable as ViewPickerTableType,\n\tViewPickerTableProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport ColumnHeaderMenu from '../table/column-header-menu';\nimport ColumnPrimary from '../table/column-primary';\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface TableColumnFieldProps< Item > {\n\tfields: NormalizedField< Item >[];\n\tcolumn: string;\n\titem: Item;\n\talign?: 'start' | 'center' | 'end';\n}\n\ninterface TableRowProps< Item > {\n\titem: Item;\n\tfields: NormalizedField< Item >[];\n\tid: string;\n\tview: ViewPickerTableType;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tselection: string[];\n\tgetItemId: ( item: Item ) => string;\n\tonChangeSelection: SetSelection;\n\tmultiselect: boolean;\n\tposinset?: number;\n}\n\nfunction TableColumnField< Item >( {\n\titem,\n\tfields,\n\tcolumn,\n\talign,\n}: TableColumnFieldProps< Item > ) {\n\tconst field = fields.find( ( f ) => f.id === column );\n\n\tif ( ! field ) {\n\t\treturn null;\n\t}\n\n\tconst className = clsx( 'dataviews-view-table__cell-content-wrapper', {\n\t\t'dataviews-view-table__cell-align-end': align === 'end',\n\t\t'dataviews-view-table__cell-align-center': align === 'center',\n\t} );\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<field.render item={ item } field={ field } />\n\t\t</div>\n\t);\n}\n\nfunction TableRow< Item >( {\n\titem,\n\tfields,\n\tid,\n\tview,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tselection,\n\tgetItemId,\n\tonChangeSelection,\n\tmultiselect,\n\tposinset,\n}: TableRowProps< Item > ) {\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\tconst isSelected = selection.includes( id );\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst handleMouseEnter = () => {\n\t\tsetIsHovered( true );\n\t};\n\tconst handleMouseLeave = () => {\n\t\tsetIsHovered( false );\n\t};\n\n\tconst columns = view.fields ?? [];\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\n\treturn (\n\t\t<Composite.Item\n\t\t\tkey={ id }\n\t\t\trender={ ( { children, ...props } ) => (\n\t\t\t\t<tr\n\t\t\t\t\tclassName={ clsx( 'dataviews-view-table__row', {\n\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t'is-hovered': isHovered,\n\t\t\t\t\t} ) }\n\t\t\t\t\tonMouseEnter={ handleMouseEnter }\n\t\t\t\t\tonMouseLeave={ handleMouseLeave }\n\t\t\t\t\tchildren={ children }\n\t\t\t\t\t{ ...props }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\taria-selected={ isSelected }\n\t\t\taria-setsize={ paginationInfo.totalItems || undefined }\n\t\t\taria-posinset={ posinset }\n\t\t\trole={ infiniteScrollEnabled ? 'article' : 'option' }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconst newSelection = multiselect\n\t\t\t\t\t\t? [ ...selection, id ]\n\t\t\t\t\t\t: [ id ];\n\t\t\t\t\tonChangeSelection( newSelection );\n\t\t\t\t}\n\t\t\t} }\n\t\t>\n\t\t\t<td\n\t\t\t\tclassName=\"dataviews-view-table__checkbox-column\"\n\t\t\t\trole=\"presentation\"\n\t\t\t>\n\t\t\t\t<div className=\"dataviews-view-table__cell-content-wrapper\">\n\t\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\tdisabled={ false }\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</td>\n\n\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t<td role=\"presentation\">\n\t\t\t\t\t<ColumnPrimary\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\ttitleField={ showTitle ? titleField : undefined }\n\t\t\t\t\t\tmediaField={ showMedia ? mediaField : undefined }\n\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\tshowDescription ? descriptionField : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisItemClickable={ () => false }\n\t\t\t\t\t/>\n\t\t\t\t</td>\n\t\t\t) }\n\t\t\t{ columns.map( ( column: string ) => {\n\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\n\t\t\t\treturn (\n\t\t\t\t\t<td\n\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableColumnField\n\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tcolumn={ column }\n\t\t\t\t\t\t\talign={ align }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite.Item>\n\t);\n}\n\nfunction ViewPickerTable< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tisLoading = false,\n\tonChangeView,\n\tonChangeSelection,\n\tselection,\n\tsetOpenedFilter,\n\tview,\n\tclassName,\n\tempty,\n}: ViewPickerTableProps< Item > ) {\n\tconst headerMenuRefs = useRef<\n\t\tMap< string, { node: HTMLButtonElement; fallback: string } >\n\t>( new Map() );\n\tconst headerMenuToFocusRef = useRef< HTMLButtonElement >();\n\tconst [ nextHeaderMenuToFocus, setNextHeaderMenuToFocus ] =\n\t\tuseState< HTMLButtonElement >();\n\tconst isMultiselect = useIsMultiselectPicker( actions ) ?? false;\n\n\tuseEffect( () => {\n\t\tif ( headerMenuToFocusRef.current ) {\n\t\t\theaderMenuToFocusRef.current.focus();\n\t\t\theaderMenuToFocusRef.current = undefined;\n\t\t}\n\t} );\n\n\tconst tableNoticeId = useId();\n\n\tif ( nextHeaderMenuToFocus ) {\n\t\t// If we need to force focus, we short-circuit rendering here\n\t\t// to prevent any additional work while we handle that.\n\t\t// Clearing out the focus directive is necessary to make sure\n\t\t// future renders don't cause unexpected focus jumps.\n\t\theaderMenuToFocusRef.current = nextHeaderMenuToFocus;\n\t\tsetNextHeaderMenuToFocus( undefined );\n\t\treturn;\n\t}\n\n\tconst onHide = ( field: NormalizedField< Item > ) => {\n\t\tconst hidden = headerMenuRefs.current.get( field.id );\n\t\tconst fallback = hidden\n\t\t\t? headerMenuRefs.current.get( hidden.fallback )\n\t\t\t: undefined;\n\t\tsetNextHeaderMenuToFocus( fallback?.node );\n\t};\n\n\tconst hasData = !! data?.length;\n\n\tconst titleField = fields.find( ( field ) => field.id === view.titleField );\n\tconst mediaField = fields.find( ( field ) => field.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view.descriptionField\n\t);\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\tconst { showTitle = true, showMedia = true, showDescription = true } = view;\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\tconst columns = view.fields ?? [];\n\tconst headerMenuRef =\n\t\t( column: string, index: number ) => ( node: HTMLButtonElement ) => {\n\t\t\tif ( node ) {\n\t\t\t\theaderMenuRefs.current.set( column, {\n\t\t\t\t\tnode,\n\t\t\t\t\tfallback: columns[ index > 0 ? index - 1 : 1 ],\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\theaderMenuRefs.current.delete( column );\n\t\t\t}\n\t\t};\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\treturn (\n\t\t<>\n\t\t\t<table\n\t\t\t\tclassName={ clsx(\n\t\t\t\t\t'dataviews-view-table',\n\t\t\t\t\t'dataviews-view-picker-table',\n\t\t\t\t\tclassName,\n\t\t\t\t\t{\n\t\t\t\t\t\t[ `has-${ view.layout?.density }-density` ]:\n\t\t\t\t\t\t\tview.layout?.density &&\n\t\t\t\t\t\t\t[ 'compact', 'comfortable' ].includes(\n\t\t\t\t\t\t\t\tview.layout.density\n\t\t\t\t\t\t\t),\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\taria-busy={ isLoading }\n\t\t\t\taria-describedby={ tableNoticeId }\n\t\t\t\trole={ isInfiniteScroll ? 'feed' : 'listbox' }\n\t\t\t>\n\t\t\t\t<thead role=\"presentation\">\n\t\t\t\t\t<tr\n\t\t\t\t\t\tclassName=\"dataviews-view-table__row\"\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<th className=\"dataviews-view-table__checkbox-column\">\n\t\t\t\t\t\t\t{ isMultiselect && (\n\t\t\t\t\t\t\t\t<BulkSelectionCheckbox\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t{ titleField && (\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef(\n\t\t\t\t\t\t\t\t\t\t\ttitleField.id,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ titleField.id }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={ false }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ columns.map( ( column, index ) => {\n\t\t\t\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t\t\t\t\ttextAlign: align,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\taria-sort={\n\t\t\t\t\t\t\t\t\t\tview.sort?.direction &&\n\t\t\t\t\t\t\t\t\t\tview.sort?.field === column\n\t\t\t\t\t\t\t\t\t\t\t? sortValues[ view.sort.direction ]\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef( column, index ) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ column }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={\n\t\t\t\t\t\t\t\t\t\t\tview.layout?.enableMoving ?? true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t{ /* Render grouped data if groupByField is specified */ }\n\t\t\t\t{ hasData && groupField && dataByGroup ? (\n\t\t\t\t\tArray.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t<Composite\n\t\t\t\t\t\t\t\tkey={ `group-${ groupName }` }\n\t\t\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\trender={ <tbody role=\"group\" /> }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__group-header-row\"\n\t\t\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\tcolumns.length +\n\t\t\t\t\t\t\t\t\t\t\t( hasPrimaryColumn ? 1 : 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__group-header-cell\"\n\t\t\t\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{ groupItems.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\t\t\tgetItemId( item ) ||\n\t\t\t\t\t\t\t\t\t\t\tindex.toString()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\t\tmultiselect={ isMultiselect }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</Composite>\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Composite\n\t\t\t\t\t\trender={ <tbody role=\"presentation\" /> }\n\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ hasData &&\n\t\t\t\t\t\t\tdata.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\tid={ getItemId( item ) || index.toString() }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tmultiselect={ isMultiselect }\n\t\t\t\t\t\t\t\t\tposinset={ index + 1 }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Composite>\n\t\t\t\t) }\n\t\t\t</table>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t'dataviews-no-results': ! hasData && ! isLoading,\n\t\t\t\t} ) }\n\t\t\t\tid={ tableNoticeId }\n\t\t\t>\n\t\t\t\t{ ! hasData &&\n\t\t\t\t\t( isLoading ? (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tempty\n\t\t\t\t\t) ) }\n\t\t\t\t{ hasData && isLoading && (\n\t\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ViewPickerTable;\n", "/**\n * WordPress dependencies\n */\nimport { RangeControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport type { ViewGrid } from '../../types';\n\nconst imageSizes = [\n\t{\n\t\tvalue: 120,\n\t\tbreakpoint: 1,\n\t},\n\t{\n\t\tvalue: 170,\n\t\tbreakpoint: 1,\n\t},\n\t{\n\t\tvalue: 230,\n\t\tbreakpoint: 1,\n\t},\n\t{\n\t\tvalue: 290,\n\t\tbreakpoint: 1112, // at minimum image width, 4 images display at this container size\n\t},\n\t{\n\t\tvalue: 350,\n\t\tbreakpoint: 1636, // at minimum image width, 6 images display at this container size\n\t},\n\t{\n\t\tvalue: 430,\n\t\tbreakpoint: 588, // at minimum image width, 2 images display at this container size\n\t},\n];\n\nexport default function PreviewSizePicker() {\n\tconst context = useContext( DataViewsContext );\n\tconst view = context.view as ViewGrid;\n\n\tconst breakValues = imageSizes.filter( ( size ) => {\n\t\treturn context.containerWidth >= size.breakpoint;\n\t} );\n\n\tconst layoutPreviewSize = view.layout?.previewSize ?? 230; // Default to the third smallest size if no preview size is set.\n\t// If the container has resized and the set preview size is no longer available,\n\t// we reset it to the next smallest size, or the smallest available size.\n\tconst previewSizeToUse =\n\t\tbreakValues\n\t\t\t.map( ( size, index ) => ( { ...size, index } ) )\n\t\t\t.filter( ( size ) => size.value <= layoutPreviewSize )\n\t\t\t.sort( ( a, b ) => b.value - a.value )[ 0 ]?.index ?? 0;\n\n\tconst marks = breakValues.map( ( size, index ) => {\n\t\treturn {\n\t\t\tvalue: index,\n\t\t};\n\t} );\n\n\treturn (\n\t\t<RangeControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tshowTooltip={ false }\n\t\t\tlabel={ __( 'Preview size' ) }\n\t\t\tvalue={ previewSizeToUse }\n\t\t\tmin={ 0 }\n\t\t\tmax={ breakValues.length - 1 }\n\t\t\twithInputField={ false }\n\t\t\tonChange={ ( value = 0 ) => {\n\t\t\t\tcontext.onChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\t...view.layout,\n\t\t\t\t\t\tpreviewSize: breakValues[ value ].value,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tstep={ 1 }\n\t\t\tmarks={ marks }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport type { ViewTable, Density } from '../../types';\n\nexport default function DensityPicker() {\n\tconst context = useContext( DataViewsContext );\n\tconst view = context.view as ViewTable;\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tsize=\"__unstable-large\"\n\t\t\tlabel={ __( 'Density' ) }\n\t\t\tvalue={ view.layout?.density || 'balanced' }\n\t\t\tonChange={ ( value ) => {\n\t\t\t\tcontext.onChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\t...view.layout,\n\t\t\t\t\t\tdensity: value as Density,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tisBlock\n\t\t>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"comfortable\"\n\t\t\t\tvalue=\"comfortable\"\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Comfortable',\n\t\t\t\t\t'Density option for DataView layout'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"balanced\"\n\t\t\t\tvalue=\"balanced\"\n\t\t\t\tlabel={ _x( 'Balanced', 'Density option for DataView layout' ) }\n\t\t\t/>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"compact\"\n\t\t\t\tvalue=\"compact\"\n\t\t\t\tlabel={ _x( 'Compact', 'Density option for DataView layout' ) }\n\t\t\t/>\n\t\t</ToggleGroupControl>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { memo, useContext, useRef } from '@wordpress/element';\nimport { __experimentalHStack as HStack } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport Filter from './filter';\nimport { default as AddFilter } from './add-filter';\nimport ResetFilters from './reset-filters';\nimport useFilters from './use-filters';\nimport DataViewsContext from '../dataviews-context';\n\nfunction Filters( { className }: { className?: string } ) {\n\tconst { fields, view, onChangeView, openedFilter, setOpenedFilter } =\n\t\tuseContext( DataViewsContext );\n\tconst addFilterRef = useRef< HTMLButtonElement >( null );\n\tconst filters = useFilters( fields, view );\n\tconst addFilter = (\n\t\t<AddFilter\n\t\t\tkey=\"add-filter\"\n\t\t\tfilters={ filters }\n\t\t\tview={ view }\n\t\t\tonChangeView={ onChangeView }\n\t\t\tref={ addFilterRef }\n\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t/>\n\t);\n\tconst visibleFilters = filters.filter( ( filter ) => filter.isVisible );\n\tif ( visibleFilters.length === 0 ) {\n\t\treturn null;\n\t}\n\tconst filterComponents = [\n\t\t...visibleFilters.map( ( filter ) => {\n\t\t\treturn (\n\t\t\t\t<Filter\n\t\t\t\t\tkey={ filter.field }\n\t\t\t\t\tfilter={ filter }\n\t\t\t\t\tview={ view }\n\t\t\t\t\tfields={ fields }\n\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\taddFilterRef={ addFilterRef }\n\t\t\t\t\topenedFilter={ openedFilter }\n\t\t\t\t/>\n\t\t\t);\n\t\t} ),\n\t\taddFilter,\n\t];\n\n\tfilterComponents.push(\n\t\t<ResetFilters\n\t\t\tkey=\"reset-filters\"\n\t\t\tfilters={ filters }\n\t\t\tview={ view }\n\t\t\tonChangeView={ onChangeView }\n\t\t/>\n\t);\n\n\treturn (\n\t\t<HStack\n\t\t\tjustify=\"flex-start\"\n\t\t\tstyle={ { width: 'fit-content' } }\n\t\t\twrap\n\t\t\tclassName={ className }\n\t\t>\n\t\t\t{ filterComponents }\n\t\t</HStack>\n\t);\n}\n\nexport default memo( Filters );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { RefObject } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n\tSelectControl,\n\tTooltip,\n\tIcon,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef, createInterpolateElement } from '@wordpress/element';\nimport { closeSmall } from '@wordpress/icons';\n\nconst ENTER = 'Enter';\nconst SPACE = ' ';\n\n/**\n * Internal dependencies\n */\nimport SearchWidget from './search-widget';\nimport InputWidget from './input-widget';\nimport {\n\tOPERATORS,\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_BETWEEN,\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n} from '../../constants';\nimport type {\n\tFilter,\n\tNormalizedField,\n\tNormalizedFilter,\n\tOperator,\n\tOption,\n\tView,\n} from '../../types';\nimport useElements from '../../hooks/use-elements';\nimport parseDateTime from '../../field-types/utils/parse-date-time';\n\ninterface FilterTextProps {\n\tactiveElements: Option[];\n\tfilterInView?: Filter;\n\tfilter: NormalizedFilter;\n}\n\ninterface OperatorSelectorProps {\n\tfilter: NormalizedFilter;\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n}\n\ninterface FilterProps extends OperatorSelectorProps {\n\taddFilterRef: RefObject< HTMLButtonElement >;\n\topenedFilter: string | null;\n\tfields: NormalizedField< any >[];\n}\n\nconst FilterText = ( {\n\tactiveElements,\n\tfilterInView,\n\tfilter,\n}: FilterTextProps ) => {\n\tif ( activeElements === undefined || activeElements.length === 0 ) {\n\t\treturn filter.name;\n\t}\n\n\tconst filterTextWrappers = {\n\t\tName: <span className=\"dataviews-filters__summary-filter-text-name\" />,\n\t\tValue: (\n\t\t\t<span className=\"dataviews-filters__summary-filter-text-value\" />\n\t\t),\n\t};\n\n\tif ( filterInView?.operator === OPERATOR_IS_ANY ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is any: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is any: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_NONE ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is none: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is none: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_ALL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is all: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is all: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_NOT_ALL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is not all: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is not all: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is: Admin\". */\n\t\t\t\t__( '<Name>%1$s is: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_NOT ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is not: Admin\". */\n\t\t\t\t__( '<Name>%1$s is not: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_LESS_THAN ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is less than: 10\". */\n\t\t\t\t__( '<Name>%1$s is less than: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_GREATER_THAN ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is greater than: 10\". */\n\t\t\t\t__( '<Name>%1$s is greater than: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_LESS_THAN_OR_EQUAL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is less than or equal to: 10\". */\n\t\t\t\t__(\n\t\t\t\t\t'<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>'\n\t\t\t\t),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_GREATER_THAN_OR_EQUAL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is greater than or equal to: 10\". */\n\t\t\t\t__(\n\t\t\t\t\t'<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>'\n\t\t\t\t),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_CONTAINS ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Title contains: Mars\". */\n\t\t\t\t__( '<Name>%1$s contains: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_NOT_CONTAINS ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Description doesn't contain: photo\". */\n\t\t\t\t__( \"<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>\" ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_STARTS_WITH ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Title starts with: Mar\". */\n\t\t\t\t__( '<Name>%1$s starts with: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_BEFORE ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is before: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is before: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_AFTER ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is after: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is after: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_BEFORE_INC ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is on or before: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is on or before: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_AFTER_INC ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is on or after: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is on or after: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_BETWEEN ) {\n\t\tconst { label } = activeElements[ 0 ];\n\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: \"Item count between (inc): 10 and 180\". */\n\t\t\t\t__(\n\t\t\t\t\t'<Name>%1$s between (inc): </Name><Value>%2$s and %3$s</Value>'\n\t\t\t\t),\n\t\t\t\tfilter.name,\n\t\t\t\tlabel[ 0 ],\n\t\t\t\tlabel[ 1 ]\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_ON ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_NOT_ON ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is not: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is not: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IN_THE_PAST ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is in the past: 1 days\". */\n\t\t\t\t__( '<Name>%1$s is in the past: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\t`${ activeElements[ 0 ].value.value } ${ activeElements[ 0 ].value.unit }`\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_OVER ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is over: 1 days ago\". */\n\t\t\t\t__( '<Name>%1$s is over: </Name><Value>%2$s</Value> ago' ),\n\t\t\t\tfilter.name,\n\t\t\t\t`${ activeElements[ 0 ].value.value } ${ activeElements[ 0 ].value.unit }`\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\treturn sprintf(\n\t\t/* translators: 1: Filter name e.g.: \"Unknown status for Author\". */\n\t\t__( 'Unknown status for %1$s' ),\n\t\tfilter.name\n\t);\n};\n\nfunction OperatorSelector( {\n\tfilter,\n\tview,\n\tonChangeView,\n}: OperatorSelectorProps ) {\n\tconst operatorOptions = filter.operators?.map( ( operator ) => ( {\n\t\tvalue: operator,\n\t\tlabel: OPERATORS[ operator ]?.label,\n\t} ) );\n\tconst currentFilter = view.filters?.find(\n\t\t( _filter ) => _filter.field === filter.field\n\t);\n\tconst value = currentFilter?.operator || filter.operators[ 0 ];\n\treturn (\n\t\toperatorOptions.length > 1 && (\n\t\t\t<HStack\n\t\t\t\tspacing={ 2 }\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t\tclassName=\"dataviews-filters__summary-operators-container\"\n\t\t\t>\n\t\t\t\t<FlexItem className=\"dataviews-filters__summary-operators-filter-name\">\n\t\t\t\t\t{ filter.name }\n\t\t\t\t</FlexItem>\n\n\t\t\t\t<SelectControl\n\t\t\t\t\tclassName=\"dataviews-filters__summary-operators-filter-select\"\n\t\t\t\t\tlabel={ __( 'Conditions' ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\toptions={ operatorOptions }\n\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\tconst operator = newValue as Operator;\n\t\t\t\t\t\tconst currentOperator = currentFilter?.operator;\n\t\t\t\t\t\tconst newFilters = currentFilter\n\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ).map(\n\t\t\t\t\t\t\t\t\t\t( _filter ) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t_filter.field === filter.field\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Reset the value only when switching between operators that have different value types.\n\t\t\t\t\t\t\t\t\t\t\t\tconst OPERATORS_SHOULD_RESET_VALUE =\n\t\t\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATOR_BETWEEN,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATOR_OVER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\tconst shouldResetValue =\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentOperator &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t( OPERATORS_SHOULD_RESET_VALUE.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentOperator\n\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATORS_SHOULD_RESET_VALUE.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toperator\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) );\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: shouldResetValue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: _filter.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\toperator,\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn _filter;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\t\t\toperator,\n\t\t\t\t\t\t\t\t\t\tvalue: undefined,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t  ];\n\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\tfilters: newFilters,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"minimal\"\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t)\n\t);\n}\n\nexport default function Filter( {\n\taddFilterRef,\n\topenedFilter,\n\tfields,\n\t...commonProps\n}: FilterProps ) {\n\tconst toggleRef = useRef< HTMLDivElement >( null );\n\tconst { filter, view, onChangeView } = commonProps;\n\tconst filterInView = view.filters?.find(\n\t\t( f ) => f.field === filter.field\n\t);\n\n\tlet activeElements: Option[] = [];\n\n\tconst { elements } = useElements( {\n\t\telements: filter.elements,\n\t\tgetElements: filter.getElements,\n\t} );\n\n\tif ( elements.length > 0 ) {\n\t\tactiveElements = elements.filter( ( element ) => {\n\t\t\tif ( filter.singleSelection ) {\n\t\t\t\treturn element.value === filterInView?.value;\n\t\t\t}\n\t\t\treturn filterInView?.value?.includes( element.value );\n\t\t} );\n\t} else if ( filterInView?.value !== undefined ) {\n\t\tconst field = fields.find( ( f ) => f.id === filter.field );\n\t\tlet label = filterInView.value;\n\n\t\tif ( field?.type === 'datetime' && typeof label === 'string' ) {\n\t\t\ttry {\n\t\t\t\tconst dateValue = parseDateTime( label );\n\t\t\t\tif ( dateValue !== null ) {\n\t\t\t\t\tlabel = dateValue.toLocaleString();\n\t\t\t\t}\n\t\t\t} catch ( e ) {\n\t\t\t\tlabel = filterInView.value;\n\t\t\t}\n\t\t}\n\n\t\tactiveElements = [\n\t\t\t{\n\t\t\t\tvalue: filterInView.value,\n\t\t\t\tlabel,\n\t\t\t},\n\t\t];\n\t}\n\n\tconst isPrimary = filter.isPrimary;\n\tconst isLocked = filterInView?.isLocked;\n\tconst hasValues = ! isLocked && filterInView?.value !== undefined;\n\tconst canResetOrRemove = ! isLocked && ( ! isPrimary || hasValues );\n\treturn (\n\t\t<Dropdown\n\t\t\tdefaultOpen={ openedFilter === filter.field }\n\t\t\tcontentClassName=\"dataviews-filters__summary-popover\"\n\t\t\tpopoverProps={ { placement: 'bottom-start', role: 'dialog' } }\n\t\t\tonClose={ () => {\n\t\t\t\ttoggleRef.current?.focus();\n\t\t\t} }\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<div className=\"dataviews-filters__summary-chip-container\">\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttext={ sprintf(\n\t\t\t\t\t\t\t/* translators: 1: Filter name. */\n\t\t\t\t\t\t\t__( 'Filter by: %1$s' ),\n\t\t\t\t\t\t\tfilter.name.toLowerCase()\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t'dataviews-filters__summary-chip',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'has-reset': canResetOrRemove,\n\t\t\t\t\t\t\t\t\t'has-values': hasValues,\n\t\t\t\t\t\t\t\t\t'is-not-clickable': isLocked,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\ttabIndex={ isLocked ? -1 : 0 }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tif ( ! isLocked ) {\n\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t! isLocked &&\n\t\t\t\t\t\t\t\t\t[ ENTER, SPACE ].includes( event.key )\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\taria-disabled={ isLocked }\n\t\t\t\t\t\t\taria-pressed={ isOpen }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\tref={ toggleRef }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FilterText\n\t\t\t\t\t\t\t\tactiveElements={ activeElements }\n\t\t\t\t\t\t\t\tfilterInView={ filterInView }\n\t\t\t\t\t\t\t\tfilter={ filter }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{ canResetOrRemove && (\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttext={ isPrimary ? __( 'Reset' ) : __( 'Remove' ) }\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t'dataviews-filters__summary-chip-remove',\n\t\t\t\t\t\t\t\t\t{ 'has-values': hasValues }\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\t\tfilters: view.filters?.filter(\n\t\t\t\t\t\t\t\t\t\t\t( _filter ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t_filter.field !== filter.field\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t// If the filter is not primary and can be removed, it will be added\n\t\t\t\t\t\t\t\t\t// back to the available filters from `Add filter` component.\n\t\t\t\t\t\t\t\t\tif ( ! isPrimary ) {\n\t\t\t\t\t\t\t\t\t\taddFilterRef.current?.focus();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// If is primary, focus the toggle button.\n\t\t\t\t\t\t\t\t\t\ttoggleRef.current?.focus();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon icon={ closeSmall } />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\trenderContent={ () => {\n\t\t\t\treturn (\n\t\t\t\t\t<VStack spacing={ 0 } justify=\"flex-start\">\n\t\t\t\t\t\t<OperatorSelector { ...commonProps } />\n\t\t\t\t\t\t{ commonProps.filter.hasElements ? (\n\t\t\t\t\t\t\t<SearchWidget\n\t\t\t\t\t\t\t\t{ ...commonProps }\n\t\t\t\t\t\t\t\tfilter={ {\n\t\t\t\t\t\t\t\t\t...commonProps.filter,\n\t\t\t\t\t\t\t\t\telements,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<InputWidget { ...commonProps } fields={ fields } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t);\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\nexport {\n  __spreadValues,\n  __spreadProps,\n  __objRest\n};\n", "\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\nexport {\n  __spreadValues,\n  __spreadProps,\n  __objRest\n};\n", "\"use client\";\nimport {\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/misc.ts\nfunction noop(..._) {\n}\nfunction shallowEqual(a, b) {\n  if (a === b) return true;\n  if (!a) return false;\n  if (!b) return false;\n  if (typeof a !== \"object\") return false;\n  if (typeof b !== \"object\") return false;\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n  const { length } = aKeys;\n  if (bKeys.length !== length) return false;\n  for (const key of aKeys) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction applyState(argument, currentValue) {\n  if (isUpdater(argument)) {\n    const value = isLazyValue(currentValue) ? currentValue() : currentValue;\n    return argument(value);\n  }\n  return argument;\n}\nfunction isUpdater(argument) {\n  return typeof argument === \"function\";\n}\nfunction isLazyValue(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(arg) {\n  return typeof arg === \"object\" && arg != null;\n}\nfunction isEmpty(arg) {\n  if (Array.isArray(arg)) return !arg.length;\n  if (isObject(arg)) return !Object.keys(arg).length;\n  if (arg == null) return true;\n  if (arg === \"\") return true;\n  return false;\n}\nfunction isInteger(arg) {\n  if (typeof arg === \"number\") {\n    return Math.floor(arg) === arg;\n  }\n  return String(Math.floor(Number(arg))) === arg;\n}\nfunction hasOwnProperty(object, prop) {\n  if (typeof Object.hasOwn === \"function\") {\n    return Object.hasOwn(object, prop);\n  }\n  return Object.prototype.hasOwnProperty.call(object, prop);\n}\nfunction chain(...fns) {\n  return (...args) => {\n    for (const fn of fns) {\n      if (typeof fn === \"function\") {\n        fn(...args);\n      }\n    }\n  };\n}\nfunction cx(...args) {\n  return args.filter(Boolean).join(\" \") || void 0;\n}\nfunction normalizeString(str) {\n  return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\nfunction omit(object, keys) {\n  const result = __spreadValues({}, object);\n  for (const key of keys) {\n    if (hasOwnProperty(result, key)) {\n      delete result[key];\n    }\n  }\n  return result;\n}\nfunction pick(object, paths) {\n  const result = {};\n  for (const key of paths) {\n    if (hasOwnProperty(object, key)) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\nfunction identity(value) {\n  return value;\n}\nfunction beforePaint(cb = noop) {\n  const raf = requestAnimationFrame(cb);\n  return () => cancelAnimationFrame(raf);\n}\nfunction afterPaint(cb = noop) {\n  let raf = requestAnimationFrame(() => {\n    raf = requestAnimationFrame(cb);\n  });\n  return () => cancelAnimationFrame(raf);\n}\nfunction invariant(condition, message) {\n  if (condition) return;\n  if (typeof message !== \"string\") throw new Error(\"Invariant failed\");\n  throw new Error(message);\n}\nfunction getKeys(obj) {\n  return Object.keys(obj);\n}\nfunction isFalsyBooleanCallback(booleanOrCallback, ...args) {\n  const result = typeof booleanOrCallback === \"function\" ? booleanOrCallback(...args) : booleanOrCallback;\n  if (result == null) return false;\n  return !result;\n}\nfunction disabledFromProps(props) {\n  return props.disabled || props[\"aria-disabled\"] === true || props[\"aria-disabled\"] === \"true\";\n}\nfunction removeUndefinedValues(obj) {\n  const result = {};\n  for (const key in obj) {\n    if (obj[key] !== void 0) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\nfunction defaultValue(...values) {\n  for (const value of values) {\n    if (value !== void 0) return value;\n  }\n  return void 0;\n}\n\nexport {\n  noop,\n  shallowEqual,\n  applyState,\n  isObject,\n  isEmpty,\n  isInteger,\n  hasOwnProperty,\n  chain,\n  cx,\n  normalizeString,\n  omit,\n  pick,\n  identity,\n  beforePaint,\n  afterPaint,\n  invariant,\n  getKeys,\n  isFalsyBooleanCallback,\n  disabledFromProps,\n  removeUndefinedValues,\n  defaultValue\n};\n", "\"use client\";\nimport {\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/misc.ts\nimport { hasOwnProperty } from \"@ariakit/core/utils/misc\";\nimport { isValidElement } from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\nfunction isValidElementWithRef(element) {\n  if (!element) return false;\n  if (!isValidElement(element)) return false;\n  if (\"ref\" in element.props) return true;\n  if (\"ref\" in element) return true;\n  return false;\n}\nfunction getRefProperty(element) {\n  if (!isValidElementWithRef(element)) return null;\n  const props = __spreadValues({}, element.props);\n  return props.ref || element.ref;\n}\nfunction mergeProps(base, overrides) {\n  const props = __spreadValues({}, base);\n  for (const key in overrides) {\n    if (!hasOwnProperty(overrides, key)) continue;\n    if (key === \"className\") {\n      const prop = \"className\";\n      props[prop] = base[prop] ? `${base[prop]} ${overrides[prop]}` : overrides[prop];\n      continue;\n    }\n    if (key === \"style\") {\n      const prop = \"style\";\n      props[prop] = base[prop] ? __spreadValues(__spreadValues({}, base[prop]), overrides[prop]) : overrides[prop];\n      continue;\n    }\n    const overrideValue = overrides[key];\n    if (typeof overrideValue === \"function\" && key.startsWith(\"on\")) {\n      const baseValue = base[key];\n      if (typeof baseValue === \"function\") {\n        props[key] = (...args) => {\n          overrideValue(...args);\n          baseValue(...args);\n        };\n        continue;\n      }\n    }\n    props[key] = overrideValue;\n  }\n  return props;\n}\n\nexport {\n  setRef,\n  isValidElementWithRef,\n  getRefProperty,\n  mergeProps\n};\n", "\"use client\";\n\n// src/utils/dom.ts\nvar canUseDOM = checkIsBrowser();\nfunction checkIsBrowser() {\n  var _a;\n  return typeof window !== \"undefined\" && !!((_a = window.document) == null ? void 0 : _a.createElement);\n}\nfunction getDocument(node) {\n  if (!node) return document;\n  if (\"self\" in node) return node.document;\n  return node.ownerDocument || document;\n}\nfunction getWindow(node) {\n  if (!node) return self;\n  if (\"self\" in node) return node.self;\n  return getDocument(node).defaultView || window;\n}\nfunction getActiveElement(node, activeDescendant = false) {\n  const { activeElement } = getDocument(node);\n  if (!(activeElement == null ? void 0 : activeElement.nodeName)) {\n    return null;\n  }\n  if (isFrame(activeElement) && activeElement.contentDocument) {\n    return getActiveElement(\n      activeElement.contentDocument.body,\n      activeDescendant\n    );\n  }\n  if (activeDescendant) {\n    const id = activeElement.getAttribute(\"aria-activedescendant\");\n    if (id) {\n      const element = getDocument(activeElement).getElementById(id);\n      if (element) {\n        return element;\n      }\n    }\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  return parent === child || parent.contains(child);\n}\nfunction isFrame(element) {\n  return element.tagName === \"IFRAME\";\n}\nfunction isButton(element) {\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"button\") return true;\n  if (tagName === \"input\" && element.type) {\n    return buttonInputTypes.indexOf(element.type) !== -1;\n  }\n  return false;\n}\nvar buttonInputTypes = [\n  \"button\",\n  \"color\",\n  \"file\",\n  \"image\",\n  \"reset\",\n  \"submit\"\n];\nfunction isVisible(element) {\n  if (typeof element.checkVisibility === \"function\") {\n    return element.checkVisibility();\n  }\n  const htmlElement = element;\n  return htmlElement.offsetWidth > 0 || htmlElement.offsetHeight > 0 || element.getClientRects().length > 0;\n}\nfunction isTextField(element) {\n  try {\n    const isTextInput = element instanceof HTMLInputElement && element.selectionStart !== null;\n    const isTextArea = element.tagName === \"TEXTAREA\";\n    return isTextInput || isTextArea || false;\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTextbox(element) {\n  return element.isContentEditable || isTextField(element);\n}\nfunction getTextboxValue(element) {\n  if (isTextField(element)) {\n    return element.value;\n  }\n  if (element.isContentEditable) {\n    const range = getDocument(element).createRange();\n    range.selectNodeContents(element);\n    return range.toString();\n  }\n  return \"\";\n}\nfunction getTextboxSelection(element) {\n  let start = 0;\n  let end = 0;\n  if (isTextField(element)) {\n    start = element.selectionStart || 0;\n    end = element.selectionEnd || 0;\n  } else if (element.isContentEditable) {\n    const selection = getDocument(element).getSelection();\n    if ((selection == null ? void 0 : selection.rangeCount) && selection.anchorNode && contains(element, selection.anchorNode) && selection.focusNode && contains(element, selection.focusNode)) {\n      const range = selection.getRangeAt(0);\n      const nextRange = range.cloneRange();\n      nextRange.selectNodeContents(element);\n      nextRange.setEnd(range.startContainer, range.startOffset);\n      start = nextRange.toString().length;\n      nextRange.setEnd(range.endContainer, range.endOffset);\n      end = nextRange.toString().length;\n    }\n  }\n  return { start, end };\n}\nfunction getPopupRole(element, fallback) {\n  const allowedPopupRoles = [\"dialog\", \"menu\", \"listbox\", \"tree\", \"grid\"];\n  const role = element == null ? void 0 : element.getAttribute(\"role\");\n  if (role && allowedPopupRoles.indexOf(role) !== -1) {\n    return role;\n  }\n  return fallback;\n}\nfunction getPopupItemRole(element, fallback) {\n  var _a;\n  const itemRoleByPopupRole = {\n    menu: \"menuitem\",\n    listbox: \"option\",\n    tree: \"treeitem\"\n  };\n  const popupRole = getPopupRole(element);\n  if (!popupRole) return fallback;\n  const key = popupRole;\n  return (_a = itemRoleByPopupRole[key]) != null ? _a : fallback;\n}\nfunction scrollIntoViewIfNeeded(element, arg) {\n  if (isPartiallyHidden(element) && \"scrollIntoView\" in element) {\n    element.scrollIntoView(arg);\n  }\n}\nfunction getScrollingElement(element) {\n  if (!element) return null;\n  const isScrollableOverflow = (overflow) => {\n    if (overflow === \"auto\") return true;\n    if (overflow === \"scroll\") return true;\n    return false;\n  };\n  if (element.clientHeight && element.scrollHeight > element.clientHeight) {\n    const { overflowY } = getComputedStyle(element);\n    if (isScrollableOverflow(overflowY)) return element;\n  } else if (element.clientWidth && element.scrollWidth > element.clientWidth) {\n    const { overflowX } = getComputedStyle(element);\n    if (isScrollableOverflow(overflowX)) return element;\n  }\n  return getScrollingElement(element.parentElement) || document.scrollingElement || document.body;\n}\nfunction isPartiallyHidden(element) {\n  const elementRect = element.getBoundingClientRect();\n  const scroller = getScrollingElement(element);\n  if (!scroller) return false;\n  const scrollerRect = scroller.getBoundingClientRect();\n  const isHTML = scroller.tagName === \"HTML\";\n  const scrollerTop = isHTML ? scrollerRect.top + scroller.scrollTop : scrollerRect.top;\n  const scrollerBottom = isHTML ? scroller.clientHeight : scrollerRect.bottom;\n  const scrollerLeft = isHTML ? scrollerRect.left + scroller.scrollLeft : scrollerRect.left;\n  const scrollerRight = isHTML ? scroller.clientWidth : scrollerRect.right;\n  const top = elementRect.top < scrollerTop;\n  const left = elementRect.left < scrollerLeft;\n  const bottom = elementRect.bottom > scrollerBottom;\n  const right = elementRect.right > scrollerRight;\n  return top || left || bottom || right;\n}\nfunction setSelectionRange(element, ...args) {\n  if (/text|search|password|tel|url/i.test(element.type)) {\n    element.setSelectionRange(...args);\n  }\n}\nfunction sortBasedOnDOMPosition(items, getElement) {\n  const pairs = items.map((item, index) => [index, item]);\n  let isOrderDifferent = false;\n  pairs.sort(([indexA, a], [indexB, b]) => {\n    const elementA = getElement(a);\n    const elementB = getElement(b);\n    if (elementA === elementB) return 0;\n    if (!elementA || !elementB) return 0;\n    if (isElementPreceding(elementA, elementB)) {\n      if (indexA > indexB) {\n        isOrderDifferent = true;\n      }\n      return -1;\n    }\n    if (indexA < indexB) {\n      isOrderDifferent = true;\n    }\n    return 1;\n  });\n  if (isOrderDifferent) {\n    return pairs.map(([_, item]) => item);\n  }\n  return items;\n}\nfunction isElementPreceding(a, b) {\n  return Boolean(\n    b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING\n  );\n}\n\nexport {\n  canUseDOM,\n  getDocument,\n  getWindow,\n  getActiveElement,\n  contains,\n  isFrame,\n  isButton,\n  isVisible,\n  isTextField,\n  isTextbox,\n  getTextboxValue,\n  getTextboxSelection,\n  getPopupRole,\n  getPopupItemRole,\n  scrollIntoViewIfNeeded,\n  getScrollingElement,\n  isPartiallyHidden,\n  setSelectionRange,\n  sortBasedOnDOMPosition\n};\n", "\"use client\";\nimport {\n  canUseDOM\n} from \"./DTR5TSDJ.js\";\n\n// src/utils/platform.ts\nfunction isTouchDevice() {\n  return canUseDOM && !!navigator.maxTouchPoints;\n}\nfunction isApple() {\n  if (!canUseDOM) return false;\n  return /mac|iphone|ipad|ipod/i.test(navigator.platform);\n}\nfunction isSafari() {\n  return canUseDOM && isApple() && /apple/i.test(navigator.vendor);\n}\nfunction isFirefox() {\n  return canUseDOM && /firefox\\//i.test(navigator.userAgent);\n}\nfunction isMac() {\n  return canUseDOM && navigator.platform.startsWith(\"Mac\") && !isTouchDevice();\n}\n\nexport {\n  isTouchDevice,\n  isApple,\n  isSafari,\n  isFirefox,\n  isMac\n};\n", "\"use client\";\nimport {\n  isApple\n} from \"../__chunks/QAGXQEUG.js\";\nimport {\n  contains\n} from \"../__chunks/DTR5TSDJ.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/utils/events.ts\nfunction isPortalEvent(event) {\n  return Boolean(\n    event.currentTarget && !contains(event.currentTarget, event.target)\n  );\n}\nfunction isSelfTarget(event) {\n  return event.target === event.currentTarget;\n}\nfunction isOpeningInNewTab(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const isAppleDevice = isApple();\n  if (isAppleDevice && !event.metaKey) return false;\n  if (!isAppleDevice && !event.ctrlKey) return false;\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"a\") return true;\n  if (tagName === \"button\" && element.type === \"submit\") return true;\n  if (tagName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isDownloading(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const tagName = element.tagName.toLowerCase();\n  if (!event.altKey) return false;\n  if (tagName === \"a\") return true;\n  if (tagName === \"button\" && element.type === \"submit\") return true;\n  if (tagName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction fireEvent(element, type, eventInit) {\n  const event = new Event(type, eventInit);\n  return element.dispatchEvent(event);\n}\nfunction fireBlurEvent(element, eventInit) {\n  const event = new FocusEvent(\"blur\", eventInit);\n  const defaultAllowed = element.dispatchEvent(event);\n  const bubbleInit = __spreadProps(__spreadValues({}, eventInit), { bubbles: true });\n  element.dispatchEvent(new FocusEvent(\"focusout\", bubbleInit));\n  return defaultAllowed;\n}\nfunction fireFocusEvent(element, eventInit) {\n  const event = new FocusEvent(\"focus\", eventInit);\n  const defaultAllowed = element.dispatchEvent(event);\n  const bubbleInit = __spreadProps(__spreadValues({}, eventInit), { bubbles: true });\n  element.dispatchEvent(new FocusEvent(\"focusin\", bubbleInit));\n  return defaultAllowed;\n}\nfunction fireKeyboardEvent(element, type, eventInit) {\n  const event = new KeyboardEvent(type, eventInit);\n  return element.dispatchEvent(event);\n}\nfunction fireClickEvent(element, eventInit) {\n  const event = new MouseEvent(\"click\", eventInit);\n  return element.dispatchEvent(event);\n}\nfunction isFocusEventOutside(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction getInputType(event) {\n  const nativeEvent = \"nativeEvent\" in event ? event.nativeEvent : event;\n  if (!nativeEvent) return;\n  if (!(\"inputType\" in nativeEvent)) return;\n  if (typeof nativeEvent.inputType !== \"string\") return;\n  return nativeEvent.inputType;\n}\nfunction queueBeforeEvent(element, type, callback, timeout) {\n  const createTimer = (callback2) => {\n    if (timeout) {\n      const timerId2 = setTimeout(callback2, timeout);\n      return () => clearTimeout(timerId2);\n    }\n    const timerId = requestAnimationFrame(callback2);\n    return () => cancelAnimationFrame(timerId);\n  };\n  const cancelTimer = createTimer(() => {\n    element.removeEventListener(type, callSync, true);\n    callback();\n  });\n  const callSync = () => {\n    cancelTimer();\n    callback();\n  };\n  element.addEventListener(type, callSync, { once: true, capture: true });\n  return cancelTimer;\n}\nfunction addGlobalEventListener(type, listener, options, scope = window) {\n  const children = [];\n  try {\n    scope.document.addEventListener(type, listener, options);\n    for (const frame of Array.from(scope.frames)) {\n      children.push(addGlobalEventListener(type, listener, options, frame));\n    }\n  } catch (e) {\n  }\n  const removeEventListener = () => {\n    try {\n      scope.document.removeEventListener(type, listener, options);\n    } catch (e) {\n    }\n    for (const remove of children) {\n      remove();\n    }\n  };\n  return removeEventListener;\n}\nexport {\n  addGlobalEventListener,\n  fireBlurEvent,\n  fireClickEvent,\n  fireEvent,\n  fireFocusEvent,\n  fireKeyboardEvent,\n  getInputType,\n  isDownloading,\n  isFocusEventOutside,\n  isOpeningInNewTab,\n  isPortalEvent,\n  isSelfTarget,\n  queueBeforeEvent\n};\n", "\"use client\";\nimport {\n  setRef\n} from \"./SK3NAZA3.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/hooks.ts\nimport { canUseDOM } from \"@ariakit/core/utils/dom\";\nimport { addGlobalEventListener } from \"@ariakit/core/utils/events\";\nimport {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState\n} from \"react\";\nimport * as React from \"react\";\nvar _React = __spreadValues({}, React);\nvar useReactId = _React.useId;\nvar useReactDeferredValue = _React.useDeferredValue;\nvar useReactInsertionEffect = _React.useInsertionEffect;\nvar useSafeLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\nfunction useInitialValue(value) {\n  const [initialValue] = useState(value);\n  return initialValue;\n}\nfunction useLazyValue(init) {\n  const ref = useRef();\n  if (ref.current === void 0) {\n    ref.current = init();\n  }\n  return ref.current;\n}\nfunction useLiveRef(value) {\n  const ref = useRef(value);\n  useSafeLayoutEffect(() => {\n    ref.current = value;\n  });\n  return ref;\n}\nfunction usePreviousValue(value) {\n  const [previousValue, setPreviousValue] = useState(value);\n  if (value !== previousValue) {\n    setPreviousValue(value);\n  }\n  return previousValue;\n}\nfunction useEvent(callback) {\n  const ref = useRef(() => {\n    throw new Error(\"Cannot call an event handler while rendering.\");\n  });\n  if (useReactInsertionEffect) {\n    useReactInsertionEffect(() => {\n      ref.current = callback;\n    });\n  } else {\n    ref.current = callback;\n  }\n  return useCallback((...args) => {\n    var _a;\n    return (_a = ref.current) == null ? void 0 : _a.call(ref, ...args);\n  }, []);\n}\nfunction useTransactionState(callback) {\n  const [state, setState] = useState(null);\n  useSafeLayoutEffect(() => {\n    if (state == null) return;\n    if (!callback) return;\n    let prevState = null;\n    callback((prev) => {\n      prevState = prev;\n      return state;\n    });\n    return () => {\n      callback(prevState);\n    };\n  }, [state, callback]);\n  return [state, setState];\n}\nfunction useMergeRefs(...refs) {\n  return useMemo(() => {\n    if (!refs.some(Boolean)) return;\n    return (value) => {\n      for (const ref of refs) {\n        setRef(ref, value);\n      }\n    };\n  }, refs);\n}\nfunction useId(defaultId) {\n  if (useReactId) {\n    const reactId = useReactId();\n    if (defaultId) return defaultId;\n    return reactId;\n  }\n  const [id, setId] = useState(defaultId);\n  useSafeLayoutEffect(() => {\n    if (defaultId || id) return;\n    const random = Math.random().toString(36).slice(2, 8);\n    setId(`id-${random}`);\n  }, [defaultId, id]);\n  return defaultId || id;\n}\nfunction useDeferredValue(value) {\n  if (useReactDeferredValue) {\n    return useReactDeferredValue(value);\n  }\n  const [deferredValue, setDeferredValue] = useState(value);\n  useEffect(() => {\n    const raf = requestAnimationFrame(() => setDeferredValue(value));\n    return () => cancelAnimationFrame(raf);\n  }, [value]);\n  return deferredValue;\n}\nfunction useTagName(refOrElement, type) {\n  const stringOrUndefined = (type2) => {\n    if (typeof type2 !== \"string\") return;\n    return type2;\n  };\n  const [tagName, setTagName] = useState(() => stringOrUndefined(type));\n  useSafeLayoutEffect(() => {\n    const element = refOrElement && \"current\" in refOrElement ? refOrElement.current : refOrElement;\n    setTagName((element == null ? void 0 : element.tagName.toLowerCase()) || stringOrUndefined(type));\n  }, [refOrElement, type]);\n  return tagName;\n}\nfunction useAttribute(refOrElement, attributeName, defaultValue) {\n  const initialValue = useInitialValue(defaultValue);\n  const [attribute, setAttribute] = useState(initialValue);\n  useEffect(() => {\n    const element = refOrElement && \"current\" in refOrElement ? refOrElement.current : refOrElement;\n    if (!element) return;\n    const callback = () => {\n      const value = element.getAttribute(attributeName);\n      setAttribute(value == null ? initialValue : value);\n    };\n    const observer = new MutationObserver(callback);\n    observer.observe(element, { attributeFilter: [attributeName] });\n    callback();\n    return () => observer.disconnect();\n  }, [refOrElement, attributeName, initialValue]);\n  return attribute;\n}\nfunction useUpdateEffect(effect, deps) {\n  const mounted = useRef(false);\n  useEffect(() => {\n    if (mounted.current) {\n      return effect();\n    }\n    mounted.current = true;\n  }, deps);\n  useEffect(\n    () => () => {\n      mounted.current = false;\n    },\n    []\n  );\n}\nfunction useUpdateLayoutEffect(effect, deps) {\n  const mounted = useRef(false);\n  useSafeLayoutEffect(() => {\n    if (mounted.current) {\n      return effect();\n    }\n    mounted.current = true;\n  }, deps);\n  useSafeLayoutEffect(\n    () => () => {\n      mounted.current = false;\n    },\n    []\n  );\n}\nfunction useForceUpdate() {\n  return useReducer(() => [], []);\n}\nfunction useBooleanEvent(booleanOrCallback) {\n  return useEvent(\n    typeof booleanOrCallback === \"function\" ? booleanOrCallback : () => booleanOrCallback\n  );\n}\nfunction useWrapElement(props, callback, deps = []) {\n  const wrapElement = useCallback(\n    (element) => {\n      if (props.wrapElement) {\n        element = props.wrapElement(element);\n      }\n      return callback(element);\n    },\n    [...deps, props.wrapElement]\n  );\n  return __spreadProps(__spreadValues({}, props), { wrapElement });\n}\nfunction usePortalRef(portalProp = false, portalRefProp) {\n  const [portalNode, setPortalNode] = useState(null);\n  const portalRef = useMergeRefs(setPortalNode, portalRefProp);\n  const domReady = !portalProp || portalNode;\n  return { portalRef, portalNode, domReady };\n}\nfunction useMetadataProps(props, key, value) {\n  const parent = props.onLoadedMetadataCapture;\n  const onLoadedMetadataCapture = useMemo(() => {\n    return Object.assign(() => {\n    }, __spreadProps(__spreadValues({}, parent), { [key]: value }));\n  }, [parent, key, value]);\n  return [parent == null ? void 0 : parent[key], { onLoadedMetadataCapture }];\n}\nfunction useIsMouseMoving() {\n  useEffect(() => {\n    addGlobalEventListener(\"mousemove\", setMouseMoving, true);\n    addGlobalEventListener(\"mousedown\", resetMouseMoving, true);\n    addGlobalEventListener(\"mouseup\", resetMouseMoving, true);\n    addGlobalEventListener(\"keydown\", resetMouseMoving, true);\n    addGlobalEventListener(\"scroll\", resetMouseMoving, true);\n  }, []);\n  const isMouseMoving = useEvent(() => mouseMoving);\n  return isMouseMoving;\n}\nvar mouseMoving = false;\nvar previousScreenX = 0;\nvar previousScreenY = 0;\nfunction hasMouseMovement(event) {\n  const movementX = event.movementX || event.screenX - previousScreenX;\n  const movementY = event.movementY || event.screenY - previousScreenY;\n  previousScreenX = event.screenX;\n  previousScreenY = event.screenY;\n  return movementX || movementY || process.env.NODE_ENV === \"test\";\n}\nfunction setMouseMoving(event) {\n  if (!hasMouseMovement(event)) return;\n  mouseMoving = true;\n}\nfunction resetMouseMoving() {\n  mouseMoving = false;\n}\n\nexport {\n  useSafeLayoutEffect,\n  useInitialValue,\n  useLazyValue,\n  useLiveRef,\n  usePreviousValue,\n  useEvent,\n  useTransactionState,\n  useMergeRefs,\n  useId,\n  useDeferredValue,\n  useTagName,\n  useAttribute,\n  useUpdateEffect,\n  useUpdateLayoutEffect,\n  useForceUpdate,\n  useBooleanEvent,\n  useWrapElement,\n  usePortalRef,\n  useMetadataProps,\n  useIsMouseMoving\n};\n", "\"use client\";\nimport {\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  getRefProperty,\n  mergeProps\n} from \"./SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/system.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction forwardRef2(render) {\n  const Role = React.forwardRef((props, ref) => render(__spreadProps(__spreadValues({}, props), { ref })));\n  Role.displayName = render.displayName || render.name;\n  return Role;\n}\nfunction memo2(Component, propsAreEqual) {\n  return React.memo(Component, propsAreEqual);\n}\nfunction createElement(Type, props) {\n  const _a = props, { wrapElement, render } = _a, rest = __objRest(_a, [\"wrapElement\", \"render\"]);\n  const mergedRef = useMergeRefs(props.ref, getRefProperty(render));\n  let element;\n  if (React.isValidElement(render)) {\n    const renderProps = __spreadProps(__spreadValues({}, render.props), { ref: mergedRef });\n    element = React.cloneElement(render, mergeProps(rest, renderProps));\n  } else if (render) {\n    element = render(rest);\n  } else {\n    element = /* @__PURE__ */ jsx(Type, __spreadValues({}, rest));\n  }\n  if (wrapElement) {\n    return wrapElement(element);\n  }\n  return element;\n}\nfunction createHook(useProps) {\n  const useRole = (props = {}) => {\n    return useProps(props);\n  };\n  useRole.displayName = useProps.name;\n  return useRole;\n}\nfunction createStoreContext(providers = [], scopedProviders = []) {\n  const context = React.createContext(void 0);\n  const scopedContext = React.createContext(void 0);\n  const useContext2 = () => React.useContext(context);\n  const useScopedContext = (onlyScoped = false) => {\n    const scoped = React.useContext(scopedContext);\n    const store = useContext2();\n    if (onlyScoped) return scoped;\n    return scoped || store;\n  };\n  const useProviderContext = () => {\n    const scoped = React.useContext(scopedContext);\n    const store = useContext2();\n    if (scoped && scoped === store) return;\n    return store;\n  };\n  const ContextProvider = (props) => {\n    return providers.reduceRight(\n      (children, Provider) => /* @__PURE__ */ jsx(Provider, __spreadProps(__spreadValues({}, props), { children })),\n      /* @__PURE__ */ jsx(context.Provider, __spreadValues({}, props))\n    );\n  };\n  const ScopedContextProvider = (props) => {\n    return /* @__PURE__ */ jsx(ContextProvider, __spreadProps(__spreadValues({}, props), { children: scopedProviders.reduceRight(\n      (children, Provider) => /* @__PURE__ */ jsx(Provider, __spreadProps(__spreadValues({}, props), { children })),\n      /* @__PURE__ */ jsx(scopedContext.Provider, __spreadValues({}, props))\n    ) }));\n  };\n  return {\n    context,\n    scopedContext,\n    useContext: useContext2,\n    useScopedContext,\n    useProviderContext,\n    ContextProvider,\n    ScopedContextProvider\n  };\n}\n\nexport {\n  forwardRef2 as forwardRef,\n  memo2 as memo,\n  createElement,\n  createHook,\n  createStoreContext\n};\n", "\"use client\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/collection/collection-context.tsx\nvar ctx = createStoreContext();\nvar useCollectionContext = ctx.useContext;\nvar useCollectionScopedContext = ctx.useScopedContext;\nvar useCollectionProviderContext = ctx.useProviderContext;\nvar CollectionContextProvider = ctx.ContextProvider;\nvar CollectionScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  useCollectionContext,\n  useCollectionScopedContext,\n  useCollectionProviderContext,\n  CollectionContextProvider,\n  CollectionScopedContextProvider\n};\n", "\"use client\";\nimport {\n  CollectionContextProvider,\n  CollectionScopedContextProvider\n} from \"./VDHZ5F7K.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/composite/composite-context.tsx\nimport { createContext } from \"react\";\nvar ctx = createStoreContext(\n  [CollectionContextProvider],\n  [CollectionScopedContextProvider]\n);\nvar useCompositeContext = ctx.useContext;\nvar useCompositeScopedContext = ctx.useScopedContext;\nvar useCompositeProviderContext = ctx.useProviderContext;\nvar CompositeContextProvider = ctx.ContextProvider;\nvar CompositeScopedContextProvider = ctx.ScopedContextProvider;\nvar CompositeItemContext = createContext(\n  void 0\n);\nvar CompositeRowContext = createContext(\n  void 0\n);\n\nexport {\n  useCompositeContext,\n  useCompositeScopedContext,\n  useCompositeProviderContext,\n  CompositeContextProvider,\n  CompositeScopedContextProvider,\n  CompositeItemContext,\n  CompositeRowContext\n};\n", "\"use client\";\nimport {\n  CompositeContextProvider,\n  CompositeScopedContextProvider\n} from \"./P7GR5CS5.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/tag/tag-context.tsx\nimport { createContext } from \"react\";\nvar TagValueContext = createContext(null);\nvar TagRemoveIdContext = createContext(\n  null\n);\nvar ctx = createStoreContext(\n  [CompositeContextProvider],\n  [CompositeScopedContextProvider]\n);\nvar useTagContext = ctx.useContext;\nvar useTagScopedContext = ctx.useScopedContext;\nvar useTagProviderContext = ctx.useProviderContext;\nvar TagContextProvider = ctx.ContextProvider;\nvar TagScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  TagValueContext,\n  TagRemoveIdContext,\n  useTagContext,\n  useTagScopedContext,\n  useTagProviderContext,\n  TagContextProvider,\n  TagScopedContextProvider\n};\n", "\"use client\";\nimport {\n  applyState,\n  chain,\n  getKeys,\n  hasOwnProperty,\n  invariant,\n  noop,\n  omit,\n  pick\n} from \"./PBFD2E7P.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/store.ts\nfunction getInternal(store, key) {\n  const internals = store.__unstableInternals;\n  invariant(internals, \"Invalid store\");\n  return internals[key];\n}\nfunction createStore(initialState, ...stores) {\n  let state = initialState;\n  let prevStateBatch = state;\n  let lastUpdate = Symbol();\n  let destroy = noop;\n  const instances = /* @__PURE__ */ new Set();\n  const updatedKeys = /* @__PURE__ */ new Set();\n  const setups = /* @__PURE__ */ new Set();\n  const listeners = /* @__PURE__ */ new Set();\n  const batchListeners = /* @__PURE__ */ new Set();\n  const disposables = /* @__PURE__ */ new WeakMap();\n  const listenerKeys = /* @__PURE__ */ new WeakMap();\n  const storeSetup = (callback) => {\n    setups.add(callback);\n    return () => setups.delete(callback);\n  };\n  const storeInit = () => {\n    const initialized = instances.size;\n    const instance = Symbol();\n    instances.add(instance);\n    const maybeDestroy = () => {\n      instances.delete(instance);\n      if (instances.size) return;\n      destroy();\n    };\n    if (initialized) return maybeDestroy;\n    const desyncs = getKeys(state).map(\n      (key) => chain(\n        ...stores.map((store) => {\n          var _a;\n          const storeState = (_a = store == null ? void 0 : store.getState) == null ? void 0 : _a.call(store);\n          if (!storeState) return;\n          if (!hasOwnProperty(storeState, key)) return;\n          return sync(store, [key], (state2) => {\n            setState(\n              key,\n              state2[key],\n              // @ts-expect-error - Not public API. This is just to prevent\n              // infinite loops.\n              true\n            );\n          });\n        })\n      )\n    );\n    const teardowns = [];\n    for (const setup2 of setups) {\n      teardowns.push(setup2());\n    }\n    const cleanups = stores.map(init);\n    destroy = chain(...desyncs, ...teardowns, ...cleanups);\n    return maybeDestroy;\n  };\n  const sub = (keys, listener, set = listeners) => {\n    set.add(listener);\n    listenerKeys.set(listener, keys);\n    return () => {\n      var _a;\n      (_a = disposables.get(listener)) == null ? void 0 : _a();\n      disposables.delete(listener);\n      listenerKeys.delete(listener);\n      set.delete(listener);\n    };\n  };\n  const storeSubscribe = (keys, listener) => sub(keys, listener);\n  const storeSync = (keys, listener) => {\n    disposables.set(listener, listener(state, state));\n    return sub(keys, listener);\n  };\n  const storeBatch = (keys, listener) => {\n    disposables.set(listener, listener(state, prevStateBatch));\n    return sub(keys, listener, batchListeners);\n  };\n  const storePick = (keys) => createStore(pick(state, keys), finalStore);\n  const storeOmit = (keys) => createStore(omit(state, keys), finalStore);\n  const getState = () => state;\n  const setState = (key, value, fromStores = false) => {\n    var _a;\n    if (!hasOwnProperty(state, key)) return;\n    const nextValue = applyState(value, state[key]);\n    if (nextValue === state[key]) return;\n    if (!fromStores) {\n      for (const store of stores) {\n        (_a = store == null ? void 0 : store.setState) == null ? void 0 : _a.call(store, key, nextValue);\n      }\n    }\n    const prevState = state;\n    state = __spreadProps(__spreadValues({}, state), { [key]: nextValue });\n    const thisUpdate = Symbol();\n    lastUpdate = thisUpdate;\n    updatedKeys.add(key);\n    const run = (listener, prev, uKeys) => {\n      var _a2;\n      const keys = listenerKeys.get(listener);\n      const updated = (k) => uKeys ? uKeys.has(k) : k === key;\n      if (!keys || keys.some(updated)) {\n        (_a2 = disposables.get(listener)) == null ? void 0 : _a2();\n        disposables.set(listener, listener(state, prev));\n      }\n    };\n    for (const listener of listeners) {\n      run(listener, prevState);\n    }\n    queueMicrotask(() => {\n      if (lastUpdate !== thisUpdate) return;\n      const snapshot = state;\n      for (const listener of batchListeners) {\n        run(listener, prevStateBatch, updatedKeys);\n      }\n      prevStateBatch = snapshot;\n      updatedKeys.clear();\n    });\n  };\n  const finalStore = {\n    getState,\n    setState,\n    __unstableInternals: {\n      setup: storeSetup,\n      init: storeInit,\n      subscribe: storeSubscribe,\n      sync: storeSync,\n      batch: storeBatch,\n      pick: storePick,\n      omit: storeOmit\n    }\n  };\n  return finalStore;\n}\nfunction setup(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"setup\")(...args);\n}\nfunction init(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"init\")(...args);\n}\nfunction subscribe(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"subscribe\")(...args);\n}\nfunction sync(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"sync\")(...args);\n}\nfunction batch(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"batch\")(...args);\n}\nfunction omit2(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"omit\")(...args);\n}\nfunction pick2(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"pick\")(...args);\n}\nfunction mergeStore(...stores) {\n  const initialState = stores.reduce((state, store2) => {\n    var _a;\n    const nextState = (_a = store2 == null ? void 0 : store2.getState) == null ? void 0 : _a.call(store2);\n    if (!nextState) return state;\n    return Object.assign(state, nextState);\n  }, {});\n  const store = createStore(initialState, ...stores);\n  return Object.assign({}, ...stores, store);\n}\nfunction throwOnConflictingProps(props, store) {\n  if (process.env.NODE_ENV === \"production\") return;\n  if (!store) return;\n  const defaultKeys = Object.entries(props).filter(([key, value]) => key.startsWith(\"default\") && value !== void 0).map(([key]) => {\n    var _a;\n    const stateKey = key.replace(\"default\", \"\");\n    return `${((_a = stateKey[0]) == null ? void 0 : _a.toLowerCase()) || \"\"}${stateKey.slice(1)}`;\n  });\n  if (!defaultKeys.length) return;\n  const storeState = store.getState();\n  const conflictingProps = defaultKeys.filter(\n    (key) => hasOwnProperty(storeState, key)\n  );\n  if (!conflictingProps.length) return;\n  throw new Error(\n    `Passing a store prop in conjunction with a default state is not supported.\n\nconst store = useSelectStore();\n<SelectProvider store={store} defaultValue=\"Apple\" />\n                ^             ^\n\nInstead, pass the default state to the topmost store:\n\nconst store = useSelectStore({ defaultValue: \"Apple\" });\n<SelectProvider store={store} />\n\nSee https://github.com/ariakit/ariakit/pull/2745 for more details.\n\nIf there's a particular need for this, please submit a feature request at https://github.com/ariakit/ariakit\n`\n  );\n}\n\nexport {\n  createStore,\n  setup,\n  init,\n  subscribe,\n  sync,\n  batch,\n  omit2 as omit,\n  pick2 as pick,\n  mergeStore,\n  throwOnConflictingProps\n};\n", "\"use client\";\nimport {\n  useEvent,\n  useLiveRef,\n  useSafeLayoutEffect\n} from \"./ABQUS43J.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/store.tsx\nimport { hasOwnProperty, identity } from \"@ariakit/core/utils/misc\";\nimport { batch, init, subscribe, sync } from \"@ariakit/core/utils/store\";\nimport * as React from \"react\";\nimport useSyncExternalStoreExports from \"use-sync-external-store/shim/index.js\";\nvar { useSyncExternalStore } = useSyncExternalStoreExports;\nvar noopSubscribe = () => () => {\n};\nfunction useStoreState(store, keyOrSelector = identity) {\n  const storeSubscribe = React.useCallback(\n    (callback) => {\n      if (!store) return noopSubscribe();\n      return subscribe(store, null, callback);\n    },\n    [store]\n  );\n  const getSnapshot = () => {\n    const key = typeof keyOrSelector === \"string\" ? keyOrSelector : null;\n    const selector = typeof keyOrSelector === \"function\" ? keyOrSelector : null;\n    const state = store == null ? void 0 : store.getState();\n    if (selector) return selector(state);\n    if (!state) return;\n    if (!key) return;\n    if (!hasOwnProperty(state, key)) return;\n    return state[key];\n  };\n  return useSyncExternalStore(storeSubscribe, getSnapshot, getSnapshot);\n}\nfunction useStoreStateObject(store, object) {\n  const objRef = React.useRef(\n    {}\n  );\n  const storeSubscribe = React.useCallback(\n    (callback) => {\n      if (!store) return noopSubscribe();\n      return subscribe(store, null, callback);\n    },\n    [store]\n  );\n  const getSnapshot = () => {\n    const state = store == null ? void 0 : store.getState();\n    let updated = false;\n    const obj = objRef.current;\n    for (const prop in object) {\n      const keyOrSelector = object[prop];\n      if (typeof keyOrSelector === \"function\") {\n        const value = keyOrSelector(state);\n        if (value !== obj[prop]) {\n          obj[prop] = value;\n          updated = true;\n        }\n      }\n      if (typeof keyOrSelector === \"string\") {\n        if (!state) continue;\n        if (!hasOwnProperty(state, keyOrSelector)) continue;\n        const value = state[keyOrSelector];\n        if (value !== obj[prop]) {\n          obj[prop] = value;\n          updated = true;\n        }\n      }\n    }\n    if (updated) {\n      objRef.current = __spreadValues({}, obj);\n    }\n    return objRef.current;\n  };\n  return useSyncExternalStore(storeSubscribe, getSnapshot, getSnapshot);\n}\nfunction useStoreProps(store, props, key, setKey) {\n  const value = hasOwnProperty(props, key) ? props[key] : void 0;\n  const setValue = setKey ? props[setKey] : void 0;\n  const propsRef = useLiveRef({ value, setValue });\n  useSafeLayoutEffect(() => {\n    return sync(store, [key], (state, prev) => {\n      const { value: value2, setValue: setValue2 } = propsRef.current;\n      if (!setValue2) return;\n      if (state[key] === prev[key]) return;\n      if (state[key] === value2) return;\n      setValue2(state[key]);\n    });\n  }, [store, key]);\n  useSafeLayoutEffect(() => {\n    if (value === void 0) return;\n    store.setState(key, value);\n    return batch(store, [key], () => {\n      if (value === void 0) return;\n      store.setState(key, value);\n    });\n  });\n}\nfunction useStore(createStore, props) {\n  const [store, setStore] = React.useState(() => createStore(props));\n  useSafeLayoutEffect(() => init(store), [store]);\n  const useState2 = React.useCallback(\n    (keyOrSelector) => useStoreState(store, keyOrSelector),\n    [store]\n  );\n  const memoizedStore = React.useMemo(\n    () => __spreadProps(__spreadValues({}, store), { useState: useState2 }),\n    [store, useState2]\n  );\n  const updateStore = useEvent(() => {\n    setStore((store2) => createStore(__spreadValues(__spreadValues({}, props), store2.getState())));\n  });\n  return [memoizedStore, updateStore];\n}\n\nexport {\n  useStoreState,\n  useStoreStateObject,\n  useStoreProps,\n  useStore\n};\n", "\"use client\";\nimport {\n  batch,\n  createStore,\n  init,\n  setup,\n  throwOnConflictingProps\n} from \"./BCALMBPZ.js\";\nimport {\n  chain,\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  getDocument,\n  sortBasedOnDOMPosition\n} from \"./DTR5TSDJ.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/collection/collection-store.ts\nfunction getCommonParent(items) {\n  var _a;\n  const firstItem = items.find((item) => !!item.element);\n  const lastItem = [...items].reverse().find((item) => !!item.element);\n  let parentElement = (_a = firstItem == null ? void 0 : firstItem.element) == null ? void 0 : _a.parentElement;\n  while (parentElement && (lastItem == null ? void 0 : lastItem.element)) {\n    const parent = parentElement;\n    if (lastItem && parent.contains(lastItem.element)) {\n      return parentElement;\n    }\n    parentElement = parentElement.parentElement;\n  }\n  return getDocument(parentElement).body;\n}\nfunction getPrivateStore(store) {\n  return store == null ? void 0 : store.__unstablePrivateStore;\n}\nfunction createCollectionStore(props = {}) {\n  var _a;\n  throwOnConflictingProps(props, props.store);\n  const syncState = (_a = props.store) == null ? void 0 : _a.getState();\n  const items = defaultValue(\n    props.items,\n    syncState == null ? void 0 : syncState.items,\n    props.defaultItems,\n    []\n  );\n  const itemsMap = new Map(items.map((item) => [item.id, item]));\n  const initialState = {\n    items,\n    renderedItems: defaultValue(syncState == null ? void 0 : syncState.renderedItems, [])\n  };\n  const syncPrivateStore = getPrivateStore(props.store);\n  const privateStore = createStore(\n    { items, renderedItems: initialState.renderedItems },\n    syncPrivateStore\n  );\n  const collection = createStore(initialState, props.store);\n  const sortItems = (renderedItems) => {\n    const sortedItems = sortBasedOnDOMPosition(renderedItems, (i) => i.element);\n    privateStore.setState(\"renderedItems\", sortedItems);\n    collection.setState(\"renderedItems\", sortedItems);\n  };\n  setup(collection, () => init(privateStore));\n  setup(privateStore, () => {\n    return batch(privateStore, [\"items\"], (state) => {\n      collection.setState(\"items\", state.items);\n    });\n  });\n  setup(privateStore, () => {\n    return batch(privateStore, [\"renderedItems\"], (state) => {\n      let firstRun = true;\n      let raf = requestAnimationFrame(() => {\n        const { renderedItems } = collection.getState();\n        if (state.renderedItems === renderedItems) return;\n        sortItems(state.renderedItems);\n      });\n      if (typeof IntersectionObserver !== \"function\") {\n        return () => cancelAnimationFrame(raf);\n      }\n      const ioCallback = () => {\n        if (firstRun) {\n          firstRun = false;\n          return;\n        }\n        cancelAnimationFrame(raf);\n        raf = requestAnimationFrame(() => sortItems(state.renderedItems));\n      };\n      const root = getCommonParent(state.renderedItems);\n      const observer = new IntersectionObserver(ioCallback, { root });\n      for (const item of state.renderedItems) {\n        if (!item.element) continue;\n        observer.observe(item.element);\n      }\n      return () => {\n        cancelAnimationFrame(raf);\n        observer.disconnect();\n      };\n    });\n  });\n  const mergeItem = (item, setItems, canDeleteFromMap = false) => {\n    let prevItem;\n    setItems((items2) => {\n      const index = items2.findIndex(({ id }) => id === item.id);\n      const nextItems = items2.slice();\n      if (index !== -1) {\n        prevItem = items2[index];\n        const nextItem = __spreadValues(__spreadValues({}, prevItem), item);\n        nextItems[index] = nextItem;\n        itemsMap.set(item.id, nextItem);\n      } else {\n        nextItems.push(item);\n        itemsMap.set(item.id, item);\n      }\n      return nextItems;\n    });\n    const unmergeItem = () => {\n      setItems((items2) => {\n        if (!prevItem) {\n          if (canDeleteFromMap) {\n            itemsMap.delete(item.id);\n          }\n          return items2.filter(({ id }) => id !== item.id);\n        }\n        const index = items2.findIndex(({ id }) => id === item.id);\n        if (index === -1) return items2;\n        const nextItems = items2.slice();\n        nextItems[index] = prevItem;\n        itemsMap.set(item.id, prevItem);\n        return nextItems;\n      });\n    };\n    return unmergeItem;\n  };\n  const registerItem = (item) => mergeItem(\n    item,\n    (getItems) => privateStore.setState(\"items\", getItems),\n    true\n  );\n  return __spreadProps(__spreadValues({}, collection), {\n    registerItem,\n    renderItem: (item) => chain(\n      registerItem(item),\n      mergeItem(\n        item,\n        (getItems) => privateStore.setState(\"renderedItems\", getItems)\n      )\n    ),\n    item: (id) => {\n      if (!id) return null;\n      let item = itemsMap.get(id);\n      if (!item) {\n        const { items: items2 } = privateStore.getState();\n        item = items2.find((item2) => item2.id === id);\n        if (item) {\n          itemsMap.set(id, item);\n        }\n      }\n      return item || null;\n    },\n    // @ts-expect-error Internal\n    __unstablePrivateStore: privateStore\n  });\n}\n\nexport {\n  createCollectionStore\n};\n", "\"use client\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\n\n// src/collection/collection-store.ts\nimport * as Core from \"@ariakit/core/collection/collection-store\";\nfunction useCollectionStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.store]);\n  useStoreProps(store, props, \"items\", \"setItems\");\n  return store;\n}\nfunction useCollectionStore(props = {}) {\n  const [store, update] = useStore(Core.createCollectionStore, props);\n  return useCollectionStoreProps(store, update, props);\n}\n\nexport {\n  useCollectionStoreProps,\n  useCollectionStore\n};\n", "\"use client\";\n\n// src/utils/array.ts\nfunction toArray(arg) {\n  if (Array.isArray(arg)) {\n    return arg;\n  }\n  return typeof arg !== \"undefined\" ? [arg] : [];\n}\nfunction addItemToArray(array, item, index = -1) {\n  if (!(index in array)) {\n    return [...array, item];\n  }\n  return [...array.slice(0, index), item, ...array.slice(index)];\n}\nfunction flatten2DArray(array) {\n  const flattened = [];\n  for (const row of array) {\n    flattened.push(...row);\n  }\n  return flattened;\n}\nfunction reverseArray(array) {\n  return array.slice().reverse();\n}\n\nexport {\n  toArray,\n  addItemToArray,\n  flatten2DArray,\n  reverseArray\n};\n", "\"use client\";\nimport {\n  createCollectionStore\n} from \"./CYQWQL4J.js\";\nimport {\n  flatten2DArray,\n  reverseArray\n} from \"./7PRQYBBV.js\";\nimport {\n  createStore,\n  setup,\n  sync\n} from \"./BCALMBPZ.js\";\nimport {\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-store.ts\nvar NULL_ITEM = { id: null };\nfunction findFirstEnabledItem(items, excludeId) {\n  return items.find((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getEnabledItems(items, excludeId) {\n  return items.filter((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getItemsInRow(items, rowId) {\n  return items.filter((item) => item.rowId === rowId);\n}\nfunction flipItems(items, activeId, shouldInsertNullItem = false) {\n  const index = items.findIndex((item) => item.id === activeId);\n  return [\n    ...items.slice(index + 1),\n    ...shouldInsertNullItem ? [NULL_ITEM] : [],\n    ...items.slice(0, index)\n  ];\n}\nfunction groupItemsByRows(items) {\n  const rows = [];\n  for (const item of items) {\n    const row = rows.find((currentRow) => {\n      var _a;\n      return ((_a = currentRow[0]) == null ? void 0 : _a.rowId) === item.rowId;\n    });\n    if (row) {\n      row.push(item);\n    } else {\n      rows.push([item]);\n    }\n  }\n  return rows;\n}\nfunction getMaxRowLength(array) {\n  let maxLength = 0;\n  for (const { length } of array) {\n    if (length > maxLength) {\n      maxLength = length;\n    }\n  }\n  return maxLength;\n}\nfunction createEmptyItem(rowId) {\n  return {\n    id: \"__EMPTY_ITEM__\",\n    disabled: true,\n    rowId\n  };\n}\nfunction normalizeRows(rows, activeId, focusShift) {\n  const maxLength = getMaxRowLength(rows);\n  for (const row of rows) {\n    for (let i = 0; i < maxLength; i += 1) {\n      const item = row[i];\n      if (!item || focusShift && item.disabled) {\n        const isFirst = i === 0;\n        const previousItem = isFirst && focusShift ? findFirstEnabledItem(row) : row[i - 1];\n        row[i] = previousItem && activeId !== previousItem.id && focusShift ? previousItem : createEmptyItem(previousItem == null ? void 0 : previousItem.rowId);\n      }\n    }\n  }\n  return rows;\n}\nfunction verticalizeItems(items) {\n  const rows = groupItemsByRows(items);\n  const maxLength = getMaxRowLength(rows);\n  const verticalized = [];\n  for (let i = 0; i < maxLength; i += 1) {\n    for (const row of rows) {\n      const item = row[i];\n      if (item) {\n        verticalized.push(__spreadProps(__spreadValues({}, item), {\n          // If there's no rowId, it means that it's not a grid composite, but\n          // a single row instead. So, instead of verticalizing it, that is,\n          // assigning a different rowId based on the column index, we keep it\n          // undefined so they will be part of the same row. This is useful\n          // when using up/down on one-dimensional composites.\n          rowId: item.rowId ? `${i}` : void 0\n        }));\n      }\n    }\n  }\n  return verticalized;\n}\nfunction createCompositeStore(props = {}) {\n  var _a;\n  const syncState = (_a = props.store) == null ? void 0 : _a.getState();\n  const collection = createCollectionStore(props);\n  const activeId = defaultValue(\n    props.activeId,\n    syncState == null ? void 0 : syncState.activeId,\n    props.defaultActiveId\n  );\n  const initialState = __spreadProps(__spreadValues({}, collection.getState()), {\n    id: defaultValue(\n      props.id,\n      syncState == null ? void 0 : syncState.id,\n      `id-${Math.random().toString(36).slice(2, 8)}`\n    ),\n    activeId,\n    baseElement: defaultValue(syncState == null ? void 0 : syncState.baseElement, null),\n    includesBaseElement: defaultValue(\n      props.includesBaseElement,\n      syncState == null ? void 0 : syncState.includesBaseElement,\n      activeId === null\n    ),\n    moves: defaultValue(syncState == null ? void 0 : syncState.moves, 0),\n    orientation: defaultValue(\n      props.orientation,\n      syncState == null ? void 0 : syncState.orientation,\n      \"both\"\n    ),\n    rtl: defaultValue(props.rtl, syncState == null ? void 0 : syncState.rtl, false),\n    virtualFocus: defaultValue(\n      props.virtualFocus,\n      syncState == null ? void 0 : syncState.virtualFocus,\n      false\n    ),\n    focusLoop: defaultValue(props.focusLoop, syncState == null ? void 0 : syncState.focusLoop, false),\n    focusWrap: defaultValue(props.focusWrap, syncState == null ? void 0 : syncState.focusWrap, false),\n    focusShift: defaultValue(props.focusShift, syncState == null ? void 0 : syncState.focusShift, false)\n  });\n  const composite = createStore(initialState, collection, props.store);\n  setup(\n    composite,\n    () => sync(composite, [\"renderedItems\", \"activeId\"], (state) => {\n      composite.setState(\"activeId\", (activeId2) => {\n        var _a2;\n        if (activeId2 !== void 0) return activeId2;\n        return (_a2 = findFirstEnabledItem(state.renderedItems)) == null ? void 0 : _a2.id;\n      });\n    })\n  );\n  const getNextId = (direction = \"next\", options = {}) => {\n    var _a2, _b;\n    const defaultState = composite.getState();\n    const {\n      skip = 0,\n      activeId: activeId2 = defaultState.activeId,\n      focusShift = defaultState.focusShift,\n      focusLoop = defaultState.focusLoop,\n      focusWrap = defaultState.focusWrap,\n      includesBaseElement = defaultState.includesBaseElement,\n      renderedItems = defaultState.renderedItems,\n      rtl = defaultState.rtl\n    } = options;\n    const isVerticalDirection = direction === \"up\" || direction === \"down\";\n    const isNextDirection = direction === \"next\" || direction === \"down\";\n    const canReverse = isNextDirection ? rtl && !isVerticalDirection : !rtl || isVerticalDirection;\n    const canShift = focusShift && !skip;\n    let items = !isVerticalDirection ? renderedItems : flatten2DArray(\n      normalizeRows(groupItemsByRows(renderedItems), activeId2, canShift)\n    );\n    items = canReverse ? reverseArray(items) : items;\n    items = isVerticalDirection ? verticalizeItems(items) : items;\n    if (activeId2 == null) {\n      return (_a2 = findFirstEnabledItem(items)) == null ? void 0 : _a2.id;\n    }\n    const activeItem = items.find((item) => item.id === activeId2);\n    if (!activeItem) {\n      return (_b = findFirstEnabledItem(items)) == null ? void 0 : _b.id;\n    }\n    const isGrid = items.some((item) => item.rowId);\n    const activeIndex = items.indexOf(activeItem);\n    const nextItems = items.slice(activeIndex + 1);\n    const nextItemsInRow = getItemsInRow(nextItems, activeItem.rowId);\n    if (skip) {\n      const nextEnabledItemsInRow = getEnabledItems(nextItemsInRow, activeId2);\n      const nextItem2 = nextEnabledItemsInRow.slice(skip)[0] || // If we can't find an item, just return the last one.\n      nextEnabledItemsInRow[nextEnabledItemsInRow.length - 1];\n      return nextItem2 == null ? void 0 : nextItem2.id;\n    }\n    const canLoop = focusLoop && (isVerticalDirection ? focusLoop !== \"horizontal\" : focusLoop !== \"vertical\");\n    const canWrap = isGrid && focusWrap && (isVerticalDirection ? focusWrap !== \"horizontal\" : focusWrap !== \"vertical\");\n    const hasNullItem = isNextDirection ? (!isGrid || isVerticalDirection) && canLoop && includesBaseElement : isVerticalDirection ? includesBaseElement : false;\n    if (canLoop) {\n      const loopItems = canWrap && !hasNullItem ? items : getItemsInRow(items, activeItem.rowId);\n      const sortedItems = flipItems(loopItems, activeId2, hasNullItem);\n      const nextItem2 = findFirstEnabledItem(sortedItems, activeId2);\n      return nextItem2 == null ? void 0 : nextItem2.id;\n    }\n    if (canWrap) {\n      const nextItem2 = findFirstEnabledItem(\n        // We can use nextItems, which contains all the next items, including\n        // items from other rows, to wrap between rows. However, if there is a\n        // null item (the composite container), we'll only use the next items in\n        // the row. So moving next from the last item will focus on the\n        // composite container. On grid composites, horizontal navigation never\n        // focuses on the composite container, only vertical.\n        hasNullItem ? nextItemsInRow : nextItems,\n        activeId2\n      );\n      const nextId = hasNullItem ? (nextItem2 == null ? void 0 : nextItem2.id) || null : nextItem2 == null ? void 0 : nextItem2.id;\n      return nextId;\n    }\n    const nextItem = findFirstEnabledItem(nextItemsInRow, activeId2);\n    if (!nextItem && hasNullItem) {\n      return null;\n    }\n    return nextItem == null ? void 0 : nextItem.id;\n  };\n  return __spreadProps(__spreadValues(__spreadValues({}, collection), composite), {\n    setBaseElement: (element) => composite.setState(\"baseElement\", element),\n    setActiveId: (id) => composite.setState(\"activeId\", id),\n    move: (id) => {\n      if (id === void 0) return;\n      composite.setState(\"activeId\", id);\n      composite.setState(\"moves\", (moves) => moves + 1);\n    },\n    first: () => {\n      var _a2;\n      return (_a2 = findFirstEnabledItem(composite.getState().renderedItems)) == null ? void 0 : _a2.id;\n    },\n    last: () => {\n      var _a2;\n      return (_a2 = findFirstEnabledItem(reverseArray(composite.getState().renderedItems))) == null ? void 0 : _a2.id;\n    },\n    next: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"next\", options);\n    },\n    previous: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"previous\", options);\n    },\n    down: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"down\", options);\n    },\n    up: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"up\", options);\n    }\n  });\n}\n\nexport {\n  createCompositeStore\n};\n", "\"use client\";\nimport {\n  useCollectionStoreProps\n} from \"./C3IKGW5T.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useId\n} from \"./ABQUS43J.js\";\nimport {\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-store.ts\nimport * as Core from \"@ariakit/core/composite/composite-store\";\nfunction useCompositeStoreOptions(props) {\n  const id = useId(props.id);\n  return __spreadValues({ id }, props);\n}\nfunction useCompositeStoreProps(store, update, props) {\n  store = useCollectionStoreProps(store, update, props);\n  useStoreProps(store, props, \"activeId\", \"setActiveId\");\n  useStoreProps(store, props, \"includesBaseElement\");\n  useStoreProps(store, props, \"virtualFocus\");\n  useStoreProps(store, props, \"orientation\");\n  useStoreProps(store, props, \"rtl\");\n  useStoreProps(store, props, \"focusLoop\");\n  useStoreProps(store, props, \"focusWrap\");\n  useStoreProps(store, props, \"focusShift\");\n  return store;\n}\nfunction useCompositeStore(props = {}) {\n  props = useCompositeStoreOptions(props);\n  const [store, update] = useStore(Core.createCompositeStore, props);\n  return useCompositeStoreProps(store, update, props);\n}\n\nexport {\n  useCompositeStoreOptions,\n  useCompositeStoreProps,\n  useCompositeStore\n};\n", "\"use client\";\nimport {\n  createStore,\n  mergeStore,\n  omit,\n  setup,\n  subscribe,\n  sync,\n  throwOnConflictingProps\n} from \"./BCALMBPZ.js\";\nimport {\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/disclosure/disclosure-store.ts\nfunction createDisclosureStore(props = {}) {\n  const store = mergeStore(\n    props.store,\n    omit(props.disclosure, [\"contentElement\", \"disclosureElement\"])\n  );\n  throwOnConflictingProps(props, store);\n  const syncState = store == null ? void 0 : store.getState();\n  const open = defaultValue(\n    props.open,\n    syncState == null ? void 0 : syncState.open,\n    props.defaultOpen,\n    false\n  );\n  const animated = defaultValue(props.animated, syncState == null ? void 0 : syncState.animated, false);\n  const initialState = {\n    open,\n    animated,\n    animating: !!animated && open,\n    mounted: open,\n    contentElement: defaultValue(syncState == null ? void 0 : syncState.contentElement, null),\n    disclosureElement: defaultValue(syncState == null ? void 0 : syncState.disclosureElement, null)\n  };\n  const disclosure = createStore(initialState, store);\n  setup(\n    disclosure,\n    () => sync(disclosure, [\"animated\", \"animating\"], (state) => {\n      if (state.animated) return;\n      disclosure.setState(\"animating\", false);\n    })\n  );\n  setup(\n    disclosure,\n    () => subscribe(disclosure, [\"open\"], () => {\n      if (!disclosure.getState().animated) return;\n      disclosure.setState(\"animating\", true);\n    })\n  );\n  setup(\n    disclosure,\n    () => sync(disclosure, [\"open\", \"animating\"], (state) => {\n      disclosure.setState(\"mounted\", state.open || state.animating);\n    })\n  );\n  return __spreadProps(__spreadValues({}, disclosure), {\n    disclosure: props.disclosure,\n    setOpen: (value) => disclosure.setState(\"open\", value),\n    show: () => disclosure.setState(\"open\", true),\n    hide: () => disclosure.setState(\"open\", false),\n    toggle: () => disclosure.setState(\"open\", (open2) => !open2),\n    stopAnimation: () => disclosure.setState(\"animating\", false),\n    setContentElement: (value) => disclosure.setState(\"contentElement\", value),\n    setDisclosureElement: (value) => disclosure.setState(\"disclosureElement\", value)\n  });\n}\n\nexport {\n  createDisclosureStore\n};\n", "\"use client\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\n\n// src/disclosure/disclosure-store.ts\nimport * as Core from \"@ariakit/core/disclosure/disclosure-store\";\nfunction useDisclosureStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.store, props.disclosure]);\n  useStoreProps(store, props, \"open\", \"setOpen\");\n  useStoreProps(store, props, \"mounted\", \"setMounted\");\n  useStoreProps(store, props, \"animated\");\n  return Object.assign(store, { disclosure: props.disclosure });\n}\nfunction useDisclosureStore(props = {}) {\n  const [store, update] = useStore(Core.createDisclosureStore, props);\n  return useDisclosureStoreProps(store, update, props);\n}\n\nexport {\n  useDisclosureStoreProps,\n  useDisclosureStore\n};\n", "\"use client\";\nimport {\n  createDisclosureStore\n} from \"./RCQ5P4YE.js\";\n\n// src/dialog/dialog-store.ts\nfunction createDialogStore(props = {}) {\n  return createDisclosureStore(props);\n}\n\nexport {\n  createDialogStore\n};\n", "\"use client\";\nimport {\n  useDisclosureStoreProps\n} from \"./WYCIER3C.js\";\nimport {\n  useStore\n} from \"./YV4JVR4I.js\";\n\n// src/dialog/dialog-store.ts\nimport * as Core from \"@ariakit/core/dialog/dialog-store\";\nfunction useDialogStoreProps(store, update, props) {\n  return useDisclosureStoreProps(store, update, props);\n}\nfunction useDialogStore(props = {}) {\n  const [store, update] = useStore(Core.createDialogStore, props);\n  return useDialogStoreProps(store, update, props);\n}\n\nexport {\n  useDialogStoreProps,\n  useDialogStore\n};\n", "\"use client\";\nimport {\n  createDialogStore\n} from \"./FZZ2AVHF.js\";\nimport {\n  createStore,\n  mergeStore,\n  omit,\n  throwOnConflictingProps\n} from \"./BCALMBPZ.js\";\nimport {\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/popover/popover-store.ts\nfunction createPopoverStore(_a = {}) {\n  var _b = _a, {\n    popover: otherPopover\n  } = _b, props = __objRest(_b, [\n    \"popover\"\n  ]);\n  const store = mergeStore(\n    props.store,\n    omit(otherPopover, [\n      \"arrowElement\",\n      \"anchorElement\",\n      \"contentElement\",\n      \"popoverElement\",\n      \"disclosureElement\"\n    ])\n  );\n  throwOnConflictingProps(props, store);\n  const syncState = store == null ? void 0 : store.getState();\n  const dialog = createDialogStore(__spreadProps(__spreadValues({}, props), { store }));\n  const placement = defaultValue(\n    props.placement,\n    syncState == null ? void 0 : syncState.placement,\n    \"bottom\"\n  );\n  const initialState = __spreadProps(__spreadValues({}, dialog.getState()), {\n    placement,\n    currentPlacement: placement,\n    anchorElement: defaultValue(syncState == null ? void 0 : syncState.anchorElement, null),\n    popoverElement: defaultValue(syncState == null ? void 0 : syncState.popoverElement, null),\n    arrowElement: defaultValue(syncState == null ? void 0 : syncState.arrowElement, null),\n    rendered: Symbol(\"rendered\")\n  });\n  const popover = createStore(initialState, dialog, store);\n  return __spreadProps(__spreadValues(__spreadValues({}, dialog), popover), {\n    setAnchorElement: (element) => popover.setState(\"anchorElement\", element),\n    setPopoverElement: (element) => popover.setState(\"popoverElement\", element),\n    setArrowElement: (element) => popover.setState(\"arrowElement\", element),\n    render: () => popover.setState(\"rendered\", Symbol(\"rendered\"))\n  });\n}\n\nexport {\n  createPopoverStore\n};\n", "\"use client\";\nimport {\n  useDialogStoreProps\n} from \"./BM6PGYQY.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\n\n// src/popover/popover-store.ts\nimport * as Core from \"@ariakit/core/popover/popover-store\";\nfunction usePopoverStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.popover]);\n  useStoreProps(store, props, \"placement\");\n  return useDialogStoreProps(store, update, props);\n}\nfunction usePopoverStore(props = {}) {\n  const [store, update] = useStore(Core.createPopoverStore, props);\n  return usePopoverStoreProps(store, update, props);\n}\n\nexport {\n  usePopoverStoreProps,\n  usePopoverStore\n};\n", "\"use client\";\nimport {\n  createCompositeStore\n} from \"../__chunks/AJZ4BYF3.js\";\nimport \"../__chunks/CYQWQL4J.js\";\nimport \"../__chunks/7PRQYBBV.js\";\nimport {\n  createPopoverStore\n} from \"../__chunks/ME2CUF3F.js\";\nimport \"../__chunks/FZZ2AVHF.js\";\nimport \"../__chunks/RCQ5P4YE.js\";\nimport {\n  batch,\n  createStore,\n  mergeStore,\n  pick,\n  setup,\n  sync,\n  throwOnConflictingProps\n} from \"../__chunks/BCALMBPZ.js\";\nimport {\n  chain,\n  defaultValue\n} from \"../__chunks/PBFD2E7P.js\";\nimport {\n  isSafari,\n  isTouchDevice\n} from \"../__chunks/QAGXQEUG.js\";\nimport \"../__chunks/DTR5TSDJ.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-store.ts\nvar isTouchSafari = isSafari() && isTouchDevice();\nfunction createComboboxStore(_a = {}) {\n  var _b = _a, {\n    tag\n  } = _b, props = __objRest(_b, [\n    \"tag\"\n  ]);\n  const store = mergeStore(props.store, pick(tag, [\"value\", \"rtl\"]));\n  throwOnConflictingProps(props, store);\n  const tagState = tag == null ? void 0 : tag.getState();\n  const syncState = store == null ? void 0 : store.getState();\n  const activeId = defaultValue(\n    props.activeId,\n    syncState == null ? void 0 : syncState.activeId,\n    props.defaultActiveId,\n    null\n  );\n  const composite = createCompositeStore(__spreadProps(__spreadValues({}, props), {\n    activeId,\n    includesBaseElement: defaultValue(\n      props.includesBaseElement,\n      syncState == null ? void 0 : syncState.includesBaseElement,\n      true\n    ),\n    orientation: defaultValue(\n      props.orientation,\n      syncState == null ? void 0 : syncState.orientation,\n      \"vertical\"\n    ),\n    focusLoop: defaultValue(props.focusLoop, syncState == null ? void 0 : syncState.focusLoop, true),\n    focusWrap: defaultValue(props.focusWrap, syncState == null ? void 0 : syncState.focusWrap, true),\n    virtualFocus: defaultValue(\n      props.virtualFocus,\n      syncState == null ? void 0 : syncState.virtualFocus,\n      true\n    )\n  }));\n  const popover = createPopoverStore(__spreadProps(__spreadValues({}, props), {\n    placement: defaultValue(\n      props.placement,\n      syncState == null ? void 0 : syncState.placement,\n      \"bottom-start\"\n    )\n  }));\n  const value = defaultValue(\n    props.value,\n    syncState == null ? void 0 : syncState.value,\n    props.defaultValue,\n    \"\"\n  );\n  const selectedValue = defaultValue(\n    props.selectedValue,\n    syncState == null ? void 0 : syncState.selectedValue,\n    tagState == null ? void 0 : tagState.values,\n    props.defaultSelectedValue,\n    \"\"\n  );\n  const multiSelectable = Array.isArray(selectedValue);\n  const initialState = __spreadProps(__spreadValues(__spreadValues({}, composite.getState()), popover.getState()), {\n    value,\n    selectedValue,\n    resetValueOnSelect: defaultValue(\n      props.resetValueOnSelect,\n      syncState == null ? void 0 : syncState.resetValueOnSelect,\n      multiSelectable\n    ),\n    resetValueOnHide: defaultValue(\n      props.resetValueOnHide,\n      syncState == null ? void 0 : syncState.resetValueOnHide,\n      multiSelectable && !tag\n    ),\n    activeValue: syncState == null ? void 0 : syncState.activeValue\n  });\n  const combobox = createStore(initialState, composite, popover, store);\n  if (isTouchSafari) {\n    setup(\n      combobox,\n      () => sync(combobox, [\"virtualFocus\"], () => {\n        combobox.setState(\"virtualFocus\", false);\n      })\n    );\n  }\n  setup(combobox, () => {\n    if (!tag) return;\n    return chain(\n      sync(combobox, [\"selectedValue\"], (state) => {\n        if (!Array.isArray(state.selectedValue)) return;\n        tag.setValues(state.selectedValue);\n      }),\n      sync(tag, [\"values\"], (state) => {\n        combobox.setState(\"selectedValue\", state.values);\n      })\n    );\n  });\n  setup(\n    combobox,\n    () => sync(combobox, [\"resetValueOnHide\", \"mounted\"], (state) => {\n      if (!state.resetValueOnHide) return;\n      if (state.mounted) return;\n      combobox.setState(\"value\", value);\n    })\n  );\n  setup(\n    combobox,\n    () => sync(combobox, [\"open\"], (state) => {\n      if (state.open) return;\n      combobox.setState(\"activeId\", activeId);\n      combobox.setState(\"moves\", 0);\n    })\n  );\n  setup(\n    combobox,\n    () => sync(combobox, [\"moves\", \"activeId\"], (state, prevState) => {\n      if (state.moves === prevState.moves) {\n        combobox.setState(\"activeValue\", void 0);\n      }\n    })\n  );\n  setup(\n    combobox,\n    () => batch(combobox, [\"moves\", \"renderedItems\"], (state, prev) => {\n      if (state.moves === prev.moves) return;\n      const { activeId: activeId2 } = combobox.getState();\n      const activeItem = composite.item(activeId2);\n      combobox.setState(\"activeValue\", activeItem == null ? void 0 : activeItem.value);\n    })\n  );\n  return __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, popover), composite), combobox), {\n    tag,\n    setValue: (value2) => combobox.setState(\"value\", value2),\n    resetValue: () => combobox.setState(\"value\", initialState.value),\n    setSelectedValue: (selectedValue2) => combobox.setState(\"selectedValue\", selectedValue2)\n  });\n}\nexport {\n  createComboboxStore\n};\n", "\"use client\";\nimport {\n  useTagContext\n} from \"./3XAVFTCA.js\";\nimport {\n  useCompositeStoreOptions,\n  useCompositeStoreProps\n} from \"./4CMBR7SL.js\";\nimport {\n  usePopoverStoreProps\n} from \"./O2PQ2652.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/combobox/combobox-store.ts\nimport * as Core from \"@ariakit/core/combobox/combobox-store\";\nfunction useComboboxStoreOptions(props) {\n  const tag = useTagContext();\n  props = __spreadProps(__spreadValues({}, props), {\n    tag: props.tag !== void 0 ? props.tag : tag\n  });\n  return useCompositeStoreOptions(props);\n}\nfunction useComboboxStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.tag]);\n  useStoreProps(store, props, \"value\", \"setValue\");\n  useStoreProps(store, props, \"selectedValue\", \"setSelectedValue\");\n  useStoreProps(store, props, \"resetValueOnHide\");\n  useStoreProps(store, props, \"resetValueOnSelect\");\n  return Object.assign(\n    useCompositeStoreProps(\n      usePopoverStoreProps(store, update, props),\n      update,\n      props\n    ),\n    { tag: props.tag }\n  );\n}\nfunction useComboboxStore(props = {}) {\n  props = useComboboxStoreOptions(props);\n  const [store, update] = useStore(Core.createComboboxStore, props);\n  return useComboboxStoreProps(store, update, props);\n}\n\nexport {\n  useComboboxStoreOptions,\n  useComboboxStoreProps,\n  useComboboxStore\n};\n", "\"use client\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/disclosure/disclosure-context.tsx\nvar ctx = createStoreContext();\nvar useDisclosureContext = ctx.useContext;\nvar useDisclosureScopedContext = ctx.useScopedContext;\nvar useDisclosureProviderContext = ctx.useProviderContext;\nvar DisclosureContextProvider = ctx.ContextProvider;\nvar DisclosureScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  useDisclosureContext,\n  useDisclosureScopedContext,\n  useDisclosureProviderContext,\n  DisclosureContextProvider,\n  DisclosureScopedContextProvider\n};\n", "\"use client\";\nimport {\n  DisclosureContextProvider,\n  DisclosureScopedContextProvider\n} from \"./S6EF7IVO.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/dialog/dialog-context.tsx\nimport { createContext } from \"react\";\nvar ctx = createStoreContext(\n  [DisclosureContextProvider],\n  [DisclosureScopedContextProvider]\n);\nvar useDialogContext = ctx.useContext;\nvar useDialogScopedContext = ctx.useScopedContext;\nvar useDialogProviderContext = ctx.useProviderContext;\nvar DialogContextProvider = ctx.ContextProvider;\nvar DialogScopedContextProvider = ctx.ScopedContextProvider;\nvar DialogHeadingContext = createContext(void 0);\nvar DialogDescriptionContext = createContext(void 0);\n\nexport {\n  useDialogContext,\n  useDialogScopedContext,\n  useDialogProviderContext,\n  DialogContextProvider,\n  DialogScopedContextProvider,\n  DialogHeadingContext,\n  DialogDescriptionContext\n};\n", "\"use client\";\nimport {\n  DialogContextProvider,\n  DialogScopedContextProvider\n} from \"./RS7LB2H4.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/popover/popover-context.tsx\nvar ctx = createStoreContext(\n  [DialogContextProvider],\n  [DialogScopedContextProvider]\n);\nvar usePopoverContext = ctx.useContext;\nvar usePopoverScopedContext = ctx.useScopedContext;\nvar usePopoverProviderContext = ctx.useProviderContext;\nvar PopoverContextProvider = ctx.ContextProvider;\nvar PopoverScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  usePopoverContext,\n  usePopoverScopedContext,\n  usePopoverProviderContext,\n  PopoverContextProvider,\n  PopoverScopedContextProvider\n};\n", "\"use client\";\nimport {\n  CompositeContextProvider,\n  CompositeScopedContextProvider\n} from \"./P7GR5CS5.js\";\nimport {\n  PopoverContextProvider,\n  PopoverScopedContextProvider\n} from \"./MTZPJQMC.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/combobox/combobox-context.tsx\nimport { createContext } from \"react\";\nvar ComboboxListRoleContext = createContext(\n  void 0\n);\nvar ctx = createStoreContext(\n  [PopoverContextProvider, CompositeContextProvider],\n  [PopoverScopedContextProvider, CompositeScopedContextProvider]\n);\nvar useComboboxContext = ctx.useContext;\nvar useComboboxScopedContext = ctx.useScopedContext;\nvar useComboboxProviderContext = ctx.useProviderContext;\nvar ComboboxContextProvider = ctx.ContextProvider;\nvar ComboboxScopedContextProvider = ctx.ScopedContextProvider;\nvar ComboboxItemValueContext = createContext(\n  void 0\n);\nvar ComboboxItemCheckedContext = createContext(false);\n\nexport {\n  ComboboxListRoleContext,\n  useComboboxContext,\n  useComboboxScopedContext,\n  useComboboxProviderContext,\n  ComboboxContextProvider,\n  ComboboxScopedContextProvider,\n  ComboboxItemValueContext,\n  ComboboxItemCheckedContext\n};\n", "\"use client\";\nimport {\n  usePopoverProviderContext\n} from \"./MTZPJQMC.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/popover/popover-anchor.tsx\nvar TagName = \"div\";\nvar usePopoverAnchor = createHook(\n  function usePopoverAnchor2(_a) {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    const context = usePopoverProviderContext();\n    store = store || context;\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(store == null ? void 0 : store.setAnchorElement, props.ref)\n    });\n    return props;\n  }\n);\nvar PopoverAnchor = forwardRef(function PopoverAnchor2(props) {\n  const htmlProps = usePopoverAnchor(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  usePopoverAnchor,\n  PopoverAnchor\n};\n", "\"use client\";\n\n// src/composite/utils.ts\nimport { getDocument, isTextField } from \"@ariakit/core/utils/dom\";\nvar NULL_ITEM = { id: null };\nfunction flipItems(items, activeId, shouldInsertNullItem = false) {\n  const index = items.findIndex((item) => item.id === activeId);\n  return [\n    ...items.slice(index + 1),\n    ...shouldInsertNullItem ? [NULL_ITEM] : [],\n    ...items.slice(0, index)\n  ];\n}\nfunction findFirstEnabledItem(items, excludeId) {\n  return items.find((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getEnabledItem(store, id) {\n  if (!id) return null;\n  return store.item(id) || null;\n}\nfunction groupItemsByRows(items) {\n  const rows = [];\n  for (const item of items) {\n    const row = rows.find((currentRow) => {\n      var _a;\n      return ((_a = currentRow[0]) == null ? void 0 : _a.rowId) === item.rowId;\n    });\n    if (row) {\n      row.push(item);\n    } else {\n      rows.push([item]);\n    }\n  }\n  return rows;\n}\nfunction selectTextField(element, collapseToEnd = false) {\n  if (isTextField(element)) {\n    element.setSelectionRange(\n      collapseToEnd ? element.value.length : 0,\n      element.value.length\n    );\n  } else if (element.isContentEditable) {\n    const selection = getDocument(element).getSelection();\n    selection == null ? void 0 : selection.selectAllChildren(element);\n    if (collapseToEnd) {\n      selection == null ? void 0 : selection.collapseToEnd();\n    }\n  }\n}\nvar FOCUS_SILENTLY = Symbol(\"FOCUS_SILENTLY\");\nfunction focusSilently(element) {\n  element[FOCUS_SILENTLY] = true;\n  element.focus({ preventScroll: true });\n}\nfunction silentlyFocused(element) {\n  const isSilentlyFocused = element[FOCUS_SILENTLY];\n  delete element[FOCUS_SILENTLY];\n  return isSilentlyFocused;\n}\nfunction isItem(store, element, exclude) {\n  if (!element) return false;\n  if (element === exclude) return false;\n  const item = store.item(element.id);\n  if (!item) return false;\n  if (exclude && item.element === exclude) return false;\n  return true;\n}\n\nexport {\n  flipItems,\n  findFirstEnabledItem,\n  getEnabledItem,\n  groupItemsByRows,\n  selectTextField,\n  focusSilently,\n  silentlyFocused,\n  isItem\n};\n", "\"use client\";\n\n// src/focusable/focusable-context.tsx\nimport { createContext } from \"react\";\nvar FocusableContext = createContext(true);\n\nexport {\n  FocusableContext\n};\n", "\"use client\";\nimport {\n  contains,\n  getActiveElement,\n  isFrame,\n  isVisible\n} from \"../__chunks/DTR5TSDJ.js\";\nimport {\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/utils/focus.ts\nvar selector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])\";\nfunction hasNegativeTabIndex(element) {\n  const tabIndex = Number.parseInt(element.getAttribute(\"tabindex\") || \"0\", 10);\n  return tabIndex < 0;\n}\nfunction isFocusable(element) {\n  if (!element.matches(selector)) return false;\n  if (!isVisible(element)) return false;\n  if (element.closest(\"[inert]\")) return false;\n  return true;\n}\nfunction isTabbable(element) {\n  if (!isFocusable(element)) return false;\n  if (hasNegativeTabIndex(element)) return false;\n  if (!(\"form\" in element)) return true;\n  if (!element.form) return true;\n  if (element.checked) return true;\n  if (element.type !== \"radio\") return true;\n  const radioGroup = element.form.elements.namedItem(element.name);\n  if (!radioGroup) return true;\n  if (!(\"length\" in radioGroup)) return true;\n  const activeElement = getActiveElement(element);\n  if (!activeElement) return true;\n  if (activeElement === element) return true;\n  if (!(\"form\" in activeElement)) return true;\n  if (activeElement.form !== element.form) return true;\n  if (activeElement.name !== element.name) return true;\n  return false;\n}\nfunction getAllFocusableIn(container, includeContainer) {\n  const elements = Array.from(\n    container.querySelectorAll(selector)\n  );\n  if (includeContainer) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getAllFocusableIn(frameBody));\n    }\n  });\n  return focusableElements;\n}\nfunction getAllFocusable(includeBody) {\n  return getAllFocusableIn(document.body, includeBody);\n}\nfunction getFirstFocusableIn(container, includeContainer) {\n  const [first] = getAllFocusableIn(container, includeContainer);\n  return first || null;\n}\nfunction getFirstFocusable(includeBody) {\n  return getFirstFocusableIn(document.body, includeBody);\n}\nfunction getAllTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const elements = Array.from(\n    container.querySelectorAll(selector)\n  );\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getAllTabbableIn(\n        frameBody,\n        false,\n        fallbackToFocusable\n      );\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && fallbackToFocusable) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction getAllTabbable(fallbackToFocusable) {\n  return getAllTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getFirstTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const [first] = getAllTabbableIn(\n    container,\n    includeContainer,\n    fallbackToFocusable\n  );\n  return first || null;\n}\nfunction getFirstTabbable(fallbackToFocusable) {\n  return getFirstTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getLastTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const allTabbable = getAllTabbableIn(\n    container,\n    includeContainer,\n    fallbackToFocusable\n  );\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getLastTabbable(fallbackToFocusable) {\n  return getLastTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getNextTabbableIn(container, includeContainer, fallbackToFirst, fallbackToFocusable) {\n  const activeElement = getActiveElement(container);\n  const allFocusable = getAllFocusableIn(container, includeContainer);\n  const activeIndex = allFocusable.indexOf(activeElement);\n  const nextFocusableElements = allFocusable.slice(activeIndex + 1);\n  return nextFocusableElements.find(isTabbable) || (fallbackToFirst ? allFocusable.find(isTabbable) : null) || (fallbackToFocusable ? nextFocusableElements[0] : null) || null;\n}\nfunction getNextTabbable(fallbackToFirst, fallbackToFocusable) {\n  return getNextTabbableIn(\n    document.body,\n    false,\n    fallbackToFirst,\n    fallbackToFocusable\n  );\n}\nfunction getPreviousTabbableIn(container, includeContainer, fallbackToLast, fallbackToFocusable) {\n  const activeElement = getActiveElement(container);\n  const allFocusable = getAllFocusableIn(container, includeContainer).reverse();\n  const activeIndex = allFocusable.indexOf(activeElement);\n  const previousFocusableElements = allFocusable.slice(activeIndex + 1);\n  return previousFocusableElements.find(isTabbable) || (fallbackToLast ? allFocusable.find(isTabbable) : null) || (fallbackToFocusable ? previousFocusableElements[0] : null) || null;\n}\nfunction getPreviousTabbable(fallbackToFirst, fallbackToFocusable) {\n  return getPreviousTabbableIn(\n    document.body,\n    false,\n    fallbackToFirst,\n    fallbackToFocusable\n  );\n}\nfunction getClosestFocusable(element) {\n  while (element && !isFocusable(element)) {\n    element = element.closest(selector);\n  }\n  return element || null;\n}\nfunction hasFocus(element) {\n  const activeElement = getActiveElement(element);\n  if (!activeElement) return false;\n  if (activeElement === element) return true;\n  const activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n  if (!activeDescendant) return false;\n  return activeDescendant === element.id;\n}\nfunction hasFocusWithin(element) {\n  const activeElement = getActiveElement(element);\n  if (!activeElement) return false;\n  if (contains(element, activeElement)) return true;\n  const activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n  if (!activeDescendant) return false;\n  if (!(\"id\" in element)) return false;\n  if (activeDescendant === element.id) return true;\n  return !!element.querySelector(`#${CSS.escape(activeDescendant)}`);\n}\nfunction focusIfNeeded(element) {\n  if (!hasFocusWithin(element) && isFocusable(element)) {\n    element.focus();\n  }\n}\nfunction disableFocus(element) {\n  var _a;\n  const currentTabindex = (_a = element.getAttribute(\"tabindex\")) != null ? _a : \"\";\n  element.setAttribute(\"data-tabindex\", currentTabindex);\n  element.setAttribute(\"tabindex\", \"-1\");\n}\nfunction disableFocusIn(container, includeContainer) {\n  const tabbableElements = getAllTabbableIn(container, includeContainer);\n  for (const element of tabbableElements) {\n    disableFocus(element);\n  }\n}\nfunction restoreFocusIn(container) {\n  const elements = container.querySelectorAll(\"[data-tabindex]\");\n  const restoreTabIndex = (element) => {\n    const tabindex = element.getAttribute(\"data-tabindex\");\n    element.removeAttribute(\"data-tabindex\");\n    if (tabindex) {\n      element.setAttribute(\"tabindex\", tabindex);\n    } else {\n      element.removeAttribute(\"tabindex\");\n    }\n  };\n  if (container.hasAttribute(\"data-tabindex\")) {\n    restoreTabIndex(container);\n  }\n  for (const element of elements) {\n    restoreTabIndex(element);\n  }\n}\nfunction focusIntoView(element, options) {\n  if (!(\"scrollIntoView\" in element)) {\n    element.focus();\n  } else {\n    element.focus({ preventScroll: true });\n    element.scrollIntoView(__spreadValues({ block: \"nearest\", inline: \"nearest\" }, options));\n  }\n}\nexport {\n  disableFocus,\n  disableFocusIn,\n  focusIfNeeded,\n  focusIntoView,\n  getAllFocusable,\n  getAllFocusableIn,\n  getAllTabbable,\n  getAllTabbableIn,\n  getClosestFocusable,\n  getFirstFocusable,\n  getFirstFocusableIn,\n  getFirstTabbable,\n  getFirstTabbableIn,\n  getLastTabbable,\n  getLastTabbableIn,\n  getNextTabbable,\n  getNextTabbableIn,\n  getPreviousTabbable,\n  getPreviousTabbableIn,\n  hasFocus,\n  hasFocusWithin,\n  isFocusable,\n  isTabbable,\n  restoreFocusIn\n};\n", "\"use client\";\nimport {\n  FocusableContext\n} from \"./SWN3JYXT.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useEvent,\n  useMergeRefs,\n  useTagName\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/focusable/focusable.tsx\nimport { isButton } from \"@ariakit/core/utils/dom\";\nimport {\n  addGlobalEventListener,\n  isFocusEventOutside,\n  isPortalEvent,\n  isSelfTarget,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport {\n  focusIfNeeded,\n  getClosestFocusable,\n  hasFocus,\n  isFocusable\n} from \"@ariakit/core/utils/focus\";\nimport {\n  disabledFromProps,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { isSafari } from \"@ariakit/core/utils/platform\";\nimport { useContext, useEffect, useMemo, useRef, useState } from \"react\";\nvar TagName = \"div\";\nvar isSafariBrowser = isSafari();\nvar alwaysFocusVisibleInputTypes = [\n  \"text\",\n  \"search\",\n  \"url\",\n  \"tel\",\n  \"email\",\n  \"password\",\n  \"number\",\n  \"date\",\n  \"month\",\n  \"week\",\n  \"time\",\n  \"datetime\",\n  \"datetime-local\"\n];\nvar safariFocusAncestorSymbol = Symbol(\"safariFocusAncestor\");\nfunction isSafariFocusAncestor(element) {\n  if (!element) return false;\n  return !!element[safariFocusAncestorSymbol];\n}\nfunction markSafariFocusAncestor(element, value) {\n  if (!element) return;\n  element[safariFocusAncestorSymbol] = value;\n}\nfunction isAlwaysFocusVisible(element) {\n  const { tagName, readOnly, type } = element;\n  if (tagName === \"TEXTAREA\" && !readOnly) return true;\n  if (tagName === \"SELECT\" && !readOnly) return true;\n  if (tagName === \"INPUT\" && !readOnly) {\n    return alwaysFocusVisibleInputTypes.includes(type);\n  }\n  if (element.isContentEditable) return true;\n  const role = element.getAttribute(\"role\");\n  if (role === \"combobox\" && element.dataset.name) {\n    return true;\n  }\n  return false;\n}\nfunction getLabels(element) {\n  if (\"labels\" in element) {\n    return element.labels;\n  }\n  return null;\n}\nfunction isNativeCheckboxOrRadio(element) {\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"input\" && element.type) {\n    return element.type === \"radio\" || element.type === \"checkbox\";\n  }\n  return false;\n}\nfunction isNativeTabbable(tagName) {\n  if (!tagName) return true;\n  return tagName === \"button\" || tagName === \"summary\" || tagName === \"input\" || tagName === \"select\" || tagName === \"textarea\" || tagName === \"a\";\n}\nfunction supportsDisabledAttribute(tagName) {\n  if (!tagName) return true;\n  return tagName === \"button\" || tagName === \"input\" || tagName === \"select\" || tagName === \"textarea\";\n}\nfunction getTabIndex(focusable, trulyDisabled, nativeTabbable, supportsDisabled, tabIndexProp) {\n  if (!focusable) {\n    return tabIndexProp;\n  }\n  if (trulyDisabled) {\n    if (nativeTabbable && !supportsDisabled) {\n      return -1;\n    }\n    return;\n  }\n  if (nativeTabbable) {\n    return tabIndexProp;\n  }\n  return tabIndexProp || 0;\n}\nfunction useDisableEvent(onEvent, disabled) {\n  return useEvent((event) => {\n    onEvent == null ? void 0 : onEvent(event);\n    if (event.defaultPrevented) return;\n    if (disabled) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  });\n}\nvar isKeyboardModality = true;\nfunction onGlobalMouseDown(event) {\n  const target = event.target;\n  if (target && \"hasAttribute\" in target) {\n    if (!target.hasAttribute(\"data-focus-visible\")) {\n      isKeyboardModality = false;\n    }\n  }\n}\nfunction onGlobalKeyDown(event) {\n  if (event.metaKey) return;\n  if (event.ctrlKey) return;\n  if (event.altKey) return;\n  isKeyboardModality = true;\n}\nvar useFocusable = createHook(\n  function useFocusable2(_a) {\n    var _b = _a, {\n      focusable = true,\n      accessibleWhenDisabled,\n      autoFocus,\n      onFocusVisible\n    } = _b, props = __objRest(_b, [\n      \"focusable\",\n      \"accessibleWhenDisabled\",\n      \"autoFocus\",\n      \"onFocusVisible\"\n    ]);\n    const ref = useRef(null);\n    useEffect(() => {\n      if (!focusable) return;\n      addGlobalEventListener(\"mousedown\", onGlobalMouseDown, true);\n      addGlobalEventListener(\"keydown\", onGlobalKeyDown, true);\n    }, [focusable]);\n    if (isSafariBrowser) {\n      useEffect(() => {\n        if (!focusable) return;\n        const element = ref.current;\n        if (!element) return;\n        if (!isNativeCheckboxOrRadio(element)) return;\n        const labels = getLabels(element);\n        if (!labels) return;\n        const onMouseUp = () => queueMicrotask(() => element.focus());\n        for (const label of labels) {\n          label.addEventListener(\"mouseup\", onMouseUp);\n        }\n        return () => {\n          for (const label of labels) {\n            label.removeEventListener(\"mouseup\", onMouseUp);\n          }\n        };\n      }, [focusable]);\n    }\n    const disabled = focusable && disabledFromProps(props);\n    const trulyDisabled = !!disabled && !accessibleWhenDisabled;\n    const [focusVisible, setFocusVisible] = useState(false);\n    useEffect(() => {\n      if (!focusable) return;\n      if (trulyDisabled && focusVisible) {\n        setFocusVisible(false);\n      }\n    }, [focusable, trulyDisabled, focusVisible]);\n    useEffect(() => {\n      if (!focusable) return;\n      if (!focusVisible) return;\n      const element = ref.current;\n      if (!element) return;\n      if (typeof IntersectionObserver === \"undefined\") return;\n      const observer = new IntersectionObserver(() => {\n        if (!isFocusable(element)) {\n          setFocusVisible(false);\n        }\n      });\n      observer.observe(element);\n      return () => observer.disconnect();\n    }, [focusable, focusVisible]);\n    const onKeyPressCapture = useDisableEvent(\n      props.onKeyPressCapture,\n      disabled\n    );\n    const onMouseDownCapture = useDisableEvent(\n      props.onMouseDownCapture,\n      disabled\n    );\n    const onClickCapture = useDisableEvent(props.onClickCapture, disabled);\n    const onMouseDownProp = props.onMouseDown;\n    const onMouseDown = useEvent((event) => {\n      onMouseDownProp == null ? void 0 : onMouseDownProp(event);\n      if (event.defaultPrevented) return;\n      if (!focusable) return;\n      const element = event.currentTarget;\n      if (!isSafariBrowser) return;\n      if (isPortalEvent(event)) return;\n      if (!isButton(element) && !isNativeCheckboxOrRadio(element)) return;\n      let receivedFocus = false;\n      const onFocus = () => {\n        receivedFocus = true;\n      };\n      const options = { capture: true, once: true };\n      element.addEventListener(\"focusin\", onFocus, options);\n      const focusableContainer = getClosestFocusable(element.parentElement);\n      markSafariFocusAncestor(focusableContainer, true);\n      queueBeforeEvent(element, \"mouseup\", () => {\n        element.removeEventListener(\"focusin\", onFocus, true);\n        markSafariFocusAncestor(focusableContainer, false);\n        if (receivedFocus) return;\n        focusIfNeeded(element);\n      });\n    });\n    const handleFocusVisible = (event, currentTarget) => {\n      if (currentTarget) {\n        event.currentTarget = currentTarget;\n      }\n      if (!focusable) return;\n      const element = event.currentTarget;\n      if (!element) return;\n      if (!hasFocus(element)) return;\n      onFocusVisible == null ? void 0 : onFocusVisible(event);\n      if (event.defaultPrevented) return;\n      element.dataset.focusVisible = \"true\";\n      setFocusVisible(true);\n    };\n    const onKeyDownCaptureProp = props.onKeyDownCapture;\n    const onKeyDownCapture = useEvent((event) => {\n      onKeyDownCaptureProp == null ? void 0 : onKeyDownCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!focusable) return;\n      if (focusVisible) return;\n      if (event.metaKey) return;\n      if (event.altKey) return;\n      if (event.ctrlKey) return;\n      if (!isSelfTarget(event)) return;\n      const element = event.currentTarget;\n      const applyFocusVisible = () => handleFocusVisible(event, element);\n      queueBeforeEvent(element, \"focusout\", applyFocusVisible);\n    });\n    const onFocusCaptureProp = props.onFocusCapture;\n    const onFocusCapture = useEvent((event) => {\n      onFocusCaptureProp == null ? void 0 : onFocusCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!focusable) return;\n      if (!isSelfTarget(event)) {\n        setFocusVisible(false);\n        return;\n      }\n      const element = event.currentTarget;\n      const applyFocusVisible = () => handleFocusVisible(event, element);\n      if (isKeyboardModality || isAlwaysFocusVisible(event.target)) {\n        queueBeforeEvent(event.target, \"focusout\", applyFocusVisible);\n      } else {\n        setFocusVisible(false);\n      }\n    });\n    const onBlurProp = props.onBlur;\n    const onBlur = useEvent((event) => {\n      onBlurProp == null ? void 0 : onBlurProp(event);\n      if (!focusable) return;\n      if (!isFocusEventOutside(event)) return;\n      setFocusVisible(false);\n    });\n    const autoFocusOnShow = useContext(FocusableContext);\n    const autoFocusRef = useEvent((element) => {\n      if (!focusable) return;\n      if (!autoFocus) return;\n      if (!element) return;\n      if (!autoFocusOnShow) return;\n      queueMicrotask(() => {\n        if (hasFocus(element)) return;\n        if (!isFocusable(element)) return;\n        element.focus();\n      });\n    });\n    const tagName = useTagName(ref);\n    const nativeTabbable = focusable && isNativeTabbable(tagName);\n    const supportsDisabled = focusable && supportsDisabledAttribute(tagName);\n    const styleProp = props.style;\n    const style = useMemo(() => {\n      if (trulyDisabled) {\n        return __spreadValues({ pointerEvents: \"none\" }, styleProp);\n      }\n      return styleProp;\n    }, [trulyDisabled, styleProp]);\n    props = __spreadProps(__spreadValues({\n      \"data-focus-visible\": focusable && focusVisible || void 0,\n      \"data-autofocus\": autoFocus || void 0,\n      \"aria-disabled\": disabled || void 0\n    }, props), {\n      ref: useMergeRefs(ref, autoFocusRef, props.ref),\n      style,\n      tabIndex: getTabIndex(\n        focusable,\n        trulyDisabled,\n        nativeTabbable,\n        supportsDisabled,\n        props.tabIndex\n      ),\n      disabled: supportsDisabled && trulyDisabled ? true : void 0,\n      // TODO: Test Focusable contentEditable.\n      contentEditable: disabled ? void 0 : props.contentEditable,\n      onKeyPressCapture,\n      onClickCapture,\n      onMouseDownCapture,\n      onMouseDown,\n      onKeyDownCapture,\n      onFocusCapture,\n      onBlur\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar Focusable = forwardRef(function Focusable2(props) {\n  const htmlProps = useFocusable(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  isSafariFocusAncestor,\n  useFocusable,\n  Focusable\n};\n", "\"use client\";\nimport {\n  findFirstEnabledItem,\n  getEnabledItem,\n  groupItemsByRows,\n  isItem,\n  silentlyFocused\n} from \"./5VQZOHHZ.js\";\nimport {\n  CompositeContextProvider,\n  useCompositeProviderContext\n} from \"./P7GR5CS5.js\";\nimport {\n  useFocusable\n} from \"./LVA2YJMS.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useTransactionState,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite.tsx\nimport { flatten2DArray, reverseArray } from \"@ariakit/core/utils/array\";\nimport { getActiveElement, isTextField } from \"@ariakit/core/utils/dom\";\nimport {\n  fireBlurEvent,\n  fireKeyboardEvent,\n  isSelfTarget\n} from \"@ariakit/core/utils/events\";\nimport { focusIntoView, hasFocus } from \"@ariakit/core/utils/focus\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nfunction isGrid(items) {\n  return items.some((item) => !!item.rowId);\n}\nfunction isPrintableKey(event) {\n  const target = event.target;\n  if (target && !isTextField(target)) return false;\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\nfunction isModifierKey(event) {\n  return event.key === \"Shift\" || event.key === \"Control\" || event.key === \"Alt\" || event.key === \"Meta\";\n}\nfunction useKeyboardEventProxy(store, onKeyboardEvent, previousElementRef) {\n  return useEvent((event) => {\n    var _a;\n    onKeyboardEvent == null ? void 0 : onKeyboardEvent(event);\n    if (event.defaultPrevented) return;\n    if (event.isPropagationStopped()) return;\n    if (!isSelfTarget(event)) return;\n    if (isModifierKey(event)) return;\n    if (isPrintableKey(event)) return;\n    const state = store.getState();\n    const activeElement = (_a = getEnabledItem(store, state.activeId)) == null ? void 0 : _a.element;\n    if (!activeElement) return;\n    const _b = event, { view } = _b, eventInit = __objRest(_b, [\"view\"]);\n    const previousElement = previousElementRef == null ? void 0 : previousElementRef.current;\n    if (activeElement !== previousElement) {\n      activeElement.focus();\n    }\n    if (!fireKeyboardEvent(activeElement, event.type, eventInit)) {\n      event.preventDefault();\n    }\n    if (event.currentTarget.contains(activeElement)) {\n      event.stopPropagation();\n    }\n  });\n}\nfunction findFirstEnabledItemInTheLastRow(items) {\n  return findFirstEnabledItem(\n    flatten2DArray(reverseArray(groupItemsByRows(items)))\n  );\n}\nfunction useScheduleFocus(store) {\n  const [scheduled, setScheduled] = useState(false);\n  const schedule = useCallback(() => setScheduled(true), []);\n  const activeItem = store.useState(\n    (state) => getEnabledItem(store, state.activeId)\n  );\n  useEffect(() => {\n    const activeElement = activeItem == null ? void 0 : activeItem.element;\n    if (!scheduled) return;\n    if (!activeElement) return;\n    setScheduled(false);\n    activeElement.focus({ preventScroll: true });\n  }, [activeItem, scheduled]);\n  return schedule;\n}\nvar useComposite = createHook(\n  function useComposite2(_a) {\n    var _b = _a, {\n      store,\n      composite = true,\n      focusOnMove = composite,\n      moveOnKeyPress = true\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"composite\",\n      \"focusOnMove\",\n      \"moveOnKeyPress\"\n    ]);\n    const context = useCompositeProviderContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"Composite must receive a `store` prop or be wrapped in a CompositeProvider component.\"\n    );\n    const ref = useRef(null);\n    const previousElementRef = useRef(null);\n    const scheduleFocus = useScheduleFocus(store);\n    const moves = store.useState(\"moves\");\n    const [, setBaseElement] = useTransactionState(\n      composite ? store.setBaseElement : null\n    );\n    useEffect(() => {\n      var _a2;\n      if (!store) return;\n      if (!moves) return;\n      if (!composite) return;\n      if (!focusOnMove) return;\n      const { activeId: activeId2 } = store.getState();\n      const itemElement = (_a2 = getEnabledItem(store, activeId2)) == null ? void 0 : _a2.element;\n      if (!itemElement) return;\n      focusIntoView(itemElement);\n    }, [store, moves, composite, focusOnMove]);\n    useSafeLayoutEffect(() => {\n      if (!store) return;\n      if (!moves) return;\n      if (!composite) return;\n      const { baseElement, activeId: activeId2 } = store.getState();\n      const isSelfAcive = activeId2 === null;\n      if (!isSelfAcive) return;\n      if (!baseElement) return;\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (previousElement) {\n        fireBlurEvent(previousElement, { relatedTarget: baseElement });\n      }\n      if (!hasFocus(baseElement)) {\n        baseElement.focus();\n      }\n    }, [store, moves, composite]);\n    const activeId = store.useState(\"activeId\");\n    const virtualFocus = store.useState(\"virtualFocus\");\n    useSafeLayoutEffect(() => {\n      var _a2;\n      if (!store) return;\n      if (!composite) return;\n      if (!virtualFocus) return;\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (!previousElement) return;\n      const activeElement = (_a2 = getEnabledItem(store, activeId)) == null ? void 0 : _a2.element;\n      const relatedTarget = activeElement || getActiveElement(previousElement);\n      if (relatedTarget === previousElement) return;\n      fireBlurEvent(previousElement, { relatedTarget });\n    }, [store, activeId, virtualFocus, composite]);\n    const onKeyDownCapture = useKeyboardEventProxy(\n      store,\n      props.onKeyDownCapture,\n      previousElementRef\n    );\n    const onKeyUpCapture = useKeyboardEventProxy(\n      store,\n      props.onKeyUpCapture,\n      previousElementRef\n    );\n    const onFocusCaptureProp = props.onFocusCapture;\n    const onFocusCapture = useEvent((event) => {\n      onFocusCaptureProp == null ? void 0 : onFocusCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      const { virtualFocus: virtualFocus2 } = store.getState();\n      if (!virtualFocus2) return;\n      const previousActiveElement = event.relatedTarget;\n      const isSilentlyFocused = silentlyFocused(event.currentTarget);\n      if (isSelfTarget(event) && isSilentlyFocused) {\n        event.stopPropagation();\n        previousElementRef.current = previousActiveElement;\n      }\n    });\n    const onFocusProp = props.onFocus;\n    const onFocus = useEvent((event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (event.defaultPrevented) return;\n      if (!composite) return;\n      if (!store) return;\n      const { relatedTarget } = event;\n      const { virtualFocus: virtualFocus2 } = store.getState();\n      if (virtualFocus2) {\n        if (isSelfTarget(event) && !isItem(store, relatedTarget)) {\n          queueMicrotask(scheduleFocus);\n        }\n      } else if (isSelfTarget(event)) {\n        store.setActiveId(null);\n      }\n    });\n    const onBlurCaptureProp = props.onBlurCapture;\n    const onBlurCapture = useEvent((event) => {\n      var _a2;\n      onBlurCaptureProp == null ? void 0 : onBlurCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      const { virtualFocus: virtualFocus2, activeId: activeId2 } = store.getState();\n      if (!virtualFocus2) return;\n      const activeElement = (_a2 = getEnabledItem(store, activeId2)) == null ? void 0 : _a2.element;\n      const nextActiveElement = event.relatedTarget;\n      const nextActiveElementIsItem = isItem(store, nextActiveElement);\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (isSelfTarget(event) && nextActiveElementIsItem) {\n        if (nextActiveElement === activeElement) {\n          if (previousElement && previousElement !== nextActiveElement) {\n            fireBlurEvent(previousElement, event);\n          }\n        } else if (activeElement) {\n          fireBlurEvent(activeElement, event);\n        } else if (previousElement) {\n          fireBlurEvent(previousElement, event);\n        }\n        event.stopPropagation();\n      } else {\n        const targetIsItem = isItem(store, event.target);\n        if (!targetIsItem && activeElement) {\n          fireBlurEvent(activeElement, event);\n        }\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    const onKeyDown = useEvent((event) => {\n      var _a2;\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      if (!isSelfTarget(event)) return;\n      const { orientation, renderedItems, activeId: activeId2 } = store.getState();\n      const activeItem = getEnabledItem(store, activeId2);\n      if ((_a2 = activeItem == null ? void 0 : activeItem.element) == null ? void 0 : _a2.isConnected) return;\n      const isVertical = orientation !== \"horizontal\";\n      const isHorizontal = orientation !== \"vertical\";\n      const grid = isGrid(renderedItems);\n      const isHorizontalKey = event.key === \"ArrowLeft\" || event.key === \"ArrowRight\" || event.key === \"Home\" || event.key === \"End\";\n      if (isHorizontalKey && isTextField(event.currentTarget)) return;\n      const up = () => {\n        if (grid) {\n          const item = findFirstEnabledItemInTheLastRow(renderedItems);\n          return item == null ? void 0 : item.id;\n        }\n        return store == null ? void 0 : store.last();\n      };\n      const keyMap = {\n        ArrowUp: (grid || isVertical) && up,\n        ArrowRight: (grid || isHorizontal) && store.first,\n        ArrowDown: (grid || isVertical) && store.first,\n        ArrowLeft: (grid || isHorizontal) && store.last,\n        Home: store.first,\n        End: store.last,\n        PageUp: store.first,\n        PageDown: store.last\n      };\n      const action = keyMap[event.key];\n      if (action) {\n        const id = action();\n        if (id !== void 0) {\n          if (!moveOnKeyPressProp(event)) return;\n          event.preventDefault();\n          store.move(id);\n        }\n      }\n    });\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(CompositeContextProvider, { value: store, children: element }),\n      [store]\n    );\n    const activeDescendant = store.useState((state) => {\n      var _a2;\n      if (!store) return;\n      if (!composite) return;\n      if (!state.virtualFocus) return;\n      return (_a2 = getEnabledItem(store, state.activeId)) == null ? void 0 : _a2.id;\n    });\n    props = __spreadProps(__spreadValues({\n      \"aria-activedescendant\": activeDescendant\n    }, props), {\n      ref: useMergeRefs(ref, setBaseElement, props.ref),\n      onKeyDownCapture,\n      onKeyUpCapture,\n      onFocusCapture,\n      onFocus,\n      onBlurCapture,\n      onKeyDown\n    });\n    const focusable = store.useState(\n      (state) => composite && (state.virtualFocus || state.activeId === null)\n    );\n    props = useFocusable(__spreadValues({ focusable }, props));\n    return props;\n  }\n);\nvar Composite = forwardRef(function Composite2(props) {\n  const htmlProps = useComposite(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useComposite,\n  Composite\n};\n", "\"use client\";\nimport {\n  useComboboxProviderContext\n} from \"../__chunks/VEVQD5MH.js\";\nimport {\n  usePopoverAnchor\n} from \"../__chunks/OMU7RWRV.js\";\nimport {\n  useComposite\n} from \"../__chunks/ITI7HKP4.js\";\nimport \"../__chunks/5VQZOHHZ.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport \"../__chunks/LVA2YJMS.js\";\nimport \"../__chunks/SWN3JYXT.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"../__chunks/LMDWO4NN.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useForceUpdate,\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useUpdateEffect,\n  useUpdateLayoutEffect\n} from \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox.tsx\nimport {\n  getPopupRole,\n  getScrollingElement,\n  getTextboxSelection,\n  setSelectionRange\n} from \"@ariakit/core/utils/dom\";\nimport {\n  isFocusEventOutside,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport { hasFocus } from \"@ariakit/core/utils/focus\";\nimport {\n  invariant,\n  isFalsyBooleanCallback,\n  noop,\n  normalizeString\n} from \"@ariakit/core/utils/misc\";\nimport { sync } from \"@ariakit/core/utils/store\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nvar TagName = \"input\";\nfunction isFirstItemAutoSelected(items, activeValue, autoSelect) {\n  if (!autoSelect) return false;\n  const firstItem = items.find((item) => !item.disabled && item.value);\n  return (firstItem == null ? void 0 : firstItem.value) === activeValue;\n}\nfunction hasCompletionString(value, activeValue) {\n  if (!activeValue) return false;\n  if (value == null) return false;\n  value = normalizeString(value);\n  return activeValue.length > value.length && activeValue.toLowerCase().indexOf(value.toLowerCase()) === 0;\n}\nfunction isInputEvent(event) {\n  return event.type === \"input\";\n}\nfunction isAriaAutoCompleteValue(value) {\n  return value === \"inline\" || value === \"list\" || value === \"both\" || value === \"none\";\n}\nfunction getDefaultAutoSelectId(items) {\n  const item = items.find((item2) => {\n    var _a;\n    if (item2.disabled) return false;\n    return ((_a = item2.element) == null ? void 0 : _a.getAttribute(\"role\")) !== \"tab\";\n  });\n  return item == null ? void 0 : item.id;\n}\nvar useCombobox = createHook(\n  function useCombobox2(_a) {\n    var _b = _a, {\n      store,\n      focusable = true,\n      autoSelect: autoSelectProp = false,\n      getAutoSelectId,\n      setValueOnChange,\n      showMinLength = 0,\n      showOnChange,\n      showOnMouseDown,\n      showOnClick = showOnMouseDown,\n      showOnKeyDown,\n      showOnKeyPress = showOnKeyDown,\n      blurActiveItemOnClick,\n      setValueOnClick = true,\n      moveOnKeyPress = true,\n      autoComplete = \"list\"\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"focusable\",\n      \"autoSelect\",\n      \"getAutoSelectId\",\n      \"setValueOnChange\",\n      \"showMinLength\",\n      \"showOnChange\",\n      \"showOnMouseDown\",\n      \"showOnClick\",\n      \"showOnKeyDown\",\n      \"showOnKeyPress\",\n      \"blurActiveItemOnClick\",\n      \"setValueOnClick\",\n      \"moveOnKeyPress\",\n      \"autoComplete\"\n    ]);\n    const context = useComboboxProviderContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"Combobox must receive a `store` prop or be wrapped in a ComboboxProvider component.\"\n    );\n    const ref = useRef(null);\n    const [valueUpdated, forceValueUpdate] = useForceUpdate();\n    const canAutoSelectRef = useRef(false);\n    const composingRef = useRef(false);\n    const autoSelect = store.useState(\n      (state) => state.virtualFocus && autoSelectProp\n    );\n    const inline = autoComplete === \"inline\" || autoComplete === \"both\";\n    const [canInline, setCanInline] = useState(inline);\n    useUpdateLayoutEffect(() => {\n      if (!inline) return;\n      setCanInline(true);\n    }, [inline]);\n    const storeValue = store.useState(\"value\");\n    const prevSelectedValueRef = useRef();\n    useEffect(() => {\n      return sync(store, [\"selectedValue\", \"activeId\"], (_, prev) => {\n        prevSelectedValueRef.current = prev.selectedValue;\n      });\n    }, []);\n    const inlineActiveValue = store.useState((state) => {\n      var _a2;\n      if (!inline) return;\n      if (!canInline) return;\n      if (state.activeValue && Array.isArray(state.selectedValue)) {\n        if (state.selectedValue.includes(state.activeValue)) return;\n        if ((_a2 = prevSelectedValueRef.current) == null ? void 0 : _a2.includes(state.activeValue)) return;\n      }\n      return state.activeValue;\n    });\n    const items = store.useState(\"renderedItems\");\n    const open = store.useState(\"open\");\n    const contentElement = store.useState(\"contentElement\");\n    const value = useMemo(() => {\n      if (!inline) return storeValue;\n      if (!canInline) return storeValue;\n      const firstItemAutoSelected = isFirstItemAutoSelected(\n        items,\n        inlineActiveValue,\n        autoSelect\n      );\n      if (firstItemAutoSelected) {\n        if (hasCompletionString(storeValue, inlineActiveValue)) {\n          const slice = (inlineActiveValue == null ? void 0 : inlineActiveValue.slice(storeValue.length)) || \"\";\n          return storeValue + slice;\n        }\n        return storeValue;\n      }\n      return inlineActiveValue || storeValue;\n    }, [inline, canInline, items, inlineActiveValue, autoSelect, storeValue]);\n    useEffect(() => {\n      const element = ref.current;\n      if (!element) return;\n      const onCompositeItemMove = () => setCanInline(true);\n      element.addEventListener(\"combobox-item-move\", onCompositeItemMove);\n      return () => {\n        element.removeEventListener(\"combobox-item-move\", onCompositeItemMove);\n      };\n    }, []);\n    useEffect(() => {\n      if (!inline) return;\n      if (!canInline) return;\n      if (!inlineActiveValue) return;\n      const firstItemAutoSelected = isFirstItemAutoSelected(\n        items,\n        inlineActiveValue,\n        autoSelect\n      );\n      if (!firstItemAutoSelected) return;\n      if (!hasCompletionString(storeValue, inlineActiveValue)) return;\n      let cleanup = noop;\n      queueMicrotask(() => {\n        const element = ref.current;\n        if (!element) return;\n        const { start: prevStart, end: prevEnd } = getTextboxSelection(element);\n        const nextStart = storeValue.length;\n        const nextEnd = inlineActiveValue.length;\n        setSelectionRange(element, nextStart, nextEnd);\n        cleanup = () => {\n          if (!hasFocus(element)) return;\n          const { start, end } = getTextboxSelection(element);\n          if (start !== nextStart) return;\n          if (end !== nextEnd) return;\n          setSelectionRange(element, prevStart, prevEnd);\n        };\n      });\n      return () => cleanup();\n    }, [\n      valueUpdated,\n      inline,\n      canInline,\n      inlineActiveValue,\n      items,\n      autoSelect,\n      storeValue\n    ]);\n    const scrollingElementRef = useRef(null);\n    const getAutoSelectIdProp = useEvent(getAutoSelectId);\n    const autoSelectIdRef = useRef(null);\n    useEffect(() => {\n      if (!open) return;\n      if (!contentElement) return;\n      const scrollingElement = getScrollingElement(contentElement);\n      if (!scrollingElement) return;\n      scrollingElementRef.current = scrollingElement;\n      const onUserScroll = () => {\n        canAutoSelectRef.current = false;\n      };\n      const onScroll = () => {\n        if (!store) return;\n        if (!canAutoSelectRef.current) return;\n        const { activeId } = store.getState();\n        if (activeId === null) return;\n        if (activeId === autoSelectIdRef.current) return;\n        canAutoSelectRef.current = false;\n      };\n      const options = { passive: true, capture: true };\n      scrollingElement.addEventListener(\"wheel\", onUserScroll, options);\n      scrollingElement.addEventListener(\"touchmove\", onUserScroll, options);\n      scrollingElement.addEventListener(\"scroll\", onScroll, options);\n      return () => {\n        scrollingElement.removeEventListener(\"wheel\", onUserScroll, true);\n        scrollingElement.removeEventListener(\"touchmove\", onUserScroll, true);\n        scrollingElement.removeEventListener(\"scroll\", onScroll, true);\n      };\n    }, [open, contentElement, store]);\n    useSafeLayoutEffect(() => {\n      if (!storeValue) return;\n      if (composingRef.current) return;\n      canAutoSelectRef.current = true;\n    }, [storeValue]);\n    useSafeLayoutEffect(() => {\n      if (autoSelect !== \"always\" && open) return;\n      canAutoSelectRef.current = open;\n    }, [autoSelect, open]);\n    const resetValueOnSelect = store.useState(\"resetValueOnSelect\");\n    useUpdateEffect(() => {\n      var _a2, _b2;\n      const canAutoSelect = canAutoSelectRef.current;\n      if (!store) return;\n      if (!open) return;\n      if (!canAutoSelect && !resetValueOnSelect) return;\n      const { baseElement, contentElement: contentElement2, activeId } = store.getState();\n      if (baseElement && !hasFocus(baseElement)) return;\n      if (contentElement2 == null ? void 0 : contentElement2.hasAttribute(\"data-placing\")) {\n        const observer = new MutationObserver(forceValueUpdate);\n        observer.observe(contentElement2, { attributeFilter: [\"data-placing\"] });\n        return () => observer.disconnect();\n      }\n      if (autoSelect && canAutoSelect) {\n        const userAutoSelectId = getAutoSelectIdProp(items);\n        const autoSelectId = userAutoSelectId !== void 0 ? userAutoSelectId : (_a2 = getDefaultAutoSelectId(items)) != null ? _a2 : store.first();\n        autoSelectIdRef.current = autoSelectId;\n        store.move(autoSelectId != null ? autoSelectId : null);\n      } else {\n        const element = (_b2 = store.item(activeId || store.first())) == null ? void 0 : _b2.element;\n        if (element && \"scrollIntoView\" in element) {\n          element.scrollIntoView({ block: \"nearest\", inline: \"nearest\" });\n        }\n      }\n      return;\n    }, [\n      store,\n      open,\n      valueUpdated,\n      storeValue,\n      autoSelect,\n      resetValueOnSelect,\n      getAutoSelectIdProp,\n      items\n    ]);\n    useEffect(() => {\n      if (!inline) return;\n      const combobox = ref.current;\n      if (!combobox) return;\n      const elements = [combobox, contentElement].filter(\n        (value2) => !!value2\n      );\n      const onBlur2 = (event) => {\n        if (elements.every((el) => isFocusEventOutside(event, el))) {\n          store == null ? void 0 : store.setValue(value);\n        }\n      };\n      for (const element of elements) {\n        element.addEventListener(\"focusout\", onBlur2);\n      }\n      return () => {\n        for (const element of elements) {\n          element.removeEventListener(\"focusout\", onBlur2);\n        }\n      };\n    }, [inline, contentElement, store, value]);\n    const canShow = (event) => {\n      const currentTarget = event.currentTarget;\n      return currentTarget.value.length >= showMinLength;\n    };\n    const onChangeProp = props.onChange;\n    const showOnChangeProp = useBooleanEvent(showOnChange != null ? showOnChange : canShow);\n    const setValueOnChangeProp = useBooleanEvent(\n      // If the combobox is combined with tags, the value will be set by the tag\n      // input component.\n      setValueOnChange != null ? setValueOnChange : !store.tag\n    );\n    const onChange = useEvent((event) => {\n      onChangeProp == null ? void 0 : onChangeProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      const currentTarget = event.currentTarget;\n      const { value: value2, selectionStart, selectionEnd } = currentTarget;\n      const nativeEvent = event.nativeEvent;\n      canAutoSelectRef.current = true;\n      if (isInputEvent(nativeEvent)) {\n        if (nativeEvent.isComposing) {\n          canAutoSelectRef.current = false;\n          composingRef.current = true;\n        }\n        if (inline) {\n          const textInserted = nativeEvent.inputType === \"insertText\" || nativeEvent.inputType === \"insertCompositionText\";\n          const caretAtEnd = selectionStart === value2.length;\n          setCanInline(textInserted && caretAtEnd);\n        }\n      }\n      if (setValueOnChangeProp(event)) {\n        const isSameValue = value2 === store.getState().value;\n        store.setValue(value2);\n        queueMicrotask(() => {\n          setSelectionRange(currentTarget, selectionStart, selectionEnd);\n        });\n        if (inline && autoSelect && isSameValue) {\n          forceValueUpdate();\n        }\n      }\n      if (showOnChangeProp(event)) {\n        store.show();\n      }\n      if (!autoSelect || !canAutoSelectRef.current) {\n        store.setActiveId(null);\n      }\n    });\n    const onCompositionEndProp = props.onCompositionEnd;\n    const onCompositionEnd = useEvent((event) => {\n      canAutoSelectRef.current = true;\n      composingRef.current = false;\n      onCompositionEndProp == null ? void 0 : onCompositionEndProp(event);\n      if (event.defaultPrevented) return;\n      if (!autoSelect) return;\n      forceValueUpdate();\n    });\n    const onMouseDownProp = props.onMouseDown;\n    const blurActiveItemOnClickProp = useBooleanEvent(\n      blurActiveItemOnClick != null ? blurActiveItemOnClick : () => !!(store == null ? void 0 : store.getState().includesBaseElement)\n    );\n    const setValueOnClickProp = useBooleanEvent(setValueOnClick);\n    const showOnClickProp = useBooleanEvent(showOnClick != null ? showOnClick : canShow);\n    const onMouseDown = useEvent((event) => {\n      onMouseDownProp == null ? void 0 : onMouseDownProp(event);\n      if (event.defaultPrevented) return;\n      if (event.button) return;\n      if (event.ctrlKey) return;\n      if (!store) return;\n      if (blurActiveItemOnClickProp(event)) {\n        store.setActiveId(null);\n      }\n      if (setValueOnClickProp(event)) {\n        store.setValue(value);\n      }\n      if (showOnClickProp(event)) {\n        queueBeforeEvent(event.currentTarget, \"mouseup\", store.show);\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const showOnKeyPressProp = useBooleanEvent(showOnKeyPress != null ? showOnKeyPress : canShow);\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (!event.repeat) {\n        canAutoSelectRef.current = false;\n      }\n      if (event.defaultPrevented) return;\n      if (event.ctrlKey) return;\n      if (event.altKey) return;\n      if (event.shiftKey) return;\n      if (event.metaKey) return;\n      if (!store) return;\n      const { open: open2 } = store.getState();\n      if (open2) return;\n      if (event.key === \"ArrowUp\" || event.key === \"ArrowDown\") {\n        if (showOnKeyPressProp(event)) {\n          event.preventDefault();\n          store.show();\n        }\n      }\n    });\n    const onBlurProp = props.onBlur;\n    const onBlur = useEvent((event) => {\n      canAutoSelectRef.current = false;\n      onBlurProp == null ? void 0 : onBlurProp(event);\n      if (event.defaultPrevented) return;\n    });\n    const id = useId(props.id);\n    const ariaAutoComplete = isAriaAutoCompleteValue(autoComplete) ? autoComplete : void 0;\n    const isActiveItem = store.useState((state) => state.activeId === null);\n    props = __spreadProps(__spreadValues({\n      id,\n      role: \"combobox\",\n      \"aria-autocomplete\": ariaAutoComplete,\n      \"aria-haspopup\": getPopupRole(contentElement, \"listbox\"),\n      \"aria-expanded\": open,\n      \"aria-controls\": contentElement == null ? void 0 : contentElement.id,\n      \"data-active-item\": isActiveItem || void 0,\n      value\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onChange,\n      onCompositionEnd,\n      onMouseDown,\n      onKeyDown,\n      onBlur\n    });\n    props = useComposite(__spreadProps(__spreadValues({\n      store,\n      focusable\n    }, props), {\n      // Enable inline autocomplete when the user moves from the combobox input\n      // to an item.\n      moveOnKeyPress: (event) => {\n        if (isFalsyBooleanCallback(moveOnKeyPress, event)) return false;\n        if (inline) setCanInline(true);\n        return true;\n      }\n    }));\n    props = usePopoverAnchor(__spreadValues({ store }, props));\n    return __spreadValues({ autoComplete: \"off\" }, props);\n  }\n);\nvar Combobox = forwardRef(function Combobox2(props) {\n  const htmlProps = useCombobox(props);\n  return createElement(TagName, htmlProps);\n});\nexport {\n  Combobox,\n  useCombobox\n};\n", "\"use client\";\nimport {\n  useComboboxStore\n} from \"../__chunks/FEOFMWBY.js\";\nimport {\n  ComboboxContextProvider\n} from \"../__chunks/VEVQD5MH.js\";\nimport \"../__chunks/3XAVFTCA.js\";\nimport \"../__chunks/4CMBR7SL.js\";\nimport \"../__chunks/C3IKGW5T.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport \"../__chunks/LMDWO4NN.js\";\nimport \"../__chunks/O2PQ2652.js\";\nimport \"../__chunks/BM6PGYQY.js\";\nimport \"../__chunks/WYCIER3C.js\";\nimport \"../__chunks/YV4JVR4I.js\";\nimport \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-provider.tsx\nimport { jsx } from \"react/jsx-runtime\";\nfunction ComboboxProvider(props = {}) {\n  const store = useComboboxStore(props);\n  return /* @__PURE__ */ jsx(ComboboxContextProvider, { value: store, children: props.children });\n}\nexport {\n  ComboboxProvider\n};\n", "\"use client\";\nimport {\n  useFocusable\n} from \"./LVA2YJMS.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useEvent,\n  useMergeRefs,\n  useMetadataProps\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/command/command.tsx\nimport { isButton, isTextField } from \"@ariakit/core/utils/dom\";\nimport {\n  fireClickEvent,\n  isSelfTarget,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport { disabledFromProps } from \"@ariakit/core/utils/misc\";\nimport { isFirefox } from \"@ariakit/core/utils/platform\";\nimport { useEffect, useRef, useState } from \"react\";\nvar TagName = \"button\";\nfunction isNativeClick(event) {\n  if (!event.isTrusted) return false;\n  const element = event.currentTarget;\n  if (event.key === \"Enter\") {\n    return isButton(element) || element.tagName === \"SUMMARY\" || element.tagName === \"A\";\n  }\n  if (event.key === \" \") {\n    return isButton(element) || element.tagName === \"SUMMARY\" || element.tagName === \"INPUT\" || element.tagName === \"SELECT\";\n  }\n  return false;\n}\nvar symbol = Symbol(\"command\");\nvar useCommand = createHook(\n  function useCommand2(_a) {\n    var _b = _a, { clickOnEnter = true, clickOnSpace = true } = _b, props = __objRest(_b, [\"clickOnEnter\", \"clickOnSpace\"]);\n    const ref = useRef(null);\n    const [isNativeButton, setIsNativeButton] = useState(false);\n    useEffect(() => {\n      if (!ref.current) return;\n      setIsNativeButton(isButton(ref.current));\n    }, []);\n    const [active, setActive] = useState(false);\n    const activeRef = useRef(false);\n    const disabled = disabledFromProps(props);\n    const [isDuplicate, metadataProps] = useMetadataProps(props, symbol, true);\n    const onKeyDownProp = props.onKeyDown;\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      const element = event.currentTarget;\n      if (event.defaultPrevented) return;\n      if (isDuplicate) return;\n      if (disabled) return;\n      if (!isSelfTarget(event)) return;\n      if (isTextField(element)) return;\n      if (element.isContentEditable) return;\n      const isEnter = clickOnEnter && event.key === \"Enter\";\n      const isSpace = clickOnSpace && event.key === \" \";\n      const shouldPreventEnter = event.key === \"Enter\" && !clickOnEnter;\n      const shouldPreventSpace = event.key === \" \" && !clickOnSpace;\n      if (shouldPreventEnter || shouldPreventSpace) {\n        event.preventDefault();\n        return;\n      }\n      if (isEnter || isSpace) {\n        const nativeClick = isNativeClick(event);\n        if (isEnter) {\n          if (!nativeClick) {\n            event.preventDefault();\n            const _a2 = event, { view } = _a2, eventInit = __objRest(_a2, [\"view\"]);\n            const click = () => fireClickEvent(element, eventInit);\n            if (isFirefox()) {\n              queueBeforeEvent(element, \"keyup\", click);\n            } else {\n              queueMicrotask(click);\n            }\n          }\n        } else if (isSpace) {\n          activeRef.current = true;\n          if (!nativeClick) {\n            event.preventDefault();\n            setActive(true);\n          }\n        }\n      }\n    });\n    const onKeyUpProp = props.onKeyUp;\n    const onKeyUp = useEvent((event) => {\n      onKeyUpProp == null ? void 0 : onKeyUpProp(event);\n      if (event.defaultPrevented) return;\n      if (isDuplicate) return;\n      if (disabled) return;\n      if (event.metaKey) return;\n      const isSpace = clickOnSpace && event.key === \" \";\n      if (activeRef.current && isSpace) {\n        activeRef.current = false;\n        if (!isNativeClick(event)) {\n          event.preventDefault();\n          setActive(false);\n          const element = event.currentTarget;\n          const _a2 = event, { view } = _a2, eventInit = __objRest(_a2, [\"view\"]);\n          queueMicrotask(() => fireClickEvent(element, eventInit));\n        }\n      }\n    });\n    props = __spreadProps(__spreadValues(__spreadValues({\n      \"data-active\": active || void 0,\n      type: isNativeButton ? \"button\" : void 0\n    }, metadataProps), props), {\n      ref: useMergeRefs(ref, props.ref),\n      onKeyDown,\n      onKeyUp\n    });\n    props = useFocusable(props);\n    return props;\n  }\n);\nvar Command = forwardRef(function Command2(props) {\n  const htmlProps = useCommand(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useCommand,\n  Command\n};\n", "\"use client\";\nimport {\n  ComboboxItemValueContext,\n  useComboboxScopedContext\n} from \"../__chunks/VEVQD5MH.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"../__chunks/LMDWO4NN.js\";\nimport {\n  useStoreState\n} from \"../__chunks/YV4JVR4I.js\";\nimport \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-item-value.tsx\nimport { toArray } from \"@ariakit/core/utils/array\";\nimport {\n  normalizeString,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { useContext, useMemo } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"span\";\nfunction normalizeValue(value) {\n  return normalizeString(value).toLowerCase();\n}\nfunction getOffsets(string, values) {\n  const offsets = [];\n  for (const value of values) {\n    let pos = 0;\n    const length = value.length;\n    while (string.indexOf(value, pos) !== -1) {\n      const index = string.indexOf(value, pos);\n      if (index !== -1) {\n        offsets.push([index, length]);\n      }\n      pos = index + 1;\n    }\n  }\n  return offsets;\n}\nfunction filterOverlappingOffsets(offsets) {\n  return offsets.filter(([offset, length], i, arr) => {\n    return !arr.some(\n      ([o, l], j) => j !== i && o <= offset && o + l >= offset + length\n    );\n  });\n}\nfunction sortOffsets(offsets) {\n  return offsets.sort(([a], [b]) => a - b);\n}\nfunction splitValue(itemValue, userValue) {\n  if (!itemValue) return itemValue;\n  if (!userValue) return itemValue;\n  const userValues = toArray(userValue).filter(Boolean).map(normalizeValue);\n  const parts = [];\n  const span = (value, autocomplete = false) => /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      \"data-autocomplete-value\": autocomplete ? \"\" : void 0,\n      \"data-user-value\": autocomplete ? void 0 : \"\",\n      children: value\n    },\n    parts.length\n  );\n  const offsets = sortOffsets(\n    filterOverlappingOffsets(\n      // Convert userValues into a set to avoid duplicates\n      getOffsets(normalizeValue(itemValue), new Set(userValues))\n    )\n  );\n  if (!offsets.length) {\n    parts.push(span(itemValue, true));\n    return parts;\n  }\n  const [firstOffset] = offsets[0];\n  const values = [\n    itemValue.slice(0, firstOffset),\n    ...offsets.flatMap(([offset, length], i) => {\n      var _a;\n      const value = itemValue.slice(offset, offset + length);\n      const nextOffset = (_a = offsets[i + 1]) == null ? void 0 : _a[0];\n      const nextValue = itemValue.slice(offset + length, nextOffset);\n      return [value, nextValue];\n    })\n  ];\n  values.forEach((value, i) => {\n    if (!value) return;\n    parts.push(span(value, i % 2 === 0));\n  });\n  return parts;\n}\nvar useComboboxItemValue = createHook(function useComboboxItemValue2(_a) {\n  var _b = _a, { store, value, userValue } = _b, props = __objRest(_b, [\"store\", \"value\", \"userValue\"]);\n  const context = useComboboxScopedContext();\n  store = store || context;\n  const itemContext = useContext(ComboboxItemValueContext);\n  const itemValue = value != null ? value : itemContext;\n  const inputValue = useStoreState(store, (state) => userValue != null ? userValue : state == null ? void 0 : state.value);\n  const children = useMemo(() => {\n    if (!itemValue) return;\n    if (!inputValue) return itemValue;\n    return splitValue(itemValue, inputValue);\n  }, [itemValue, inputValue]);\n  props = __spreadValues({\n    children\n  }, props);\n  return removeUndefinedValues(props);\n});\nvar ComboboxItemValue = forwardRef(function ComboboxItemValue2(props) {\n  const htmlProps = useComboboxItemValue(props);\n  return createElement(TagName, htmlProps);\n});\nexport {\n  ComboboxItemValue,\n  useComboboxItemValue\n};\n", "\"use client\";\nimport {\n  useCompositeContext\n} from \"./P7GR5CS5.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"./LMDWO4NN.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useIsMouseMoving,\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-hover.tsx\nimport { contains } from \"@ariakit/core/utils/dom\";\nimport { hasFocus, hasFocusWithin } from \"@ariakit/core/utils/focus\";\nimport {\n  hasOwnProperty,\n  invariant,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { useCallback } from \"react\";\nvar TagName = \"div\";\nfunction getMouseDestination(event) {\n  const relatedTarget = event.relatedTarget;\n  if ((relatedTarget == null ? void 0 : relatedTarget.nodeType) === Node.ELEMENT_NODE) {\n    return relatedTarget;\n  }\n  return null;\n}\nfunction hoveringInside(event) {\n  const nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  return contains(event.currentTarget, nextElement);\n}\nvar symbol = Symbol(\"composite-hover\");\nfunction movingToAnotherItem(event) {\n  let dest = getMouseDestination(event);\n  if (!dest) return false;\n  do {\n    if (hasOwnProperty(dest, symbol) && dest[symbol]) return true;\n    dest = dest.parentElement;\n  } while (dest);\n  return false;\n}\nvar useCompositeHover = createHook(\n  function useCompositeHover2(_a) {\n    var _b = _a, {\n      store,\n      focusOnHover = true,\n      blurOnHoverEnd = !!focusOnHover\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"focusOnHover\",\n      \"blurOnHoverEnd\"\n    ]);\n    const context = useCompositeContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"CompositeHover must be wrapped in a Composite component.\"\n    );\n    const isMouseMoving = useIsMouseMoving();\n    const onMouseMoveProp = props.onMouseMove;\n    const focusOnHoverProp = useBooleanEvent(focusOnHover);\n    const onMouseMove = useEvent((event) => {\n      onMouseMoveProp == null ? void 0 : onMouseMoveProp(event);\n      if (event.defaultPrevented) return;\n      if (!isMouseMoving()) return;\n      if (!focusOnHoverProp(event)) return;\n      if (!hasFocusWithin(event.currentTarget)) {\n        const baseElement = store == null ? void 0 : store.getState().baseElement;\n        if (baseElement && !hasFocus(baseElement)) {\n          baseElement.focus();\n        }\n      }\n      store == null ? void 0 : store.setActiveId(event.currentTarget.id);\n    });\n    const onMouseLeaveProp = props.onMouseLeave;\n    const blurOnHoverEndProp = useBooleanEvent(blurOnHoverEnd);\n    const onMouseLeave = useEvent((event) => {\n      var _a2;\n      onMouseLeaveProp == null ? void 0 : onMouseLeaveProp(event);\n      if (event.defaultPrevented) return;\n      if (!isMouseMoving()) return;\n      if (hoveringInside(event)) return;\n      if (movingToAnotherItem(event)) return;\n      if (!focusOnHoverProp(event)) return;\n      if (!blurOnHoverEndProp(event)) return;\n      store == null ? void 0 : store.setActiveId(null);\n      (_a2 = store == null ? void 0 : store.getState().baseElement) == null ? void 0 : _a2.focus();\n    });\n    const ref = useCallback((element) => {\n      if (!element) return;\n      element[symbol] = true;\n    }, []);\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onMouseMove,\n      onMouseLeave\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar CompositeHover = memo(\n  forwardRef(function CompositeHover2(props) {\n    const htmlProps = useCompositeHover(props);\n    return createElement(TagName, htmlProps);\n  })\n);\n\nexport {\n  useCompositeHover,\n  CompositeHover\n};\n", "\"use client\";\nimport {\n  useCollectionContext\n} from \"./VDHZ5F7K.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useId,\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/collection/collection-item.tsx\nimport { identity, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nimport { useEffect, useRef } from \"react\";\nvar TagName = \"div\";\nvar useCollectionItem = createHook(\n  function useCollectionItem2(_a) {\n    var _b = _a, {\n      store,\n      shouldRegisterItem = true,\n      getItem = identity,\n      element: element\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"shouldRegisterItem\",\n      \"getItem\",\n      // @ts-expect-error This prop may come from a collection renderer.\n      \"element\"\n    ]);\n    const context = useCollectionContext();\n    store = store || context;\n    const id = useId(props.id);\n    const ref = useRef(element);\n    useEffect(() => {\n      const element2 = ref.current;\n      if (!id) return;\n      if (!element2) return;\n      if (!shouldRegisterItem) return;\n      const item = getItem({ id, element: element2 });\n      return store == null ? void 0 : store.renderItem(item);\n    }, [id, shouldRegisterItem, getItem, store]);\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(ref, props.ref)\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar CollectionItem = forwardRef(function CollectionItem2(props) {\n  const htmlProps = useCollectionItem(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useCollectionItem,\n  CollectionItem\n};\n", "\"use client\";\nimport {\n  useCollectionItem\n} from \"./RZ4GPYOB.js\";\nimport {\n  useCommand\n} from \"./KUU7WJ55.js\";\nimport {\n  focusSilently,\n  getEnabledItem,\n  isItem,\n  selectTextField\n} from \"./5VQZOHHZ.js\";\nimport {\n  CompositeItemContext,\n  CompositeRowContext,\n  useCompositeContext\n} from \"./P7GR5CS5.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"./LMDWO4NN.js\";\nimport {\n  useStoreStateObject\n} from \"./YV4JVR4I.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useId,\n  useMergeRefs,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-item.tsx\nimport {\n  getScrollingElement,\n  getTextboxSelection,\n  getTextboxValue,\n  isButton,\n  isTextField,\n  isTextbox\n} from \"@ariakit/core/utils/dom\";\nimport { isPortalEvent, isSelfTarget } from \"@ariakit/core/utils/events\";\nimport {\n  disabledFromProps,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { isSafari } from \"@ariakit/core/utils/platform\";\nimport { useCallback, useContext, useMemo, useRef } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"button\";\nfunction isEditableElement(element) {\n  if (isTextbox(element)) return true;\n  return element.tagName === \"INPUT\" && !isButton(element);\n}\nfunction getNextPageOffset(scrollingElement, pageUp = false) {\n  const height = scrollingElement.clientHeight;\n  const { top } = scrollingElement.getBoundingClientRect();\n  const pageSize = Math.max(height * 0.875, height - 40) * 1.5;\n  const pageOffset = pageUp ? height - pageSize + top : pageSize + top;\n  if (scrollingElement.tagName === \"HTML\") {\n    return pageOffset + scrollingElement.scrollTop;\n  }\n  return pageOffset;\n}\nfunction getItemOffset(itemElement, pageUp = false) {\n  const { top } = itemElement.getBoundingClientRect();\n  if (pageUp) {\n    return top + itemElement.clientHeight;\n  }\n  return top;\n}\nfunction findNextPageItemId(element, store, next, pageUp = false) {\n  var _a;\n  if (!store) return;\n  if (!next) return;\n  const { renderedItems } = store.getState();\n  const scrollingElement = getScrollingElement(element);\n  if (!scrollingElement) return;\n  const nextPageOffset = getNextPageOffset(scrollingElement, pageUp);\n  let id;\n  let prevDifference;\n  for (let i = 0; i < renderedItems.length; i += 1) {\n    const previousId = id;\n    id = next(i);\n    if (!id) break;\n    if (id === previousId) continue;\n    const itemElement = (_a = getEnabledItem(store, id)) == null ? void 0 : _a.element;\n    if (!itemElement) continue;\n    const itemOffset = getItemOffset(itemElement, pageUp);\n    const difference = itemOffset - nextPageOffset;\n    const absDifference = Math.abs(difference);\n    if (pageUp && difference <= 0 || !pageUp && difference >= 0) {\n      if (prevDifference !== void 0 && prevDifference < absDifference) {\n        id = previousId;\n      }\n      break;\n    }\n    prevDifference = absDifference;\n  }\n  return id;\n}\nfunction targetIsAnotherItem(event, store) {\n  if (isSelfTarget(event)) return false;\n  return isItem(store, event.target);\n}\nvar useCompositeItem = createHook(\n  function useCompositeItem2(_a) {\n    var _b = _a, {\n      store,\n      rowId: rowIdProp,\n      preventScrollOnKeyDown = false,\n      moveOnKeyPress = true,\n      tabbable = false,\n      getItem: getItemProp,\n      \"aria-setsize\": ariaSetSizeProp,\n      \"aria-posinset\": ariaPosInSetProp\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"rowId\",\n      \"preventScrollOnKeyDown\",\n      \"moveOnKeyPress\",\n      \"tabbable\",\n      \"getItem\",\n      \"aria-setsize\",\n      \"aria-posinset\"\n    ]);\n    const context = useCompositeContext();\n    store = store || context;\n    const id = useId(props.id);\n    const ref = useRef(null);\n    const row = useContext(CompositeRowContext);\n    const disabled = disabledFromProps(props);\n    const trulyDisabled = disabled && !props.accessibleWhenDisabled;\n    const {\n      rowId,\n      baseElement,\n      isActiveItem,\n      ariaSetSize,\n      ariaPosInSet,\n      isTabbable\n    } = useStoreStateObject(store, {\n      rowId(state) {\n        if (rowIdProp) return rowIdProp;\n        if (!state) return;\n        if (!(row == null ? void 0 : row.baseElement)) return;\n        if (row.baseElement !== state.baseElement) return;\n        return row.id;\n      },\n      baseElement(state) {\n        return (state == null ? void 0 : state.baseElement) || void 0;\n      },\n      isActiveItem(state) {\n        return !!state && state.activeId === id;\n      },\n      ariaSetSize(state) {\n        if (ariaSetSizeProp != null) return ariaSetSizeProp;\n        if (!state) return;\n        if (!(row == null ? void 0 : row.ariaSetSize)) return;\n        if (row.baseElement !== state.baseElement) return;\n        return row.ariaSetSize;\n      },\n      ariaPosInSet(state) {\n        if (ariaPosInSetProp != null) return ariaPosInSetProp;\n        if (!state) return;\n        if (!(row == null ? void 0 : row.ariaPosInSet)) return;\n        if (row.baseElement !== state.baseElement) return;\n        const itemsInRow = state.renderedItems.filter(\n          (item) => item.rowId === rowId\n        );\n        return row.ariaPosInSet + itemsInRow.findIndex((item) => item.id === id);\n      },\n      isTabbable(state) {\n        if (!(state == null ? void 0 : state.renderedItems.length)) return true;\n        if (state.virtualFocus) return false;\n        if (tabbable) return true;\n        if (state.activeId === null) return false;\n        const item = store == null ? void 0 : store.item(state.activeId);\n        if (item == null ? void 0 : item.disabled) return true;\n        if (!(item == null ? void 0 : item.element)) return true;\n        return state.activeId === id;\n      }\n    });\n    const getItem = useCallback(\n      (item) => {\n        var _a2;\n        const nextItem = __spreadProps(__spreadValues({}, item), {\n          id: id || item.id,\n          rowId,\n          disabled: !!trulyDisabled,\n          children: (_a2 = item.element) == null ? void 0 : _a2.textContent\n        });\n        if (getItemProp) {\n          return getItemProp(nextItem);\n        }\n        return nextItem;\n      },\n      [id, rowId, trulyDisabled, getItemProp]\n    );\n    const onFocusProp = props.onFocus;\n    const hasFocusedComposite = useRef(false);\n    const onFocus = useEvent((event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (event.defaultPrevented) return;\n      if (isPortalEvent(event)) return;\n      if (!id) return;\n      if (!store) return;\n      if (targetIsAnotherItem(event, store)) return;\n      const { virtualFocus, baseElement: baseElement2 } = store.getState();\n      store.setActiveId(id);\n      if (isTextbox(event.currentTarget)) {\n        selectTextField(event.currentTarget);\n      }\n      if (!virtualFocus) return;\n      if (!isSelfTarget(event)) return;\n      if (isEditableElement(event.currentTarget)) return;\n      if (!(baseElement2 == null ? void 0 : baseElement2.isConnected)) return;\n      if (isSafari() && event.currentTarget.hasAttribute(\"data-autofocus\")) {\n        event.currentTarget.scrollIntoView({\n          block: \"nearest\",\n          inline: \"nearest\"\n        });\n      }\n      hasFocusedComposite.current = true;\n      const fromComposite = event.relatedTarget === baseElement2 || isItem(store, event.relatedTarget);\n      if (fromComposite) {\n        focusSilently(baseElement2);\n      } else {\n        baseElement2.focus();\n      }\n    });\n    const onBlurCaptureProp = props.onBlurCapture;\n    const onBlurCapture = useEvent((event) => {\n      onBlurCaptureProp == null ? void 0 : onBlurCaptureProp(event);\n      if (event.defaultPrevented) return;\n      const state = store == null ? void 0 : store.getState();\n      if ((state == null ? void 0 : state.virtualFocus) && hasFocusedComposite.current) {\n        hasFocusedComposite.current = false;\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const preventScrollOnKeyDownProp = useBooleanEvent(preventScrollOnKeyDown);\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented) return;\n      if (!isSelfTarget(event)) return;\n      if (!store) return;\n      const { currentTarget } = event;\n      const state = store.getState();\n      const item = store.item(id);\n      const isGrid = !!(item == null ? void 0 : item.rowId);\n      const isVertical = state.orientation !== \"horizontal\";\n      const isHorizontal = state.orientation !== \"vertical\";\n      const canHomeEnd = () => {\n        if (isGrid) return true;\n        if (isHorizontal) return true;\n        if (!state.baseElement) return true;\n        if (!isTextField(state.baseElement)) return true;\n        return false;\n      };\n      const keyMap = {\n        ArrowUp: (isGrid || isVertical) && store.up,\n        ArrowRight: (isGrid || isHorizontal) && store.next,\n        ArrowDown: (isGrid || isVertical) && store.down,\n        ArrowLeft: (isGrid || isHorizontal) && store.previous,\n        Home: () => {\n          if (!canHomeEnd()) return;\n          if (!isGrid || event.ctrlKey) {\n            return store == null ? void 0 : store.first();\n          }\n          return store == null ? void 0 : store.previous(-1);\n        },\n        End: () => {\n          if (!canHomeEnd()) return;\n          if (!isGrid || event.ctrlKey) {\n            return store == null ? void 0 : store.last();\n          }\n          return store == null ? void 0 : store.next(-1);\n        },\n        PageUp: () => {\n          return findNextPageItemId(currentTarget, store, store == null ? void 0 : store.up, true);\n        },\n        PageDown: () => {\n          return findNextPageItemId(currentTarget, store, store == null ? void 0 : store.down);\n        }\n      };\n      const action = keyMap[event.key];\n      if (action) {\n        if (isTextbox(currentTarget)) {\n          const selection = getTextboxSelection(currentTarget);\n          const isLeft = isHorizontal && event.key === \"ArrowLeft\";\n          const isRight = isHorizontal && event.key === \"ArrowRight\";\n          const isUp = isVertical && event.key === \"ArrowUp\";\n          const isDown = isVertical && event.key === \"ArrowDown\";\n          if (isRight || isDown) {\n            const { length: valueLength } = getTextboxValue(currentTarget);\n            if (selection.end !== valueLength) return;\n          } else if ((isLeft || isUp) && selection.start !== 0) return;\n        }\n        const nextId = action();\n        if (preventScrollOnKeyDownProp(event) || nextId !== void 0) {\n          if (!moveOnKeyPressProp(event)) return;\n          event.preventDefault();\n          store.move(nextId);\n        }\n      }\n    });\n    const providerValue = useMemo(\n      () => ({ id, baseElement }),\n      [id, baseElement]\n    );\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(CompositeItemContext.Provider, { value: providerValue, children: element }),\n      [providerValue]\n    );\n    props = __spreadProps(__spreadValues({\n      id,\n      \"data-active-item\": isActiveItem || void 0\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      tabIndex: isTabbable ? props.tabIndex : -1,\n      onFocus,\n      onBlurCapture,\n      onKeyDown\n    });\n    props = useCommand(props);\n    props = useCollectionItem(__spreadProps(__spreadValues({\n      store\n    }, props), {\n      getItem,\n      shouldRegisterItem: id ? props.shouldRegisterItem : false\n    }));\n    return removeUndefinedValues(__spreadProps(__spreadValues({}, props), {\n      \"aria-setsize\": ariaSetSize,\n      \"aria-posinset\": ariaPosInSet\n    }));\n  }\n);\nvar CompositeItem = memo(\n  forwardRef(function CompositeItem2(props) {\n    const htmlProps = useCompositeItem(props);\n    return createElement(TagName, htmlProps);\n  })\n);\n\nexport {\n  useCompositeItem,\n  CompositeItem\n};\n", "\"use client\";\nimport {\n  useCompositeHover\n} from \"./UQQRIHDV.js\";\nimport {\n  ComboboxItemCheckedContext,\n  ComboboxItemValueContext,\n  ComboboxListRoleContext,\n  useComboboxScopedContext\n} from \"./VEVQD5MH.js\";\nimport {\n  useCompositeItem\n} from \"./P2CTZE2T.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"./LMDWO4NN.js\";\nimport {\n  useStoreStateObject\n} from \"./YV4JVR4I.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/combobox/combobox-item.tsx\nimport { isTextField } from \"@ariakit/core/utils/dom\";\nimport { isDownloading, isOpeningInNewTab } from \"@ariakit/core/utils/events\";\nimport { hasFocus } from \"@ariakit/core/utils/focus\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nimport { useCallback, useContext } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nfunction isSelected(storeValue, itemValue) {\n  if (itemValue == null) return;\n  if (storeValue == null) return false;\n  if (Array.isArray(storeValue)) {\n    return storeValue.includes(itemValue);\n  }\n  return storeValue === itemValue;\n}\nfunction getItemRole(popupRole) {\n  var _a;\n  const itemRoleByPopupRole = {\n    menu: \"menuitem\",\n    listbox: \"option\",\n    tree: \"treeitem\"\n  };\n  const key = popupRole;\n  return (_a = itemRoleByPopupRole[key]) != null ? _a : \"option\";\n}\nvar useComboboxItem = createHook(\n  function useComboboxItem2(_a) {\n    var _b = _a, {\n      store,\n      value,\n      hideOnClick,\n      setValueOnClick,\n      selectValueOnClick = true,\n      resetValueOnSelect,\n      focusOnHover = false,\n      moveOnKeyPress = true,\n      getItem: getItemProp\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"value\",\n      \"hideOnClick\",\n      \"setValueOnClick\",\n      \"selectValueOnClick\",\n      \"resetValueOnSelect\",\n      \"focusOnHover\",\n      \"moveOnKeyPress\",\n      \"getItem\"\n    ]);\n    var _a2;\n    const context = useComboboxScopedContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"ComboboxItem must be wrapped in a ComboboxList or ComboboxPopover component.\"\n    );\n    const { resetValueOnSelectState, multiSelectable, selected } = useStoreStateObject(store, {\n      resetValueOnSelectState: \"resetValueOnSelect\",\n      multiSelectable(state) {\n        return Array.isArray(state.selectedValue);\n      },\n      selected(state) {\n        return isSelected(state.selectedValue, value);\n      }\n    });\n    const getItem = useCallback(\n      (item) => {\n        const nextItem = __spreadProps(__spreadValues({}, item), { value });\n        if (getItemProp) {\n          return getItemProp(nextItem);\n        }\n        return nextItem;\n      },\n      [value, getItemProp]\n    );\n    setValueOnClick = setValueOnClick != null ? setValueOnClick : !multiSelectable;\n    hideOnClick = hideOnClick != null ? hideOnClick : value != null && !multiSelectable;\n    const onClickProp = props.onClick;\n    const setValueOnClickProp = useBooleanEvent(setValueOnClick);\n    const selectValueOnClickProp = useBooleanEvent(selectValueOnClick);\n    const resetValueOnSelectProp = useBooleanEvent(\n      (_a2 = resetValueOnSelect != null ? resetValueOnSelect : resetValueOnSelectState) != null ? _a2 : multiSelectable\n    );\n    const hideOnClickProp = useBooleanEvent(hideOnClick);\n    const onClick = useEvent((event) => {\n      onClickProp == null ? void 0 : onClickProp(event);\n      if (event.defaultPrevented) return;\n      if (isDownloading(event)) return;\n      if (isOpeningInNewTab(event)) return;\n      if (value != null) {\n        if (selectValueOnClickProp(event)) {\n          if (resetValueOnSelectProp(event)) {\n            store == null ? void 0 : store.resetValue();\n          }\n          store == null ? void 0 : store.setSelectedValue((prevValue) => {\n            if (!Array.isArray(prevValue)) return value;\n            if (prevValue.includes(value)) {\n              return prevValue.filter((v) => v !== value);\n            }\n            return [...prevValue, value];\n          });\n        }\n        if (setValueOnClickProp(event)) {\n          store == null ? void 0 : store.setValue(value);\n        }\n      }\n      if (hideOnClickProp(event)) {\n        store == null ? void 0 : store.hide();\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented) return;\n      const baseElement = store == null ? void 0 : store.getState().baseElement;\n      if (!baseElement) return;\n      if (hasFocus(baseElement)) return;\n      const printable = event.key.length === 1;\n      if (printable || event.key === \"Backspace\" || event.key === \"Delete\") {\n        queueMicrotask(() => baseElement.focus());\n        if (isTextField(baseElement)) {\n          store == null ? void 0 : store.setValue(baseElement.value);\n        }\n      }\n    });\n    if (multiSelectable && selected != null) {\n      props = __spreadValues({\n        \"aria-selected\": selected\n      }, props);\n    }\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(ComboboxItemValueContext.Provider, { value, children: /* @__PURE__ */ jsx(ComboboxItemCheckedContext.Provider, { value: selected != null ? selected : false, children: element }) }),\n      [value, selected]\n    );\n    const popupRole = useContext(ComboboxListRoleContext);\n    props = __spreadProps(__spreadValues({\n      role: getItemRole(popupRole),\n      children: value\n    }, props), {\n      onClick,\n      onKeyDown\n    });\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    props = useCompositeItem(__spreadProps(__spreadValues({\n      store\n    }, props), {\n      getItem,\n      // Dispatch a custom event on the combobox input when moving to an item\n      // with the keyboard so the Combobox component can enable inline\n      // autocompletion.\n      moveOnKeyPress: (event) => {\n        if (!moveOnKeyPressProp(event)) return false;\n        const moveEvent = new Event(\"combobox-item-move\");\n        const baseElement = store == null ? void 0 : store.getState().baseElement;\n        baseElement == null ? void 0 : baseElement.dispatchEvent(moveEvent);\n        return true;\n      }\n    }));\n    props = useCompositeHover(__spreadValues({ store, focusOnHover }, props));\n    return props;\n  }\n);\nvar ComboboxItem = memo(\n  forwardRef(function ComboboxItem2(props) {\n    const htmlProps = useComboboxItem(props);\n    return createElement(TagName, htmlProps);\n  })\n);\n\nexport {\n  useComboboxItem,\n  ComboboxItem\n};\n", "\"use client\";\nimport {\n  useComboboxProviderContext\n} from \"../__chunks/VEVQD5MH.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"../__chunks/LMDWO4NN.js\";\nimport \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-label.tsx\nimport { invariant, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nvar TagName = \"label\";\nvar useComboboxLabel = createHook(\n  function useComboboxLabel2(_a) {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    const context = useComboboxProviderContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"ComboboxLabel must receive a `store` prop or be wrapped in a ComboboxProvider component.\"\n    );\n    const comboboxId = store.useState((state) => {\n      var _a2;\n      return (_a2 = state.baseElement) == null ? void 0 : _a2.id;\n    });\n    props = __spreadValues({\n      htmlFor: comboboxId\n    }, props);\n    return removeUndefinedValues(props);\n  }\n);\nvar ComboboxLabel = memo(\n  forwardRef(function ComboboxLabel2(props) {\n    const htmlProps = useComboboxLabel(props);\n    return createElement(TagName, htmlProps);\n  })\n);\nexport {\n  ComboboxLabel,\n  useComboboxLabel\n};\n", "\"use client\";\nimport {\n  DialogScopedContextProvider\n} from \"./RS7LB2H4.js\";\nimport {\n  useDisclosureProviderContext\n} from \"./S6EF7IVO.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useStoreState\n} from \"./YV4JVR4I.js\";\nimport {\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/disclosure/disclosure-content.tsx\nimport { invariant, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nimport { useMemo, useRef, useState } from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nfunction afterTimeout(timeoutMs, cb) {\n  const timeoutId = setTimeout(cb, timeoutMs);\n  return () => clearTimeout(timeoutId);\n}\nfunction afterPaint(cb) {\n  let raf = requestAnimationFrame(() => {\n    raf = requestAnimationFrame(cb);\n  });\n  return () => cancelAnimationFrame(raf);\n}\nfunction parseCSSTime(...times) {\n  return times.join(\", \").split(\", \").reduce((longestTime, currentTimeString) => {\n    const multiplier = currentTimeString.endsWith(\"ms\") ? 1 : 1e3;\n    const currentTime = Number.parseFloat(currentTimeString || \"0s\") * multiplier;\n    if (currentTime > longestTime) return currentTime;\n    return longestTime;\n  }, 0);\n}\nfunction isHidden(mounted, hidden, alwaysVisible) {\n  return !alwaysVisible && hidden !== false && (!mounted || !!hidden);\n}\nvar useDisclosureContent = createHook(function useDisclosureContent2(_a) {\n  var _b = _a, { store, alwaysVisible } = _b, props = __objRest(_b, [\"store\", \"alwaysVisible\"]);\n  const context = useDisclosureProviderContext();\n  store = store || context;\n  invariant(\n    store,\n    process.env.NODE_ENV !== \"production\" && \"DisclosureContent must receive a `store` prop or be wrapped in a DisclosureProvider component.\"\n  );\n  const ref = useRef(null);\n  const id = useId(props.id);\n  const [transition, setTransition] = useState(null);\n  const open = store.useState(\"open\");\n  const mounted = store.useState(\"mounted\");\n  const animated = store.useState(\"animated\");\n  const contentElement = store.useState(\"contentElement\");\n  const otherElement = useStoreState(store.disclosure, \"contentElement\");\n  useSafeLayoutEffect(() => {\n    if (!ref.current) return;\n    store == null ? void 0 : store.setContentElement(ref.current);\n  }, [store]);\n  useSafeLayoutEffect(() => {\n    let previousAnimated;\n    store == null ? void 0 : store.setState(\"animated\", (animated2) => {\n      previousAnimated = animated2;\n      return true;\n    });\n    return () => {\n      if (previousAnimated === void 0) return;\n      store == null ? void 0 : store.setState(\"animated\", previousAnimated);\n    };\n  }, [store]);\n  useSafeLayoutEffect(() => {\n    if (!animated) return;\n    if (!(contentElement == null ? void 0 : contentElement.isConnected)) {\n      setTransition(null);\n      return;\n    }\n    return afterPaint(() => {\n      setTransition(open ? \"enter\" : mounted ? \"leave\" : null);\n    });\n  }, [animated, contentElement, open, mounted]);\n  useSafeLayoutEffect(() => {\n    if (!store) return;\n    if (!animated) return;\n    if (!transition) return;\n    if (!contentElement) return;\n    const stopAnimation = () => store == null ? void 0 : store.setState(\"animating\", false);\n    const stopAnimationSync = () => flushSync(stopAnimation);\n    if (transition === \"leave\" && open) return;\n    if (transition === \"enter\" && !open) return;\n    if (typeof animated === \"number\") {\n      const timeout2 = animated;\n      return afterTimeout(timeout2, stopAnimationSync);\n    }\n    const {\n      transitionDuration,\n      animationDuration,\n      transitionDelay,\n      animationDelay\n    } = getComputedStyle(contentElement);\n    const {\n      transitionDuration: transitionDuration2 = \"0\",\n      animationDuration: animationDuration2 = \"0\",\n      transitionDelay: transitionDelay2 = \"0\",\n      animationDelay: animationDelay2 = \"0\"\n    } = otherElement ? getComputedStyle(otherElement) : {};\n    const delay = parseCSSTime(\n      transitionDelay,\n      animationDelay,\n      transitionDelay2,\n      animationDelay2\n    );\n    const duration = parseCSSTime(\n      transitionDuration,\n      animationDuration,\n      transitionDuration2,\n      animationDuration2\n    );\n    const timeout = delay + duration;\n    if (!timeout) {\n      if (transition === \"enter\") {\n        store.setState(\"animated\", false);\n      }\n      stopAnimation();\n      return;\n    }\n    const frameRate = 1e3 / 60;\n    const maxTimeout = Math.max(timeout - frameRate, 0);\n    return afterTimeout(maxTimeout, stopAnimationSync);\n  }, [store, animated, contentElement, otherElement, open, transition]);\n  props = useWrapElement(\n    props,\n    (element) => /* @__PURE__ */ jsx(DialogScopedContextProvider, { value: store, children: element }),\n    [store]\n  );\n  const hidden = isHidden(mounted, props.hidden, alwaysVisible);\n  const styleProp = props.style;\n  const style = useMemo(() => {\n    if (hidden) {\n      return __spreadProps(__spreadValues({}, styleProp), { display: \"none\" });\n    }\n    return styleProp;\n  }, [hidden, styleProp]);\n  props = __spreadProps(__spreadValues({\n    id,\n    \"data-open\": open || void 0,\n    \"data-enter\": transition === \"enter\" || void 0,\n    \"data-leave\": transition === \"leave\" || void 0,\n    hidden\n  }, props), {\n    ref: useMergeRefs(id ? store.setContentElement : null, ref, props.ref),\n    style\n  });\n  return removeUndefinedValues(props);\n});\nvar DisclosureContentImpl = forwardRef(function DisclosureContentImpl2(props) {\n  const htmlProps = useDisclosureContent(props);\n  return createElement(TagName, htmlProps);\n});\nvar DisclosureContent = forwardRef(function DisclosureContent2(_a) {\n  var _b = _a, {\n    unmountOnHide\n  } = _b, props = __objRest(_b, [\n    \"unmountOnHide\"\n  ]);\n  const context = useDisclosureProviderContext();\n  const store = props.store || context;\n  const mounted = useStoreState(\n    store,\n    (state) => !unmountOnHide || (state == null ? void 0 : state.mounted)\n  );\n  if (mounted === false) return null;\n  return /* @__PURE__ */ jsx(DisclosureContentImpl, __spreadValues({}, props));\n});\n\nexport {\n  isHidden,\n  useDisclosureContent,\n  DisclosureContent\n};\n", "\"use client\";\nimport {\n  ComboboxListRoleContext,\n  ComboboxScopedContextProvider,\n  useComboboxContext,\n  useComboboxScopedContext\n} from \"./VEVQD5MH.js\";\nimport {\n  isHidden\n} from \"./VGCJ63VH.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useAttribute,\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/combobox/combobox-list.tsx\nimport { invariant, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nimport { useRef, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nvar useComboboxList = createHook(\n  function useComboboxList2(_a) {\n    var _b = _a, { store, alwaysVisible } = _b, props = __objRest(_b, [\"store\", \"alwaysVisible\"]);\n    const scopedContext = useComboboxScopedContext(true);\n    const context = useComboboxContext();\n    store = store || context;\n    const scopedContextSameStore = !!store && store === scopedContext;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"ComboboxList must receive a `store` prop or be wrapped in a ComboboxProvider component.\"\n    );\n    const ref = useRef(null);\n    const id = useId(props.id);\n    const mounted = store.useState(\"mounted\");\n    const hidden = isHidden(mounted, props.hidden, alwaysVisible);\n    const style = hidden ? __spreadProps(__spreadValues({}, props.style), { display: \"none\" }) : props.style;\n    const multiSelectable = store.useState(\n      (state) => Array.isArray(state.selectedValue)\n    );\n    const role = useAttribute(ref, \"role\", props.role);\n    const isCompositeRole = role === \"listbox\" || role === \"tree\" || role === \"grid\";\n    const ariaMultiSelectable = isCompositeRole ? multiSelectable || void 0 : void 0;\n    const [hasListboxInside, setHasListboxInside] = useState(false);\n    const contentElement = store.useState(\"contentElement\");\n    useSafeLayoutEffect(() => {\n      if (!mounted) return;\n      const element = ref.current;\n      if (!element) return;\n      if (contentElement !== element) return;\n      const callback = () => {\n        setHasListboxInside(!!element.querySelector(\"[role='listbox']\"));\n      };\n      const observer = new MutationObserver(callback);\n      observer.observe(element, {\n        subtree: true,\n        childList: true,\n        attributeFilter: [\"role\"]\n      });\n      callback();\n      return () => observer.disconnect();\n    }, [mounted, contentElement]);\n    if (!hasListboxInside) {\n      props = __spreadValues({\n        role: \"listbox\",\n        \"aria-multiselectable\": ariaMultiSelectable\n      }, props);\n    }\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(ComboboxScopedContextProvider, { value: store, children: /* @__PURE__ */ jsx(ComboboxListRoleContext.Provider, { value: role, children: element }) }),\n      [store, role]\n    );\n    const setContentElement = id && (!scopedContext || !scopedContextSameStore) ? store.setContentElement : null;\n    props = __spreadProps(__spreadValues({\n      id,\n      hidden\n    }, props), {\n      ref: useMergeRefs(setContentElement, ref, props.ref),\n      style\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar ComboboxList = forwardRef(function ComboboxList2(props) {\n  const htmlProps = useComboboxList(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useComboboxList,\n  ComboboxList\n};\n", "/**\n * External dependencies\n */\n// eslint-disable-next-line no-restricted-imports\nimport * as Ariakit from '@ariakit/react';\nimport removeAccents from 'remove-accents';\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useMemo, useDeferredValue } from '@wordpress/element';\nimport {\n\tVisuallyHidden,\n\tIcon,\n\tComposite,\n\tSpinner,\n} from '@wordpress/components';\nimport { search, check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getCurrentValue } from './utils';\nimport type { Filter, NormalizedFilter, View, Option } from '../../types';\nimport useElements from '../../hooks/use-elements';\n\ninterface SearchWidgetProps {\n\tview: View;\n\tfilter: NormalizedFilter & {\n\t\telements: Option[];\n\t};\n\tonChangeView: ( view: View ) => void;\n}\n\nfunction normalizeSearchInput( input = '' ) {\n\treturn removeAccents( input.trim().toLowerCase() );\n}\n\nconst getNewValue = (\n\tfilterDefinition: NormalizedFilter,\n\tcurrentFilter: Filter | undefined,\n\tvalue: any\n) => {\n\tif ( filterDefinition.singleSelection ) {\n\t\treturn value;\n\t}\n\n\tif ( Array.isArray( currentFilter?.value ) ) {\n\t\treturn currentFilter.value.includes( value )\n\t\t\t? currentFilter.value.filter( ( v ) => v !== value )\n\t\t\t: [ ...currentFilter.value, value ];\n\t}\n\n\treturn [ value ];\n};\n\nfunction generateFilterElementCompositeItemId(\n\tprefix: string,\n\tfilterElementValue: string\n) {\n\treturn `${ prefix }-${ filterElementValue }`;\n}\n\nconst MultiSelectionOption = ( { selected }: { selected: boolean } ) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={ clsx(\n\t\t\t\t'dataviews-filters__search-widget-listitem-multi-selection',\n\t\t\t\t{ 'is-selected': selected }\n\t\t\t) }\n\t\t>\n\t\t\t{ selected && <Icon icon={ check } /> }\n\t\t</span>\n\t);\n};\n\nconst SingleSelectionOption = ( { selected }: { selected: boolean } ) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={ clsx(\n\t\t\t\t'dataviews-filters__search-widget-listitem-single-selection',\n\t\t\t\t{ 'is-selected': selected }\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nfunction ListBox( { view, filter, onChangeView }: SearchWidgetProps ) {\n\tconst baseId = useInstanceId( ListBox, 'dataviews-filter-list-box' );\n\n\tconst [ activeCompositeId, setActiveCompositeId ] = useState<\n\t\tstring | null | undefined\n\t>(\n\t\t// When there are one or less operators, the first item is set as active\n\t\t// (by setting the initial `activeId` to `undefined`).\n\t\t// With 2 or more operators, the focus is moved on the operators control\n\t\t// (by setting the initial `activeId` to `null`), meaning that there won't\n\t\t// be an active item initially. Focus is then managed via the\n\t\t// `onFocusVisible` callback.\n\t\tfilter.operators?.length === 1 ? undefined : null\n\t);\n\tconst currentFilter = view.filters?.find(\n\t\t( f ) => f.field === filter.field\n\t);\n\tconst currentValue = getCurrentValue( filter, currentFilter );\n\treturn (\n\t\t<Composite\n\t\t\tvirtualFocus\n\t\t\tfocusLoop\n\t\t\tactiveId={ activeCompositeId }\n\t\t\tsetActiveId={ setActiveCompositeId }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"dataviews-filters__search-widget-listbox\"\n\t\t\taria-label={ sprintf(\n\t\t\t\t/* translators: List of items for a filter. 1: Filter name. e.g.: \"List of: Author\". */\n\t\t\t\t__( 'List of: %1$s' ),\n\t\t\t\tfilter.name\n\t\t\t) }\n\t\t\tonFocusVisible={ () => {\n\t\t\t\t// `onFocusVisible` needs the `Composite` component to be focusable,\n\t\t\t\t// which is implicitly achieved via the `virtualFocus` prop.\n\t\t\t\tif ( ! activeCompositeId && filter.elements.length ) {\n\t\t\t\t\tsetActiveCompositeId(\n\t\t\t\t\t\tgenerateFilterElementCompositeItemId(\n\t\t\t\t\t\t\tbaseId,\n\t\t\t\t\t\t\tfilter.elements[ 0 ].value\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t\trender={ <Composite.Typeahead /> }\n\t\t>\n\t\t\t{ filter.elements.map( ( element ) => (\n\t\t\t\t<Composite.Hover\n\t\t\t\t\tkey={ element.value }\n\t\t\t\t\trender={\n\t\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\t\tid={ generateFilterElementCompositeItemId(\n\t\t\t\t\t\t\t\tbaseId,\n\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\taria-label={ element.label }\n\t\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-filters__search-widget-listitem\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tconst newFilters = currentFilter\n\t\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ).map(\n\t\t\t\t\t\t\t\t\t\t\t\t( _filter ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_filter.field ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter.field\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toperator:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentFilter.operator ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: getNewValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentFilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _filter;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ),\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\t\t\t\t\toperator: filter.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: getNewValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\tfilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentFilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t  ];\n\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\tfilters: newFilters,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ filter.singleSelection && (\n\t\t\t\t\t\t<SingleSelectionOption\n\t\t\t\t\t\t\tselected={ currentValue === element.value }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! filter.singleSelection && (\n\t\t\t\t\t\t<MultiSelectionOption\n\t\t\t\t\t\t\tselected={ currentValue.includes( element.value ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<span>{ element.label }</span>\n\t\t\t\t</Composite.Hover>\n\t\t\t) ) }\n\t\t</Composite>\n\t);\n}\n\nfunction ComboboxList( { view, filter, onChangeView }: SearchWidgetProps ) {\n\tconst [ searchValue, setSearchValue ] = useState( '' );\n\tconst deferredSearchValue = useDeferredValue( searchValue );\n\tconst currentFilter = view.filters?.find(\n\t\t( _filter ) => _filter.field === filter.field\n\t);\n\tconst currentValue = getCurrentValue( filter, currentFilter );\n\tconst matches = useMemo( () => {\n\t\tconst normalizedSearch = normalizeSearchInput( deferredSearchValue );\n\t\treturn filter.elements.filter( ( item ) =>\n\t\t\tnormalizeSearchInput( item.label ).includes( normalizedSearch )\n\t\t);\n\t}, [ filter.elements, deferredSearchValue ] );\n\treturn (\n\t\t<Ariakit.ComboboxProvider\n\t\t\tselectedValue={ currentValue }\n\t\t\tsetSelectedValue={ ( value ) => {\n\t\t\t\tconst newFilters = currentFilter\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t...( view.filters ?? [] ).map( ( _filter ) => {\n\t\t\t\t\t\t\t\tif ( _filter.field === filter.field ) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\t\t\t\toperator:\n\t\t\t\t\t\t\t\t\t\t\tcurrentFilter.operator ||\n\t\t\t\t\t\t\t\t\t\t\tfilter.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn _filter;\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t  ]\n\t\t\t\t\t: [\n\t\t\t\t\t\t\t...( view.filters ?? [] ),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\toperator: filter.operators[ 0 ],\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  ];\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tfilters: newFilters,\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tsetValue={ setSearchValue }\n\t\t>\n\t\t\t<div className=\"dataviews-filters__search-widget-filter-combobox__wrapper\">\n\t\t\t\t<Ariakit.ComboboxLabel\n\t\t\t\t\trender={\n\t\t\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t\t\t{ __( 'Search items' ) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Search items' ) }\n\t\t\t\t</Ariakit.ComboboxLabel>\n\t\t\t\t<Ariakit.Combobox\n\t\t\t\t\tautoSelect=\"always\"\n\t\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t\t\tclassName=\"dataviews-filters__search-widget-filter-combobox__input\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"dataviews-filters__search-widget-filter-combobox__icon\">\n\t\t\t\t\t<Icon icon={ search } />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Ariakit.ComboboxList\n\t\t\t\tclassName=\"dataviews-filters__search-widget-filter-combobox-list\"\n\t\t\t\talwaysVisible\n\t\t\t>\n\t\t\t\t{ matches.map( ( element ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Ariakit.ComboboxItem\n\t\t\t\t\t\t\tresetValueOnSelect={ false }\n\t\t\t\t\t\t\tkey={ element.value }\n\t\t\t\t\t\t\tvalue={ element.value }\n\t\t\t\t\t\t\tclassName=\"dataviews-filters__search-widget-listitem\"\n\t\t\t\t\t\t\thideOnClick={ false }\n\t\t\t\t\t\t\tsetValueOnClick={ false }\n\t\t\t\t\t\t\tfocusOnHover\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ filter.singleSelection && (\n\t\t\t\t\t\t\t\t<SingleSelectionOption\n\t\t\t\t\t\t\t\t\tselected={ currentValue === element.value }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ! filter.singleSelection && (\n\t\t\t\t\t\t\t\t<MultiSelectionOption\n\t\t\t\t\t\t\t\t\tselected={ currentValue.includes(\n\t\t\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Ariakit.ComboboxItemValue\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-filters__search-widget-filter-combobox-item-value\"\n\t\t\t\t\t\t\t\t\tvalue={ element.label }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ !! element.description && (\n\t\t\t\t\t\t\t\t\t<span className=\"dataviews-filters__search-widget-listitem-description\">\n\t\t\t\t\t\t\t\t\t\t{ element.description }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Ariakit.ComboboxItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t\t{ ! matches.length && <p>{ __( 'No results found' ) }</p> }\n\t\t\t</Ariakit.ComboboxList>\n\t\t</Ariakit.ComboboxProvider>\n\t);\n}\n\nexport default function SearchWidget( props: SearchWidgetProps ) {\n\tconst { elements, isLoading } = useElements( {\n\t\telements: props.filter.elements,\n\t\tgetElements: props.filter.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<div className=\"dataviews-filters__search-widget-no-elements\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn (\n\t\t\t<div className=\"dataviews-filters__search-widget-no-elements\">\n\t\t\t\t{ __( 'No elements found' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst Widget = elements.length > 10 ? ComboboxList : ListBox;\n\treturn <Widget { ...props } filter={ { ...props.filter, elements } } />;\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedFilter, Filter } from '../../types';\n\nconst EMPTY_ARRAY: [] = [];\n\nexport const getCurrentValue = (\n\tfilterDefinition: NormalizedFilter,\n\tcurrentFilter?: Filter\n) => {\n\tif ( filterDefinition.singleSelection ) {\n\t\treturn currentFilter?.value;\n\t}\n\n\tif ( Array.isArray( currentFilter?.value ) ) {\n\t\treturn currentFilter.value;\n\t}\n\n\tif ( ! Array.isArray( currentFilter?.value ) && !! currentFilter?.value ) {\n\t\treturn [ currentFilter.value ];\n\t}\n\n\treturn EMPTY_ARRAY;\n};\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { Option } from '../types';\n\nconst EMPTY_ARRAY: Option[] = [];\n\nexport default function useElements( {\n\telements,\n\tgetElements,\n}: {\n\telements?: Option[];\n\tgetElements?: () => Promise< Option[] >;\n} ) {\n\tconst staticElements =\n\t\tArray.isArray( elements ) && elements.length > 0\n\t\t\t? elements\n\t\t\t: EMPTY_ARRAY;\n\tconst [ records, setRecords ] = useState< Option[] >( staticElements );\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\n\tuseEffect( () => {\n\t\tif ( ! getElements ) {\n\t\t\tsetRecords( staticElements );\n\t\t\treturn;\n\t\t}\n\n\t\tlet cancelled = false;\n\t\tsetIsLoading( true );\n\t\tgetElements()\n\t\t\t.then( ( fetchedElements ) => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tconst dynamicElements =\n\t\t\t\t\t\tArray.isArray( fetchedElements ) &&\n\t\t\t\t\t\tfetchedElements.length > 0\n\t\t\t\t\t\t\t? fetchedElements\n\t\t\t\t\t\t\t: staticElements;\n\t\t\t\t\tsetRecords( dynamicElements );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tsetRecords( staticElements );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.finally( () => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tsetIsLoading( false );\n\t\t\t\t}\n\t\t\t} );\n\n\t\treturn () => {\n\t\t\tcancelled = true;\n\t\t};\n\t}, [ getElements, staticElements ] );\n\n\treturn {\n\t\telements: records,\n\t\tisLoading,\n\t};\n}\n", "/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { useEvent } from '@wordpress/compose';\nimport { useMemo } from '@wordpress/element';\nimport { Flex } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { View, NormalizedFilter, NormalizedField } from '../../types';\nimport { getCurrentValue } from './utils';\n\ninterface UserInputWidgetProps {\n\tview: View;\n\tfilter: NormalizedFilter;\n\tonChangeView: ( view: View ) => void;\n\tfields: NormalizedField< any >[];\n}\n\nexport default function InputWidget( {\n\tfilter,\n\tview,\n\tonChangeView,\n\tfields,\n}: UserInputWidgetProps ) {\n\tconst currentFilter = view.filters?.find(\n\t\t( f ) => f.field === filter.field\n\t);\n\tconst currentValue = getCurrentValue( filter, currentFilter );\n\n\t/*\n\t * We are reusing the field.Edit component for filters. By doing so,\n\t * we get for free a filter control specific to the field type\n\t * and other aspects of the field API (Edit control configuration, etc.).\n\t *\n\t * This approach comes with an issue: the field.Edit controls work with getValue\n\t * and setValue methods, which take an item (Item) as parameter. But, at this point,\n\t * we don't have an item and we don't know how to create one, either.\n\t *\n\t * So, what we do is to prepare the data and the relevant field configuration\n\t * as if Item was a plain object whose keys are the field ids:\n\t *\n\t * {\n\t *   [ fieldOne.id ]: value,\n\t *   [ fieldTwo.id ]: value,\n\t * }\n\t *\n\t */\n\tconst field = useMemo( () => {\n\t\tconst currentField = fields.find( ( f ) => f.id === filter.field );\n\t\tif ( currentField ) {\n\t\t\treturn {\n\t\t\t\t...currentField,\n\t\t\t\t// Deactivate validation for filters.\n\t\t\t\tisValid: {\n\t\t\t\t\trequired: false,\n\t\t\t\t\tcustom: () => null,\n\t\t\t\t},\n\t\t\t\t// Configure getValue/setValue as if Item was a plain object.\n\t\t\t\tgetValue: ( { item }: { item: any } ) =>\n\t\t\t\t\titem[ currentField.id ],\n\t\t\t\tsetValue: ( { value }: { value: any } ) => ( {\n\t\t\t\t\t[ currentField.id ]: value,\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\t\treturn currentField;\n\t}, [ fields, filter.field ] );\n\n\tconst data = useMemo( () => {\n\t\treturn ( view.filters ?? [] ).reduce(\n\t\t\t( acc, activeFilter ) => {\n\t\t\t\t// We can now assume the field is stored as a Item prop.\n\t\t\t\tacc[ activeFilter.field ] = activeFilter.value;\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{} as Record< string, any >\n\t\t);\n\t}, [ view.filters ] );\n\n\tconst handleChange = useEvent( ( updatedData: Record< string, any > ) => {\n\t\tif ( ! field || ! currentFilter ) {\n\t\t\treturn;\n\t\t}\n\t\tconst nextValue = field.getValue( { item: updatedData } );\n\t\tif ( fastDeepEqual( nextValue, currentValue ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tonChangeView( {\n\t\t\t...view,\n\t\t\tfilters: ( view.filters ?? [] ).map( ( _filter ) =>\n\t\t\t\t_filter.field === filter.field\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\toperator:\n\t\t\t\t\t\t\t\tcurrentFilter.operator || filter.operators[ 0 ],\n\t\t\t\t\t\t\t// Consider empty strings as undefined:\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// - undefined as value means the filter is unset: the filter widget displays no value and the search returns all records\n\t\t\t\t\t\t\t// - empty string as value means \"search empty string\": returns only the records that have an empty string as value\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// In practice, this means the filter will not be able to find an empty string as the value.\n\t\t\t\t\t\t\tvalue: nextValue === '' ? undefined : nextValue,\n\t\t\t\t\t  }\n\t\t\t\t\t: _filter\n\t\t\t),\n\t\t} );\n\t} );\n\n\tif ( ! field || ! field.Edit || ! currentFilter ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Flex\n\t\t\tclassName=\"dataviews-filters__user-input-widget\"\n\t\t\tgap={ 2.5 }\n\t\t\tdirection=\"column\"\n\t\t>\n\t\t\t<field.Edit\n\t\t\t\thideLabelFromVision\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\toperator={ currentFilter.operator }\n\t\t\t\tonChange={ handleChange }\n\t\t\t/>\n\t\t</Flex>\n\t);\n}\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n", "import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n", "import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n", "let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n", "import { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfISOWeek} function options.\n */\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeekYear} function options.\n */\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n", "import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n", "import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n", "import { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInDay } from \"./constants.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link differenceInCalendarDays} function options.\n */\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - The options object\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n\n  const laterTimestamp =\n    +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp =\n    +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\n\n/**\n * The {@link startOfISOWeekYear} function options.\n */\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The {@link addYears} function options.\n */\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n * @param options - The options\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount, options) {\n  return addMonths(date, amount * 12, options);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n", "/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n", "import { isDate } from \"./isDate.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertible into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  return !((!isDate(date) && typeof date !== \"number\") || isNaN(+toDate(date)));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfYear} function options.\n */\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n", "const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n", "export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n", "/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n", "export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n", "export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\nimport { startOfYear } from \"./startOfYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDayOfYear} function options.\n */\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeek} function options.\n */\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getWeekYear } from \"./getWeekYear.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(options?.in || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\nexport function getWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n", "export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n", "import { addLeadingZeros } from \"../addLeadingZeros.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n", "import { getDayOfYear } from \"../../getDayOfYear.js\";\nimport { getISOWeek } from \"../../getISOWeek.js\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.js\";\nimport { getWeek } from \"../../getWeek.js\";\nimport { getWeekYear } from \"../../getWeekYear.js\";\n\nimport { addLeadingZeros } from \"../addLeadingZeros.js\";\nimport { lightFormatters } from \"./lightFormatters.js\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n", "const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n", "const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n", "import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { formatters } from \"./_lib/format/formatters.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { isValid } from \"./isValid.js\";\nimport { toDate } from \"./toDate.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date, options?.in);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n", "import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link subDays} function options.\n */\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount, options) {\n  return addDays(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The subMonths function options.\n */\n\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function subMonths(date, amount, options) {\n  return addMonths(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subMonths;\n", "import { addYears } from \"./addYears.js\";\n\n/**\n * The {@link subYears} function options.\n */\n\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the years subtracted\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\nexport function subYears(date, amount, options) {\n  return addYears(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subYears;\n", "/**\n * External dependencies\n */\nimport { isValid as isValidDate } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { getDate } from '@wordpress/date';\n\nexport default function parseDateTime( dateTimeString?: string ): Date | null {\n\tif ( ! dateTimeString ) {\n\t\treturn null;\n\t}\n\tconst parsed = getDate( dateTimeString );\n\treturn parsed && isValidDate( parsed ) ? parsed : null;\n}\n", "/**\n * External dependencies\n */\nimport type { Ref } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis as componentsPrivateApis,\n\tButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport type { NormalizedFilter, View } from '../../types';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\ninterface AddFilterProps {\n\tfilters: NormalizedFilter[];\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n\tsetOpenedFilter: ( filter: string | null ) => void;\n}\n\nexport function AddFilterMenu( {\n\tfilters,\n\tview,\n\tonChangeView,\n\tsetOpenedFilter,\n\ttriggerProps,\n}: AddFilterProps & {\n\ttriggerProps: React.ComponentProps< typeof Menu.TriggerButton >;\n} ) {\n\tconst inactiveFilters = filters.filter( ( filter ) => ! filter.isVisible );\n\treturn (\n\t\t<Menu>\n\t\t\t<Menu.TriggerButton { ...triggerProps } />\n\t\t\t<Menu.Popover>\n\t\t\t\t{ inactiveFilters.map( ( filter ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\tkey={ filter.field }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetOpenedFilter( filter.field );\n\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\tfilters: [\n\t\t\t\t\t\t\t\t\t\t...( view.filters || [] ),\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\t\t\t\tvalue: undefined,\n\t\t\t\t\t\t\t\t\t\t\toperator: filter.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Menu.ItemLabel>{ filter.name }</Menu.ItemLabel>\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n}\n\nfunction AddFilter(\n\t{ filters, view, onChangeView, setOpenedFilter }: AddFilterProps,\n\tref: Ref< HTMLButtonElement >\n) {\n\tif ( ! filters.length || filters.every( ( { isPrimary } ) => isPrimary ) ) {\n\t\treturn null;\n\t}\n\tconst inactiveFilters = filters.filter( ( filter ) => ! filter.isVisible );\n\treturn (\n\t\t<AddFilterMenu\n\t\t\ttriggerProps={ {\n\t\t\t\trender: (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tclassName=\"dataviews-filters-button\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tdisabled={ ! inactiveFilters.length }\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tchildren: __( 'Add filter' ),\n\t\t\t} }\n\t\t\t{ ...{ filters, view, onChangeView, setOpenedFilter } }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( AddFilter );\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedFilter, View } from '../../types';\n\ninterface ResetFilterProps {\n\tfilters: NormalizedFilter[];\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n}\n\nexport default function ResetFilter( {\n\tfilters,\n\tview,\n\tonChangeView,\n}: ResetFilterProps ) {\n\tconst isPrimary = ( field: string ) =>\n\t\tfilters.some(\n\t\t\t( _filter ) => _filter.field === field && _filter.isPrimary\n\t\t);\n\tconst isDisabled =\n\t\t! view.search &&\n\t\t! view.filters?.some(\n\t\t\t( _filter ) =>\n\t\t\t\t! _filter.isLocked &&\n\t\t\t\t( _filter.value !== undefined || ! isPrimary( _filter.field ) )\n\t\t);\n\treturn (\n\t\t<Button\n\t\t\tdisabled={ isDisabled }\n\t\t\taccessibleWhenDisabled\n\t\t\tsize=\"compact\"\n\t\t\tvariant=\"tertiary\"\n\t\t\tclassName=\"dataviews-filters__reset-button\"\n\t\t\tonClick={ () => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tsearch: '',\n\t\t\t\t\tfilters:\n\t\t\t\t\t\tview.filters?.filter( ( f ) => !! f.isLocked ) || [],\n\t\t\t\t} );\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Reset' ) }\n\t\t</Button>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ALL_OPERATORS, SINGLE_SELECTION_OPERATORS } from '../../constants';\nimport type { NormalizedFilter, NormalizedField, View } from '../../types';\n\nfunction useFilters( fields: NormalizedField< any >[], view: View ) {\n\treturn useMemo( () => {\n\t\tconst filters: NormalizedFilter[] = [];\n\t\tfields.forEach( ( field ) => {\n\t\t\tif (\n\t\t\t\tfield.filterBy === false ||\n\t\t\t\t( ! field.hasElements && ! field.Edit )\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst operators = field.filterBy.operators;\n\t\t\tconst isPrimary = !! field.filterBy?.isPrimary;\n\t\t\tconst isLocked =\n\t\t\t\tview.filters?.some(\n\t\t\t\t\t( f ) => f.field === field.id && !! f.isLocked\n\t\t\t\t) ?? false;\n\t\t\tfilters.push( {\n\t\t\t\tfield: field.id,\n\t\t\t\tname: field.label,\n\t\t\t\telements: field.elements,\n\t\t\t\tgetElements: field.getElements,\n\t\t\t\thasElements: field.hasElements,\n\t\t\t\tsingleSelection: operators.some( ( op ) =>\n\t\t\t\t\tSINGLE_SELECTION_OPERATORS.includes( op )\n\t\t\t\t),\n\t\t\t\toperators,\n\t\t\t\tisVisible:\n\t\t\t\t\tisLocked ||\n\t\t\t\t\tisPrimary ||\n\t\t\t\t\t!! view.filters?.some(\n\t\t\t\t\t\t( f ) =>\n\t\t\t\t\t\t\tf.field === field.id &&\n\t\t\t\t\t\t\tALL_OPERATORS.includes( f.operator )\n\t\t\t\t\t),\n\t\t\t\tisPrimary,\n\t\t\t\tisLocked,\n\t\t\t} );\n\t\t} );\n\n\t\t// Sort filters by:\n\t\t// - locked filters go first\n\t\t// - primary filters go next\n\t\t// - then, sort by name\n\t\tfilters.sort( ( a, b ) => {\n\t\t\tif ( a.isLocked && ! b.isLocked ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( ! a.isLocked && b.isLocked ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ( a.isPrimary && ! b.isPrimary ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( ! a.isPrimary && b.isPrimary ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn a.name.localeCompare( b.name );\n\t\t} );\n\t\treturn filters;\n\t}, [ fields, view ] );\n}\n\nexport default useFilters;\n", "/**\n * WordPress dependencies\n */\nimport { useContext, useRef, useCallback, useEffect } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\nimport { funnel } from '@wordpress/icons';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { AddFilterMenu } from './add-filter';\nimport DataViewsContext from '../dataviews-context';\nimport type { View } from '../../types';\n\nfunction FiltersToggle() {\n\tconst {\n\t\tfilters,\n\t\tview,\n\t\tonChangeView,\n\t\tsetOpenedFilter,\n\t\tisShowingFilter,\n\t\tsetIsShowingFilter,\n\t} = useContext( DataViewsContext );\n\n\tconst buttonRef = useRef< HTMLButtonElement >( null );\n\tconst onChangeViewWithFilterVisibility = useCallback(\n\t\t( _view: View ) => {\n\t\t\tonChangeView( _view );\n\t\t\tsetIsShowingFilter( true );\n\t\t},\n\t\t[ onChangeView, setIsShowingFilter ]\n\t);\n\tconst visibleFilters = filters.filter( ( filter ) => filter.isVisible );\n\n\tconst hasVisibleFilters = !! visibleFilters.length;\n\tif ( filters.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst addFilterButtonProps = {\n\t\tlabel: __( 'Add filter' ),\n\t\t'aria-expanded': false,\n\t\tisPressed: false,\n\t};\n\tconst toggleFiltersButtonProps = {\n\t\tlabel: _x( 'Filter', 'verb' ),\n\t\t'aria-expanded': isShowingFilter,\n\t\tisPressed: isShowingFilter,\n\t\tonClick: () => {\n\t\t\tif ( ! isShowingFilter ) {\n\t\t\t\tsetOpenedFilter( null );\n\t\t\t}\n\t\t\tsetIsShowingFilter( ! isShowingFilter );\n\t\t},\n\t};\n\tconst buttonComponent = (\n\t\t<Button\n\t\t\tref={ buttonRef }\n\t\t\tclassName=\"dataviews-filters__visibility-toggle\"\n\t\t\tsize=\"compact\"\n\t\t\ticon={ funnel }\n\t\t\t{ ...( hasVisibleFilters\n\t\t\t\t? toggleFiltersButtonProps\n\t\t\t\t: addFilterButtonProps ) }\n\t\t/>\n\t);\n\treturn (\n\t\t<div className=\"dataviews-filters__container-visibility-toggle\">\n\t\t\t{ ! hasVisibleFilters ? (\n\t\t\t\t<AddFilterMenu\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tview={ view }\n\t\t\t\t\tonChangeView={ onChangeViewWithFilterVisibility }\n\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\ttriggerProps={ { render: buttonComponent } }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<FilterVisibilityToggle\n\t\t\t\t\tbuttonRef={ buttonRef }\n\t\t\t\t\tfiltersCount={ view.filters?.length }\n\t\t\t\t>\n\t\t\t\t\t{ buttonComponent }\n\t\t\t\t</FilterVisibilityToggle>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction FilterVisibilityToggle( {\n\tbuttonRef,\n\tfiltersCount,\n\tchildren,\n}: {\n\tbuttonRef: React.RefObject< HTMLButtonElement >;\n\tfiltersCount?: number;\n\tchildren: React.ReactNode;\n} ) {\n\t// Focus the `add filter` button when unmounts.\n\tuseEffect(\n\t\t() => () => {\n\t\t\tbuttonRef.current?.focus();\n\t\t},\n\t\t[ buttonRef ]\n\t);\n\treturn (\n\t\t<>\n\t\t\t{ children }\n\t\t\t{ !! filtersCount && (\n\t\t\t\t<span className=\"dataviews-filters-toggle__count\">\n\t\t\t\t\t{ filtersCount }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default FiltersToggle;\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport Filters from './filters';\n\nfunction FiltersToggled( props: { className?: string } ) {\n\tconst { isShowingFilter } = useContext( DataViewsContext );\n\tif ( ! isShowingFilter ) {\n\t\treturn null;\n\t}\n\treturn <Filters { ...props } />;\n}\n\nexport default FiltersToggled;\n", "/**\n * External dependencies\n */\nimport type { ComponentType } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport { VIEW_LAYOUTS } from '../../dataviews-layouts';\nimport type { ViewBaseProps } from '../../types';\n\ntype DataViewsLayoutProps = {\n\tclassName?: string;\n};\n\nexport default function DataViewsLayout( { className }: DataViewsLayoutProps ) {\n\tconst {\n\t\tactions = [],\n\t\tdata,\n\t\tfields,\n\t\tgetItemId,\n\t\tgetItemLevel,\n\t\tisLoading,\n\t\tview,\n\t\tonChangeView,\n\t\tselection,\n\t\tonChangeSelection,\n\t\tsetOpenedFilter,\n\t\tonClickItem,\n\t\tisItemClickable,\n\t\trenderItemLink,\n\t\tdefaultLayouts,\n\t\tempty = <p>{ __( 'No results' ) }</p>,\n\t} = useContext( DataViewsContext );\n\n\tconst ViewComponent = VIEW_LAYOUTS.find(\n\t\t( v ) => v.type === view.type && defaultLayouts[ v.type ]\n\t)?.component as ComponentType< ViewBaseProps< any > >;\n\n\treturn (\n\t\t<ViewComponent\n\t\t\tclassName={ className }\n\t\t\tactions={ actions }\n\t\t\tdata={ data }\n\t\t\tfields={ fields }\n\t\t\tgetItemId={ getItemId }\n\t\t\tgetItemLevel={ getItemLevel }\n\t\t\tisLoading={ isLoading }\n\t\t\tonChangeView={ onChangeView }\n\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\tselection={ selection }\n\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\tonClickItem={ onClickItem }\n\t\t\trenderItemLink={ renderItemLink }\n\t\t\tisItemClickable={ isItemClickable }\n\t\t\tview={ view }\n\t\t\tempty={ empty }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef, memo, useContext } from '@wordpress/element';\nimport { SearchControl } from '@wordpress/components';\nimport { useDebouncedInput } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\n\ninterface SearchProps {\n\tlabel?: string;\n}\n\nconst DataViewsSearch = memo( function Search( { label }: SearchProps ) {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput(\n\t\tview.search\n\t);\n\tuseEffect( () => {\n\t\tsetSearch( view.search ?? '' );\n\t}, [ view.search, setSearch ] );\n\tconst onChangeViewRef = useRef( onChangeView );\n\tconst viewRef = useRef( view );\n\tuseEffect( () => {\n\t\tonChangeViewRef.current = onChangeView;\n\t\tviewRef.current = view;\n\t}, [ onChangeView, view ] );\n\tuseEffect( () => {\n\t\tif ( debouncedSearch !== viewRef.current?.search ) {\n\t\t\tonChangeViewRef.current( {\n\t\t\t\t...viewRef.current,\n\t\t\t\tpage: 1,\n\t\t\t\tsearch: debouncedSearch,\n\t\t\t} );\n\t\t}\n\t}, [ debouncedSearch ] );\n\tconst searchLabel = label || __( 'Search' );\n\treturn (\n\t\t<SearchControl\n\t\t\tclassName=\"dataviews-search\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tonChange={ setSearch }\n\t\t\tvalue={ search }\n\t\t\tlabel={ searchLabel }\n\t\t\tplaceholder={ searchLabel }\n\t\t\tsize=\"compact\"\n\t\t/>\n\t);\n} );\n\nexport default DataViewsSearch;\n", "/**\n * External dependencies\n */\nimport type { ChangeEvent } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\tDropdown,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\tSelectControl,\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\t__experimentalText as Text,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { memo, useContext, useMemo } from '@wordpress/element';\nimport { cog } from '@wordpress/icons';\nimport warning from '@wordpress/warning';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { SORTING_DIRECTIONS, sortIcons, sortLabels } from '../../constants';\nimport { VIEW_LAYOUTS } from '../../dataviews-layouts';\nimport type { View } from '../../types';\nimport DataViewsContext from '../dataviews-context';\nimport InfiniteScrollToggle from './infinite-scroll-toggle';\nimport { PropertiesSection } from './properties-section';\nimport { unlock } from '../../lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nconst DATAVIEWS_CONFIG_POPOVER_PROPS = {\n\tclassName: 'dataviews-config__popover',\n\tplacement: 'bottom-end',\n\toffset: 9,\n};\n\nexport function ViewTypeMenu() {\n\tconst { view, onChangeView, defaultLayouts } =\n\t\tuseContext( DataViewsContext );\n\tconst availableLayouts = Object.keys( defaultLayouts );\n\tif ( availableLayouts.length <= 1 ) {\n\t\treturn null;\n\t}\n\tconst activeView = VIEW_LAYOUTS.find( ( v ) => view.type === v.type );\n\treturn (\n\t\t<Menu>\n\t\t\t<Menu.TriggerButton\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ticon={ activeView?.icon }\n\t\t\t\t\t\tlabel={ __( 'Layout' ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Menu.Popover>\n\t\t\t\t{ availableLayouts.map( ( layout ) => {\n\t\t\t\t\tconst config = VIEW_LAYOUTS.find(\n\t\t\t\t\t\t( v ) => v.type === layout\n\t\t\t\t\t);\n\t\t\t\t\tif ( ! config ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu.RadioItem\n\t\t\t\t\t\t\tkey={ layout }\n\t\t\t\t\t\t\tvalue={ layout }\n\t\t\t\t\t\t\tname=\"view-actions-available-view\"\n\t\t\t\t\t\t\tchecked={ layout === view.type }\n\t\t\t\t\t\t\thideOnClick\n\t\t\t\t\t\t\tonChange={ (\n\t\t\t\t\t\t\t\te: ChangeEvent< HTMLInputElement >\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tswitch ( e.target.value ) {\n\t\t\t\t\t\t\t\t\tcase 'list':\n\t\t\t\t\t\t\t\t\tcase 'grid':\n\t\t\t\t\t\t\t\t\tcase 'table':\n\t\t\t\t\t\t\t\t\tcase 'pickerGrid':\n\t\t\t\t\t\t\t\t\tcase 'pickerTable':\n\t\t\t\t\t\t\t\t\t\tconst viewWithoutLayout = { ...view };\n\t\t\t\t\t\t\t\t\t\tif ( 'layout' in viewWithoutLayout ) {\n\t\t\t\t\t\t\t\t\t\t\tdelete viewWithoutLayout.layout;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn onChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...viewWithoutLayout,\n\t\t\t\t\t\t\t\t\t\t\ttype: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t...defaultLayouts[ e.target.value ],\n\t\t\t\t\t\t\t\t\t\t} as View );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twarning( 'Invalid dataview' );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Menu.ItemLabel>{ config.label }</Menu.ItemLabel>\n\t\t\t\t\t\t</Menu.RadioItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n}\n\nfunction SortFieldControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\tconst orderOptions = useMemo( () => {\n\t\tconst sortableFields = fields.filter(\n\t\t\t( field ) => field.enableSorting !== false\n\t\t);\n\t\treturn sortableFields.map( ( field ) => {\n\t\t\treturn {\n\t\t\t\tlabel: field.label,\n\t\t\t\tvalue: field.id,\n\t\t\t};\n\t\t} );\n\t}, [ fields ] );\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Sort by' ) }\n\t\t\tvalue={ view.sort?.field }\n\t\t\toptions={ orderOptions }\n\t\t\tonChange={ ( value: string ) => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tsort: {\n\t\t\t\t\t\tdirection: view?.sort?.direction || 'desc',\n\t\t\t\t\t\tfield: value,\n\t\t\t\t\t},\n\t\t\t\t\tshowLevels: false,\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction SortDirectionControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\n\tconst sortableFields = fields.filter(\n\t\t( field ) => field.enableSorting !== false\n\t);\n\tif ( sortableFields.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tlet value = view.sort?.direction;\n\tif ( ! value && view.sort?.field ) {\n\t\tvalue = 'desc';\n\t}\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\tclassName=\"dataviews-view-config__sort-direction\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Order' ) }\n\t\t\tvalue={ value }\n\t\t\tonChange={ ( newDirection ) => {\n\t\t\t\tif ( newDirection === 'asc' || newDirection === 'desc' ) {\n\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t...view,\n\t\t\t\t\t\tsort: {\n\t\t\t\t\t\t\tdirection: newDirection,\n\t\t\t\t\t\t\tfield:\n\t\t\t\t\t\t\t\tview.sort?.field ||\n\t\t\t\t\t\t\t\t// If there is no field assigned as the sorting field assign the first sortable field.\n\t\t\t\t\t\t\t\tfields.find(\n\t\t\t\t\t\t\t\t\t( field ) => field.enableSorting !== false\n\t\t\t\t\t\t\t\t)?.id ||\n\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshowLevels: false,\n\t\t\t\t\t} );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twarning( 'Invalid direction' );\n\t\t\t} }\n\t\t>\n\t\t\t{ SORTING_DIRECTIONS.map( ( direction ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\tkey={ direction }\n\t\t\t\t\t\tvalue={ direction }\n\t\t\t\t\t\ticon={ sortIcons[ direction ] }\n\t\t\t\t\t\tlabel={ sortLabels[ direction ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nfunction ItemsPerPageControl() {\n\tconst { view, config, onChangeView } = useContext( DataViewsContext );\n\tconst { infiniteScrollEnabled } = view;\n\tif (\n\t\t! config ||\n\t\t! config.perPageSizes ||\n\t\tconfig.perPageSizes.length < 2 ||\n\t\tconfig.perPageSizes.length > 6 ||\n\t\tinfiniteScrollEnabled\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Items per page' ) }\n\t\t\tvalue={ view.perPage || 10 }\n\t\t\tdisabled={ ! view?.sort?.field }\n\t\t\tonChange={ ( newItemsPerPage ) => {\n\t\t\t\tconst newItemsPerPageNumber =\n\t\t\t\t\ttypeof newItemsPerPage === 'number' ||\n\t\t\t\t\tnewItemsPerPage === undefined\n\t\t\t\t\t\t? newItemsPerPage\n\t\t\t\t\t\t: parseInt( newItemsPerPage, 10 );\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tperPage: newItemsPerPageNumber,\n\t\t\t\t\tpage: 1,\n\t\t\t\t} );\n\t\t\t} }\n\t\t>\n\t\t\t{ config.perPageSizes.map( ( value ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tkey={ value }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tlabel={ value.toString() }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nfunction SettingsSection( {\n\ttitle,\n\tdescription,\n\tchildren,\n}: {\n\ttitle: string;\n\tdescription?: string;\n\tchildren: React.ReactNode;\n} ) {\n\treturn (\n\t\t<Grid columns={ 12 } className=\"dataviews-settings-section\" gap={ 4 }>\n\t\t\t<div className=\"dataviews-settings-section__sidebar\">\n\t\t\t\t<Heading\n\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\tclassName=\"dataviews-settings-section__title\"\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t\t{ description && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tvariant=\"muted\"\n\t\t\t\t\t\tclassName=\"dataviews-settings-section__description\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ description }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<Grid\n\t\t\t\tcolumns={ 8 }\n\t\t\t\tgap={ 4 }\n\t\t\t\tclassName=\"dataviews-settings-section__content\"\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport function DataviewsViewConfigDropdown() {\n\tconst { view } = useContext( DataViewsContext );\n\tconst popoverId = useInstanceId(\n\t\t_DataViewsViewConfig,\n\t\t'dataviews-view-config-dropdown'\n\t);\n\tconst activeLayout = VIEW_LAYOUTS.find(\n\t\t( layout ) => layout.type === view.type\n\t);\n\treturn (\n\t\t<Dropdown\n\t\t\texpandOnMobile\n\t\t\tpopoverProps={ {\n\t\t\t\t...DATAVIEWS_CONFIG_POPOVER_PROPS,\n\t\t\t\tid: popoverId,\n\t\t\t} }\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ticon={ cog }\n\t\t\t\t\t\tlabel={ _x( 'View options', 'View is used as a noun' ) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\taria-expanded={ isOpen ? 'true' : 'false' }\n\t\t\t\t\t\taria-controls={ popoverId }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trenderContent={ () => (\n\t\t\t\t<DropdownContentWrapper\n\t\t\t\t\tpaddingSize=\"medium\"\n\t\t\t\t\tclassName=\"dataviews-config__popover-content-wrapper\"\n\t\t\t\t>\n\t\t\t\t\t<VStack className=\"dataviews-view-config\" spacing={ 6 }>\n\t\t\t\t\t\t<SettingsSection title={ __( 'Appearance' ) }>\n\t\t\t\t\t\t\t<HStack expanded className=\"is-divided-in-two\">\n\t\t\t\t\t\t\t\t<SortFieldControl />\n\t\t\t\t\t\t\t\t<SortDirectionControl />\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t{ !! activeLayout?.viewConfigOptions && (\n\t\t\t\t\t\t\t\t<activeLayout.viewConfigOptions />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<InfiniteScrollToggle />\n\t\t\t\t\t\t\t<ItemsPerPageControl />\n\t\t\t\t\t\t\t<PropertiesSection />\n\t\t\t\t\t\t</SettingsSection>\n\t\t\t\t\t</VStack>\n\t\t\t\t</DropdownContentWrapper>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nfunction _DataViewsViewConfig() {\n\treturn (\n\t\t<>\n\t\t\t<ViewTypeMenu />\n\t\t\t<DataviewsViewConfigDropdown />\n\t\t</>\n\t);\n}\n\nconst DataViewsViewConfig = memo( _DataViewsViewConfig );\n\nexport default DataViewsViewConfig;\n", "/**\n * WordPress dependencies\n */\nimport { ToggleControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\n\nexport default function InfiniteScrollToggle() {\n\tconst context = useContext( DataViewsContext );\n\tconst { view, onChangeView } = context;\n\tconst infiniteScrollEnabled = view.infiniteScrollEnabled ?? false;\n\n\t// Only render the toggle if an infinite scroll handler is available\n\tif ( ! context.hasInfiniteScrollHandler ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ToggleControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Enable infinite scroll' ) }\n\t\t\thelp={ __(\n\t\t\t\t'Automatically load more content as you scroll, instead of showing pagination links.'\n\t\t\t) }\n\t\t\tchecked={ infiniteScrollEnabled }\n\t\t\tonChange={ ( newValue ) => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tinfiniteScrollEnabled: newValue,\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\n// Email validation regex based on HTML5 spec\n// https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address\nconst emailRegex =\n\t/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! emailRegex.test( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be a valid email address.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'email',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type { DataViewRenderFieldProps } from '../../types';\nimport useElements from '../../hooks/use-elements';\n\nexport default function RenderFromElements< Item >( {\n\titem,\n\tfield,\n}: DataViewRenderFieldProps< Item > ) {\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tconst value = field.getValue( { item } );\n\tif ( isLoading ) {\n\t\treturn value;\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn value;\n\t}\n\n\treturn (\n\t\telements?.find( ( element ) => element.value === value )?.label ||\n\t\tfield.getValue( { item } )\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_BETWEEN,\n} from '../constants';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\treturn direction === 'asc' ? a - b : b - a;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! Number.isInteger( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be an integer.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'integer',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t\tvalidOperators: [\n\t\t\t// Single-selection\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t\t// Multiple-selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_BETWEEN,\n} from '../constants';\nimport RenderFromElements from './utils/render-from-elements';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\treturn direction === 'asc' ? a - b : b - a;\n}\n\nfunction isEmpty( value: unknown ): value is '' | undefined | null {\n\treturn value === '' || value === undefined || value === null;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif ( ! isEmpty( value ) && ! Number.isFinite( value ) ) {\n\t\t\t\treturn __( 'Value must be a number.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'number',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\t<RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\t\tif ( ! [ null, undefined ].includes( value ) ) {\n\t\t\treturn Number( value ).toFixed( 2 );\n\t\t}\n\n\t\treturn null;\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t\tvalidOperators: [\n\t\t\t// Single-selection\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t\t// Multiple-selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_CONTAINS,\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'text',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\t// Single selection\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport parseDateTime from './utils/parse-date-time';\nimport {\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n} from '../constants';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\tconst timeA = new Date( a ).getTime();\n\tconst timeB = new Date( b ).getTime();\n\n\treturn direction === 'asc' ? timeA - timeB : timeB - timeA;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'datetime',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.elements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\t\tif ( [ '', undefined, null ].includes( value ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\ttry {\n\t\t\tconst dateValue = parseDateTime( value );\n\t\t\treturn dateValue?.toLocaleString();\n\t\t} catch ( error ) {\n\t\t\treturn null;\n\t\t}\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { dateI18n, getDate, getSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n\tOPERATOR_BETWEEN,\n} from '../constants';\n\nconst getFormattedDate = ( dateToDisplay: string | null ) =>\n\tdateI18n( getSettings().formats.date, getDate( dateToDisplay ) );\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\tconst timeA = new Date( a ).getTime();\n\tconst timeB = new Date( b ).getTime();\n\n\treturn direction === 'asc' ? timeA - timeB : timeB - timeA;\n}\n\nexport default {\n\tsort,\n\tEdit: 'date',\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\t\tif ( ! value ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn getFormattedDate( value );\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n\tNormalizedField,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport { OPERATOR_IS, OPERATOR_IS_NOT } from '../constants';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\tconst boolA = Boolean( a );\n\tconst boolB = Boolean( b );\n\n\tif ( boolA === boolB ) {\n\t\treturn 0;\n\t}\n\n\t// In ascending order, false comes before true\n\tif ( direction === 'asc' ) {\n\t\treturn boolA ? 1 : -1;\n\t}\n\n\t// In descending order, true comes before false\n\treturn boolA ? -1 : 1;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! [ true, false ].includes( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be true, false, or undefined' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'checkbox',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tif ( field.getValue( { item } ) === true ) {\n\t\t\treturn __( 'True' );\n\t\t}\n\n\t\tif ( field.getValue( { item } ) === false ) {\n\t\t\treturn __( 'False' );\n\t\t}\n\n\t\treturn null;\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t\tvalidOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type { FieldTypeDefinition } from '../types';\n\nfunction sort() {\n\treturn 0;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: null,\n\trender: () => null,\n\tenableSorting: false,\n\tfilterBy: false,\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n\tNormalizedField,\n} from '../types';\nimport {\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT_ALL,\n} from '../constants';\n\n// Sort arrays by length, then alphabetically by joined string\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\tconst arrA = Array.isArray( valueA ) ? valueA : [];\n\tconst arrB = Array.isArray( valueB ) ? valueB : [];\n\tif ( arrA.length !== arrB.length ) {\n\t\treturn direction === 'asc'\n\t\t\t? arrA.length - arrB.length\n\t\t\t: arrB.length - arrA.length;\n\t}\n\n\tconst joinedA = arrA.join( ',' );\n\tconst joinedB = arrB.join( ',' );\n\treturn direction === 'asc'\n\t\t? joinedA.localeCompare( joinedB )\n\t\t: joinedB.localeCompare( joinedA );\n}\n\nfunction render( { item, field }: DataViewRenderFieldProps< any > ) {\n\tconst value = field.getValue( { item } ) || [];\n\treturn value.join( ', ' );\n}\n\nconst arrayFieldType: FieldTypeDefinition< any > = {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! Array.isArray( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be an array.' );\n\t\t\t}\n\n\t\t\t// Only allow strings for now. Can be extended to other types in the future.\n\t\t\tif ( ! value.every( ( v: any ) => typeof v === 'string' ) ) {\n\t\t\t\treturn __( 'Every value must be a string.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'array', // Use array control\n\trender,\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n};\n\nexport default arrayFieldType;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\n\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\t// Passwords should not be sortable for security reasons\n\treturn 0;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'password',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\t'\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022'\n\t\t);\n\t},\n\tenableSorting: false,\n\tfilterBy: false,\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'telephone',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n", "/**\n * External dependencies\n */\nimport { colord } from 'colord';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\t// Convert colors to HSL for better sorting\n\tconst colorA = colord( valueA );\n\tconst colorB = colord( valueB );\n\n\tif ( ! colorA.isValid() && ! colorB.isValid() ) {\n\t\treturn 0;\n\t}\n\tif ( ! colorA.isValid() ) {\n\t\treturn direction === 'asc' ? 1 : -1;\n\t}\n\tif ( ! colorB.isValid() ) {\n\t\treturn direction === 'asc' ? -1 : 1;\n\t}\n\n\t// Sort by hue, then saturation, then lightness\n\tconst hslA = colorA.toHsl();\n\tconst hslB = colorB.toHsl();\n\n\tif ( hslA.h !== hslB.h ) {\n\t\treturn direction === 'asc' ? hslA.h - hslB.h : hslB.h - hslA.h;\n\t}\n\tif ( hslA.s !== hslB.s ) {\n\t\treturn direction === 'asc' ? hslA.s - hslB.s : hslB.s - hslA.s;\n\t}\n\treturn direction === 'asc' ? hslA.l - hslB.l : hslB.l - hslA.l;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! colord( value ).isValid()\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be a valid color.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'color',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\n\t\tif ( ! value || ! colord( value ).isValid() ) {\n\t\t\treturn value;\n\t\t}\n\n\t\t// Render color with visual preview\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={ { display: 'flex', alignItems: 'center', gap: '8px' } }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\twidth: '16px',\n\t\t\t\t\t\theight: '16px',\n\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\tbackgroundColor: value,\n\t\t\t\t\t\tborder: '1px solid #ddd',\n\t\t\t\t\t\tflexShrink: 0,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<span>{ value }</span>\n\t\t\t</div>\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'url',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tFieldType,\n\tFieldTypeDefinition,\n\tSortDirection,\n} from '../types';\nimport { default as email } from './email';\nimport { default as integer } from './integer';\nimport { default as number } from './number';\nimport { default as text } from './text';\nimport { default as datetime } from './datetime';\nimport { default as date } from './date';\nimport { default as boolean } from './boolean';\nimport { default as media } from './media';\nimport { default as array } from './array';\nimport { default as password } from './password';\nimport { default as telephone } from './telephone';\nimport { default as color } from './color';\nimport { default as url } from './url';\nimport RenderFromElements from './utils/render-from-elements';\nimport { ALL_OPERATORS, OPERATOR_IS, OPERATOR_IS_NOT } from '../constants';\n\n/**\n *\n * @param {FieldType} type The field type definition to get.\n *\n * @return A field type definition.\n */\nexport default function getFieldTypeDefinition< Item >(\n\ttype?: FieldType\n): FieldTypeDefinition< Item > {\n\tif ( 'email' === type ) {\n\t\treturn email;\n\t}\n\n\tif ( 'integer' === type ) {\n\t\treturn integer;\n\t}\n\n\tif ( 'number' === type ) {\n\t\treturn number;\n\t}\n\n\tif ( 'text' === type ) {\n\t\treturn text;\n\t}\n\n\tif ( 'datetime' === type ) {\n\t\treturn datetime;\n\t}\n\n\tif ( 'date' === type ) {\n\t\treturn date;\n\t}\n\n\tif ( 'boolean' === type ) {\n\t\treturn boolean;\n\t}\n\n\tif ( 'media' === type ) {\n\t\treturn media;\n\t}\n\n\tif ( 'array' === type ) {\n\t\treturn array;\n\t}\n\n\tif ( 'password' === type ) {\n\t\treturn password;\n\t}\n\n\tif ( 'telephone' === type ) {\n\t\treturn telephone;\n\t}\n\n\tif ( 'color' === type ) {\n\t\treturn color;\n\t}\n\n\tif ( 'url' === type ) {\n\t\treturn url;\n\t}\n\n\t// This is a fallback for fields that don't provide a type.\n\t// It can be removed when the field.type is mandatory.\n\treturn {\n\t\tsort: ( a: any, b: any, direction: SortDirection ) => {\n\t\t\tif ( typeof a === 'number' && typeof b === 'number' ) {\n\t\t\t\treturn direction === 'asc' ? a - b : b - a;\n\t\t\t}\n\n\t\t\treturn direction === 'asc'\n\t\t\t\t? a.localeCompare( b )\n\t\t\t\t: b.localeCompare( a );\n\t\t},\n\t\tisValid: {\n\t\t\telements: true,\n\t\t\tcustom: () => null,\n\t\t},\n\t\tEdit: null,\n\t\trender: ( { item, field }: DataViewRenderFieldProps< Item > ) => {\n\t\t\treturn field.hasElements ? (\n\t\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t\t) : (\n\t\t\t\tfield.getValue( { item } )\n\t\t\t);\n\t\t},\n\t\tenableSorting: true,\n\t\tfilterBy: {\n\t\t\tdefaultOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t\t\tvalidOperators: ALL_OPERATORS,\n\t\t},\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedCheckboxControl } = unlock( privateApis );\n\nexport default function Checkbox< Item >( {\n\tfield,\n\tonChange,\n\tdata,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { getValue, setValue, label, description, isValid } = field;\n\n\tconst onChangeControl = useCallback( () => {\n\t\tonChange(\n\t\t\tsetValue( { item: data, value: ! getValue( { item: data } ) } )\n\t\t);\n\t}, [ data, getValue, onChange, setValue ] );\n\n\treturn (\n\t\t<ValidatedCheckboxControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\thidden={ hideLabelFromVision }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tchecked={ getValue( { item: data } ) }\n\t\t\tonChange={ onChangeControl }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { Rules, FieldValidity } from '../../types';\n\nexport default function getCustomValidity< Item >(\n\tisValid: Rules< Item >,\n\tvalidity: FieldValidity | undefined\n) {\n\tlet customValidity;\n\tif ( isValid?.required && validity?.required ) {\n\t\t// If the consumer provides a message for required,\n\t\t// use it instead of the native built-in message.\n\t\tcustomValidity = validity?.required?.message\n\t\t\t? validity.required\n\t\t\t: undefined;\n\t} else if ( isValid?.elements && validity?.elements ) {\n\t\tcustomValidity = validity.elements;\n\t} else if ( validity?.custom ) {\n\t\tcustomValidity = validity.custom;\n\t}\n\n\treturn customValidity;\n}\n", "/**\n * External dependencies\n */\nimport { format } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tprivateApis as componentsPrivateApis,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { OPERATOR_IN_THE_PAST, OPERATOR_OVER } from '../constants';\nimport RelativeDateControl from './utils/relative-date-control';\nimport getCustomValidity from './utils/get-custom-validity';\nimport parseDateTime from '../field-types/utils/parse-date-time';\nimport { unlock } from '../lock-unlock';\n\nconst { DateCalendar, ValidatedInputControl } = unlock( componentsPrivateApis );\n\nconst formatDateTime = ( date?: Date | string ): string => {\n\tif ( ! date ) {\n\t\treturn '';\n\t}\n\tif ( typeof date === 'string' ) {\n\t\treturn date;\n\t}\n\t// Format as datetime-local input expects: YYYY-MM-DDTHH:mm\n\treturn format( date, \"yyyy-MM-dd'T'HH:mm\" );\n};\n\nfunction CalendarDateTimeControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, description, setValue, getValue, isValid } = field;\n\tconst fieldValue = getValue( { item: data } );\n\tconst value = typeof fieldValue === 'string' ? fieldValue : undefined;\n\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\tconst parsedDate = parseDateTime( value );\n\t\treturn parsedDate || new Date(); // Default to current month\n\t} );\n\n\tconst inputControlRef = useRef< HTMLInputElement >( null );\n\tconst validationTimeoutRef = useRef< ReturnType< typeof setTimeout > >();\n\tconst previousFocusRef = useRef< Element | null >( null );\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\t// Cleanup timeout on unmount\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( validationTimeoutRef.current ) {\n\t\t\t\tclearTimeout( validationTimeoutRef.current );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tconst onSelectDate = useCallback(\n\t\t( newDate: Date | undefined | null ) => {\n\t\t\tlet dateTimeValue: string | undefined;\n\t\t\tif ( newDate ) {\n\t\t\t\t// Preserve time if it exists in current value, otherwise use current time\n\t\t\t\tlet finalDateTime = newDate;\n\n\t\t\t\tif ( value ) {\n\t\t\t\t\tconst currentDateTime = parseDateTime( value );\n\t\t\t\t\tif ( currentDateTime ) {\n\t\t\t\t\t\t// Preserve the time part\n\t\t\t\t\t\tfinalDateTime = new Date( newDate );\n\t\t\t\t\t\tfinalDateTime.setHours( currentDateTime.getHours() );\n\t\t\t\t\t\tfinalDateTime.setMinutes(\n\t\t\t\t\t\t\tcurrentDateTime.getMinutes()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdateTimeValue = finalDateTime.toISOString();\n\t\t\t\tonChangeCallback( dateTimeValue );\n\n\t\t\t\t// Clear any existing timeout\n\t\t\t\tif ( validationTimeoutRef.current ) {\n\t\t\t\t\tclearTimeout( validationTimeoutRef.current );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t\t// Save the currently focused element\n\t\t\tpreviousFocusRef.current =\n\t\t\t\tinputControlRef.current &&\n\t\t\t\tinputControlRef.current.ownerDocument.activeElement;\n\n\t\t\t// Trigger validation display by simulating focus, blur, and changes.\n\t\t\t// Use a timeout to ensure it runs after the value update.\n\t\t\tvalidationTimeoutRef.current = setTimeout( () => {\n\t\t\t\tif ( inputControlRef.current ) {\n\t\t\t\t\tinputControlRef.current.focus();\n\t\t\t\t\tinputControlRef.current.blur();\n\t\t\t\t\tonChangeCallback( dateTimeValue );\n\n\t\t\t\t\t// Restore focus to the previously focused element\n\t\t\t\t\tif (\n\t\t\t\t\t\tpreviousFocusRef.current &&\n\t\t\t\t\t\tpreviousFocusRef.current instanceof HTMLElement\n\t\t\t\t\t) {\n\t\t\t\t\t\tpreviousFocusRef.current.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t},\n\t\t[ onChangeCallback, value ]\n\t);\n\n\tconst handleManualDateTimeChange = useCallback(\n\t\t( newValue?: string ) => {\n\t\t\tif ( newValue ) {\n\t\t\t\t// Convert from datetime-local format to ISO string\n\t\t\t\tconst dateTime = new Date( newValue );\n\t\t\t\tonChangeCallback( dateTime.toISOString() );\n\n\t\t\t\t// Update calendar month to match\n\t\t\t\tconst parsedDate = parseDateTime( dateTime.toISOString() );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst {\n\t\ttimezone: { string: timezoneString },\n\t\tl10n: { startOfWeek },\n\t} = getSettings();\n\n\tconst displayLabel =\n\t\tisValid?.required && ! hideLabelFromVision\n\t\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t\t: label;\n\n\treturn (\n\t\t<BaseControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tid={ id }\n\t\t\tlabel={ displayLabel }\n\t\t\thelp={ description }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t{ /* Calendar widget */ }\n\t\t\t\t<DateCalendar\n\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\tselected={\n\t\t\t\t\t\tvalue ? parseDateTime( value ) || undefined : undefined\n\t\t\t\t\t}\n\t\t\t\t\tonSelect={ onSelectDate }\n\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\ttimeZone={ timezoneString || undefined }\n\t\t\t\t\tweekStartsOn={ startOfWeek }\n\t\t\t\t/>\n\t\t\t\t{ /* Manual datetime input */ }\n\t\t\t\t<ValidatedInputControl\n\t\t\t\t\tref={ inputControlRef }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\trequired={ !! isValid?.required }\n\t\t\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\tlabel={ __( 'Date time' ) }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t? formatDateTime(\n\t\t\t\t\t\t\t\t\tparseDateTime( value ) || undefined\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tonChange={ handleManualDateTimeChange }\n\t\t\t\t/>\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n\nexport default function DateTime< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tif ( operator === OPERATOR_IN_THE_PAST || operator === OPERATOR_OVER ) {\n\t\treturn (\n\t\t\t<RelativeDateControl\n\t\t\t\tclassName=\"dataviews-controls__datetime\"\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\toperator={ operator }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CalendarDateTimeControl\n\t\t\tdata={ data }\n\t\t\tfield={ field }\n\t\t\tonChange={ onChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tvalidity={ validity }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tSelectControl,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { OPERATOR_IN_THE_PAST, OPERATOR_OVER } from '../../constants';\nimport type { DataFormControlProps } from '../../types';\n\ntype VALID_OPERATORS = 'inThePast' | 'over';\n\ninterface TimeUnitOption {\n\tvalue: string;\n\tlabel: string;\n}\n\nconst TIME_UNITS_OPTIONS: Record< VALID_OPERATORS, TimeUnitOption[] > = {\n\t[ OPERATOR_IN_THE_PAST ]: [\n\t\t{ value: 'days', label: __( 'Days' ) },\n\t\t{ value: 'weeks', label: __( 'Weeks' ) },\n\t\t{ value: 'months', label: __( 'Months' ) },\n\t\t{ value: 'years', label: __( 'Years' ) },\n\t],\n\t[ OPERATOR_OVER ]: [\n\t\t{ value: 'days', label: __( 'Days ago' ) },\n\t\t{ value: 'weeks', label: __( 'Weeks ago' ) },\n\t\t{ value: 'months', label: __( 'Months ago' ) },\n\t\t{ value: 'years', label: __( 'Years ago' ) },\n\t],\n};\n\nexport default function RelativeDateControl< Item >( {\n\tclassName,\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n}: DataFormControlProps< Item > & {\n\tclassName: string;\n} ) {\n\tconst options: TimeUnitOption[] =\n\t\tTIME_UNITS_OPTIONS[\n\t\t\toperator === OPERATOR_IN_THE_PAST ? 'inThePast' : 'over'\n\t\t];\n\n\tconst { id, label, getValue, setValue } = field;\n\tconst fieldValue = getValue( { item: data } );\n\tconst { value: relValue = '', unit = options[ 0 ].value } =\n\t\tfieldValue && typeof fieldValue === 'object' ? fieldValue : {};\n\n\tconst onChangeValue = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: { value: Number( newValue ), unit },\n\t\t\t\t} )\n\t\t\t),\n\t\t[ onChange, setValue, data, unit ]\n\t);\n\n\tconst onChangeUnit = useCallback(\n\t\t( newUnit: string | undefined ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: { value: relValue, unit: newUnit },\n\t\t\t\t} )\n\t\t\t),\n\t\t[ onChange, setValue, data, relValue ]\n\t);\n\n\treturn (\n\t\t<BaseControl\n\t\t\tid={ id }\n\t\t\t__nextHasNoMarginBottom\n\t\t\tclassName={ clsx( className, 'dataviews-controls__relative-date' ) }\n\t\t\tlabel={ label }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t<HStack spacing={ 2.5 }>\n\t\t\t\t<NumberControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tclassName=\"dataviews-controls__relative-date-number\"\n\t\t\t\t\tspinControls=\"none\"\n\t\t\t\t\tmin={ 1 }\n\t\t\t\t\tstep={ 1 }\n\t\t\t\t\tvalue={ relValue }\n\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t/>\n\t\t\t\t<SelectControl\n\t\t\t\t\tclassName=\"dataviews-controls__relative-date-unit\"\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Unit' ) }\n\t\t\t\t\tvalue={ unit }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ onChangeUnit }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t</BaseControl>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport {\n\tformat,\n\tisValid as isValidDate,\n\tsubMonths,\n\tsubDays,\n\tsubYears,\n\tstartOfMonth,\n\tstartOfYear,\n} from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tButton,\n\tIcon,\n\tprivateApis as componentsPrivateApis,\n\t__experimentalInputControl as InputControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getDate, getSettings } from '@wordpress/date';\nimport { error as errorIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport RelativeDateControl from './utils/relative-date-control';\nimport {\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n\tOPERATOR_BETWEEN,\n} from '../constants';\nimport { unlock } from '../lock-unlock';\nimport type {\n\tDataFormControlProps,\n\tFieldValidity,\n\tNormalizedField,\n} from '../types';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { DateCalendar, DateRangeCalendar } = unlock( componentsPrivateApis );\n\ntype DateRange = [ string, string ] | undefined;\n\nconst DATE_PRESETS: {\n\tid: string;\n\tlabel: string;\n\tgetValue: () => Date;\n}[] = [\n\t{\n\t\tid: 'today',\n\t\tlabel: __( 'Today' ),\n\t\tgetValue: () => getDate( null ),\n\t},\n\t{\n\t\tid: 'yesterday',\n\t\tlabel: __( 'Yesterday' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subDays( today, 1 );\n\t\t},\n\t},\n\t{\n\t\tid: 'past-week',\n\t\tlabel: __( 'Past week' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subDays( today, 7 );\n\t\t},\n\t},\n\t{\n\t\tid: 'past-month',\n\t\tlabel: __( 'Past month' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subMonths( today, 1 );\n\t\t},\n\t},\n];\n\nconst DATE_RANGE_PRESETS = [\n\t{\n\t\tid: 'last-7-days',\n\t\tlabel: __( 'Last 7 days' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subDays( today, 7 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'last-30-days',\n\t\tlabel: __( 'Last 30 days' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subDays( today, 30 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'month-to-date',\n\t\tlabel: __( 'Month to date' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ startOfMonth( today ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'last-year',\n\t\tlabel: __( 'Last year' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subYears( today, 1 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'year-to-date',\n\t\tlabel: __( 'Year to date' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ startOfYear( today ), today ];\n\t\t},\n\t},\n];\n\nconst parseDate = ( dateString?: string ): Date | null => {\n\tif ( ! dateString ) {\n\t\treturn null;\n\t}\n\tconst parsed = getDate( dateString );\n\treturn parsed && isValidDate( parsed ) ? parsed : null;\n};\n\nconst formatDate = ( date?: Date | string ): string => {\n\tif ( ! date ) {\n\t\treturn '';\n\t}\n\treturn typeof date === 'string' ? date : format( date, 'yyyy-MM-dd' );\n};\n\nfunction ValidatedDateControl< Item >( {\n\tfield,\n\tvalidity,\n\tinputRefs,\n\tisTouched,\n\tsetIsTouched,\n\tchildren,\n}: {\n\tfield: NormalizedField< Item >;\n\tvalidity?: FieldValidity;\n\tinputRefs:\n\t\t| React.RefObject< HTMLInputElement >\n\t\t| React.RefObject< HTMLInputElement >[];\n\tisTouched: boolean;\n\tsetIsTouched: ( touched: boolean ) => void;\n\tchildren: React.ReactNode;\n} ) {\n\tconst { isValid } = field;\n\tconst [ customValidity, setCustomValidity ] = useState<\n\t\t| { type: 'valid' | 'validating' | 'invalid'; message?: string }\n\t\t| undefined\n\t>( undefined );\n\n\tconst validateRefs = useCallback( () => {\n\t\t// Check HTML5 validity on all refs\n\t\tconst refs = Array.isArray( inputRefs ) ? inputRefs : [ inputRefs ];\n\t\tfor ( const ref of refs ) {\n\t\t\tconst input = ref.current;\n\t\t\tif ( input && ! input.validity.valid ) {\n\t\t\t\tsetCustomValidity( {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: input.validationMessage,\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// No errors\n\t\tsetCustomValidity( undefined );\n\t}, [ inputRefs ] );\n\n\tuseEffect( () => {\n\t\tif ( isTouched ) {\n\t\t\tconst timeoutId = setTimeout( () => {\n\t\t\t\tif ( validity ) {\n\t\t\t\t\tsetCustomValidity( getCustomValidity( isValid, validity ) );\n\t\t\t\t} else {\n\t\t\t\t\tvalidateRefs();\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t\treturn () => clearTimeout( timeoutId );\n\t\t}\n\t\treturn undefined;\n\t}, [ isTouched, isValid, validity, validateRefs ] );\n\n\tconst onBlur = ( event: React.FocusEvent< HTMLDivElement > ) => {\n\t\tif ( isTouched ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only consider \"blurred from the component\" if focus has fully left the wrapping div.\n\t\t// This prevents unnecessary blurs from components with multiple focusable elements.\n\t\tif (\n\t\t\t! event.relatedTarget ||\n\t\t\t! event.currentTarget.contains( event.relatedTarget )\n\t\t) {\n\t\t\tsetIsTouched( true );\n\t\t}\n\t};\n\n\treturn (\n\t\t<div onBlur={ onBlur }>\n\t\t\t{ children }\n\t\t\t<div aria-live=\"polite\">\n\t\t\t\t{ customValidity && (\n\t\t\t\t\t<p\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'components-validated-control__indicator',\n\t\t\t\t\t\t\tcustomValidity.type === 'invalid'\n\t\t\t\t\t\t\t\t? 'is-invalid'\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\tcustomValidity.type === 'valid'\n\t\t\t\t\t\t\t\t? 'is-valid'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName=\"components-validated-control__indicator-icon\"\n\t\t\t\t\t\t\ticon={ errorIcon }\n\t\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ customValidity.message }\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction CalendarDateControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, setValue, getValue, isValid } = field;\n\tconst [ selectedPresetId, setSelectedPresetId ] = useState< string | null >(\n\t\tnull\n\t);\n\n\tconst fieldValue = getValue( { item: data } );\n\tconst value = typeof fieldValue === 'string' ? fieldValue : undefined;\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\tconst parsedDate = parseDate( value );\n\t\treturn parsedDate || new Date(); // Default to current month\n\t} );\n\n\tconst [ isTouched, setIsTouched ] = useState( false );\n\tconst validityTargetRef = useRef< HTMLInputElement >( null );\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst onSelectDate = useCallback(\n\t\t( newDate: Date | undefined | null ) => {\n\t\t\tconst dateValue = newDate\n\t\t\t\t? format( newDate, 'yyyy-MM-dd' )\n\t\t\t\t: undefined;\n\t\t\tonChangeCallback( dateValue );\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst handlePresetClick = useCallback(\n\t\t( preset: ( typeof DATE_PRESETS )[ 0 ] ) => {\n\t\t\tconst presetDate = preset.getValue();\n\t\t\tconst dateValue = formatDate( presetDate );\n\n\t\t\tsetCalendarMonth( presetDate );\n\t\t\tonChangeCallback( dateValue );\n\t\t\tsetSelectedPresetId( preset.id );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst handleManualDateChange = useCallback(\n\t\t( newValue?: string ) => {\n\t\t\tonChangeCallback( newValue );\n\t\t\tif ( newValue ) {\n\t\t\t\tconst parsedDate = parseDate( newValue );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst {\n\t\ttimezone: { string: timezoneString },\n\t\tl10n: { startOfWeek },\n\t} = getSettings();\n\n\tconst displayLabel = isValid?.required\n\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t: label;\n\n\treturn (\n\t\t<ValidatedDateControl\n\t\t\tfield={ field }\n\t\t\tvalidity={ validity }\n\t\t\tinputRefs={ validityTargetRef }\n\t\t\tisTouched={ isTouched }\n\t\t\tsetIsTouched={ setIsTouched }\n\t\t>\n\t\t\t<BaseControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tid={ id }\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tlabel={ displayLabel }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t{ /* Preset buttons */ }\n\t\t\t\t\t<HStack spacing={ 2 } wrap justify=\"flex-start\">\n\t\t\t\t\t\t{ DATE_PRESETS.map( ( preset ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedPresetId === preset.id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\t\t\tkey={ preset.id }\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tisPressed={ isSelected }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandlePresetClick( preset )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tisPressed={ ! selectedPresetId }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tdisabled={ !! selectedPresetId }\n\t\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\n\t\t\t\t\t{ /* Manual date input */ }\n\t\t\t\t\t<InputControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tref={ validityTargetRef }\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tlabel={ __( 'Date' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleManualDateChange }\n\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ /* Calendar widget */ }\n\t\t\t\t\t<DateCalendar\n\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\tvalue ? parseDate( value ) || undefined : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={ onSelectDate }\n\t\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\t\ttimeZone={ timezoneString || undefined }\n\t\t\t\t\t\tweekStartsOn={ startOfWeek }\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t</BaseControl>\n\t\t</ValidatedDateControl>\n\t);\n}\n\nfunction CalendarDateRangeControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, getValue, setValue } = field;\n\tlet value: DateRange;\n\tconst fieldValue = getValue( { item: data } );\n\tif (\n\t\tArray.isArray( fieldValue ) &&\n\t\tfieldValue.length === 2 &&\n\t\tfieldValue.every( ( date ) => typeof date === 'string' )\n\t) {\n\t\tvalue = fieldValue as DateRange;\n\t}\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: DateRange ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst [ selectedPresetId, setSelectedPresetId ] = useState< string | null >(\n\t\tnull\n\t);\n\n\tconst selectedRange = useMemo( () => {\n\t\tif ( ! value ) {\n\t\t\treturn { from: undefined, to: undefined };\n\t\t}\n\n\t\tconst [ from, to ] = value;\n\t\treturn {\n\t\t\tfrom: parseDate( from ) || undefined,\n\t\t\tto: parseDate( to ) || undefined,\n\t\t};\n\t}, [ value ] );\n\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\treturn selectedRange.from || new Date();\n\t} );\n\n\tconst [ isTouched, setIsTouched ] = useState( false );\n\tconst fromInputRef = useRef< HTMLInputElement >( null );\n\tconst toInputRef = useRef< HTMLInputElement >( null );\n\n\tconst updateDateRange = useCallback(\n\t\t( fromDate?: Date | string, toDate?: Date | string ) => {\n\t\t\tif ( fromDate && toDate ) {\n\t\t\t\tonChangeCallback( [\n\t\t\t\t\tformatDate( fromDate ),\n\t\t\t\t\tformatDate( toDate ),\n\t\t\t\t] );\n\t\t\t} else if ( ! fromDate && ! toDate ) {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t\t// Do nothing if only one date is set - wait for both\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst onSelectCalendarRange = useCallback(\n\t\t(\n\t\t\tnewRange:\n\t\t\t\t| { from: Date | undefined; to?: Date | undefined }\n\t\t\t\t| undefined\n\t\t) => {\n\t\t\tupdateDateRange( newRange?.from, newRange?.to );\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ updateDateRange ]\n\t);\n\n\tconst handlePresetClick = useCallback(\n\t\t( preset: ( typeof DATE_RANGE_PRESETS )[ 0 ] ) => {\n\t\t\tconst [ startDate, endDate ] = preset.getValue();\n\t\t\tsetCalendarMonth( startDate );\n\t\t\tupdateDateRange( startDate, endDate );\n\t\t\tsetSelectedPresetId( preset.id );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ updateDateRange ]\n\t);\n\n\tconst handleManualDateChange = useCallback(\n\t\t( fromOrTo: 'from' | 'to', newValue?: string ) => {\n\t\t\tconst [ currentFrom, currentTo ] = value || [\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t];\n\t\t\tconst updatedFrom = fromOrTo === 'from' ? newValue : currentFrom;\n\t\t\tconst updatedTo = fromOrTo === 'to' ? newValue : currentTo;\n\n\t\t\tupdateDateRange( updatedFrom, updatedTo );\n\n\t\t\tif ( newValue ) {\n\t\t\t\tconst parsedDate = parseDate( newValue );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ value, updateDateRange ]\n\t);\n\n\tconst { timezone, l10n } = getSettings();\n\n\tconst displayLabel = field.isValid?.required\n\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t: label;\n\n\treturn (\n\t\t<ValidatedDateControl\n\t\t\tfield={ field }\n\t\t\tvalidity={ validity }\n\t\t\tinputRefs={ [ fromInputRef, toInputRef ] }\n\t\t\tisTouched={ isTouched }\n\t\t\tsetIsTouched={ setIsTouched }\n\t\t>\n\t\t\t<BaseControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tid={ id }\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tlabel={ displayLabel }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t{ /* Preset buttons */ }\n\t\t\t\t\t<HStack spacing={ 2 } wrap justify=\"flex-start\">\n\t\t\t\t\t\t{ DATE_RANGE_PRESETS.map( ( preset ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedPresetId === preset.id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\t\t\tkey={ preset.id }\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tisPressed={ isSelected }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandlePresetClick( preset )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tisPressed={ ! selectedPresetId }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\t\tdisabled={ !! selectedPresetId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\n\t\t\t\t\t{ /* Manual date range inputs */ }\n\t\t\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ fromInputRef }\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tlabel={ __( 'From' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ value?.[ 0 ] }\n\t\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\t\thandleManualDateChange( 'from', newValue )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ toInputRef }\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tlabel={ __( 'To' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ value?.[ 1 ] }\n\t\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\t\thandleManualDateChange( 'to', newValue )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</HStack>\n\n\t\t\t\t\t<DateRangeCalendar\n\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\tselected={ selectedRange }\n\t\t\t\t\t\tonSelect={ onSelectCalendarRange }\n\t\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\t\ttimeZone={ timezone.string || undefined }\n\t\t\t\t\t\tweekStartsOn={ l10n.startOfWeek }\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t</BaseControl>\n\t\t</ValidatedDateControl>\n\t);\n}\n\nexport default function DateControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tif ( operator === OPERATOR_IN_THE_PAST || operator === OPERATOR_OVER ) {\n\t\treturn (\n\t\t\t<RelativeDateControl\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\toperator={ operator }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( operator === OPERATOR_BETWEEN ) {\n\t\treturn (\n\t\t\t<CalendarDateRangeControl\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tvalidity={ validity }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CalendarDateControl\n\t\t\tdata={ data }\n\t\t\tfield={ field }\n\t\t\tonChange={ onChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tvalidity={ validity }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { atSymbol } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Email< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'email',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ atSymbol } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './get-custom-validity';\n\nconst { ValidatedInputControl } = unlock( privateApis );\n\nexport type DataFormValidatedTextControlProps< Item > =\n\tDataFormControlProps< Item > & {\n\t\t/**\n\t\t * The input type of the control.\n\t\t */\n\t\ttype?: 'text' | 'email' | 'tel' | 'url' | 'password';\n\t\t/**\n\t\t * Optional prefix element to display before the input.\n\t\t */\n\t\tprefix?: React.ReactElement;\n\t\t/**\n\t\t * Optional suffix element to display after the input.\n\t\t */\n\t\tsuffix?: React.ReactElement;\n\t};\n\nexport default function ValidatedText< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\ttype,\n\tprefix,\n\tsuffix,\n\tvalidity,\n}: DataFormValidatedTextControlProps< Item > ) {\n\tconst { label, placeholder, description, getValue, setValue, isValid } =\n\t\tfield;\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t),\n\t\t[ data, setValue, onChange ]\n\t);\n\n\treturn (\n\t\t<ValidatedInputControl\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value ?? '' }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\ttype={ type }\n\t\t\tprefix={ prefix }\n\t\t\tsuffix={ suffix }\n\t\t\t__next40pxDefaultSize\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { mobile } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Telephone< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'tel',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ mobile } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { link } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Url< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'url',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ link } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tFlex,\n\tBaseControl,\n\t__experimentalNumberControl as NumberControl,\n\tprivateApis,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { OPERATOR_BETWEEN } from '../../constants';\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './get-custom-validity';\n\nconst { ValidatedNumberControl } = unlock( privateApis );\n\ntype NumberBetween = [ number | string, number | string ];\n\nfunction toNumberOrEmpty( value?: string ) {\n\tif ( value === '' || value === undefined ) {\n\t\treturn '';\n\t}\n\tconst number = Number( value );\n\treturn Number.isFinite( number ) ? number : '';\n}\n\nfunction BetweenControls( {\n\tvalue,\n\tonChange,\n\thideLabelFromVision,\n\tstep,\n}: {\n\tvalue: NumberBetween;\n\tonChange: ( [ min, max ]: NumberBetween ) => void;\n\thideLabelFromVision?: boolean;\n\tstep: number;\n} ) {\n\tconst [ min = '', max = '' ] = value;\n\n\tconst onChangeMin = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( [ toNumberOrEmpty( newValue ), max ] ),\n\t\t[ onChange, max ]\n\t);\n\n\tconst onChangeMax = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( [ min, toNumberOrEmpty( newValue ) ] ),\n\t\t[ onChange, min ]\n\t);\n\n\treturn (\n\t\t<BaseControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\thelp={ __( 'The max. value must be greater than the min. value.' ) }\n\t\t>\n\t\t\t<Flex direction=\"row\" gap={ 4 }>\n\t\t\t\t<NumberControl\n\t\t\t\t\tlabel={ __( 'Min.' ) }\n\t\t\t\t\tvalue={ min }\n\t\t\t\t\tmax={ max ? Number( max ) - step : undefined }\n\t\t\t\t\tonChange={ onChangeMin }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\tstep={ step }\n\t\t\t\t/>\n\t\t\t\t<NumberControl\n\t\t\t\t\tlabel={ __( 'Max.' ) }\n\t\t\t\t\tvalue={ max }\n\t\t\t\t\tmin={ min ? Number( min ) + step : undefined }\n\t\t\t\t\tonChange={ onChangeMax }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\tstep={ step }\n\t\t\t\t/>\n\t\t\t</Flex>\n\t\t</BaseControl>\n\t);\n}\n\nexport type DataFormValidatedNumberControlProps< Item > =\n\tDataFormControlProps< Item > & {\n\t\t/**\n\t\t * Number of decimals, acceps non-negative integer.\n\t\t */\n\t\tdecimals: number;\n\t};\n\nexport default function ValidatedNumber< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tdecimals,\n\tvalidity,\n}: DataFormValidatedNumberControlProps< Item > ) {\n\tconst step = Math.pow( 10, Math.abs( decimals ) * -1 );\n\tconst { label, description, getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } ) ?? '';\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | undefined ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\t// Do not convert an empty string or undefined to a number,\n\t\t\t\t\t// otherwise there's a mismatch between the UI control (empty)\n\t\t\t\t\t// and the data relied by onChange (0).\n\t\t\t\t\tvalue: [ '', undefined ].includes( newValue )\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: Number( newValue ),\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst onChangeBetweenControls = useCallback(\n\t\t( newValue: NumberBetween ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tif ( operator === OPERATOR_BETWEEN ) {\n\t\tlet valueBetween: NumberBetween = [ '', '' ];\n\t\tif (\n\t\t\tArray.isArray( value ) &&\n\t\t\tvalue.length === 2 &&\n\t\t\tvalue.every(\n\t\t\t\t( element ) => typeof element === 'number' || element === ''\n\t\t\t)\n\t\t) {\n\t\t\tvalueBetween = value as NumberBetween;\n\t\t}\n\t\treturn (\n\t\t\t<BetweenControls\n\t\t\t\tvalue={ valueBetween }\n\t\t\t\tonChange={ onChangeBetweenControls }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tstep={ step }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ValidatedNumberControl\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tstep={ step }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedNumber from './utils/validated-number';\n\nexport default function Number< Item >( props: DataFormControlProps< Item > ) {\n\treturn <ValidatedNumber { ...props } decimals={ 0 } />;\n}\n", "/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedNumber from './utils/validated-number';\n\nexport default function Number< Item >( props: DataFormControlProps< Item > ) {\n\t// TODO: remove this hardcoded value when the decimal number is configurable\n\treturn <ValidatedNumber { ...props } decimals={ 2 } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../hooks/use-elements';\n\nconst { ValidatedRadioControl } = unlock( privateApis );\n\nexport default function Radio< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, description, getValue, setValue, isValid } = field;\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedRadioControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\toptions={ elements }\n\t\t\tselected={ value }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport useElements from '../hooks/use-elements';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedSelectControl } = unlock( privateApis );\n\nexport default function Select< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { type, label, description, getValue, setValue, isValid } = field;\n\n\tconst isMultiple = type === 'array';\n\tconst value = getValue( { item: data } ) ?? ( isMultiple ? [] : '' );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: any ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedSelectControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tvalue={ value }\n\t\t\thelp={ description }\n\t\t\toptions={ elements }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tmultiple={ isMultiple }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Text< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tconfig,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { prefix, suffix } = config || {};\n\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\tprefix: prefix ? createElement( prefix ) : undefined,\n\t\t\t\tsuffix: suffix ? createElement( suffix ) : undefined,\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedToggleControl } = unlock( privateApis );\n\nexport default function Toggle< Item >( {\n\tfield,\n\tonChange,\n\tdata,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, description, getValue, setValue, isValid } = field;\n\n\tconst onChangeControl = useCallback( () => {\n\t\tonChange(\n\t\t\tsetValue( { item: data, value: ! getValue( { item: data } ) } )\n\t\t);\n\t}, [ onChange, setValue, data, getValue ] );\n\n\treturn (\n\t\t<ValidatedToggleControl\n\t\t\trequired={ !! isValid.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\thidden={ hideLabelFromVision }\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tchecked={ getValue( { item: data } ) }\n\t\t\tonChange={ onChangeControl }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedTextareaControl } = unlock( privateApis );\n\nexport default function Textarea< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tconfig,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { rows = 4 } = config || {};\n\tconst { label, placeholder, description, setValue, isValid } = field;\n\tconst value = field.getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\treturn (\n\t\t<ValidatedTextareaControl\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value ?? '' }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\trows={ rows }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tSpinner,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../hooks/use-elements';\n\nconst { ValidatedToggleGroupControl } = unlock( privateApis );\n\nexport default function ToggleGroup< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | number | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst selectedOption = elements.find( ( el ) => el.value === value );\n\treturn (\n\t\t<ValidatedToggleGroupControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\tisBlock\n\t\t\tlabel={ field.label }\n\t\t\thelp={ selectedOption?.description || field.description }\n\t\t\tonChange={ onChangeControl }\n\t\t\tvalue={ value }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t{ elements.map( ( el ) => (\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tkey={ el.value }\n\t\t\t\t\tlabel={ el.label }\n\t\t\t\t\tvalue={ el.value }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</ValidatedToggleGroupControl>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../hooks/use-elements';\n\nconst { ValidatedFormTokenField } = unlock( privateApis );\n\nexport default function ArrayControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, placeholder, getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } );\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\t// Convert stored values to element objects for the token field\n\tconst arrayValueAsElements = useMemo(\n\t\t() =>\n\t\t\tArray.isArray( value )\n\t\t\t\t? value.map( ( token ) => {\n\t\t\t\t\t\tconst element = elements?.find(\n\t\t\t\t\t\t\t( suggestion ) => suggestion.value === token\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn element || { value: token, label: token };\n\t\t\t\t  } )\n\t\t\t\t: [],\n\t\t[ value, elements ]\n\t);\n\n\tconst onChangeControl = useCallback(\n\t\t( tokens: ( string | { value: string; label?: string } )[] ) => {\n\t\t\tconst valueTokens = tokens.map( ( token ) => {\n\t\t\t\tif ( typeof token === 'object' && 'value' in token ) {\n\t\t\t\t\treturn token.value;\n\t\t\t\t}\n\t\t\t\t// If it's a string, it's either a new suggestion value or user input\n\t\t\t\treturn token;\n\t\t\t} );\n\n\t\t\tonChange( setValue( { item: data, value: valueTokens } ) );\n\t\t},\n\t\t[ onChange, setValue, data ]\n\t);\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedFormTokenField\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ hideLabelFromVision ? undefined : label }\n\t\t\tvalue={ arrayValueAsElements }\n\t\t\tonChange={ onChangeControl }\n\t\t\tplaceholder={ placeholder }\n\t\t\tsuggestions={ elements?.map( ( element ) => element.value ) }\n\t\t\t__experimentalValidateInput={ ( token: string ) => {\n\t\t\t\t// If elements validation is required, check if token is valid\n\t\t\t\tif ( field.isValid?.elements && elements ) {\n\t\t\t\t\treturn elements.some(\n\t\t\t\t\t\t( element ) =>\n\t\t\t\t\t\t\telement.value === token || element.label === token\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// For non-elements validation, allow all tokens\n\t\t\t\treturn true;\n\t\t\t} }\n\t\t\t__experimentalExpandOnFocus={ elements && elements.length > 0 }\n\t\t\t__experimentalShowHowTo={ ! field.isValid?.elements }\n\t\t\tdisplayTransform={ ( token: any ) => {\n\t\t\t\t// For existing tokens (element objects), display their label\n\t\t\t\tif ( typeof token === 'object' && 'label' in token ) {\n\t\t\t\t\treturn token.label;\n\t\t\t\t}\n\t\t\t\t// For suggestions (value strings), find the corresponding element and show its label\n\t\t\t\tif ( typeof token === 'string' && elements ) {\n\t\t\t\t\tconst element = elements.find(\n\t\t\t\t\t\t( el ) => el.value === token\n\t\t\t\t\t);\n\t\t\t\t\treturn element?.label || token;\n\t\t\t\t}\n\t\t\t\treturn token;\n\t\t\t} }\n\t\t\t__experimentalRenderItem={ ( { item }: { item: any } ) => {\n\t\t\t\t// Custom rendering for suggestion items (item is a value string)\n\t\t\t\tif ( typeof item === 'string' && elements ) {\n\t\t\t\t\tconst element = elements.find(\n\t\t\t\t\t\t( el ) => el.value === item\n\t\t\t\t\t);\n\t\t\t\t\treturn <span>{ element?.label || item }</span>;\n\t\t\t\t}\n\t\t\t\treturn <span>{ item }</span>;\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { colord } from 'colord';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\tprivateApis,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedInputControl, Picker } = unlock( privateApis );\n\nconst ColorPicker = ( {\n\tcolor,\n\tonColorChange,\n}: {\n\tcolor: string;\n\tonColorChange: ( colorObject: any ) => void;\n} ) => {\n\tconst validColor = color && colord( color ).isValid() ? color : '#ffffff';\n\n\treturn (\n\t\t<Dropdown\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth: '24px',\n\t\t\t\t\t\t\theight: '24px',\n\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\tbackgroundColor: validColor,\n\t\t\t\t\t\t\tborder: '1px solid #ddd',\n\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\toutline: isOpen ? '2px solid #007cba' : 'none',\n\t\t\t\t\t\t\toutlineOffset: '2px',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-label=\"Open color picker\"\n\t\t\t\t\t/>\n\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t) }\n\t\t\trenderContent={ () => (\n\t\t\t\t<div style={ { padding: '16px' } }>\n\t\t\t\t\t<Picker\n\t\t\t\t\t\tcolor={ colord( validColor ) }\n\t\t\t\t\t\tonChange={ onColorChange }\n\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nexport default function Color< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, placeholder, description, setValue, isValid } = field;\n\tconst value = field.getValue( { item: data } ) || '';\n\n\tconst handleColorChange = useCallback(\n\t\t( colorObject: any ) => {\n\t\t\tonChange( setValue( { item: data, value: colorObject.toHex() } ) );\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst handleInputChange = useCallback(\n\t\t( newValue: string | undefined ) => {\n\t\t\tonChange( setValue( { item: data, value: newValue || '' } ) );\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\treturn (\n\t\t<ValidatedInputControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value }\n\t\t\thelp={ description }\n\t\t\tonChange={ handleInputChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\ttype=\"text\"\n\t\t\tprefix={\n\t\t\t\t<ColorPicker\n\t\t\t\t\tcolor={ value }\n\t\t\t\t\tonColorChange={ handleColorChange }\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n\tButton,\n} from '@wordpress/components';\nimport { useCallback, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { seen, unseen } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport ValidatedText from './utils/validated-input';\nimport type { DataFormControlProps } from '../types';\n\nexport default function Password< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst [ isVisible, setIsVisible ] = useState( false );\n\n\tconst toggleVisibility = useCallback( () => {\n\t\tsetIsVisible( ( prev ) => ! prev );\n\t}, [] );\n\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: isVisible ? 'text' : 'password',\n\t\t\t\tsuffix: (\n\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ isVisible ? unseen : seen }\n\t\t\t\t\t\t\tonClick={ toggleVisibility }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\t\t? __( 'Hide password' )\n\t\t\t\t\t\t\t\t\t: __( 'Show password' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { Field } from '../types/field-api';\n\nexport default function hasElements< Item >( field: Field< Item > ): boolean {\n\treturn (\n\t\t( Array.isArray( field.elements ) && field.elements.length > 0 ) ||\n\t\ttypeof field.getElements === 'function'\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { ComponentType } from 'react';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataFormControlProps,\n\tField,\n\tFieldTypeDefinition,\n\tEditConfig,\n} from '../types';\nimport checkbox from './checkbox';\nimport datetime from './datetime';\nimport date from './date';\nimport email from './email';\nimport telephone from './telephone';\nimport url from './url';\nimport integer from './integer';\nimport number from './number';\nimport radio from './radio';\nimport select from './select';\nimport text from './text';\nimport toggle from './toggle';\nimport textarea from './textarea';\nimport toggleGroup from './toggle-group';\nimport array from './array';\nimport color from './color';\nimport password from './password';\nimport hasElements from '../utils/has-elements';\n\ninterface FormControls {\n\t[ key: string ]: ComponentType< DataFormControlProps< any > >;\n}\n\nconst FORM_CONTROLS: FormControls = {\n\tarray,\n\tcheckbox,\n\tcolor,\n\tdatetime,\n\tdate,\n\temail,\n\ttelephone,\n\turl,\n\tinteger,\n\tnumber,\n\tpassword,\n\tradio,\n\tselect,\n\ttext,\n\ttoggle,\n\ttextarea,\n\ttoggleGroup,\n};\n\nfunction isEditConfig( value: any ): value is EditConfig {\n\treturn (\n\t\tvalue && typeof value === 'object' && typeof value.control === 'string'\n\t);\n}\n\nfunction createConfiguredControl( config: EditConfig ) {\n\tconst { control, ...controlConfig } = config;\n\tconst BaseControlType = getControlByType( control );\n\n\treturn function ConfiguredControl< Item >(\n\t\tprops: DataFormControlProps< Item >\n\t) {\n\t\treturn <BaseControlType { ...props } config={ controlConfig } />;\n\t};\n}\n\nexport function getControl< Item >(\n\tfield: Field< Item >,\n\tfieldTypeDefinition: FieldTypeDefinition< Item >\n) {\n\tif ( typeof field.Edit === 'function' ) {\n\t\treturn field.Edit;\n\t}\n\n\tif ( typeof field.Edit === 'string' ) {\n\t\treturn getControlByType( field.Edit );\n\t}\n\n\tif ( isEditConfig( field.Edit ) ) {\n\t\treturn createConfiguredControl( field.Edit );\n\t}\n\n\tif ( hasElements( field ) && field.type !== 'array' ) {\n\t\treturn getControlByType( 'select' );\n\t}\n\n\tif ( typeof fieldTypeDefinition.Edit === 'string' ) {\n\t\treturn getControlByType( fieldTypeDefinition.Edit );\n\t}\n\n\tif ( isEditConfig( fieldTypeDefinition.Edit ) ) {\n\t\treturn createConfiguredControl( fieldTypeDefinition.Edit );\n\t}\n\n\treturn fieldTypeDefinition.Edit;\n}\n\nexport function getControlByType( type: string ) {\n\tif ( Object.keys( FORM_CONTROLS ).includes( type ) ) {\n\t\treturn FORM_CONTROLS[ type ];\n\t}\n\n\tthrow 'Control ' + type + ' not found';\n}\n", "/**\n * External dependencies\n */\nimport type { FunctionComponent } from 'react';\n\n/**\n * Internal dependencies\n */\nimport getFieldTypeDefinition from '../field-types';\nimport type {\n\tDataViewRenderFieldProps,\n\tField,\n\tFieldTypeDefinition,\n\tNormalizedFilterByConfig,\n\tNormalizedField,\n} from '../types';\nimport { getControl } from '../dataform-controls';\nimport {\n\tALL_OPERATORS,\n\tOPERATOR_BETWEEN,\n\tSINGLE_SELECTION_OPERATORS,\n} from '../constants';\nimport hasElements from './has-elements';\n\nconst getValueFromId =\n\t( id: string ) =>\n\t( { item }: { item: any } ) => {\n\t\tconst path = id.split( '.' );\n\t\tlet value = item;\n\t\tfor ( const segment of path ) {\n\t\t\tif ( value.hasOwnProperty( segment ) ) {\n\t\t\t\tvalue = value[ segment ];\n\t\t\t} else {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t};\n\nconst setValueFromId =\n\t( id: string ) =>\n\t( { value }: { value: any } ) => {\n\t\tconst path = id.split( '.' );\n\t\tconst result: any = {};\n\t\tlet current = result;\n\n\t\tfor ( const segment of path.slice( 0, -1 ) ) {\n\t\t\tcurrent[ segment ] = {};\n\t\t\tcurrent = current[ segment ];\n\t\t}\n\n\t\tcurrent[ path.at( -1 )! ] = value;\n\t\treturn result;\n\t};\n\nfunction getFilterBy< Item >(\n\tfield: Field< Item >,\n\tfieldTypeDefinition: FieldTypeDefinition< Item >\n): NormalizedFilterByConfig | false {\n\tif ( field.filterBy === false ) {\n\t\treturn false;\n\t}\n\n\tif ( typeof field.filterBy === 'object' ) {\n\t\tlet operators = field.filterBy.operators;\n\n\t\t// Assign default values if no operator was provided.\n\t\tif ( ! operators || ! Array.isArray( operators ) ) {\n\t\t\toperators = !! fieldTypeDefinition.filterBy\n\t\t\t\t? fieldTypeDefinition.filterBy.defaultOperators\n\t\t\t\t: [];\n\t\t}\n\n\t\t// Make sure only valid operators are included.\n\t\tlet validOperators = ALL_OPERATORS;\n\t\tif ( typeof fieldTypeDefinition.filterBy === 'object' ) {\n\t\t\tvalidOperators = fieldTypeDefinition.filterBy.validOperators;\n\t\t}\n\t\toperators = operators.filter( ( operator ) =>\n\t\t\tvalidOperators.includes( operator )\n\t\t);\n\n\t\t// The `between` operator is not supported when elements are provided.\n\t\tif ( hasElements( field ) && operators.includes( OPERATOR_BETWEEN ) ) {\n\t\t\toperators = operators.filter(\n\t\t\t\t( operator ) => operator !== OPERATOR_BETWEEN\n\t\t\t);\n\t\t}\n\n\t\t// Do not allow mixing single & multiselection operators.\n\t\t// Remove multiselection operators if any of the single selection ones is present.\n\t\tconst hasSingleSelectionOperator = operators.some( ( operator ) =>\n\t\t\tSINGLE_SELECTION_OPERATORS.includes( operator )\n\t\t);\n\t\tif ( hasSingleSelectionOperator ) {\n\t\t\toperators = operators.filter( ( operator ) =>\n\t\t\t\t// The 'Between' operator is unique as it can be combined with single selection operators.\n\t\t\t\t[ ...SINGLE_SELECTION_OPERATORS, OPERATOR_BETWEEN ].includes(\n\t\t\t\t\toperator\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t// If no operators are left at this point,\n\t\t// the filters should be disabled.\n\t\tif ( operators.length === 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tisPrimary: !! field.filterBy.isPrimary,\n\t\t\toperators,\n\t\t};\n\t}\n\n\tif ( fieldTypeDefinition.filterBy === false ) {\n\t\treturn false;\n\t}\n\n\tlet defaultOperators = fieldTypeDefinition.filterBy.defaultOperators;\n\t// The `between` operator is not supported when elements are provided.\n\tif (\n\t\thasElements( field ) &&\n\t\tdefaultOperators.includes( OPERATOR_BETWEEN )\n\t) {\n\t\tdefaultOperators = defaultOperators.filter(\n\t\t\t( operator ) => operator !== OPERATOR_BETWEEN\n\t\t);\n\t}\n\n\treturn {\n\t\toperators: defaultOperators,\n\t};\n}\n\n/**\n * Apply default values and normalize the fields config.\n *\n * @param fields Fields config.\n * @return Normalized fields config.\n */\nexport default function normalizeFields< Item >(\n\tfields: Field< Item >[]\n): NormalizedField< Item >[] {\n\treturn fields.map( ( field ) => {\n\t\tconst fieldTypeDefinition = getFieldTypeDefinition< Item >(\n\t\t\tfield.type\n\t\t);\n\t\tconst getValue = field.getValue || getValueFromId( field.id );\n\t\tconst setValue = field.setValue || setValueFromId( field.id );\n\n\t\tconst sort =\n\t\t\tfield.sort ??\n\t\t\tfunction sort( a, b, direction ) {\n\t\t\t\treturn fieldTypeDefinition.sort(\n\t\t\t\t\tgetValue( { item: a } ),\n\t\t\t\t\tgetValue( { item: b } ),\n\t\t\t\t\tdirection\n\t\t\t\t);\n\t\t\t};\n\n\t\tconst isValid = {\n\t\t\t...fieldTypeDefinition.isValid,\n\t\t\t...field.isValid,\n\t\t};\n\n\t\tconst Edit = getControl( field, fieldTypeDefinition );\n\n\t\tconst render =\n\t\t\tfield.render ??\n\t\t\tfunction render( {\n\t\t\t\titem,\n\t\t\t\tfield: renderedField,\n\t\t\t}: DataViewRenderFieldProps< Item > ) {\n\t\t\t\treturn (\n\t\t\t\t\tfieldTypeDefinition.render as FunctionComponent<\n\t\t\t\t\t\tDataViewRenderFieldProps< Item >\n\t\t\t\t\t>\n\t\t\t\t )( { item, field: renderedField } );\n\t\t\t};\n\n\t\tconst filterBy = getFilterBy( field, fieldTypeDefinition );\n\n\t\treturn {\n\t\t\t...field,\n\t\t\tlabel: field.label || field.id,\n\t\t\theader: field.header || field.label || field.id,\n\t\t\tgetValue,\n\t\t\tsetValue,\n\t\t\trender,\n\t\t\tsort,\n\t\t\tisValid,\n\t\t\tEdit,\n\t\t\thasElements: hasElements( field ),\n\t\t\tenableHiding: field.enableHiding ?? true,\n\t\t\tenableSorting:\n\t\t\t\tfield.enableSorting ??\n\t\t\t\tfieldTypeDefinition.enableSorting ??\n\t\t\t\ttrue,\n\t\t\tfilterBy,\n\t\t\treadOnly: field.readOnly ?? fieldTypeDefinition.readOnly ?? false,\n\t\t};\n\t} );\n}\n", "/**\n * External dependencies\n */\nimport type { ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { useEffect, useMemo, useRef, useState } from '@wordpress/element';\nimport { useResizeObserver, throttle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport { VIEW_LAYOUTS } from '../../dataviews-layouts';\nimport {\n\tFilters,\n\tFiltersToggled,\n\tuseFilters,\n\tFiltersToggle,\n} from '../dataviews-filters';\nimport DataViewsLayout from '../dataviews-layout';\nimport { DataViewsPickerFooter } from './footer';\nimport DataViewsSearch from '../dataviews-search';\nimport { DataViewsPagination } from '../dataviews-pagination';\nimport DataViewsViewConfig, {\n\tDataviewsViewConfigDropdown,\n\tViewTypeMenu,\n} from '../dataviews-view-config';\nimport normalizeFields from '../../utils/normalize-fields';\nimport type { ActionButton, Field, View, SupportedLayouts } from '../../types';\nimport type { SelectionOrUpdater } from '../../types/private';\ntype ItemWithId = { id: string };\n\nconst isItemClickable = () => false;\n\nconst dataViewsPickerLayouts = VIEW_LAYOUTS.filter(\n\t( viewLayout ) => viewLayout.isPicker\n);\n\ntype DataViewsPickerProps< Item > = {\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n\tfields: Field< Item >[];\n\tactions?: ActionButton< Item >[];\n\tsearch?: boolean;\n\tsearchLabel?: string;\n\tdata: Item[];\n\tisLoading?: boolean;\n\tpaginationInfo: {\n\t\ttotalItems: number;\n\t\ttotalPages: number;\n\t\tinfiniteScrollHandler?: () => void;\n\t};\n\tdefaultLayouts: SupportedLayouts;\n\tselection: string[];\n\tonChangeSelection: ( items: string[] ) => void;\n\tchildren?: ReactNode;\n\tconfig?: {\n\t\tperPageSizes: number[];\n\t};\n\titemListLabel?: string;\n\tempty?: ReactNode;\n} & ( Item extends ItemWithId\n\t? { getItemId?: ( item: Item ) => string }\n\t: { getItemId: ( item: Item ) => string } );\n\nconst defaultGetItemId = ( item: ItemWithId ) => item.id;\nconst EMPTY_ARRAY: any[] = [];\n\ntype DefaultUIProps = Pick<\n\tDataViewsPickerProps< any >,\n\t'search' | 'searchLabel'\n>;\n\nfunction DefaultUI( {\n\tsearch = true,\n\tsearchLabel = undefined,\n}: DefaultUIProps ) {\n\treturn (\n\t\t<>\n\t\t\t<HStack\n\t\t\t\talignment=\"top\"\n\t\t\t\tjustify=\"space-between\"\n\t\t\t\tclassName=\"dataviews__view-actions\"\n\t\t\t\tspacing={ 1 }\n\t\t\t>\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"start\"\n\t\t\t\t\texpanded={ false }\n\t\t\t\t\tclassName=\"dataviews__search\"\n\t\t\t\t>\n\t\t\t\t\t{ search && <DataViewsSearch label={ searchLabel } /> }\n\t\t\t\t\t<FiltersToggle />\n\t\t\t\t</HStack>\n\t\t\t\t<HStack\n\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\texpanded={ false }\n\t\t\t\t\tstyle={ { flexShrink: 0 } }\n\t\t\t\t>\n\t\t\t\t\t<DataViewsViewConfig />\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t\t<FiltersToggled className=\"dataviews-filters__container\" />\n\t\t\t<DataViewsLayout />\n\t\t\t<DataViewsPickerFooter />\n\t\t</>\n\t);\n}\n\nfunction DataViewsPicker< Item >( {\n\tview,\n\tonChangeView,\n\tfields,\n\tsearch = true,\n\tsearchLabel = undefined,\n\tactions = EMPTY_ARRAY,\n\tdata,\n\tgetItemId = defaultGetItemId,\n\tisLoading = false,\n\tpaginationInfo,\n\tdefaultLayouts: defaultLayoutsProperty,\n\tselection,\n\tonChangeSelection,\n\tchildren,\n\tconfig = { perPageSizes: [ 10, 20, 50, 100 ] },\n\titemListLabel,\n\tempty,\n}: DataViewsPickerProps< Item > ) {\n\tconst { infiniteScrollHandler } = paginationInfo;\n\tconst containerRef = useRef< HTMLDivElement | null >( null );\n\tconst [ containerWidth, setContainerWidth ] = useState( 0 );\n\tconst resizeObserverRef = useResizeObserver(\n\t\t( resizeObserverEntries: any ) => {\n\t\t\tsetContainerWidth(\n\t\t\t\tresizeObserverEntries[ 0 ].borderBoxSize[ 0 ].inlineSize\n\t\t\t);\n\t\t},\n\t\t{ box: 'border-box' }\n\t);\n\tconst [ openedFilter, setOpenedFilter ] = useState< string | null >( null );\n\tfunction setSelectionWithChange( value: SelectionOrUpdater ) {\n\t\tconst newValue =\n\t\t\ttypeof value === 'function' ? value( selection ) : value;\n\t\tif ( onChangeSelection ) {\n\t\t\tonChangeSelection( newValue );\n\t\t}\n\t}\n\tconst _fields = useMemo( () => normalizeFields( fields ), [ fields ] );\n\tconst filters = useFilters( _fields, view );\n\tconst hasPrimaryOrLockedFilters = useMemo(\n\t\t() =>\n\t\t\t( filters || [] ).some(\n\t\t\t\t( filter ) => filter.isPrimary || filter.isLocked\n\t\t\t),\n\t\t[ filters ]\n\t);\n\tconst [ isShowingFilter, setIsShowingFilter ] = useState< boolean >(\n\t\thasPrimaryOrLockedFilters\n\t);\n\n\tuseEffect( () => {\n\t\tif ( hasPrimaryOrLockedFilters && ! isShowingFilter ) {\n\t\t\tsetIsShowingFilter( true );\n\t\t}\n\t}, [ hasPrimaryOrLockedFilters, isShowingFilter ] );\n\n\t// Attach scroll event listener for infinite scroll\n\tuseEffect( () => {\n\t\tif ( ! view.infiniteScrollEnabled || ! containerRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleScroll = throttle( ( event: unknown ) => {\n\t\t\tconst target = ( event as Event ).target as HTMLElement;\n\t\t\tconst scrollTop = target.scrollTop;\n\t\t\tconst scrollHeight = target.scrollHeight;\n\t\t\tconst clientHeight = target.clientHeight;\n\n\t\t\t// Check if user has scrolled near the bottom\n\t\t\tif ( scrollTop + clientHeight >= scrollHeight - 100 ) {\n\t\t\t\tinfiniteScrollHandler?.();\n\t\t\t}\n\t\t}, 100 ); // Throttle to 100ms\n\n\t\tconst container = containerRef.current;\n\t\tcontainer.addEventListener( 'scroll', handleScroll );\n\n\t\treturn () => {\n\t\t\tcontainer.removeEventListener( 'scroll', handleScroll );\n\t\t\thandleScroll.cancel(); // Cancel any pending throttled calls\n\t\t};\n\t}, [ infiniteScrollHandler, view.infiniteScrollEnabled ] );\n\n\t// Filter out DataViewsPicker layouts.\n\tconst defaultLayouts = useMemo(\n\t\t() =>\n\t\t\tObject.fromEntries(\n\t\t\t\tObject.entries( defaultLayoutsProperty ).filter(\n\t\t\t\t\t( [ layoutType ] ) => {\n\t\t\t\t\t\treturn dataViewsPickerLayouts.some(\n\t\t\t\t\t\t\t( viewLayout ) => viewLayout.type === layoutType\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t),\n\t\t[ defaultLayoutsProperty ]\n\t);\n\n\tif ( ! defaultLayouts[ view.type ] ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DataViewsContext.Provider\n\t\t\tvalue={ {\n\t\t\t\tview,\n\t\t\t\tonChangeView,\n\t\t\t\tfields: _fields,\n\t\t\t\tactions,\n\t\t\t\tdata,\n\t\t\t\tisLoading,\n\t\t\t\tpaginationInfo,\n\t\t\t\tisItemClickable,\n\t\t\t\tselection,\n\t\t\t\tonChangeSelection: setSelectionWithChange,\n\t\t\t\topenedFilter,\n\t\t\t\tsetOpenedFilter,\n\t\t\t\tgetItemId,\n\t\t\t\tcontainerWidth,\n\t\t\t\tcontainerRef,\n\t\t\t\tresizeObserverRef,\n\t\t\t\tdefaultLayouts,\n\t\t\t\tfilters,\n\t\t\t\tisShowingFilter,\n\t\t\t\tsetIsShowingFilter,\n\t\t\t\tconfig,\n\t\t\t\titemListLabel,\n\t\t\t\tempty,\n\t\t\t\thasInfiniteScrollHandler: !! infiniteScrollHandler,\n\t\t\t} }\n\t\t>\n\t\t\t<div className=\"dataviews-picker-wrapper\" ref={ containerRef }>\n\t\t\t\t{ children ?? (\n\t\t\t\t\t<DefaultUI search={ search } searchLabel={ searchLabel } />\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</DataViewsContext.Provider>\n\t);\n}\n\n// Populate the DataViews sub components\nconst DataViewsPickerSubComponents =\n\tDataViewsPicker as typeof DataViewsPicker & {\n\t\tBulkActionToolbar: typeof DataViewsPickerFooter;\n\t\tFilters: typeof Filters;\n\t\tFiltersToggled: typeof FiltersToggled;\n\t\tFiltersToggle: typeof FiltersToggle;\n\t\tLayout: typeof DataViewsLayout;\n\t\tLayoutSwitcher: typeof ViewTypeMenu;\n\t\tPagination: typeof DataViewsPagination;\n\t\tSearch: typeof DataViewsSearch;\n\t\tViewConfig: typeof DataviewsViewConfigDropdown;\n\t};\n\nDataViewsPickerSubComponents.BulkActionToolbar = DataViewsPickerFooter;\nDataViewsPickerSubComponents.Filters = Filters;\nDataViewsPickerSubComponents.FiltersToggled = FiltersToggled;\nDataViewsPickerSubComponents.FiltersToggle = FiltersToggle;\nDataViewsPickerSubComponents.Layout = DataViewsLayout;\nDataViewsPickerSubComponents.LayoutSwitcher = ViewTypeMenu;\nDataViewsPickerSubComponents.Pagination = DataViewsPagination;\nDataViewsPickerSubComponents.Search = DataViewsSearch;\nDataViewsPickerSubComponents.ViewConfig = DataviewsViewConfigDropdown;\n\nexport default DataViewsPickerSubComponents;\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/media-utils'\n\t);\n", "/**\n * Internal dependencies\n */\nimport { sideloadMedia } from './utils/sideload-media';\nimport { MediaUploadModal } from './components/media-upload-modal';\nimport { lock } from './lock-unlock';\n\n/**\n * Private @wordpress/media-utils APIs.\n */\nexport const privateApis = {};\n\nlock( privateApis, {\n\tsideloadMedia,\n\tMediaUploadModal,\n} );\n"],
  "mappings": "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AAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,SACL,OAAK,SACL,OAAK,SACL,OAAK,SACL,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,O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",
  "names": ["require_element", "__commonJSMin", "exports", "module", "require_i18n", "__commonJSMin", "exports", "module", "require_blob", "__commonJSMin", "exports", "module", "require_api_fetch", "__commonJSMin", "exports", "module", "require_core_data", "__commonJSMin", "exports", "module", "require_data", "__commonJSMin", "exports", "module", "require_components", "__commonJSMin", "exports", "module", "require_primitives", "__commonJSMin", "exports", "module", "require_jsx_runtime", "__commonJSMin", "exports", "module", "require_compose", "__commonJSMin", "exports", "module", "require_keycodes", "__commonJSMin", "exports", "module", "require_private_apis", "__commonJSMin", "exports", "module", "require_react", "__commonJSMin", "exports", "module", "require_use_sync_external_store_shim_production", "__commonJSMin", "exports", "React", "is", "x", "y", "objectIs", "useState", "useEffect", "useLayoutEffect", "useDebugValue", "useSyncExternalStore$2", "subscribe", "getSnapshot", "value", "_useState", "inst", "forceUpdate", "checkIfSnapshotChanged", "latestGetSnapshot", "nextValue", "useSyncExternalStore$1", "shim", "require_shim", "__commonJSMin", "exports", "module", "require_react_dom", "__commonJSMin", "exports", "module", "require_remove_accents", "__commonJSMin", "exports", "module", "characterMap", "chars", "allAccents", "firstAccent", "matcher", "match", "removeAccents", "string", "hasAccents", "require_es6", "__commonJSMin", "exports", "module", "equal", "a", "b", "length", "i", "keys", "key", "require_date", "__commonJSMin", "exports", "module", "require_warning", "__commonJSMin", "exports", "module", "import_element", "import_i18n", "DEFAULT_EMPTY_GALLERY", "getFeaturedImageMediaFrame", "wp", "toolbar", "selection", "view", "getSingleMediaFrame", "options", "getGalleryDetailsMediaFrame", "editing", "controller", "state", "slimImageObject", "img", "result", "key", "getAttachmentsCollection", "ids", "MediaUpload", "addToGallery", "allowedTypes", "multiple", "value", "currentState", "attachments", "featuredImageId", "featuredImageFrame", "title", "frameConfig", "singleImageFrame", "selections", "onSelect", "selectedImages", "model", "attachment", "isGallery", "valueArray", "id", "onClose", "frameContent", "collection", "gallery", "unstableFeaturedImageFlow", "modalClass", "media_upload_default", "import_i18n", "import_blob", "import_api_fetch", "isPlainObject", "data", "flattenFormData", "formData", "key", "name", "value", "transformAttachment", "attachment", "alt_text", "source_url", "savedMediaProps", "uploadToServer", "file", "additionalData", "signal", "data", "key", "value", "flattenFormData", "transformAttachment", "apiFetch", "import_i18n", "UploadError", "code", "message", "file", "cause", "validateMimeType", "file", "allowedTypes", "isAllowedType", "allowedType", "UploadError", "import_i18n", "getMimeTypesArray", "wpMimeTypesObject", "extensionsString", "mime", "type", "extensions", "extension", "validateMimeTypeForUser", "file", "wpAllowedMimeTypes", "allowedMimeTypesForUser", "getMimeTypesArray", "isAllowedMimeTypeForUser", "UploadError", "import_i18n", "validateFileSize", "file", "maxUploadFileSize", "UploadError", "uploadMedia", "wpAllowedMimeTypes", "allowedTypes", "additionalData", "filesList", "maxUploadFileSize", "onError", "onFileChange", "signal", "multiple", "validFiles", "filesSet", "setAndUpdateFiles", "index", "value", "attachment", "mediaFile", "validateMimeTypeForUser", "error", "validateMimeType", "validateFileSize", "file", "uploadToServer", "message", "UploadError", "import_i18n", "import_api_fetch", "sideloadToServer", "file", "attachmentId", "additionalData", "signal", "data", "key", "value", "flattenFormData", "transformAttachment", "apiFetch", "noop", "sideloadMedia", "file", "attachmentId", "additionalData", "signal", "onFileChange", "onError", "attachment", "sideloadToServer", "error", "message", "UploadError", "import_element", "import_i18n", "import_core_data", "import_data", "import_components", "import_primitives", "import_jsx_runtime", "arrow_down_default", "import_primitives", "import_jsx_runtime", "arrow_left_default", "import_primitives", "import_jsx_runtime", "arrow_right_default", "import_primitives", "import_jsx_runtime", "arrow_up_default", "import_primitives", "import_jsx_runtime", "at_symbol_default", "import_primitives", "import_jsx_runtime", "block_table_default", "import_primitives", "import_jsx_runtime", "category_default", "import_primitives", "import_jsx_runtime", "check_default", "import_primitives", "import_jsx_runtime", "close_small_default", "import_primitives", "import_jsx_runtime", "cog_default", "import_primitives", "import_jsx_runtime", "error_default", "import_primitives", "import_jsx_runtime", "format_list_bullets_rtl_default", "import_primitives", "import_jsx_runtime", "format_list_bullets_default", "import_primitives", "import_jsx_runtime", "funnel_default", "import_primitives", "import_jsx_runtime", "link_default", "import_primitives", "import_jsx_runtime", "mobile_default", "import_primitives", "import_jsx_runtime", "more_vertical_default", "import_primitives", "import_jsx_runtime", "next_default", "import_primitives", "import_jsx_runtime", "previous_default", "import_primitives", "import_jsx_runtime", "search_default", "import_primitives", "import_jsx_runtime", "seen_default", "import_primitives", "import_jsx_runtime", "unseen_default", "import_primitives", "import_jsx_runtime", "upload_default", "import_element", "import_i18n", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_BETWEEN", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "ALL_OPERATORS", "SINGLE_SELECTION_OPERATORS", "OPERATORS", "SORTING_DIRECTIONS", "sortArrows", "sortValues", "sortLabels", "sortIcons", "arrow_up_default", "arrow_down_default", "LAYOUT_TABLE", "LAYOUT_GRID", "LAYOUT_LIST", "LAYOUT_PICKER_GRID", "LAYOUT_PICKER_TABLE", "DataViewsContext", "LAYOUT_TABLE", "item", "dataviews_context_default", "import_i18n", "r", "f", "n", "o", "clsx", "clsx_default", "import_i18n", "import_components", "import_element", "import_keycodes", "import_components", "import_i18n", "import_jsx_runtime", "DataViewsSelectionCheckbox", "selection", "onChangeSelection", "item", "getItemId", "titleField", "disabled", "extraProps", "id", "checked", "selectionLabel", "itemId", "import_components", "import_i18n", "import_element", "import_data", "import_compose", "import_private_apis", "lock", "unlock", "import_jsx_runtime", "Menu", "kebabCase", "unlock", "componentsPrivateApis", "ButtonTrigger", "action", "onClick", "items", "label", "MenuItemTrigger", "ActionModal", "closeModal", "modalHeader", "ActionsMenuGroup", "actions", "item", "registry", "setActiveModalAction", "primaryActions", "regularActions", "acc", "renderActionGroup", "actionList", "ItemActions", "isCompact", "eligibleActions", "_eligibleActions", "CompactItemActions", "HStack", "PrimaryActions", "isSmall", "activeModalAction", "more_vertical_default", "import_components", "import_i18n", "import_element", "import_data", "import_compose", "import_jsx_runtime", "useHasAPossibleBulkAction", "actions", "item", "action", "useSomeItemHasAPossibleBulkAction", "data", "BulkSelectionCheckbox", "selection", "onChangeSelection", "getItemId", "selectableItems", "selectedItems", "areAllSelected", "import_i18n", "import_components", "import_element", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "WithMenuSeparators", "children", "child", "i", "_HeaderMenu", "fieldId", "view", "fields", "onChangeView", "onHide", "setOpenedFilter", "canMove", "ref", "visibleFieldIds", "index", "isSorted", "isHidable", "isSortable", "canAddFilter", "operators", "field", "f", "header", "_filter", "sortArrows", "SORTING_DIRECTIONS", "direction", "isChecked", "value", "sortLabels", "funnel_default", "arrow_left_default", "arrow_right_default", "unseen_default", "id", "ColumnHeaderMenu", "column_header_menu_default", "import_components", "import_element", "import_jsx_runtime", "getClickableItemProps", "item", "isItemClickable", "onClickItem", "className", "event", "ItemClickWrapper", "renderItemLink", "children", "extraProps", "renderedElement", "clickProps", "import_jsx_runtime", "ColumnPrimary", "item", "level", "titleField", "mediaField", "descriptionField", "onClickItem", "renderItemLink", "isItemClickable", "HStack", "ItemClickWrapper", "VStack", "column_primary_default", "import_compose", "import_element", "import_i18n", "isScrolledToEnd", "element", "useIsHorizontalScrollEnd", "scrollContainerRef", "enabled", "isHorizontalScrollEnd", "setIsHorizontalScrollEnd", "handleIsHorizontalScrollEnd", "scrollContainer", "getDataByGroup", "data", "groupByField", "groups", "item", "groupName", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "FieldItem", "field", "isVisible", "onToggleVisibility", "Item", "HStack", "check_default", "isDefined", "item", "PropertiesSection", "showLabel", "view", "fields", "onChangeView", "dataviews_context_default", "togglableFields", "regularFields", "f", "titleField", "previewField", "descriptionField", "lockedFields", "visibleFieldIds", "visibleRegularFieldsCount", "visibleLockedFields", "isVisibleFlag", "totalVisibleFields", "locked", "hiddenLockedFields", "VStack", "ItemGroup", "fieldToRender", "fieldId", "import_jsx_runtime", "TableColumnField", "item", "fields", "column", "align", "field", "f", "className", "clsx_default", "TableRow", "hasBulkActions", "level", "actions", "id", "view", "titleField", "mediaField", "descriptionField", "selection", "getItemId", "isItemClickable", "onClickItem", "renderItemLink", "onChangeSelection", "isActionsColumnSticky", "posinset", "paginationInfo", "dataviews_context_default", "hasPossibleBulkAction", "useHasAPossibleBulkAction", "isSelected", "isHovered", "setIsHovered", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "handleMouseEnter", "handleMouseLeave", "isTouchDeviceRef", "columns", "hasPrimaryColumn", "event", "itemId", "DataViewsSelectionCheckbox", "column_primary_default", "width", "maxWidth", "minWidth", "e", "ItemActions", "ViewTable", "data", "getItemLevel", "isLoading", "onChangeView", "setOpenedFilter", "empty", "containerRef", "headerMenuRefs", "headerMenuToFocusRef", "nextHeaderMenuToFocus", "setNextHeaderMenuToFocus", "useSomeItemHasAPossibleBulkAction", "contextMenuAnchor", "setContextMenuAnchor", "tableNoticeId", "isHorizontalScrollEnd", "useIsHorizontalScrollEnd", "onHide", "hidden", "fallback", "handleHeaderContextMenu", "virtualAnchor", "hasData", "groupField", "dataByGroup", "getDataByGroup", "headerMenuRef", "index", "node", "isInfiniteScroll", "PropertiesSection", "BulkSelectionCheckbox", "column_header_menu_default", "sortValues", "groupName", "groupItems", "table_default", "import_components", "import_i18n", "import_compose", "import_keycodes", "import_element", "import_element", "import_jsx_runtime", "GridItems", "className", "previewSize", "props", "ref", "clsx_default", "import_jsx_runtime", "Badge", "unlock", "componentsPrivateApis", "GridItem", "view", "selection", "onChangeSelection", "onClickItem", "isItemClickable", "renderItemLink", "getItemId", "item", "actions", "mediaField", "titleField", "descriptionField", "regularFields", "badgeFields", "hasBulkActions", "config", "posinset", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "hasBulkAction", "useHasAPossibleBulkAction", "id", "instanceId", "isSelected", "renderedMediaField", "renderedTitleField", "shouldRenderMedia", "mediaA11yProps", "titleA11yProps", "paginationInfo", "dataviews_context_default", "VStack", "clsx_default", "event", "itemId", "ItemClickWrapper", "DataViewsSelectionCheckbox", "ItemActions", "HStack", "field", "ViewGrid", "data", "fields", "isLoading", "className", "empty", "resizeObserverRef", "otherFields", "accumulator", "fieldId", "f", "key", "hasData", "useSomeItemHasAPossibleBulkAction", "usedPreviewSize", "size", "groupField", "dataByGroup", "getDataByGroup", "isInfiniteScroll", "groupName", "groupItems", "GridItems", "index", "grid_default", "import_compose", "import_components", "import_element", "import_i18n", "import_data", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "generateItemWrapperCompositeId", "idPrefix", "generatePrimaryActionCompositeId", "primaryActionId", "generateDropdownTriggerCompositeId", "PrimaryActionGridCell", "primaryAction", "item", "registry", "isModalOpen", "setIsModalOpen", "compositeItemId", "label", "ActionModal", "ListItem", "view", "actions", "isSelected", "titleField", "mediaField", "descriptionField", "onSelect", "otherFields", "onDropdownTriggerKeyDown", "posinset", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "itemRef", "labelId", "descriptionId", "isHovered", "setIsHovered", "activeModalAction", "setActiveModalAction", "handleHover", "type", "paginationInfo", "dataviews_context_default", "eligibleActions", "_eligibleActions", "action", "hasOnlyOnePrimaryAction", "renderedMediaField", "renderedTitleField", "usedActions", "HStack", "more_vertical_default", "ActionsMenuGroup", "clsx_default", "VStack", "field", "isDefined", "ViewList", "props", "data", "fields", "getItemId", "isLoading", "onChangeSelection", "selection", "className", "empty", "baseId", "selectedItem", "fieldId", "f", "generateCompositeItemIdPrefix", "isActiveCompositeItem", "idToCheck", "activeCompositeId", "setActiveCompositeId", "activeItemIndex", "previousActiveItemIndex", "isActiveIdInList", "selectCompositeItem", "targetIndex", "generateCompositeId", "clampedIndex", "itemIdPrefix", "targetCompositeItemId", "event", "hasData", "groupField", "dataByGroup", "getDataByGroup", "groupName", "groupItems", "id", "index", "import_components", "import_i18n", "import_compose", "import_element", "import_components", "import_data", "import_element", "import_i18n", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "DataViewsPagination", "view", "onChangeView", "totalItems", "totalPages", "dataviews_context_default", "currentPage", "pageSelectOptions", "_", "i", "page", "HStack", "newValue", "next_default", "previous_default", "dataviews_pagination_default", "import_jsx_runtime", "EMPTY_ARRAY", "useIsMultiselectPicker", "actions", "action", "BulkSelectionCheckbox", "selection", "selectedItems", "onChangeSelection", "data", "getItemId", "areAllSelected", "id", "item", "selectionSet", "ActionButtons", "items", "registry", "actionInProgress", "setActionInProgress", "HStack", "label", "icon", "isPrimary", "callback", "_label", "variant", "isInProgress", "DataViewsPickerFooter", "dataviews_context_default", "selectionCount", "isMultiselect", "message", "dataviews_pagination_default", "import_jsx_runtime", "Badge", "unlock", "componentsPrivateApis", "GridItem", "view", "multiselect", "selection", "onChangeSelection", "getItemId", "item", "mediaField", "titleField", "descriptionField", "regularFields", "badgeFields", "config", "posinset", "setsize", "showTitle", "showMedia", "showDescription", "id", "isSelected", "renderedMediaField", "renderedTitleField", "children", "props", "VStack", "clsx_default", "itemId", "newSelection", "DataViewsSelectionCheckbox", "HStack", "field", "GridGroup", "groupName", "groupField", "headerId", "ViewPickerGrid", "actions", "data", "fields", "isLoading", "className", "empty", "resizeObserverRef", "paginationInfo", "itemListLabel", "dataviews_context_default", "otherFields", "accumulator", "fieldId", "f", "key", "hasData", "usedPreviewSize", "isMultiselect", "useIsMultiselectPicker", "size", "dataByGroup", "getDataByGroup", "isInfiniteScroll", "currentPage", "perPage", "setSize", "groupItems", "GridItems", "posInSet", "index", "picker_grid_default", "import_i18n", "import_components", "import_element", "import_jsx_runtime", "TableColumnField", "item", "fields", "column", "align", "field", "f", "className", "clsx_default", "TableRow", "id", "view", "titleField", "mediaField", "descriptionField", "selection", "getItemId", "onChangeSelection", "multiselect", "posinset", "paginationInfo", "dataviews_context_default", "isSelected", "isHovered", "setIsHovered", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "handleMouseEnter", "handleMouseLeave", "columns", "hasPrimaryColumn", "children", "props", "itemId", "newSelection", "DataViewsSelectionCheckbox", "column_primary_default", "width", "maxWidth", "minWidth", "ViewPickerTable", "actions", "data", "isLoading", "onChangeView", "setOpenedFilter", "empty", "headerMenuRefs", "headerMenuToFocusRef", "nextHeaderMenuToFocus", "setNextHeaderMenuToFocus", "isMultiselect", "useIsMultiselectPicker", "tableNoticeId", "onHide", "hidden", "fallback", "hasData", "groupField", "dataByGroup", "getDataByGroup", "headerMenuRef", "index", "node", "isInfiniteScroll", "BulkSelectionCheckbox", "column_header_menu_default", "sortValues", "groupName", "groupItems", "picker_table_default", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "imageSizes", "PreviewSizePicker", "context", "dataviews_context_default", "view", "breakValues", "size", "layoutPreviewSize", "previewSizeToUse", "index", "a", "b", "marks", "value", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "DensityPicker", "context", "dataviews_context_default", "view", "ToggleGroupControl", "value", "ToggleGroupControlOption", "VIEW_LAYOUTS", "LAYOUT_TABLE", "table_default", "block_table_default", "DensityPicker", "LAYOUT_GRID", "grid_default", "category_default", "PreviewSizePicker", "LAYOUT_LIST", "ViewList", "format_list_bullets_rtl_default", "format_list_bullets_default", "LAYOUT_PICKER_GRID", "picker_grid_default", "LAYOUT_PICKER_TABLE", "picker_table_default", "import_element", "import_components", "import_components", "import_i18n", "import_element", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a", "b", "prop", "__spreadProps", "__objRest", "source", "exclude", "target", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a", "b", "prop", "__spreadProps", "__objRest", "source", "exclude", "target", "noop", "_", "applyState", "argument", "currentValue", "isUpdater", "value", "isLazyValue", "hasOwnProperty", "object", "prop", "chain", "fns", "args", "fn", "normalizeString", "str", "omit", "object", "keys", "result", "__spreadValues", "key", "hasOwnProperty", "pick", "paths", "identity", "value", "invariant", "condition", "message", "getKeys", "obj", "isFalsyBooleanCallback", "booleanOrCallback", "args", "result", "disabledFromProps", "props", "removeUndefinedValues", "key", "defaultValue", "values", "value", "import_react", "setRef", "ref", "value", "isValidElementWithRef", "element", "getRefProperty", "__spreadValues", "mergeProps", "base", "overrides", "props", "key", "hasOwnProperty", "prop", "overrideValue", "baseValue", "args", "canUseDOM", "checkIsBrowser", "_a", "getDocument", "node", "getActiveElement", "node", "activeDescendant", "activeElement", "getDocument", "isFrame", "id", "element", "contains", "parent", "child", "isButton", "tagName", "buttonInputTypes", "isVisible", "htmlElement", "isTextField", "isTextInput", "isTextArea", "isTextbox", "getTextboxValue", "range", "getTextboxSelection", "start", "end", "selection", "nextRange", "getPopupRole", "fallback", "allowedPopupRoles", "role", "getScrollingElement", "element", "isScrollableOverflow", "overflow", "overflowY", "overflowX", "setSelectionRange", "element", "args", "sortBasedOnDOMPosition", "items", "getElement", "pairs", "item", "index", "isOrderDifferent", "indexA", "indexB", "b", "elementA", "elementB", "isElementPreceding", "_", "a", "isTouchDevice", "canUseDOM", "isApple", "isSafari", "isFirefox", "isPortalEvent", "event", "contains", "isSelfTarget", "isOpeningInNewTab", "element", "isAppleDevice", "isApple", "tagName", "isDownloading", "fireBlurEvent", "element", "eventInit", "event", "defaultAllowed", "bubbleInit", "__spreadProps", "__spreadValues", "fireKeyboardEvent", "element", "type", "eventInit", "event", "fireClickEvent", "isFocusEventOutside", "container", "containerElement", "relatedTarget", "contains", "queueBeforeEvent", "element", "type", "callback", "timeout", "cancelTimer", "callback2", "timerId2", "timerId", "callSync", "addGlobalEventListener", "listener", "options", "scope", "children", "frame", "remove", "import_react", "React", "_React", "__spreadValues", "useReactId", "useReactDeferredValue", "useReactInsertionEffect", "useSafeLayoutEffect", "canUseDOM", "useInitialValue", "value", "initialValue", "useLiveRef", "value", "ref", "useSafeLayoutEffect", "useEvent", "callback", "ref", "useReactInsertionEffect", "args", "_a", "useTransactionState", "state", "setState", "useSafeLayoutEffect", "prevState", "prev", "useMergeRefs", "refs", "value", "setRef", "useId", "defaultId", "useReactId", "reactId", "id", "setId", "random", "useTagName", "refOrElement", "type", "stringOrUndefined", "type2", "tagName", "setTagName", "useSafeLayoutEffect", "element", "useAttribute", "attributeName", "defaultValue", "initialValue", "useInitialValue", "attribute", "setAttribute", "callback", "value", "observer", "useUpdateEffect", "effect", "deps", "mounted", "useUpdateLayoutEffect", "useForceUpdate", "useBooleanEvent", "booleanOrCallback", "useEvent", "useWrapElement", "props", "wrapElement", "__spreadProps", "__spreadValues", "useMetadataProps", "props", "key", "value", "parent", "onLoadedMetadataCapture", "__spreadProps", "__spreadValues", "useIsMouseMoving", "addGlobalEventListener", "setMouseMoving", "resetMouseMoving", "useEvent", "mouseMoving", "previousScreenX", "previousScreenY", "hasMouseMovement", "event", "movementX", "movementY", "React", "import_jsx_runtime", "forwardRef2", "render", "Role", "props", "ref", "__spreadProps", "__spreadValues", "memo2", "Component", "propsAreEqual", "createElement", "Type", "_a", "wrapElement", "rest", "__objRest", "mergedRef", "useMergeRefs", "getRefProperty", "element", "renderProps", "mergeProps", "createHook", "useProps", "useRole", "createStoreContext", "providers", "scopedProviders", "context", "scopedContext", "useContext2", "useScopedContext", "onlyScoped", "scoped", "store", "useProviderContext", "ContextProvider", "children", "Provider", "ctx", "createStoreContext", "useCollectionContext", "useCollectionScopedContext", "useCollectionProviderContext", "CollectionContextProvider", "CollectionScopedContextProvider", "import_react", "ctx", "createStoreContext", "CollectionContextProvider", "CollectionScopedContextProvider", "useCompositeContext", "useCompositeScopedContext", "useCompositeProviderContext", "CompositeContextProvider", "CompositeScopedContextProvider", "CompositeItemContext", "CompositeRowContext", "import_react", "TagValueContext", "TagRemoveIdContext", "ctx", "createStoreContext", "CompositeContextProvider", "CompositeScopedContextProvider", "useTagContext", "useTagScopedContext", "useTagProviderContext", "TagContextProvider", "TagScopedContextProvider", "getInternal", "store", "key", "internals", "invariant", "createStore", "initialState", "stores", "state", "prevStateBatch", "lastUpdate", "destroy", "noop", "instances", "updatedKeys", "setups", "listeners", "batchListeners", "disposables", "listenerKeys", "storeSetup", "callback", "storeInit", "initialized", "instance", "maybeDestroy", "desyncs", "getKeys", "chain", "_a", "storeState", "hasOwnProperty", "sync", "state2", "setState", "teardowns", "setup2", "cleanups", "init", "sub", "keys", "listener", "set", "storeSubscribe", "storeSync", "storeBatch", "storePick", "pick", "finalStore", "storeOmit", "omit", "getState", "value", "fromStores", "nextValue", "applyState", "prevState", "__spreadProps", "__spreadValues", "thisUpdate", "run", "prev", "uKeys", "_a2", "updated", "k", "snapshot", "setup", "args", "subscribe", "batch", "omit2", "pick2", "mergeStore", "store2", "nextState", "React", "import_shim", "useSyncExternalStore", "useSyncExternalStoreExports", "noopSubscribe", "useStoreState", "store", "keyOrSelector", "identity", "storeSubscribe", "callback", "subscribe", "getSnapshot", "key", "selector", "state", "hasOwnProperty", "useStoreStateObject", "object", "objRef", "updated", "obj", "prop", "value", "__spreadValues", "useStoreProps", "props", "setKey", "setValue", "propsRef", "useLiveRef", "useSafeLayoutEffect", "sync", "prev", "value2", "setValue2", "batch", "useStore", "createStore", "setStore", "init", "useState2", "memoizedStore", "__spreadProps", "updateStore", "useEvent", "store2", "getCommonParent", "items", "_a", "firstItem", "item", "lastItem", "parentElement", "getDocument", "getPrivateStore", "store", "createCollectionStore", "props", "syncState", "defaultValue", "itemsMap", "initialState", "syncPrivateStore", "privateStore", "createStore", "collection", "sortItems", "renderedItems", "sortedItems", "sortBasedOnDOMPosition", "i", "setup", "init", "batch", "state", "firstRun", "raf", "ioCallback", "root", "observer", "mergeItem", "setItems", "canDeleteFromMap", "prevItem", "items2", "index", "id", "nextItems", "nextItem", "__spreadValues", "registerItem", "getItems", "__spreadProps", "chain", "item2", "useCollectionStoreProps", "store", "update", "props", "useUpdateEffect", "useStoreProps", "toArray", "arg", "flatten2DArray", "array", "flattened", "row", "reverseArray", "NULL_ITEM", "findFirstEnabledItem", "items", "excludeId", "item", "getEnabledItems", "getItemsInRow", "rowId", "flipItems", "activeId", "shouldInsertNullItem", "index", "groupItemsByRows", "rows", "row", "currentRow", "_a", "getMaxRowLength", "array", "maxLength", "length", "createEmptyItem", "normalizeRows", "focusShift", "i", "previousItem", "verticalizeItems", "verticalized", "__spreadProps", "__spreadValues", "createCompositeStore", "props", "syncState", "collection", "createCollectionStore", "defaultValue", "initialState", "composite", "createStore", "setup", "sync", "state", "activeId2", "_a2", "getNextId", "direction", "options", "_b", "defaultState", "skip", "focusLoop", "focusWrap", "includesBaseElement", "renderedItems", "rtl", "isVerticalDirection", "isNextDirection", "canReverse", "canShift", "flatten2DArray", "reverseArray", "activeItem", "isGrid", "activeIndex", "nextItems", "nextItemsInRow", "nextEnabledItemsInRow", "nextItem2", "canLoop", "canWrap", "hasNullItem", "loopItems", "sortedItems", "nextItem", "element", "id", "moves", "useCompositeStoreOptions", "props", "id", "useId", "__spreadValues", "useCompositeStoreProps", "store", "update", "useCollectionStoreProps", "useStoreProps", "createDisclosureStore", "props", "store", "mergeStore", "omit2", "syncState", "open", "defaultValue", "animated", "initialState", "disclosure", "createStore", "setup", "sync", "state", "subscribe", "__spreadProps", "__spreadValues", "value", "open2", "useDisclosureStoreProps", "store", "update", "props", "useUpdateEffect", "useStoreProps", "createDialogStore", "props", "createDisclosureStore", "useDialogStoreProps", "store", "update", "props", "useDisclosureStoreProps", "createPopoverStore", "_a", "_b", "otherPopover", "props", "__objRest", "store", "mergeStore", "omit2", "syncState", "dialog", "createDialogStore", "__spreadProps", "__spreadValues", "placement", "defaultValue", "initialState", "popover", "createStore", "element", "usePopoverStoreProps", "store", "update", "props", "useUpdateEffect", "useStoreProps", "useDialogStoreProps", "isTouchSafari", "isSafari", "isTouchDevice", "createComboboxStore", "_a", "_b", "tag", "props", "__objRest", "store", "mergeStore", "pick2", "tagState", "syncState", "activeId", "defaultValue", "composite", "createCompositeStore", "__spreadProps", "__spreadValues", "popover", "createPopoverStore", "value", "selectedValue", "multiSelectable", "initialState", "combobox", "createStore", "setup", "sync", "chain", "state", "prevState", "batch", "prev", "activeId2", "activeItem", "value2", "selectedValue2", "useComboboxStoreOptions", "props", "tag", "useTagContext", "__spreadProps", "__spreadValues", "useCompositeStoreOptions", "useComboboxStoreProps", "store", "update", "useUpdateEffect", "useStoreProps", "useCompositeStoreProps", "usePopoverStoreProps", "useComboboxStore", "useStore", "createComboboxStore", "ctx", "createStoreContext", "useDisclosureContext", "useDisclosureScopedContext", "useDisclosureProviderContext", "DisclosureContextProvider", "DisclosureScopedContextProvider", "import_react", "ctx", "createStoreContext", "DisclosureContextProvider", "DisclosureScopedContextProvider", "useDialogContext", "useDialogScopedContext", "useDialogProviderContext", "DialogContextProvider", "DialogScopedContextProvider", "DialogHeadingContext", "DialogDescriptionContext", "ctx", "createStoreContext", "DialogContextProvider", "DialogScopedContextProvider", "usePopoverContext", "usePopoverScopedContext", "usePopoverProviderContext", "PopoverContextProvider", "PopoverScopedContextProvider", "import_react", "ComboboxListRoleContext", "ctx", "createStoreContext", "PopoverContextProvider", "CompositeContextProvider", "PopoverScopedContextProvider", "CompositeScopedContextProvider", "useComboboxContext", "useComboboxScopedContext", "useComboboxProviderContext", "ComboboxContextProvider", "ComboboxScopedContextProvider", "ComboboxItemValueContext", "ComboboxItemCheckedContext", "TagName", "usePopoverAnchor", "createHook", "_a", "_b", "store", "props", "__objRest", "context", "usePopoverProviderContext", "__spreadProps", "__spreadValues", "useMergeRefs", "PopoverAnchor", "forwardRef2", "htmlProps", "createElement", "findFirstEnabledItem", "items", "excludeId", "item", "getEnabledItem", "store", "id", "groupItemsByRows", "rows", "row", "currentRow", "_a", "selectTextField", "element", "collapseToEnd", "isTextField", "selection", "getDocument", "FOCUS_SILENTLY", "focusSilently", "silentlyFocused", "isSilentlyFocused", "isItem", "exclude", "import_react", "FocusableContext", "selector", "isFocusable", "element", "selector", "isVisible", "getClosestFocusable", "element", "isFocusable", "selector", "hasFocus", "activeElement", "getActiveElement", "activeDescendant", "hasFocusWithin", "contains", "focusIfNeeded", "focusIntoView", "element", "options", "__spreadValues", "import_react", "TagName", "isSafariBrowser", "isSafari", "alwaysFocusVisibleInputTypes", "safariFocusAncestorSymbol", "markSafariFocusAncestor", "element", "value", "safariFocusAncestorSymbol", "isAlwaysFocusVisible", "tagName", "readOnly", "type", "alwaysFocusVisibleInputTypes", "getLabels", "isNativeCheckboxOrRadio", "isNativeTabbable", "supportsDisabledAttribute", "getTabIndex", "focusable", "trulyDisabled", "nativeTabbable", "supportsDisabled", "tabIndexProp", "useDisableEvent", "onEvent", "disabled", "useEvent", "event", "isKeyboardModality", "onGlobalMouseDown", "target", "onGlobalKeyDown", "useFocusable", "createHook", "_a", "_b", "accessibleWhenDisabled", "autoFocus", "onFocusVisible", "props", "__objRest", "ref", "addGlobalEventListener", "isSafariBrowser", "labels", "onMouseUp", "label", "disabledFromProps", "focusVisible", "setFocusVisible", "observer", "isFocusable", "onKeyPressCapture", "onMouseDownCapture", "onClickCapture", "onMouseDownProp", "onMouseDown", "isPortalEvent", "isButton", "receivedFocus", "onFocus", "options", "focusableContainer", "getClosestFocusable", "queueBeforeEvent", "focusIfNeeded", "handleFocusVisible", "currentTarget", "hasFocus", "onKeyDownCaptureProp", "onKeyDownCapture", "isSelfTarget", "onFocusCaptureProp", "onFocusCapture", "applyFocusVisible", "onBlurProp", "onBlur", "isFocusEventOutside", "autoFocusOnShow", "FocusableContext", "autoFocusRef", "useTagName", "styleProp", "style", "__spreadValues", "__spreadProps", "useMergeRefs", "removeUndefinedValues", "Focusable", "forwardRef2", "htmlProps", "createElement", "TagName", "import_react", "import_jsx_runtime", "TagName", "isGrid", "items", "item", "isPrintableKey", "event", "target", "isTextField", "isModifierKey", "useKeyboardEventProxy", "store", "onKeyboardEvent", "previousElementRef", "useEvent", "_a", "isSelfTarget", "state", "activeElement", "getEnabledItem", "_b", "view", "eventInit", "__objRest", "previousElement", "fireKeyboardEvent", "findFirstEnabledItemInTheLastRow", "findFirstEnabledItem", "flatten2DArray", "reverseArray", "groupItemsByRows", "useScheduleFocus", "scheduled", "setScheduled", "schedule", "activeItem", "useComposite", "createHook", "composite", "focusOnMove", "moveOnKeyPress", "props", "context", "useCompositeProviderContext", "invariant", "ref", "scheduleFocus", "moves", "setBaseElement", "useTransactionState", "_a2", "activeId2", "itemElement", "focusIntoView", "useSafeLayoutEffect", "baseElement", "fireBlurEvent", "hasFocus", "activeId", "virtualFocus", "relatedTarget", "getActiveElement", "onKeyDownCapture", "onKeyUpCapture", "onFocusCaptureProp", "onFocusCapture", "virtualFocus2", "previousActiveElement", "isSilentlyFocused", "silentlyFocused", "onFocusProp", "onFocus", "isItem", "onBlurCaptureProp", "onBlurCapture", "nextActiveElement", "nextActiveElementIsItem", "onKeyDownProp", "moveOnKeyPressProp", "useBooleanEvent", "onKeyDown", "orientation", "renderedItems", "isVertical", "isHorizontal", "grid", "action", "id", "useWrapElement", "element", "CompositeContextProvider", "activeDescendant", "__spreadProps", "__spreadValues", "useMergeRefs", "focusable", "useFocusable", "Composite", "forwardRef2", "htmlProps", "createElement", "import_react", "TagName", "isFirstItemAutoSelected", "items", "activeValue", "autoSelect", "firstItem", "item", "hasCompletionString", "value", "normalizeString", "isInputEvent", "event", "isAriaAutoCompleteValue", "getDefaultAutoSelectId", "item2", "_a", "useCombobox", "createHook", "_b", "store", "focusable", "autoSelectProp", "getAutoSelectId", "setValueOnChange", "showMinLength", "showOnChange", "showOnMouseDown", "showOnClick", "showOnKeyDown", "showOnKeyPress", "blurActiveItemOnClick", "setValueOnClick", "moveOnKeyPress", "autoComplete", "props", "__objRest", "context", "useComboboxProviderContext", "invariant", "ref", "valueUpdated", "forceValueUpdate", "useForceUpdate", "canAutoSelectRef", "composingRef", "state", "inline", "canInline", "setCanInline", "useUpdateLayoutEffect", "storeValue", "prevSelectedValueRef", "sync", "_", "prev", "inlineActiveValue", "_a2", "open", "contentElement", "slice", "element", "onCompositeItemMove", "cleanup", "noop", "prevStart", "prevEnd", "getTextboxSelection", "nextStart", "nextEnd", "setSelectionRange", "hasFocus", "start", "end", "scrollingElementRef", "getAutoSelectIdProp", "useEvent", "autoSelectIdRef", "scrollingElement", "getScrollingElement", "onUserScroll", "onScroll", "activeId", "options", "useSafeLayoutEffect", "resetValueOnSelect", "useUpdateEffect", "_b2", "canAutoSelect", "baseElement", "contentElement2", "observer", "userAutoSelectId", "autoSelectId", "combobox", "elements", "value2", "onBlur2", "el", "isFocusEventOutside", "canShow", "onChangeProp", "showOnChangeProp", "useBooleanEvent", "setValueOnChangeProp", "onChange", "currentTarget", "selectionStart", "selectionEnd", "nativeEvent", "textInserted", "caretAtEnd", "isSameValue", "onCompositionEndProp", "onCompositionEnd", "onMouseDownProp", "blurActiveItemOnClickProp", "setValueOnClickProp", "showOnClickProp", "onMouseDown", "queueBeforeEvent", "onKeyDownProp", "showOnKeyPressProp", "onKeyDown", "open2", "onBlurProp", "onBlur", "id", "useId", "ariaAutoComplete", "isActiveItem", "__spreadProps", "__spreadValues", "getPopupRole", "useMergeRefs", "useComposite", "isFalsyBooleanCallback", "usePopoverAnchor", "Combobox", "forwardRef2", "htmlProps", "createElement", "import_jsx_runtime", "ComboboxProvider", "props", "store", "useComboboxStore", "ComboboxContextProvider", "import_react", "TagName", "isNativeClick", "event", "element", "isButton", "symbol", "useCommand", "createHook", "_a", "_b", "clickOnEnter", "clickOnSpace", "props", "__objRest", "ref", "isNativeButton", "setIsNativeButton", "active", "setActive", "activeRef", "disabled", "disabledFromProps", "isDuplicate", "metadataProps", "useMetadataProps", "onKeyDownProp", "onKeyDown", "useEvent", "isSelfTarget", "isTextField", "isEnter", "isSpace", "shouldPreventEnter", "shouldPreventSpace", "nativeClick", "_a2", "view", "eventInit", "click", "fireClickEvent", "isFirefox", "queueBeforeEvent", "onKeyUpProp", "onKeyUp", "__spreadProps", "__spreadValues", "useMergeRefs", "useFocusable", "Command", "forwardRef2", "htmlProps", "createElement", "import_react", "import_jsx_runtime", "TagName", "normalizeValue", "value", "normalizeString", "getOffsets", "string", "values", "offsets", "pos", "length", "index", "filterOverlappingOffsets", "offset", "i", "arr", "o", "l", "j", "sortOffsets", "a", "b", "splitValue", "itemValue", "userValue", "userValues", "toArray", "parts", "span", "autocomplete", "firstOffset", "_a", "nextOffset", "nextValue", "useComboboxItemValue", "createHook", "_b", "store", "props", "__objRest", "context", "useComboboxScopedContext", "itemContext", "ComboboxItemValueContext", "inputValue", "useStoreState", "state", "children", "__spreadValues", "removeUndefinedValues", "ComboboxItemValue", "forwardRef2", "htmlProps", "createElement", "import_react", "TagName", "getMouseDestination", "event", "relatedTarget", "hoveringInside", "nextElement", "contains", "symbol", "movingToAnotherItem", "dest", "hasOwnProperty", "useCompositeHover", "createHook", "_a", "_b", "store", "focusOnHover", "blurOnHoverEnd", "props", "__objRest", "context", "useCompositeContext", "invariant", "isMouseMoving", "useIsMouseMoving", "onMouseMoveProp", "focusOnHoverProp", "useBooleanEvent", "onMouseMove", "useEvent", "hasFocusWithin", "baseElement", "hasFocus", "onMouseLeaveProp", "blurOnHoverEndProp", "onMouseLeave", "_a2", "ref", "element", "__spreadProps", "__spreadValues", "useMergeRefs", "removeUndefinedValues", "CompositeHover", "memo2", "forwardRef2", "htmlProps", "createElement", "import_react", "TagName", "useCollectionItem", "createHook", "_a", "_b", "store", "shouldRegisterItem", "getItem", "identity", "element", "props", "__objRest", "context", "useCollectionContext", "id", "useId", "ref", "element2", "item", "__spreadProps", "__spreadValues", "useMergeRefs", "removeUndefinedValues", "CollectionItem", "forwardRef2", "htmlProps", "createElement", "import_react", "import_jsx_runtime", "TagName", "isEditableElement", "element", "isTextbox", "isButton", "getNextPageOffset", "scrollingElement", "pageUp", "height", "top", "pageSize", "pageOffset", "getItemOffset", "itemElement", "findNextPageItemId", "store", "next", "_a", "renderedItems", "getScrollingElement", "nextPageOffset", "id", "prevDifference", "i", "previousId", "getEnabledItem", "difference", "absDifference", "targetIsAnotherItem", "event", "isSelfTarget", "isItem", "useCompositeItem", "createHook", "_b", "rowIdProp", "preventScrollOnKeyDown", "moveOnKeyPress", "tabbable", "getItemProp", "ariaSetSizeProp", "ariaPosInSetProp", "props", "__objRest", "context", "useCompositeContext", "useId", "ref", "row", "CompositeRowContext", "trulyDisabled", "disabledFromProps", "rowId", "baseElement", "isActiveItem", "ariaSetSize", "ariaPosInSet", "isTabbable", "useStoreStateObject", "state", "itemsInRow", "item", "getItem", "_a2", "nextItem", "__spreadProps", "__spreadValues", "onFocusProp", "hasFocusedComposite", "onFocus", "useEvent", "isPortalEvent", "virtualFocus", "baseElement2", "selectTextField", "isSafari", "focusSilently", "onBlurCaptureProp", "onBlurCapture", "onKeyDownProp", "preventScrollOnKeyDownProp", "useBooleanEvent", "moveOnKeyPressProp", "onKeyDown", "currentTarget", "isGrid", "isVertical", "isHorizontal", "canHomeEnd", "isTextField", "action", "selection", "getTextboxSelection", "isLeft", "isRight", "isUp", "isDown", "valueLength", "getTextboxValue", "nextId", "providerValue", "useWrapElement", "CompositeItemContext", "useMergeRefs", "useCommand", "useCollectionItem", "removeUndefinedValues", "CompositeItem", "memo2", "forwardRef2", "htmlProps", "createElement", "import_react", "import_jsx_runtime", "TagName", "isSelected", "storeValue", "itemValue", "getItemRole", "popupRole", "_a", "useComboboxItem", "createHook", "_b", "store", "value", "hideOnClick", "setValueOnClick", "selectValueOnClick", "resetValueOnSelect", "focusOnHover", "moveOnKeyPress", "getItemProp", "props", "__objRest", "_a2", "context", "useComboboxScopedContext", "invariant", "resetValueOnSelectState", "multiSelectable", "selected", "useStoreStateObject", "state", "getItem", "item", "nextItem", "__spreadProps", "__spreadValues", "onClickProp", "setValueOnClickProp", "useBooleanEvent", "selectValueOnClickProp", "resetValueOnSelectProp", "hideOnClickProp", "onClick", "useEvent", "event", "isDownloading", "isOpeningInNewTab", "prevValue", "v", "onKeyDownProp", "onKeyDown", "baseElement", "hasFocus", "isTextField", "useWrapElement", "element", "ComboboxItemValueContext", "ComboboxItemCheckedContext", "ComboboxListRoleContext", "moveOnKeyPressProp", "useCompositeItem", "moveEvent", "useCompositeHover", "ComboboxItem", "memo2", "forwardRef2", "htmlProps", "createElement", "TagName", "useComboboxLabel", "createHook", "_a", "_b", "store", "props", "__objRest", "context", "useComboboxProviderContext", "invariant", "comboboxId", "state", "_a2", "__spreadValues", "removeUndefinedValues", "ComboboxLabel", "memo2", "forwardRef2", "htmlProps", "createElement", "import_react", "import_react_dom", "import_jsx_runtime", "TagName", "afterTimeout", "timeoutMs", "cb", "timeoutId", "afterPaint", "raf", "parseCSSTime", "times", "longestTime", "currentTimeString", "multiplier", "currentTime", "isHidden", "mounted", "hidden", "alwaysVisible", "useDisclosureContent", "createHook", "_a", "_b", "store", "props", "__objRest", "context", "useDisclosureProviderContext", "invariant", "ref", "id", "useId", "transition", "setTransition", "open", "animated", "contentElement", "otherElement", "useStoreState", "useSafeLayoutEffect", "previousAnimated", "animated2", "stopAnimation", "stopAnimationSync", "transitionDuration", "animationDuration", "transitionDelay", "animationDelay", "transitionDuration2", "animationDuration2", "transitionDelay2", "animationDelay2", "delay", "duration", "timeout", "frameRate", "maxTimeout", "useWrapElement", "element", "DialogScopedContextProvider", "styleProp", "style", "__spreadProps", "__spreadValues", "useMergeRefs", "removeUndefinedValues", "DisclosureContentImpl", "forwardRef2", "htmlProps", "createElement", "DisclosureContent", "unmountOnHide", "state", "import_react", "import_jsx_runtime", "TagName", "useComboboxList", "createHook", "_a", "_b", "store", "alwaysVisible", "props", "__objRest", "scopedContext", "useComboboxScopedContext", "context", "useComboboxContext", "scopedContextSameStore", "invariant", "ref", "id", "useId", "mounted", "hidden", "isHidden", "style", "__spreadProps", "__spreadValues", "multiSelectable", "state", "role", "useAttribute", "ariaMultiSelectable", "hasListboxInside", "setHasListboxInside", "contentElement", "useSafeLayoutEffect", "element", "callback", "observer", "useWrapElement", "ComboboxScopedContextProvider", "ComboboxListRoleContext", "setContentElement", "useMergeRefs", "removeUndefinedValues", "ComboboxList", "forwardRef2", "htmlProps", "createElement", "import_remove_accents", "import_compose", "import_i18n", "import_element", "import_components", "EMPTY_ARRAY", "getCurrentValue", "filterDefinition", "currentFilter", "import_element", "EMPTY_ARRAY", "useElements", "elements", "getElements", "staticElements", "records", "setRecords", "isLoading", "setIsLoading", "cancelled", "fetchedElements", "dynamicElements", "import_jsx_runtime", "normalizeSearchInput", "input", "removeAccents", "getNewValue", "filterDefinition", "currentFilter", "value", "v", "generateFilterElementCompositeItemId", "prefix", "filterElementValue", "MultiSelectionOption", "selected", "clsx_default", "check_default", "SingleSelectionOption", "ListBox", "view", "filter", "onChangeView", "baseId", "activeCompositeId", "setActiveCompositeId", "f", "currentValue", "getCurrentValue", "element", "newFilters", "_filter", "ComboboxList", "searchValue", "setSearchValue", "deferredSearchValue", "matches", "normalizedSearch", "item", "ComboboxProvider", "ComboboxLabel", "Combobox", "search_default", "ComboboxItem", "ComboboxItemValue", "SearchWidget", "props", "elements", "isLoading", "useElements", "Widget", "import_es6", "import_compose", "import_element", "import_components", "import_jsx_runtime", "InputWidget", "filter", "view", "onChangeView", "fields", "currentFilter", "f", "currentValue", "getCurrentValue", "field", "currentField", "item", "value", "data", "acc", "activeFilter", "handleChange", "updatedData", "nextValue", "fastDeepEqual", "_filter", "maxTime", "minTime", "millisecondsInWeek", "millisecondsInDay", "secondsInHour", "secondsInDay", "secondsInHour", "secondsInWeek", "secondsInYear", "secondsInMonth", "secondsInQuarter", "constructFromSymbol", "constructFrom", "date", "value", "constructFromSymbol", "toDate", "argument", "context", "constructFrom", "addDays", "date", "amount", "options", "_date", "toDate", "constructFrom", "addMonths", "date", "amount", "options", "_date", "toDate", "constructFrom", "dayOfMonth", "endOfDesiredMonth", "daysInMonth", "defaultOptions", "getDefaultOptions", "startOfWeek", "date", "options", "defaultOptions", "getDefaultOptions", "weekStartsOn", "_date", "toDate", "day", "diff", "startOfISOWeek", "date", "options", "startOfWeek", "getISOWeekYear", "date", "options", "_date", "toDate", "year", "fourthOfJanuaryOfNextYear", "constructFrom", "startOfNextYear", "startOfISOWeek", "fourthOfJanuaryOfThisYear", "startOfThisYear", "getTimezoneOffsetInMilliseconds", "date", "_date", "toDate", "utcDate", "normalizeDates", "context", "dates", "normalize", "constructFrom", "date", "startOfDay", "date", "options", "_date", "toDate", "differenceInCalendarDays", "laterDate", "earlierDate", "options", "laterDate_", "earlierDate_", "normalizeDates", "laterStartOfDay", "startOfDay", "earlierStartOfDay", "laterTimestamp", "getTimezoneOffsetInMilliseconds", "earlierTimestamp", "millisecondsInDay", "startOfISOWeekYear", "date", "options", "year", "getISOWeekYear", "fourthOfJanuary", "constructFrom", "startOfISOWeek", "addYears", "date", "amount", "options", "addMonths", "isDate", "value", "isValid", "date", "isDate", "toDate", "startOfMonth", "date", "options", "_date", "toDate", "startOfYear", "date", "options", "date_", "toDate", "formatDistanceLocale", "formatDistance", "token", "count", "options", "result", "tokenValue", "buildFormatLongFn", "args", "options", "width", "dateFormats", "timeFormats", "dateTimeFormats", "formatLong", "buildFormatLongFn", "formatRelativeLocale", "formatRelative", "token", "_date", "_baseDate", "_options", "buildLocalizeFn", "args", "value", "options", "context", "valuesArray", "defaultWidth", "width", "index", "eraValues", "quarterValues", "monthValues", "dayValues", "dayPeriodValues", "formattingDayPeriodValues", "ordinalNumber", "dirtyNumber", "_options", "number", "rem100", "localize", "buildLocalizeFn", "quarter", "buildMatchFn", "args", "string", "options", "width", "matchPattern", "matchResult", "matchedString", "parsePatterns", "key", "findIndex", "pattern", "findKey", "value", "rest", "object", "predicate", "array", "buildMatchPatternFn", "args", "string", "options", "matchResult", "matchedString", "parseResult", "value", "rest", "matchOrdinalNumberPattern", "parseOrdinalNumberPattern", "matchEraPatterns", "parseEraPatterns", "matchQuarterPatterns", "parseQuarterPatterns", "matchMonthPatterns", "parseMonthPatterns", "matchDayPatterns", "parseDayPatterns", "matchDayPeriodPatterns", "parseDayPeriodPatterns", "match", "buildMatchPatternFn", "value", "buildMatchFn", "index", "enUS", "formatDistance", "formatLong", "formatRelative", "localize", "match", "getDayOfYear", "date", "options", "_date", "toDate", "differenceInCalendarDays", "startOfYear", "getISOWeek", "date", "options", "_date", "toDate", "diff", "startOfISOWeek", "startOfISOWeekYear", "millisecondsInWeek", "getWeekYear", "date", "options", "_date", "toDate", "year", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "firstWeekOfNextYear", "constructFrom", "startOfNextYear", "startOfWeek", "firstWeekOfThisYear", "startOfThisYear", "startOfWeekYear", "date", "options", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "year", "getWeekYear", "firstWeek", "constructFrom", "startOfWeek", "getWeek", "date", "options", "_date", "toDate", "diff", "startOfWeek", "startOfWeekYear", "millisecondsInWeek", "addLeadingZeros", "number", "targetLength", "sign", "output", "lightFormatters", "date", "token", "signedYear", "year", "addLeadingZeros", "month", "dayPeriodEnumValue", "numberOfDigits", "milliseconds", "fractionalSeconds", "dayPeriodEnum", "formatters", "date", "token", "localize", "era", "signedYear", "year", "lightFormatters", "options", "signedWeekYear", "getWeekYear", "weekYear", "twoDigitYear", "addLeadingZeros", "isoWeekYear", "getISOWeekYear", "quarter", "month", "week", "getWeek", "isoWeek", "getISOWeek", "dayOfYear", "getDayOfYear", "dayOfWeek", "localDayOfWeek", "isoDayOfWeek", "dayPeriodEnumValue", "hours", "_localize", "timezoneOffset", "formatTimezoneWithOptionalMinutes", "formatTimezone", "formatTimezoneShort", "timestamp", "offset", "delimiter", "sign", "absOffset", "minutes", "dateLongFormatter", "pattern", "formatLong", "timeLongFormatter", "dateTimeLongFormatter", "matchResult", "datePattern", "timePattern", "dateTimeFormat", "longFormatters", "dayOfYearTokenRE", "weekYearTokenRE", "throwTokens", "isProtectedDayOfYearToken", "token", "isProtectedWeekYearToken", "warnOrThrowProtectedError", "format", "input", "_message", "message", "subject", "formattingTokensRegExp", "longFormattingTokensRegExp", "escapedStringRegExp", "doubleQuoteRegExp", "unescapedLatinCharacterRegExp", "format", "date", "formatStr", "options", "defaultOptions", "getDefaultOptions", "locale", "enUS", "firstWeekContainsDate", "weekStartsOn", "originalDate", "toDate", "isValid", "parts", "longFormattingTokensRegExp", "substring", "firstCharacter", "longFormatter", "longFormatters", "formattingTokensRegExp", "cleanEscapedString", "formatters", "unescapedLatinCharacterRegExp", "formatterOptions", "part", "token", "isProtectedWeekYearToken", "isProtectedDayOfYearToken", "warnOrThrowProtectedError", "formatter", "input", "matched", "escapedStringRegExp", "doubleQuoteRegExp", "subDays", "date", "amount", "options", "addDays", "subMonths", "date", "amount", "options", "addMonths", "subYears", "date", "amount", "options", "addYears", "import_date", "parseDateTime", "dateTimeString", "parsed", "isValid", "import_jsx_runtime", "ENTER", "SPACE", "FilterText", "activeElements", "filterInView", "filter", "filterTextWrappers", "OPERATOR_IS_ANY", "element", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_BETWEEN", "label", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "OperatorSelector", "view", "onChangeView", "operatorOptions", "operator", "OPERATORS", "currentFilter", "_filter", "value", "HStack", "newValue", "currentOperator", "newFilters", "OPERATORS_SHOULD_RESET_VALUE", "shouldResetValue", "Filter", "addFilterRef", "openedFilter", "fields", "commonProps", "toggleRef", "f", "elements", "useElements", "field", "dateValue", "parseDateTime", "isPrimary", "isLocked", "hasValues", "canResetOrRemove", "isOpen", "onToggle", "clsx_default", "event", "close_small_default", "VStack", "SearchWidget", "InputWidget", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "AddFilterMenu", "filters", "view", "onChangeView", "setOpenedFilter", "triggerProps", "inactiveFilters", "filter", "AddFilter", "ref", "isPrimary", "add_filter_default", "import_components", "import_i18n", "import_jsx_runtime", "ResetFilter", "filters", "view", "onChangeView", "isPrimary", "field", "_filter", "isDisabled", "f", "import_element", "useFilters", "fields", "view", "filters", "field", "operators", "isPrimary", "isLocked", "f", "op", "SINGLE_SELECTION_OPERATORS", "ALL_OPERATORS", "a", "b", "use_filters_default", "import_jsx_runtime", "Filters", "className", "fields", "view", "onChangeView", "openedFilter", "setOpenedFilter", "dataviews_context_default", "addFilterRef", "filters", "use_filters_default", "addFilter", "add_filter_default", "visibleFilters", "filter", "filterComponents", "Filter", "ResetFilter", "HStack", "filters_default", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "FiltersToggle", "filters", "view", "onChangeView", "setOpenedFilter", "isShowingFilter", "setIsShowingFilter", "dataviews_context_default", "buttonRef", "onChangeViewWithFilterVisibility", "_view", "hasVisibleFilters", "filter", "addFilterButtonProps", "toggleFiltersButtonProps", "buttonComponent", "funnel_default", "FilterVisibilityToggle", "AddFilterMenu", "filtersCount", "children", "toggle_default", "import_element", "import_jsx_runtime", "FiltersToggled", "props", "isShowingFilter", "dataviews_context_default", "filters_default", "filters_toggled_default", "import_element", "import_i18n", "import_jsx_runtime", "DataViewsLayout", "className", "actions", "data", "fields", "getItemId", "getItemLevel", "isLoading", "view", "onChangeView", "selection", "onChangeSelection", "setOpenedFilter", "onClickItem", "isItemClickable", "renderItemLink", "defaultLayouts", "empty", "dataviews_context_default", "ViewComponent", "VIEW_LAYOUTS", "v", "import_i18n", "import_element", "import_components", "import_compose", "import_jsx_runtime", "DataViewsSearch", "label", "view", "onChangeView", "dataviews_context_default", "search", "setSearch", "debouncedSearch", "onChangeViewRef", "viewRef", "searchLabel", "dataviews_search_default", "import_components", "import_i18n", "import_element", "import_warning", "import_compose", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "InfiniteScrollToggle", "context", "dataviews_context_default", "view", "onChangeView", "infiniteScrollEnabled", "newValue", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "DATAVIEWS_CONFIG_POPOVER_PROPS", "ViewTypeMenu", "view", "onChangeView", "defaultLayouts", "dataviews_context_default", "availableLayouts", "activeView", "VIEW_LAYOUTS", "v", "layout", "config", "e", "viewWithoutLayout", "warning", "SortFieldControl", "fields", "orderOptions", "field", "value", "SortDirectionControl", "ToggleGroupControl", "newDirection", "SORTING_DIRECTIONS", "direction", "ToggleGroupControlOptionIcon", "sortIcons", "sortLabels", "ItemsPerPageControl", "infiniteScrollEnabled", "newItemsPerPage", "newItemsPerPageNumber", "ToggleGroupControlOption", "SettingsSection", "title", "description", "children", "Grid", "Heading", "Text", "DataviewsViewConfigDropdown", "popoverId", "_DataViewsViewConfig", "activeLayout", "onToggle", "isOpen", "cog_default", "DropdownContentWrapper", "VStack", "HStack", "InfiniteScrollToggle", "PropertiesSection", "DataViewsViewConfig", "dataviews_view_config_default", "import_i18n", "RenderFromElements", "item", "field", "elements", "isLoading", "useElements", "value", "element", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "emailRegex", "email_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_i18n", "import_jsx_runtime", "sort", "a", "b", "direction", "integer_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BETWEEN", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_i18n", "import_jsx_runtime", "sort", "a", "b", "direction", "isEmpty", "value", "number_default", "item", "field", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BETWEEN", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "text_default", "item", "field", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_jsx_runtime", "sort", "a", "b", "direction", "timeA", "timeB", "datetime_default", "item", "field", "RenderFromElements", "value", "parseDateTime", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "import_date", "import_jsx_runtime", "getFormattedDate", "dateToDisplay", "sort", "a", "b", "direction", "timeA", "timeB", "date_default", "item", "field", "RenderFromElements", "value", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "OPERATOR_BETWEEN", "import_i18n", "import_jsx_runtime", "sort", "a", "b", "direction", "boolA", "boolean_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "sort", "media_default", "import_i18n", "sort", "valueA", "valueB", "direction", "arrA", "arrB", "joinedA", "joinedB", "render", "item", "field", "arrayFieldType", "value", "v", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "array_default", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "password_default", "item", "field", "RenderFromElements", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "telephone_default", "item", "field", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "r", "t", "n", "e", "u", "a", "o", "i", "s", "h", "b", "g", "d", "f", "c", "l", "p", "v", "m", "y", "N", "x", "M", "r", "n", "c", "e", "H", "$", "j", "x", "o", "t", "u", "s", "d", "h", "w", "import_i18n", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "colorA", "w", "colorB", "hslA", "hslB", "color_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "url_default", "item", "field", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_jsx_runtime", "getFieldTypeDefinition", "type", "email_default", "integer_default", "number_default", "text_default", "datetime_default", "date_default", "boolean_default", "media_default", "array_default", "password_default", "telephone_default", "color_default", "url_default", "a", "b", "direction", "item", "field", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "ALL_OPERATORS", "import_components", "import_element", "getCustomValidity", "isValid", "validity", "customValidity", "import_jsx_runtime", "ValidatedCheckboxControl", "unlock", "Checkbox", "field", "onChange", "data", "hideLabelFromVision", "validity", "getValue", "setValue", "label", "description", "isValid", "onChangeControl", "getCustomValidity", "import_components", "import_element", "import_i18n", "import_date", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "TIME_UNITS_OPTIONS", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "className", "data", "field", "onChange", "hideLabelFromVision", "operator", "options", "id", "label", "getValue", "setValue", "fieldValue", "relValue", "unit", "onChangeValue", "newValue", "onChangeUnit", "newUnit", "clsx_default", "HStack", "NumberControl", "import_jsx_runtime", "DateCalendar", "ValidatedInputControl", "unlock", "componentsPrivateApis", "formatDateTime", "date", "format", "CalendarDateTimeControl", "data", "field", "onChange", "hideLabelFromVision", "validity", "id", "label", "description", "setValue", "getValue", "isValid", "fieldValue", "value", "calendarMonth", "setCalendarMonth", "parseDateTime", "inputControlRef", "validationTimeoutRef", "previousFocusRef", "onChangeCallback", "newValue", "onSelectDate", "newDate", "dateTimeValue", "finalDateTime", "currentDateTime", "handleManualDateTimeChange", "dateTime", "parsedDate", "timezoneString", "startOfWeek", "displayLabel", "VStack", "getCustomValidity", "DateTime", "operator", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "import_components", "import_element", "import_i18n", "import_date", "import_jsx_runtime", "DateCalendar", "DateRangeCalendar", "unlock", "componentsPrivateApis", "DATE_PRESETS", "today", "subDays", "subMonths", "DATE_RANGE_PRESETS", "startOfMonth", "subYears", "startOfYear", "parseDate", "dateString", "parsed", "isValid", "formatDate", "date", "format", "ValidatedDateControl", "field", "validity", "inputRefs", "isTouched", "setIsTouched", "children", "customValidity", "setCustomValidity", "validateRefs", "refs", "ref", "input", "timeoutId", "getCustomValidity", "event", "clsx_default", "error_default", "CalendarDateControl", "data", "onChange", "hideLabelFromVision", "id", "label", "setValue", "getValue", "selectedPresetId", "setSelectedPresetId", "fieldValue", "value", "calendarMonth", "setCalendarMonth", "validityTargetRef", "onChangeCallback", "newValue", "onSelectDate", "newDate", "dateValue", "handlePresetClick", "preset", "presetDate", "handleManualDateChange", "parsedDate", "timezoneString", "startOfWeek", "displayLabel", "VStack", "HStack", "isSelected", "InputControl", "CalendarDateRangeControl", "selectedRange", "from", "to", "fromInputRef", "toInputRef", "updateDateRange", "fromDate", "toDate", "onSelectCalendarRange", "newRange", "startDate", "endDate", "fromOrTo", "currentFrom", "currentTo", "timezone", "l10n", "DateControl", "operator", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "OPERATOR_BETWEEN", "import_components", "import_components", "import_element", "import_jsx_runtime", "ValidatedInputControl", "unlock", "ValidatedText", "data", "field", "onChange", "hideLabelFromVision", "type", "prefix", "suffix", "validity", "label", "placeholder", "description", "getValue", "setValue", "isValid", "value", "onChangeControl", "newValue", "getCustomValidity", "import_jsx_runtime", "Email", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "at_symbol_default", "import_components", "import_jsx_runtime", "Telephone", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "mobile_default", "import_components", "import_jsx_runtime", "Url", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "link_default", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "ValidatedNumberControl", "unlock", "toNumberOrEmpty", "value", "number", "BetweenControls", "onChange", "hideLabelFromVision", "step", "min", "max", "onChangeMin", "newValue", "onChangeMax", "NumberControl", "ValidatedNumber", "data", "field", "operator", "decimals", "validity", "label", "description", "getValue", "setValue", "isValid", "onChangeControl", "onChangeBetweenControls", "OPERATOR_BETWEEN", "valueBetween", "element", "getCustomValidity", "import_jsx_runtime", "Number", "props", "ValidatedNumber", "import_jsx_runtime", "Number", "props", "ValidatedNumber", "import_components", "import_element", "import_jsx_runtime", "ValidatedRadioControl", "unlock", "Radio", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "description", "getValue", "setValue", "isValid", "elements", "isLoading", "useElements", "value", "onChangeControl", "newValue", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedSelectControl", "unlock", "Select", "data", "field", "onChange", "hideLabelFromVision", "validity", "type", "label", "description", "getValue", "setValue", "isValid", "isMultiple", "value", "onChangeControl", "newValue", "elements", "isLoading", "useElements", "getCustomValidity", "import_element", "import_jsx_runtime", "Text", "data", "field", "onChange", "hideLabelFromVision", "config", "validity", "prefix", "suffix", "ValidatedText", "import_components", "import_element", "import_jsx_runtime", "ValidatedToggleControl", "unlock", "Toggle", "field", "onChange", "data", "hideLabelFromVision", "validity", "label", "description", "getValue", "setValue", "isValid", "onChangeControl", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedTextareaControl", "unlock", "Textarea", "data", "field", "onChange", "hideLabelFromVision", "config", "validity", "rows", "label", "placeholder", "description", "setValue", "isValid", "value", "onChangeControl", "newValue", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedToggleGroupControl", "unlock", "ToggleGroup", "data", "field", "onChange", "hideLabelFromVision", "validity", "getValue", "setValue", "isValid", "value", "onChangeControl", "newValue", "elements", "isLoading", "useElements", "selectedOption", "el", "getCustomValidity", "ToggleGroupControlOption", "import_components", "import_element", "import_jsx_runtime", "ValidatedFormTokenField", "unlock", "ArrayControl", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "placeholder", "getValue", "setValue", "isValid", "value", "elements", "isLoading", "useElements", "arrayValueAsElements", "token", "suggestion", "onChangeControl", "tokens", "valueTokens", "getCustomValidity", "element", "el", "item", "import_components", "import_element", "import_jsx_runtime", "ValidatedInputControl", "Picker", "unlock", "ColorPicker", "color", "onColorChange", "validColor", "w", "onToggle", "isOpen", "InputControlPrefixWrapper", "Color", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "placeholder", "description", "setValue", "isValid", "value", "handleColorChange", "colorObject", "handleInputChange", "newValue", "getCustomValidity", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "Password", "data", "field", "onChange", "hideLabelFromVision", "validity", "isVisible", "setIsVisible", "toggleVisibility", "prev", "ValidatedText", "InputControlSuffixWrapper", "unseen_default", "seen_default", "hasElements", "field", "import_jsx_runtime", "FORM_CONTROLS", "ArrayControl", "Checkbox", "Color", "DateTime", "DateControl", "Email", "Telephone", "Url", "Number", "Password", "Radio", "Select", "Text", "Toggle", "Textarea", "ToggleGroup", "isEditConfig", "value", "createConfiguredControl", "config", "control", "controlConfig", "BaseControlType", "getControlByType", "props", "getControl", "field", "fieldTypeDefinition", "hasElements", "type", "getValueFromId", "id", "item", "path", "value", "segment", "setValueFromId", "result", "current", "getFilterBy", "field", "fieldTypeDefinition", "operators", "validOperators", "ALL_OPERATORS", "operator", "hasElements", "OPERATOR_BETWEEN", "SINGLE_SELECTION_OPERATORS", "defaultOperators", "normalizeFields", "fields", "getFieldTypeDefinition", "getValue", "setValue", "sort", "a", "b", "direction", "isValid", "Edit", "getControl", "render", "renderedField", "filterBy", "import_components", "import_element", "import_compose", "import_jsx_runtime", "isItemClickable", "dataViewsPickerLayouts", "VIEW_LAYOUTS", "viewLayout", "defaultGetItemId", "item", "EMPTY_ARRAY", "DefaultUI", "search", "searchLabel", "HStack", "dataviews_search_default", "toggle_default", "dataviews_view_config_default", "filters_toggled_default", "DataViewsLayout", "DataViewsPickerFooter", "DataViewsPicker", "view", "onChangeView", "fields", "actions", "data", "getItemId", "isLoading", "paginationInfo", "defaultLayoutsProperty", "selection", "onChangeSelection", "children", "config", "itemListLabel", "empty", "infiniteScrollHandler", "containerRef", "containerWidth", "setContainerWidth", "resizeObserverRef", "resizeObserverEntries", "openedFilter", "setOpenedFilter", "setSelectionWithChange", "value", "newValue", "_fields", "normalizeFields", "filters", "use_filters_default", "hasPrimaryOrLockedFilters", "filter", "isShowingFilter", "setIsShowingFilter", "handleScroll", "event", "target", "scrollTop", "scrollHeight", "clientHeight", "container", "defaultLayouts", "layoutType", "dataviews_context_default", "DataViewsPickerSubComponents", "filters_default", "ViewTypeMenu", "DataViewsPagination", "DataviewsViewConfigDropdown", "dataviews_picker_default", "import_private_apis", "lock", "unlock", "import_jsx_runtime", "useEntityRecordsWithPermissions", "unlock", "coreDataPrivateApis", "LAYOUT_PICKER_GRID", "LAYOUT_PICKER_TABLE", "MediaUploadModal", "allowedTypes", "multiple", "value", "onSelect", "onClose", "onUpload", "title", "isOpen", "isDismissible", "modalClass", "search", "searchLabel", "selection", "setSelection", "view", "setView", "queryArgs", "filters", "filter", "mediaRecords", "isLoading", "totalItems", "totalPages", "fields", "item", "actions", "selectedPostsQuery", "transformedPosts", "coreStore", "transformAttachment", "selectedItems", "handleModalClose", "handleUpload", "uploadMedia", "handleFileSelect", "event", "files", "filesArray", "paginationInfo", "defaultLayouts", "acceptTypes", "openFileDialog", "upload_default", "filteredFiles", "file", "allowedType", "dataviews_picker_default", "privateApis", "lock", "sideloadMedia", "MediaUploadModal"]
}
