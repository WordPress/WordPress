var wp;(wp||={}).formatLibrary=(()=>{var Hr=Object.create;var ra=Object.defineProperty;var Ur=Object.getOwnPropertyDescriptor;var zr=Object.getOwnPropertyNames;var Dr=Object.getPrototypeOf,Or=Object.prototype.hasOwnProperty;var Wr=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,a)=>(typeof require<"u"?require:e)[a]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var B=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Gr=(t,e,a,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of zr(e))!Or.call(t,s)&&s!==a&&ra(t,s,{get:()=>e[s],enumerable:!(o=Ur(e,s))||o.enumerable});return t};var r=(t,e,a)=>(a=t!=null?Hr(Dr(t)):{},Gr(e||!t||!t.__esModule?ra(a,"default",{value:t,enumerable:!0}):a,t));var g=B((vo,oa)=>{oa.exports=window.wp.richText});var x=B((_o,sa)=>{sa.exports=window.wp.i18n});var k=B((Co,la)=>{la.exports=window.wp.blockEditor});var j=B((So,fa)=>{fa.exports=window.wp.element});var L=B((Lo,ia)=>{ia.exports=window.wp.primitives});var n=B((Bo,ma)=>{ma.exports=window.ReactJSXRuntime});var na=B((ss,ua)=>{ua.exports=window.wp.privateApis});var X=B((ps,xa)=>{xa.exports=window.wp.components});var Pt=B((bs,ya)=>{ya.exports=window.wp.url});var _a=B((ws,va)=>{va.exports=window.wp.htmlEntities});var De=B((ks,Ca)=>{Ca.exports=window.wp.a11y});var Oe=B((ys,Sa)=>{Sa.exports=window.wp.data});var Ia=B((_s,Na)=>{Na.exports=window.wp.compose});var Pr=r(g());var pa=r(x()),Fe=r(g()),D=r(k());var wt=r(j()),oe=(0,wt.forwardRef)(({icon:t,size:e=24,...a},o)=>(0,wt.cloneElement)(t,{width:e,height:e,...a,ref:o}));var kt=r(L()),se=r(n()),le=(0,se.jsx)(kt.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,se.jsx)(kt.Path,{d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"})});var yt=r(L()),fe=r(n()),ie=(0,fe.jsx)(yt.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,fe.jsx)(yt.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})});var vt=r(L()),me=r(n()),ue=(0,me.jsx)(vt.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,me.jsx)(vt.Path,{d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z"})});var _t=r(L()),ne=r(n()),de=(0,ne.jsx)(_t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ne.jsx)(_t.Path,{d:"M14.7 11.3c1-.6 1.5-1.6 1.5-3 0-2.3-1.3-3.4-4-3.4H7v14h5.8c1.4 0 2.5-.3 3.3-1 .8-.7 1.2-1.7 1.2-2.9.1-1.9-.8-3.1-2.6-3.7zm-5.1-4h2.3c.6 0 1.1.1 1.4.4.3.3.5.7.5 1.2s-.2 1-.5 1.2c-.3.3-.8.4-1.4.4H9.6V7.3zm4.6 9c-.4.3-1 .4-1.7.4H9.6v-3.9h2.9c.7 0 1.3.2 1.7.5.4.3.6.8.6 1.5s-.2 1.2-.6 1.5z"})});var Ct=r(L()),pe=r(n()),ce=(0,pe.jsx)(Ct.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Ct.Path,{d:"M12.5 5L10 19h1.9l2.5-14z"})});var St=r(L()),he=r(n()),ge=(0,he.jsx)(St.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,he.jsx)(St.Path,{d:"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z"})});var Tt=r(L()),xe=r(n()),be=(0,xe.jsx)(Tt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,xe.jsx)(Tt.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})});var Lt=r(L()),we=r(n()),ke=(0,we.jsx)(Lt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,we.jsx)(Lt.Path,{d:"M17.5 10h-1.7l-3.7 10.5h1.7l.9-2.6h3.9l.9 2.6h1.7L17.5 10zm-2.2 6.3 1.4-4 1.4 4h-2.8zm-4.8-3.8c1.6-1.8 2.9-3.6 3.7-5.7H16V5.2h-5.8V3H8.8v2.2H3v1.5h9.6c-.7 1.6-1.8 3.1-3.1 4.6C8.6 10.2 7.8 9 7.2 8H5.6c.6 1.4 1.7 2.9 2.9 4.4l-2.4 2.4c-.3.4-.7.8-1.1 1.2l1 1 1.2-1.2c.8-.8 1.6-1.5 2.3-2.3.8.9 1.7 1.7 2.5 2.5l.6-1.5c-.7-.6-1.4-1.3-2.1-2z"})});var Bt=r(L()),ye=r(n()),ve=(0,ye.jsx)(Bt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ye.jsx)(Bt.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});var Nt=r(L()),_e=r(n()),Ce=(0,_e.jsx)(Nt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,_e.jsx)(Nt.Path,{d:"M11.2 6.8c-.7 0-1.4.5-1.6 1.1l-2.8 7.5-1.2-1.8c-.1-.2-.4-.3-.6-.3H3v1.5h1.6l1.2 1.8c.6.9 1.9.7 2.2-.3l2.9-7.9s.1-.2.2-.2h7.8V6.7h-7.8Zm5.3 3.4-1.9 1.9-1.9-1.9-1.1 1.1 1.9 1.9-1.9 1.9 1.1 1.1 1.9-1.9 1.9 1.9 1.1-1.1-1.9-1.9 1.9-1.9-1.1-1.1Z"})});var It=r(L()),Se=r(n()),Te=(0,Se.jsx)(It.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Se.jsx)(It.Path,{d:"M16.9 18.3l.8-1.2c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.1-.3-.4-.5-.6-.7-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.2 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3L15 19.4h4.3v-1.2h-2.4zM14.1 7.2h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z"})});var Vt=r(L()),Le=r(n()),Be=(0,Le.jsx)(Vt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Le.jsx)(Vt.Path,{d:"M16.9 10.3l.8-1.3c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.2-.2-.4-.4-.7-.6-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.1 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3l-1.8 2.8h4.3v-1.2h-2.2zm-2.8-3.1h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z"})});var Rt=r(L()),Ne=r(n()),Ie=(0,Ne.jsx)(Rt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Ne.jsx)(Rt.Path,{d:"M12.9 6h-2l-4 11h1.9l1.1-3h4.2l1.1 3h1.9L12.9 6zm-2.5 6.5l1.5-4.9 1.7 4.9h-3.2z"})});var da=r(na()),{lock:ls,unlock:P}=(0,da.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/format-library");var z=r(n()),{essentialFormatKey:Kr}=P(D.privateApis),Ve="core/bold",Re=(0,pa.__)("Bold"),ca={name:Ve,title:Re,tagName:"strong",className:null,[Kr]:!0,edit({isActive:t,value:e,onChange:a,onFocus:o}){function s(){a((0,Fe.toggleFormat)(e,{type:Ve,title:Re}))}function l(){a((0,Fe.toggleFormat)(e,{type:Ve})),o()}return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(D.RichTextShortcut,{type:"primary",character:"b",onUse:s}),(0,z.jsx)(D.RichTextToolbarButton,{name:"bold",icon:de,title:Re,onClick:l,isActive:t,shortcutType:"primary",shortcutCharacter:"b"}),(0,z.jsx)(D.__unstableRichTextInputEvent,{inputType:"formatBold",onInput:s})]})}};var ha=r(x()),Q=r(g()),Ft=r(k());var J=r(n()),je="core/code",Pe=(0,ha.__)("Inline code"),ga={name:je,title:Pe,tagName:"code",className:null,__unstableInputRule(t){let{start:a,text:o}=t;if(o[a-1]!=="`"||a-2<0)return t;let l=o.lastIndexOf("`",a-2);if(l===-1)return t;let f=l,i=a-2;return f===i||(t=(0,Q.remove)(t,f,f+1),t=(0,Q.remove)(t,i,i+1),t=(0,Q.applyFormat)(t,{type:je},f,i)),t},edit({value:t,onChange:e,onFocus:a,isActive:o}){function s(){e((0,Q.toggleFormat)(t,{type:je,title:Pe})),a()}return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(Ft.RichTextShortcut,{type:"access",character:"x",onUse:s}),(0,J.jsx)(Ft.RichTextToolbarButton,{icon:ie,title:Pe,onClick:s,isActive:o,role:"menuitemcheckbox"})]})}};var y=r(X()),V=r(x()),Ee=r(j()),jt=r(g()),it=r(k()),c=r(n()),Zr=["image"],Me="core/image",ba=(0,V.__)("Inline image");function qr(t){if(!t?.className)return;let[,e]=t.className.match(/wp-image-(\d+)/)??[];return e?parseInt(e,10):void 0}var Ae={name:Me,title:ba,keywords:[(0,V.__)("photo"),(0,V.__)("media")],object:!0,tagName:"img",className:null,attributes:{className:"class",style:"style",url:"src",alt:"alt"},edit:Yr};function $r({value:t,onChange:e,activeObjectAttributes:a,contentRef:o}){let{style:s,alt:l}=a,f=s?.replace(/\D/g,""),[i,m]=(0,Ee.useState)(f),[u,w]=(0,Ee.useState)(l),v=i!==f||u!==l,R=(0,jt.useAnchor)({editableContentElement:o.current,settings:Ae});return(0,c.jsx)(y.Popover,{focusOnMount:!1,anchor:R,className:"block-editor-format-toolbar__image-popover",children:(0,c.jsx)("form",{className:"block-editor-format-toolbar__image-container-content",onSubmit:_=>{let C=t.replacements.slice();C[t.start]={type:Me,attributes:{...a,style:i?`width: ${i}px;`:"",alt:u}},e({...t,replacements:C}),_.preventDefault()},children:(0,c.jsxs)(y.__experimentalVStack,{spacing:4,children:[(0,c.jsx)(y.__experimentalNumberControl,{__next40pxDefaultSize:!0,label:(0,V.__)("Width"),value:i,min:1,onChange:_=>{m(_)}}),(0,c.jsx)(y.TextareaControl,{label:(0,V.__)("Alternative text"),__nextHasNoMarginBottom:!0,value:u,onChange:_=>{w(_)},help:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(y.ExternalLink,{href:(0,V.__)("https://www.w3.org/WAI/tutorials/images/decision-tree/"),children:(0,V.__)("Describe the purpose of the image.")}),(0,c.jsx)("br",{}),(0,V.__)("Leave empty if decorative.")]})}),(0,c.jsx)(y.__experimentalHStack,{justify:"right",children:(0,c.jsx)(y.Button,{disabled:!v,accessibleWhenDisabled:!0,variant:"primary",type:"submit",size:"compact",children:(0,V.__)("Apply")})})]})})})}function Yr({value:t,onChange:e,onFocus:a,isObjectActive:o,activeObjectAttributes:s,contentRef:l}){return(0,c.jsxs)(it.MediaUploadCheck,{children:[(0,c.jsx)(it.MediaUpload,{allowedTypes:Zr,value:qr(s),onSelect:({id:f,url:i,alt:m,width:u})=>{e((0,jt.insertObject)(t,{type:Me,attributes:{className:`wp-image-${f}`,style:`width: ${Math.min(u,150)}px;`,url:i,alt:m}})),a()},render:({open:f})=>(0,c.jsx)(it.RichTextToolbarButton,{icon:(0,c.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(y.Path,{d:"M4 18.5h16V17H4v1.5zM16 13v1.5h4V13h-4zM5.1 15h7.8c.6 0 1.1-.5 1.1-1.1V6.1c0-.6-.5-1.1-1.1-1.1H5.1C4.5 5 4 5.5 4 6.1v7.8c0 .6.5 1.1 1.1 1.1zm.4-8.5h7V10l-1-1c-.3-.3-.8-.3-1 0l-1.6 1.5-1.2-.7c-.3-.2-.6-.2-.9 0l-1.3 1V6.5zm0 6.1l1.8-1.3 1.3.8c.3.2.7.2.9-.1l1.5-1.4 1.5 1.4v1.5h-7v-.9z"})}),title:o?(0,V.__)("Replace image"):ba,onClick:f,isActive:o})}),o&&(0,c.jsx)($r,{value:t,onChange:e,activeObjectAttributes:s,contentRef:l})]})}var wa=r(x()),ze=r(g()),W=r(k());var O=r(n()),{essentialFormatKey:Qr}=P(W.privateApis),He="core/italic",Ue=(0,wa.__)("Italic"),ka={name:He,title:Ue,tagName:"em",className:null,[Qr]:!0,edit({isActive:t,value:e,onChange:a,onFocus:o}){function s(){a((0,ze.toggleFormat)(e,{type:He,title:Ue}))}function l(){a((0,ze.toggleFormat)(e,{type:He})),o()}return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(W.RichTextShortcut,{type:"primary",character:"i",onUse:s}),(0,O.jsx)(W.RichTextToolbarButton,{name:"italic",icon:ce,title:Ue,onClick:l,isActive:t,shortcutType:"primary",shortcutCharacter:"i"}),(0,O.jsx)(W.__unstableRichTextInputEvent,{inputType:"formatItalic",onInput:s})]})}};var Ut=r(x()),tt=r(j()),b=r(g()),at=r(Pt()),et=r(k()),Aa=r(_a());var Ha=r(De());var Mt=r(j()),E=r(x()),ct=r(De()),Pa=r(X()),Ea=r(Pt()),d=r(g()),mt=r(k()),At=r(Oe());var p=r(Pt());function Et(t){if(!t)return!1;let e=t.trim();if(!e)return!1;if(/^\S+:/.test(e)){let a=(0,p.getProtocol)(e);if(!(0,p.isValidProtocol)(a)||a.startsWith("http")&&!/^https?:\/\/[^\/\s]/i.test(e))return!1;let o=(0,p.getAuthority)(e);if(!(0,p.isValidAuthority)(o))return!1;let s=(0,p.getPath)(e);if(s&&!(0,p.isValidPath)(s))return!1;let l=(0,p.getQueryString)(e);if(l&&!(0,p.isValidQueryString)(l))return!1;let f=(0,p.getFragment)(e);if(f&&!(0,p.isValidFragment)(f))return!1}return!(e.startsWith("#")&&!(0,p.isValidFragment)(e))}function Ta({url:t,type:e,id:a,opensInNewWindow:o,nofollow:s,cssClasses:l}){let f={type:"core/link",attributes:{url:t}};e&&(f.attributes.type=e),a&&(f.attributes.id=a),o&&(f.attributes.target="_blank",f.attributes.rel=f.attributes.rel?f.attributes.rel+" noreferrer noopener":"noreferrer noopener"),s&&(f.attributes.rel=f.attributes.rel?f.attributes.rel+" nofollow":"nofollow");let i=l?.trim();return i?.length&&(f.attributes.class=i),f}function We(t,e,a=t.start,o=t.end){let s={start:null,end:null},{formats:l}=t,f,i;if(!l?.length)return s;let m=l.slice(),u=m[a]?.find(({type:C})=>C===e.type),w=m[o]?.find(({type:C})=>C===e.type),v=m[o-1]?.find(({type:C})=>C===e.type);if(u)f=u,i=a;else if(w)f=w,i=o;else if(v)f=v,i=o-1;else return s;let R=m[i].indexOf(f),_=[m,i,f,R];return a=Jr(..._),o=Xr(..._),a=a<0?0:a,{start:a,end:o}}function La(t,e,a,o,s){let l=e,i={forwards:1,backwards:-1}[s]||1,m=i*-1;for(;t[l]&&t[l][o]===a;)l=l+i;return l=l+m,l}var Ba=(t,...e)=>(...a)=>t(...a,...e),Jr=Ba(La,"backwards"),Xr=Ba(La,"forwards");var Va=r(j()),Ra=r(Ia()),Ge=r(x()),K=r(X()),G=r(n()),Fa=({setting:t,value:e,onChange:a})=>{let o=e?e?.cssClasses?.length>0:!1,[s,l]=(0,Va.useState)(o),i=`css-classes-setting-${(0,Ra.useInstanceId)(Fa)}`,m=w=>{let v=typeof w=="string"?w.replace(/,/g," ").replace(/\s+/g," ").trim():w;a({...e,[t.id]:v})},u=()=>{s?(o&&m(""),l(!1)):l(!0)};return(0,G.jsxs)("fieldset",{children:[(0,G.jsx)(K.VisuallyHidden,{as:"legend",children:t.title}),(0,G.jsxs)(K.__experimentalVStack,{spacing:3,children:[(0,G.jsx)(K.CheckboxControl,{__nextHasNoMarginBottom:!0,label:t.title,onChange:u,checked:s||o,"aria-expanded":s,"aria-controls":s?i:void 0}),s&&(0,G.jsx)("div",{id:i,children:(0,G.jsx)(K.__experimentalInputControl,{label:(0,Ge.__)("CSS classes"),value:e?.cssClasses,onChange:m,help:(0,Ge.__)("Separate multiple classes with spaces."),__unstableInputWidth:"100%",__next40pxDefaultSize:!0})})]})]})},ja=Fa;var ht=r(n()),to=[...mt.LinkControl.DEFAULT_LINK_SETTINGS,{id:"nofollow",title:(0,E.__)("Mark as nofollow")},{id:"cssClasses",title:(0,E.__)("Additional CSS class(es)"),render:(t,e,a)=>(0,ht.jsx)(ja,{setting:t,value:e,onChange:a})}];function eo({isActive:t,activeAttributes:e,value:a,onChange:o,onFocusOutside:s,stopAddingLink:l,contentRef:f,focusOnMount:i}){let u=ao(a,t).text,{selectionChange:w}=(0,At.useDispatch)(mt.store),{createPageEntity:v,userCanCreatePages:R,selectionStart:_}=(0,At.useSelect)(h=>{let{getSettings:Y,getSelectionStart:ae}=h(mt.store),lt=Y();return{createPageEntity:lt.__experimentalCreatePageEntity,userCanCreatePages:lt.__experimentalUserCanCreatePages,selectionStart:ae()}},[]),C=(0,Mt.useMemo)(()=>({url:e.url,type:e.type,id:e.id,opensInNewTab:e.target==="_blank",nofollow:e.rel?.includes("nofollow"),title:u,cssClasses:e.class}),[e.class,e.id,e.rel,e.target,e.type,e.url,u]);function te(){let h=(0,d.removeFormat)(a,"core/link");o(h),l(),(0,ct.speak)((0,E.__)("Link removed."),"assertive")}function F(h){let ae=!C?.url;h={...C,...h};let lt=(0,Ea.prependHTTP)(h.url),re=Ta({url:lt,type:h.type,id:h.id!==void 0&&h.id!==null?String(h.id):void 0,opensInNewWindow:h.opensInNewTab,nofollow:h.nofollow,cssClasses:h.cssClasses}),ft=h.title||lt,A;if((0,d.isCollapsed)(a)&&!t){let bt=(0,d.insert)(a,ft);A=(0,d.applyFormat)(bt,re,a.start,a.start+ft.length),o(A),l(),w({clientId:_.clientId,identifier:_.attributeKey,start:a.start+ft.length+1});return}else if(ft===u)A=(0,d.applyFormat)(a,re);else{A=(0,d.create)({text:ft}),A=(0,d.applyFormat)(A,re,0,ft.length);let bt=We(a,{type:"core/link"}),[Er,Mr]=(0,d.split)(a,bt.start,bt.start),Ar=(0,d.replace)(Mr,u,A);A=(0,d.concat)(Er,Ar)}o(A),ae||l(),Et(lt)?t?(0,ct.speak)((0,E.__)("Link edited."),"assertive"):(0,ct.speak)((0,E.__)("Link inserted."),"assertive"):(0,ct.speak)((0,E.__)("Warning: the link has been inserted but may have errors. Please test it."),"assertive")}let S=(0,d.useAnchor)({editableContentElement:f.current,settings:{...Ht,isActive:t}});async function ee(h){let Y=await v({title:h,status:"draft"});return{id:Y.id,type:Y.type,title:Y.title.rendered,url:Y.link,kind:"post-type"}}function xt(h){return(0,Mt.createInterpolateElement)((0,E.sprintf)((0,E.__)("Create page: <mark>%s</mark>"),h),{mark:(0,ht.jsx)("mark",{})})}return(0,ht.jsx)(Pa.Popover,{anchor:S,animate:!1,onClose:l,onFocusOutside:s,placement:"bottom",offset:8,shift:!0,focusOnMount:i,constrainTabbing:!0,children:(0,ht.jsx)(mt.LinkControl,{value:C,onChange:F,onRemove:te,hasRichPreviews:!0,createSuggestion:v&&ee,withCreateSuggestion:R,createSuggestionButtonText:xt,hasTextControl:!0,settings:to,showInitialSuggestions:!0,suggestionsQuery:{initialSuggestionsSearchOptions:{type:"post",subtype:"page",perPage:20}}})})}function ao(t,e){let a=t.start,o=t.end;if(e){let s=We(t,{type:"core/link"});a=s.start,o=s.end+1}return(0,d.slice)(t,a,o)}var Ma=eo;var H=r(n()),{essentialFormatKey:ro}=P(et.privateApis),ut="core/link",Ua=(0,Ut.__)("Link");function oo({isActive:t,activeAttributes:e,value:a,onChange:o,onFocus:s,contentRef:l}){let[f,i]=(0,tt.useState)(!1),[m,u]=(0,tt.useState)(null);(0,tt.useEffect)(()=>{t||i(!1)},[t]),(0,tt.useLayoutEffect)(()=>{let F=l.current;if(!F)return;function S(ee){let xt=ee.target.closest("[contenteditable] a");!xt||!t||(i(!0),u({el:xt,action:"click"}))}return F.addEventListener("click",S),()=>{F.removeEventListener("click",S)}},[l,t]);function w(F){let S=(0,b.getTextContent)((0,b.slice)(a));!t&&S&&(0,at.isURL)(S)&&Et(S)?o((0,b.applyFormat)(a,{type:ut,attributes:{url:S}})):!t&&S&&(0,at.isEmail)(S)?o((0,b.applyFormat)(a,{type:ut,attributes:{url:`mailto:${S}`}})):!t&&S&&(0,at.isPhoneNumber)(S)?o((0,b.applyFormat)(a,{type:ut,attributes:{url:`tel:${S.replace(/\D/g,"")}`}})):(F&&u({el:F,action:null}),i(!0))}function v(){i(!1),m?.el?.tagName==="BUTTON"?m.el.focus():s(),u(null)}function R(){i(!1),u(null)}function _(){o((0,b.removeFormat)(a,ut)),(0,Ha.speak)((0,Ut.__)("Link removed."),"assertive")}let C=!(m?.el?.tagName==="A"&&m?.action==="click"),te=!(0,b.isCollapsed)(a);return(0,H.jsxs)(H.Fragment,{children:[te&&(0,H.jsx)(et.RichTextShortcut,{type:"primary",character:"k",onUse:w}),(0,H.jsx)(et.RichTextShortcut,{type:"primaryShift",character:"k",onUse:_}),(0,H.jsx)(et.RichTextToolbarButton,{name:"link",icon:ve,title:t?(0,Ut.__)("Link"):Ua,onClick:F=>{w(F.currentTarget)},isActive:t||f,shortcutType:"primary",shortcutCharacter:"k","aria-haspopup":"true","aria-expanded":f}),f&&(0,H.jsx)(Ma,{stopAddingLink:v,onFocusOutside:R,isActive:t,activeAttributes:e,value:a,onChange:o,contentRef:l,focusOnMount:C?"firstElement":!1})]})}var Ht={name:ut,title:Ua,tagName:"a",className:null,attributes:{url:"href",type:"data-type",id:"data-id",_id:"id",target:"target",rel:"rel",class:"class"},[ro]:!0,__unstablePasteRule(t,{html:e,plainText:a}){let o=(e||a).replace(/<[^>]+>/g,"").trim();if(!(0,at.isURL)(o)||!/^https?:/.test(o))return t;window.console.log(`Created link:

`,o);let s={type:ut,attributes:{url:(0,Aa.decodeEntities)(o)}};return(0,b.isCollapsed)(t)?(0,b.insert)(t,(0,b.applyFormat)((0,b.create)({text:a}),s,0,a.length)):(0,b.applyFormat)(t,s)},edit:oo};var Da=r(x()),Oa=r(g()),zt=r(k());var rt=r(n()),za="core/strikethrough",Ke=(0,Da.__)("Strikethrough"),Wa={name:za,title:Ke,tagName:"s",className:null,edit({isActive:t,value:e,onChange:a,onFocus:o}){function s(){a((0,Oa.toggleFormat)(e,{type:za,title:Ke})),o()}return(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)(zt.RichTextShortcut,{type:"access",character:"d",onUse:s}),(0,rt.jsx)(zt.RichTextToolbarButton,{icon:ge,title:Ke,onClick:s,isActive:t,role:"menuitemcheckbox"})]})}};var Za=r(x()),qa=r(g()),Dt=r(k()),ot=r(n()),Ga="core/underline",Ka=(0,Za.__)("Underline"),$a={name:Ga,title:Ka,tagName:"span",className:null,attributes:{style:"style"},edit({value:t,onChange:e}){let a=()=>{e((0,qa.toggleFormat)(t,{type:Ga,attributes:{style:"text-decoration: underline;"},title:Ka}))};return(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)(Dt.RichTextShortcut,{type:"primary",character:"u",onUse:a}),(0,ot.jsx)(Dt.__unstableRichTextInputEvent,{inputType:"formatUnderline",onInput:a})]})}};var tr=r(x()),qt=r(j()),$t=r(k());var er=r(g());var Qa=r(j()),Ja=r(Oe()),Z=r(g()),M=r(k()),Wt=r(X()),Ze=r(x());var U=r(n()),{Tabs:Ot}=P(Wt.privateApis),Ya=[{name:"color",title:(0,Ze.__)("Text")},{name:"backgroundColor",title:(0,Ze.__)("Background")}];function so(t=""){return t.split(";").reduce((e,a)=>{if(a){let[o,s]=a.split(":");o==="color"&&(e.color=s),o==="background-color"&&s!==gt&&(e.backgroundColor=s)}return e},{})}function lo(t="",e){return t.split(" ").reduce((a,o)=>{if(o.startsWith("has-")&&o.endsWith("-color")){let s=o.replace(/^has-/,"").replace(/-color$/,""),l=(0,M.getColorObjectByAttributeValues)(e,s);a.color=l.color}return a},{})}function Gt(t,e,a){let o=(0,Z.getActiveFormat)(t,e);return o?{...so(o.attributes.style),...lo(o.attributes.class,a)}:{}}function fo(t,e,a,o){let{color:s,backgroundColor:l}={...Gt(t,e,a),...o};if(!s&&!l)return(0,Z.removeFormat)(t,e);let f=[],i=[],m={};if(l?f.push(["background-color",l].join(":")):f.push(["background-color",gt].join(":")),s){let u=(0,M.getColorObjectByColorValue)(a,s);u?i.push((0,M.getColorClassName)("color",u.slug)):f.push(["color",s].join(":"))}return f.length&&(m.style=f.join(";")),i.length&&(m.class=i.join(" ")),(0,Z.applyFormat)(t,{type:e,attributes:m})}function io({name:t,property:e,value:a,onChange:o}){let s=(0,Ja.useSelect)(f=>{let{getSettings:i}=f(M.store);return i().colors??[]},[]),l=(0,Qa.useMemo)(()=>Gt(a,t,s),[t,a,s]);return(0,U.jsx)(M.ColorPalette,{value:l[e],onChange:f=>{o(fo(a,t,s,{[e]:f}))},enableAlpha:!0,__experimentalIsRenderedInSidebar:!0})}function Xa({name:t,value:e,onChange:a,onClose:o,contentRef:s,isActive:l}){let f=(0,Z.useAnchor)({editableContentElement:s.current,settings:{...Kt,isActive:l}});return(0,U.jsx)(Wt.Popover,{onClose:o,className:"format-library__inline-color-popover",anchor:f,children:(0,U.jsxs)(Ot,{children:[(0,U.jsx)(Ot.TabList,{children:Ya.map(i=>(0,U.jsx)(Ot.Tab,{tabId:i.name,children:i.title},i.name))}),Ya.map(i=>(0,U.jsx)(Ot.TabPanel,{tabId:i.name,focusable:!1,children:(0,U.jsx)(io,{name:t,property:i.name,value:e,onChange:a})},i.name))]})})}var q=r(n()),gt="rgba(0, 0, 0, 0)",Zt="core/text-color",ar=(0,tr.__)("Highlight"),mo=[];function qe(t,e){let{ownerDocument:a}=t,{defaultView:o}=a,l=o.getComputedStyle(t).getPropertyValue(e);return e==="background-color"&&l===gt&&t.parentElement?qe(t.parentElement,e):l}function uo(t,{color:e,backgroundColor:a}){if(!(!e&&!a))return{color:e||qe(t,"color"),backgroundColor:a===gt?qe(t,"background-color"):a}}function no({value:t,onChange:e,isActive:a,activeAttributes:o,contentRef:s}){let[l,f=mo]=(0,$t.useSettings)("color.custom","color.palette"),[i,m]=(0,qt.useState)(!1),u=(0,qt.useMemo)(()=>uo(s.current,Gt(t,Zt,f)),[s,t,f]),w=!!f.length||l;return!w&&!a?null:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)($t.RichTextToolbarButton,{className:"format-library-text-color-button",isActive:a,icon:(0,q.jsx)(oe,{icon:Object.keys(o).length?Ie:ue,style:u}),title:ar,onClick:w?()=>m(!0):()=>e((0,er.removeFormat)(t,Zt)),role:"menuitemcheckbox"}),i&&(0,q.jsx)(Xa,{name:Zt,onClose:()=>m(!1),activeAttributes:o,value:t,onChange:e,contentRef:s,isActive:a})]})}var Kt={name:Zt,title:ar,tagName:"mark",className:"has-inline-color",attributes:{style:"style",class:"class"},edit:no};var or=r(x()),sr=r(g()),lr=r(k());var fr=r(n()),rr="core/subscript",$e=(0,or.__)("Subscript"),ir={name:rr,title:$e,tagName:"sub",className:null,edit({isActive:t,value:e,onChange:a,onFocus:o}){function s(){a((0,sr.toggleFormat)(e,{type:rr,title:$e}))}function l(){s(),o()}return(0,fr.jsx)(lr.RichTextToolbarButton,{icon:Te,title:$e,onClick:l,isActive:t,role:"menuitemcheckbox"})}};var ur=r(x()),nr=r(g()),dr=r(k());var pr=r(n()),mr="core/superscript",Ye=(0,ur.__)("Superscript"),cr={name:mr,title:Ye,tagName:"sup",className:null,edit({isActive:t,value:e,onChange:a,onFocus:o}){function s(){a((0,nr.toggleFormat)(e,{type:mr,title:Ye}))}function l(){s(),o()}return(0,pr.jsx)(dr.RichTextToolbarButton,{icon:Be,title:Ye,onClick:l,isActive:t,role:"menuitemcheckbox"})}};var gr=r(x()),xr=r(g()),br=r(k());var wr=r(n()),hr="core/keyboard",Qe=(0,gr.__)("Keyboard input"),kr={name:hr,title:Qe,tagName:"kbd",className:null,edit({isActive:t,value:e,onChange:a,onFocus:o}){function s(){a((0,xr.toggleFormat)(e,{type:hr,title:Qe}))}function l(){s(),o()}return(0,wr.jsx)(br.RichTextToolbarButton,{icon:le,title:Qe,onClick:l,isActive:t,role:"menuitemcheckbox"})}};var vr=r(x()),nt=r(g()),_r=r(k());var Cr=r(n()),Je="core/unknown",yr=(0,vr.__)("Clear Unknown Formatting");function po(t){return(0,nt.isCollapsed)(t)?!1:(0,nt.slice)(t).formats.some(a=>a.some(o=>o.type===Je))}var Sr={name:Je,title:yr,tagName:"*",className:null,edit({isActive:t,value:e,onChange:a,onFocus:o}){if(!t&&!po(e))return null;function s(){a((0,nt.removeFormat)(e,Je)),o()}return(0,Cr.jsx)(_r.RichTextToolbarButton,{name:"unknown",icon:be,title:yr,onClick:s,isActive:!0})}};var st=r(x()),Tr=r(k()),I=r(X()),Yt=r(j()),dt=r(g());var N=r(n()),Xe="core/language",Qt=(0,st.__)("Language"),ta={name:Xe,tagName:"bdo",className:null,edit:co,title:Qt};function co({isActive:t,value:e,onChange:a,contentRef:o}){let[s,l]=(0,Yt.useState)(!1),f=()=>{l(i=>!i)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Tr.RichTextToolbarButton,{icon:ke,label:Qt,title:Qt,onClick:()=>{t?a((0,dt.removeFormat)(e,Xe)):f()},isActive:t,role:"menuitemcheckbox"}),s&&(0,N.jsx)(ho,{value:e,onChange:a,onClose:f,contentRef:o})]})}function ho({value:t,contentRef:e,onChange:a,onClose:o}){let s=(0,dt.useAnchor)({editableContentElement:e.current,settings:ta}),[l,f]=(0,Yt.useState)(""),[i,m]=(0,Yt.useState)("ltr");return(0,N.jsx)(I.Popover,{className:"block-editor-format-toolbar__language-popover",anchor:s,onClose:o,children:(0,N.jsxs)(I.__experimentalVStack,{as:"form",spacing:4,className:"block-editor-format-toolbar__language-container-content",onSubmit:u=>{u.preventDefault(),a((0,dt.applyFormat)(t,{type:Xe,attributes:{lang:l,dir:i}})),o()},children:[(0,N.jsx)(I.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:Qt,value:l,onChange:u=>f(u),help:(0,st.__)('A valid language attribute, like "en" or "fr".')}),(0,N.jsx)(I.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,st.__)("Text direction"),value:i,options:[{label:(0,st.__)("Left to right"),value:"ltr"},{label:(0,st.__)("Right to left"),value:"rtl"}],onChange:u=>m(u)}),(0,N.jsx)(I.__experimentalHStack,{alignment:"right",children:(0,N.jsx)(I.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",text:(0,st.__)("Apply")})})]})})}var Jt=r(x()),pt=r(j()),Xt=r(g()),Lr=r(k()),$=r(X());var T=r(n()),{Badge:go}=P($.privateApis),ea="core/math",Br=(0,Jt.__)("Math");function xo({value:t,onChange:e,activeAttributes:a,contentRef:o,latexToMathML:s}){let[l,f]=(0,pt.useState)(a?.["data-latex"]||""),[i,m]=(0,pt.useState)(null),u=(0,Xt.useAnchor)({editableContentElement:o.current,settings:aa}),w=v=>{let R="";if(f(v),v)try{R=s(v,{displayMode:!1}),m(null)}catch(C){m(C.message);return}let _=t.replacements.slice();_[t.start]={type:ea,attributes:{"data-latex":v},innerHTML:R},e({...t,replacements:_})};return(0,T.jsx)($.Popover,{placement:"bottom-start",offset:8,focusOnMount:!1,anchor:u,className:"block-editor-format-toolbar__math-popover",children:(0,T.jsx)("div",{style:{minWidth:"300px",padding:"4px"},children:(0,T.jsxs)($.__experimentalVStack,{spacing:1,children:[(0,T.jsx)($.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,label:(0,Jt.__)("LaTeX math syntax"),value:l,onChange:w,placeholder:(0,Jt.__)("e.g., x^2, \\frac{a}{b}"),autoComplete:"off",className:"block-editor-format-toolbar__math-input"}),i&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(go,{intent:"error",className:"wp-block-math__error",children:i}),(0,T.jsx)("style",{children:".wp-block-math__error .components-badge__content{white-space:normal}"})]})]})})})}function bo({value:t,onChange:e,onFocus:a,isObjectActive:o,activeObjectAttributes:s,contentRef:l}){let[f,i]=(0,pt.useState)();return(0,pt.useEffect)(()=>{import("@wordpress/latex-to-mathml").then(m=>{i(()=>m.default)})},[]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Lr.RichTextToolbarButton,{icon:Ce,title:Br,onClick:()=>{let m=(0,Xt.insertObject)(t,{type:ea,attributes:{"data-latex":""},innerHTML:""});m.start=m.end-1,e(m),a()},isActive:o}),o&&(0,T.jsx)(xo,{value:t,onChange:e,activeAttributes:s,contentRef:l,latexToMathML:f})]})}var aa={name:ea,title:Br,tagName:"math",className:null,attributes:{"data-latex":"data-latex"},contentEditable:!1,edit:bo};var Nr=r(x()),Ir=r(g()),Vr=r(k()),Rr=r(n()),wo="core/non-breaking-space",ko=(0,Nr.__)("Non breaking space"),Fr={name:wo,title:ko,tagName:"nbsp",className:null,edit({value:t,onChange:e}){function a(){e((0,Ir.insert)(t,"\xA0"))}return(0,Rr.jsx)(Vr.RichTextShortcut,{type:"primaryShift",character:" ",onUse:a})}};var jr=[ca,ga,Ae,ka,Ht,Wa,$a,Kt,ir,cr,kr,Sr,ta,aa,Fr];jr.forEach(({name:t,...e})=>(0,Pr.registerFormatType)(t,e));})();
//# sourceMappingURL=index.min.js.map
