{
  "version": 3,
  "sources": ["package-external:@wordpress/element", "package-external:@wordpress/block-library", "package-external:@wordpress/widgets", "package-external:@wordpress/blocks", "package-external:@wordpress/data", "package-external:@wordpress/preferences", "package-external:@wordpress/components", "package-external:@wordpress/i18n", "package-external:@wordpress/block-editor", "package-external:@wordpress/compose", "package-external:@wordpress/hooks", "vendor-external:react/jsx-runtime", "package-external:@wordpress/core-data", "package-external:@wordpress/media-utils", "package-external:@wordpress/keycodes", "package-external:@wordpress/primitives", "package-external:@wordpress/keyboard-shortcuts", "../../../node_modules/fast-deep-equal/es6/index.js", "package-external:@wordpress/is-shallow-equal", "package-external:@wordpress/private-apis", "package-external:@wordpress/dom", "../../../packages/customize-widgets/src/index.js", "../../../packages/customize-widgets/src/components/customize-widgets/index.js", "../../../packages/customize-widgets/src/components/error-boundary/index.js", "../../../packages/customize-widgets/src/components/sidebar-block-editor/index.js", "../../../packages/customize-widgets/src/components/block-inspector-button/index.js", "../../../node_modules/clsx/dist/clsx.mjs", "../../../packages/customize-widgets/src/components/header/index.js", "../../../packages/icons/src/library/close-small.tsx", "../../../packages/icons/src/library/external.tsx", "../../../packages/icons/src/library/more-vertical.tsx", "../../../packages/icons/src/library/plus.tsx", "../../../packages/icons/src/library/redo.tsx", "../../../packages/icons/src/library/undo.tsx", "../../../packages/customize-widgets/src/components/inserter/index.js", "../../../packages/customize-widgets/src/store/index.js", "../../../packages/customize-widgets/src/store/reducer.js", "../../../packages/customize-widgets/src/store/selectors.js", "../../../packages/customize-widgets/src/store/actions.js", "../../../packages/customize-widgets/src/store/constants.js", "../../../packages/customize-widgets/src/components/more-menu/index.js", "../../../packages/customize-widgets/src/components/keyboard-shortcut-help-modal/index.js", "../../../packages/customize-widgets/src/components/keyboard-shortcut-help-modal/config.js", "../../../packages/customize-widgets/src/components/keyboard-shortcut-help-modal/shortcut.js", "../../../packages/customize-widgets/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js", "../../../packages/customize-widgets/src/components/inserter/use-inserter.js", "../../../packages/customize-widgets/src/components/sidebar-block-editor/sidebar-editor-provider.js", "../../../packages/customize-widgets/src/components/sidebar-block-editor/use-sidebar-block-editor.js", "../../../packages/customize-widgets/src/utils.js", "../../../packages/customize-widgets/src/components/focus-control/use-blocks-focus-control.js", "../../../packages/customize-widgets/src/components/focus-control/index.js", "../../../packages/customize-widgets/src/lock-unlock.js", "../../../packages/customize-widgets/src/components/welcome-guide/index.js", "../../../packages/customize-widgets/src/components/keyboard-shortcuts/index.js", "../../../packages/customize-widgets/src/components/block-appender/index.js", "../../../packages/customize-widgets/src/components/sidebar-controls/index.js", "../../../packages/customize-widgets/src/components/customize-widgets/use-clear-selected-block.js", "../../../packages/customize-widgets/src/controls/sidebar-section.js", "../../../packages/customize-widgets/src/controls/inspector-section.js", "../../../packages/customize-widgets/src/controls/sidebar-control.js", "../../../packages/customize-widgets/src/components/sidebar-block-editor/sidebar-adapter.js", "../../../packages/customize-widgets/src/controls/inserter-outer-section.js", "../../../packages/customize-widgets/src/filters/move-to-sidebar.js", "../../../packages/customize-widgets/src/filters/replace-media-upload.js", "../../../packages/customize-widgets/src/filters/wide-widget-display.js"],
  "sourcesContent": ["module.exports = window.wp.element;", "module.exports = window.wp.blockLibrary;", "module.exports = window.wp.widgets;", "module.exports = window.wp.blocks;", "module.exports = window.wp.data;", "module.exports = window.wp.preferences;", "module.exports = window.wp.components;", "module.exports = window.wp.i18n;", "module.exports = window.wp.blockEditor;", "module.exports = window.wp.compose;", "module.exports = window.wp.hooks;", "module.exports = window.ReactJSXRuntime;", "module.exports = window.wp.coreData;", "module.exports = window.wp.mediaUtils;", "module.exports = window.wp.keycodes;", "module.exports = window.wp.primitives;", "module.exports = window.wp.keyboardShortcuts;", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "module.exports = window.wp.isShallowEqual;", "module.exports = window.wp.privateApis;", "module.exports = window.wp.dom;", "/**\n * WordPress dependencies\n */\nimport { createRoot, StrictMode } from '@wordpress/element';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalGetCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport {\n\tregisterLegacyWidgetBlock,\n\tregisterLegacyWidgetVariations,\n\tregisterWidgetGroupBlock,\n} from '@wordpress/widgets';\nimport {\n\tsetFreeformContentHandlerName,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport { dispatch } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport CustomizeWidgets from './components/customize-widgets';\nimport getSidebarSection from './controls/sidebar-section';\nimport getSidebarControl from './controls/sidebar-control';\nimport './filters';\n\nconst { wp } = window;\n\nconst DISABLED_BLOCKS = [\n\t'core/more',\n\t'core/block',\n\t'core/freeform',\n\t'core/template-part',\n];\nconst ENABLE_EXPERIMENTAL_FSE_BLOCKS = false;\n\n/**\n * Initializes the widgets block editor in the customizer.\n *\n * @param {string} editorName          The editor name.\n * @param {Object} blockEditorSettings Block editor settings.\n */\nexport function initialize( editorName, blockEditorSettings ) {\n\tdispatch( preferencesStore ).setDefaults( 'core/customize-widgets', {\n\t\tfixedToolbar: false,\n\t\twelcomeGuide: true,\n\t} );\n\n\tdispatch( blocksStore ).reapplyBlockTypeFilters();\n\tconst coreBlocks = __experimentalGetCoreBlocks().filter( ( block ) => {\n\t\treturn ! (\n\t\t\tDISABLED_BLOCKS.includes( block.name ) ||\n\t\t\tblock.name.startsWith( 'core/post' ) ||\n\t\t\tblock.name.startsWith( 'core/query' ) ||\n\t\t\tblock.name.startsWith( 'core/site' ) ||\n\t\t\tblock.name.startsWith( 'core/navigation' )\n\t\t);\n\t} );\n\tregisterCoreBlocks( coreBlocks );\n\tregisterLegacyWidgetBlock();\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: ENABLE_EXPERIMENTAL_FSE_BLOCKS,\n\t\t} );\n\t}\n\tregisterLegacyWidgetVariations( blockEditorSettings );\n\tregisterWidgetGroupBlock();\n\n\t// As we are unregistering `core/freeform` to avoid the Classic block, we must\n\t// replace it with something as the default freeform content handler. Failure to\n\t// do this will result in errors in the default block parser.\n\t// see: https://github.com/WordPress/gutenberg/issues/33097\n\tsetFreeformContentHandlerName( 'core/html' );\n\n\tconst SidebarControl = getSidebarControl( blockEditorSettings );\n\n\twp.customize.sectionConstructor.sidebar = getSidebarSection();\n\twp.customize.controlConstructor.sidebar_block_editor = SidebarControl;\n\n\tconst container = document.createElement( 'div' );\n\tdocument.body.appendChild( container );\n\n\twp.customize.bind( 'ready', () => {\n\t\tconst sidebarControls = [];\n\t\twp.customize.control.each( ( control ) => {\n\t\t\tif ( control instanceof SidebarControl ) {\n\t\t\t\tsidebarControls.push( control );\n\t\t\t}\n\t\t} );\n\n\t\tcreateRoot( container ).render(\n\t\t\t<StrictMode>\n\t\t\t\t<CustomizeWidgets\n\t\t\t\t\tapi={ wp.customize }\n\t\t\t\t\tsidebarControls={ sidebarControls }\n\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t\t/>\n\t\t\t</StrictMode>\n\t\t);\n\t} );\n}\nexport { store } from './store';\n", "/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useRef, createPortal } from '@wordpress/element';\nimport { SlotFillProvider, Popover } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ErrorBoundary from '../error-boundary';\nimport SidebarBlockEditor from '../sidebar-block-editor';\nimport FocusControl from '../focus-control';\nimport SidebarControls from '../sidebar-controls';\nimport useClearSelectedBlock from './use-clear-selected-block';\n\nexport default function CustomizeWidgets( {\n\tapi,\n\tsidebarControls,\n\tblockEditorSettings,\n} ) {\n\tconst [ activeSidebarControl, setActiveSidebarControl ] = useState( null );\n\tconst parentContainer = document.getElementById(\n\t\t'customize-theme-controls'\n\t);\n\tconst popoverRef = useRef();\n\n\tuseClearSelectedBlock( activeSidebarControl, popoverRef );\n\n\tuseEffect( () => {\n\t\tconst unsubscribers = sidebarControls.map( ( sidebarControl ) =>\n\t\t\tsidebarControl.subscribe( ( expanded ) => {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tsetActiveSidebarControl( sidebarControl );\n\t\t\t\t}\n\t\t\t} )\n\t\t);\n\n\t\treturn () => {\n\t\t\tunsubscribers.forEach( ( unsubscriber ) => unsubscriber() );\n\t\t};\n\t}, [ sidebarControls ] );\n\n\tconst activeSidebar =\n\t\tactiveSidebarControl &&\n\t\tcreatePortal(\n\t\t\t<ErrorBoundary>\n\t\t\t\t<SidebarBlockEditor\n\t\t\t\t\tkey={ activeSidebarControl.id }\n\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t\t\tsidebar={ activeSidebarControl.sidebarAdapter }\n\t\t\t\t\tinserter={ activeSidebarControl.inserter }\n\t\t\t\t\tinspector={ activeSidebarControl.inspector }\n\t\t\t\t/>\n\t\t\t</ErrorBoundary>,\n\t\t\tactiveSidebarControl.container[ 0 ]\n\t\t);\n\n\t// We have to portal this to the parent of both the editor and the inspector,\n\t// so that the popovers will appear above both of them.\n\tconst popover =\n\t\tparentContainer &&\n\t\tcreatePortal(\n\t\t\t<div className=\"customize-widgets-popover\" ref={ popoverRef }>\n\t\t\t\t<Popover.Slot />\n\t\t\t</div>,\n\t\t\tparentContainer\n\t\t);\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t<SidebarControls\n\t\t\t\tsidebarControls={ sidebarControls }\n\t\t\t\tactiveSidebarControl={ activeSidebarControl }\n\t\t\t>\n\t\t\t\t<FocusControl api={ api } sidebarControls={ sidebarControls }>\n\t\t\t\t\t{ activeSidebar }\n\t\t\t\t\t{ popover }\n\t\t\t\t</FocusControl>\n\t\t\t</SidebarControls>\n\t\t</SlotFillProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { doAction } from '@wordpress/hooks';\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button size=\"compact\" variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nexport default class ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tthis.setState( { error } );\n\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<Warning\n\t\t\t\tclassName=\"customize-widgets-error-boundary\"\n\t\t\t\tactions={ [\n\t\t\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t\t\t</CopyButton>,\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n}\n", "/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo, createPortal } from '@wordpress/element';\nimport {\n\tBlockList,\n\tBlockToolbar,\n\tBlockInspector,\n\tprivateApis as blockEditorPrivateApis,\n\t__unstableBlockSettingsMenuFirstItem,\n} from '@wordpress/block-editor';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\n\n/**\n * Internal dependencies\n */\nimport BlockInspectorButton from '../block-inspector-button';\nimport Header from '../header';\nimport useInserter from '../inserter/use-inserter';\nimport SidebarEditorProvider from './sidebar-editor-provider';\nimport WelcomeGuide from '../welcome-guide';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport BlockAppender from '../block-appender';\nimport { unlock } from '../../lock-unlock';\n\nconst { ExperimentalBlockCanvas: BlockCanvas } = unlock(\n\tblockEditorPrivateApis\n);\n\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\n\nexport default function SidebarBlockEditor( {\n\tblockEditorSettings,\n\tsidebar,\n\tinserter,\n\tinspector,\n} ) {\n\tconst [ isInserterOpened, setIsInserterOpened ] = useInserter( inserter );\n\tconst isMediumViewport = useViewportMatch( 'small' );\n\tconst {\n\t\thasUploadPermissions,\n\t\tisFixedToolbarActive,\n\t\tkeepCaretInsideBlock,\n\t\tisWelcomeGuideActive,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\treturn {\n\t\t\thasUploadPermissions:\n\t\t\t\tselect( coreStore ).canUser( 'create', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: 'attachment',\n\t\t\t\t} ) ?? true,\n\t\t\tisFixedToolbarActive: !! get(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'fixedToolbar'\n\t\t\t),\n\t\t\tkeepCaretInsideBlock: !! get(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'keepCaretInsideBlock'\n\t\t\t),\n\t\t\tisWelcomeGuideActive: !! get(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'welcomeGuide'\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst settings = useMemo( () => {\n\t\tlet mediaUploadBlockEditor;\n\t\tif ( hasUploadPermissions ) {\n\t\t\tmediaUploadBlockEditor = ( { onError, ...argumentsObject } ) => {\n\t\t\t\tuploadMedia( {\n\t\t\t\t\twpAllowedMimeTypes: blockEditorSettings.allowedMimeTypes,\n\t\t\t\t\tonError: ( { message } ) => onError( message ),\n\t\t\t\t\t...argumentsObject,\n\t\t\t\t} );\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t...blockEditorSettings,\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpened,\n\t\t\tmediaUpload: mediaUploadBlockEditor,\n\t\t\thasFixedToolbar: isFixedToolbarActive || ! isMediumViewport,\n\t\t\tkeepCaretInsideBlock,\n\t\t\teditorTool: 'edit',\n\t\t\t__unstableHasCustomAppender: true,\n\t\t};\n\t}, [\n\t\thasUploadPermissions,\n\t\tblockEditorSettings,\n\t\tisFixedToolbarActive,\n\t\tisMediumViewport,\n\t\tkeepCaretInsideBlock,\n\t\tsetIsInserterOpened,\n\t] );\n\n\tif ( isWelcomeGuideActive ) {\n\t\treturn <WelcomeGuide sidebar={ sidebar } />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<KeyboardShortcuts.Register />\n\t\t\t<BlockKeyboardShortcuts />\n\n\t\t\t<SidebarEditorProvider sidebar={ sidebar } settings={ settings }>\n\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\tundo={ sidebar.undo }\n\t\t\t\t\tredo={ sidebar.redo }\n\t\t\t\t\tsave={ sidebar.save }\n\t\t\t\t/>\n\n\t\t\t\t<Header\n\t\t\t\t\tsidebar={ sidebar }\n\t\t\t\t\tinserter={ inserter }\n\t\t\t\t\tisInserterOpened={ isInserterOpened }\n\t\t\t\t\tsetIsInserterOpened={ setIsInserterOpened }\n\t\t\t\t\tisFixedToolbarActive={\n\t\t\t\t\t\tisFixedToolbarActive || ! isMediumViewport\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ ( isFixedToolbarActive || ! isMediumViewport ) && (\n\t\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t\t) }\n\t\t\t\t<BlockCanvas\n\t\t\t\t\tshouldIframe={ false }\n\t\t\t\t\tstyles={ settings.defaultEditorStyles }\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t>\n\t\t\t\t\t<BlockList renderAppender={ BlockAppender } />\n\t\t\t\t</BlockCanvas>\n\n\t\t\t\t{ createPortal(\n\t\t\t\t\t// This is a temporary hack to prevent button component inside <BlockInspector>\n\t\t\t\t\t// from submitting form when type=\"button\" is not specified.\n\t\t\t\t\t<form onSubmit={ ( event ) => event.preventDefault() }>\n\t\t\t\t\t\t<BlockInspector />\n\t\t\t\t\t</form>,\n\t\t\t\t\tinspector.contentContainer[ 0 ]\n\t\t\t\t) }\n\t\t\t</SidebarEditorProvider>\n\n\t\t\t<__unstableBlockSettingsMenuFirstItem>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<BlockInspectorButton\n\t\t\t\t\t\tinspector={ inspector }\n\t\t\t\t\t\tcloseMenu={ onClose }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</__unstableBlockSettingsMenuFirstItem>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nfunction BlockInspectorButton( { inspector, closeMenu, ...props } ) {\n\tconst selectedBlockClientId = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSelectedBlockClientId(),\n\t\t[]\n\t);\n\n\tconst selectedBlock = useMemo(\n\t\t() => document.getElementById( `block-${ selectedBlockClientId }` ),\n\t\t[ selectedBlockClientId ]\n\t);\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\t// Open the inspector.\n\t\t\t\tinspector.open( {\n\t\t\t\t\treturnFocusWhenClose: selectedBlock,\n\t\t\t\t} );\n\t\t\t\t// Then close the dropdown menu.\n\t\t\t\tcloseMenu();\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ __( 'Show more settings' ) }\n\t\t</MenuItem>\n\t);\n}\n\nexport default BlockInspectorButton;\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { NavigableToolbar } from '@wordpress/block-editor';\nimport { createPortal, useEffect, useState } from '@wordpress/element';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport { plus, undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport MoreMenu from '../more-menu';\n\nfunction Header( {\n\tsidebar,\n\tinserter,\n\tisInserterOpened,\n\tsetIsInserterOpened,\n\tisFixedToolbarActive,\n} ) {\n\tconst [ [ hasUndo, hasRedo ], setUndoRedo ] = useState( [\n\t\tsidebar.hasUndo(),\n\t\tsidebar.hasRedo(),\n\t] );\n\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tuseEffect( () => {\n\t\treturn sidebar.subscribeHistory( () => {\n\t\t\tsetUndoRedo( [ sidebar.hasUndo(), sidebar.hasRedo() ] );\n\t\t} );\n\t}, [ sidebar ] );\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( 'customize-widgets-header', {\n\t\t\t\t\t'is-fixed-toolbar-active': isFixedToolbarActive,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<NavigableToolbar\n\t\t\t\t\tclassName=\"customize-widgets-header-toolbar\"\n\t\t\t\t\taria-label={ __( 'Document tools' ) }\n\t\t\t\t>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\tlabel={ __( 'Undo' ) }\n\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t\t\t\tdisabled={ ! hasUndo }\n\t\t\t\t\t\tonClick={ sidebar.undo }\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button undo-button\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\tlabel={ __( 'Redo' ) }\n\t\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t\t\tdisabled={ ! hasRedo }\n\t\t\t\t\t\tonClick={ sidebar.redo }\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button redo-button\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tclassName=\"customize-widgets-header-toolbar__inserter-toggle\"\n\t\t\t\t\t\tisPressed={ isInserterOpened }\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t'Add block',\n\t\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetIsInserterOpened( ( isOpen ) => ! isOpen );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<MoreMenu />\n\t\t\t\t</NavigableToolbar>\n\t\t\t</div>\n\n\t\t\t{ createPortal(\n\t\t\t\t<Inserter setIsOpened={ setIsInserterOpened } />,\n\t\t\t\tinserter.contentContainer[ 0 ]\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default Header;\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../../store';\n\nfunction Inserter( { setIsOpened } ) {\n\tconst inserterTitleId = useInstanceId(\n\t\tInserter,\n\t\t'customize-widget-layout__inserter-panel-title'\n\t);\n\tconst insertionPoint = useSelect(\n\t\t( select ) =>\n\t\t\tselect( customizeWidgetsStore ).__experimentalGetInsertionPoint(),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"customize-widgets-layout__inserter-panel\"\n\t\t\taria-labelledby={ inserterTitleId }\n\t\t>\n\t\t\t<div className=\"customize-widgets-layout__inserter-panel-header\">\n\t\t\t\t<h2\n\t\t\t\t\tid={ inserterTitleId }\n\t\t\t\t\tclassName=\"customize-widgets-layout__inserter-panel-header-title\"\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Add a block' ) }\n\t\t\t\t</h2>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tonClick={ () => setIsOpened( false ) }\n\t\t\t\t\taria-label={ __( 'Close inserter' ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"customize-widgets-layout__inserter-panel-content\">\n\t\t\t\t<Library\n\t\t\t\t\trootClientId={ insertionPoint.rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={\n\t\t\t\t\t\tinsertionPoint.insertionIndex\n\t\t\t\t\t}\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tonSelect={ () => setIsOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Inserter;\n", "/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport { STORE_NAME } from './constants';\n\n/**\n * Block editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#registering-a-store\n *\n * @type {Object}\n */\nconst storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n};\n\n/**\n * Store definition for the edit widgets namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\nregister( store );\n", "/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer tracking whether the inserter is open.\n *\n * @param {boolean|Object} state\n * @param {Object}         action\n */\nfunction blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tblockInserterPanel,\n} );\n", "const EMPTY_INSERTION_POINT = {\n\trootClientId: undefined,\n\tinsertionIndex: undefined,\n};\n\n/**\n * Returns true if the inserter is opened.\n *\n * @param {Object} state Global application state.\n *\n * @example\n * ```js\n * import { store as customizeWidgetsStore } from '@wordpress/customize-widgets';\n * import { __ } from '@wordpress/i18n';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *    const { isInserterOpened } = useSelect(\n *        ( select ) => select( customizeWidgetsStore ),\n *        []\n *    );\n *\n *    return isInserterOpened()\n *        ? __( 'Inserter is open' )\n *        : __( 'Inserter is closed.' );\n * };\n * ```\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID and index to insert at.\n */\nexport function __experimentalGetInsertionPoint( state ) {\n\tif ( typeof state.blockInserterPanel === 'boolean' ) {\n\t\treturn EMPTY_INSERTION_POINT;\n\t}\n\n\treturn state.blockInserterPanel;\n}\n", "/**\n * Returns an action object used to open/close the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @example\n * ```js\n * import { useState } from 'react';\n * import { store as customizeWidgetsStore } from '@wordpress/customize-widgets';\n * import { __ } from '@wordpress/i18n';\n * import { useDispatch } from '@wordpress/data';\n * import { Button } from '@wordpress/components';\n *\n * const ExampleComponent = () => {\n *   const { setIsInserterOpened } = useDispatch( customizeWidgetsStore );\n *   const [ isOpen, setIsOpen ] = useState( false );\n *\n *    return (\n *        <Button\n *            onClick={ () => {\n *                setIsInserterOpened( ! isOpen );\n *                setIsOpen( ! isOpen );\n *            } }\n *        >\n *            { __( 'Open/close inserter' ) }\n *        </Button>\n *    );\n * };\n * ```\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n", "/**\n * Module Constants\n */\nexport const STORE_NAME = 'core/customize-widgets';\n", "/**\n * WordPress dependencies\n */\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tToolbarDropdownMenu,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { external, moreVertical } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { PreferenceToggleMenuItem } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\n\nexport default function MoreMenu() {\n\tconst [\n\t\tisKeyboardShortcutsModalActive,\n\t\tsetIsKeyboardShortcutsModalVisible,\n\t] = useState( false );\n\tconst toggleKeyboardShortcutsModal = () =>\n\t\tsetIsKeyboardShortcutsModalVisible( ! isKeyboardShortcutsModalActive );\n\n\tuseShortcut(\n\t\t'core/customize-widgets/keyboard-shortcuts',\n\t\ttoggleKeyboardShortcutsModal\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarDropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'Options' ) }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tplacement: 'bottom-end',\n\t\t\t\t\tclassName: 'more-menu-dropdown__content',\n\t\t\t\t} }\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t\tsize: 'compact',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ () => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tname=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetIsKeyboardShortcutsModalVisible( true );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tname=\"welcomeGuide\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Welcome Guide' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/block-based-widgets-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Preferences' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tname=\"keepCaretInsideBlock\"\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Aids screen readers by stopping text caret from leaving blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</ToolbarDropdownMenu>\n\t\t\t<KeyboardShortcutHelpModal\n\t\t\t\tisModalActive={ isKeyboardShortcutsModalActive }\n\t\t\t\ttoggleModal={ toggleKeyboardShortcutsModal }\n\t\t\t/>\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ typeof shortcut === 'string' ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ clsx(\n\t\t\t'customize-widgets-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"customize-widgets-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nexport default function KeyboardShortcutHelpModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\tuseShortcut( 'core/customize-widgets/keyboard-shortcuts', toggleModal );\n\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/customize-widgets/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { character: '[[' },\n\t\tdescription: __( 'Insert a link to a post or page.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'd' },\n\t\tdescription: __( 'Strikethrough the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'x' },\n\t\tdescription: __( 'Make the selected text inline code.' ),\n\t},\n\t{\n\t\tkeyCombination: {\n\t\t\tmodifier: 'access',\n\t\t\tcharacter: '0',\n\t\t},\n\t\taliases: [\n\t\t\t{\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: '7',\n\t\t\t},\n\t\t],\n\t\tdescription: __( 'Convert the current heading to a paragraph.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: '1-6' },\n\t\tdescription: __(\n\t\t\t'Convert the current paragraph or heading to a heading of level 1 to 6.'\n\t\t),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'SPACE' },\n\t\tdescription: __( 'Add non breaking space.' ),\n\t},\n];\n", "/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ ( Array.isArray( shortcut ) ? shortcut : [ shortcut ] ).map(\n\t\t\t\t( character, index ) => {\n\t\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ character }\n\t\t\t\t\t\t</kbd>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t) }\n\t\t</kbd>\n\t);\n}\n\nfunction Shortcut( { description, keyCombination, aliases = [], ariaLabel } ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Shortcut;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nfunction DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n\nexport default DynamicShortcut;\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch, select as selectStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../../store';\n\nexport default function useInserter( inserter ) {\n\tconst isInserterOpened = useSelect(\n\t\t( select ) => select( customizeWidgetsStore ).isInserterOpened(),\n\t\t[]\n\t);\n\tconst { setIsInserterOpened } = useDispatch( customizeWidgetsStore );\n\n\tuseEffect( () => {\n\t\tif ( isInserterOpened ) {\n\t\t\tinserter.open();\n\t\t} else {\n\t\t\tinserter.close();\n\t\t}\n\t}, [ inserter, isInserterOpened ] );\n\n\treturn [\n\t\tisInserterOpened,\n\t\tuseCallback(\n\t\t\t( updater ) => {\n\t\t\t\tlet isOpen = updater;\n\t\t\t\tif ( typeof updater === 'function' ) {\n\t\t\t\t\tisOpen = updater(\n\t\t\t\t\t\tselectStore( customizeWidgetsStore ).isInserterOpened()\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tsetIsInserterOpened( isOpen );\n\t\t\t},\n\t\t\t[ setIsInserterOpened ]\n\t\t),\n\t];\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport useSidebarBlockEditor from './use-sidebar-block-editor';\nimport useBlocksFocusControl from '../focus-control/use-blocks-focus-control';\n\nimport { unlock } from '../../lock-unlock';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\n\nexport default function SidebarEditorProvider( {\n\tsidebar,\n\tsettings,\n\tchildren,\n} ) {\n\tconst [ blocks, onInput, onChange ] = useSidebarBlockEditor( sidebar );\n\n\tuseBlocksFocusControl( blocks );\n\n\treturn (\n\t\t<ExperimentalBlockEditorProvider\n\t\t\tvalue={ blocks }\n\t\t\tonInput={ onInput }\n\t\t\tonChange={ onChange }\n\t\t\tsettings={ settings }\n\t\t\tuseSubRegistry={ false }\n\t\t>\n\t\t\t{ children }\n\t\t</ExperimentalBlockEditorProvider>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { getWidgetIdFromBlock, addWidgetIdToBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { blockToWidget, widgetToBlock } from '../../utils';\n\nfunction widgetsToBlocks( widgets ) {\n\treturn widgets.map( ( widget ) => widgetToBlock( widget ) );\n}\n\nexport default function useSidebarBlockEditor( sidebar ) {\n\tconst [ blocks, setBlocks ] = useState( () =>\n\t\twidgetsToBlocks( sidebar.getWidgets() )\n\t);\n\n\tuseEffect( () => {\n\t\treturn sidebar.subscribe( ( prevWidgets, nextWidgets ) => {\n\t\t\tsetBlocks( ( prevBlocks ) => {\n\t\t\t\tconst prevWidgetsMap = new Map(\n\t\t\t\t\tprevWidgets.map( ( widget ) => [ widget.id, widget ] )\n\t\t\t\t);\n\t\t\t\tconst prevBlocksMap = new Map(\n\t\t\t\t\tprevBlocks.map( ( block ) => [\n\t\t\t\t\t\tgetWidgetIdFromBlock( block ),\n\t\t\t\t\t\tblock,\n\t\t\t\t\t] )\n\t\t\t\t);\n\n\t\t\t\tconst nextBlocks = nextWidgets.map( ( nextWidget ) => {\n\t\t\t\t\tconst prevWidget = prevWidgetsMap.get( nextWidget.id );\n\n\t\t\t\t\t// Bail out updates.\n\t\t\t\t\tif ( prevWidget && prevWidget === nextWidget ) {\n\t\t\t\t\t\treturn prevBlocksMap.get( nextWidget.id );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn widgetToBlock( nextWidget );\n\t\t\t\t} );\n\n\t\t\t\t// Bail out updates.\n\t\t\t\tif ( isShallowEqual( prevBlocks, nextBlocks ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\treturn nextBlocks;\n\t\t\t} );\n\t\t} );\n\t}, [ sidebar ] );\n\n\tconst onChangeBlocks = useCallback(\n\t\t( nextBlocks ) => {\n\t\t\tsetBlocks( ( prevBlocks ) => {\n\t\t\t\tif ( isShallowEqual( prevBlocks, nextBlocks ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\tconst prevBlocksMap = new Map(\n\t\t\t\t\tprevBlocks.map( ( block ) => [\n\t\t\t\t\t\tgetWidgetIdFromBlock( block ),\n\t\t\t\t\t\tblock,\n\t\t\t\t\t] )\n\t\t\t\t);\n\n\t\t\t\tconst nextWidgets = nextBlocks.map( ( nextBlock ) => {\n\t\t\t\t\tconst widgetId = getWidgetIdFromBlock( nextBlock );\n\n\t\t\t\t\t// Update existing widgets.\n\t\t\t\t\tif ( widgetId && prevBlocksMap.has( widgetId ) ) {\n\t\t\t\t\t\tconst prevBlock = prevBlocksMap.get( widgetId );\n\t\t\t\t\t\tconst prevWidget = sidebar.getWidget( widgetId );\n\n\t\t\t\t\t\t// Bail out updates by returning the previous widgets.\n\t\t\t\t\t\t// Deep equality is necessary until the block editor's internals changes.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tfastDeepEqual( nextBlock, prevBlock ) &&\n\t\t\t\t\t\t\tprevWidget\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn prevWidget;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn blockToWidget( nextBlock, prevWidget );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add a new widget.\n\t\t\t\t\treturn blockToWidget( nextBlock );\n\t\t\t\t} );\n\n\t\t\t\t// Bail out updates if the updated widgets are the same.\n\t\t\t\tif ( isShallowEqual( sidebar.getWidgets(), nextWidgets ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\tconst addedWidgetIds = sidebar.setWidgets( nextWidgets );\n\n\t\t\t\treturn nextBlocks.reduce(\n\t\t\t\t\t( updatedNextBlocks, nextBlock, index ) => {\n\t\t\t\t\t\tconst addedWidgetId = addedWidgetIds[ index ];\n\n\t\t\t\t\t\tif ( addedWidgetId !== null ) {\n\t\t\t\t\t\t\t// Only create a new instance if necessary to prevent\n\t\t\t\t\t\t\t// the whole editor from re-rendering on every edit.\n\t\t\t\t\t\t\tif ( updatedNextBlocks === nextBlocks ) {\n\t\t\t\t\t\t\t\tupdatedNextBlocks = nextBlocks.slice();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tupdatedNextBlocks[ index ] = addWidgetIdToBlock(\n\t\t\t\t\t\t\t\tnextBlock,\n\t\t\t\t\t\t\t\taddedWidgetId\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn updatedNextBlocks;\n\t\t\t\t\t},\n\t\t\t\t\tnextBlocks\n\t\t\t\t);\n\t\t\t} );\n\t\t},\n\t\t[ sidebar ]\n\t);\n\n\treturn [ blocks, onChangeBlocks, onChangeBlocks ];\n}\n", "// @ts-check\n/**\n * WordPress dependencies\n */\nimport { serialize, parse, createBlock } from '@wordpress/blocks';\nimport { addWidgetIdToBlock } from '@wordpress/widgets';\n\n/**\n * Convert settingId to widgetId.\n *\n * @param {string} settingId The setting id.\n * @return {string} The widget id.\n */\nexport function settingIdToWidgetId( settingId ) {\n\tconst matches = settingId.match( /^widget_(.+)(?:\\[(\\d+)\\])$/ );\n\n\tif ( matches ) {\n\t\tconst idBase = matches[ 1 ];\n\t\tconst number = parseInt( matches[ 2 ], 10 );\n\n\t\treturn `${ idBase }-${ number }`;\n\t}\n\n\treturn settingId;\n}\n\n/**\n * Transform a block to a customizable widget.\n *\n * @param {WPBlock} block          The block to be transformed from.\n * @param {Object}  existingWidget The widget to be extended from.\n * @return {Object} The transformed widget.\n */\nexport function blockToWidget( block, existingWidget = null ) {\n\tlet widget;\n\n\tconst isValidLegacyWidgetBlock =\n\t\tblock.name === 'core/legacy-widget' &&\n\t\t( block.attributes.id || block.attributes.instance );\n\n\tif ( isValidLegacyWidgetBlock ) {\n\t\tif ( block.attributes.id ) {\n\t\t\t// Widget that does not extend WP_Widget.\n\t\t\twidget = {\n\t\t\t\tid: block.attributes.id,\n\t\t\t};\n\t\t} else {\n\t\t\tconst { encoded, hash, raw, ...rest } = block.attributes.instance;\n\n\t\t\t// Widget that extends WP_Widget.\n\t\t\twidget = {\n\t\t\t\tidBase: block.attributes.idBase,\n\t\t\t\tinstance: {\n\t\t\t\t\t...existingWidget?.instance,\n\t\t\t\t\t// Required only for the customizer.\n\t\t\t\t\tis_widget_customizer_js_value: true,\n\t\t\t\t\tencoded_serialized_instance: encoded,\n\t\t\t\t\tinstance_hash_key: hash,\n\t\t\t\t\traw_instance: raw,\n\t\t\t\t\t...rest,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t} else {\n\t\tconst instance = {\n\t\t\tcontent: serialize( block ),\n\t\t};\n\t\twidget = {\n\t\t\tidBase: 'block',\n\t\t\twidgetClass: 'WP_Widget_Block',\n\t\t\tinstance: {\n\t\t\t\traw_instance: instance,\n\t\t\t},\n\t\t};\n\t}\n\n\tconst { form, rendered, ...restExistingWidget } = existingWidget || {};\n\n\treturn {\n\t\t...restExistingWidget,\n\t\t...widget,\n\t};\n}\n\n/**\n * Transform a widget to a block.\n *\n * @param {Object} widget          The widget to be transformed from.\n * @param {string} widget.id       The widget id.\n * @param {string} widget.idBase   The id base of the widget.\n * @param {number} widget.number   The number/index of the widget.\n * @param {Object} widget.instance The instance of the widget.\n * @return {WPBlock} The transformed block.\n */\nexport function widgetToBlock( { id, idBase, number, instance } ) {\n\tlet block;\n\n\tconst {\n\t\tencoded_serialized_instance: encoded,\n\t\tinstance_hash_key: hash,\n\t\traw_instance: raw,\n\t\t...rest\n\t} = instance;\n\n\tif ( idBase === 'block' ) {\n\t\tconst parsedBlocks = parse( raw.content ?? '', {\n\t\t\t__unstableSkipAutop: true,\n\t\t} );\n\t\tblock = parsedBlocks.length\n\t\t\t? parsedBlocks[ 0 ]\n\t\t\t: createBlock( 'core/paragraph', {} );\n\t} else if ( number ) {\n\t\t// Widget that extends WP_Widget.\n\t\tblock = createBlock( 'core/legacy-widget', {\n\t\t\tidBase,\n\t\t\tinstance: {\n\t\t\t\tencoded,\n\t\t\t\thash,\n\t\t\t\traw,\n\t\t\t\t...rest,\n\t\t\t},\n\t\t} );\n\t} else {\n\t\t// Widget that does not extend WP_Widget.\n\t\tblock = createBlock( 'core/legacy-widget', {\n\t\t\tid,\n\t\t} );\n\t}\n\n\treturn addWidgetIdToBlock( block, id );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { getWidgetIdFromBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { useFocusControl } from '.';\n\nexport default function useBlocksFocusControl( blocks ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst [ focusedWidgetIdRef ] = useFocusControl();\n\n\tconst blocksRef = useRef( blocks );\n\n\tuseEffect( () => {\n\t\tblocksRef.current = blocks;\n\t}, [ blocks ] );\n\n\tuseEffect( () => {\n\t\tif ( focusedWidgetIdRef.current ) {\n\t\t\tconst focusedBlock = blocksRef.current.find(\n\t\t\t\t( block ) =>\n\t\t\t\t\tgetWidgetIdFromBlock( block ) === focusedWidgetIdRef.current\n\t\t\t);\n\n\t\t\tif ( focusedBlock ) {\n\t\t\t\tselectBlock( focusedBlock.clientId );\n\t\t\t\t// If the block is already being selected, the DOM node won't\n\t\t\t\t// get focused again automatically.\n\t\t\t\t// We select the DOM and focus it manually here.\n\t\t\t\tconst blockNode = document.querySelector(\n\t\t\t\t\t`[data-block=\"${ focusedBlock.clientId }\"]`\n\t\t\t\t);\n\t\t\t\tblockNode?.focus();\n\t\t\t}\n\t\t}\n\t}, [ focusedWidgetIdRef, selectBlock ] );\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n\tuseCallback,\n\tuseMemo,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { settingIdToWidgetId } from '../../utils';\n\nconst FocusControlContext = createContext();\nFocusControlContext.displayName = 'FocusControlContext';\n\nexport default function FocusControl( { api, sidebarControls, children } ) {\n\tconst [ focusedWidgetIdRef, setFocusedWidgetIdRef ] = useState( {\n\t\tcurrent: null,\n\t} );\n\n\tconst focusWidget = useCallback(\n\t\t( widgetId ) => {\n\t\t\tfor ( const sidebarControl of sidebarControls ) {\n\t\t\t\tconst widgets = sidebarControl.setting.get();\n\n\t\t\t\tif ( widgets.includes( widgetId ) ) {\n\t\t\t\t\tsidebarControl.sectionInstance.expand( {\n\t\t\t\t\t\t// Schedule it after the complete callback so that\n\t\t\t\t\t\t// it won't be overridden by the \"Back\" button focus.\n\t\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t\t// Create a \"ref-like\" object every time to ensure\n\t\t\t\t\t\t\t// the same widget id can also triggers the focus control.\n\t\t\t\t\t\t\tsetFocusedWidgetIdRef( { current: widgetId } );\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[ sidebarControls ]\n\t);\n\n\tuseEffect( () => {\n\t\tfunction handleFocus( settingId ) {\n\t\t\tconst widgetId = settingIdToWidgetId( settingId );\n\n\t\t\tfocusWidget( widgetId );\n\t\t}\n\n\t\tlet previewBound = false;\n\n\t\tfunction handleReady() {\n\t\t\tapi.previewer.preview.bind(\n\t\t\t\t'focus-control-for-setting',\n\t\t\t\thandleFocus\n\t\t\t);\n\t\t\tpreviewBound = true;\n\t\t}\n\n\t\tapi.previewer.bind( 'ready', handleReady );\n\n\t\treturn () => {\n\t\t\tapi.previewer.unbind( 'ready', handleReady );\n\t\t\tif ( previewBound ) {\n\t\t\t\tapi.previewer.preview.unbind(\n\t\t\t\t\t'focus-control-for-setting',\n\t\t\t\t\thandleFocus\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}, [ api, focusWidget ] );\n\n\tconst context = useMemo(\n\t\t() => [ focusedWidgetIdRef, focusWidget ],\n\t\t[ focusedWidgetIdRef, focusWidget ]\n\t);\n\n\treturn (\n\t\t<FocusControlContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</FocusControlContext.Provider>\n\t);\n}\n\nexport const useFocusControl = () => useContext( FocusControlContext );\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/customize-widgets'\n\t);\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, ExternalLink } from '@wordpress/components';\nimport { useDispatch } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function WelcomeGuide( { sidebar } ) {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst isEntirelyBlockWidgets = sidebar\n\t\t.getWidgets()\n\t\t.every( ( widget ) => widget.id.startsWith( 'block-' ) );\n\n\treturn (\n\t\t<div className=\"customize-widgets-welcome-guide\">\n\t\t\t<div className=\"customize-widgets-welcome-guide__image__wrapper\">\n\t\t\t\t<picture>\n\t\t\t\t\t<source\n\t\t\t\t\t\tsrcSet=\"https://s.w.org/images/block-editor/welcome-editor.svg\"\n\t\t\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"customize-widgets-welcome-guide__image\"\n\t\t\t\t\t\tsrc=\"https://s.w.org/images/block-editor/welcome-editor.gif\"\n\t\t\t\t\t\twidth=\"312\"\n\t\t\t\t\t\theight=\"240\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t/>\n\t\t\t\t</picture>\n\t\t\t</div>\n\t\t\t<h1 className=\"customize-widgets-welcome-guide__heading\">\n\t\t\t\t{ __( 'Welcome to block Widgets' ) }\n\t\t\t</h1>\n\t\t\t<p className=\"customize-widgets-welcome-guide__text\">\n\t\t\t\t{ isEntirelyBlockWidgets\n\t\t\t\t\t? __(\n\t\t\t\t\t\t\t'Your theme provides different \u201Cblock\u201D areas for you to add and edit content.\u00A0Try adding a search bar, social icons, or other types of blocks here and see how they\u2019ll look on your site.'\n\t\t\t\t\t  )\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'You can now add any block to your site\u2019s widget areas. Don\u2019t worry, all of your favorite widgets still work flawlessly.'\n\t\t\t\t\t  ) }\n\t\t\t</p>\n\t\t\t<Button\n\t\t\t\tsize=\"compact\"\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={ () =>\n\t\t\t\t\ttoggle( 'core/customize-widgets', 'welcomeGuide' )\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ __( 'Got it' ) }\n\t\t\t</Button>\n\t\t\t<hr className=\"customize-widgets-welcome-guide__separator\" />\n\t\t\t{ ! isEntirelyBlockWidgets && (\n\t\t\t\t<p className=\"customize-widgets-welcome-guide__more-info\">\n\t\t\t\t\t{ __( 'Want to stick with the old widgets?' ) }\n\t\t\t\t\t<br />\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t'https://wordpress.org/plugins/classic-widgets/'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Get the Classic Widgets plugin.' ) }\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t<p className=\"customize-widgets-welcome-guide__more-info\">\n\t\t\t\t{ __( 'New to the block editor?' ) }\n\t\t\t\t<br />\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={ __(\n\t\t\t\t\t\t'https://wordpress.org/documentation/article/wordpress-block-editor/'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ __( \"Here's a detailed guide.\" ) }\n\t\t\t\t</ExternalLink>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\nfunction KeyboardShortcuts( { undo, redo, save } ) {\n\tuseShortcut( 'core/customize-widgets/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/save', ( event ) => {\n\t\tevent.preventDefault();\n\t\tsave();\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\tconst { registerShortcut, unregisterShortcut } = useDispatch(\n\t\tkeyboardShortcutsStore\n\t);\n\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\n\t\t\t// Linux, we keep it as the default for consistency.\n\t\t\taliases: isAppleOS()\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodifier: 'primary',\n\t\t\t\t\t\t\tcharacter: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t  ],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\treturn () => {\n\t\t\tunregisterShortcut( 'core/customize-widgets/undo' );\n\t\t\tunregisterShortcut( 'core/customize-widgets/redo' );\n\t\t\tunregisterShortcut( 'core/customize-widgets/save' );\n\t\t};\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\nexport default KeyboardShortcuts;\n", "/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport {\n\tButtonBlockAppender,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\nexport default function BlockAppender( props ) {\n\tconst ref = useRef();\n\tconst isBlocksListEmpty = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlockCount() === 0\n\t);\n\n\t// Move the focus to the block appender to prevent focus from\n\t// being lost when emptying the widget area.\n\tuseEffect( () => {\n\t\tif ( isBlocksListEmpty && ref.current ) {\n\t\t\tconst { ownerDocument } = ref.current;\n\n\t\t\tif (\n\t\t\t\t! ownerDocument.activeElement ||\n\t\t\t\townerDocument.activeElement === ownerDocument.body\n\t\t\t) {\n\t\t\t\tref.current.focus();\n\t\t\t}\n\t\t}\n\t}, [ isBlocksListEmpty ] );\n\n\treturn <ButtonBlockAppender { ...props } ref={ ref } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext, useMemo, useContext } from '@wordpress/element';\n\nexport const SidebarControlsContext = createContext();\nSidebarControlsContext.displayName = 'SidebarControlsContext';\n\nexport default function SidebarControls( {\n\tsidebarControls,\n\tactiveSidebarControl,\n\tchildren,\n} ) {\n\tconst context = useMemo(\n\t\t() => ( {\n\t\t\tsidebarControls,\n\t\t\tactiveSidebarControl,\n\t\t} ),\n\t\t[ sidebarControls, activeSidebarControl ]\n\t);\n\n\treturn (\n\t\t<SidebarControlsContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</SidebarControlsContext.Provider>\n\t);\n}\n\nexport function useSidebarControls() {\n\tconst { sidebarControls } = useContext( SidebarControlsContext );\n\n\treturn sidebarControls;\n}\n\nexport function useActiveSidebarControl() {\n\tconst { activeSidebarControl } = useContext( SidebarControlsContext );\n\n\treturn activeSidebarControl;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * We can't just use <BlockSelectionClearer> because the customizer has\n * many root nodes rather than just one in the post editor.\n * We need to listen to the focus events in all those roots, and also in\n * the preview iframe.\n * This hook will clear the selected block when focusing outside the editor,\n * with a few exceptions:\n * 1. Focusing on popovers.\n * 2. Focusing on the inspector.\n * 3. Focusing on any modals/dialogs.\n * These cases are normally triggered by user interactions from the editor,\n * not by explicitly focusing outside the editor, hence no need for clearing.\n *\n * @param {Object} sidebarControl The sidebar control instance.\n * @param {Object} popoverRef     The ref object of the popover node container.\n */\nexport default function useClearSelectedBlock( sidebarControl, popoverRef ) {\n\tconst { hasSelectedBlock, hasMultiSelection } =\n\t\tuseSelect( blockEditorStore );\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( popoverRef.current && sidebarControl ) {\n\t\t\tconst inspector = sidebarControl.inspector;\n\t\t\tconst container = sidebarControl.container[ 0 ];\n\t\t\tconst ownerDocument = container.ownerDocument;\n\t\t\tconst ownerWindow = ownerDocument.defaultView;\n\n\t\t\tfunction handleClearSelectedBlock( element ) {\n\t\t\t\tif (\n\t\t\t\t\t// 1. Make sure there are blocks being selected.\n\t\t\t\t\t( hasSelectedBlock() || hasMultiSelection() ) &&\n\t\t\t\t\t// 2. The element should exist in the DOM (not deleted).\n\t\t\t\t\telement &&\n\t\t\t\t\townerDocument.contains( element ) &&\n\t\t\t\t\t// 3. It should also not exist in the container, the popover, nor the dialog.\n\t\t\t\t\t! container.contains( element ) &&\n\t\t\t\t\t! popoverRef.current.contains( element ) &&\n\t\t\t\t\t! element.closest( '[role=\"dialog\"]' ) &&\n\t\t\t\t\t// 4. The inspector should not be opened.\n\t\t\t\t\t! inspector.expanded()\n\t\t\t\t) {\n\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Handle mouse down in the same document.\n\t\t\tfunction handleMouseDown( event ) {\n\t\t\t\thandleClearSelectedBlock( event.target );\n\t\t\t}\n\t\t\t// Handle focusing outside the current document, like to iframes.\n\t\t\tfunction handleBlur() {\n\t\t\t\thandleClearSelectedBlock( ownerDocument.activeElement );\n\t\t\t}\n\n\t\t\townerDocument.addEventListener( 'mousedown', handleMouseDown );\n\t\t\townerWindow.addEventListener( 'blur', handleBlur );\n\n\t\t\treturn () => {\n\t\t\t\townerDocument.removeEventListener(\n\t\t\t\t\t'mousedown',\n\t\t\t\t\thandleMouseDown\n\t\t\t\t);\n\t\t\t\townerWindow.removeEventListener( 'blur', handleBlur );\n\t\t\t};\n\t\t}\n\t}, [\n\t\tpopoverRef,\n\t\tsidebarControl,\n\t\thasSelectedBlock,\n\t\thasMultiSelection,\n\t\tclearSelectedBlock,\n\t] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport getInspectorSection from './inspector-section';\n\nconst getInspectorSectionId = ( sidebarId ) =>\n\t`widgets-inspector-${ sidebarId }`;\n\nexport default function getSidebarSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\tconst reduceMotionMediaQuery = window.matchMedia(\n\t\t'(prefers-reduced-motion: reduce)'\n\t);\n\tlet isReducedMotion = reduceMotionMediaQuery.matches;\n\treduceMotionMediaQuery.addEventListener( 'change', ( event ) => {\n\t\tisReducedMotion = event.matches;\n\t} );\n\n\treturn class SidebarSection extends customize.Section {\n\t\tready() {\n\t\t\tconst InspectorSection = getInspectorSection();\n\t\t\tthis.inspector = new InspectorSection(\n\t\t\t\tgetInspectorSectionId( this.id ),\n\t\t\t\t{\n\t\t\t\t\ttitle: __( 'Block Settings' ),\n\t\t\t\t\tparentSection: this,\n\t\t\t\t\tcustomizeAction: [\n\t\t\t\t\t\t__( 'Customizing' ),\n\t\t\t\t\t\t__( 'Widgets' ),\n\t\t\t\t\t\tthis.params.title,\n\t\t\t\t\t].join( ' \u25B8 ' ),\n\t\t\t\t}\n\t\t\t);\n\t\t\tcustomize.section.add( this.inspector );\n\t\t\tthis.contentContainer[ 0 ].classList.add(\n\t\t\t\t'customize-widgets__sidebar-section'\n\t\t\t);\n\t\t}\n\t\thasSubSectionOpened() {\n\t\t\treturn this.inspector.expanded();\n\t\t}\n\t\tonChangeExpanded( expanded, _args ) {\n\t\t\tconst controls = this.controls();\n\t\t\tconst args = {\n\t\t\t\t..._args,\n\t\t\t\tcompleteCallback() {\n\t\t\t\t\tcontrols.forEach( ( control ) => {\n\t\t\t\t\t\tcontrol.onChangeSectionExpanded?.( expanded, args );\n\t\t\t\t\t} );\n\t\t\t\t\t_args.completeCallback?.();\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tif ( args.manualTransition ) {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tthis.contentContainer.addClass( [ 'busy', 'open' ] );\n\t\t\t\t\tthis.contentContainer.removeClass( 'is-sub-section-open' );\n\t\t\t\t\tthis.contentContainer\n\t\t\t\t\t\t.closest( '.wp-full-overlay' )\n\t\t\t\t\t\t.addClass( 'section-open' );\n\t\t\t\t} else {\n\t\t\t\t\tthis.contentContainer.addClass( [\n\t\t\t\t\t\t'busy',\n\t\t\t\t\t\t'is-sub-section-open',\n\t\t\t\t\t] );\n\t\t\t\t\tthis.contentContainer\n\t\t\t\t\t\t.closest( '.wp-full-overlay' )\n\t\t\t\t\t\t.addClass( 'section-open' );\n\t\t\t\t\tthis.contentContainer.removeClass( 'open' );\n\t\t\t\t}\n\n\t\t\t\tconst handleTransitionEnd = () => {\n\t\t\t\t\tthis.contentContainer.removeClass( 'busy' );\n\t\t\t\t\targs.completeCallback();\n\t\t\t\t};\n\n\t\t\t\tif ( isReducedMotion ) {\n\t\t\t\t\thandleTransitionEnd();\n\t\t\t\t} else {\n\t\t\t\t\tthis.contentContainer.one(\n\t\t\t\t\t\t'transitionend',\n\t\t\t\t\t\thandleTransitionEnd\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsuper.onChangeExpanded( expanded, args );\n\t\t\t}\n\t\t}\n\t};\n}\n", "export default function getInspectorSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\treturn class InspectorSection extends customize.Section {\n\t\tconstructor( id, options ) {\n\t\t\tsuper( id, options );\n\n\t\t\tthis.parentSection = options.parentSection;\n\n\t\t\tthis.returnFocusWhenClose = null;\n\t\t\tthis._isOpen = false;\n\t\t}\n\t\tget isOpen() {\n\t\t\treturn this._isOpen;\n\t\t}\n\t\tset isOpen( value ) {\n\t\t\tthis._isOpen = value;\n\t\t\tthis.triggerActiveCallbacks();\n\t\t}\n\t\tready() {\n\t\t\tthis.contentContainer[ 0 ].classList.add(\n\t\t\t\t'customize-widgets-layout__inspector'\n\t\t\t);\n\t\t}\n\t\tisContextuallyActive() {\n\t\t\treturn this.isOpen;\n\t\t}\n\t\tonChangeExpanded( expanded, args ) {\n\t\t\tsuper.onChangeExpanded( expanded, args );\n\n\t\t\tif ( this.parentSection && ! args.unchanged ) {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tthis.parentSection.collapse( {\n\t\t\t\t\t\tmanualTransition: true,\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tthis.parentSection.expand( {\n\t\t\t\t\t\tmanualTransition: true,\n\t\t\t\t\t\tcompleteCallback: () => {\n\t\t\t\t\t\t\t// Return focus after finishing the transition.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tthis.returnFocusWhenClose &&\n\t\t\t\t\t\t\t\t! this.contentContainer[ 0 ].contains(\n\t\t\t\t\t\t\t\t\tthis.returnFocusWhenClose\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.returnFocusWhenClose.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\topen( { returnFocusWhenClose } = {} ) {\n\t\t\tthis.isOpen = true;\n\t\t\tthis.returnFocusWhenClose = returnFocusWhenClose;\n\n\t\t\tthis.expand( {\n\t\t\t\tallowMultiple: true,\n\t\t\t} );\n\t\t}\n\t\tclose() {\n\t\t\tthis.collapse( {\n\t\t\t\tallowMultiple: true,\n\t\t\t} );\n\t\t}\n\t\tcollapse( options ) {\n\t\t\t// Overridden collapse() function. Mostly call the parent collapse(), but also\n\t\t\t// move our .isOpen to false.\n\t\t\t// Initially, I tried tracking this with onChangeExpanded(), but it doesn't work\n\t\t\t// because the block settings sidebar is a layer \"on top of\" the G editor sidebar.\n\t\t\t//\n\t\t\t// For example, when closing the block settings sidebar, the G\n\t\t\t// editor sidebar would display, and onChangeExpanded in\n\t\t\t// inspector-section would run with expanded=true, but I want\n\t\t\t// isOpen to be false when the block settings is closed.\n\t\t\tthis.isOpen = false;\n\t\t\tsuper.collapse( options );\n\t\t}\n\t\ttriggerActiveCallbacks() {\n\t\t\t// Manually fire the callbacks associated with moving this.active\n\t\t\t// from false to true.  \"active\" is always true for this section,\n\t\t\t// and \"isContextuallyActive\" reflects if the block settings\n\t\t\t// sidebar is currently visible, that is, it has replaced the main\n\t\t\t// Gutenberg view.\n\t\t\t// The WP customizer only checks \".isContextuallyActive()\" when\n\t\t\t// \".active\" changes values. But our \".active\" never changes value.\n\t\t\t// The WP customizer never foresaw a section being used a way we\n\t\t\t// fit the block settings sidebar into a section. By manually\n\t\t\t// triggering the \"this.active\" callbacks, we force the WP\n\t\t\t// customizer to query our .isContextuallyActive() function and\n\t\t\t// update its view of our status.\n\t\t\tthis.active.callbacks.fireWith( this.active, [ false, true ] );\n\t\t}\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport SidebarAdapter from '../components/sidebar-block-editor/sidebar-adapter';\nimport getInserterOuterSection from './inserter-outer-section';\nimport { store as customizeWidgetsStore } from '../store';\n\nconst getInserterId = ( controlId ) => `widgets-inserter-${ controlId }`;\n\nexport default function getSidebarControl() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\treturn class SidebarControl extends customize.Control {\n\t\tconstructor( ...args ) {\n\t\t\tsuper( ...args );\n\n\t\t\tthis.subscribers = new Set();\n\t\t}\n\n\t\tready() {\n\t\t\tconst InserterOuterSection = getInserterOuterSection();\n\t\t\tthis.inserter = new InserterOuterSection(\n\t\t\t\tgetInserterId( this.id ),\n\t\t\t\t{}\n\t\t\t);\n\t\t\tcustomize.section.add( this.inserter );\n\n\t\t\tthis.sectionInstance = customize.section( this.section() );\n\n\t\t\tthis.inspector = this.sectionInstance.inspector;\n\n\t\t\tthis.sidebarAdapter = new SidebarAdapter( this.setting, customize );\n\t\t}\n\n\t\tsubscribe( callback ) {\n\t\t\tthis.subscribers.add( callback );\n\n\t\t\treturn () => {\n\t\t\t\tthis.subscribers.delete( callback );\n\t\t\t};\n\t\t}\n\n\t\tonChangeSectionExpanded( expanded, args ) {\n\t\t\tif ( ! args.unchanged ) {\n\t\t\t\t// Close the inserter when the section collapses.\n\t\t\t\tif ( ! expanded ) {\n\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\tfalse\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tthis.subscribers.forEach( ( subscriber ) =>\n\t\t\t\t\tsubscriber( expanded, args )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n}\n", "/**\n * Internal dependencies\n */\nimport { settingIdToWidgetId } from '../../utils';\n\nconst { wp } = window;\n\nfunction parseWidgetId( widgetId ) {\n\tconst matches = widgetId.match( /^(.+)-(\\d+)$/ );\n\tif ( matches ) {\n\t\treturn {\n\t\t\tidBase: matches[ 1 ],\n\t\t\tnumber: parseInt( matches[ 2 ], 10 ),\n\t\t};\n\t}\n\n\t// Likely an old single widget.\n\treturn { idBase: widgetId };\n}\n\nfunction widgetIdToSettingId( widgetId ) {\n\tconst { idBase, number } = parseWidgetId( widgetId );\n\tif ( number ) {\n\t\treturn `widget_${ idBase }[${ number }]`;\n\t}\n\n\treturn `widget_${ idBase }`;\n}\n\n/**\n * This is a custom debounce function to call different callbacks depending on\n * whether it's the _leading_ call or not.\n *\n * @param {Function} leading  The callback that gets called first.\n * @param {Function} callback The callback that gets called after the first time.\n * @param {number}   timeout  The debounced time in milliseconds.\n * @return {Function} The debounced function.\n */\nfunction debounce( leading, callback, timeout ) {\n\tlet isLeading = false;\n\tlet timerID;\n\n\tfunction debounced( ...args ) {\n\t\tconst result = ( isLeading ? callback : leading ).apply( this, args );\n\n\t\tisLeading = true;\n\n\t\tclearTimeout( timerID );\n\n\t\ttimerID = setTimeout( () => {\n\t\t\tisLeading = false;\n\t\t}, timeout );\n\n\t\treturn result;\n\t}\n\n\tdebounced.cancel = () => {\n\t\tisLeading = false;\n\t\tclearTimeout( timerID );\n\t};\n\n\treturn debounced;\n}\n\nexport default class SidebarAdapter {\n\tconstructor( setting, api ) {\n\t\tthis.setting = setting;\n\t\tthis.api = api;\n\n\t\tthis.locked = false;\n\t\tthis.widgetsCache = new WeakMap();\n\t\tthis.subscribers = new Set();\n\n\t\tthis.history = [\n\t\t\tthis._getWidgetIds().map( ( widgetId ) =>\n\t\t\t\tthis.getWidget( widgetId )\n\t\t\t),\n\t\t];\n\t\tthis.historyIndex = 0;\n\t\tthis.historySubscribers = new Set();\n\t\t// Debounce the input for 1 second.\n\t\tthis._debounceSetHistory = debounce(\n\t\t\tthis._pushHistory,\n\t\t\tthis._replaceHistory,\n\t\t\t1000\n\t\t);\n\n\t\tthis.setting.bind( this._handleSettingChange.bind( this ) );\n\t\tthis.api.bind( 'change', this._handleAllSettingsChange.bind( this ) );\n\n\t\tthis.undo = this.undo.bind( this );\n\t\tthis.redo = this.redo.bind( this );\n\t\tthis.save = this.save.bind( this );\n\t}\n\n\tsubscribe( callback ) {\n\t\tthis.subscribers.add( callback );\n\n\t\treturn () => {\n\t\t\tthis.subscribers.delete( callback );\n\t\t};\n\t}\n\n\tgetWidgets() {\n\t\treturn this.history[ this.historyIndex ];\n\t}\n\n\t_emit( ...args ) {\n\t\tfor ( const callback of this.subscribers ) {\n\t\t\tcallback( ...args );\n\t\t}\n\t}\n\n\t_getWidgetIds() {\n\t\treturn this.setting.get();\n\t}\n\n\t_pushHistory() {\n\t\tthis.history = [\n\t\t\t...this.history.slice( 0, this.historyIndex + 1 ),\n\t\t\tthis._getWidgetIds().map( ( widgetId ) =>\n\t\t\t\tthis.getWidget( widgetId )\n\t\t\t),\n\t\t];\n\t\tthis.historyIndex += 1;\n\n\t\tthis.historySubscribers.forEach( ( listener ) => listener() );\n\t}\n\n\t_replaceHistory() {\n\t\tthis.history[ this.historyIndex ] = this._getWidgetIds().map(\n\t\t\t( widgetId ) => this.getWidget( widgetId )\n\t\t);\n\t}\n\n\t_handleSettingChange() {\n\t\tif ( this.locked ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevWidgets = this.getWidgets();\n\n\t\tthis._pushHistory();\n\n\t\tthis._emit( prevWidgets, this.getWidgets() );\n\t}\n\n\t_handleAllSettingsChange( setting ) {\n\t\tif ( this.locked ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! setting.id.startsWith( 'widget_' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst widgetId = settingIdToWidgetId( setting.id );\n\t\tif ( ! this.setting.get().includes( widgetId ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevWidgets = this.getWidgets();\n\n\t\tthis._pushHistory();\n\n\t\tthis._emit( prevWidgets, this.getWidgets() );\n\t}\n\n\t_createWidget( widget ) {\n\t\tconst widgetModel = wp.customize.Widgets.availableWidgets.findWhere( {\n\t\t\tid_base: widget.idBase,\n\t\t} );\n\n\t\tlet number = widget.number;\n\t\tif ( widgetModel.get( 'is_multi' ) && ! number ) {\n\t\t\twidgetModel.set(\n\t\t\t\t'multi_number',\n\t\t\t\twidgetModel.get( 'multi_number' ) + 1\n\t\t\t);\n\t\t\tnumber = widgetModel.get( 'multi_number' );\n\t\t}\n\n\t\tconst settingId = number\n\t\t\t? `widget_${ widget.idBase }[${ number }]`\n\t\t\t: `widget_${ widget.idBase }`;\n\n\t\tconst settingArgs = {\n\t\t\ttransport: wp.customize.Widgets.data.selectiveRefreshableWidgets[\n\t\t\t\twidgetModel.get( 'id_base' )\n\t\t\t]\n\t\t\t\t? 'postMessage'\n\t\t\t\t: 'refresh',\n\t\t\tpreviewer: this.setting.previewer,\n\t\t};\n\t\tconst setting = this.api.create(\n\t\t\tsettingId,\n\t\t\tsettingId,\n\t\t\t'',\n\t\t\tsettingArgs\n\t\t);\n\t\tsetting.set( widget.instance );\n\n\t\tconst widgetId = settingIdToWidgetId( settingId );\n\n\t\treturn widgetId;\n\t}\n\n\t_removeWidget( widget ) {\n\t\tconst settingId = widgetIdToSettingId( widget.id );\n\t\tconst setting = this.api( settingId );\n\n\t\tif ( setting ) {\n\t\t\tconst instance = setting.get();\n\t\t\tthis.widgetsCache.delete( instance );\n\t\t}\n\n\t\tthis.api.remove( settingId );\n\t}\n\n\t_updateWidget( widget ) {\n\t\tconst prevWidget = this.getWidget( widget.id );\n\n\t\t// Bail out update if nothing changed.\n\t\tif ( prevWidget === widget ) {\n\t\t\treturn widget.id;\n\t\t}\n\n\t\t// Update existing setting if only the widget's instance changed.\n\t\tif (\n\t\t\tprevWidget.idBase &&\n\t\t\twidget.idBase &&\n\t\t\tprevWidget.idBase === widget.idBase\n\t\t) {\n\t\t\tconst settingId = widgetIdToSettingId( widget.id );\n\t\t\tthis.api( settingId ).set( widget.instance );\n\t\t\treturn widget.id;\n\t\t}\n\n\t\t// Otherwise delete and re-create.\n\t\tthis._removeWidget( widget );\n\t\treturn this._createWidget( widget );\n\t}\n\n\tgetWidget( widgetId ) {\n\t\tif ( ! widgetId ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { idBase, number } = parseWidgetId( widgetId );\n\t\tconst settingId = widgetIdToSettingId( widgetId );\n\t\tconst setting = this.api( settingId );\n\n\t\tif ( ! setting ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst instance = setting.get();\n\n\t\tif ( this.widgetsCache.has( instance ) ) {\n\t\t\treturn this.widgetsCache.get( instance );\n\t\t}\n\n\t\tconst widget = {\n\t\t\tid: widgetId,\n\t\t\tidBase,\n\t\t\tnumber,\n\t\t\tinstance,\n\t\t};\n\n\t\tthis.widgetsCache.set( instance, widget );\n\n\t\treturn widget;\n\t}\n\n\t_updateWidgets( nextWidgets ) {\n\t\tthis.locked = true;\n\n\t\tconst addedWidgetIds = [];\n\n\t\tconst nextWidgetIds = nextWidgets.map( ( nextWidget ) => {\n\t\t\tif ( nextWidget.id && this.getWidget( nextWidget.id ) ) {\n\t\t\t\taddedWidgetIds.push( null );\n\n\t\t\t\treturn this._updateWidget( nextWidget );\n\t\t\t}\n\n\t\t\tconst widgetId = this._createWidget( nextWidget );\n\n\t\t\taddedWidgetIds.push( widgetId );\n\n\t\t\treturn widgetId;\n\t\t} );\n\n\t\tconst deletedWidgets = this.getWidgets().filter(\n\t\t\t( widget ) => ! nextWidgetIds.includes( widget.id )\n\t\t);\n\t\tdeletedWidgets.forEach( ( widget ) => this._removeWidget( widget ) );\n\n\t\tthis.setting.set( nextWidgetIds );\n\n\t\tthis.locked = false;\n\n\t\treturn addedWidgetIds;\n\t}\n\n\tsetWidgets( nextWidgets ) {\n\t\tconst addedWidgetIds = this._updateWidgets( nextWidgets );\n\n\t\tthis._debounceSetHistory();\n\n\t\treturn addedWidgetIds;\n\t}\n\n\t/**\n\t * Undo/Redo related features\n\t */\n\thasUndo() {\n\t\treturn this.historyIndex > 0;\n\t}\n\n\thasRedo() {\n\t\treturn this.historyIndex < this.history.length - 1;\n\t}\n\n\t_seek( historyIndex ) {\n\t\tconst currentWidgets = this.getWidgets();\n\n\t\tthis.historyIndex = historyIndex;\n\n\t\tconst widgets = this.history[ this.historyIndex ];\n\n\t\tthis._updateWidgets( widgets );\n\n\t\tthis._emit( currentWidgets, this.getWidgets() );\n\n\t\tthis.historySubscribers.forEach( ( listener ) => listener() );\n\t\tthis._debounceSetHistory.cancel();\n\t}\n\n\tundo() {\n\t\tif ( ! this.hasUndo() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._seek( this.historyIndex - 1 );\n\t}\n\n\tredo() {\n\t\tif ( ! this.hasRedo() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._seek( this.historyIndex + 1 );\n\t}\n\n\tsubscribeHistory( listener ) {\n\t\tthis.historySubscribers.add( listener );\n\n\t\treturn () => {\n\t\t\tthis.historySubscribers.delete( listener );\n\t\t};\n\t}\n\n\tsave() {\n\t\tthis.api.previewer.save();\n\t}\n}\n", "/**\n * WordPress dependencies\n */\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { focus } from '@wordpress/dom';\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../store';\n\nexport default function getInserterOuterSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\tconst OuterSection = customize.OuterSection;\n\t// Override the OuterSection class to handle multiple outer sections.\n\t// It closes all the other outer sections whenever one is opened.\n\t// The result is that at most one outer section can be opened at the same time.\n\tcustomize.OuterSection = class extends OuterSection {\n\t\tonChangeExpanded( expanded, args ) {\n\t\t\tif ( expanded ) {\n\t\t\t\tcustomize.section.each( ( section ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tsection.params.type === 'outer' &&\n\t\t\t\t\t\tsection.id !== this.id\n\t\t\t\t\t) {\n\t\t\t\t\t\tif ( section.expanded() ) {\n\t\t\t\t\t\t\tsection.collapse();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn super.onChangeExpanded( expanded, args );\n\t\t}\n\t};\n\t// Handle constructor so that \"params.type\" can be correctly pointed to \"outer\".\n\tcustomize.sectionConstructor.outer = customize.OuterSection;\n\n\treturn class InserterOuterSection extends customize.OuterSection {\n\t\tconstructor( ...args ) {\n\t\t\tsuper( ...args );\n\n\t\t\t// This is necessary since we're creating a new class which is not identical to the original OuterSection.\n\t\t\t// @See https://github.com/WordPress/wordpress-develop/blob/42b05c397c50d9dc244083eff52991413909d4bd/src/js/_enqueues/wp/customize/controls.js#L1427-L1436\n\t\t\tthis.params.type = 'outer';\n\n\t\t\tthis.activeElementBeforeExpanded = null;\n\n\t\t\tconst ownerWindow =\n\t\t\t\tthis.contentContainer[ 0 ].ownerDocument.defaultView;\n\n\t\t\t// Handle closing the inserter when pressing the Escape key.\n\t\t\townerWindow.addEventListener(\n\t\t\t\t'keydown',\n\t\t\t\t( event ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.expanded() &&\n\t\t\t\t\t\t( event.keyCode === ESCAPE ||\n\t\t\t\t\t\t\tevent.code === 'Escape' ) &&\n\t\t\t\t\t\t! event.defaultPrevented\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t// Use capture mode to make this run before other event listeners.\n\t\t\t\ttrue\n\t\t\t);\n\n\t\t\tthis.contentContainer.addClass( 'widgets-inserter' );\n\n\t\t\t// Set a flag if the state is being changed from open() or close().\n\t\t\t// Don't propagate the event if it's an internal action to prevent infinite loop.\n\t\t\tthis.isFromInternalAction = false;\n\t\t\tthis.expanded.bind( () => {\n\t\t\t\tif ( ! this.isFromInternalAction ) {\n\t\t\t\t\t// Propagate the event to React to sync the state.\n\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\tthis.expanded()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis.isFromInternalAction = false;\n\t\t\t} );\n\t\t}\n\t\topen() {\n\t\t\tif ( ! this.expanded() ) {\n\t\t\t\tconst contentContainer = this.contentContainer[ 0 ];\n\t\t\t\tthis.activeElementBeforeExpanded =\n\t\t\t\t\tcontentContainer.ownerDocument.activeElement;\n\n\t\t\t\tthis.isFromInternalAction = true;\n\n\t\t\t\tthis.expand( {\n\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t// We have to do this in a \"completeCallback\" or else the elements will not yet be visible/tabbable.\n\t\t\t\t\t\t// The first one should be the close button,\n\t\t\t\t\t\t// we want to skip it and choose the second one instead, which is the search box.\n\t\t\t\t\t\tconst searchBox =\n\t\t\t\t\t\t\tfocus.tabbable.find( contentContainer )[ 1 ];\n\t\t\t\t\t\tif ( searchBox ) {\n\t\t\t\t\t\t\tsearchBox.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t\tclose() {\n\t\t\tif ( this.expanded() ) {\n\t\t\t\tconst contentContainer = this.contentContainer[ 0 ];\n\t\t\t\tconst activeElement =\n\t\t\t\t\tcontentContainer.ownerDocument.activeElement;\n\n\t\t\t\tthis.isFromInternalAction = true;\n\n\t\t\t\tthis.collapse( {\n\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t// Return back the focus when closing the inserter.\n\t\t\t\t\t\t// Only do this if the active element which triggers the action is inside the inserter,\n\t\t\t\t\t\t// (the close button for instance). In that case the focus will be lost.\n\t\t\t\t\t\t// Otherwise, we don't hijack the focus when the user is focusing on other elements\n\t\t\t\t\t\t// (like the quick inserter).\n\t\t\t\t\t\tif ( contentContainer.contains( activeElement ) ) {\n\t\t\t\t\t\t\t// Return back the focus when closing the inserter.\n\t\t\t\t\t\t\tif ( this.activeElementBeforeExpanded ) {\n\t\t\t\t\t\t\t\tthis.activeElementBeforeExpanded.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tBlockControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { addFilter } from '@wordpress/hooks';\nimport { MoveToWidgetArea, getWidgetIdFromBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseSidebarControls,\n\tuseActiveSidebarControl,\n} from '../components/sidebar-controls';\nimport { useFocusControl } from '../components/focus-control';\nimport { blockToWidget } from '../utils';\n\nconst withMoveToSidebarToolbarItem = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tlet widgetId = getWidgetIdFromBlock( props );\n\t\tconst sidebarControls = useSidebarControls();\n\t\tconst activeSidebarControl = useActiveSidebarControl();\n\t\tconst hasMultipleSidebars = sidebarControls?.length > 1;\n\t\tconst blockName = props.name;\n\t\tconst clientId = props.clientId;\n\t\tconst canInsertBlockInSidebar = useSelect(\n\t\t\t( select ) => {\n\t\t\t\t// Use an empty string to represent the root block list, which\n\t\t\t\t// in the customizer editor represents a sidebar/widget area.\n\t\t\t\treturn select( blockEditorStore ).canInsertBlockType(\n\t\t\t\t\tblockName,\n\t\t\t\t\t''\n\t\t\t\t);\n\t\t\t},\n\t\t\t[ blockName ]\n\t\t);\n\t\tconst block = useSelect(\n\t\t\t( select ) => select( blockEditorStore ).getBlock( clientId ),\n\t\t\t[ clientId ]\n\t\t);\n\t\tconst { removeBlock } = useDispatch( blockEditorStore );\n\t\tconst [ , focusWidget ] = useFocusControl();\n\n\t\tfunction moveToSidebar( sidebarControlId ) {\n\t\t\tconst newSidebarControl = sidebarControls.find(\n\t\t\t\t( sidebarControl ) => sidebarControl.id === sidebarControlId\n\t\t\t);\n\n\t\t\tif ( widgetId ) {\n\t\t\t\t/**\n\t\t\t\t * If there's a widgetId, move it to the other sidebar.\n\t\t\t\t */\n\t\t\t\tconst oldSetting = activeSidebarControl.setting;\n\t\t\t\tconst newSetting = newSidebarControl.setting;\n\n\t\t\t\toldSetting( oldSetting().filter( ( id ) => id !== widgetId ) );\n\t\t\t\tnewSetting( [ ...newSetting(), widgetId ] );\n\t\t\t} else {\n\t\t\t\t/**\n\t\t\t\t * If there isn't a widgetId, it's most likely a inner block.\n\t\t\t\t * First, remove the block in the original sidebar,\n\t\t\t\t * then, create a new widget in the new sidebar and get back its widgetId.\n\t\t\t\t */\n\t\t\t\tconst sidebarAdapter = newSidebarControl.sidebarAdapter;\n\n\t\t\t\tremoveBlock( clientId );\n\t\t\t\tconst addedWidgetIds = sidebarAdapter.setWidgets( [\n\t\t\t\t\t...sidebarAdapter.getWidgets(),\n\t\t\t\t\tblockToWidget( block ),\n\t\t\t\t] );\n\t\t\t\t// The last non-null id is the added widget's id.\n\t\t\t\twidgetId = addedWidgetIds.reverse().find( ( id ) => !! id );\n\t\t\t}\n\n\t\t\t// Move focus to the moved widget and expand the sidebar.\n\t\t\tfocusWidget( widgetId );\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t{ hasMultipleSidebars && canInsertBlockInSidebar && (\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<MoveToWidgetArea\n\t\t\t\t\t\t\twidgetAreas={ sidebarControls.map(\n\t\t\t\t\t\t\t\t( sidebarControl ) => ( {\n\t\t\t\t\t\t\t\t\tid: sidebarControl.id,\n\t\t\t\t\t\t\t\t\tname: sidebarControl.params.label,\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\tsidebarControl.params.description,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tcurrentWidgetAreaId={ activeSidebarControl?.id }\n\t\t\t\t\t\t\tonSelect={ moveToSidebar }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withMoveToSidebarToolbarItem'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/customize-widgets/block-edit',\n\twithMoveToSidebarToolbarItem\n);\n", "/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport {\n\tMediaUpload,\n\tprivateApis as mediaUtilsPrivateApis,\n} from '@wordpress/media-utils';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\n\nconst { MediaUploadModal: MediaUploadModalComponent } = unlock(\n\tmediaUtilsPrivateApis\n);\n\nif ( window.__experimentalDataViewsMediaModal ) {\n\t// Create a new filter for the MediaUploadModal component\n\taddFilter(\n\t\t'editor.MediaUploadModal',\n\t\t'core/customize-widgets/replace-media-upload-modal',\n\t\t() => {\n\t\t\treturn MediaUploadModalComponent;\n\t\t}\n\t);\n}\n\nconst replaceMediaUpload = () => MediaUpload;\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/edit-widgets/replace-media-upload',\n\treplaceMediaUpload\n);\n", "/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\nconst { wp } = window;\n\nconst withWideWidgetDisplay = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { idBase } = props.attributes;\n\t\tconst isWide =\n\t\t\twp.customize.Widgets.data.availableWidgets.find(\n\t\t\t\t( widget ) => widget.id_base === idBase\n\t\t\t)?.is_wide ?? false;\n\n\t\treturn <BlockEdit key=\"edit\" { ...props } isWide={ isWide } />;\n\t},\n\t'withWideWidgetDisplay'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/customize-widgets/wide-widget-display',\n\twithWideWidgetDisplay\n);\n"],
  "mappings": "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",
  "names": ["require_element", "__commonJSMin", "exports", "module", "require_block_library", "__commonJSMin", "exports", "module", "require_widgets", "__commonJSMin", "exports", "module", "require_blocks", "__commonJSMin", "exports", "module", "require_data", "__commonJSMin", "exports", "module", "require_preferences", "__commonJSMin", "exports", "module", "require_components", "__commonJSMin", "exports", "module", "require_i18n", "__commonJSMin", "exports", "module", "require_block_editor", "__commonJSMin", "exports", "module", "require_compose", "__commonJSMin", "exports", "module", "require_hooks", "__commonJSMin", "exports", "module", "require_jsx_runtime", "__commonJSMin", "exports", "module", "require_core_data", "__commonJSMin", "exports", "module", "require_media_utils", "__commonJSMin", "exports", "module", "require_keycodes", "__commonJSMin", "exports", "module", "require_primitives", "__commonJSMin", "exports", "module", "require_keyboard_shortcuts", "__commonJSMin", "exports", "module", "require_es6", "__commonJSMin", "exports", "module", "equal", "a", "b", "length", "i", "keys", "key", "require_is_shallow_equal", "__commonJSMin", "exports", "module", "require_private_apis", "__commonJSMin", "exports", "module", "require_dom", "__commonJSMin", "exports", "module", "import_element", "import_block_library", "import_widgets", "import_blocks", "import_data", "import_preferences", "import_element", "import_components", "import_element", "import_i18n", "import_components", "import_block_editor", "import_compose", "import_hooks", "import_jsx_runtime", "CopyButton", "text", "children", "ref", "ErrorBoundary", "error", "import_compose", "import_core_data", "import_data", "import_element", "import_block_editor", "import_media_utils", "import_preferences", "import_block_library", "import_element", "import_i18n", "import_components", "import_data", "import_block_editor", "import_jsx_runtime", "BlockInspectorButton", "inspector", "closeMenu", "props", "selectedBlockClientId", "select", "blockEditorStore", "selectedBlock", "block_inspector_button_default", "r", "f", "n", "o", "clsx", "clsx_default", "import_components", "import_block_editor", "import_element", "import_keycodes", "import_i18n", "import_primitives", "import_jsx_runtime", "close_small_default", "import_primitives", "import_jsx_runtime", "external_default", "import_primitives", "import_jsx_runtime", "more_vertical_default", "import_primitives", "import_jsx_runtime", "plus_default", "import_primitives", "import_jsx_runtime", "redo_default", "import_primitives", "import_jsx_runtime", "undo_default", "import_i18n", "import_block_editor", "import_components", "import_compose", "import_data", "import_data", "import_data", "blockInserterPanel", "state", "action", "reducer_default", "EMPTY_INSERTION_POINT", "isInserterOpened", "state", "__experimentalGetInsertionPoint", "setIsInserterOpened", "value", "STORE_NAME", "storeConfig", "reducer_default", "selectors_exports", "actions_exports", "store", "STORE_NAME", "import_jsx_runtime", "Inserter", "setIsOpened", "inserterTitleId", "insertionPoint", "select", "store", "close_small_default", "Library", "inserter_default", "import_components", "import_element", "import_i18n", "import_keycodes", "import_keyboard_shortcuts", "import_preferences", "import_components", "import_i18n", "import_keyboard_shortcuts", "import_data", "import_element", "import_i18n", "textFormattingShortcuts", "import_element", "import_keycodes", "import_jsx_runtime", "KeyCombination", "keyCombination", "forceAriaLabel", "shortcut", "ariaLabel", "character", "index", "Shortcut", "description", "aliases", "Fragment", "alias", "shortcut_default", "import_data", "import_keyboard_shortcuts", "import_jsx_runtime", "DynamicShortcut", "name", "keyCombination", "description", "aliases", "select", "getShortcutKeyCombination", "getShortcutDescription", "getShortcutAliases", "keyboardShortcutsStore", "shortcut_default", "dynamic_shortcut_default", "import_jsx_runtime", "ShortcutList", "shortcuts", "shortcut", "index", "dynamic_shortcut_default", "shortcut_default", "ShortcutSection", "title", "className", "clsx_default", "ShortcutCategorySection", "categoryName", "additionalShortcuts", "categoryShortcuts", "select", "keyboardShortcutsStore", "KeyboardShortcutHelpModal", "isModalActive", "toggleModal", "registerShortcut", "textFormattingShortcuts", "import_jsx_runtime", "MoreMenu", "isKeyboardShortcutsModalActive", "setIsKeyboardShortcutsModalVisible", "toggleKeyboardShortcutsModal", "more_vertical_default", "external_default", "KeyboardShortcutHelpModal", "import_jsx_runtime", "Header", "sidebar", "inserter", "isInserterOpened", "setIsInserterOpened", "isFixedToolbarActive", "hasUndo", "hasRedo", "setUndoRedo", "shortcut", "clsx_default", "redo_default", "undo_default", "plus_default", "isOpen", "MoreMenu", "inserter_default", "header_default", "import_element", "import_data", "useInserter", "inserter", "isInserterOpened", "select", "store", "setIsInserterOpened", "updater", "isOpen", "selectStore", "import_block_editor", "import_es6", "import_element", "import_is_shallow_equal", "import_widgets", "import_blocks", "import_widgets", "settingIdToWidgetId", "settingId", "matches", "idBase", "number", "blockToWidget", "block", "existingWidget", "widget", "encoded", "hash", "raw", "rest", "form", "rendered", "restExistingWidget", "widgetToBlock", "id", "instance", "parsedBlocks", "widgetsToBlocks", "widgets", "widget", "widgetToBlock", "useSidebarBlockEditor", "sidebar", "blocks", "setBlocks", "prevWidgets", "nextWidgets", "prevBlocks", "prevWidgetsMap", "prevBlocksMap", "block", "nextBlocks", "nextWidget", "prevWidget", "isShallowEqual", "onChangeBlocks", "nextBlock", "widgetId", "prevBlock", "fastDeepEqual", "blockToWidget", "addedWidgetIds", "updatedNextBlocks", "index", "addedWidgetId", "import_element", "import_data", "import_block_editor", "import_widgets", "import_element", "import_jsx_runtime", "FocusControlContext", "FocusControl", "api", "sidebarControls", "children", "focusedWidgetIdRef", "setFocusedWidgetIdRef", "focusWidget", "widgetId", "sidebarControl", "handleFocus", "settingId", "settingIdToWidgetId", "previewBound", "handleReady", "context", "useFocusControl", "useBlocksFocusControl", "blocks", "selectBlock", "blockEditorStore", "focusedWidgetIdRef", "useFocusControl", "blocksRef", "focusedBlock", "block", "import_private_apis", "lock", "unlock", "import_jsx_runtime", "ExperimentalBlockEditorProvider", "unlock", "blockEditorPrivateApis", "SidebarEditorProvider", "sidebar", "settings", "children", "blocks", "onInput", "onChange", "useSidebarBlockEditor", "useBlocksFocusControl", "import_i18n", "import_components", "import_data", "import_preferences", "import_jsx_runtime", "WelcomeGuide", "sidebar", "toggle", "preferencesStore", "isEntirelyBlockWidgets", "widget", "import_element", "import_keyboard_shortcuts", "import_keycodes", "import_data", "import_i18n", "KeyboardShortcuts", "undo", "redo", "save", "event", "KeyboardShortcutsRegister", "registerShortcut", "unregisterShortcut", "keyboardShortcutsStore", "keyboard_shortcuts_default", "import_element", "import_block_editor", "import_data", "import_jsx_runtime", "BlockAppender", "props", "ref", "isBlocksListEmpty", "select", "blockEditorStore", "ownerDocument", "import_jsx_runtime", "BlockCanvas", "unlock", "blockEditorPrivateApis", "BlockKeyboardShortcuts", "blockLibraryPrivateApis", "SidebarBlockEditor", "blockEditorSettings", "sidebar", "inserter", "inspector", "isInserterOpened", "setIsInserterOpened", "useInserter", "isMediumViewport", "hasUploadPermissions", "isFixedToolbarActive", "keepCaretInsideBlock", "isWelcomeGuideActive", "select", "get", "preferencesStore", "coreStore", "settings", "mediaUploadBlockEditor", "onError", "argumentsObject", "message", "WelcomeGuide", "keyboard_shortcuts_default", "SidebarEditorProvider", "header_default", "BlockAppender", "event", "onClose", "block_inspector_button_default", "import_element", "import_jsx_runtime", "SidebarControlsContext", "SidebarControls", "sidebarControls", "activeSidebarControl", "children", "context", "useSidebarControls", "useActiveSidebarControl", "import_element", "import_data", "import_block_editor", "useClearSelectedBlock", "sidebarControl", "popoverRef", "hasSelectedBlock", "hasMultiSelection", "blockEditorStore", "clearSelectedBlock", "handleClearSelectedBlock", "element", "ownerDocument", "container", "inspector", "handleMouseDown", "event", "handleBlur", "ownerWindow", "import_jsx_runtime", "CustomizeWidgets", "api", "sidebarControls", "blockEditorSettings", "activeSidebarControl", "setActiveSidebarControl", "parentContainer", "popoverRef", "useClearSelectedBlock", "unsubscribers", "sidebarControl", "expanded", "unsubscriber", "activeSidebar", "ErrorBoundary", "SidebarBlockEditor", "popover", "SidebarControls", "FocusControl", "import_i18n", "getInspectorSection", "customize", "id", "options", "value", "expanded", "args", "returnFocusWhenClose", "getInspectorSectionId", "sidebarId", "getSidebarSection", "customize", "reduceMotionMediaQuery", "isReducedMotion", "event", "InspectorSection", "getInspectorSection", "expanded", "_args", "controls", "args", "control", "handleTransitionEnd", "import_data", "wp", "parseWidgetId", "widgetId", "matches", "widgetIdToSettingId", "idBase", "number", "debounce", "leading", "callback", "timeout", "isLeading", "timerID", "debounced", "args", "result", "SidebarAdapter", "setting", "api", "listener", "prevWidgets", "settingIdToWidgetId", "widget", "widgetModel", "settingId", "settingArgs", "instance", "prevWidget", "nextWidgets", "addedWidgetIds", "nextWidgetIds", "nextWidget", "historyIndex", "currentWidgets", "widgets", "import_keycodes", "import_dom", "import_data", "getInserterOuterSection", "customize", "OuterSection", "expanded", "args", "section", "event", "store", "contentContainer", "searchBox", "activeElement", "getInserterId", "controlId", "getSidebarControl", "customize", "args", "InserterOuterSection", "getInserterOuterSection", "SidebarAdapter", "callback", "expanded", "store", "subscriber", "import_block_editor", "import_compose", "import_data", "import_hooks", "import_widgets", "import_jsx_runtime", "withMoveToSidebarToolbarItem", "BlockEdit", "props", "widgetId", "sidebarControls", "useSidebarControls", "activeSidebarControl", "useActiveSidebarControl", "hasMultipleSidebars", "blockName", "clientId", "canInsertBlockInSidebar", "select", "blockEditorStore", "block", "removeBlock", "focusWidget", "useFocusControl", "moveToSidebar", "sidebarControlId", "newSidebarControl", "sidebarControl", "oldSetting", "newSetting", "id", "sidebarAdapter", "blockToWidget", "import_hooks", "import_media_utils", "MediaUploadModalComponent", "unlock", "mediaUtilsPrivateApis", "replaceMediaUpload", "import_compose", "import_hooks", "import_jsx_runtime", "wp", "withWideWidgetDisplay", "BlockEdit", "props", "idBase", "isWide", "widget", "import_jsx_runtime", "wp", "DISABLED_BLOCKS", "ENABLE_EXPERIMENTAL_FSE_BLOCKS", "initialize", "editorName", "blockEditorSettings", "preferencesStore", "blocksStore", "coreBlocks", "block", "SidebarControl", "getSidebarControl", "getSidebarSection", "container", "sidebarControls", "control", "CustomizeWidgets"]
}
