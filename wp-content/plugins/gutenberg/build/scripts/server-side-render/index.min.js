var wp;(wp||={}).serverSideRender=(()=>{var V=Object.create;var g=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var re=Object.getPrototypeOf,te=Object.prototype.hasOwnProperty;var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),oe=(e,r)=>{for(var t in r)g(e,t,{get:r[t],enumerable:!0})},k=(e,r,t,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of ee(r))!te.call(e,n)&&n!==t&&g(e,n,{get:()=>r[n],enumerable:!(s=Z(r,n))||s.enumerable});return e};var c=(e,r,t)=>(t=e!=null?V(re(e)):{},k(r||!e||!e.__esModule?g(t,"default",{value:e,enumerable:!0}):t,e)),ne=e=>k(g({},"__esModule",{value:!0}),e);var A=d((Se,C)=>{C.exports=window.wp.element});var L=d((we,_)=>{_.exports=window.wp.i18n});var I=d((he,B)=>{B.exports=window.wp.components});var D=d((Re,M)=>{M.exports=window.wp.data});var O=d((be,F)=>{F.exports=window.wp.compose});var z=d((ve,j)=>{j.exports=window.wp.apiFetch});var N=d((ge,J)=>{J.exports=window.wp.url});var Q=d((xe,G)=>{G.exports=window.wp.blocks});var Y=d((Pe,X)=>{X.exports=window.ReactJSXRuntime});var fe={};oe(fe,{ServerSideRender:()=>x,default:()=>pe,useServerSideRender:()=>w});var i=c(A()),h=c(L()),R=c(I()),$=c(D());var W=c(O()),m=c(A()),q=c(z()),H=c(N()),U=c(Q());function se(e,r=null,t={}){return(0,H.addQueryArgs)(`/wp/v2/block-renderer/${e}`,{context:"edit",...r!==null?{attributes:r}:{},...t})}function ie(e){let{backgroundColor:r,borderColor:t,fontFamily:s,fontSize:n,gradient:u,textColor:b,className:l,...a}=e,{border:p,color:f,elements:K,shadow:y,spacing:P,typography:E,...v}=e?.style||{};return{...a,style:v}}function w(e){let[r,t]=(0,m.useState)({status:"idle"}),s=(0,m.useRef)(!1),{attributes:n,block:u,skipBlockSupportAttributes:b=!1,httpMethod:l="GET",urlQueryArgs:a}=e,p=n&&(0,U.__experimentalSanitizeBlockAttributes)(u,n);b&&(p=ie(p));let f=l==="POST",y=se(u,f?null:p,a),P=f?JSON.stringify({attributes:p??null}):void 0;return(0,m.useEffect)(()=>{let E=new AbortController,v=(0,W.debounce)(function(){t({status:"loading"}),(0,q.default)({path:y,method:f?"POST":"GET",body:P,headers:f?{"Content-Type":"application/json"}:{},signal:E.signal}).then(S=>{t({status:"success",content:S?S.rendered:""})}).catch(S=>{S.name!=="AbortError"&&t({status:"error",error:S.message})}).finally(()=>{s.current=!0})},s.current?500:0);return v(),()=>{E.abort(),v.cancel()}},[y,f,P]),r}var o=c(Y()),ce={};function ue({className:e}){return(0,o.jsx)(R.Placeholder,{className:e,children:(0,h.__)("Block rendered as empty.")})}function de({message:e,className:r}){let t=(0,h.sprintf)((0,h.__)("Error loading block: %s"),e);return(0,o.jsx)(R.Placeholder,{className:r,children:t})}function le({children:e}){let[r,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let s=setTimeout(()=>{t(!0)},1e3);return()=>clearTimeout(s)},[]),(0,o.jsxs)("div",{style:{position:"relative"},children:[r&&(0,o.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:"-9px",marginLeft:"-9px"},children:(0,o.jsx)(R.Spinner,{})}),(0,o.jsx)("div",{style:{opacity:r?"0.3":1},children:e})]})}function ae(e){let r=(0,i.useRef)(""),{className:t,EmptyResponsePlaceholder:s=ue,ErrorResponsePlaceholder:n=de,LoadingResponsePlaceholder:u=le,...b}=e,{content:l,status:a,error:p}=w(b);return(0,i.useEffect)(()=>{l&&(r.current=l)},[l]),a==="loading"?(0,o.jsx)(u,{...e,children:!!r.current&&(0,o.jsx)(i.RawHTML,{className:t,children:r.current})}):a==="success"&&!l?(0,o.jsx)(s,{...e}):a==="error"?(0,o.jsx)(n,{message:p,...e}):(0,o.jsx)(i.RawHTML,{className:t,children:l})}function x({urlQueryArgs:e=ce,...r}){let t=(0,$.useSelect)(n=>{let u=n("core/editor")?.getCurrentPostId();return u&&typeof u=="number"?u:null},[]),s=(0,i.useMemo)(()=>t?{post_id:t,...e}:e,[t,e]);return(0,o.jsx)(ae,{urlQueryArgs:s,...r})}var T=x;T.ServerSideRender=x;T.useServerSideRender=w;var pe=T;return ne(fe);})();
if (typeof wp.serverSideRender === 'object' && wp.serverSideRender.default) { wp.serverSideRender = wp.serverSideRender.default; }
//# sourceMappingURL=index.min.js.map
