"use strict";var wp;(wp||={}).preferences=(()=>{var Aa=Object.create;var E=Object.defineProperty;var Ia=Object.getOwnPropertyDescriptor;var Da=Object.getOwnPropertyNames;var ja=Object.getPrototypeOf,Fa=Object.prototype.hasOwnProperty;var d=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports),U=(a,t)=>{for(var e in t)E(a,e,{get:t[e],enumerable:!0})},K=(a,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Da(t))!Fa.call(a,l)&&l!==e&&E(a,l,{get:()=>t[l],enumerable:!(r=Ia(t,l))||r.enumerable});return a};var o=(a,t,e)=>(e=a!=null?Aa(ja(a)):{},K(t||!a||!a.__esModule?E(e,"default",{value:a,enumerable:!0}):e,a)),Va=a=>K(E({},"__esModule",{value:!0}),a);var b=d((at,X)=>{X.exports=window.wp.data});var x=d((tt,Q)=>{Q.exports=window.wp.components});var T=d((et,Z)=>{Z.exports=window.wp.i18n});var O=d((rt,aa)=>{aa.exports=window.wp.element});var L=d((ft,ta)=>{ta.exports=window.wp.primitives});var u=d((st,ea)=>{ea.exports=window.ReactJSXRuntime});var oa=d((wt,ra)=>{ra.exports=window.wp.a11y});var ma=d((bt,la)=>{la.exports=window.wp.deprecated});var Ea=d((It,ya)=>{ya.exports=window.wp.compose});var Ca=d((Dt,Ta)=>{Ta.exports=window.wp.privateApis});var Qa={};U(Qa,{PreferenceToggleMenuItem:()=>na,privateApis:()=>Na,store:()=>p});var M=o(b()),ia=o(x()),g=o(T());var C=o(O()),z=(0,C.forwardRef)(({icon:a,size:t=24,...e},r)=>(0,C.cloneElement)(a,{width:t,height:t,...e,ref:r}));var R=o(L()),H=o(u()),q=(0,H.jsx)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,H.jsx)(R.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})});var S=o(L()),$=o(u()),k=(0,$.jsx)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$.jsx)(S.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})});var P=o(L()),G=o(u()),B=(0,G.jsx)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,G.jsx)(P.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})});var Y=o(oa());var N=o(b());var fa=o(b());function Ua(a={},t){if(t.type==="SET_PREFERENCE_DEFAULTS"){let{scope:e,defaults:r}=t;return{...a,[e]:{...a[e],...r}}}return a}function Oa(a){let t;return(e,r)=>{if(r.type==="SET_PERSISTENCE_LAYER"){let{persistenceLayer:n,persistedData:i}=r;return t=n,i}let l=a(e,r);return r.type==="SET_PREFERENCE_VALUE"&&t?.set(l),l}}var za=Oa((a={},t)=>{if(t.type==="SET_PREFERENCE_VALUE"){let{scope:e,name:r,value:l}=t;return{...a,[e]:{...a[e],[r]:l}}}return a}),sa=(0,fa.combineReducers)({defaults:Ua,preferences:za});var W={};U(W,{set:()=>qa,setDefaults:()=>$a,setPersistenceLayer:()=>Ga,toggle:()=>Ha});function Ha(a,t){return function({select:e,dispatch:r}){let l=e.get(a,t);r.set(a,t,!l)}}function qa(a,t,e){return{type:"SET_PREFERENCE_VALUE",scope:a,name:t,value:e}}function $a(a,t){return{type:"SET_PREFERENCE_DEFAULTS",scope:a,defaults:t}}async function Ga(a){let t=await a.get();return{type:"SET_PERSISTENCE_LAYER",persistenceLayer:a,persistedData:t}}var J={};U(J,{get:()=>Ja});var da=o(ma()),Wa=a=>(t,e,r)=>["allowRightClickOverrides","distractionFree","editorMode","fixedToolbar","focusMode","hiddenBlockTypes","inactivePanels","keepCaretInsideBlock","mostUsedBlocks","openPanels","showBlockBreadcrumbs","showIconLabels","showListViewByDefault","isPublishSidebarEnabled","isComplementaryAreaVisible","pinnedItems"].includes(r)&&["core/edit-post","core/edit-site"].includes(e)?((0,da.default)(`wp.data.select( 'core/preferences' ).get( '${e}', '${r}' )`,{since:"6.5",alternative:`wp.data.select( 'core/preferences' ).get( 'core', '${r}' )`}),a(t,"core",r)):a(t,e,r),Ja=Wa((a,t,e)=>{let r=a.preferences[t]?.[e];return r!==void 0?r:a.defaults[t]?.[e]});var ua="core/preferences";var p=(0,N.createReduxStore)(ua,{reducer:sa,actions:W,selectors:J});(0,N.register)(p);var pa=o(u());function na({scope:a,name:t,label:e,info:r,messageActivated:l,messageDeactivated:n,shortcut:i,handleToggling:m=!0,onToggle:c=()=>null,disabled:y=!1}){let w=(0,M.useSelect)(v=>!!v(p).get(a,t),[a,t]),{toggle:V}=(0,M.useDispatch)(p),Ma=()=>{if(w){let v=n||(0,g.sprintf)((0,g.__)("Preference deactivated - %s"),e);(0,Y.speak)(v)}else{let v=l||(0,g.sprintf)((0,g.__)("Preference activated - %s"),e);(0,Y.speak)(v)}};return(0,pa.jsx)(ia.MenuItem,{icon:w?q:null,isSelected:w,onClick:()=>{c(),m&&V(a,t),Ma()},role:"menuitemcheckbox",info:r,shortcut:i,disabled:y,children:e})}var ca=o(x()),A=o(u());function Ya({help:a,label:t,isChecked:e,onChange:r,children:l}){return(0,A.jsxs)("div",{className:"preference-base-option",children:[(0,A.jsx)(ca.ToggleControl,{__nextHasNoMarginBottom:!0,help:a,label:t,checked:e,onChange:r}),l]})}var I=Ya;var D=o(b());var ha=o(u());function Ka(a){let{scope:t,featureName:e,onToggle:r=()=>{},...l}=a,n=(0,D.useSelect)(c=>!!c(p).get(t,e),[t,e]),{toggle:i}=(0,D.useDispatch)(p);return(0,ha.jsx)(I,{...l,onChange:()=>{r(),i(t,e)},isChecked:n})}var ga=Ka;var wa=o(x()),va=o(T()),ba=o(u());function xa({closeModal:a,children:t}){return(0,ba.jsx)(wa.Modal,{className:"preferences-modal",title:(0,va.__)("Preferences"),onRequestClose:a,children:t})}var h=o(u()),Xa=({description:a,title:t,children:e})=>(0,h.jsxs)("fieldset",{className:"preferences-modal__section",children:[(0,h.jsxs)("legend",{className:"preferences-modal__section-legend",children:[(0,h.jsx)("h2",{className:"preferences-modal__section-title",children:t}),a&&(0,h.jsx)("p",{className:"preferences-modal__section-description",children:a})]}),(0,h.jsx)("div",{className:"preferences-modal__section-content",children:e})]}),_a=Xa;var Pa=o(Ea()),f=o(x()),F=o(O());var _=o(T());var La=o(Ca()),{lock:Ra,unlock:Sa}=(0,La.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/preferences");var s=o(u()),{Tabs:j}=Sa(f.privateApis),ka="preferences-menu";function Ba({sections:a}){let t=(0,Pa.useViewportMatch)("medium"),[e,r]=(0,F.useState)(ka),{tabs:l,sectionsContentMap:n}=(0,F.useMemo)(()=>{let m={tabs:[],sectionsContentMap:{}};return a.length&&(m=a.reduce((c,{name:y,tabLabel:w,content:V})=>(c.tabs.push({name:y,title:w}),c.sectionsContentMap[y]=V,c),{tabs:[],sectionsContentMap:{}})),m},[a]),i;return t?i=(0,s.jsx)("div",{className:"preferences__tabs",children:(0,s.jsxs)(j,{defaultTabId:e!==ka?e:void 0,onSelect:r,orientation:"vertical",children:[(0,s.jsx)(j.TabList,{className:"preferences__tabs-tablist",children:l.map(m=>(0,s.jsx)(j.Tab,{tabId:m.name,className:"preferences__tabs-tab",children:m.title},m.name))}),l.map(m=>(0,s.jsx)(j.TabPanel,{tabId:m.name,className:"preferences__tabs-tabpanel",focusable:!1,children:n[m.name]||null},m.name))]})}):i=(0,s.jsxs)(f.Navigator,{initialPath:"/",className:"preferences__provider",children:[(0,s.jsx)(f.Navigator.Screen,{path:"/",children:(0,s.jsx)(f.Card,{isBorderless:!0,size:"small",children:(0,s.jsx)(f.CardBody,{children:(0,s.jsx)(f.__experimentalItemGroup,{children:l.map(m=>(0,s.jsx)(f.Navigator.Button,{path:`/${m.name}`,as:f.__experimentalItem,isAction:!0,children:(0,s.jsxs)(f.__experimentalHStack,{justify:"space-between",children:[(0,s.jsx)(f.FlexItem,{children:(0,s.jsx)(f.__experimentalTruncate,{children:m.title})}),(0,s.jsx)(f.FlexItem,{children:(0,s.jsx)(z,{icon:(0,_.isRTL)()?k:B})})]})},m.name))})})})}),a.length&&a.map(m=>(0,s.jsx)(f.Navigator.Screen,{path:`/${m.name}`,children:(0,s.jsxs)(f.Card,{isBorderless:!0,size:"large",children:[(0,s.jsxs)(f.CardHeader,{isBorderless:!1,justify:"left",size:"small",gap:"6",as:"div",children:[(0,s.jsx)(f.Navigator.BackButton,{icon:(0,_.isRTL)()?B:k,label:(0,_.__)("Back")}),(0,s.jsx)(f.__experimentalText,{size:"16",children:m.tabLabel})]}),(0,s.jsx)(f.CardBody,{children:m.content})]})},`${m.name}-menu`))]}),i}var Na={};Ra(Na,{PreferenceBaseOption:I,PreferenceToggleControl:ga,PreferencesModal:xa,PreferencesModalSection:_a,PreferencesModalTabs:Ba});return Va(Qa);})();
//# sourceMappingURL=index.min.js.map
