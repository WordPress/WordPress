{
  "version": 3,
  "sources": ["package-external:@wordpress/blocks", "package-external:@wordpress/block-library", "package-external:@wordpress/data", "package-external:@wordpress/deprecated", "package-external:@wordpress/element", "package-external:@wordpress/editor", "package-external:@wordpress/preferences", "package-external:@wordpress/widgets", "package-external:@wordpress/core-data", "package-external:@wordpress/block-editor", "package-external:@wordpress/i18n", "package-external:@wordpress/patterns", "package-external:@wordpress/private-apis", "package-external:@wordpress/router", "vendor-external:react/jsx-runtime", "package-external:@wordpress/components", "package-external:@wordpress/compose", "package-external:@wordpress/plugins", "package-external:@wordpress/notices", "package-external:@wordpress/html-entities", "package-external:@wordpress/primitives", "package-external:@wordpress/commands", "package-external:@wordpress/keycodes", "package-external:@wordpress/url", "package-external:@wordpress/dom", "package-external:@wordpress/keyboard-shortcuts", "vendor-external:react", "vendor-external:react-dom", "package-external:@wordpress/api-fetch", "package-external:@wordpress/style-engine", "../../../node_modules/fast-deep-equal/es6/index.js", "../../../node_modules/deepmerge/dist/cjs.js", "package-external:@wordpress/a11y", "package-external:@wordpress/date", "package-external:@wordpress/blob", "../../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js", "../../../node_modules/use-sync-external-store/shim/index.js", "../../../node_modules/remove-accents/index.js", "package-external:@wordpress/warning", "../../../packages/edit-site/src/index.js", "../../../packages/edit-site/src/store/index.js", "../../../packages/edit-site/src/store/reducer.js", "../../../packages/edit-site/src/store/actions.js", "../../../packages/edit-site/src/utils/constants.js", "../../../packages/edit-site/src/lock-unlock.js", "../../../packages/edit-site/src/store/private-actions.js", "../../../packages/edit-site/src/store/selectors.js", "../../../packages/edit-site/src/utils/get-filtered-template-parts.js", "../../../packages/edit-site/src/store/private-selectors.js", "../../../packages/edit-site/src/store/constants.js", "../../../packages/edit-site/src/components/app/index.js", "../../../node_modules/clsx/dist/clsx.mjs", "../../../packages/admin-ui/src/navigable-region/index.tsx", "../../../packages/admin-ui/src/page/header.tsx", "../../../packages/admin-ui/src/page/index.tsx", "../../../packages/edit-site/src/components/layout/index.js", "../../../packages/edit-site/src/components/site-hub/index.js", "../../../packages/icons/src/icon/index.ts", "../../../packages/icons/src/library/archive.tsx", "../../../packages/icons/src/library/arrow-down.tsx", "../../../packages/icons/src/library/arrow-left.tsx", "../../../packages/icons/src/library/arrow-right.tsx", "../../../packages/icons/src/library/arrow-up-left.tsx", "../../../packages/icons/src/library/arrow-up.tsx", "../../../packages/icons/src/library/at-symbol.tsx", "../../../packages/icons/src/library/backup.tsx", "../../../packages/icons/src/library/block-meta.tsx", "../../../packages/icons/src/library/block-table.tsx", "../../../packages/icons/src/library/calendar.tsx", "../../../packages/icons/src/library/category.tsx", "../../../packages/icons/src/library/check.tsx", "../../../packages/icons/src/library/chevron-down.tsx", "../../../packages/icons/src/library/chevron-left-small.tsx", "../../../packages/icons/src/library/chevron-left.tsx", "../../../packages/icons/src/library/chevron-right-small.tsx", "../../../packages/icons/src/library/chevron-right.tsx", "../../../packages/icons/src/library/chevron-up.tsx", "../../../packages/icons/src/library/close-small.tsx", "../../../packages/icons/src/library/cog.tsx", "../../../packages/icons/src/library/comment-author-avatar.tsx", "../../../packages/icons/src/library/download.tsx", "../../../packages/icons/src/library/drafts.tsx", "../../../packages/icons/src/library/drawer-right.tsx", "../../../packages/icons/src/library/error.tsx", "../../../packages/icons/src/library/file.tsx", "../../../packages/icons/src/library/format-list-bullets-rtl.tsx", "../../../packages/icons/src/library/format-list-bullets.tsx", "../../../packages/icons/src/library/funnel.tsx", "../../../packages/icons/src/library/globe.tsx", "../../../packages/icons/src/library/help.tsx", "../../../packages/icons/src/library/home.tsx", "../../../packages/icons/src/library/layout.tsx", "../../../packages/icons/src/library/link.tsx", "../../../packages/icons/src/library/list.tsx", "../../../packages/icons/src/library/media.tsx", "../../../packages/icons/src/library/mobile.tsx", "../../../packages/icons/src/library/more-vertical.tsx", "../../../packages/icons/src/library/navigation.tsx", "../../../packages/icons/src/library/next.tsx", "../../../packages/icons/src/library/not-allowed.tsx", "../../../packages/icons/src/library/not-found.tsx", "../../../packages/icons/src/library/page.tsx", "../../../packages/icons/src/library/pages.tsx", "../../../packages/icons/src/library/pencil.tsx", "../../../packages/icons/src/library/pending.tsx", "../../../packages/icons/src/library/pin.tsx", "../../../packages/icons/src/library/plugins.tsx", "../../../packages/icons/src/library/post.tsx", "../../../packages/icons/src/library/previous.tsx", "../../../packages/icons/src/library/published.tsx", "../../../packages/icons/src/library/rotate-left.tsx", "../../../packages/icons/src/library/rotate-right.tsx", "../../../packages/icons/src/library/scheduled.tsx", "../../../packages/icons/src/library/search.tsx", "../../../packages/icons/src/library/seen.tsx", "../../../packages/icons/src/library/styles.tsx", "../../../packages/icons/src/library/symbol-filled.tsx", "../../../packages/icons/src/library/symbol.tsx", "../../../packages/icons/src/library/tag.tsx", "../../../packages/icons/src/library/trash.tsx", "../../../packages/icons/src/library/unseen.tsx", "../../../packages/icons/src/library/upload.tsx", "../../../packages/icons/src/library/verse.tsx", "../../../packages/icons/src/library/wordpress.tsx", "../../../packages/edit-site/src/components/site-icon/index.js", "../../../packages/edit-site/src/components/sidebar/index.js", "../../../packages/edit-site/src/components/resizable-frame/index.js", "../../../packages/edit-site/src/components/save-keyboard-shortcut/index.js", "../../../packages/edit-site/src/components/layout/hooks.js", "../../../node_modules/@react-spring/rafz/dist/react-spring-rafz.esm.js", "../../../node_modules/@react-spring/shared/dist/react-spring-shared.esm.js", "../../../node_modules/@react-spring/core/dist/react-spring-core.esm.js", "../../../node_modules/@react-spring/animated/dist/react-spring-animated.esm.js", "../../../node_modules/@react-spring/web/dist/react-spring-web.esm.js", "../../../packages/edit-site/src/components/layout/animation.js", "../../../packages/edit-site/src/components/save-hub/index.js", "../../../packages/edit-site/src/components/save-button/index.js", "../../../packages/edit-site/src/utils/is-previewing-theme.js", "../../../packages/edit-site/src/components/save-panel/index.js", "../../../packages/edit-site/src/utils/use-activate-theme.js", "../../../packages/edit-site/src/utils/use-actual-current-theme.js", "../../../packages/edit-site/src/hooks/commands/use-common-commands.js", "../../../packages/edit-site/src/hooks/commands/use-set-command-context.js", "../../../packages/edit-site/src/components/site-editor-routes/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-main/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen/index.js", "../../../packages/edit-site/src/components/sidebar-button/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-item/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-global-styles/index.js", "../../../packages/global-styles-ui/src/global-styles-ui.tsx", "../../../packages/global-styles-engine/src/utils/object.ts", "../../../packages/global-styles-engine/src/settings/get-setting.ts", "../../../packages/global-styles-engine/src/settings/set-setting.ts", "../../../packages/global-styles-engine/src/utils/common.ts", "../../../packages/global-styles-engine/src/utils/fluid.ts", "../../../packages/global-styles-engine/src/utils/typography.ts", "../../../packages/global-styles-engine/src/settings/get-style.ts", "../../../packages/global-styles-engine/src/settings/set-style.ts", "../../../packages/global-styles-engine/src/core/equal.ts", "../../../packages/global-styles-engine/src/core/merge.ts", "../../../node_modules/is-plain-object/dist/is-plain-object.mjs", "../../../node_modules/colord/index.mjs", "../../../packages/global-styles-ui/src/provider.tsx", "../../../packages/global-styles-ui/src/context.ts", "../../../packages/global-styles-ui/src/screen-root.tsx", "../../../packages/global-styles-ui/src/icon-with-current-color.tsx", "../../../packages/global-styles-ui/src/navigation-button.tsx", "../../../packages/global-styles-ui/src/root-menu.tsx", "../../../node_modules/colord/plugins/a11y.mjs", "../../../packages/global-styles-ui/src/hooks.ts", "../../../packages/global-styles-ui/src/utils.ts", "../../../packages/global-styles-ui/src/lock-unlock.ts", "../../../packages/global-styles-ui/src/preview-styles.tsx", "../../../packages/global-styles-ui/src/preview-hooks.tsx", "../../../packages/global-styles-ui/src/typography-example.tsx", "../../../packages/global-styles-ui/src/font-library-modal/utils/preview-styles.ts", "../../../packages/global-styles-ui/src/highlighted-colors.tsx", "../../../packages/global-styles-ui/src/preview-wrapper.tsx", "../../../packages/global-styles-ui/src/screen-block-list.tsx", "../../../packages/global-styles-ui/src/variations/variations-panel.tsx", "../../../packages/global-styles-ui/src/screen-header.tsx", "../../../packages/global-styles-ui/src/screen-block.tsx", "../../../packages/global-styles-ui/src/block-preview-panel.tsx", "../../../packages/global-styles-ui/src/subtitle.tsx", "../../../packages/global-styles-ui/src/screen-typography.tsx", "../../../packages/global-styles-ui/src/typography-elements.tsx", "../../../packages/global-styles-ui/src/variations/variations-typography.tsx", "../../../packages/global-styles-ui/src/preview-typography.tsx", "../../../packages/global-styles-ui/src/variations/variation.tsx", "../../../packages/global-styles-ui/src/font-families.tsx", "../../../packages/global-styles-ui/src/font-library-modal/context.tsx", "../../../packages/global-styles-ui/src/font-library-modal/resolvers.tsx", "../../../packages/global-styles-ui/src/font-library-modal/utils/index.ts", "../../../packages/global-styles-ui/src/font-library-modal/utils/constants.ts", "../../../packages/global-styles-ui/src/font-library-modal/index.tsx", "../../../packages/global-styles-ui/src/font-library-modal/installed-fonts.tsx", "../../../packages/global-styles-ui/src/font-library-modal/font-card.tsx", "../../../packages/global-styles-ui/src/font-library-modal/font-demo.tsx", "../../../packages/global-styles-ui/src/font-library-modal/library-font-variant.tsx", "../../../packages/global-styles-ui/src/font-library-modal/font-collection.tsx", "../../../packages/global-styles-ui/src/font-library-modal/google-fonts-confirm-dialog.tsx", "../../../packages/global-styles-ui/src/font-library-modal/collection-font-variant.tsx", "../../../packages/global-styles-ui/src/font-library-modal/upload-fonts.tsx", "../../../packages/global-styles-ui/src/font-library-modal/lib/unbrotli.js", "../../../packages/global-styles-ui/src/font-library-modal/lib/inflate.js", "../../../packages/global-styles-ui/src/font-library-modal/lib/lib-font.browser.js", "../../../packages/global-styles-ui/src/font-library-modal/utils/make-families-from-faces.ts", "../../../packages/global-styles-ui/src/font-family-item.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-sizes-count.tsx", "../../../packages/global-styles-ui/src/screen-typography-element.tsx", "../../../packages/global-styles-ui/src/typography-panel.tsx", "../../../packages/global-styles-ui/src/typography-preview.tsx", "../../../packages/global-styles-ui/src/screen-colors.tsx", "../../../packages/global-styles-ui/src/palette.tsx", "../../../packages/global-styles-ui/src/color-indicator-wrapper.tsx", "../../../packages/global-styles-ui/src/screen-color-palette.tsx", "../../../packages/global-styles-ui/src/color-palette-panel.tsx", "../../../packages/global-styles-ui/src/variations/variations-color.tsx", "../../../packages/global-styles-ui/src/preview-colors.tsx", "../../../packages/global-styles-ui/src/preset-colors.tsx", "../../../packages/global-styles-ui/src/gradients-palette-panel.tsx", "../../../packages/global-styles-ui/src/screen-background.tsx", "../../../packages/global-styles-ui/src/background-panel.tsx", "../../../packages/global-styles-ui/src/shadows-panel.tsx", "../../../packages/global-styles-ui/src/confirm-reset-shadow-dialog.tsx", "../../../packages/global-styles-ui/src/shadows-edit-panel.tsx", "../../../packages/global-styles-ui/src/screen-shadows.tsx", "../../../packages/global-styles-ui/src/screen-layout.tsx", "../../../packages/global-styles-ui/src/dimensions-panel.tsx", "../../../packages/global-styles-ui/src/screen-style-variations.tsx", "../../../packages/global-styles-ui/src/style-variations-content.tsx", "../../../packages/global-styles-ui/src/style-variations-container.tsx", "../../../packages/global-styles-ui/src/screen-css.tsx", "../../../packages/global-styles-ui/src/screen-revisions/index.tsx", "../../../packages/global-styles-ui/src/screen-revisions/use-global-styles-revisions.tsx", "../../../packages/global-styles-ui/src/screen-revisions/revisions-buttons.tsx", "../../../packages/global-styles-ui/src/pagination/index.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-sizes.tsx", "../../../packages/global-styles-ui/src/font-sizes/confirm-reset-font-sizes-dialog.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-size.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-size-preview.tsx", "../../../packages/global-styles-ui/src/font-sizes/confirm-delete-font-size-dialog.tsx", "../../../packages/global-styles-ui/src/font-sizes/rename-font-size-dialog.tsx", "../../../packages/global-styles-ui/src/size-control/index.tsx", "../../../packages/global-styles-ui/src/with-global-styles-provider.tsx", "../../../packages/global-styles-ui/src/style-variations.tsx", "../../../packages/global-styles-ui/src/color-variations.tsx", "../../../packages/global-styles-ui/src/typography-variations.tsx", "../../../packages/edit-site/src/components/sidebar-navigation-screen-details-footer/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-unsupported/index.js", "../../../packages/edit-site/src/components/editor/index.js", "../../../packages/edit-site/src/components/welcome-guide/editor.js", "../../../packages/edit-site/src/components/welcome-guide/image.js", "../../../packages/edit-site/src/components/welcome-guide/page.js", "../../../packages/edit-site/src/components/welcome-guide/template.js", "../../../packages/edit-site/src/components/welcome-guide/index.js", "../../../packages/edit-site/src/components/canvas-loader/index.js", "../../../packages/edit-site/src/components/block-editor/use-site-editor-settings.js", "../../../packages/edit-site/src/components/block-editor/use-navigate-to-entity-record.js", "../../../packages/edit-site/src/components/plugin-template-setting-panel/index.js", "../../../packages/edit-site/src/components/more-menu/index.js", "../../../packages/edit-site/src/components/more-menu/site-export.js", "../../../packages/edit-site/src/components/more-menu/welcome-guide-menu-item.js", "../../../packages/edit-site/src/components/block-editor/use-editor-iframe-props.js", "../../../packages/edit-site/src/components/editor/use-editor-title.js", "../../../packages/edit-site/src/components/routes/use-title.js", "../../../packages/edit-site/src/components/editor/use-adapt-editor-to-canvas.js", "../../../packages/edit-site/src/components/editor/use-resolve-edited-entity.js", "../../../packages/edit-site/src/components/editor/site-preview.js", "../../../packages/edit-site/src/components/site-editor-routes/utils.js", "../../../packages/edit-site/src/components/site-editor-routes/home.js", "../../../packages/edit-site/src/components/site-editor-routes/styles.js", "../../../packages/edit-site/src/components/sidebar-global-styles/index.js", "../../../packages/edit-site/src/components/site-editor-routes/navigation.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menus/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menus/constants.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menu/single-navigation-menu.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menu/more-menu.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menu/rename-modal.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menu/delete-confirm-dialog.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menu/navigation-menu-editor.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menus/navigation-menu-content.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menus/leaf-more-menu.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menus/build-navigation-label.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menu/use-navigation-menu-handlers.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-navigation-menu/index.js", "../../../packages/edit-site/src/components/site-editor-routes/navigation-item.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-patterns/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-patterns/category-item.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-patterns/use-pattern-categories.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-patterns/use-default-pattern-categories.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-patterns/use-theme-patterns.js", "../../../packages/edit-site/src/components/page-patterns/utils.js", "../../../packages/edit-site/src/components/page-patterns/use-patterns.js", "../../../packages/edit-site/src/components/page-patterns/search-items.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-patterns/use-template-part-areas.js", "../../../packages/edit-site/src/components/page-patterns/index.js", "../../../packages/dataviews/src/components/dataviews/index.tsx", "../../../packages/dataviews/src/components/dataviews-context/index.ts", "../../../packages/dataviews/src/constants.ts", "../../../packages/dataviews/src/dataviews-layouts/index.ts", "../../../packages/dataviews/src/dataviews-layouts/table/index.tsx", "../../../packages/dataviews/src/components/dataviews-selection-checkbox/index.tsx", "../../../packages/dataviews/src/components/dataviews-item-actions/index.tsx", "../../../packages/dataviews/src/lock-unlock.ts", "../../../packages/dataviews/src/components/dataviews-bulk-actions/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/column-header-menu.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/column-primary.tsx", "../../../packages/dataviews/src/dataviews-layouts/utils/item-click-wrapper.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/use-is-horizontal-scroll-end.ts", "../../../packages/dataviews/src/dataviews-layouts/utils/get-data-by-group.ts", "../../../packages/dataviews/src/components/dataviews-view-config/properties-section.tsx", "../../../packages/dataviews/src/dataviews-layouts/grid/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/utils/grid-items.tsx", "../../../packages/dataviews/src/dataviews-layouts/list/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/picker-grid/index.tsx", "../../../packages/dataviews/src/components/dataviews-picker/footer.tsx", "../../../packages/dataviews/src/components/dataviews-pagination/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/picker-table/index.tsx", "../../../packages/dataviews/src/dataviews-layouts/utils/preview-size-picker.tsx", "../../../packages/dataviews/src/dataviews-layouts/table/density-picker.tsx", "../../../packages/dataviews/src/components/dataviews-filters/filters.tsx", "../../../packages/dataviews/src/components/dataviews-filters/filter.tsx", "../../../node_modules/@ariakit/react-core/esm/__chunks/3YLGPPWQ.js", "../../../node_modules/@ariakit/core/esm/__chunks/3YLGPPWQ.js", "../../../node_modules/@ariakit/core/esm/__chunks/PBFD2E7P.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/SK3NAZA3.js", "../../../node_modules/@ariakit/core/esm/__chunks/DTR5TSDJ.js", "../../../node_modules/@ariakit/core/esm/__chunks/QAGXQEUG.js", "../../../node_modules/@ariakit/core/esm/utils/events.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/ABQUS43J.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/LMDWO4NN.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/VDHZ5F7K.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/P7GR5CS5.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/3XAVFTCA.js", "../../../node_modules/@ariakit/core/esm/__chunks/BCALMBPZ.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/YV4JVR4I.js", "../../../node_modules/@ariakit/core/esm/__chunks/CYQWQL4J.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/C3IKGW5T.js", "../../../node_modules/@ariakit/core/esm/__chunks/7PRQYBBV.js", "../../../node_modules/@ariakit/core/esm/__chunks/AJZ4BYF3.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/4CMBR7SL.js", "../../../node_modules/@ariakit/core/esm/__chunks/RCQ5P4YE.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/WYCIER3C.js", "../../../node_modules/@ariakit/core/esm/__chunks/FZZ2AVHF.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/BM6PGYQY.js", "../../../node_modules/@ariakit/core/esm/__chunks/ME2CUF3F.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/O2PQ2652.js", "../../../node_modules/@ariakit/core/esm/combobox/combobox-store.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/FEOFMWBY.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/S6EF7IVO.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/RS7LB2H4.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/MTZPJQMC.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/VEVQD5MH.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/OMU7RWRV.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/5VQZOHHZ.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/SWN3JYXT.js", "../../../node_modules/@ariakit/core/esm/utils/focus.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/LVA2YJMS.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/ITI7HKP4.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox-provider.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/KUU7WJ55.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox-item-value.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/UQQRIHDV.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/RZ4GPYOB.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/P2CTZE2T.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/ZTDSJLD6.js", "../../../node_modules/@ariakit/react-core/esm/combobox/combobox-label.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/VGCJ63VH.js", "../../../node_modules/@ariakit/react-core/esm/__chunks/HUWAI7RB.js", "../../../packages/dataviews/src/components/dataviews-filters/search-widget.tsx", "../../../packages/dataviews/src/components/dataviews-filters/utils.ts", "../../../packages/dataviews/src/hooks/use-elements.ts", "../../../packages/dataviews/src/components/dataviews-filters/input-widget.tsx", "../../../packages/dataviews/node_modules/date-fns/constants.js", "../../../packages/dataviews/node_modules/date-fns/constructFrom.js", "../../../packages/dataviews/node_modules/date-fns/toDate.js", "../../../packages/dataviews/node_modules/date-fns/addDays.js", "../../../packages/dataviews/node_modules/date-fns/addMonths.js", "../../../packages/dataviews/node_modules/date-fns/_lib/defaultOptions.js", "../../../packages/dataviews/node_modules/date-fns/startOfWeek.js", "../../../packages/dataviews/node_modules/date-fns/startOfISOWeek.js", "../../../packages/dataviews/node_modules/date-fns/getISOWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js", "../../../packages/dataviews/node_modules/date-fns/_lib/normalizeDates.js", "../../../packages/dataviews/node_modules/date-fns/startOfDay.js", "../../../packages/dataviews/node_modules/date-fns/differenceInCalendarDays.js", "../../../packages/dataviews/node_modules/date-fns/startOfISOWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/addWeeks.js", "../../../packages/dataviews/node_modules/date-fns/addYears.js", "../../../packages/dataviews/node_modules/date-fns/isDate.js", "../../../packages/dataviews/node_modules/date-fns/isValid.js", "../../../packages/dataviews/node_modules/date-fns/startOfMonth.js", "../../../packages/dataviews/node_modules/date-fns/startOfYear.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatDistance.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildFormatLongFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatLong.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatRelative.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildLocalizeFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/localize.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildMatchFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildMatchPatternFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/match.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US.js", "../../../packages/dataviews/node_modules/date-fns/getDayOfYear.js", "../../../packages/dataviews/node_modules/date-fns/getISOWeek.js", "../../../packages/dataviews/node_modules/date-fns/getWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/startOfWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/getWeek.js", "../../../packages/dataviews/node_modules/date-fns/_lib/addLeadingZeros.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/lightFormatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/formatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/longFormatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/protectedTokens.js", "../../../packages/dataviews/node_modules/date-fns/format.js", "../../../packages/dataviews/node_modules/date-fns/subDays.js", "../../../packages/dataviews/node_modules/date-fns/subMonths.js", "../../../packages/dataviews/node_modules/date-fns/subWeeks.js", "../../../packages/dataviews/node_modules/date-fns/subYears.js", "../../../packages/dataviews/src/field-types/utils/parse-date-time.ts", "../../../packages/dataviews/src/components/dataviews-filters/add-filter.tsx", "../../../packages/dataviews/src/components/dataviews-filters/reset-filters.tsx", "../../../packages/dataviews/src/components/dataviews-filters/use-filters.ts", "../../../packages/dataviews/src/components/dataviews-filters/toggle.tsx", "../../../packages/dataviews/src/components/dataviews-filters/filters-toggled.tsx", "../../../packages/dataviews/src/components/dataviews-layout/index.tsx", "../../../packages/dataviews/src/components/dataviews-footer/index.tsx", "../../../packages/dataviews/src/components/dataviews-search/index.tsx", "../../../packages/dataviews/src/components/dataviews-view-config/index.tsx", "../../../packages/dataviews/src/components/dataviews-view-config/infinite-scroll-toggle.tsx", "../../../packages/dataviews/src/field-types/email.tsx", "../../../packages/dataviews/src/field-types/utils/render-from-elements.tsx", "../../../packages/dataviews/src/field-types/integer.tsx", "../../../packages/dataviews/src/field-types/number.tsx", "../../../packages/dataviews/src/field-types/text.tsx", "../../../packages/dataviews/src/field-types/datetime.tsx", "../../../packages/dataviews/src/field-types/date.tsx", "../../../packages/dataviews/src/field-types/boolean.tsx", "../../../packages/dataviews/src/field-types/media.tsx", "../../../packages/dataviews/src/field-types/array.tsx", "../../../packages/dataviews/src/field-types/password.tsx", "../../../packages/dataviews/src/field-types/telephone.tsx", "../../../packages/dataviews/src/field-types/color.tsx", "../../../packages/dataviews/src/field-types/url.tsx", "../../../packages/dataviews/src/field-types/index.tsx", "../../../packages/dataviews/src/dataform-controls/checkbox.tsx", "../../../packages/dataviews/src/dataform-controls/utils/get-custom-validity.ts", "../../../packages/dataviews/src/dataform-controls/datetime.tsx", "../../../packages/dataviews/src/dataform-controls/utils/relative-date-control.tsx", "../../../packages/dataviews/src/dataform-controls/date.tsx", "../../../packages/dataviews/src/dataform-controls/email.tsx", "../../../packages/dataviews/src/dataform-controls/utils/validated-input.tsx", "../../../packages/dataviews/src/dataform-controls/telephone.tsx", "../../../packages/dataviews/src/dataform-controls/url.tsx", "../../../packages/dataviews/src/dataform-controls/utils/validated-number.tsx", "../../../packages/dataviews/src/dataform-controls/integer.tsx", "../../../packages/dataviews/src/dataform-controls/number.tsx", "../../../packages/dataviews/src/dataform-controls/radio.tsx", "../../../packages/dataviews/src/dataform-controls/select.tsx", "../../../packages/dataviews/src/dataform-controls/text.tsx", "../../../packages/dataviews/src/dataform-controls/toggle.tsx", "../../../packages/dataviews/src/dataform-controls/textarea.tsx", "../../../packages/dataviews/src/dataform-controls/toggle-group.tsx", "../../../packages/dataviews/src/dataform-controls/array.tsx", "../../../packages/dataviews/src/dataform-controls/color.tsx", "../../../packages/dataviews/src/dataform-controls/password.tsx", "../../../packages/dataviews/src/utils/has-elements.ts", "../../../packages/dataviews/src/dataform-controls/index.tsx", "../../../packages/dataviews/src/utils/normalize-fields.ts", "../../../packages/dataviews/src/components/dataform/index.tsx", "../../../packages/dataviews/src/components/dataform-context/index.tsx", "../../../packages/dataviews/src/dataform-layouts/data-form-layout.tsx", "../../../packages/dataviews/src/dataform-layouts/index.tsx", "../../../packages/dataviews/src/dataform-layouts/regular/index.tsx", "../../../packages/dataviews/src/dataform-layouts/normalize-form.ts", "../../../packages/dataviews/src/dataform-layouts/panel/index.tsx", "../../../packages/dataviews/src/dataform-layouts/panel/dropdown.tsx", "../../../packages/dataviews/src/dataform-layouts/panel/summary-button.tsx", "../../../packages/dataviews/src/dataform-layouts/panel/modal.tsx", "../../../packages/dataviews/src/hooks/use-form-validity.ts", "../../../packages/dataviews/src/dataform-layouts/get-summary-fields.ts", "../../../packages/dataviews/src/dataform-layouts/card/index.tsx", "../../../packages/dataviews/src/dataform-layouts/row/index.tsx", "../../../packages/dataviews/src/dataform-layouts/details/index.tsx", "../../../packages/dataviews/src/utils/filter-sort-and-paginate.ts", "../../../node_modules/dequal/dist/index.mjs", "../../../packages/views/src/preference-keys.ts", "../../../packages/views/src/use-view.ts", "../../../packages/views/src/load-view.ts", "../../../packages/edit-site/src/components/page-patterns/use-pattern-settings.js", "../../../packages/edit-site/src/components/page-patterns/actions.js", "../../../packages/edit-site/src/components/add-new-pattern/index.js", "../../../packages/edit-site/src/components/page-patterns/rename-category-menu-item.js", "../../../packages/edit-site/src/components/page-patterns/delete-category-menu-item.js", "../../../packages/edit-site/src/components/dataviews-actions/index.js", "../../../packages/edit-site/src/components/page-patterns/fields.js", "../../../packages/edit-site/src/components/page-templates/hooks.js", "../../../packages/edit-site/src/components/site-editor-routes/patterns.js", "../../../packages/edit-site/src/components/site-editor-routes/pattern-item.js", "../../../packages/edit-site/src/components/site-editor-routes/template-part-item.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-templates-browse/index.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-templates-browse/content.js", "../../../packages/edit-site/src/components/sidebar-navigation-screen-templates-browse/content-legacy.js", "../../../packages/edit-site/src/components/page-templates/index.js", "../../../packages/edit-site/src/components/add-new-template/index.js", "../../../packages/edit-site/src/components/add-new-template/add-custom-template-modal-content.js", "../../../packages/edit-site/src/components/add-new-template/utils.js", "../../../node_modules/tslib/tslib.es6.mjs", "../../../node_modules/lower-case/src/index.ts", "../../../node_modules/no-case/src/index.ts", "../../../node_modules/dot-case/src/index.ts", "../../../node_modules/param-case/src/index.ts", "../../../packages/edit-site/src/components/add-new-template/add-custom-generic-template-modal-content.js", "../../../packages/edit-site/src/components/page-templates/fields.js", "../../../packages/edit-site/src/components/page-templates/view-utils.js", "../../../packages/edit-site/src/components/page-templates/index-legacy.js", "../../../packages/edit-site/src/components/add-new-template-legacy/index.js", "../../../packages/edit-site/src/components/add-new-template-legacy/add-custom-template-modal-content.js", "../../../packages/edit-site/src/components/add-new-template-legacy/utils.js", "../../../packages/edit-site/src/components/add-new-template-legacy/add-custom-generic-template-modal-content.js", "../../../packages/edit-site/src/components/site-editor-routes/templates.js", "../../../packages/edit-site/src/components/site-editor-routes/template-item.js", "../../../packages/edit-site/src/components/site-editor-routes/pages.js", "../../../packages/edit-site/src/components/sidebar-dataviews/index.js", "../../../packages/edit-site/src/components/sidebar-dataviews/dataview-item.js", "../../../packages/edit-site/src/components/post-list/view-utils.js", "../../../packages/edit-site/src/components/post-list/index.js", "../../../packages/edit-site/src/components/add-new-post/index.js", "../../../packages/edit-site/src/components/post-edit/index.js", "../../../packages/edit-site/src/components/site-editor-routes/page-item.js", "../../../packages/edit-site/src/components/site-editor-routes/stylebook.js", "../../../packages/edit-site/src/components/site-editor-routes/notfound.js", "../../../packages/edit-site/src/deprecated.js"],
  "sourcesContent": ["module.exports = window.wp.blocks;", "module.exports = window.wp.blockLibrary;", "module.exports = window.wp.data;", "module.exports = window.wp.deprecated;", "module.exports = window.wp.element;", "module.exports = window.wp.editor;", "module.exports = window.wp.preferences;", "module.exports = window.wp.widgets;", "module.exports = window.wp.coreData;", "module.exports = window.wp.blockEditor;", "module.exports = window.wp.i18n;", "module.exports = window.wp.patterns;", "module.exports = window.wp.privateApis;", "module.exports = window.wp.router;", "module.exports = window.ReactJSXRuntime;", "module.exports = window.wp.components;", "module.exports = window.wp.compose;", "module.exports = window.wp.plugins;", "module.exports = window.wp.notices;", "module.exports = window.wp.htmlEntities;", "module.exports = window.wp.primitives;", "module.exports = window.wp.commands;", "module.exports = window.wp.keycodes;", "module.exports = window.wp.url;", "module.exports = window.wp.dom;", "module.exports = window.wp.keyboardShortcuts;", "module.exports = window.React;", "module.exports = window.ReactDOM;", "module.exports = window.wp.apiFetch;", "module.exports = window.wp.styleEngine;", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n", "module.exports = window.wp.a11y;", "module.exports = window.wp.date;", "module.exports = window.wp.blob;", "/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n", "var characterMap = {\n\t\"\u00C0\": \"A\",\n\t\"\u00C1\": \"A\",\n\t\"\u00C2\": \"A\",\n\t\"\u00C3\": \"A\",\n\t\"\u00C4\": \"A\",\n\t\"\u00C5\": \"A\",\n\t\"\u1EA4\": \"A\",\n\t\"\u1EAE\": \"A\",\n\t\"\u1EB2\": \"A\",\n\t\"\u1EB4\": \"A\",\n\t\"\u1EB6\": \"A\",\n\t\"\u00C6\": \"AE\",\n\t\"\u1EA6\": \"A\",\n\t\"\u1EB0\": \"A\",\n\t\"\u0202\": \"A\",\n\t\"\u1EA2\": \"A\",\n\t\"\u1EA0\": \"A\",\n\t\"\u1EA8\": \"A\",\n\t\"\u1EAA\": \"A\",\n\t\"\u1EAC\": \"A\",\n\t\"\u00C7\": \"C\",\n\t\"\u1E08\": \"C\",\n\t\"\u00C8\": \"E\",\n\t\"\u00C9\": \"E\",\n\t\"\u00CA\": \"E\",\n\t\"\u00CB\": \"E\",\n\t\"\u1EBE\": \"E\",\n\t\"\u1E16\": \"E\",\n\t\"\u1EC0\": \"E\",\n\t\"\u1E14\": \"E\",\n\t\"\u1E1C\": \"E\",\n\t\"\u0206\": \"E\",\n\t\"\u1EBA\": \"E\",\n\t\"\u1EBC\": \"E\",\n\t\"\u1EB8\": \"E\",\n\t\"\u1EC2\": \"E\",\n\t\"\u1EC4\": \"E\",\n\t\"\u1EC6\": \"E\",\n\t\"\u00CC\": \"I\",\n\t\"\u00CD\": \"I\",\n\t\"\u00CE\": \"I\",\n\t\"\u00CF\": \"I\",\n\t\"\u1E2E\": \"I\",\n\t\"\u020A\": \"I\",\n\t\"\u1EC8\": \"I\",\n\t\"\u1ECA\": \"I\",\n\t\"\u00D0\": \"D\",\n\t\"\u00D1\": \"N\",\n\t\"\u00D2\": \"O\",\n\t\"\u00D3\": \"O\",\n\t\"\u00D4\": \"O\",\n\t\"\u00D5\": \"O\",\n\t\"\u00D6\": \"O\",\n\t\"\u00D8\": \"O\",\n\t\"\u1ED0\": \"O\",\n\t\"\u1E4C\": \"O\",\n\t\"\u1E52\": \"O\",\n\t\"\u020E\": \"O\",\n\t\"\u1ECE\": \"O\",\n\t\"\u1ECC\": \"O\",\n\t\"\u1ED4\": \"O\",\n\t\"\u1ED6\": \"O\",\n\t\"\u1ED8\": \"O\",\n\t\"\u1EDC\": \"O\",\n\t\"\u1EDE\": \"O\",\n\t\"\u1EE0\": \"O\",\n\t\"\u1EDA\": \"O\",\n\t\"\u1EE2\": \"O\",\n\t\"\u00D9\": \"U\",\n\t\"\u00DA\": \"U\",\n\t\"\u00DB\": \"U\",\n\t\"\u00DC\": \"U\",\n\t\"\u1EE6\": \"U\",\n\t\"\u1EE4\": \"U\",\n\t\"\u1EEC\": \"U\",\n\t\"\u1EEE\": \"U\",\n\t\"\u1EF0\": \"U\",\n\t\"\u00DD\": \"Y\",\n\t\"\u00E0\": \"a\",\n\t\"\u00E1\": \"a\",\n\t\"\u00E2\": \"a\",\n\t\"\u00E3\": \"a\",\n\t\"\u00E4\": \"a\",\n\t\"\u00E5\": \"a\",\n\t\"\u1EA5\": \"a\",\n\t\"\u1EAF\": \"a\",\n\t\"\u1EB3\": \"a\",\n\t\"\u1EB5\": \"a\",\n\t\"\u1EB7\": \"a\",\n\t\"\u00E6\": \"ae\",\n\t\"\u1EA7\": \"a\",\n\t\"\u1EB1\": \"a\",\n\t\"\u0203\": \"a\",\n\t\"\u1EA3\": \"a\",\n\t\"\u1EA1\": \"a\",\n\t\"\u1EA9\": \"a\",\n\t\"\u1EAB\": \"a\",\n\t\"\u1EAD\": \"a\",\n\t\"\u00E7\": \"c\",\n\t\"\u1E09\": \"c\",\n\t\"\u00E8\": \"e\",\n\t\"\u00E9\": \"e\",\n\t\"\u00EA\": \"e\",\n\t\"\u00EB\": \"e\",\n\t\"\u1EBF\": \"e\",\n\t\"\u1E17\": \"e\",\n\t\"\u1EC1\": \"e\",\n\t\"\u1E15\": \"e\",\n\t\"\u1E1D\": \"e\",\n\t\"\u0207\": \"e\",\n\t\"\u1EBB\": \"e\",\n\t\"\u1EBD\": \"e\",\n\t\"\u1EB9\": \"e\",\n\t\"\u1EC3\": \"e\",\n\t\"\u1EC5\": \"e\",\n\t\"\u1EC7\": \"e\",\n\t\"\u00EC\": \"i\",\n\t\"\u00ED\": \"i\",\n\t\"\u00EE\": \"i\",\n\t\"\u00EF\": \"i\",\n\t\"\u1E2F\": \"i\",\n\t\"\u020B\": \"i\",\n\t\"\u1EC9\": \"i\",\n\t\"\u1ECB\": \"i\",\n\t\"\u00F0\": \"d\",\n\t\"\u00F1\": \"n\",\n\t\"\u00F2\": \"o\",\n\t\"\u00F3\": \"o\",\n\t\"\u00F4\": \"o\",\n\t\"\u00F5\": \"o\",\n\t\"\u00F6\": \"o\",\n\t\"\u00F8\": \"o\",\n\t\"\u1ED1\": \"o\",\n\t\"\u1E4D\": \"o\",\n\t\"\u1E53\": \"o\",\n\t\"\u020F\": \"o\",\n\t\"\u1ECF\": \"o\",\n\t\"\u1ECD\": \"o\",\n\t\"\u1ED5\": \"o\",\n\t\"\u1ED7\": \"o\",\n\t\"\u1ED9\": \"o\",\n\t\"\u1EDD\": \"o\",\n\t\"\u1EDF\": \"o\",\n\t\"\u1EE1\": \"o\",\n\t\"\u1EDB\": \"o\",\n\t\"\u1EE3\": \"o\",\n\t\"\u00F9\": \"u\",\n\t\"\u00FA\": \"u\",\n\t\"\u00FB\": \"u\",\n\t\"\u00FC\": \"u\",\n\t\"\u1EE7\": \"u\",\n\t\"\u1EE5\": \"u\",\n\t\"\u1EED\": \"u\",\n\t\"\u1EEF\": \"u\",\n\t\"\u1EF1\": \"u\",\n\t\"\u00FD\": \"y\",\n\t\"\u00FF\": \"y\",\n\t\"\u0100\": \"A\",\n\t\"\u0101\": \"a\",\n\t\"\u0102\": \"A\",\n\t\"\u0103\": \"a\",\n\t\"\u0104\": \"A\",\n\t\"\u0105\": \"a\",\n\t\"\u0106\": \"C\",\n\t\"\u0107\": \"c\",\n\t\"\u0108\": \"C\",\n\t\"\u0109\": \"c\",\n\t\"\u010A\": \"C\",\n\t\"\u010B\": \"c\",\n\t\"\u010C\": \"C\",\n\t\"\u010D\": \"c\",\n\t\"C\u0306\": \"C\",\n\t\"c\u0306\": \"c\",\n\t\"\u010E\": \"D\",\n\t\"\u010F\": \"d\",\n\t\"\u0110\": \"D\",\n\t\"\u0111\": \"d\",\n\t\"\u0112\": \"E\",\n\t\"\u0113\": \"e\",\n\t\"\u0114\": \"E\",\n\t\"\u0115\": \"e\",\n\t\"\u0116\": \"E\",\n\t\"\u0117\": \"e\",\n\t\"\u0118\": \"E\",\n\t\"\u0119\": \"e\",\n\t\"\u011A\": \"E\",\n\t\"\u011B\": \"e\",\n\t\"\u011C\": \"G\",\n\t\"\u01F4\": \"G\",\n\t\"\u011D\": \"g\",\n\t\"\u01F5\": \"g\",\n\t\"\u011E\": \"G\",\n\t\"\u011F\": \"g\",\n\t\"\u0120\": \"G\",\n\t\"\u0121\": \"g\",\n\t\"\u0122\": \"G\",\n\t\"\u0123\": \"g\",\n\t\"\u0124\": \"H\",\n\t\"\u0125\": \"h\",\n\t\"\u0126\": \"H\",\n\t\"\u0127\": \"h\",\n\t\"\u1E2A\": \"H\",\n\t\"\u1E2B\": \"h\",\n\t\"\u0128\": \"I\",\n\t\"\u0129\": \"i\",\n\t\"\u012A\": \"I\",\n\t\"\u012B\": \"i\",\n\t\"\u012C\": \"I\",\n\t\"\u012D\": \"i\",\n\t\"\u012E\": \"I\",\n\t\"\u012F\": \"i\",\n\t\"\u0130\": \"I\",\n\t\"\u0131\": \"i\",\n\t\"\u0132\": \"IJ\",\n\t\"\u0133\": \"ij\",\n\t\"\u0134\": \"J\",\n\t\"\u0135\": \"j\",\n\t\"\u0136\": \"K\",\n\t\"\u0137\": \"k\",\n\t\"\u1E30\": \"K\",\n\t\"\u1E31\": \"k\",\n\t\"K\u0306\": \"K\",\n\t\"k\u0306\": \"k\",\n\t\"\u0139\": \"L\",\n\t\"\u013A\": \"l\",\n\t\"\u013B\": \"L\",\n\t\"\u013C\": \"l\",\n\t\"\u013D\": \"L\",\n\t\"\u013E\": \"l\",\n\t\"\u013F\": \"L\",\n\t\"\u0140\": \"l\",\n\t\"\u0141\": \"l\",\n\t\"\u0142\": \"l\",\n\t\"\u1E3E\": \"M\",\n\t\"\u1E3F\": \"m\",\n\t\"M\u0306\": \"M\",\n\t\"m\u0306\": \"m\",\n\t\"\u0143\": \"N\",\n\t\"\u0144\": \"n\",\n\t\"\u0145\": \"N\",\n\t\"\u0146\": \"n\",\n\t\"\u0147\": \"N\",\n\t\"\u0148\": \"n\",\n\t\"\u0149\": \"n\",\n\t\"N\u0306\": \"N\",\n\t\"n\u0306\": \"n\",\n\t\"\u014C\": \"O\",\n\t\"\u014D\": \"o\",\n\t\"\u014E\": \"O\",\n\t\"\u014F\": \"o\",\n\t\"\u0150\": \"O\",\n\t\"\u0151\": \"o\",\n\t\"\u0152\": \"OE\",\n\t\"\u0153\": \"oe\",\n\t\"P\u0306\": \"P\",\n\t\"p\u0306\": \"p\",\n\t\"\u0154\": \"R\",\n\t\"\u0155\": \"r\",\n\t\"\u0156\": \"R\",\n\t\"\u0157\": \"r\",\n\t\"\u0158\": \"R\",\n\t\"\u0159\": \"r\",\n\t\"R\u0306\": \"R\",\n\t\"r\u0306\": \"r\",\n\t\"\u0212\": \"R\",\n\t\"\u0213\": \"r\",\n\t\"\u015A\": \"S\",\n\t\"\u015B\": \"s\",\n\t\"\u015C\": \"S\",\n\t\"\u015D\": \"s\",\n\t\"\u015E\": \"S\",\n\t\"\u0218\": \"S\",\n\t\"\u0219\": \"s\",\n\t\"\u015F\": \"s\",\n\t\"\u0160\": \"S\",\n\t\"\u0161\": \"s\",\n\t\"\u0162\": \"T\",\n\t\"\u0163\": \"t\",\n\t\"\u021B\": \"t\",\n\t\"\u021A\": \"T\",\n\t\"\u0164\": \"T\",\n\t\"\u0165\": \"t\",\n\t\"\u0166\": \"T\",\n\t\"\u0167\": \"t\",\n\t\"T\u0306\": \"T\",\n\t\"t\u0306\": \"t\",\n\t\"\u0168\": \"U\",\n\t\"\u0169\": \"u\",\n\t\"\u016A\": \"U\",\n\t\"\u016B\": \"u\",\n\t\"\u016C\": \"U\",\n\t\"\u016D\": \"u\",\n\t\"\u016E\": \"U\",\n\t\"\u016F\": \"u\",\n\t\"\u0170\": \"U\",\n\t\"\u0171\": \"u\",\n\t\"\u0172\": \"U\",\n\t\"\u0173\": \"u\",\n\t\"\u0216\": \"U\",\n\t\"\u0217\": \"u\",\n\t\"V\u0306\": \"V\",\n\t\"v\u0306\": \"v\",\n\t\"\u0174\": \"W\",\n\t\"\u0175\": \"w\",\n\t\"\u1E82\": \"W\",\n\t\"\u1E83\": \"w\",\n\t\"X\u0306\": \"X\",\n\t\"x\u0306\": \"x\",\n\t\"\u0176\": \"Y\",\n\t\"\u0177\": \"y\",\n\t\"\u0178\": \"Y\",\n\t\"Y\u0306\": \"Y\",\n\t\"y\u0306\": \"y\",\n\t\"\u0179\": \"Z\",\n\t\"\u017A\": \"z\",\n\t\"\u017B\": \"Z\",\n\t\"\u017C\": \"z\",\n\t\"\u017D\": \"Z\",\n\t\"\u017E\": \"z\",\n\t\"\u017F\": \"s\",\n\t\"\u0192\": \"f\",\n\t\"\u01A0\": \"O\",\n\t\"\u01A1\": \"o\",\n\t\"\u01AF\": \"U\",\n\t\"\u01B0\": \"u\",\n\t\"\u01CD\": \"A\",\n\t\"\u01CE\": \"a\",\n\t\"\u01CF\": \"I\",\n\t\"\u01D0\": \"i\",\n\t\"\u01D1\": \"O\",\n\t\"\u01D2\": \"o\",\n\t\"\u01D3\": \"U\",\n\t\"\u01D4\": \"u\",\n\t\"\u01D5\": \"U\",\n\t\"\u01D6\": \"u\",\n\t\"\u01D7\": \"U\",\n\t\"\u01D8\": \"u\",\n\t\"\u01D9\": \"U\",\n\t\"\u01DA\": \"u\",\n\t\"\u01DB\": \"U\",\n\t\"\u01DC\": \"u\",\n\t\"\u1EE8\": \"U\",\n\t\"\u1EE9\": \"u\",\n\t\"\u1E78\": \"U\",\n\t\"\u1E79\": \"u\",\n\t\"\u01FA\": \"A\",\n\t\"\u01FB\": \"a\",\n\t\"\u01FC\": \"AE\",\n\t\"\u01FD\": \"ae\",\n\t\"\u01FE\": \"O\",\n\t\"\u01FF\": \"o\",\n\t\"\u00DE\": \"TH\",\n\t\"\u00FE\": \"th\",\n\t\"\u1E54\": \"P\",\n\t\"\u1E55\": \"p\",\n\t\"\u1E64\": \"S\",\n\t\"\u1E65\": \"s\",\n\t\"X\u0301\": \"X\",\n\t\"x\u0301\": \"x\",\n\t\"\u0403\": \"\u0413\",\n\t\"\u0453\": \"\u0433\",\n\t\"\u040C\": \"\u041A\",\n\t\"\u045C\": \"\u043A\",\n\t\"A\u030B\": \"A\",\n\t\"a\u030B\": \"a\",\n\t\"E\u030B\": \"E\",\n\t\"e\u030B\": \"e\",\n\t\"I\u030B\": \"I\",\n\t\"i\u030B\": \"i\",\n\t\"\u01F8\": \"N\",\n\t\"\u01F9\": \"n\",\n\t\"\u1ED2\": \"O\",\n\t\"\u1ED3\": \"o\",\n\t\"\u1E50\": \"O\",\n\t\"\u1E51\": \"o\",\n\t\"\u1EEA\": \"U\",\n\t\"\u1EEB\": \"u\",\n\t\"\u1E80\": \"W\",\n\t\"\u1E81\": \"w\",\n\t\"\u1EF2\": \"Y\",\n\t\"\u1EF3\": \"y\",\n\t\"\u0200\": \"A\",\n\t\"\u0201\": \"a\",\n\t\"\u0204\": \"E\",\n\t\"\u0205\": \"e\",\n\t\"\u0208\": \"I\",\n\t\"\u0209\": \"i\",\n\t\"\u020C\": \"O\",\n\t\"\u020D\": \"o\",\n\t\"\u0210\": \"R\",\n\t\"\u0211\": \"r\",\n\t\"\u0214\": \"U\",\n\t\"\u0215\": \"u\",\n\t\"B\u030C\": \"B\",\n\t\"b\u030C\": \"b\",\n\t\"\u010C\u0323\": \"C\",\n\t\"\u010D\u0323\": \"c\",\n\t\"\u00CA\u030C\": \"E\",\n\t\"\u00EA\u030C\": \"e\",\n\t\"F\u030C\": \"F\",\n\t\"f\u030C\": \"f\",\n\t\"\u01E6\": \"G\",\n\t\"\u01E7\": \"g\",\n\t\"\u021E\": \"H\",\n\t\"\u021F\": \"h\",\n\t\"J\u030C\": \"J\",\n\t\"\u01F0\": \"j\",\n\t\"\u01E8\": \"K\",\n\t\"\u01E9\": \"k\",\n\t\"M\u030C\": \"M\",\n\t\"m\u030C\": \"m\",\n\t\"P\u030C\": \"P\",\n\t\"p\u030C\": \"p\",\n\t\"Q\u030C\": \"Q\",\n\t\"q\u030C\": \"q\",\n\t\"\u0158\u0329\": \"R\",\n\t\"\u0159\u0329\": \"r\",\n\t\"\u1E66\": \"S\",\n\t\"\u1E67\": \"s\",\n\t\"V\u030C\": \"V\",\n\t\"v\u030C\": \"v\",\n\t\"W\u030C\": \"W\",\n\t\"w\u030C\": \"w\",\n\t\"X\u030C\": \"X\",\n\t\"x\u030C\": \"x\",\n\t\"Y\u030C\": \"Y\",\n\t\"y\u030C\": \"y\",\n\t\"A\u0327\": \"A\",\n\t\"a\u0327\": \"a\",\n\t\"B\u0327\": \"B\",\n\t\"b\u0327\": \"b\",\n\t\"\u1E10\": \"D\",\n\t\"\u1E11\": \"d\",\n\t\"\u0228\": \"E\",\n\t\"\u0229\": \"e\",\n\t\"\u0190\u0327\": \"E\",\n\t\"\u025B\u0327\": \"e\",\n\t\"\u1E28\": \"H\",\n\t\"\u1E29\": \"h\",\n\t\"I\u0327\": \"I\",\n\t\"i\u0327\": \"i\",\n\t\"\u0197\u0327\": \"I\",\n\t\"\u0268\u0327\": \"i\",\n\t\"M\u0327\": \"M\",\n\t\"m\u0327\": \"m\",\n\t\"O\u0327\": \"O\",\n\t\"o\u0327\": \"o\",\n\t\"Q\u0327\": \"Q\",\n\t\"q\u0327\": \"q\",\n\t\"U\u0327\": \"U\",\n\t\"u\u0327\": \"u\",\n\t\"X\u0327\": \"X\",\n\t\"x\u0327\": \"x\",\n\t\"Z\u0327\": \"Z\",\n\t\"z\u0327\": \"z\",\n\t\"\u0439\":\"\u0438\",\n\t\"\u0419\":\"\u0418\",\n\t\"\u0451\":\"\u0435\",\n\t\"\u0401\":\"\u0415\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n", "module.exports = window.wp.warning;", "/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalGetCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport { dispatch } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { createRoot, StrictMode } from '@wordpress/element';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tregisterLegacyWidgetBlock,\n\tregisterWidgetGroupBlock,\n} from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from './store';\nimport { unlock } from './lock-unlock';\nimport App from './components/app';\n\nconst { registerCoreBlockBindingsSources } = unlock( editorPrivateApis );\n\n/**\n * Initializes the site editor screen.\n *\n * @param {string} id       ID of the root element to render the screen in.\n * @param {Object} settings Editor settings.\n */\nexport function initializeEditor( id, settings ) {\n\tconst target = document.getElementById( id );\n\tconst root = createRoot( target );\n\n\tdispatch( blocksStore ).reapplyBlockTypeFilters();\n\tconst coreBlocks = __experimentalGetCoreBlocks().filter(\n\t\t( { name } ) => name !== 'core/freeform'\n\t);\n\tregisterCoreBlocks( coreBlocks );\n\tregisterCoreBlockBindingsSources();\n\tdispatch( blocksStore ).setFreeformFallbackBlockName( 'core/html' );\n\tregisterLegacyWidgetBlock( { inserter: false } );\n\tregisterWidgetGroupBlock( { inserter: false } );\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: true,\n\t\t} );\n\t}\n\n\t// We dispatch actions and update the store synchronously before rendering\n\t// so that we won't trigger unnecessary re-renders with useEffect.\n\tdispatch( preferencesStore ).setDefaults( 'core/edit-site', {\n\t\twelcomeGuide: true,\n\t\twelcomeGuideStyles: true,\n\t\twelcomeGuidePage: true,\n\t\twelcomeGuideTemplate: true,\n\t} );\n\n\tdispatch( preferencesStore ).setDefaults( 'core', {\n\t\tallowRightClickOverrides: true,\n\t\tdistractionFree: false,\n\t\teditorMode: 'visual',\n\t\teditorTool: 'edit',\n\t\tfixedToolbar: false,\n\t\tfocusMode: false,\n\t\tinactivePanels: [],\n\t\tkeepCaretInsideBlock: false,\n\t\topenPanels: [ 'post-status' ],\n\t\tshowBlockBreadcrumbs: true,\n\t\tshowListViewByDefault: false,\n\t\tenableChoosePatternModal: true,\n\t} );\n\n\tif ( window.__experimentalMediaProcessing ) {\n\t\tdispatch( preferencesStore ).setDefaults( 'core/media', {\n\t\t\trequireApproval: true,\n\t\t\toptimizeOnUpload: true,\n\t\t} );\n\t}\n\n\tdispatch( editSiteStore ).updateSettings( settings );\n\n\t// Prevent the default browser action for files dropped outside of dropzones.\n\twindow.addEventListener( 'dragover', ( e ) => e.preventDefault(), false );\n\twindow.addEventListener( 'drop', ( e ) => e.preventDefault(), false );\n\n\troot.render(\n\t\t<StrictMode>\n\t\t\t<App />\n\t\t</StrictMode>\n\t);\n\n\treturn root;\n}\n\nexport function reinitializeEditor() {\n\tdeprecated( 'wp.editSite.reinitializeEditor', {\n\t\tsince: '6.2',\n\t\tversion: '6.3',\n\t} );\n}\n\nexport { default as PluginTemplateSettingPanel } from './components/plugin-template-setting-panel';\nexport { store } from './store';\nexport * from './deprecated';\n", "/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as privateActions from './private-actions';\nimport * as selectors from './selectors';\nimport * as privateSelectors from './private-selectors';\nimport { STORE_NAME } from './constants';\nimport { unlock } from '../lock-unlock';\n\nexport const storeConfig = {\n\treducer,\n\tactions,\n\tselectors,\n};\n\nexport const store = createReduxStore( STORE_NAME, storeConfig );\nregister( store );\nunlock( store ).registerPrivateSelectors( privateSelectors );\nunlock( store ).registerPrivateActions( privateActions );\n", "/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer returning the settings.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function settings( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer keeping track of the currently edited Post Type,\n * Post Id and the context provided to fill the content of the block editor.\n *\n * @param {Object} state  Current edited post.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editedPost( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn {\n\t\t\t\tpostType: action.postType,\n\t\t\t\tid: action.id,\n\t\t\t\tcontext: action.context,\n\t\t\t};\n\t\tcase 'SET_EDITED_POST_CONTEXT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontext: action.context,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer to set the save view panel open or closed.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function saveViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_SAVE_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\nfunction routes( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REGISTER_ROUTE':\n\t\t\treturn [ ...state, action.route ];\n\t\tcase 'UNREGISTER_ROUTE':\n\t\t\treturn state.filter( ( route ) => route.name !== action.name );\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tsettings,\n\teditedPost,\n\tsaveViewPanel,\n\troutes,\n} );\n", "/**\n * WordPress dependencies\n */\nimport { parse } from '@wordpress/blocks';\nimport deprecated from '@wordpress/deprecated';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport {\n\tstore as editorStore,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n} from '../utils/constants';\nimport { unlock } from '../lock-unlock';\n\nconst { interfaceStore } = unlock( editorPrivateApis );\n\n/**\n * Dispatches an action that toggles a feature flag.\n *\n * @param {string} featureName Feature name.\n */\nexport function toggleFeature( featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated(\n\t\t\t\"dispatch( 'core/edit-site' ).toggleFeature( featureName )\",\n\t\t\t{\n\t\t\t\tsince: '6.0',\n\t\t\t\talternative:\n\t\t\t\t\t\"dispatch( 'core/preferences').toggle( 'core/edit-site', featureName )\",\n\t\t\t}\n\t\t);\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.toggle( 'core/edit-site', featureName );\n\t};\n}\n\n/**\n * Action that changes the width of the editing canvas.\n *\n * @deprecated\n *\n * @param {string} deviceType\n *\n * @return {Object} Action object.\n */\nexport const __experimentalSetPreviewDeviceType =\n\t( deviceType ) =>\n\t( { registry } ) => {\n\t\tdeprecated(\n\t\t\t\"dispatch( 'core/edit-site' ).__experimentalSetPreviewDeviceType\",\n\t\t\t{\n\t\t\t\tsince: '6.5',\n\t\t\t\tversion: '6.7',\n\t\t\t\thint: 'registry.dispatch( editorStore ).setDeviceType',\n\t\t\t}\n\t\t);\n\t\tregistry.dispatch( editorStore ).setDeviceType( deviceType );\n\t};\n\n/**\n * Action that sets a template, optionally fetching it from REST API.\n *\n * @return {Object} Action object.\n */\nexport function setTemplate() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setTemplate\", {\n\t\tsince: '6.5',\n\t\tversion: '6.8',\n\t\thint: 'The setTemplate is not needed anymore, the correct entity is resolved from the URL automatically.',\n\t} );\n\n\treturn {\n\t\ttype: 'NOTHING',\n\t};\n}\n\n/**\n * Action that adds a new template and sets it as the current template.\n *\n * @param {Object} template The template.\n *\n * @deprecated\n *\n * @return {Object} Action object used to set the current template.\n */\nexport const addTemplate =\n\t( template ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\tdeprecated( \"dispatch( 'core/edit-site' ).addTemplate\", {\n\t\t\tsince: '6.5',\n\t\t\tversion: '6.8',\n\t\t\thint: 'use saveEntityRecord directly',\n\t\t} );\n\n\t\tconst newTemplate = await registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEntityRecord( 'postType', TEMPLATE_POST_TYPE, template );\n\n\t\tif ( template.content ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\tnewTemplate.id,\n\t\t\t\t\t{ blocks: parse( template.content ) },\n\t\t\t\t\t{ undoIgnore: true }\n\t\t\t\t);\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_EDITED_POST',\n\t\t\tpostType: TEMPLATE_POST_TYPE,\n\t\t\tid: newTemplate.id,\n\t\t} );\n\t};\n\n/**\n * Action that removes a template.\n *\n * @param {Object} template The template object.\n */\nexport const removeTemplate =\n\t( template ) =>\n\t( { registry } ) => {\n\t\treturn unlock( registry.dispatch( editorStore ) ).removeTemplates( [\n\t\t\ttemplate,\n\t\t] );\n\t};\n\n/**\n * Action that sets a template part.\n *\n * @deprecated\n * @param {string} templatePartId The template part ID.\n *\n * @return {Object} Action object.\n */\nexport function setTemplatePart( templatePartId ) {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setTemplatePart\", {\n\t\tsince: '6.8',\n\t} );\n\n\treturn {\n\t\ttype: 'SET_EDITED_POST',\n\t\tpostType: TEMPLATE_PART_POST_TYPE,\n\t\tid: templatePartId,\n\t};\n}\n\n/**\n * Action that sets a navigation menu.\n *\n * @deprecated\n * @param {string} navigationMenuId The Navigation Menu Post ID.\n *\n * @return {Object} Action object.\n */\nexport function setNavigationMenu( navigationMenuId ) {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setNavigationMenu\", {\n\t\tsince: '6.8',\n\t} );\n\n\treturn {\n\t\ttype: 'SET_EDITED_POST',\n\t\tpostType: NAVIGATION_POST_TYPE,\n\t\tid: navigationMenuId,\n\t};\n}\n\n/**\n * Action that sets an edited entity.\n *\n * @deprecated\n * @param {string} postType The entity's post type.\n * @param {string} postId   The entity's ID.\n * @param {Object} context  The entity's context.\n *\n * @return {Object} Action object.\n */\nexport function setEditedEntity( postType, postId, context ) {\n\treturn {\n\t\ttype: 'SET_EDITED_POST',\n\t\tpostType,\n\t\tid: postId,\n\t\tcontext,\n\t};\n}\n\n/**\n * @deprecated\n */\nexport function setHomeTemplateId() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setHomeTemplateId\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn {\n\t\ttype: 'NOTHING',\n\t};\n}\n\n/**\n * Set's the current block editor context.\n *\n * @deprecated\n * @param {Object} context The context object.\n *\n * @return {Object} Action object.\n */\nexport function setEditedPostContext( context ) {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setEditedPostContext\", {\n\t\tsince: '6.8',\n\t} );\n\treturn {\n\t\ttype: 'SET_EDITED_POST_CONTEXT',\n\t\tcontext,\n\t};\n}\n\n/**\n * Resolves the template for a page and displays both. If no path is given, attempts\n * to use the postId to generate a path like `?p=${ postId }`.\n *\n * @deprecated\n *\n * @return {Object} Action object.\n */\nexport function setPage() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setPage\", {\n\t\tsince: '6.5',\n\t\tversion: '6.8',\n\t\thint: 'The setPage is not needed anymore, the correct entity is resolved from the URL automatically.',\n\t} );\n\n\treturn { type: 'NOTHING' };\n}\n\n/**\n * Action that sets the active navigation panel menu.\n *\n * @deprecated\n *\n * @return {Object} Action object.\n */\nexport function setNavigationPanelActiveMenu() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setNavigationPanelActiveMenu\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn { type: 'NOTHING' };\n}\n\n/**\n * Opens the navigation panel and sets its active menu at the same time.\n *\n * @deprecated\n */\nexport function openNavigationPanelToMenu() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).openNavigationPanelToMenu\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn { type: 'NOTHING' };\n}\n\n/**\n * Sets whether the navigation panel should be open.\n *\n * @deprecated\n */\nexport function setIsNavigationPanelOpened() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setIsNavigationPanelOpened\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn { type: 'NOTHING' };\n}\n\n/**\n * Returns an action object used to open/close the inserter.\n *\n * @deprecated\n *\n * @param {boolean|Object} value Whether the inserter should be opened (true) or closed (false).\n */\nexport const setIsInserterOpened =\n\t( value ) =>\n\t( { registry } ) => {\n\t\tdeprecated( \"dispatch( 'core/edit-site' ).setIsInserterOpened\", {\n\t\t\tsince: '6.5',\n\t\t\talternative: \"dispatch( 'core/editor').setIsInserterOpened\",\n\t\t} );\n\t\tregistry.dispatch( editorStore ).setIsInserterOpened( value );\n\t};\n\n/**\n * Returns an action object used to open/close the list view.\n *\n * @deprecated\n *\n * @param {boolean} isOpen A boolean representing whether the list view should be opened or closed.\n */\nexport const setIsListViewOpened =\n\t( isOpen ) =>\n\t( { registry } ) => {\n\t\tdeprecated( \"dispatch( 'core/edit-site' ).setIsListViewOpened\", {\n\t\t\tsince: '6.5',\n\t\t\talternative: \"dispatch( 'core/editor').setIsListViewOpened\",\n\t\t} );\n\t\tregistry.dispatch( editorStore ).setIsListViewOpened( isOpen );\n\t};\n\n/**\n * Returns an action object used to update the settings.\n *\n * @param {Object} settings New settings.\n *\n * @return {Object} Action object.\n */\nexport function updateSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Sets whether the save view panel should be open.\n *\n * @param {boolean} isOpen If true, opens the save view. If false, closes it.\n *                         It does not toggle the state, but sets it directly.\n */\nexport function setIsSaveViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_SAVE_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Reverts a template to its original theme-provided file.\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nexport const revertTemplate =\n\t( template, options ) =>\n\t( { registry } ) => {\n\t\treturn unlock( registry.dispatch( editorStore ) ).revertTemplate(\n\t\t\ttemplate,\n\t\t\toptions\n\t\t);\n\t};\n\n/**\n * Action that opens an editor sidebar.\n *\n * @param {?string} name Sidebar name to be opened.\n */\nexport const openGeneralSidebar =\n\t( name ) =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( interfaceStore )\n\t\t\t.enableComplementaryArea( 'core', name );\n\t};\n\n/**\n * Action that closes the sidebar.\n */\nexport const closeGeneralSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( interfaceStore ).disableComplementaryArea( 'core' );\n\t};\n\n/**\n * Triggers an action used to switch editor mode.\n *\n * @deprecated\n *\n * @param {string} mode The editor mode.\n */\nexport const switchEditorMode =\n\t( mode ) =>\n\t( { registry } ) => {\n\t\tdeprecated( \"dispatch( 'core/edit-site' ).switchEditorMode\", {\n\t\t\tsince: '6.6',\n\t\t\talternative: \"dispatch( 'core/editor').switchEditorMode\",\n\t\t} );\n\t\tregistry.dispatch( editorStore ).switchEditorMode( mode );\n\t};\n\n/**\n * Sets whether or not the editor allows only page content to be edited.\n *\n * @param {boolean} hasPageContentFocus True to allow only page content to be\n *                                      edited, false to allow template to be\n *                                      edited.\n */\nexport const setHasPageContentFocus =\n\t( hasPageContentFocus ) =>\n\t( { dispatch, registry } ) => {\n\t\tdeprecated( `dispatch( 'core/edit-site' ).setHasPageContentFocus`, {\n\t\t\tsince: '6.5',\n\t\t} );\n\n\t\tif ( hasPageContentFocus ) {\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t}\n\t\tdispatch( {\n\t\t\ttype: 'SET_HAS_PAGE_CONTENT_FOCUS',\n\t\t\thasPageContentFocus,\n\t\t} );\n\t};\n\n/**\n * Action that toggles Distraction free mode.\n * Distraction free mode expects there are no sidebars, as due to the\n * z-index values set, you can't close sidebars.\n *\n * @deprecated\n */\nexport const toggleDistractionFree =\n\t() =>\n\t( { registry } ) => {\n\t\tdeprecated( \"dispatch( 'core/edit-site' ).toggleDistractionFree\", {\n\t\t\tsince: '6.6',\n\t\t\talternative: \"dispatch( 'core/editor').toggleDistractionFree\",\n\t\t} );\n\t\tregistry.dispatch( editorStore ).toggleDistractionFree();\n\t};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { privateApis as patternPrivateApis } from '@wordpress/patterns';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\n\n// Navigation\nexport const NAVIGATION_POST_TYPE = 'wp_navigation';\n\n// Templates.\nexport const TEMPLATE_POST_TYPE = 'wp_template';\nexport const TEMPLATE_PART_POST_TYPE = 'wp_template_part';\nexport const TEMPLATE_ORIGINS = {\n\tcustom: 'custom',\n\ttheme: 'theme',\n\tplugin: 'plugin',\n};\nexport const TEMPLATE_PART_AREA_DEFAULT_CATEGORY = 'uncategorized';\nexport const TEMPLATE_PART_ALL_AREAS_CATEGORY = 'all-parts';\n\n// Patterns.\nexport const {\n\tPATTERN_TYPES,\n\tPATTERN_DEFAULT_CATEGORY,\n\tPATTERN_USER_CATEGORY,\n\tEXCLUDED_PATTERN_SOURCES,\n\tPATTERN_SYNC_TYPES,\n} = unlock( patternPrivateApis );\n\n// Entities that are editable in focus mode.\nexport const FOCUSABLE_ENTITIES = [\n\tTEMPLATE_PART_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n\tPATTERN_TYPES.user,\n];\n\nexport const POST_TYPE_LABELS = {\n\t[ TEMPLATE_POST_TYPE ]: __( 'Template' ),\n\t[ TEMPLATE_PART_POST_TYPE ]: __( 'Template part' ),\n\t[ PATTERN_TYPES.user ]: __( 'Pattern' ),\n\t[ NAVIGATION_POST_TYPE ]: __( 'Navigation' ),\n};\n\n// DataViews constants\nexport const LAYOUT_GRID = 'grid';\nexport const LAYOUT_TABLE = 'table';\nexport const LAYOUT_LIST = 'list';\n\nexport const OPERATOR_IS = 'is';\nexport const OPERATOR_IS_NOT = 'isNot';\nexport const OPERATOR_IS_ANY = 'isAny';\nexport const OPERATOR_IS_NONE = 'isNone';\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/edit-site'\n\t);\n", "export function registerRoute( route ) {\n\treturn {\n\t\ttype: 'REGISTER_ROUTE',\n\t\troute,\n\t};\n}\n\nexport function unregisterRoute( name ) {\n\treturn {\n\t\ttype: 'UNREGISTER_ROUTE',\n\t\tname,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { createRegistrySelector, createSelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { Platform } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport { TEMPLATE_PART_POST_TYPE } from '../utils/constants';\nimport getFilteredTemplatePartBlocks from '../utils/get-filtered-template-parts';\n\n/**\n * @typedef {'template'|'template_type'} TemplateType Template type.\n */\n\n/**\n * Returns whether the given feature is enabled or not.\n *\n * @deprecated\n * @param {Object} state       Global application state.\n * @param {string} featureName Feature slug.\n *\n * @return {boolean} Is active.\n */\nexport const isFeatureActive = createRegistrySelector(\n\t( select ) => ( _, featureName ) => {\n\t\tdeprecated( `select( 'core/edit-site' ).isFeatureActive`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `select( 'core/preferences' ).get`,\n\t\t} );\n\n\t\treturn !! select( preferencesStore ).get(\n\t\t\t'core/edit-site',\n\t\t\tfeatureName\n\t\t);\n\t}\n);\n\n/**\n * Returns the current editing canvas device type.\n *\n * @deprecated\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Device type.\n */\nexport const __experimentalGetPreviewDeviceType = createRegistrySelector(\n\t( select ) => () => {\n\t\tdeprecated(\n\t\t\t`select( 'core/edit-site' ).__experimentalGetPreviewDeviceType`,\n\t\t\t{\n\t\t\t\tsince: '6.5',\n\t\t\t\tversion: '6.7',\n\t\t\t\talternative: `select( 'core/editor' ).getDeviceType`,\n\t\t\t}\n\t\t);\n\t\treturn select( editorStore ).getDeviceType();\n\t}\n);\n\n/**\n * Returns whether the current user can create media or not.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Whether the current user can create media or not.\n */\nexport const getCanUserCreateMedia = createRegistrySelector(\n\t( select ) => () => {\n\t\tdeprecated(\n\t\t\t`wp.data.select( 'core/edit-site' ).getCanUserCreateMedia()`,\n\t\t\t{\n\t\t\t\tsince: '6.7',\n\t\t\t\talternative: `wp.data.select( 'core' ).canUser( 'create', { kind: 'postType', type: 'attachment' } )`,\n\t\t\t}\n\t\t);\n\n\t\treturn select( coreDataStore ).canUser( 'create', 'media' );\n\t}\n);\n\n/**\n * Returns any available Reusable blocks.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} The available reusable blocks.\n */\nexport const getReusableBlocks = createRegistrySelector( ( select ) => () => {\n\tdeprecated( `select( 'core/edit-site' ).getReusableBlocks()`, {\n\t\tsince: '6.5',\n\t\tversion: '6.8',\n\t\talternative: `select( 'core/core' ).getEntityRecords( 'postType', 'wp_block' )`,\n\t} );\n\tconst isWeb = Platform.OS === 'web';\n\treturn isWeb\n\t\t? select( coreDataStore ).getEntityRecords( 'postType', 'wp_block', {\n\t\t\t\tper_page: -1,\n\t\t  } )\n\t\t: [];\n} );\n\n/**\n * Returns the site editor settings.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Settings.\n */\nexport function getSettings( state ) {\n\t// It is important that we don't inject anything into these settings locally.\n\t// The reason for this is that we have an effect in place that calls setSettings based on the previous value of getSettings.\n\t// If we add computed settings here, we'll be adding these computed settings to the state which is very unexpected.\n\treturn state.settings;\n}\n\n/**\n * @deprecated\n */\nexport function getHomeTemplateId() {\n\tdeprecated( \"select( 'core/edit-site' ).getHomeTemplateId\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n}\n\n/**\n * Returns the current edited post type (wp_template or wp_template_part).\n *\n * @deprecated\n * @param {Object} state Global application state.\n *\n * @return {?TemplateType} Template type.\n */\nexport function getEditedPostType( state ) {\n\tdeprecated( \"select( 'core/edit-site' ).getEditedPostType\", {\n\t\tsince: '6.8',\n\t\talternative: \"select( 'core/editor' ).getCurrentPostType\",\n\t} );\n\treturn state.editedPost.postType;\n}\n\n/**\n * Returns the ID of the currently edited template or template part.\n *\n * @deprecated\n * @param {Object} state Global application state.\n *\n * @return {?string} Post ID.\n */\nexport function getEditedPostId( state ) {\n\tdeprecated( \"select( 'core/edit-site' ).getEditedPostId\", {\n\t\tsince: '6.8',\n\t\talternative: \"select( 'core/editor' ).getCurrentPostId\",\n\t} );\n\treturn state.editedPost.id;\n}\n\n/**\n * Returns the edited post's context object.\n *\n * @deprecated\n * @param {Object} state Global application state.\n *\n * @return {Object} Page.\n */\nexport function getEditedPostContext( state ) {\n\tdeprecated( \"select( 'core/edit-site' ).getEditedPostContext\", {\n\t\tsince: '6.8',\n\t} );\n\n\treturn state.editedPost.context;\n}\n\n/**\n * Returns the current page object.\n *\n * @deprecated\n * @param {Object} state Global application state.\n *\n * @return {Object} Page.\n */\nexport function getPage( state ) {\n\tdeprecated( \"select( 'core/edit-site' ).getPage\", {\n\t\tsince: '6.8',\n\t} );\n\n\treturn { context: state.editedPost.context };\n}\n\n/**\n * Returns true if the inserter is opened.\n *\n * @deprecated\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport const isInserterOpened = createRegistrySelector( ( select ) => () => {\n\tdeprecated( `select( 'core/edit-site' ).isInserterOpened`, {\n\t\tsince: '6.5',\n\t\talternative: `select( 'core/editor' ).isInserterOpened`,\n\t} );\n\treturn select( editorStore ).isInserterOpened();\n} );\n\n/**\n * Get the insertion point for the inserter.\n *\n * @deprecated\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID, index to insert at and starting filter value.\n */\nexport const __experimentalGetInsertionPoint = createRegistrySelector(\n\t( select ) => () => {\n\t\tdeprecated(\n\t\t\t`select( 'core/edit-site' ).__experimentalGetInsertionPoint`,\n\t\t\t{\n\t\t\t\tsince: '6.5',\n\t\t\t\tversion: '6.7',\n\t\t\t}\n\t\t);\n\t\treturn unlock( select( editorStore ) ).getInserter();\n\t}\n);\n\n/**\n * Returns true if the list view is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the list view is opened.\n */\nexport const isListViewOpened = createRegistrySelector( ( select ) => () => {\n\tdeprecated( `select( 'core/edit-site' ).isListViewOpened`, {\n\t\tsince: '6.5',\n\t\talternative: `select( 'core/editor' ).isListViewOpened`,\n\t} );\n\treturn select( editorStore ).isListViewOpened();\n} );\n\n/**\n * Returns the current opened/closed state of the save panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the save panel should be open; false if closed.\n */\nexport function isSaveViewOpened( state ) {\n\treturn state.saveViewPanel;\n}\n\nfunction getBlocksAndTemplateParts( select ) {\n\tconst templateParts = select( coreDataStore ).getEntityRecords(\n\t\t'postType',\n\t\tTEMPLATE_PART_POST_TYPE,\n\t\t{ per_page: -1 }\n\t);\n\n\tconst { getBlocksByName, getBlocksByClientId } = select( blockEditorStore );\n\n\tconst clientIds = getBlocksByName( 'core/template-part' );\n\tconst blocks = getBlocksByClientId( clientIds );\n\treturn [ blocks, templateParts ];\n}\n\n/**\n * Returns the template parts and their blocks for the current edited template.\n *\n * @deprecated\n * @param {Object} state Global application state.\n * @return {Array} Template parts and their blocks in an array.\n */\nexport const getCurrentTemplateTemplateParts = createRegistrySelector(\n\t( select ) =>\n\t\tcreateSelector(\n\t\t\t() => {\n\t\t\t\tdeprecated(\n\t\t\t\t\t`select( 'core/edit-site' ).getCurrentTemplateTemplateParts()`,\n\t\t\t\t\t{\n\t\t\t\t\t\tsince: '6.7',\n\t\t\t\t\t\tversion: '6.9',\n\t\t\t\t\t\talternative: `select( 'core/block-editor' ).getBlocksByName( 'core/template-part' )`,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\treturn getFilteredTemplatePartBlocks(\n\t\t\t\t\t...getBlocksAndTemplateParts( select )\n\t\t\t\t);\n\t\t\t},\n\t\t\t() => getBlocksAndTemplateParts( select )\n\t\t)\n);\n\n/**\n * Returns the current editing mode.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Editing mode.\n */\nexport const getEditorMode = createRegistrySelector( ( select ) => () => {\n\treturn select( preferencesStore ).get( 'core', 'editorMode' );\n} );\n\n/**\n * @deprecated\n */\nexport function getCurrentTemplateNavigationPanelSubMenu() {\n\tdeprecated(\n\t\t\"dispatch( 'core/edit-site' ).getCurrentTemplateNavigationPanelSubMenu\",\n\t\t{\n\t\t\tsince: '6.2',\n\t\t\tversion: '6.4',\n\t\t}\n\t);\n}\n\n/**\n * @deprecated\n */\nexport function getNavigationPanelActiveMenu() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).getNavigationPanelActiveMenu\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n}\n\n/**\n * @deprecated\n */\nexport function isNavigationOpened() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).isNavigationOpened\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n}\n\n/**\n * Whether or not the editor has a page loaded into it.\n *\n * @see setPage\n * @deprecated\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether or not the editor has a page loaded into it.\n */\nexport function isPage( state ) {\n\tdeprecated( \"select( 'core/edit-site' ).isPage\", {\n\t\tsince: '6.8',\n\t\talternative: \"select( 'core/editor' ).getCurrentPostType\",\n\t} );\n\n\treturn !! state.editedPost.context?.postId;\n}\n\n/**\n * Whether or not the editor allows only page content to be edited.\n *\n * @deprecated\n *\n * @return {boolean} Whether or not focus is on editing page content.\n */\nexport function hasPageContentFocus() {\n\tdeprecated( `select( 'core/edit-site' ).hasPageContentFocus`, {\n\t\tsince: '6.5',\n\t} );\n\n\treturn false;\n}\n", "/**\n * WordPress dependencies\n */\nimport { isTemplatePart } from '@wordpress/blocks';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Get a flattened and filtered list of template parts and the matching block for that template part.\n *\n * Takes a list of blocks defined within a template, and a list of template parts, and returns a\n * flattened list of template parts and the matching block for that template part.\n *\n * @param {Array}  blocks        Blocks to flatten.\n * @param {?Array} templateParts Available template parts.\n * @return {Array} An array of template parts and their blocks.\n */\nexport default function getFilteredTemplatePartBlocks(\n\tblocks = EMPTY_ARRAY,\n\ttemplateParts\n) {\n\tconst templatePartsById = templateParts\n\t\t? // Key template parts by their ID.\n\t\t  templateParts.reduce(\n\t\t\t\t( newTemplateParts, part ) => ( {\n\t\t\t\t\t...newTemplateParts,\n\t\t\t\t\t[ part.id ]: part,\n\t\t\t\t} ),\n\t\t\t\t{}\n\t\t  )\n\t\t: {};\n\n\tconst result = [];\n\n\t// Iterate over all blocks, recursing into inner blocks.\n\t// Output will be based on a depth-first traversal.\n\tconst stack = [ ...blocks ];\n\twhile ( stack.length ) {\n\t\tconst { innerBlocks, ...block } = stack.shift();\n\t\t// Place inner blocks at the beginning of the stack to preserve order.\n\t\tstack.unshift( ...innerBlocks );\n\n\t\tif ( isTemplatePart( block ) ) {\n\t\t\tconst {\n\t\t\t\tattributes: { theme, slug },\n\t\t\t} = block;\n\t\t\tconst templatePartId = `${ theme }//${ slug }`;\n\t\t\tconst templatePart = templatePartsById[ templatePartId ];\n\n\t\t\t// Only add to output if the found template part block is in the list of available template parts.\n\t\t\tif ( templatePart ) {\n\t\t\t\tresult.push( {\n\t\t\t\t\ttemplatePart,\n\t\t\t\t\tblock,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n", "export function getRoutes( state ) {\n\treturn state.routes;\n}\n", "/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/edit-site';\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useCallback, useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport Layout from '../layout';\nimport { unlock } from '../../lock-unlock';\nimport { store as editSiteStore } from '../../store';\nimport { useCommonCommands } from '../../hooks/commands/use-common-commands';\nimport useSetCommandContext from '../../hooks/commands/use-set-command-context';\nimport { useRegisterSiteEditorRoutes } from '../site-editor-routes';\nimport {\n\tcurrentlyPreviewingTheme,\n\tisPreviewingTheme,\n} from '../../utils/is-previewing-theme';\n\nconst { RouterProvider } = unlock( routerPrivateApis );\n\nfunction AppLayout() {\n\tuseCommonCommands();\n\tuseSetCommandContext();\n\n\treturn <Layout />;\n}\n\nexport default function App() {\n\tuseRegisterSiteEditorRoutes();\n\tconst { routes, currentTheme, editorSettings } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\troutes: unlock( select( editSiteStore ) ).getRoutes(),\n\t\t\tcurrentTheme: select( coreStore ).getCurrentTheme(),\n\t\t\t// This is a temp solution until the has_theme_json value is available for the current theme.\n\t\t\teditorSettings: select( editSiteStore ).getSettings(),\n\t\t};\n\t}, [] );\n\n\tconst beforeNavigate = useCallback( ( { path, query } ) => {\n\t\tif ( ! isPreviewingTheme() ) {\n\t\t\treturn { path, query };\n\t\t}\n\n\t\treturn {\n\t\t\tpath,\n\t\t\tquery: {\n\t\t\t\t...query,\n\t\t\t\twp_theme_preview:\n\t\t\t\t\t'wp_theme_preview' in query\n\t\t\t\t\t\t? query.wp_theme_preview\n\t\t\t\t\t\t: currentlyPreviewingTheme(),\n\t\t\t},\n\t\t};\n\t}, [] );\n\n\tconst matchResolverArgsValue = useMemo(\n\t\t() => ( {\n\t\t\tsiteData: { currentTheme, editorSettings },\n\t\t} ),\n\t\t[ currentTheme, editorSettings ]\n\t);\n\n\treturn (\n\t\t<RouterProvider\n\t\t\troutes={ routes }\n\t\t\tpathArg=\"p\"\n\t\t\tbeforeNavigate={ beforeNavigate }\n\t\t\tmatchResolverArgs={ matchResolverArgsValue }\n\t\t>\n\t\t\t<AppLayout />\n\t\t</RouterProvider>\n\t);\n}\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Type definitions\n */\ntype NavigableRegionProps = {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tariaLabel: string;\n\tas?: React.ElementType;\n\t[ key: string ]: any;\n};\n\n// This is a copy of the private `NavigableRegion` component from the '@wordpress/editor' private APIs.\nconst NavigableRegion = forwardRef< HTMLElement, NavigableRegionProps >(\n\t( { children, className, ariaLabel, as: Tag = 'div', ...props }, ref ) => {\n\t\treturn (\n\t\t\t<Tag\n\t\t\t\tref={ ref }\n\t\t\t\tclassName={ clsx( 'admin-ui-navigable-region', className ) }\n\t\t\t\taria-label={ ariaLabel }\n\t\t\t\trole=\"region\"\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Tag>\n\t\t);\n\t}\n);\n\nNavigableRegion.displayName = 'NavigableRegion';\n\nexport default NavigableRegion;\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHeading as Heading,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\nexport default function Header( {\n\tbreadcrumbs,\n\tbadges,\n\ttitle,\n\tsubTitle,\n\tactions,\n}: {\n\tbreadcrumbs?: React.ReactNode;\n\tbadges?: React.ReactNode;\n\ttitle?: React.ReactNode;\n\tsubTitle: React.ReactNode;\n\tactions?: React.ReactNode;\n\tshowSidebarToggle?: boolean;\n} ) {\n\treturn (\n\t\t<VStack className=\"admin-ui-page__header\" as=\"header\">\n\t\t\t<HStack\n\t\t\t\tclassName=\"admin-ui-page__header-title\"\n\t\t\t\tjustify=\"space-between\"\n\t\t\t\tspacing={ 2 }\n\t\t\t>\n\t\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t\t{ title && (\n\t\t\t\t\t\t<Heading as=\"h2\" level={ 3 } weight={ 500 } truncate>\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t) }\n\t\t\t\t\t{ breadcrumbs }\n\t\t\t\t\t{ badges }\n\t\t\t\t</HStack>\n\t\t\t\t<HStack\n\t\t\t\t\tstyle={ { width: 'auto', flexShrink: 0 } }\n\t\t\t\t\tspacing={ 2 }\n\t\t\t\t\tclassName=\"admin-ui-page__header-actions\"\n\t\t\t\t>\n\t\t\t\t\t{ actions }\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t\t{ subTitle && (\n\t\t\t\t<p className=\"admin-ui-page__header-subtitle\">{ subTitle }</p>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * Internal dependencies\n */\nimport Header from './header';\nimport NavigableRegion from '../navigable-region';\n\nfunction Page( {\n\tbreadcrumbs,\n\tbadges,\n\ttitle,\n\tsubTitle,\n\tchildren,\n\tclassName,\n\tactions,\n\thasPadding = false,\n}: {\n\tbreadcrumbs?: React.ReactNode;\n\tbadges?: React.ReactNode;\n\ttitle?: React.ReactNode;\n\tsubTitle?: React.ReactNode;\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tactions?: React.ReactNode;\n\thasPadding?: boolean;\n} ) {\n\tconst classes = clsx( 'admin-ui-page', className );\n\n\treturn (\n\t\t<NavigableRegion className={ classes } ariaLabel={ title }>\n\t\t\t{ ( title || breadcrumbs || badges ) && (\n\t\t\t\t<Header\n\t\t\t\t\tbreadcrumbs={ breadcrumbs }\n\t\t\t\t\tbadges={ badges }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tsubTitle={ subTitle }\n\t\t\t\t\tactions={ actions }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasPadding ? (\n\t\t\t\t<div className=\"admin-ui-page__content has-padding\">\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\tchildren\n\t\t\t) }\n\t\t</NavigableRegion>\n\t);\n}\n\nexport default Page;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { NavigableRegion } from '@wordpress/admin-ui';\nimport {\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n\t__unstableUseNavigateRegions as useNavigateRegions,\n\tSlotFillProvider,\n} from '@wordpress/components';\nimport {\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tuseResizeObserver,\n\tusePrevious,\n} from '@wordpress/compose';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useRef, useEffect } from '@wordpress/element';\nimport {\n\tEditorSnackbars,\n\tUnsavedChangesWarning,\n\tErrorBoundary,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { PluginArea } from '@wordpress/plugins';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { default as SiteHub, SiteHubMobile } from '../site-hub';\nimport ResizableFrame from '../resizable-frame';\nimport { unlock } from '../../lock-unlock';\nimport SaveKeyboardShortcut from '../save-keyboard-shortcut';\nimport { useIsSiteEditorLoading } from './hooks';\nimport useMovingAnimation from './animation';\nimport { SidebarContent, SidebarNavigationProvider } from '../sidebar';\nimport SaveHub from '../save-hub';\nimport SavePanel from '../save-panel';\n\nconst { useLocation } = unlock( routerPrivateApis );\nconst { useStyle } = unlock( editorPrivateApis );\n\nconst ANIMATION_DURATION = 0.3;\n\nfunction Layout() {\n\tconst { query, name: routeKey, areas, widths } = useLocation();\n\tconst { canvas = 'view' } = query;\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst toggleRef = useRef();\n\tconst navigateRegionsProps = useNavigateRegions();\n\tconst disableMotion = useReducedMotion();\n\tconst [ canvasResizer, canvasSize ] = useResizeObserver();\n\tconst isEditorLoading = useIsSiteEditorLoading();\n\tconst [ isResizableFrameOversized, setIsResizableFrameOversized ] =\n\t\tuseState( false );\n\tconst animationRef = useMovingAnimation( {\n\t\ttriggerAnimationOnChange: routeKey + '-' + canvas,\n\t} );\n\n\tconst { showIconLabels } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t\t'core',\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t};\n\t} );\n\n\tconst backgroundColor = useStyle( 'color.background' );\n\tconst gradientValue = useStyle( 'color.gradient' );\n\tconst previousCanvaMode = usePrevious( canvas );\n\tuseEffect( () => {\n\t\tif ( previousCanvaMode === 'edit' ) {\n\t\t\ttoggleRef.current?.focus();\n\t\t}\n\t\t// Should not depend on the previous canvas mode value but the next.\n\t}, [ canvas ] );\n\n\treturn (\n\t\t<>\n\t\t\t<UnsavedChangesWarning />\n\t\t\t{ canvas === 'view' && <SaveKeyboardShortcut /> }\n\t\t\t<div\n\t\t\t\t{ ...navigateRegionsProps }\n\t\t\t\tref={ navigateRegionsProps.ref }\n\t\t\t\tclassName={ clsx(\n\t\t\t\t\t'edit-site-layout',\n\t\t\t\t\tnavigateRegionsProps.className,\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-full-canvas': canvas === 'edit',\n\t\t\t\t\t\t'show-icon-labels': showIconLabels,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<div className=\"edit-site-layout__content\">\n\t\t\t\t\t{ /*\n\t\t\t\t\t\tThe NavigableRegion must always be rendered and not use\n\t\t\t\t\t\t`inert` otherwise `useNavigateRegions` will fail.\n\t\t\t\t\t*/ }\n\t\t\t\t\t{ ( ! isMobileViewport || ! areas.mobile ) && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tariaLabel={ __( 'Navigation' ) }\n\t\t\t\t\t\t\tclassName=\"edit-site-layout__sidebar-region\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<AnimatePresence>\n\t\t\t\t\t\t\t\t{ canvas === 'view' && (\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tinitial={ { opacity: 0 } }\n\t\t\t\t\t\t\t\t\t\tanimate={ { opacity: 1 } }\n\t\t\t\t\t\t\t\t\t\texit={ { opacity: 0 } }\n\t\t\t\t\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\t\t\tduration:\n\t\t\t\t\t\t\t\t\t\t\t\t// Disable transition in mobile to emulate a full page transition.\n\t\t\t\t\t\t\t\t\t\t\t\tdisableMotion ||\n\t\t\t\t\t\t\t\t\t\t\t\tisMobileViewport\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ANIMATION_DURATION,\n\t\t\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tclassName=\"edit-site-layout__sidebar\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SiteHub\n\t\t\t\t\t\t\t\t\t\t\tref={ toggleRef }\n\t\t\t\t\t\t\t\t\t\t\tisTransparent={\n\t\t\t\t\t\t\t\t\t\t\t\tisResizableFrameOversized\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<SidebarNavigationProvider>\n\t\t\t\t\t\t\t\t\t\t\t<SidebarContent\n\t\t\t\t\t\t\t\t\t\t\t\tshouldAnimate={\n\t\t\t\t\t\t\t\t\t\t\t\t\trouteKey !== 'styles'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\trouteKey={ routeKey }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ areas.sidebar }\n\t\t\t\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t\t</SidebarContent>\n\t\t\t\t\t\t\t\t\t\t</SidebarNavigationProvider>\n\t\t\t\t\t\t\t\t\t\t<SaveHub />\n\t\t\t\t\t\t\t\t\t\t<SavePanel />\n\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</AnimatePresence>\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<EditorSnackbars />\n\n\t\t\t\t\t{ isMobileViewport && areas.mobile && (\n\t\t\t\t\t\t<div className=\"edit-site-layout__mobile\">\n\t\t\t\t\t\t\t<SidebarNavigationProvider>\n\t\t\t\t\t\t\t\t{ canvas !== 'edit' ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<SiteHubMobile\n\t\t\t\t\t\t\t\t\t\t\tref={ toggleRef }\n\t\t\t\t\t\t\t\t\t\t\tisTransparent={\n\t\t\t\t\t\t\t\t\t\t\t\tisResizableFrameOversized\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<SidebarContent routeKey={ routeKey }>\n\t\t\t\t\t\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t\t\t{ areas.mobile }\n\t\t\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t</SidebarContent>\n\t\t\t\t\t\t\t\t\t\t<SaveHub />\n\t\t\t\t\t\t\t\t\t\t<SavePanel />\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t{ areas.mobile }\n\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</SidebarNavigationProvider>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! isMobileViewport &&\n\t\t\t\t\t\tareas.content &&\n\t\t\t\t\t\tcanvas !== 'edit' && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"edit-site-layout__area\"\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tmaxWidth: widths?.content,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ErrorBoundary>{ areas.content }</ErrorBoundary>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! isMobileViewport && areas.edit && canvas !== 'edit' && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"edit-site-layout__area\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tmaxWidth: widths?.edit,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ErrorBoundary>{ areas.edit }</ErrorBoundary>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! isMobileViewport && areas.preview && (\n\t\t\t\t\t\t<div className=\"edit-site-layout__canvas-container\">\n\t\t\t\t\t\t\t{ canvasResizer }\n\t\t\t\t\t\t\t{ !! canvasSize.width && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t\t'edit-site-layout__canvas',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'is-right-aligned':\n\t\t\t\t\t\t\t\t\t\t\t\tisResizableFrameOversized,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tref={ animationRef }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t<ResizableFrame\n\t\t\t\t\t\t\t\t\t\t\tisReady={ ! isEditorLoading }\n\t\t\t\t\t\t\t\t\t\t\tisFullWidth={ canvas === 'edit' }\n\t\t\t\t\t\t\t\t\t\t\tdefaultSize={ {\n\t\t\t\t\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t\t\t\t\tcanvasSize.width -\n\t\t\t\t\t\t\t\t\t\t\t\t\t24 /* $canvas-padding */,\n\t\t\t\t\t\t\t\t\t\t\t\theight: canvasSize.height,\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\tisOversized={\n\t\t\t\t\t\t\t\t\t\t\t\tisResizableFrameOversized\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetIsOversized={\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsResizableFrameOversized\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tinnerContentStyle={ {\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\t\tgradientValue ??\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ areas.preview }\n\t\t\t\t\t\t\t\t\t\t</ResizableFrame>\n\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default function LayoutWithGlobalStylesProvider( props ) {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t{ /** This needs to be within the SlotFillProvider */ }\n\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t<Layout { ...props } />\n\t\t</SlotFillProvider>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { memo, forwardRef, useContext } from '@wordpress/element';\nimport { search } from '@wordpress/icons';\nimport { store as commandsStore } from '@wordpress/commands';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { filterURLForDisplay } from '@wordpress/url';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport SiteIcon from '../site-icon';\nimport { unlock } from '../../lock-unlock';\nimport { SidebarNavigationContext } from '../sidebar';\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\n\nconst SiteHub = memo(\n\tforwardRef( ( { isTransparent }, ref ) => {\n\t\tconst { dashboardLink, homeUrl, siteTitle } = useSelect( ( select ) => {\n\t\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\tconst _site = getEntityRecord( 'root', 'site' );\n\t\t\treturn {\n\t\t\t\tdashboardLink: getSettings().__experimentalDashboardLink,\n\t\t\t\thomeUrl: getEntityRecord( 'root', '__unstableBase' )?.home,\n\t\t\t\tsiteTitle:\n\t\t\t\t\t! _site?.title && !! _site?.url\n\t\t\t\t\t\t? filterURLForDisplay( _site?.url )\n\t\t\t\t\t\t: _site?.title,\n\t\t\t};\n\t\t}, [] );\n\t\tconst { open: openCommandCenter } = useDispatch( commandsStore );\n\n\t\treturn (\n\t\t\t<div className=\"edit-site-site-hub\">\n\t\t\t\t<HStack justify=\"flex-start\" spacing=\"0\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'edit-site-site-hub__view-mode-toggle-container',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'has-transparent-background': isTransparent,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\thref={ dashboardLink }\n\t\t\t\t\t\t\tlabel={ __( 'Go to the Dashboard' ) }\n\t\t\t\t\t\t\tclassName=\"edit-site-layout__view-mode-toggle\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\ttransform: 'scale(0.5333) translateX(-4px)', // Offset to position the icon 12px from viewport edge\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SiteIcon className=\"edit-site-layout__view-mode-toggle-icon\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<HStack>\n\t\t\t\t\t\t<div className=\"edit-site-site-hub__title\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ decodeEntities( siteTitle ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t\tclassName=\"edit-site-site-hub__actions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\tclassName=\"edit-site-site-hub_toggle-command-center\"\n\t\t\t\t\t\t\t\ticon={ search }\n\t\t\t\t\t\t\t\tonClick={ () => openCommandCenter() }\n\t\t\t\t\t\t\t\tlabel={ __( 'Open command palette' ) }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</HStack>\n\t\t\t\t</HStack>\n\t\t\t</div>\n\t\t);\n\t} )\n);\n\nexport default SiteHub;\n\nexport const SiteHubMobile = memo(\n\tforwardRef( ( { isTransparent }, ref ) => {\n\t\tconst { path } = useLocation();\n\t\tconst history = useHistory();\n\t\tconst { navigate } = useContext( SidebarNavigationContext );\n\n\t\tconst {\n\t\t\tdashboardLink,\n\t\t\thomeUrl,\n\t\t\tsiteTitle,\n\t\t\tisBlockTheme,\n\t\t\tisClassicThemeWithStyleBookSupport,\n\t\t} = useSelect( ( select ) => {\n\t\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\t\t\tconst { getEntityRecord, getCurrentTheme } = select( coreStore );\n\t\t\tconst _site = getEntityRecord( 'root', 'site' );\n\t\t\tconst currentTheme = getCurrentTheme();\n\t\t\tconst settings = getSettings();\n\t\t\tconst supportsEditorStyles =\n\t\t\t\tcurrentTheme.theme_supports[ 'editor-styles' ];\n\t\t\t// This is a temp solution until the has_theme_json value is available for the current theme.\n\t\t\tconst hasThemeJson = settings.supportsLayout;\n\n\t\t\treturn {\n\t\t\t\tdashboardLink: settings.__experimentalDashboardLink,\n\t\t\t\thomeUrl: getEntityRecord( 'root', '__unstableBase' )?.home,\n\t\t\t\tsiteTitle:\n\t\t\t\t\t! _site?.title && !! _site?.url\n\t\t\t\t\t\t? filterURLForDisplay( _site?.url )\n\t\t\t\t\t\t: _site?.title,\n\t\t\t\tisBlockTheme: currentTheme?.is_block_theme,\n\t\t\t\tisClassicThemeWithStyleBookSupport:\n\t\t\t\t\t! currentTheme?.is_block_theme &&\n\t\t\t\t\t( supportsEditorStyles || hasThemeJson ),\n\t\t\t};\n\t\t}, [] );\n\t\tconst { open: openCommandCenter } = useDispatch( commandsStore );\n\n\t\tlet backPath;\n\n\t\t// If the current path is not the root page, find a page to back to.\n\t\tif ( path !== '/' ) {\n\t\t\tif ( isBlockTheme || isClassicThemeWithStyleBookSupport ) {\n\t\t\t\t// If the current theme is a block theme or a classic theme that supports StyleBook,\n\t\t\t\t// back to the Design screen.\n\t\t\t\tbackPath = '/';\n\t\t\t} else if ( path !== '/pattern' ) {\n\t\t\t\t// If the current theme is a classic theme that does not support StyleBook,\n\t\t\t\t// back to the Patterns page.\n\t\t\t\tbackPath = '/pattern';\n\t\t\t}\n\t\t}\n\n\t\tconst backButtonProps = {\n\t\t\thref: !! backPath ? undefined : dashboardLink,\n\t\t\tlabel: !! backPath\n\t\t\t\t? __( 'Go to Site Editor' )\n\t\t\t\t: __( 'Go to the Dashboard' ),\n\t\t\tonClick: !! backPath\n\t\t\t\t? () => {\n\t\t\t\t\t\thistory.navigate( backPath );\n\t\t\t\t\t\tnavigate( 'back' );\n\t\t\t\t  }\n\t\t\t\t: undefined,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"edit-site-site-hub\">\n\t\t\t\t<HStack justify=\"flex-start\" spacing=\"0\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'edit-site-site-hub__view-mode-toggle-container',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'has-transparent-background': isTransparent,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\tclassName=\"edit-site-layout__view-mode-toggle\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\ttransform: 'scale(0.5)',\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t{ ...backButtonProps }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SiteIcon className=\"edit-site-layout__view-mode-toggle-icon\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<HStack>\n\t\t\t\t\t\t<div className=\"edit-site-site-hub__title\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tlabel={ __( 'View site (opens in a new tab)' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ decodeEntities( siteTitle ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t\tclassName=\"edit-site-site-hub__actions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tclassName=\"edit-site-site-hub_toggle-command-center\"\n\t\t\t\t\t\t\t\ticon={ search }\n\t\t\t\t\t\t\t\tonClick={ () => openCommandCenter() }\n\t\t\t\t\t\t\t\tlabel={ __( 'Open command palette' ) }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</HStack>\n\t\t\t\t</HStack>\n\t\t\t</div>\n\t\t);\n\t} )\n);\n", "/**\n * WordPress dependencies\n */\nimport { cloneElement, forwardRef } from '@wordpress/element';\n\n/**\n * External dependencies\n */\nimport type { ReactElement } from 'react';\nimport type { SVGProps } from '@wordpress/primitives';\n\nexport interface IconProps extends SVGProps {\n\t/**\n\t * The SVG component to render\n\t */\n\ticon: ReactElement;\n\t/**\n\t * The size of the icon in pixels\n\t *\n\t * @default 24\n\t */\n\tsize?: number;\n}\n\n/**\n * Return an SVG icon.\n *\n * @param props The component props.\n *\n * @return Icon component\n */\nexport default forwardRef< HTMLElement, IconProps >(\n\t( { icon, size = 24, ...props }: IconProps, ref ) => {\n\t\treturn cloneElement( icon, {\n\t\t\twidth: size,\n\t\t\theight: size,\n\t\t\t...props,\n\t\t\tref,\n\t\t} );\n\t}\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M11.934 7.406a1 1 0 0 0 .914.594H19a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h5.764a.5.5 0 0 1 .447.276l.723 1.63Zm1.064-1.216a.5.5 0 0 0 .462.31H19a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.764a2 2 0 0 1 1.789 1.106l.445 1.084ZM8.5 10.5h7V12h-7v-1.5Zm7 3.5h-7v1.5h7V14Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M14 6H6v8h1.5V8.5L17 18l1-1-9.5-9.5H14V6Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M12.5939 21C14.1472 21 16.1269 20.5701 17.0711 20.1975L16.6447 18.879C16.0964 19.051 14.3299 19.6242 12.6548 19.6242C7.4467 19.6242 4.67513 16.8726 4.67513 12C4.67513 7.21338 7.50762 4.34713 12.2893 4.34713C17.132 4.34713 19.4162 7.55732 19.4162 10.7675C19.4162 14.035 19.0508 15.4968 17.4975 15.4968C16.5838 15.4968 16.0964 14.7803 16.0964 13.9777V7.5H14.4822V8.30255H14.3909C14.1777 7.67198 12.9898 7.12739 11.467 7.2707C9.18274 7.5 7.4467 9.27707 7.4467 11.8567C7.4467 14.5796 8.81726 16.672 11.467 16.758C13.203 16.8153 14.1168 16.0127 14.4822 15.1815H14.5736C14.7563 16.414 16.401 16.8439 17.467 16.8439C20.6954 16.8439 21 13.5764 21 10.7962C21 6.86943 18.0761 3 12.3807 3C6.50254 3 3 6.3535 3 11.9427C3 17.7325 6.38071 21 12.5939 21ZM11.7107 15.2962C9.73096 15.2962 9.03046 13.6051 9.03046 11.7707C9.03046 10.1083 10.0355 8.67516 11.7716 8.67516C13.599 8.67516 14.5736 9.36306 14.5736 11.7707C14.5736 14.1497 13.7513 15.2962 11.7107 15.2962Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      d=\"M8.95 11.25H4v1.5h4.95v4.5H13V18c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75h-2.55v-7.5H13V9c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75H8.95v4.5ZM14.5 15v3c0 .3.2.5.5.5h3c.3 0 .5-.2.5-.5v-3c0-.3-.2-.5-.5-.5h-3c-.3 0-.5.2-.5.5Zm0-6V6c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5Z\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z\"\n\t      fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      d=\"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      d=\"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 0 4-4H8a4 4 0 0 0 4 4Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12.218 5.377a.25.25 0 0 0-.436 0l-7.29 12.96a.25.25 0 0 0 .218.373h14.58a.25.25 0 0 0 .218-.372l-7.29-12.96Zm-1.743-.735c.669-1.19 2.381-1.19 3.05 0l7.29 12.96a1.75 1.75 0 0 1-1.525 2.608H4.71a1.75 1.75 0 0 1-1.525-2.608l7.29-12.96ZM12.75 17.46h-1.5v-1.5h1.5v1.5Zm-1.5-3h1.5v-5h-1.5v5Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12.848 8a1 1 0 0 1-.914-.594l-.723-1.63a.5.5 0 0 0-.447-.276H5a.5.5 0 0 0-.5.5v11.5a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5v-9A.5.5 0 0 0 19 8h-6.152Zm.612-1.5a.5.5 0 0 1-.462-.31l-.445-1.084A2 2 0 0 0 10.763 4H5a2 2 0 0 0-2 2v11.5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-5.54Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm6.5 8c0 .6 0 1.2-.2 1.8h-2.7c0-.6.2-1.1.2-1.8s0-1.2-.2-1.8h2.7c.2.6.2 1.1.2 1.8Zm-.9-3.2h-2.4c-.3-.9-.7-1.8-1.1-2.4-.1-.2-.2-.4-.3-.5 1.6.5 3 1.6 3.8 3ZM12.8 17c-.3.5-.6 1-.8 1.3-.2-.3-.5-.8-.8-1.3-.3-.5-.6-1.1-.8-1.7h3.3c-.2.6-.5 1.2-.8 1.7Zm-2.9-3.2c-.1-.6-.2-1.1-.2-1.8s0-1.2.2-1.8H14c.1.6.2 1.1.2 1.8s0 1.2-.2 1.8H9.9ZM11.2 7c.3-.5.6-1 .8-1.3.2.3.5.8.8 1.3.3.5.6 1.1.8 1.7h-3.3c.2-.6.5-1.2.8-1.7Zm-1-1.2c-.1.2-.2.3-.3.5-.4.7-.8 1.5-1.1 2.4H6.4c.8-1.4 2.2-2.5 3.8-3Zm-1.8 8H5.7c-.2-.6-.2-1.1-.2-1.8s0-1.2.2-1.8h2.7c0 .6-.2 1.1-.2 1.8s0 1.2.2 1.8Zm-2 1.4h2.4c.3.9.7 1.8 1.1 2.4.1.2.2.4.3.5-1.6-.5-3-1.6-3.8-3Zm7.4 3c.1-.2.2-.3.3-.5.4-.7.8-1.5 1.1-2.4h2.4c-.8 1.4-2.2 2.5-3.8 3Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m7 6.5 4 2.5-4 2.5z\" />\n\t    <Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5A6.5 6.5 0 0 1 6.93 7.931l9.139 9.138A6.473 6.473 0 0 1 12 18.5Zm5.123-2.498a6.5 6.5 0 0 0-9.124-9.124l9.124 9.124ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M19 5c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2zM5 6.5c-.3 0-.5.2-.5.5v10c0 .3.2.5.5.5h14c.3 0 .5-.2.5-.5V7c0-.3-.2-.5-.5-.5zm7.01 2.75q.711 0 1.24.364.533.364.824 1.012.296.645.296 1.488 0 .887-.296 1.556-.292.664-.824 1.036-.528.368-1.24.368-.708 0-1.24-.368-.527-.372-.824-1.036-.296-.668-.296-1.556 0-.848.296-1.492.296-.648.824-1.008a2.14 2.14 0 0 1 1.24-.364m-3.484 3.6h.72v.832h-.72v1.28h-.984v-1.28H4.75l3.08-4.32h.696zm9.522 0h.72v.832h-.72v1.28h-.983v-1.28h-2.793l3.08-4.32h.696zm-6.038-2.696q-.568 0-.952.48-.384.475-.384 1.48 0 .716.176 1.168.176.45.476.66.304.212.684.212t.68-.208q.304-.207.48-.656.176-.451.176-1.176 0-.996-.384-1.476-.38-.484-.952-.484M6.33 12.85h1.212v-1.722zm9.523 0h1.211v-1.722z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z\" />\n\t    <Path d=\"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M14.5 5.5h-7V7h7V5.5ZM7.5 9h7v1.5h-7V9Zm7 3.5h-7V14h7v-1.5Z\" />\n\t    <Path d=\"M16 2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2ZM6 3.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V4a.5.5 0 0 1 .5-.5Z\" />\n\t    <Path d=\"M20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 1-4-4h4V8a4 4 0 0 1 0 8Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm11.53-1.47-1.06-1.06L11 12.94l-1.47-1.47-1.06 1.06L11 15.06l4.53-4.53Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 4V2.2L9 4.8l3 2.5V5.5c3.6 0 6.5 2.9 6.5 6.5 0 2.9-1.9 5.3-4.5 6.2v.2l-.1-.2c-.4.1-.7.2-1.1.2l.2 1.5c.3 0 .6-.1 1-.2 3.5-.9 6-4 6-7.7 0-4.4-3.6-8-8-8zm-7.9 7l1.5.2c.1-1.2.5-2.3 1.2-3.2l-1.1-.9C4.8 8.2 4.3 9.6 4.1 11zm1.5 1.8l-1.5.2c.1.7.3 1.4.5 2 .3.7.6 1.3 1 1.8l1.2-.8c-.3-.5-.6-1-.8-1.5s-.4-1.1-.4-1.7zm1.5 5.5c1.1.9 2.4 1.4 3.8 1.6l.2-1.5c-1.1-.1-2.2-.5-3.1-1.2l-.9 1.1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm9 1V8h-1.5v3.5h-2V13H13Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 0 1-6.5 6.5v-13a6.5 6.5 0 0 1 6.5 6.5Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M4.75 4a.75.75 0 0 0-.75.75v7.826c0 .2.08.39.22.53l6.72 6.716a2.313 2.313 0 0 0 3.276-.001l5.61-5.611-.531-.53.532.528a2.315 2.315 0 0 0 0-3.264L13.104 4.22a.75.75 0 0 0-.53-.22H4.75ZM19 12.576a.815.815 0 0 1-.236.574l-5.61 5.611a.814.814 0 0 1-1.153 0L5.5 12.264V5.5h6.763l6.5 6.502a.816.816 0 0 1 .237.574ZM8.75 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t<Path d=\"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z\" />\n\t</SVG>\n);\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { Icon } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { wordpress } from '@wordpress/icons';\nimport { store as coreDataStore } from '@wordpress/core-data';\n\nfunction SiteIcon( { className } ) {\n\tconst { isRequestingSite, siteIconUrl } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord } = select( coreDataStore );\n\t\tconst siteData = getEntityRecord( 'root', '__unstableBase', undefined );\n\n\t\treturn {\n\t\t\tisRequestingSite: ! siteData,\n\t\t\tsiteIconUrl: siteData?.site_icon_url,\n\t\t};\n\t}, [] );\n\n\tif ( isRequestingSite && ! siteIconUrl ) {\n\t\treturn <div className=\"edit-site-site-icon__image\" />;\n\t}\n\n\tconst icon = siteIconUrl ? (\n\t\t<img\n\t\t\tclassName=\"edit-site-site-icon__image\"\n\t\t\talt={ __( 'Site Icon' ) }\n\t\t\tsrc={ siteIconUrl }\n\t\t/>\n\t) : (\n\t\t<Icon\n\t\t\tclassName=\"edit-site-site-icon__icon\"\n\t\t\ticon={ wordpress }\n\t\t\tsize={ 48 }\n\t\t/>\n\t);\n\n\treturn (\n\t\t<div className={ clsx( className, 'edit-site-site-icon' ) }>\n\t\t\t{ icon }\n\t\t</div>\n\t);\n}\n\nexport default SiteIcon;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseContext,\n\tuseState,\n\tuseRef,\n\tuseLayoutEffect,\n} from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\n\nexport const SidebarNavigationContext = createContext( () => {} );\nSidebarNavigationContext.displayName = 'SidebarNavigationContext';\n\n// Focus a sidebar element after a navigation. The element to focus is either\n// specified by `focusSelector` (when navigating back) or it is the first\n// tabbable element (usually the \"Back\" button).\nfunction focusSidebarElement( el, direction, focusSelector ) {\n\tlet elementToFocus;\n\tif ( direction === 'back' && focusSelector ) {\n\t\telementToFocus = el.querySelector( focusSelector );\n\t}\n\tif ( direction !== null && ! elementToFocus ) {\n\t\tconst [ firstTabbable ] = focus.tabbable.find( el );\n\t\telementToFocus = firstTabbable ?? el;\n\t}\n\telementToFocus?.focus();\n}\n\n// Navigation state that is updated when navigating back or forward. Helps us\n// manage the animations and also focus.\nfunction createNavState() {\n\tlet state = {\n\t\tdirection: null,\n\t\tfocusSelector: null,\n\t};\n\n\treturn {\n\t\tget() {\n\t\t\treturn state;\n\t\t},\n\t\tnavigate( direction, focusSelector = null ) {\n\t\t\tstate = {\n\t\t\t\tdirection,\n\t\t\t\tfocusSelector:\n\t\t\t\t\tdirection === 'forward' && focusSelector\n\t\t\t\t\t\t? focusSelector\n\t\t\t\t\t\t: state.focusSelector,\n\t\t\t};\n\t\t},\n\t};\n}\n\nfunction SidebarContentWrapper( { children, shouldAnimate } ) {\n\tconst navState = useContext( SidebarNavigationContext );\n\tconst wrapperRef = useRef();\n\tconst [ navAnimation, setNavAnimation ] = useState( null );\n\n\tuseLayoutEffect( () => {\n\t\tconst { direction, focusSelector } = navState.get();\n\t\tfocusSidebarElement( wrapperRef.current, direction, focusSelector );\n\t\tsetNavAnimation( direction );\n\t}, [ navState ] );\n\n\tconst wrapperCls = clsx(\n\t\t'edit-site-sidebar__screen-wrapper',\n\t\t/*\n\t\t * Some panes do not have sub-panes and therefore\n\t\t * should not animate when clicked on.\n\t\t */\n\t\tshouldAnimate\n\t\t\t? {\n\t\t\t\t\t'slide-from-left': navAnimation === 'back',\n\t\t\t\t\t'slide-from-right': navAnimation === 'forward',\n\t\t\t  }\n\t\t\t: {}\n\t);\n\n\treturn (\n\t\t<div ref={ wrapperRef } className={ wrapperCls }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport function SidebarNavigationProvider( { children } ) {\n\tconst [ navState ] = useState( createNavState );\n\n\treturn (\n\t\t<SidebarNavigationContext.Provider value={ navState }>\n\t\t\t{ children }\n\t\t</SidebarNavigationContext.Provider>\n\t);\n}\n\nexport function SidebarContent( { routeKey, shouldAnimate, children } ) {\n\treturn (\n\t\t<div className=\"edit-site-sidebar__content\">\n\t\t\t<SidebarContentWrapper\n\t\t\t\tshouldAnimate={ shouldAnimate }\n\t\t\t\tkey={ routeKey }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</SidebarContentWrapper>\n\t\t</div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useRef } from '@wordpress/element';\nimport {\n\tResizableBox,\n\tTooltip,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\nimport { useInstanceId, useReducedMotion } from '@wordpress/compose';\nimport { __, isRTL } from '@wordpress/i18n';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { addQueryArgs } from '@wordpress/url';\n\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\n\n// Removes the inline styles in the drag handles.\nconst HANDLE_STYLES_OVERRIDE = {\n\tposition: undefined,\n\tuserSelect: undefined,\n\tcursor: undefined,\n\twidth: undefined,\n\theight: undefined,\n\ttop: undefined,\n\tright: undefined,\n\tbottom: undefined,\n\tleft: undefined,\n};\n\n// The minimum width of the frame (in px) while resizing.\nconst FRAME_MIN_WIDTH = 320;\n// The reference width of the frame (in px) used to calculate the aspect ratio.\nconst FRAME_REFERENCE_WIDTH = 1300;\n// 9 : 19.5 is the target aspect ratio enforced (when possible) while resizing.\nconst FRAME_TARGET_ASPECT_RATIO = 9 / 19.5;\n// The minimum distance (in px) between the frame resize handle and the\n// viewport's edge. If the frame is resized to be closer to the viewport's edge\n// than this distance, then \"canvas mode\" will be enabled.\nconst SNAP_TO_EDIT_CANVAS_MODE_THRESHOLD = 200;\n// Default size for the `frameSize` state.\nconst INITIAL_FRAME_SIZE = { width: '100%', height: '100%' };\n\nfunction calculateNewHeight( width, initialAspectRatio ) {\n\tconst lerp = ( a, b, amount ) => {\n\t\treturn a + ( b - a ) * amount;\n\t};\n\n\t// Calculate the intermediate aspect ratio based on the current width.\n\tconst lerpFactor =\n\t\t1 -\n\t\tMath.max(\n\t\t\t0,\n\t\t\tMath.min(\n\t\t\t\t1,\n\t\t\t\t( width - FRAME_MIN_WIDTH ) /\n\t\t\t\t\t( FRAME_REFERENCE_WIDTH - FRAME_MIN_WIDTH )\n\t\t\t)\n\t\t);\n\n\t// Calculate the height based on the intermediate aspect ratio\n\t// ensuring the frame arrives at the target aspect ratio.\n\tconst intermediateAspectRatio = lerp(\n\t\tinitialAspectRatio,\n\t\tFRAME_TARGET_ASPECT_RATIO,\n\t\tlerpFactor\n\t);\n\n\treturn width / intermediateAspectRatio;\n}\n\nfunction ResizableFrame( {\n\tisFullWidth,\n\tisOversized,\n\tsetIsOversized,\n\tisReady,\n\tchildren,\n\t/** The default (unresized) width/height of the frame, based on the space available in the viewport. */\n\tdefaultSize,\n\tinnerContentStyle,\n} ) {\n\tconst history = useHistory();\n\tconst { path, query } = useLocation();\n\tconst { canvas = 'view' } = query;\n\tconst disableMotion = useReducedMotion();\n\tconst [ frameSize, setFrameSize ] = useState( INITIAL_FRAME_SIZE );\n\t// The width of the resizable frame when a new resize gesture starts.\n\tconst [ startingWidth, setStartingWidth ] = useState();\n\tconst [ isResizing, setIsResizing ] = useState( false );\n\tconst [ shouldShowHandle, setShouldShowHandle ] = useState( false );\n\tconst [ resizeRatio, setResizeRatio ] = useState( 1 );\n\n\tconst FRAME_TRANSITION = { type: 'tween', duration: isResizing ? 0 : 0.5 };\n\tconst frameRef = useRef( null );\n\tconst resizableHandleHelpId = useInstanceId(\n\t\tResizableFrame,\n\t\t'edit-site-resizable-frame-handle-help'\n\t);\n\tconst defaultAspectRatio = defaultSize.width / defaultSize.height;\n\tconst isBlockTheme = useSelect( ( select ) => {\n\t\tconst { getCurrentTheme } = select( coreStore );\n\t\treturn getCurrentTheme()?.is_block_theme;\n\t}, [] );\n\n\tconst handleResizeStart = ( _event, _direction, ref ) => {\n\t\t// Remember the starting width so we don't have to get `ref.offsetWidth` on\n\t\t// every resize event thereafter, which will cause layout thrashing.\n\t\tsetStartingWidth( ref.offsetWidth );\n\t\tsetIsResizing( true );\n\t};\n\n\t// Calculate the frame size based on the window width as its resized.\n\tconst handleResize = ( _event, _direction, _ref, delta ) => {\n\t\tconst normalizedDelta = delta.width / resizeRatio;\n\t\tconst deltaAbs = Math.abs( normalizedDelta );\n\t\tconst maxDoubledDelta =\n\t\t\tdelta.width < 0 // is shrinking\n\t\t\t\t? deltaAbs\n\t\t\t\t: ( defaultSize.width - startingWidth ) / 2;\n\t\tconst deltaToDouble = Math.min( deltaAbs, maxDoubledDelta );\n\t\tconst doubleSegment = deltaAbs === 0 ? 0 : deltaToDouble / deltaAbs;\n\t\tconst singleSegment = 1 - doubleSegment;\n\n\t\tsetResizeRatio( singleSegment + doubleSegment * 2 );\n\n\t\tconst updatedWidth = startingWidth + delta.width;\n\n\t\tsetIsOversized( updatedWidth > defaultSize.width );\n\n\t\t// Width will be controlled by the library (via `resizeRatio`),\n\t\t// so we only need to update the height.\n\t\tsetFrameSize( {\n\t\t\theight: isOversized\n\t\t\t\t? '100%'\n\t\t\t\t: calculateNewHeight( updatedWidth, defaultAspectRatio ),\n\t\t} );\n\t};\n\n\tconst handleResizeStop = ( _event, _direction, ref ) => {\n\t\tsetIsResizing( false );\n\n\t\tif ( ! isOversized ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsOversized( false );\n\n\t\tconst remainingWidth =\n\t\t\tref.ownerDocument.documentElement.offsetWidth - ref.offsetWidth;\n\n\t\tif (\n\t\t\tremainingWidth > SNAP_TO_EDIT_CANVAS_MODE_THRESHOLD ||\n\t\t\t! isBlockTheme\n\t\t) {\n\t\t\t// Reset the initial aspect ratio if the frame is resized slightly\n\t\t\t// above the sidebar but not far enough to trigger full screen.\n\t\t\tsetFrameSize( INITIAL_FRAME_SIZE );\n\t\t} else {\n\t\t\t// Trigger full screen if the frame is resized far enough to the left.\n\t\t\thistory.navigate(\n\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\tcanvas: 'edit',\n\t\t\t\t} ),\n\t\t\t\t{\n\t\t\t\t\ttransition: 'canvas-mode-edit-transition',\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n\n\t// Handle resize by arrow keys\n\tconst handleResizableHandleKeyDown = ( event ) => {\n\t\tif ( ! [ 'ArrowLeft', 'ArrowRight' ].includes( event.key ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tconst step = 20 * ( event.shiftKey ? 5 : 1 );\n\t\tconst delta =\n\t\t\tstep *\n\t\t\t( event.key === 'ArrowLeft' ? 1 : -1 ) *\n\t\t\t( isRTL() ? -1 : 1 );\n\t\tconst newWidth = Math.min(\n\t\t\tMath.max(\n\t\t\t\tFRAME_MIN_WIDTH,\n\t\t\t\tframeRef.current.resizable.offsetWidth + delta\n\t\t\t),\n\t\t\tdefaultSize.width\n\t\t);\n\n\t\tsetFrameSize( {\n\t\t\twidth: newWidth,\n\t\t\theight: calculateNewHeight( newWidth, defaultAspectRatio ),\n\t\t} );\n\t};\n\n\tconst frameAnimationVariants = {\n\t\tdefault: {\n\t\t\tflexGrow: 0,\n\t\t\theight: frameSize.height,\n\t\t},\n\t\tfullWidth: {\n\t\t\tflexGrow: 1,\n\t\t\theight: frameSize.height,\n\t\t},\n\t};\n\n\tconst resizeHandleVariants = {\n\t\thidden: {\n\t\t\topacity: 0,\n\t\t\t...( isRTL() ? { right: 0 } : { left: 0 } ),\n\t\t},\n\t\tvisible: {\n\t\t\topacity: 1,\n\t\t\t// Account for the handle's width.\n\t\t\t...( isRTL() ? { right: -14 } : { left: -14 } ),\n\t\t},\n\t\tactive: {\n\t\t\topacity: 1,\n\t\t\t// Account for the handle's width.\n\t\t\t...( isRTL() ? { right: -14 } : { left: -14 } ),\n\t\t\tscaleY: 1.3,\n\t\t},\n\t};\n\tconst currentResizeHandleVariant = ( () => {\n\t\tif ( isResizing ) {\n\t\t\treturn 'active';\n\t\t}\n\t\treturn shouldShowHandle ? 'visible' : 'hidden';\n\t} )();\n\n\treturn (\n\t\t<ResizableBox\n\t\t\tas={ motion.div }\n\t\t\tref={ frameRef }\n\t\t\tinitial={ false }\n\t\t\tvariants={ frameAnimationVariants }\n\t\t\tanimate={ isFullWidth ? 'fullWidth' : 'default' }\n\t\t\tonAnimationComplete={ ( definition ) => {\n\t\t\t\tif ( definition === 'fullWidth' ) {\n\t\t\t\t\tsetFrameSize( { width: '100%', height: '100%' } );\n\t\t\t\t}\n\t\t\t} }\n\t\t\twhileHover={\n\t\t\t\tcanvas === 'view' && isBlockTheme\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tscale: 1.005,\n\t\t\t\t\t\t\ttransition: {\n\t\t\t\t\t\t\t\tduration: disableMotion ? 0 : 0.5,\n\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  }\n\t\t\t\t\t: {}\n\t\t\t}\n\t\t\ttransition={ FRAME_TRANSITION }\n\t\t\tsize={ frameSize }\n\t\t\tenable={ {\n\t\t\t\ttop: false,\n\t\t\t\tbottom: false,\n\t\t\t\t// Resizing will be disabled until the editor content is loaded.\n\t\t\t\t...( isRTL()\n\t\t\t\t\t? { right: isReady, left: false }\n\t\t\t\t\t: { left: isReady, right: false } ),\n\t\t\t\ttopRight: false,\n\t\t\t\tbottomRight: false,\n\t\t\t\tbottomLeft: false,\n\t\t\t\ttopLeft: false,\n\t\t\t} }\n\t\t\tresizeRatio={ resizeRatio }\n\t\t\thandleClasses={ undefined }\n\t\t\thandleStyles={ {\n\t\t\t\tleft: HANDLE_STYLES_OVERRIDE,\n\t\t\t\tright: HANDLE_STYLES_OVERRIDE,\n\t\t\t} }\n\t\t\tminWidth={ FRAME_MIN_WIDTH }\n\t\t\tmaxWidth={ isFullWidth ? '100%' : '150%' }\n\t\t\tmaxHeight=\"100%\"\n\t\t\tonFocus={ () => setShouldShowHandle( true ) }\n\t\t\tonBlur={ () => setShouldShowHandle( false ) }\n\t\t\tonMouseOver={ () => setShouldShowHandle( true ) }\n\t\t\tonMouseOut={ () => setShouldShowHandle( false ) }\n\t\t\thandleComponent={ {\n\t\t\t\t[ isRTL() ? 'right' : 'left' ]: canvas === 'view' && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Tooltip text={ __( 'Drag to resize' ) }>\n\t\t\t\t\t\t\t{ /* Disable reason: role=\"separator\" does in fact support aria-valuenow */ }\n\t\t\t\t\t\t\t{ /* eslint-disable-next-line jsx-a11y/role-supports-aria-props */ }\n\t\t\t\t\t\t\t<motion.button\n\t\t\t\t\t\t\t\tkey=\"handle\"\n\t\t\t\t\t\t\t\trole=\"separator\"\n\t\t\t\t\t\t\t\taria-orientation=\"vertical\"\n\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t'edit-site-resizable-frame__handle',\n\t\t\t\t\t\t\t\t\t{ 'is-resizing': isResizing }\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvariants={ resizeHandleVariants }\n\t\t\t\t\t\t\t\tanimate={ currentResizeHandleVariant }\n\t\t\t\t\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\t\t\t\t\taria-describedby={ resizableHandleHelpId }\n\t\t\t\t\t\t\t\taria-valuenow={\n\t\t\t\t\t\t\t\t\tframeRef.current?.resizable?.offsetWidth ||\n\t\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-valuemin={ FRAME_MIN_WIDTH }\n\t\t\t\t\t\t\t\taria-valuemax={ defaultSize.width }\n\t\t\t\t\t\t\t\tonKeyDown={ handleResizableHandleKeyDown }\n\t\t\t\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\t\t\t\twhileFocus=\"active\"\n\t\t\t\t\t\t\t\twhileHover=\"active\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<div hidden id={ resizableHandleHelpId }>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Use left and right arrow keys to resize the canvas. Hold shift to resize in larger increments.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t),\n\t\t\t} }\n\t\t\tonResizeStart={ handleResizeStart }\n\t\t\tonResize={ handleResize }\n\t\t\tonResizeStop={ handleResizeStop }\n\t\t\tclassName={ clsx( 'edit-site-resizable-frame__inner', {\n\t\t\t\t'is-resizing': isResizing,\n\t\t\t} ) }\n\t\t\tshowHandle={ false } // Do not show the default handle, as we're using a custom one.\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-resizable-frame__inner-content\"\n\t\t\t\tstyle={ innerContentStyle }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</ResizableBox>\n\t);\n}\n\nexport default ResizableFrame;\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nconst shortcutName = 'core/edit-site/save';\n\n/**\n * Register the save keyboard shortcut in view mode.\n *\n * @return {null} Returns null.\n */\nexport default function SaveKeyboardShortcut() {\n\tconst { __experimentalGetDirtyEntityRecords, isSavingEntityRecord } =\n\t\tuseSelect( coreStore );\n\tconst { hasNonPostEntityChanges, isPostSavingLocked } =\n\t\tuseSelect( editorStore );\n\tconst { savePost } = useDispatch( editorStore );\n\tconst { setIsSaveViewOpened } = useDispatch( editSiteStore );\n\tconst { registerShortcut, unregisterShortcut } = useDispatch(\n\t\tkeyboardShortcutsStore\n\t);\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: shortcutName,\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\t\treturn () => {\n\t\t\tunregisterShortcut( shortcutName );\n\t\t};\n\t}, [ registerShortcut, unregisterShortcut ] );\n\n\tuseShortcut( 'core/edit-site/save', ( event ) => {\n\t\tevent.preventDefault();\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst hasDirtyEntities = !! dirtyEntityRecords.length;\n\t\tconst isSaving = dirtyEntityRecords.some( ( record ) =>\n\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t);\n\t\tif ( ! hasDirtyEntities || isSaving ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( hasNonPostEntityChanges() ) {\n\t\t\tsetIsSaveViewOpened( true );\n\t\t} else if ( ! isPostSavingLocked() ) {\n\t\t\tsavePost();\n\t\t}\n\t} );\n\n\treturn null;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nconst MAX_LOADING_TIME = 10000; // 10 seconds\n\nexport function useIsSiteEditorLoading() {\n\tconst [ loaded, setLoaded ] = useState( false );\n\tconst inLoadingPause = useSelect(\n\t\t( select ) => {\n\t\t\tconst hasResolvingSelectors =\n\t\t\t\tselect( coreStore ).hasResolvingSelectors();\n\t\t\treturn ! loaded && ! hasResolvingSelectors;\n\t\t},\n\t\t[ loaded ]\n\t);\n\n\t/*\n\t * If the maximum expected loading time has passed, we're marking the\n\t * editor as loaded, in order to prevent any failed requests from blocking\n\t * the editor canvas from appearing.\n\t */\n\tuseEffect( () => {\n\t\tlet timeout;\n\n\t\tif ( ! loaded ) {\n\t\t\ttimeout = setTimeout( () => {\n\t\t\t\tsetLoaded( true );\n\t\t\t}, MAX_LOADING_TIME );\n\t\t}\n\n\t\treturn () => {\n\t\t\tclearTimeout( timeout );\n\t\t};\n\t}, [ loaded ] );\n\n\tuseEffect( () => {\n\t\tif ( inLoadingPause ) {\n\t\t\t/*\n\t\t\t * We're using an arbitrary 100ms timeout here to catch brief\n\t\t\t * moments without any resolving selectors that would result in\n\t\t\t * displaying brief flickers of loading state and loaded state.\n\t\t\t *\n\t\t\t * It's worth experimenting with different values, since this also\n\t\t\t * adds 100ms of artificial delay after loading has finished.\n\t\t\t */\n\t\t\tconst ARTIFICIAL_DELAY = 100;\n\t\t\tconst timeout = setTimeout( () => {\n\t\t\t\tsetLoaded( true );\n\t\t\t}, ARTIFICIAL_DELAY );\n\n\t\t\treturn () => {\n\t\t\t\tclearTimeout( timeout );\n\t\t\t};\n\t\t}\n\t}, [ inLoadingPause ] );\n\n\treturn ! loaded;\n}\n", "let updateQueue = makeQueue();\nconst raf = fn => schedule(fn, updateQueue);\nlet writeQueue = makeQueue();\n\nraf.write = fn => schedule(fn, writeQueue);\n\nlet onStartQueue = makeQueue();\n\nraf.onStart = fn => schedule(fn, onStartQueue);\n\nlet onFrameQueue = makeQueue();\n\nraf.onFrame = fn => schedule(fn, onFrameQueue);\n\nlet onFinishQueue = makeQueue();\n\nraf.onFinish = fn => schedule(fn, onFinishQueue);\n\nlet timeouts = [];\n\nraf.setTimeout = (handler, ms) => {\n  let time = raf.now() + ms;\n\n  let cancel = () => {\n    let i = timeouts.findIndex(t => t.cancel == cancel);\n    if (~i) timeouts.splice(i, 1);\n    pendingCount -= ~i ? 1 : 0;\n  };\n\n  let timeout = {\n    time,\n    handler,\n    cancel\n  };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  pendingCount += 1;\n  start();\n  return timeout;\n};\n\nlet findTimeout = time => ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length);\n\nraf.cancel = fn => {\n  onStartQueue.delete(fn);\n  onFrameQueue.delete(fn);\n  onFinishQueue.delete(fn);\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\n\nraf.sync = fn => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\n\nraf.throttle = fn => {\n  let lastArgs;\n\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n\n  function throttled(...args) {\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n\n  throttled.handler = fn;\n\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n\n  return throttled;\n};\n\nlet nativeRaf = typeof window != 'undefined' ? window.requestAnimationFrame : () => {};\n\nraf.use = impl => nativeRaf = impl;\n\nraf.now = typeof performance != 'undefined' ? () => performance.now() : Date.now;\n\nraf.batchedUpdates = fn => fn();\n\nraf.catch = console.error;\nraf.frameLoop = 'always';\n\nraf.advance = () => {\n  if (raf.frameLoop !== 'demand') {\n    console.warn('Cannot call the manual advancement of rafz whilst frameLoop is not set as demand');\n  } else {\n    update();\n  }\n};\n\nlet ts = -1;\nlet pendingCount = 0;\nlet sync = false;\n\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\n\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n\n    if (raf.frameLoop !== 'demand') {\n      nativeRaf(loop);\n    }\n  }\n}\n\nfunction stop() {\n  ts = -1;\n}\n\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\n\nfunction update() {\n  let prevTs = ts;\n  ts = raf.now();\n  let count = findTimeout(ts);\n\n  if (count) {\n    eachSafely(timeouts.splice(0, count), t => t.handler());\n    pendingCount -= count;\n  }\n\n  if (!pendingCount) {\n    stop();\n    return;\n  }\n\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\n\nfunction makeQueue() {\n  let next = new Set();\n  let current = next;\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n\n    flush(arg) {\n      if (current.size) {\n        next = new Set();\n        pendingCount -= current.size;\n        eachSafely(current, fn => fn(arg) && next.add(fn));\n        pendingCount += next.size;\n        current = next;\n      }\n    }\n\n  };\n}\n\nfunction eachSafely(values, each) {\n  values.forEach(value => {\n    try {\n      each(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\n\nconst __raf = {\n  count() {\n    return pendingCount;\n  },\n\n  isRunning() {\n    return ts >= 0;\n  },\n\n  clear() {\n    ts = -1;\n    timeouts = [];\n    onStartQueue = makeQueue();\n    updateQueue = makeQueue();\n    onFrameQueue = makeQueue();\n    writeQueue = makeQueue();\n    onFinishQueue = makeQueue();\n    pendingCount = 0;\n  }\n\n};\n\nexport { __raf, raf };\n", "import { raf } from '@react-spring/rafz';\nexport { raf } from '@react-spring/rafz';\nimport { useEffect, useLayoutEffect, useRef, useState } from 'react';\n\nfunction noop() {}\nconst defineHidden = (obj, key, value) => Object.defineProperty(obj, key, {\n  value,\n  writable: true,\n  configurable: true\n});\nconst is = {\n  arr: Array.isArray,\n  obj: a => !!a && a.constructor.name === 'Object',\n  fun: a => typeof a === 'function',\n  str: a => typeof a === 'string',\n  num: a => typeof a === 'number',\n  und: a => a === undefined\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return true;\n  }\n\n  return a === b;\n}\nconst each = (obj, fn) => obj.forEach(fn);\nfunction eachProp(obj, fn, ctx) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx, obj[i], `${i}`);\n    }\n\n    return;\n  }\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nconst toArray = a => is.und(a) ? [] : is.arr(a) ? a : [a];\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    const items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nconst flushCalls = (queue, ...args) => flush(queue, fn => fn(...args));\nconst isSSR = () => typeof window === 'undefined' || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\n\nlet createStringInterpolator$1;\nlet to;\nlet colors$1 = null;\nlet skipAnimation = false;\nlet willAdvance = noop;\nconst assign = globals => {\n  if (globals.to) to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== undefined) colors$1 = globals.colors;\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator) createStringInterpolator$1 = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\nvar globals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  get createStringInterpolator () { return createStringInterpolator$1; },\n  get to () { return to; },\n  get colors () { return colors$1; },\n  get skipAnimation () { return skipAnimation; },\n  get willAdvance () { return willAdvance; },\n  assign: assign\n});\n\nconst startQueue = new Set();\nlet currentFrame = [];\nlet prevFrame = [];\nlet priority = 0;\nconst frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n\n  start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf(advance);\n    }\n  },\n\n  advance,\n\n  sort(animation) {\n    if (priority) {\n      raf.onFrame(() => frameLoop.sort(animation));\n    } else {\n      const prevIndex = currentFrame.indexOf(animation);\n\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n\n  clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n\n};\n\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf(advance);\n}\n\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\n\nfunction startUnsafely(animation) {\n  currentFrame.splice(findIndex(currentFrame, other => other.priority > animation.priority), 0, animation);\n}\n\nfunction advance(dt) {\n  const nextFrame = prevFrame;\n\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i];\n    priority = animation.priority;\n\n    if (!animation.idle) {\n      willAdvance(animation);\n      animation.advance(dt);\n\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\n\nfunction findIndex(arr, test) {\n  const index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\nconst colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nconst PERCENTAGE = NUMBER + '%';\n\nfunction call(...parts) {\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nconst rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nconst rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nconst hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nconst hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nconst hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex6 = /^#([0-9a-fA-F]{6})$/;\nconst hex8 = /^#([0-9a-fA-F]{8})$/;\n\nfunction normalizeColor(color) {\n  let match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  }\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n\n  if (colors$1 && colors$1[color] !== undefined) {\n    return colors$1[color];\n  }\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 0x000000ff) >>> 0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + 'ff', 16) >>> 0;\n  }\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 0x000000ff) >>> 0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  let r = (int32Color & 0xff000000) >>> 24;\n  let g = (int32Color & 0x00ff0000) >>> 16;\n  let b = (int32Color & 0x0000ff00) >>> 8;\n  let a = (int32Color & 0x000000ff) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\nconst createInterpolator = (range, output, extrapolate) => {\n  if (is.fun(range)) {\n    return range;\n  }\n\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output: output,\n      extrapolate\n    });\n  }\n\n  if (is.str(range.output[0])) {\n    return createStringInterpolator$1(range);\n  }\n\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  const easing = config.easing || (t => t);\n\n  return input => {\n    const range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n};\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input;\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n\n  return i - 1;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nconst $get = Symbol.for('FluidValue.get');\nconst $observers = Symbol.for('FluidValue.observers');\n\nconst hasFluidValue = arg => Boolean(arg && arg[$get]);\n\nconst getFluidValue = arg => arg && arg[$get] ? arg[$get]() : arg;\n\nconst getFluidObservers = target => target[$observers] || null;\n\nfunction callFluidObserver(observer, event) {\n  if (observer.eventObserved) {\n    observer.eventObserved(event);\n  } else {\n    observer(event);\n  }\n}\n\nfunction callFluidObservers(target, event) {\n  let observers = target[$observers];\n\n  if (observers) {\n    observers.forEach(observer => {\n      callFluidObserver(observer, event);\n    });\n  }\n}\n\nclass FluidValue {\n  constructor(get) {\n    this[$get] = void 0;\n    this[$observers] = void 0;\n\n    if (!get && !(get = this.get)) {\n      throw Error('Unknown getter');\n    }\n\n    setFluidGetter(this, get);\n  }\n\n}\n\nconst setFluidGetter = (target, get) => setHidden(target, $get, get);\n\nfunction addFluidObserver(target, observer) {\n  if (target[$get]) {\n    let observers = target[$observers];\n\n    if (!observers) {\n      setHidden(target, $observers, observers = new Set());\n    }\n\n    if (!observers.has(observer)) {\n      observers.add(observer);\n\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer);\n      }\n    }\n  }\n\n  return observer;\n}\n\nfunction removeFluidObserver(target, observer) {\n  let observers = target[$observers];\n\n  if (observers && observers.has(observer)) {\n    const count = observers.size - 1;\n\n    if (count) {\n      observers.delete(observer);\n    } else {\n      target[$observers] = null;\n    }\n\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer);\n    }\n  }\n}\n\nconst setHidden = (target, key, value) => Object.defineProperty(target, key, {\n  value,\n  writable: true,\n  configurable: true\n});\n\nconst numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nconst colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nconst unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, 'i');\nconst rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\nconst cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\nconst variableToRgba = input => {\n  const [token, fallback] = parseCSSVariable(input);\n\n  if (!token || isSSR()) {\n    return input;\n  }\n\n  const value = window.getComputedStyle(document.documentElement).getPropertyValue(token);\n\n  if (value) {\n    return value.trim();\n  } else if (fallback && fallback.startsWith('--')) {\n    const _value = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);\n\n    if (_value) {\n      return _value;\n    } else {\n      return input;\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    return variableToRgba(fallback);\n  } else if (fallback) {\n    return fallback;\n  }\n\n  return input;\n};\n\nconst parseCSSVariable = current => {\n  const match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  const [, token, fallback] = match;\n  return [token, fallback];\n};\n\nlet namedColorRegex;\n\nconst rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;\n\nconst createStringInterpolator = config => {\n  if (!namedColorRegex) namedColorRegex = colors$1 ? new RegExp(`(${Object.keys(colors$1).join('|')})(?!\\\\w)`, 'g') : /^\\b$/;\n  const output = config.output.map(value => {\n    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);\n  });\n  const keyframes = output.map(value => value.match(numberRegex).map(Number));\n  const outputRanges = keyframes[0].map((_, i) => keyframes.map(values => {\n    if (!(i in values)) {\n      throw Error('The arity of each \"output\" value must be equal');\n    }\n\n    return values[i];\n  }));\n  const interpolators = outputRanges.map(output => createInterpolator(_extends({}, config, {\n    output\n  })));\n  return input => {\n    var _output$find;\n\n    const missingUnit = !unitRegex.test(output[0]) && ((_output$find = output.find(value => unitRegex.test(value))) == null ? void 0 : _output$find.replace(numberRegex, ''));\n    let i = 0;\n    return output[0].replace(numberRegex, () => `${interpolators[i++](input)}${missingUnit || ''}`).replace(rgbaRegex, rgbaRound);\n  };\n};\n\nconst prefix = 'react-spring: ';\n\nconst once = fn => {\n  const func = fn;\n  let called = false;\n\n  if (typeof func != 'function') {\n    throw new TypeError(`${prefix}once requires a function parameter`);\n  }\n\n  return (...args) => {\n    if (!called) {\n      func(...args);\n      called = true;\n    }\n  };\n};\n\nconst warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(`${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`);\n}\nconst warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`);\n}\n\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == '#' || /\\d/.test(value) || !isSSR() && cssVariableRegex.test(value) || value in (colors$1 || {}));\n}\n\nconst useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect;\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\nfunction useForceUpdate() {\n  const update = useState()[1];\n  const isMounted = useIsMounted();\n  return () => {\n    if (isMounted.current) {\n      update(Math.random());\n    }\n  };\n}\n\nfunction useMemoOne(getResult, inputs) {\n  const [initial] = useState(() => ({\n    inputs,\n    result: getResult()\n  }));\n  const committed = useRef();\n  const prevCache = committed.current;\n  let cache = prevCache;\n\n  if (cache) {\n    const useCache = Boolean(inputs && cache.inputs && areInputsEqual(inputs, cache.inputs));\n\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n\n  useEffect(() => {\n    committed.current = cache;\n\n    if (prevCache == initial) {\n      initial.inputs = initial.result = undefined;\n    }\n  }, [cache]);\n  return cache.result;\n}\n\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nconst useOnce = effect => useEffect(effect, emptyDeps);\nconst emptyDeps = [];\n\nfunction usePrev(value) {\n  const prevRef = useRef();\n  useEffect(() => {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\nconst useReducedMotion = () => {\n  const [reducedMotion, setReducedMotion] = useState(null);\n  useIsomorphicLayoutEffect(() => {\n    const mql = window.matchMedia('(prefers-reduced-motion)');\n\n    const handleMediaChange = e => {\n      setReducedMotion(e.matches);\n      assign({\n        skipAnimation: e.matches\n      });\n    };\n\n    handleMediaChange(mql);\n    mql.addEventListener('change', handleMediaChange);\n    return () => {\n      mql.removeEventListener('change', handleMediaChange);\n    };\n  }, []);\n  return reducedMotion;\n};\n\nexport { FluidValue, globals as Globals, addFluidObserver, callFluidObserver, callFluidObservers, colorToRgba, colors, createInterpolator, createStringInterpolator, defineHidden, deprecateDirectCall, deprecateInterpolate, each, eachProp, flush, flushCalls, frameLoop, getFluidObservers, getFluidValue, hasFluidValue, hex3, hex4, hex6, hex8, hsl, hsla, is, isAnimatedString, isEqual, isSSR, noop, removeFluidObserver, rgb, rgba, setFluidGetter, toArray, useForceUpdate, useIsomorphicLayoutEffect, useMemoOne, useOnce, usePrev, useReducedMotion };\n", "import { eachProp, is, toArray, getFluidValue, isAnimatedString, Globals, useIsomorphicLayoutEffect, each, raf, flush, FluidValue, deprecateInterpolate, callFluidObservers, frameLoop, hasFluidValue, flushCalls, isEqual, getFluidObservers, addFluidObserver, removeFluidObserver, noop, useMemoOne, deprecateDirectCall, useForceUpdate, usePrev, useOnce, createInterpolator, createStringInterpolator } from '@react-spring/shared';\nexport { Globals, createInterpolator, useIsomorphicLayoutEffect, useReducedMotion } from '@react-spring/shared';\nimport * as React from 'react';\nimport { useContext, useMemo, useRef, useState } from 'react';\nimport { getAnimated, AnimatedValue, getPayload, AnimatedString, getAnimatedType, setAnimated } from '@react-spring/animated';\nexport * from '@react-spring/types/animated';\nexport * from '@react-spring/types/interpolation';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction callProp(value, ...args) {\n  return is.fun(value) ? value(...args) : value;\n}\nconst matchProp = (value, key) => value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\nconst resolveProp = (prop, key) => is.obj(prop) ? key && prop[key] : prop;\nconst getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : undefined;\n\nconst noopTransform = value => value;\n\nconst getDefaultProps = (props, transform = noopTransform) => {\n  let keys = DEFAULT_PROPS;\n\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n\n  const defaults = {};\n\n  for (const key of keys) {\n    const value = transform(props[key], key);\n\n    if (!is.und(value)) {\n      defaults[key] = value;\n    }\n  }\n\n  return defaults;\n};\nconst DEFAULT_PROPS = ['config', 'onProps', 'onStart', 'onChange', 'onPause', 'onResume', 'onRest'];\nconst RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\n\nfunction getForwardProps(props) {\n  const forward = {};\n  let count = 0;\n  eachProp(props, (value, prop) => {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n\n  if (count) {\n    return forward;\n  }\n}\n\nfunction inferTo(props) {\n  const to = getForwardProps(props);\n\n  if (to) {\n    const out = {\n      to\n    };\n    eachProp(props, (val, key) => key in to || (out[key] = val));\n    return out;\n  }\n\n  return _extends({}, props);\n}\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? Globals.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\nfunction hasProps(props) {\n  for (const _ in props) return true;\n\n  return false;\n}\nfunction isAsyncTo(to) {\n  return is.fun(to) || is.arr(to) && is.obj(to[0]);\n}\nfunction detachRefs(ctrl, ref) {\n  var _ctrl$ref;\n\n  (_ctrl$ref = ctrl.ref) == null ? void 0 : _ctrl$ref.delete(ctrl);\n  ref == null ? void 0 : ref.delete(ctrl);\n}\nfunction replaceRef(ctrl, ref) {\n  if (ref && ctrl.ref !== ref) {\n    var _ctrl$ref2;\n\n    (_ctrl$ref2 = ctrl.ref) == null ? void 0 : _ctrl$ref2.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\nfunction useChain(refs, timeSteps, timeFrame = 1000) {\n  useIsomorphicLayoutEffect(() => {\n    if (timeSteps) {\n      let prevDelay = 0;\n      each(refs, (ref, i) => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          let delay = timeFrame * timeSteps[i];\n          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;\n          each(controllers, ctrl => {\n            each(ctrl.queue, props => {\n              const memoizedDelayProp = props.delay;\n\n              props.delay = key => delay + callProp(memoizedDelayProp || 0, key);\n            });\n          });\n          ref.start();\n        }\n      });\n    } else {\n      let p = Promise.resolve();\n      each(refs, ref => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          const queues = controllers.map(ctrl => {\n            const q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(() => {\n            each(controllers, (ctrl, i) => each(queues[i] || [], update => ctrl.queue.push(update)));\n            return Promise.all(ref.start());\n          });\n        }\n      });\n    }\n  });\n}\n\nconst config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\nconst c1 = 1.70158;\nconst c2 = c1 * 1.525;\nconst c3 = c1 + 1;\nconst c4 = 2 * Math.PI / 3;\nconst c5 = 2 * Math.PI / 4.5;\n\nconst bounceOut = x => {\n  const n1 = 7.5625;\n  const d1 = 2.75;\n\n  if (x < 1 / d1) {\n    return n1 * x * x;\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375;\n  }\n};\n\nconst easings = {\n  linear: x => x,\n  easeInQuad: x => x * x,\n  easeOutQuad: x => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: x => x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,\n  easeInCubic: x => x * x * x,\n  easeOutCubic: x => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: x => x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: x => x * x * x * x,\n  easeOutQuart: x => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: x => x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: x => x * x * x * x * x,\n  easeOutQuint: x => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: x => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: x => 1 - Math.cos(x * Math.PI / 2),\n  easeOutSine: x => Math.sin(x * Math.PI / 2),\n  easeInOutSine: x => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: x => x === 0 ? 0 : Math.pow(2, 10 * x - 10),\n  easeOutExpo: x => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),\n  easeInOutExpo: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: x => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: x => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: x => x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: x => c3 * x * x * x - c1 * x * x,\n  easeOutBack: x => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: x => x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: x => x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1,\n  easeInBounce: x => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: x => x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2\n};\n\nconst defaults = _extends({}, config.default, {\n  mass: 1,\n  damping: 1,\n  easing: easings.linear,\n  clamp: false\n});\n\nclass AnimationConfig {\n  constructor() {\n    this.tension = void 0;\n    this.friction = void 0;\n    this.frequency = void 0;\n    this.damping = void 0;\n    this.mass = void 0;\n    this.velocity = 0;\n    this.restVelocity = void 0;\n    this.precision = void 0;\n    this.progress = void 0;\n    this.duration = void 0;\n    this.easing = void 0;\n    this.clamp = void 0;\n    this.bounce = void 0;\n    this.decay = void 0;\n    this.round = void 0;\n    Object.assign(this, defaults);\n  }\n\n}\nfunction mergeConfig(config, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = _extends({}, defaultConfig);\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = _extends({}, defaultConfig, newConfig);\n  }\n\n  sanitizeConfig(config, newConfig);\n  Object.assign(config, newConfig);\n\n  for (const key in defaults) {\n    if (config[key] == null) {\n      config[key] = defaults[key];\n    }\n  }\n\n  let {\n    mass,\n    frequency,\n    damping\n  } = config;\n\n  if (!is.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n\n  return config;\n}\n\nfunction sanitizeConfig(config, props) {\n  if (!is.und(props.decay)) {\n    config.duration = undefined;\n  } else {\n    const isTensionConfig = !is.und(props.tension) || !is.und(props.friction);\n\n    if (isTensionConfig || !is.und(props.frequency) || !is.und(props.damping) || !is.und(props.mass)) {\n      config.duration = undefined;\n      config.decay = undefined;\n    }\n\n    if (isTensionConfig) {\n      config.frequency = undefined;\n    }\n  }\n}\n\nconst emptyArray = [];\nclass Animation {\n  constructor() {\n    this.changed = false;\n    this.values = emptyArray;\n    this.toValues = null;\n    this.fromValues = emptyArray;\n    this.to = void 0;\n    this.from = void 0;\n    this.config = new AnimationConfig();\n    this.immediate = false;\n  }\n\n}\n\nfunction scheduleProps(callId, {\n  key,\n  props,\n  defaultProps,\n  state,\n  actions\n}) {\n  return new Promise((resolve, reject) => {\n    var _props$cancel;\n\n    let delay;\n    let timeout;\n    let cancel = matchProp((_props$cancel = props.cancel) != null ? _props$cancel : defaultProps == null ? void 0 : defaultProps.cancel, key);\n\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n\n      let pause = defaultProps == null ? void 0 : defaultProps.pause;\n\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n\n      delay = callProp(props.delay || 0, key);\n\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n\n    function onResume() {\n      if (delay > 0 && !Globals.skipAnimation) {\n        state.delayed = true;\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n\n    function onStart() {\n      if (state.delayed) {\n        state.delayed = false;\n      }\n\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n\n      try {\n        actions.start(_extends({}, props, {\n          callId,\n          cancel\n        }), resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\nconst getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some(result => result.cancelled) ? getCancelledResult(target.get()) : results.every(result => result.noop) ? getNoopResult(target.get()) : getFinishedResult(target.get(), results.every(result => result.finished));\nconst getNoopResult = value => ({\n  value,\n  noop: true,\n  finished: true,\n  cancelled: false\n});\nconst getFinishedResult = (value, finished, cancelled = false) => ({\n  value,\n  finished,\n  cancelled\n});\nconst getCancelledResult = value => ({\n  value,\n  cancelled: true,\n  finished: false\n});\n\nfunction runAsync(to, props, state, target) {\n  const {\n    callId,\n    parentId,\n    onRest\n  } = props;\n  const {\n    asyncTo: prevTo,\n    promise: prevPromise\n  } = state;\n\n  if (!parentId && to === prevTo && !props.reset) {\n    return prevPromise;\n  }\n\n  return state.promise = (async () => {\n    state.asyncId = callId;\n    state.asyncTo = to;\n    const defaultProps = getDefaultProps(props, (value, key) => key === 'onRest' ? undefined : value);\n    let preventBail;\n    let bail;\n    const bailPromise = new Promise((resolve, reject) => (preventBail = resolve, bail = reject));\n\n    const bailIfEnded = bailSignal => {\n      const bailResult = callId <= (state.cancelId || 0) && getCancelledResult(target) || callId !== state.asyncId && getFinishedResult(target, false);\n\n      if (bailResult) {\n        bailSignal.result = bailResult;\n        bail(bailSignal);\n        throw bailSignal;\n      }\n    };\n\n    const animate = (arg1, arg2) => {\n      const bailSignal = new BailSignal();\n      const skipAnimationSignal = new SkipAniamtionSignal();\n      return (async () => {\n        if (Globals.skipAnimation) {\n          stopAsync(state);\n          skipAnimationSignal.result = getFinishedResult(target, false);\n          bail(skipAnimationSignal);\n          throw skipAnimationSignal;\n        }\n\n        bailIfEnded(bailSignal);\n        const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n          to: arg1\n        });\n        props.parentId = callId;\n        eachProp(defaultProps, (value, key) => {\n          if (is.und(props[key])) {\n            props[key] = value;\n          }\n        });\n        const result = await target.start(props);\n        bailIfEnded(bailSignal);\n\n        if (state.paused) {\n          await new Promise(resume => {\n            state.resumeQueue.add(resume);\n          });\n        }\n\n        return result;\n      })();\n    };\n\n    let result;\n\n    if (Globals.skipAnimation) {\n      stopAsync(state);\n      return getFinishedResult(target, false);\n    }\n\n    try {\n      let animating;\n\n      if (is.arr(to)) {\n        animating = (async queue => {\n          for (const props of queue) {\n            await animate(props);\n          }\n        })(to);\n      } else {\n        animating = Promise.resolve(to(animate, target.stop.bind(target)));\n      }\n\n      await Promise.all([animating.then(preventBail), bailPromise]);\n      result = getFinishedResult(target.get(), true, false);\n    } catch (err) {\n      if (err instanceof BailSignal) {\n        result = err.result;\n      } else if (err instanceof SkipAniamtionSignal) {\n        result = err.result;\n      } else {\n        throw err;\n      }\n    } finally {\n      if (callId == state.asyncId) {\n        state.asyncId = parentId;\n        state.asyncTo = parentId ? prevTo : undefined;\n        state.promise = parentId ? prevPromise : undefined;\n      }\n    }\n\n    if (is.fun(onRest)) {\n      raf.batchedUpdates(() => {\n        onRest(result, target, target.item);\n      });\n    }\n\n    return result;\n  })();\n}\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, t => t.cancel());\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = undefined;\n  if (cancelId) state.cancelId = cancelId;\n}\nclass BailSignal extends Error {\n  constructor() {\n    super('An async animation has been interrupted. You see this error because you ' + 'forgot to use `await` or `.catch(...)` on its returned promise.');\n    this.result = void 0;\n  }\n\n}\nclass SkipAniamtionSignal extends Error {\n  constructor() {\n    super('SkipAnimationSignal');\n    this.result = void 0;\n  }\n\n}\n\nconst isFrameValue = value => value instanceof FrameValue;\nlet nextId$1 = 1;\nclass FrameValue extends FluidValue {\n  constructor(...args) {\n    super(...args);\n    this.id = nextId$1++;\n    this.key = void 0;\n    this._priority = 0;\n  }\n\n  get priority() {\n    return this._priority;\n  }\n\n  set priority(priority) {\n    if (this._priority != priority) {\n      this._priority = priority;\n\n      this._onPriorityChange(priority);\n    }\n  }\n\n  get() {\n    const node = getAnimated(this);\n    return node && node.getValue();\n  }\n\n  to(...args) {\n    return Globals.to(this, args);\n  }\n\n  interpolate(...args) {\n    deprecateInterpolate();\n    return Globals.to(this, args);\n  }\n\n  toJSON() {\n    return this.get();\n  }\n\n  observerAdded(count) {\n    if (count == 1) this._attach();\n  }\n\n  observerRemoved(count) {\n    if (count == 0) this._detach();\n  }\n\n  _attach() {}\n\n  _detach() {}\n\n  _onChange(value, idle = false) {\n    callFluidObservers(this, {\n      type: 'change',\n      parent: this,\n      value,\n      idle\n    });\n  }\n\n  _onPriorityChange(priority) {\n    if (!this.idle) {\n      frameLoop.sort(this);\n    }\n\n    callFluidObservers(this, {\n      type: 'priority',\n      parent: this,\n      priority\n    });\n  }\n\n}\n\nconst $P = Symbol.for('SpringPhase');\nconst HAS_ANIMATED = 1;\nconst IS_ANIMATING = 2;\nconst IS_PAUSED = 4;\nconst hasAnimated = target => (target[$P] & HAS_ANIMATED) > 0;\nconst isAnimating = target => (target[$P] & IS_ANIMATING) > 0;\nconst isPaused = target => (target[$P] & IS_PAUSED) > 0;\nconst setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\nconst setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n\nclass SpringValue extends FrameValue {\n  constructor(arg1, arg2) {\n    super();\n    this.key = void 0;\n    this.animation = new Animation();\n    this.queue = void 0;\n    this.defaultProps = {};\n    this._state = {\n      paused: false,\n      delayed: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._pendingCalls = new Set();\n    this._lastCallId = 0;\n    this._lastToId = 0;\n    this._memoizedDuration = 0;\n\n    if (!is.und(arg1) || !is.und(arg2)) {\n      const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n        from: arg1\n      });\n\n      if (is.und(props.default)) {\n        props.default = true;\n      }\n\n      this.start(props);\n    }\n  }\n\n  get idle() {\n    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n  }\n\n  get goal() {\n    return getFluidValue(this.animation.to);\n  }\n\n  get velocity() {\n    const node = getAnimated(this);\n    return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map(node => node.lastVelocity || 0);\n  }\n\n  get hasAnimated() {\n    return hasAnimated(this);\n  }\n\n  get isAnimating() {\n    return isAnimating(this);\n  }\n\n  get isPaused() {\n    return isPaused(this);\n  }\n\n  get isDelayed() {\n    return this._state.delayed;\n  }\n\n  advance(dt) {\n    let idle = true;\n    let changed = false;\n    const anim = this.animation;\n    let {\n      config,\n      toValues\n    } = anim;\n    const payload = getPayload(anim.to);\n\n    if (!payload && hasFluidValue(anim.to)) {\n      toValues = toArray(getFluidValue(anim.to));\n    }\n\n    anim.values.forEach((node, i) => {\n      if (node.done) return;\n      const to = node.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i];\n      let finished = anim.immediate;\n      let position = to;\n\n      if (!finished) {\n        position = node.lastPosition;\n\n        if (config.tension <= 0) {\n          node.done = true;\n          return;\n        }\n\n        let elapsed = node.elapsedTime += dt;\n        const from = anim.fromValues[i];\n        const v0 = node.v0 != null ? node.v0 : node.v0 = is.arr(config.velocity) ? config.velocity[i] : config.velocity;\n        let velocity;\n        const precision = config.precision || (from == to ? 0.005 : Math.min(1, Math.abs(to - from) * 0.001));\n\n        if (!is.und(config.duration)) {\n          let p = 1;\n\n          if (config.duration > 0) {\n            if (this._memoizedDuration !== config.duration) {\n              this._memoizedDuration = config.duration;\n\n              if (node.durationProgress > 0) {\n                node.elapsedTime = config.duration * node.durationProgress;\n                elapsed = node.elapsedTime += dt;\n              }\n            }\n\n            p = (config.progress || 0) + elapsed / this._memoizedDuration;\n            p = p > 1 ? 1 : p < 0 ? 0 : p;\n            node.durationProgress = p;\n          }\n\n          position = from + config.easing(p) * (to - from);\n          velocity = (position - node.lastPosition) / dt;\n          finished = p == 1;\n        } else if (config.decay) {\n          const decay = config.decay === true ? 0.998 : config.decay;\n          const e = Math.exp(-(1 - decay) * elapsed);\n          position = from + v0 / (1 - decay) * (1 - e);\n          finished = Math.abs(node.lastPosition - position) <= precision;\n          velocity = v0 * e;\n        } else {\n          velocity = node.lastVelocity == null ? v0 : node.lastVelocity;\n          const restVelocity = config.restVelocity || precision / 10;\n          const bounceFactor = config.clamp ? 0 : config.bounce;\n          const canBounce = !is.und(bounceFactor);\n          const isGrowing = from == to ? node.v0 > 0 : from < to;\n          let isMoving;\n          let isBouncing = false;\n          const step = 1;\n          const numSteps = Math.ceil(dt / step);\n\n          for (let n = 0; n < numSteps; ++n) {\n            isMoving = Math.abs(velocity) > restVelocity;\n\n            if (!isMoving) {\n              finished = Math.abs(to - position) <= precision;\n\n              if (finished) {\n                break;\n              }\n            }\n\n            if (canBounce) {\n              isBouncing = position == to || position > to == isGrowing;\n\n              if (isBouncing) {\n                velocity = -velocity * bounceFactor;\n                position = to;\n              }\n            }\n\n            const springForce = -config.tension * 0.000001 * (position - to);\n            const dampingForce = -config.friction * 0.001 * velocity;\n            const acceleration = (springForce + dampingForce) / config.mass;\n            velocity = velocity + acceleration * step;\n            position = position + velocity * step;\n          }\n        }\n\n        node.lastVelocity = velocity;\n\n        if (Number.isNaN(position)) {\n          console.warn(`Got NaN while animating:`, this);\n          finished = true;\n        }\n      }\n\n      if (payload && !payload[i].done) {\n        finished = false;\n      }\n\n      if (finished) {\n        node.done = true;\n      } else {\n        idle = false;\n      }\n\n      if (node.setValue(position, config.round)) {\n        changed = true;\n      }\n    });\n    const node = getAnimated(this);\n    const currVal = node.getValue();\n\n    if (idle) {\n      const finalVal = getFluidValue(anim.to);\n\n      if ((currVal !== finalVal || changed) && !config.decay) {\n        node.setValue(finalVal);\n\n        this._onChange(finalVal);\n      } else if (changed && config.decay) {\n        this._onChange(currVal);\n      }\n\n      this._stop();\n    } else if (changed) {\n      this._onChange(currVal);\n    }\n  }\n\n  set(value) {\n    raf.batchedUpdates(() => {\n      this._stop();\n\n      this._focus(value);\n\n      this._set(value);\n    });\n    return this;\n  }\n\n  pause() {\n    this._update({\n      pause: true\n    });\n  }\n\n  resume() {\n    this._update({\n      pause: false\n    });\n  }\n\n  finish() {\n    if (isAnimating(this)) {\n      const {\n        to,\n        config\n      } = this.animation;\n      raf.batchedUpdates(() => {\n        this._onStart();\n\n        if (!config.decay) {\n          this._set(to, false);\n        }\n\n        this._stop();\n      });\n    }\n\n    return this;\n  }\n\n  update(props) {\n    const queue = this.queue || (this.queue = []);\n    queue.push(props);\n    return this;\n  }\n\n  start(to, arg2) {\n    let queue;\n\n    if (!is.und(to)) {\n      queue = [is.obj(to) ? to : _extends({}, arg2, {\n        to\n      })];\n    } else {\n      queue = this.queue || [];\n      this.queue = [];\n    }\n\n    return Promise.all(queue.map(props => {\n      const up = this._update(props);\n\n      return up;\n    })).then(results => getCombinedResult(this, results));\n  }\n\n  stop(cancel) {\n    const {\n      to\n    } = this.animation;\n\n    this._focus(this.get());\n\n    stopAsync(this._state, cancel && this._lastCallId);\n    raf.batchedUpdates(() => this._stop(to, cancel));\n    return this;\n  }\n\n  reset() {\n    this._update({\n      reset: true\n    });\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._start();\n    } else if (event.type == 'priority') {\n      this.priority = event.priority + 1;\n    }\n  }\n\n  _prepareNode(props) {\n    const key = this.key || '';\n    let {\n      to,\n      from\n    } = props;\n    to = is.obj(to) ? to[key] : to;\n\n    if (to == null || isAsyncTo(to)) {\n      to = undefined;\n    }\n\n    from = is.obj(from) ? from[key] : from;\n\n    if (from == null) {\n      from = undefined;\n    }\n\n    const range = {\n      to,\n      from\n    };\n\n    if (!hasAnimated(this)) {\n      if (props.reverse) [to, from] = [from, to];\n      from = getFluidValue(from);\n\n      if (!is.und(from)) {\n        this._set(from);\n      } else if (!getAnimated(this)) {\n        this._set(to);\n      }\n    }\n\n    return range;\n  }\n\n  _update(_ref, isLoop) {\n    let props = _extends({}, _ref);\n\n    const {\n      key,\n      defaultProps\n    } = this;\n    if (props.default) Object.assign(defaultProps, getDefaultProps(props, (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value));\n    mergeActiveFn(this, props, 'onProps');\n    sendEvent(this, 'onProps', props, this);\n\n    const range = this._prepareNode(props);\n\n    if (Object.isFrozen(this)) {\n      throw Error('Cannot animate a `SpringValue` object that is frozen. ' + 'Did you forget to pass your component to `animated(...)` before animating its props?');\n    }\n\n    const state = this._state;\n    return scheduleProps(++this._lastCallId, {\n      key,\n      props,\n      defaultProps,\n      state,\n      actions: {\n        pause: () => {\n          if (!isPaused(this)) {\n            setPausedBit(this, true);\n            flushCalls(state.pauseQueue);\n            sendEvent(this, 'onPause', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        resume: () => {\n          if (isPaused(this)) {\n            setPausedBit(this, false);\n\n            if (isAnimating(this)) {\n              this._resume();\n            }\n\n            flushCalls(state.resumeQueue);\n            sendEvent(this, 'onResume', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        start: this._merge.bind(this, range)\n      }\n    }).then(result => {\n      if (props.loop && result.finished && !(isLoop && result.noop)) {\n        const nextProps = createLoopUpdate(props);\n\n        if (nextProps) {\n          return this._update(nextProps, true);\n        }\n      }\n\n      return result;\n    });\n  }\n\n  _merge(range, props, resolve) {\n    if (props.cancel) {\n      this.stop(true);\n      return resolve(getCancelledResult(this));\n    }\n\n    const hasToProp = !is.und(range.to);\n    const hasFromProp = !is.und(range.from);\n\n    if (hasToProp || hasFromProp) {\n      if (props.callId > this._lastToId) {\n        this._lastToId = props.callId;\n      } else {\n        return resolve(getCancelledResult(this));\n      }\n    }\n\n    const {\n      key,\n      defaultProps,\n      animation: anim\n    } = this;\n    const {\n      to: prevTo,\n      from: prevFrom\n    } = anim;\n    let {\n      to = prevTo,\n      from = prevFrom\n    } = range;\n\n    if (hasFromProp && !hasToProp && (!props.default || is.und(to))) {\n      to = from;\n    }\n\n    if (props.reverse) [to, from] = [from, to];\n    const hasFromChanged = !isEqual(from, prevFrom);\n\n    if (hasFromChanged) {\n      anim.from = from;\n    }\n\n    from = getFluidValue(from);\n    const hasToChanged = !isEqual(to, prevTo);\n\n    if (hasToChanged) {\n      this._focus(to);\n    }\n\n    const hasAsyncTo = isAsyncTo(props.to);\n    const {\n      config\n    } = anim;\n    const {\n      decay,\n      velocity\n    } = config;\n\n    if (hasToProp || hasFromProp) {\n      config.velocity = 0;\n    }\n\n    if (props.config && !hasAsyncTo) {\n      mergeConfig(config, callProp(props.config, key), props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);\n    }\n\n    let node = getAnimated(this);\n\n    if (!node || is.und(to)) {\n      return resolve(getFinishedResult(this, true));\n    }\n\n    const reset = is.und(props.reset) ? hasFromProp && !props.default : !is.und(from) && matchProp(props.reset, key);\n    const value = reset ? from : this.get();\n    const goal = computeGoal(to);\n    const isAnimatable = is.num(goal) || is.arr(goal) || isAnimatedString(goal);\n    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n\n    if (hasToChanged) {\n      const nodeType = getAnimatedType(to);\n\n      if (nodeType !== node.constructor) {\n        if (immediate) {\n          node = this._set(goal);\n        } else throw Error(`Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the \"to\" prop suggests`);\n      }\n    }\n\n    const goalType = node.constructor;\n    let started = hasFluidValue(to);\n    let finished = false;\n\n    if (!started) {\n      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n\n      if (hasToChanged || hasValueChanged) {\n        finished = isEqual(computeGoal(value), goal);\n        started = !finished;\n      }\n\n      if (!isEqual(anim.immediate, immediate) && !immediate || !isEqual(config.decay, decay) || !isEqual(config.velocity, velocity)) {\n        started = true;\n      }\n    }\n\n    if (finished && isAnimating(this)) {\n      if (anim.changed && !reset) {\n        started = true;\n      } else if (!started) {\n        this._stop(prevTo);\n      }\n    }\n\n    if (!hasAsyncTo) {\n      if (started || hasFluidValue(prevTo)) {\n        anim.values = node.getPayload();\n        anim.toValues = hasFluidValue(to) ? null : goalType == AnimatedString ? [1] : toArray(goal);\n      }\n\n      if (anim.immediate != immediate) {\n        anim.immediate = immediate;\n\n        if (!immediate && !reset) {\n          this._set(prevTo);\n        }\n      }\n\n      if (started) {\n        const {\n          onRest\n        } = anim;\n        each(ACTIVE_EVENTS, type => mergeActiveFn(this, props, type));\n        const result = getFinishedResult(this, checkFinished(this, prevTo));\n        flushCalls(this._pendingCalls, result);\n\n        this._pendingCalls.add(resolve);\n\n        if (anim.changed) raf.batchedUpdates(() => {\n          anim.changed = !reset;\n          onRest == null ? void 0 : onRest(result, this);\n\n          if (reset) {\n            callProp(defaultProps.onRest, result);\n          } else {\n            anim.onStart == null ? void 0 : anim.onStart(result, this);\n          }\n        });\n      }\n    }\n\n    if (reset) {\n      this._set(value);\n    }\n\n    if (hasAsyncTo) {\n      resolve(runAsync(props.to, props, this._state, this));\n    } else if (started) {\n      this._start();\n    } else if (isAnimating(this) && !hasToChanged) {\n      this._pendingCalls.add(resolve);\n    } else {\n      resolve(getNoopResult(value));\n    }\n  }\n\n  _focus(value) {\n    const anim = this.animation;\n\n    if (value !== anim.to) {\n      if (getFluidObservers(this)) {\n        this._detach();\n      }\n\n      anim.to = value;\n\n      if (getFluidObservers(this)) {\n        this._attach();\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 0;\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      addFluidObserver(to, this);\n\n      if (isFrameValue(to)) {\n        priority = to.priority + 1;\n      }\n    }\n\n    this.priority = priority;\n  }\n\n  _detach() {\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      removeFluidObserver(to, this);\n    }\n  }\n\n  _set(arg, idle = true) {\n    const value = getFluidValue(arg);\n\n    if (!is.und(value)) {\n      const oldNode = getAnimated(this);\n\n      if (!oldNode || !isEqual(value, oldNode.getValue())) {\n        const nodeType = getAnimatedType(value);\n\n        if (!oldNode || oldNode.constructor != nodeType) {\n          setAnimated(this, nodeType.create(value));\n        } else {\n          oldNode.setValue(value);\n        }\n\n        if (oldNode) {\n          raf.batchedUpdates(() => {\n            this._onChange(value, idle);\n          });\n        }\n      }\n    }\n\n    return getAnimated(this);\n  }\n\n  _onStart() {\n    const anim = this.animation;\n\n    if (!anim.changed) {\n      anim.changed = true;\n      sendEvent(this, 'onStart', getFinishedResult(this, checkFinished(this, anim.to)), this);\n    }\n  }\n\n  _onChange(value, idle) {\n    if (!idle) {\n      this._onStart();\n\n      callProp(this.animation.onChange, value, this);\n    }\n\n    callProp(this.defaultProps.onChange, value, this);\n\n    super._onChange(value, idle);\n  }\n\n  _start() {\n    const anim = this.animation;\n    getAnimated(this).reset(getFluidValue(anim.to));\n\n    if (!anim.immediate) {\n      anim.fromValues = anim.values.map(node => node.lastPosition);\n    }\n\n    if (!isAnimating(this)) {\n      setActiveBit(this, true);\n\n      if (!isPaused(this)) {\n        this._resume();\n      }\n    }\n  }\n\n  _resume() {\n    if (Globals.skipAnimation) {\n      this.finish();\n    } else {\n      frameLoop.start(this);\n    }\n  }\n\n  _stop(goal, cancel) {\n    if (isAnimating(this)) {\n      setActiveBit(this, false);\n      const anim = this.animation;\n      each(anim.values, node => {\n        node.done = true;\n      });\n\n      if (anim.toValues) {\n        anim.onChange = anim.onPause = anim.onResume = undefined;\n      }\n\n      callFluidObservers(this, {\n        type: 'idle',\n        parent: this\n      });\n      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal != null ? goal : anim.to));\n      flushCalls(this._pendingCalls, result);\n\n      if (anim.changed) {\n        anim.changed = false;\n        sendEvent(this, 'onRest', result, this);\n      }\n    }\n  }\n\n}\n\nfunction checkFinished(target, to) {\n  const goal = computeGoal(to);\n  const value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\n\nfunction createLoopUpdate(props, loop = props.loop, to = props.to) {\n  let loopRet = callProp(loop);\n\n  if (loopRet) {\n    const overrides = loopRet !== true && inferTo(loopRet);\n    const reverse = (overrides || props).reverse;\n    const reset = !overrides || overrides.reset;\n    return createUpdate(_extends({}, props, {\n      loop,\n      default: false,\n      pause: undefined,\n      to: !reverse || isAsyncTo(to) ? to : undefined,\n      from: reset ? props.from : undefined,\n      reset\n    }, overrides));\n  }\n}\nfunction createUpdate(props) {\n  const {\n    to,\n    from\n  } = props = inferTo(props);\n  const keys = new Set();\n  if (is.obj(to)) findDefined(to, keys);\n  if (is.obj(from)) findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\nfunction declareUpdate(props) {\n  const update = createUpdate(props);\n\n  if (is.und(update.default)) {\n    update.default = getDefaultProps(update);\n  }\n\n  return update;\n}\n\nfunction findDefined(values, keys) {\n  eachProp(values, (value, key) => value != null && keys.add(key));\n}\n\nconst ACTIVE_EVENTS = ['onStart', 'onRest', 'onChange', 'onPause', 'onResume'];\n\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : undefined;\n}\n\nfunction sendEvent(target, type, ...args) {\n  var _target$animation$typ, _target$animation, _target$defaultProps$, _target$defaultProps;\n\n  (_target$animation$typ = (_target$animation = target.animation)[type]) == null ? void 0 : _target$animation$typ.call(_target$animation, ...args);\n  (_target$defaultProps$ = (_target$defaultProps = target.defaultProps)[type]) == null ? void 0 : _target$defaultProps$.call(_target$defaultProps, ...args);\n}\n\nconst BATCHED_EVENTS = ['onStart', 'onChange', 'onRest'];\nlet nextId = 1;\nclass Controller {\n  constructor(props, flush) {\n    this.id = nextId++;\n    this.springs = {};\n    this.queue = [];\n    this.ref = void 0;\n    this._flush = void 0;\n    this._initialProps = void 0;\n    this._lastAsyncId = 0;\n    this._active = new Set();\n    this._changed = new Set();\n    this._started = false;\n    this._item = void 0;\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._events = {\n      onStart: new Map(),\n      onChange: new Map(),\n      onRest: new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n\n    if (flush) {\n      this._flush = flush;\n    }\n\n    if (props) {\n      this.start(_extends({\n        default: true\n      }, props));\n    }\n  }\n\n  get idle() {\n    return !this._state.asyncTo && Object.values(this.springs).every(spring => {\n      return spring.idle && !spring.isDelayed && !spring.isPaused;\n    });\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  set item(item) {\n    this._item = item;\n  }\n\n  get() {\n    const values = {};\n    this.each((spring, key) => values[key] = spring.get());\n    return values;\n  }\n\n  set(values) {\n    for (const key in values) {\n      const value = values[key];\n\n      if (!is.und(value)) {\n        this.springs[key].set(value);\n      }\n    }\n  }\n\n  update(props) {\n    if (props) {\n      this.queue.push(createUpdate(props));\n    }\n\n    return this;\n  }\n\n  start(props) {\n    let {\n      queue\n    } = this;\n\n    if (props) {\n      queue = toArray(props).map(createUpdate);\n    } else {\n      this.queue = [];\n    }\n\n    if (this._flush) {\n      return this._flush(this, queue);\n    }\n\n    prepareKeys(this, queue);\n    return flushUpdateQueue(this, queue);\n  }\n\n  stop(arg, keys) {\n    if (arg !== !!arg) {\n      keys = arg;\n    }\n\n    if (keys) {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].stop(!!arg));\n    } else {\n      stopAsync(this._state, this._lastAsyncId);\n      this.each(spring => spring.stop(!!arg));\n    }\n\n    return this;\n  }\n\n  pause(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: true\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].pause());\n    }\n\n    return this;\n  }\n\n  resume(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: false\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].resume());\n    }\n\n    return this;\n  }\n\n  each(iterator) {\n    eachProp(this.springs, iterator);\n  }\n\n  _onFrame() {\n    const {\n      onStart,\n      onChange,\n      onRest\n    } = this._events;\n    const active = this._active.size > 0;\n    const changed = this._changed.size > 0;\n\n    if (active && !this._started || changed && !this._started) {\n      this._started = true;\n      flush(onStart, ([onStart, result]) => {\n        result.value = this.get();\n        onStart(result, this, this._item);\n      });\n    }\n\n    const idle = !active && this._started;\n    const values = changed || idle && onRest.size ? this.get() : null;\n\n    if (changed && onChange.size) {\n      flush(onChange, ([onChange, result]) => {\n        result.value = values;\n        onChange(result, this, this._item);\n      });\n    }\n\n    if (idle) {\n      this._started = false;\n      flush(onRest, ([onRest, result]) => {\n        result.value = values;\n        onRest(result, this, this._item);\n      });\n    }\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._changed.add(event.parent);\n\n      if (!event.idle) {\n        this._active.add(event.parent);\n      }\n    } else if (event.type == 'idle') {\n      this._active.delete(event.parent);\n    } else return;\n\n    raf.onFrame(this._onFrame);\n  }\n\n}\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map(props => flushUpdate(ctrl, props))).then(results => getCombinedResult(ctrl, results));\n}\nasync function flushUpdate(ctrl, props, isLoop) {\n  const {\n    keys,\n    to,\n    from,\n    loop,\n    onRest,\n    onResolve\n  } = props;\n  const defaults = is.obj(props.default) && props.default;\n\n  if (loop) {\n    props.loop = false;\n  }\n\n  if (to === false) props.to = null;\n  if (from === false) props.from = null;\n  const asyncTo = is.arr(to) || is.fun(to) ? to : undefined;\n\n  if (asyncTo) {\n    props.to = undefined;\n    props.onRest = undefined;\n\n    if (defaults) {\n      defaults.onRest = undefined;\n    }\n  } else {\n    each(BATCHED_EVENTS, key => {\n      const handler = props[key];\n\n      if (is.fun(handler)) {\n        const queue = ctrl['_events'][key];\n\n        props[key] = ({\n          finished,\n          cancelled\n        }) => {\n          const result = queue.get(handler);\n\n          if (result) {\n            if (!finished) result.finished = false;\n            if (cancelled) result.cancelled = true;\n          } else {\n            queue.set(handler, {\n              value: null,\n              finished: finished || false,\n              cancelled: cancelled || false\n            });\n          }\n        };\n\n        if (defaults) {\n          defaults[key] = props[key];\n        }\n      }\n    });\n  }\n\n  const state = ctrl['_state'];\n\n  if (props.pause === !state.paused) {\n    state.paused = props.pause;\n    flushCalls(props.pause ? state.pauseQueue : state.resumeQueue);\n  } else if (state.paused) {\n    props.pause = true;\n  }\n\n  const promises = (keys || Object.keys(ctrl.springs)).map(key => ctrl.springs[key].start(props));\n  const cancel = props.cancel === true || getDefaultProp(props, 'cancel') === true;\n\n  if (asyncTo || cancel && state.asyncId) {\n    promises.push(scheduleProps(++ctrl['_lastAsyncId'], {\n      props,\n      state,\n      actions: {\n        pause: noop,\n        resume: noop,\n\n        start(props, resolve) {\n          if (cancel) {\n            stopAsync(state, ctrl['_lastAsyncId']);\n            resolve(getCancelledResult(ctrl));\n          } else {\n            props.onRest = onRest;\n            resolve(runAsync(asyncTo, props, state, ctrl));\n          }\n        }\n\n      }\n    }));\n  }\n\n  if (state.paused) {\n    await new Promise(resume => {\n      state.resumeQueue.add(resume);\n    });\n  }\n\n  const result = getCombinedResult(ctrl, await Promise.all(promises));\n\n  if (loop && result.finished && !(isLoop && result.noop)) {\n    const nextProps = createLoopUpdate(props, loop, to);\n\n    if (nextProps) {\n      prepareKeys(ctrl, [nextProps]);\n      return flushUpdate(ctrl, nextProps, true);\n    }\n  }\n\n  if (onResolve) {\n    raf.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));\n  }\n\n  return result;\n}\nfunction getSprings(ctrl, props) {\n  const springs = _extends({}, ctrl.springs);\n\n  if (props) {\n    each(toArray(props), props => {\n      if (is.und(props.keys)) {\n        props = createUpdate(props);\n      }\n\n      if (!is.obj(props.to)) {\n        props = _extends({}, props, {\n          to: undefined\n        });\n      }\n\n      prepareSprings(springs, props, key => {\n        return createSpring(key);\n      });\n    });\n  }\n\n  setSprings(ctrl, springs);\n  return springs;\n}\nfunction setSprings(ctrl, springs) {\n  eachProp(springs, (spring, key) => {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver(spring, ctrl);\n    }\n  });\n}\n\nfunction createSpring(key, observer) {\n  const spring = new SpringValue();\n  spring.key = key;\n\n  if (observer) {\n    addFluidObserver(spring, observer);\n  }\n\n  return spring;\n}\n\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each(props.keys, key => {\n      const spring = springs[key] || (springs[key] = create(key));\n      spring['_prepareNode'](props);\n    });\n  }\n}\n\nfunction prepareKeys(ctrl, queue) {\n  each(queue, props => {\n    prepareSprings(ctrl.springs, props, key => {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded$3 = [\"children\"];\nconst SpringContext = _ref => {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$3);\n\n  const inherited = useContext(ctx);\n  const pause = props.pause || !!inherited.pause,\n        immediate = props.immediate || !!inherited.immediate;\n  props = useMemoOne(() => ({\n    pause,\n    immediate\n  }), [pause, immediate]);\n  const {\n    Provider\n  } = ctx;\n  return React.createElement(Provider, {\n    value: props\n  }, children);\n};\nconst ctx = makeContext(SpringContext, {});\nSpringContext.Provider = ctx.Provider;\nSpringContext.Consumer = ctx.Consumer;\n\nfunction makeContext(target, init) {\n  Object.assign(target, React.createContext(init));\n  target.Provider._context = target;\n  target.Consumer._context = target;\n  return target;\n}\n\nconst SpringRef = () => {\n  const current = [];\n\n  const SpringRef = function SpringRef(props) {\n    deprecateDirectCall();\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = _getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.current = current;\n\n  SpringRef.add = function (ctrl) {\n    if (!current.includes(ctrl)) {\n      current.push(ctrl);\n    }\n  };\n\n  SpringRef.delete = function (ctrl) {\n    const i = current.indexOf(ctrl);\n    if (~i) current.splice(i, 1);\n  };\n\n  SpringRef.pause = function () {\n    each(current, ctrl => ctrl.pause(...arguments));\n    return this;\n  };\n\n  SpringRef.resume = function () {\n    each(current, ctrl => ctrl.resume(...arguments));\n    return this;\n  };\n\n  SpringRef.set = function (values) {\n    each(current, ctrl => ctrl.set(values));\n  };\n\n  SpringRef.start = function (props) {\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = this._getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.stop = function () {\n    each(current, ctrl => ctrl.stop(...arguments));\n    return this;\n  };\n\n  SpringRef.update = function (props) {\n    each(current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));\n    return this;\n  };\n\n  const _getProps = function _getProps(arg, ctrl, index) {\n    return is.fun(arg) ? arg(index, ctrl) : arg;\n  };\n\n  SpringRef._getProps = _getProps;\n  return SpringRef;\n};\n\nfunction useSprings(length, props, deps) {\n  const propsFn = is.fun(props) && props;\n  if (propsFn && !deps) deps = [];\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const layoutId = useRef(0);\n  const forceUpdate = useForceUpdate();\n  const state = useMemo(() => ({\n    ctrls: [],\n    queue: [],\n\n    flush(ctrl, updates) {\n      const springs = getSprings(ctrl, updates);\n      const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs).some(key => !ctrl.springs[key]);\n      return canFlushSync ? flushUpdateQueue(ctrl, updates) : new Promise(resolve => {\n        setSprings(ctrl, springs);\n        state.queue.push(() => {\n          resolve(flushUpdateQueue(ctrl, updates));\n        });\n        forceUpdate();\n      });\n    }\n\n  }), []);\n  const ctrls = useRef([...state.ctrls]);\n  const updates = [];\n  const prevLength = usePrev(length) || 0;\n  useMemo(() => {\n    each(ctrls.current.slice(length, prevLength), ctrl => {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    ctrls.current.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo(() => {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n\n  function declareUpdates(startIndex, endIndex) {\n    for (let i = startIndex; i < endIndex; i++) {\n      const ctrl = ctrls.current[i] || (ctrls.current[i] = new Controller(null, state.flush));\n      const update = propsFn ? propsFn(i, ctrl) : props[i];\n\n      if (update) {\n        updates[i] = declareUpdate(update);\n      }\n    }\n  }\n\n  const springs = ctrls.current.map((ctrl, i) => getSprings(ctrl, updates[i]));\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect(() => {\n    layoutId.current++;\n    state.ctrls = ctrls.current;\n    const {\n      queue\n    } = state;\n\n    if (queue.length) {\n      state.queue = [];\n      each(queue, cb => cb());\n    }\n\n    each(ctrls.current, (ctrl, i) => {\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      const update = updates[i];\n\n      if (update) {\n        replaceRef(ctrl, update.ref);\n\n        if (ctrl.ref) {\n          ctrl.queue.push(update);\n        } else {\n          ctrl.start(update);\n        }\n      }\n    });\n  });\n  useOnce(() => () => {\n    each(state.ctrls, ctrl => ctrl.stop(true));\n  });\n  const values = springs.map(x => _extends({}, x));\n  return ref ? [values, ref] : values;\n}\n\nfunction useSpring(props, deps) {\n  const isFn = is.fun(props);\n  const [[values], ref] = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps);\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\nconst initSpringRef = () => SpringRef();\n\nconst useSpringRef = () => useState(initSpringRef)[0];\n\nfunction useTrail(length, propsArg, deps) {\n  var _passedRef;\n\n  const propsFn = is.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  let reverse = true;\n  let passedRef = undefined;\n  const result = useSprings(length, (i, ctrl) => {\n    const props = propsFn ? propsFn(i, ctrl) : propsArg;\n    passedRef = props.ref;\n    reverse = reverse && props.reverse;\n    return props;\n  }, deps || [{}]);\n  const ref = (_passedRef = passedRef) != null ? _passedRef : result[1];\n  useIsomorphicLayoutEffect(() => {\n    each(ref.current, (ctrl, i) => {\n      const parent = ref.current[i + (reverse ? 1 : -1)];\n\n      if (parent) {\n        ctrl.start({\n          to: parent.springs\n        });\n      } else {\n        ctrl.start();\n      }\n    });\n  }, deps);\n\n  if (propsFn || arguments.length == 3) {\n    ref['_getProps'] = (propsArg, ctrl, i) => {\n      const props = is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;\n\n      if (props) {\n        const parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      }\n    };\n\n    return result;\n  }\n\n  ref['start'] = propsArg => {\n    const results = [];\n    each(ref.current, (ctrl, i) => {\n      const props = is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;\n      const parent = ref.current[i + (reverse ? 1 : -1)];\n\n      if (parent) {\n        results.push(ctrl.start(_extends({}, props, {\n          to: parent.springs\n        })));\n      } else {\n        results.push(ctrl.start(_extends({}, props)));\n      }\n    });\n    return results;\n  };\n\n  return result[0];\n}\n\nlet TransitionPhase;\n\n(function (TransitionPhase) {\n  TransitionPhase[\"MOUNT\"] = \"mount\";\n  TransitionPhase[\"ENTER\"] = \"enter\";\n  TransitionPhase[\"UPDATE\"] = \"update\";\n  TransitionPhase[\"LEAVE\"] = \"leave\";\n})(TransitionPhase || (TransitionPhase = {}));\n\nfunction useTransition(data, props, deps) {\n  const propsFn = is.fun(props) && props;\n  const {\n    reset,\n    sort,\n    trail = 0,\n    expires = true,\n    exitBeforeEnter = false,\n    onDestroyed,\n    ref: propsRef,\n    config: propsConfig\n  } = propsFn ? propsFn() : props;\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const items = toArray(data);\n  const transitions = [];\n  const usedTransitions = useRef(null);\n  const prevTransitions = reset ? null : usedTransitions.current;\n  useIsomorphicLayoutEffect(() => {\n    usedTransitions.current = transitions;\n  });\n  useOnce(() => {\n    each(transitions, t => {\n      ref == null ? void 0 : ref.add(t.ctrl);\n      t.ctrl.ref = ref;\n    });\n    return () => {\n      each(usedTransitions.current, t => {\n        if (t.expired) {\n          clearTimeout(t.expirationId);\n        }\n\n        detachRefs(t.ctrl, ref);\n        t.ctrl.stop(true);\n      });\n    };\n  });\n  const keys = getKeys(items, propsFn ? propsFn() : props, prevTransitions);\n  const expired = reset && usedTransitions.current || [];\n  useIsomorphicLayoutEffect(() => each(expired, ({\n    ctrl,\n    item,\n    key\n  }) => {\n    detachRefs(ctrl, ref);\n    callProp(onDestroyed, item, key);\n  }));\n  const reused = [];\n  if (prevTransitions) each(prevTransitions, (t, i) => {\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n      expired.push(t);\n    } else {\n      i = reused[i] = keys.indexOf(t.key);\n      if (~i) transitions[i] = t;\n    }\n  });\n  each(items, (item, i) => {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item,\n        phase: TransitionPhase.MOUNT,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n\n  if (reused.length) {\n    let i = -1;\n    const {\n      leave\n    } = propsFn ? propsFn() : props;\n    each(reused, (keyIndex, prevIndex) => {\n      const t = prevTransitions[prevIndex];\n\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = _extends({}, t, {\n          item: items[keyIndex]\n        });\n      } else if (leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n\n  if (is.fun(sort)) {\n    transitions.sort((a, b) => sort(a.item, b.item));\n  }\n\n  let delay = -trail;\n  const forceUpdate = useForceUpdate();\n  const defaultProps = getDefaultProps(props);\n  const changes = new Map();\n  const exitingTransitions = useRef(new Map());\n  const forceChange = useRef(false);\n  each(transitions, (t, i) => {\n    const key = t.key;\n    const prevPhase = t.phase;\n    const p = propsFn ? propsFn() : props;\n    let to;\n    let phase;\n    let propsDelay = callProp(p.delay || 0, key);\n\n    if (prevPhase == TransitionPhase.MOUNT) {\n      to = p.enter;\n      phase = TransitionPhase.ENTER;\n    } else {\n      const isLeave = keys.indexOf(key) < 0;\n\n      if (prevPhase != TransitionPhase.LEAVE) {\n        if (isLeave) {\n          to = p.leave;\n          phase = TransitionPhase.LEAVE;\n        } else if (to = p.update) {\n          phase = TransitionPhase.UPDATE;\n        } else return;\n      } else if (!isLeave) {\n        to = p.enter;\n        phase = TransitionPhase.ENTER;\n      } else return;\n    }\n\n    to = callProp(to, t.item, i);\n    to = is.obj(to) ? inferTo(to) : {\n      to\n    };\n\n    if (!to.config) {\n      const config = propsConfig || defaultProps.config;\n      to.config = callProp(config, t.item, i, phase);\n    }\n\n    delay += trail;\n\n    const payload = _extends({}, defaultProps, {\n      delay: propsDelay + delay,\n      ref: propsRef,\n      immediate: p.immediate,\n      reset: false\n    }, to);\n\n    if (phase == TransitionPhase.ENTER && is.und(payload.from)) {\n      const _p = propsFn ? propsFn() : props;\n\n      const from = is.und(_p.initial) || prevTransitions ? _p.from : _p.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n\n    const {\n      onResolve\n    } = payload;\n\n    payload.onResolve = result => {\n      callProp(onResolve, result);\n      const transitions = usedTransitions.current;\n      const t = transitions.find(t => t.key === key);\n      if (!t) return;\n\n      if (result.cancelled && t.phase != TransitionPhase.UPDATE) {\n        return;\n      }\n\n      if (t.ctrl.idle) {\n        const idle = transitions.every(t => t.ctrl.idle);\n\n        if (t.phase == TransitionPhase.LEAVE) {\n          const expiry = callProp(expires, t.item);\n\n          if (expiry !== false) {\n            const expiryMs = expiry === true ? 0 : expiry;\n            t.expired = true;\n\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 0x7fffffff) t.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n\n        if (idle && transitions.some(t => t.expired)) {\n          exitingTransitions.current.delete(t);\n\n          if (exitBeforeEnter) {\n            forceChange.current = true;\n          }\n\n          forceUpdate();\n        }\n      }\n    };\n\n    const springs = getSprings(t.ctrl, payload);\n\n    if (phase === TransitionPhase.LEAVE && exitBeforeEnter) {\n      exitingTransitions.current.set(t, {\n        phase,\n        springs,\n        payload\n      });\n    } else {\n      changes.set(t, {\n        phase,\n        springs,\n        payload\n      });\n    }\n  });\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect(() => {\n    if (hasContext) {\n      each(transitions, t => {\n        t.ctrl.start({\n          default: context\n        });\n      });\n    }\n  }, [context]);\n  each(changes, (_, t) => {\n    if (exitingTransitions.current.size) {\n      const ind = transitions.findIndex(state => state.key === t.key);\n      transitions.splice(ind, 1);\n    }\n  });\n  useIsomorphicLayoutEffect(() => {\n    each(exitingTransitions.current.size ? exitingTransitions.current : changes, ({\n      phase,\n      payload\n    }, t) => {\n      const {\n        ctrl\n      } = t;\n      t.phase = phase;\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext && phase == TransitionPhase.ENTER) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      if (payload) {\n        replaceRef(ctrl, payload.ref);\n\n        if ((ctrl.ref || ref) && !forceChange.current) {\n          ctrl.update(payload);\n        } else {\n          ctrl.start(payload);\n\n          if (forceChange.current) {\n            forceChange.current = false;\n          }\n        }\n      }\n    });\n  }, reset ? void 0 : deps);\n\n  const renderTransitions = render => React.createElement(React.Fragment, null, transitions.map((t, i) => {\n    const {\n      springs\n    } = changes.get(t) || t.ctrl;\n    const elem = render(_extends({}, springs), t.item, t, i);\n    return elem && elem.type ? React.createElement(elem.type, _extends({}, elem.props, {\n      key: is.str(t.key) || is.num(t.key) ? t.key : t.ctrl.id,\n      ref: elem.ref\n    })) : elem;\n  }));\n\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\nlet nextKey = 1;\n\nfunction getKeys(items, {\n  key,\n  keys = key\n}, prevTransitions) {\n  if (keys === null) {\n    const reused = new Set();\n    return items.map(item => {\n      const t = prevTransitions && prevTransitions.find(t => t.item === item && t.phase !== TransitionPhase.LEAVE && !reused.has(t));\n\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n\n      return nextKey++;\n    });\n  }\n\n  return is.und(keys) ? items : is.fun(keys) ? items.map(keys) : toArray(keys);\n}\n\nconst _excluded$2 = [\"children\"];\nfunction Spring(_ref) {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  return children(useSpring(props));\n}\n\nconst _excluded$1 = [\"items\", \"children\"];\nfunction Trail(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  const trails = useTrail(items.length, props);\n  return items.map((item, index) => {\n    const result = children(item, index);\n    return is.fun(result) ? result(trails[index]) : result;\n  });\n}\n\nconst _excluded = [\"items\", \"children\"];\nfunction Transition(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return useTransition(items, props)(children);\n}\n\nclass Interpolation extends FrameValue {\n  constructor(source, args) {\n    super();\n    this.key = void 0;\n    this.idle = true;\n    this.calc = void 0;\n    this._active = new Set();\n    this.source = source;\n    this.calc = createInterpolator(...args);\n\n    const value = this._get();\n\n    const nodeType = getAnimatedType(value);\n    setAnimated(this, nodeType.create(value));\n  }\n\n  advance(_dt) {\n    const value = this._get();\n\n    const oldValue = this.get();\n\n    if (!isEqual(value, oldValue)) {\n      getAnimated(this).setValue(value);\n\n      this._onChange(value, this.idle);\n    }\n\n    if (!this.idle && checkIdle(this._active)) {\n      becomeIdle(this);\n    }\n  }\n\n  _get() {\n    const inputs = is.arr(this.source) ? this.source.map(getFluidValue) : toArray(getFluidValue(this.source));\n    return this.calc(...inputs);\n  }\n\n  _start() {\n    if (this.idle && !checkIdle(this._active)) {\n      this.idle = false;\n      each(getPayload(this), node => {\n        node.done = false;\n      });\n\n      if (Globals.skipAnimation) {\n        raf.batchedUpdates(() => this.advance());\n        becomeIdle(this);\n      } else {\n        frameLoop.start(this);\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 1;\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        addFluidObserver(source, this);\n      }\n\n      if (isFrameValue(source)) {\n        if (!source.idle) {\n          this._active.add(source);\n        }\n\n        priority = Math.max(priority, source.priority + 1);\n      }\n    });\n    this.priority = priority;\n\n    this._start();\n  }\n\n  _detach() {\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        removeFluidObserver(source, this);\n      }\n    });\n\n    this._active.clear();\n\n    becomeIdle(this);\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      if (event.idle) {\n        this.advance();\n      } else {\n        this._active.add(event.parent);\n\n        this._start();\n      }\n    } else if (event.type == 'idle') {\n      this._active.delete(event.parent);\n    } else if (event.type == 'priority') {\n      this.priority = toArray(this.source).reduce((highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1), 0);\n    }\n  }\n\n}\n\nfunction isIdle(source) {\n  return source.idle !== false;\n}\n\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\n\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each(getPayload(self), node => {\n      node.done = true;\n    });\n    callFluidObservers(self, {\n      type: 'idle',\n      parent: self\n    });\n  }\n}\n\nconst to = (source, ...args) => new Interpolation(source, args);\nconst interpolate = (source, ...args) => (deprecateInterpolate(), new Interpolation(source, args));\n\nGlobals.assign({\n  createStringInterpolator,\n  to: (source, args) => new Interpolation(source, args)\n});\nconst update = frameLoop.advance;\n\nexport { BailSignal, Controller, FrameValue, Interpolation, Spring, SpringContext, SpringRef, SpringValue, Trail, Transition, config, easings, inferTo, interpolate, to, update, useChain, useSpring, useSpringRef, useSprings, useTrail, useTransition };\n", "import { defineHidden, is, createInterpolator, eachProp, hasFluidValue, getFluidValue, each, isAnimatedString, useForceUpdate, useIsomorphicLayoutEffect, addFluidObserver, removeFluidObserver, raf, useOnce } from '@react-spring/shared';\nimport * as React from 'react';\nimport { forwardRef, useRef, useCallback, useEffect } from 'react';\n\nconst $node = Symbol.for('Animated:node');\nconst isAnimated = value => !!value && value[$node] === value;\nconst getAnimated = owner => owner && owner[$node];\nconst setAnimated = (owner, node) => defineHidden(owner, $node, node);\nconst getPayload = owner => owner && owner[$node] && owner[$node].getPayload();\nclass Animated {\n  constructor() {\n    this.payload = void 0;\n    setAnimated(this, this);\n  }\n\n  getPayload() {\n    return this.payload || [];\n  }\n\n}\n\nclass AnimatedValue extends Animated {\n  constructor(_value) {\n    super();\n    this.done = true;\n    this.elapsedTime = void 0;\n    this.lastPosition = void 0;\n    this.lastVelocity = void 0;\n    this.v0 = void 0;\n    this.durationProgress = 0;\n    this._value = _value;\n\n    if (is.num(this._value)) {\n      this.lastPosition = this._value;\n    }\n  }\n\n  static create(value) {\n    return new AnimatedValue(value);\n  }\n\n  getPayload() {\n    return [this];\n  }\n\n  getValue() {\n    return this._value;\n  }\n\n  setValue(value, step) {\n    if (is.num(value)) {\n      this.lastPosition = value;\n\n      if (step) {\n        value = Math.round(value / step) * step;\n\n        if (this.done) {\n          this.lastPosition = value;\n        }\n      }\n    }\n\n    if (this._value === value) {\n      return false;\n    }\n\n    this._value = value;\n    return true;\n  }\n\n  reset() {\n    const {\n      done\n    } = this;\n    this.done = false;\n\n    if (is.num(this._value)) {\n      this.elapsedTime = 0;\n      this.durationProgress = 0;\n      this.lastPosition = this._value;\n      if (done) this.lastVelocity = null;\n      this.v0 = null;\n    }\n  }\n\n}\n\nclass AnimatedString extends AnimatedValue {\n  constructor(value) {\n    super(0);\n    this._string = null;\n    this._toString = void 0;\n    this._toString = createInterpolator({\n      output: [value, value]\n    });\n  }\n\n  static create(value) {\n    return new AnimatedString(value);\n  }\n\n  getValue() {\n    let value = this._string;\n    return value == null ? this._string = this._toString(this._value) : value;\n  }\n\n  setValue(value) {\n    if (is.str(value)) {\n      if (value == this._string) {\n        return false;\n      }\n\n      this._string = value;\n      this._value = 1;\n    } else if (super.setValue(value)) {\n      this._string = null;\n    } else {\n      return false;\n    }\n\n    return true;\n  }\n\n  reset(goal) {\n    if (goal) {\n      this._toString = createInterpolator({\n        output: [this.getValue(), goal]\n      });\n    }\n\n    this._value = 0;\n    super.reset();\n  }\n\n}\n\nconst TreeContext = {\n  dependencies: null\n};\n\nclass AnimatedObject extends Animated {\n  constructor(source) {\n    super();\n    this.source = source;\n    this.setValue(source);\n  }\n\n  getValue(animated) {\n    const values = {};\n    eachProp(this.source, (source, key) => {\n      if (isAnimated(source)) {\n        values[key] = source.getValue(animated);\n      } else if (hasFluidValue(source)) {\n        values[key] = getFluidValue(source);\n      } else if (!animated) {\n        values[key] = source;\n      }\n    });\n    return values;\n  }\n\n  setValue(source) {\n    this.source = source;\n    this.payload = this._makePayload(source);\n  }\n\n  reset() {\n    if (this.payload) {\n      each(this.payload, node => node.reset());\n    }\n  }\n\n  _makePayload(source) {\n    if (source) {\n      const payload = new Set();\n      eachProp(source, this._addToPayload, payload);\n      return Array.from(payload);\n    }\n  }\n\n  _addToPayload(source) {\n    if (TreeContext.dependencies && hasFluidValue(source)) {\n      TreeContext.dependencies.add(source);\n    }\n\n    const payload = getPayload(source);\n\n    if (payload) {\n      each(payload, node => this.add(node));\n    }\n  }\n\n}\n\nclass AnimatedArray extends AnimatedObject {\n  constructor(source) {\n    super(source);\n  }\n\n  static create(source) {\n    return new AnimatedArray(source);\n  }\n\n  getValue() {\n    return this.source.map(node => node.getValue());\n  }\n\n  setValue(source) {\n    const payload = this.getPayload();\n\n    if (source.length == payload.length) {\n      return payload.map((node, i) => node.setValue(source[i])).some(Boolean);\n    }\n\n    super.setValue(source.map(makeAnimated));\n    return true;\n  }\n\n}\n\nfunction makeAnimated(value) {\n  const nodeType = isAnimatedString(value) ? AnimatedString : AnimatedValue;\n  return nodeType.create(value);\n}\n\nfunction getAnimatedType(value) {\n  const parentNode = getAnimated(value);\n  return parentNode ? parentNode.constructor : is.arr(value) ? AnimatedArray : isAnimatedString(value) ? AnimatedString : AnimatedValue;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nconst withAnimated = (Component, host) => {\n  const hasInstance = !is.fun(Component) || Component.prototype && Component.prototype.isReactComponent;\n  return forwardRef((givenProps, givenRef) => {\n    const instanceRef = useRef(null);\n    const ref = hasInstance && useCallback(value => {\n      instanceRef.current = updateRef(givenRef, value);\n    }, [givenRef]);\n    const [props, deps] = getAnimatedState(givenProps, host);\n    const forceUpdate = useForceUpdate();\n\n    const callback = () => {\n      const instance = instanceRef.current;\n\n      if (hasInstance && !instance) {\n        return;\n      }\n\n      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;\n\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    };\n\n    const observer = new PropsObserver(callback, deps);\n    const observerRef = useRef();\n    useIsomorphicLayoutEffect(() => {\n      observerRef.current = observer;\n      each(deps, dep => addFluidObserver(dep, observer));\n      return () => {\n        if (observerRef.current) {\n          each(observerRef.current.deps, dep => removeFluidObserver(dep, observerRef.current));\n          raf.cancel(observerRef.current.update);\n        }\n      };\n    });\n    useEffect(callback, []);\n    useOnce(() => () => {\n      const observer = observerRef.current;\n      each(observer.deps, dep => removeFluidObserver(dep, observer));\n    });\n    const usedProps = host.getComponentProps(props.getValue());\n    return React.createElement(Component, _extends({}, usedProps, {\n      ref: ref\n    }));\n  });\n};\n\nclass PropsObserver {\n  constructor(update, deps) {\n    this.update = update;\n    this.deps = deps;\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      raf.write(this.update);\n    }\n  }\n\n}\n\nfunction getAnimatedState(props, host) {\n  const dependencies = new Set();\n  TreeContext.dependencies = dependencies;\n  if (props.style) props = _extends({}, props, {\n    style: host.createAnimatedStyle(props.style)\n  });\n  props = new AnimatedObject(props);\n  TreeContext.dependencies = null;\n  return [props, dependencies];\n}\n\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is.fun(ref)) ref(value);else ref.current = value;\n  }\n\n  return value;\n}\n\nconst cacheKey = Symbol.for('AnimatedComponent');\nconst createHost = (components, {\n  applyAnimatedValues: _applyAnimatedValues = () => false,\n  createAnimatedStyle: _createAnimatedStyle = style => new AnimatedObject(style),\n  getComponentProps: _getComponentProps = props => props\n} = {}) => {\n  const hostConfig = {\n    applyAnimatedValues: _applyAnimatedValues,\n    createAnimatedStyle: _createAnimatedStyle,\n    getComponentProps: _getComponentProps\n  };\n\n  const animated = Component => {\n    const displayName = getDisplayName(Component) || 'Anonymous';\n\n    if (is.str(Component)) {\n      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n\n    Component.displayName = `Animated(${displayName})`;\n    return Component;\n  };\n\n  eachProp(components, (Component, key) => {\n    if (is.arr(components)) {\n      key = getDisplayName(Component);\n    }\n\n    animated[key] = animated(Component);\n  });\n  return {\n    animated\n  };\n};\n\nconst getDisplayName = arg => is.str(arg) ? arg : arg && is.str(arg.displayName) ? arg.displayName : is.fun(arg) && arg.name || null;\n\nexport { Animated, AnimatedArray, AnimatedObject, AnimatedString, AnimatedValue, createHost, getAnimated, getAnimatedType, getPayload, isAnimated, setAnimated };\n", "import { Globals } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { eachProp, is, toArray, FluidValue, each, getFluidValue, hasFluidValue, addFluidObserver, removeFluidObserver, callFluidObservers, createStringInterpolator, colors } from '@react-spring/shared';\nimport { AnimatedObject, createHost } from '@react-spring/animated';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded$2 = [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"];\nconst isCustomPropRE = /^--/;\n\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (typeof value === 'number' && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px';\n  return ('' + value).trim();\n}\n\nconst attributeCache = {};\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n\n  const isFilterElement = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n\n  const _ref = props,\n        {\n    style,\n    children,\n    scrollTop,\n    scrollLeft\n  } = _ref,\n        attributes = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  const values = Object.values(attributes);\n  const names = Object.keys(attributes).map(name => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, n => '-' + n.toLowerCase())));\n\n  if (children !== void 0) {\n    instance.textContent = children;\n  }\n\n  for (let name in style) {\n    if (style.hasOwnProperty(name)) {\n      const value = dangerousStyleValue(name, style[name]);\n\n      if (isCustomPropRE.test(name)) {\n        instance.style.setProperty(name, value);\n      } else {\n        instance.style[name] = value;\n      }\n    }\n  }\n\n  names.forEach((name, i) => {\n    instance.setAttribute(name, values[i]);\n  });\n\n  if (scrollTop !== void 0) {\n    instance.scrollTop = scrollTop;\n  }\n\n  if (scrollLeft !== void 0) {\n    instance.scrollLeft = scrollLeft;\n  }\n}\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n\nconst _excluded$1 = [\"x\", \"y\", \"z\"];\nconst domTransforms = /^(matrix|translate|scale|rotate|skew)/;\nconst pxTransforms = /^(translate)/;\nconst degTransforms = /^(rotate|skew)/;\n\nconst addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\n\nconst isValueIdentity = (value, id) => is.arr(value) ? value.every(v => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\n\nclass AnimatedStyle extends AnimatedObject {\n  constructor(_ref) {\n    let {\n      x,\n      y,\n      z\n    } = _ref,\n        style = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n    const inputs = [];\n    const transforms = [];\n\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push(xyz => [`translate3d(${xyz.map(v => addUnit(v, 'px')).join(',')})`, isValueIdentity(xyz, 0)]);\n    }\n\n    eachProp(style, (value, key) => {\n      if (key === 'transform') {\n        inputs.push([value || '']);\n        transforms.push(transform => [transform, transform === '']);\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        const unit = pxTransforms.test(key) ? 'px' : degTransforms.test(key) ? 'deg' : '';\n        inputs.push(toArray(value));\n        transforms.push(key === 'rotate3d' ? ([x, y, z, deg]) => [`rotate3d(${x},${y},${z},${addUnit(deg, unit)})`, isValueIdentity(deg, 0)] : input => [`${key}(${input.map(v => addUnit(v, unit)).join(',')})`, isValueIdentity(input, key.startsWith('scale') ? 1 : 0)]);\n      }\n    });\n\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n\n    super(style);\n  }\n\n}\n\nclass FluidTransform extends FluidValue {\n  constructor(inputs, transforms) {\n    super();\n    this._value = null;\n    this.inputs = inputs;\n    this.transforms = transforms;\n  }\n\n  get() {\n    return this._value || (this._value = this._get());\n  }\n\n  _get() {\n    let transform = '';\n    let identity = true;\n    each(this.inputs, (input, i) => {\n      const arg1 = getFluidValue(input[0]);\n      const [t, id] = this.transforms[i](is.arr(arg1) ? arg1 : input.map(getFluidValue));\n      transform += ' ' + t;\n      identity = identity && id;\n    });\n    return identity ? 'none' : transform;\n  }\n\n  observerAdded(count) {\n    if (count == 1) each(this.inputs, input => each(input, value => hasFluidValue(value) && addFluidObserver(value, this)));\n  }\n\n  observerRemoved(count) {\n    if (count == 0) each(this.inputs, input => each(input, value => hasFluidValue(value) && removeFluidObserver(value, this)));\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._value = null;\n    }\n\n    callFluidObservers(this, event);\n  }\n\n}\n\nconst primitives = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', 'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\nconst _excluded = [\"scrollTop\", \"scrollLeft\"];\nGlobals.assign({\n  batchedUpdates: unstable_batchedUpdates,\n  createStringInterpolator,\n  colors\n});\nconst host = createHost(primitives, {\n  applyAnimatedValues,\n  createAnimatedStyle: style => new AnimatedStyle(style),\n  getComponentProps: _ref => {\n    let props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n    return props;\n  }\n});\nconst animated = host.animated;\n\nexport { animated as a, animated };\n", "/**\n * External dependencies\n */\nimport { Controller, easings } from '@react-spring/web';\n\n/**\n * WordPress dependencies\n */\nimport { useLayoutEffect, useMemo, useRef } from '@wordpress/element';\n\nfunction getAbsolutePosition( element ) {\n\treturn {\n\t\ttop: element.offsetTop,\n\t\tleft: element.offsetLeft,\n\t};\n}\n\nconst ANIMATION_DURATION = 400;\n\n/**\n * Hook used to compute the styles required to move a div into a new position.\n *\n * The way this animation works is the following:\n *  - It first renders the element as if there was no animation.\n *  - It takes a snapshot of the position of the block to use it\n *    as a destination point for the animation.\n *  - It restores the element to the previous position using a CSS transform\n *  - It uses the \"resetAnimation\" flag to reset the animation\n *    from the beginning in order to animate to the new destination point.\n *\n * @param {Object} $1                          Options\n * @param {*}      $1.triggerAnimationOnChange Variable used to trigger the animation if it changes.\n */\nfunction useMovingAnimation( { triggerAnimationOnChange } ) {\n\tconst ref = useRef();\n\n\t// Whenever the trigger changes, we need to take a snapshot of the current\n\t// position of the block to use it as a destination point for the animation.\n\tconst { previous, prevRect } = useMemo(\n\t\t() => ( {\n\t\t\tprevious: ref.current && getAbsolutePosition( ref.current ),\n\t\t\tprevRect: ref.current && ref.current.getBoundingClientRect(),\n\t\t} ),\n\t\t[ triggerAnimationOnChange ]\n\t);\n\n\tuseLayoutEffect( () => {\n\t\tif ( ! previous || ! ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// We disable the animation if the user has a preference for reduced\n\t\t// motion.\n\t\tconst disableAnimation = window.matchMedia(\n\t\t\t'(prefers-reduced-motion: reduce)'\n\t\t).matches;\n\n\t\tif ( disableAnimation ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = new Controller( {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\twidth: prevRect.width,\n\t\t\theight: prevRect.height,\n\t\t\tconfig: {\n\t\t\t\tduration: ANIMATION_DURATION,\n\t\t\t\teasing: easings.easeInOutQuint,\n\t\t\t},\n\t\t\tonChange( { value } ) {\n\t\t\t\tif ( ! ref.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet { x, y, width, height } = value;\n\t\t\t\tx = Math.round( x );\n\t\t\t\ty = Math.round( y );\n\t\t\t\twidth = Math.round( width );\n\t\t\t\theight = Math.round( height );\n\t\t\t\tconst finishedMoving = x === 0 && y === 0;\n\t\t\t\tref.current.style.transformOrigin = 'center center';\n\t\t\t\tref.current.style.transform = finishedMoving\n\t\t\t\t\t? null // Set to `null` to explicitly remove the transform.\n\t\t\t\t\t: `translate3d(${ x }px,${ y }px,0)`;\n\t\t\t\tref.current.style.width = finishedMoving\n\t\t\t\t\t? null\n\t\t\t\t\t: `${ width }px`;\n\t\t\t\tref.current.style.height = finishedMoving\n\t\t\t\t\t? null\n\t\t\t\t\t: `${ height }px`;\n\t\t\t},\n\t\t} );\n\n\t\tref.current.style.transform = undefined;\n\t\tconst destination = ref.current.getBoundingClientRect();\n\n\t\tconst x = Math.round( prevRect.left - destination.left );\n\t\tconst y = Math.round( prevRect.top - destination.top );\n\t\tconst width = destination.width;\n\t\tconst height = destination.height;\n\n\t\tcontroller.start( {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tfrom: { x, y, width: prevRect.width, height: prevRect.height },\n\t\t} );\n\n\t\treturn () => {\n\t\t\tcontroller.stop();\n\t\t\tcontroller.set( {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: prevRect.width,\n\t\t\t\theight: prevRect.height,\n\t\t\t} );\n\t\t};\n\t}, [ previous, prevRect ] );\n\n\treturn ref;\n}\n\nexport default useMovingAnimation;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport SaveButton from '../save-button';\nimport { isPreviewingTheme } from '../../utils/is-previewing-theme';\n\nexport default function SaveHub() {\n\tconst { isDisabled, isSaving } = useSelect( ( select ) => {\n\t\tconst { __experimentalGetDirtyEntityRecords, isSavingEntityRecord } =\n\t\t\tselect( coreStore );\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst _isSaving = dirtyEntityRecords.some( ( record ) =>\n\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t);\n\t\treturn {\n\t\t\tisSaving: _isSaving,\n\t\t\tisDisabled:\n\t\t\t\t_isSaving ||\n\t\t\t\t( ! dirtyEntityRecords.length && ! isPreviewingTheme() ),\n\t\t};\n\t}, [] );\n\treturn (\n\t\t<HStack className=\"edit-site-save-hub\" alignment=\"right\" spacing={ 4 }>\n\t\t\t<SaveButton\n\t\t\t\tclassName=\"edit-site-save-hub__button\"\n\t\t\t\tvariant={ isDisabled ? null : 'primary' }\n\t\t\t\tshowTooltip={ false }\n\t\t\t\ticon={ isDisabled && ! isSaving ? check : null }\n\t\t\t\tshowReviewMessage\n\t\t\t\t__next40pxDefaultSize\n\t\t\t/>\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport {\n\tuseEntitiesSavedStatesIsDirty,\n\tstore as editorStore,\n} from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport {\n\tcurrentlyPreviewingTheme,\n\tisPreviewingTheme,\n} from '../../utils/is-previewing-theme';\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nexport default function SaveButton( {\n\tclassName = 'edit-site-save-button__button',\n\tvariant = 'primary',\n\tshowTooltip = true,\n\tshowReviewMessage,\n\ticon,\n\tsize,\n\t__next40pxDefaultSize = false,\n} ) {\n\tconst { params } = useLocation();\n\tconst { setIsSaveViewOpened } = useDispatch( editSiteStore );\n\tconst { saveDirtyEntities } = unlock( useDispatch( editorStore ) );\n\tconst { dirtyEntityRecords } = useEntitiesSavedStatesIsDirty();\n\tconst { isSaving, isSaveViewOpen, previewingThemeName } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isSavingEntityRecord, isResolving } = select( coreStore );\n\t\t\tconst { isSaveViewOpened } = select( editSiteStore );\n\t\t\tconst isActivatingTheme = isResolving( 'activateTheme' );\n\t\t\tconst currentlyPreviewingThemeId = currentlyPreviewingTheme();\n\t\t\treturn {\n\t\t\t\tisSaving:\n\t\t\t\t\tdirtyEntityRecords.some( ( record ) =>\n\t\t\t\t\t\tisSavingEntityRecord(\n\t\t\t\t\t\t\trecord.kind,\n\t\t\t\t\t\t\trecord.name,\n\t\t\t\t\t\t\trecord.key\n\t\t\t\t\t\t)\n\t\t\t\t\t) || isActivatingTheme,\n\t\t\t\tisSaveViewOpen: isSaveViewOpened(),\n\t\t\t\t// Do not call `getTheme` with null, it will cause a request to\n\t\t\t\t// the server.\n\t\t\t\tpreviewingThemeName: currentlyPreviewingThemeId\n\t\t\t\t\t? select( coreStore ).getTheme( currentlyPreviewingThemeId )\n\t\t\t\t\t\t\t?.name?.rendered\n\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t},\n\t\t[ dirtyEntityRecords ]\n\t);\n\tconst hasDirtyEntities = !! dirtyEntityRecords.length;\n\tlet isOnlyCurrentEntityDirty;\n\t// Check if the current entity is the only entity with changes.\n\t// We have some extra logic for `wp_global_styles` for now, that\n\t// is used in navigation sidebar.\n\tif ( dirtyEntityRecords.length === 1 ) {\n\t\tif ( params.postId ) {\n\t\t\tisOnlyCurrentEntityDirty =\n\t\t\t\t`${ dirtyEntityRecords[ 0 ].key }` === params.postId &&\n\t\t\t\tdirtyEntityRecords[ 0 ].name === params.postType;\n\t\t} else if ( params.path?.includes( 'wp_global_styles' ) ) {\n\t\t\tisOnlyCurrentEntityDirty =\n\t\t\t\tdirtyEntityRecords[ 0 ].name === 'globalStyles';\n\t\t}\n\t}\n\tconst disabled =\n\t\tisSaving || ( ! hasDirtyEntities && ! isPreviewingTheme() );\n\tconst getLabel = () => {\n\t\tif ( isPreviewingTheme() ) {\n\t\t\tif ( isSaving ) {\n\t\t\t\treturn sprintf(\n\t\t\t\t\t/* translators: %s: The name of theme to be activated. */\n\t\t\t\t\t__( 'Activating %s' ),\n\t\t\t\t\tpreviewingThemeName\n\t\t\t\t);\n\t\t\t} else if ( disabled ) {\n\t\t\t\treturn __( 'Saved' );\n\t\t\t} else if ( hasDirtyEntities ) {\n\t\t\t\treturn sprintf(\n\t\t\t\t\t/* translators: %s: The name of theme to be activated. */\n\t\t\t\t\t__( 'Activate %s & Save' ),\n\t\t\t\t\tpreviewingThemeName\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: %s: The name of theme to be activated. */\n\t\t\t\t__( 'Activate %s' ),\n\t\t\t\tpreviewingThemeName\n\t\t\t);\n\t\t}\n\t\tif ( isSaving ) {\n\t\t\treturn __( 'Saving' );\n\t\t}\n\t\tif ( disabled ) {\n\t\t\treturn __( 'Saved' );\n\t\t}\n\t\tif ( ! isOnlyCurrentEntityDirty && showReviewMessage ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: %d: number of unsaved changes (number).\n\t\t\t\t_n(\n\t\t\t\t\t'Review %d change\u2026',\n\t\t\t\t\t'Review %d changes\u2026',\n\t\t\t\t\tdirtyEntityRecords.length\n\t\t\t\t),\n\t\t\t\tdirtyEntityRecords.length\n\t\t\t);\n\t\t}\n\t\treturn __( 'Save' );\n\t};\n\tconst label = getLabel();\n\tconst onClick = isOnlyCurrentEntityDirty\n\t\t? () => saveDirtyEntities( { dirtyEntityRecords } )\n\t\t: () => setIsSaveViewOpened( true );\n\treturn (\n\t\t<Button\n\t\t\tvariant={ variant }\n\t\t\tclassName={ className }\n\t\t\taria-disabled={ disabled }\n\t\t\taria-expanded={ isSaveViewOpen }\n\t\t\tisBusy={ isSaving }\n\t\t\tonClick={ disabled ? undefined : onClick }\n\t\t\tlabel={ label }\n\t\t\t/*\n\t\t\t * We want the tooltip to show the keyboard shortcut only when the\n\t\t\t * button does something, i.e. when it's not disabled.\n\t\t\t */\n\t\t\tshortcut={ disabled ? undefined : displayShortcut.primary( 's' ) }\n\t\t\t/*\n\t\t\t * Displaying the keyboard shortcut conditionally makes the tooltip\n\t\t\t * itself show conditionally. This would trigger a full-rerendering\n\t\t\t * of the button that we want to avoid. By setting `showTooltip`,\n\t\t\t * the tooltip is always rendered even when there's no keyboard shortcut.\n\t\t\t */\n\t\t\tshowTooltip={ showTooltip }\n\t\t\ticon={ icon }\n\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\n\t\t\tsize={ size }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { getQueryArg } from '@wordpress/url';\n\nexport function isPreviewingTheme() {\n\treturn !! getQueryArg( window.location.href, 'wp_theme_preview' );\n}\n\nexport function currentlyPreviewingTheme() {\n\tif ( isPreviewingTheme() ) {\n\t\treturn getQueryArg( window.location.href, 'wp_theme_preview' );\n\t}\n\treturn null;\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { NavigableRegion } from '@wordpress/admin-ui';\nimport { Button, Modal } from '@wordpress/components';\nimport {\n\tEntitiesSavedStates,\n\tuseEntitiesSavedStatesIsDirty,\n\tprivateApis,\n} from '@wordpress/editor';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { useActivateTheme } from '../../utils/use-activate-theme';\nimport { useActualCurrentTheme } from '../../utils/use-actual-current-theme';\nimport { isPreviewingTheme } from '../../utils/is-previewing-theme';\n\nconst { EntitiesSavedStatesExtensible } = unlock( privateApis );\nconst { useLocation } = unlock( routerPrivateApis );\n\nconst EntitiesSavedStatesForPreview = ( {\n\tonClose,\n\trenderDialog,\n\tvariant,\n} ) => {\n\tconst isDirtyProps = useEntitiesSavedStatesIsDirty();\n\tlet activateSaveLabel;\n\tif ( isDirtyProps.isDirty ) {\n\t\tactivateSaveLabel = __( 'Activate & Save' );\n\t} else {\n\t\tactivateSaveLabel = __( 'Activate' );\n\t}\n\n\tconst currentTheme = useActualCurrentTheme();\n\n\tconst previewingTheme = useSelect(\n\t\t( select ) => select( coreStore ).getCurrentTheme(),\n\t\t[]\n\t);\n\n\tconst additionalPrompt = (\n\t\t<p>\n\t\t\t{ sprintf(\n\t\t\t\t/* translators: 1: The name of active theme, 2: The name of theme to be activated. */\n\t\t\t\t__(\n\t\t\t\t\t'Saving your changes will change your active theme from %1$s to %2$s.'\n\t\t\t\t),\n\t\t\t\tcurrentTheme?.name?.rendered ?? '...',\n\t\t\t\tpreviewingTheme?.name?.rendered ?? '...'\n\t\t\t) }\n\t\t</p>\n\t);\n\n\tconst activateTheme = useActivateTheme();\n\tconst onSave = async ( values ) => {\n\t\tawait activateTheme();\n\t\treturn values;\n\t};\n\n\treturn (\n\t\t<EntitiesSavedStatesExtensible\n\t\t\t{ ...{\n\t\t\t\t...isDirtyProps,\n\t\t\t\tadditionalPrompt,\n\t\t\t\tclose: onClose,\n\t\t\t\tonSave,\n\t\t\t\tsaveEnabled: true,\n\t\t\t\tsaveLabel: activateSaveLabel,\n\t\t\t\trenderDialog,\n\t\t\t\tvariant,\n\t\t\t} }\n\t\t/>\n\t);\n};\n\nconst _EntitiesSavedStates = ( { onClose, renderDialog, variant } ) => {\n\tif ( isPreviewingTheme() ) {\n\t\treturn (\n\t\t\t<EntitiesSavedStatesForPreview\n\t\t\t\tonClose={ onClose }\n\t\t\t\trenderDialog={ renderDialog }\n\t\t\t\tvariant={ variant }\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<EntitiesSavedStates\n\t\t\tclose={ onClose }\n\t\t\trenderDialog={ renderDialog }\n\t\t\tvariant={ variant }\n\t\t/>\n\t);\n};\n\nexport default function SavePanel() {\n\tconst { query } = useLocation();\n\tconst { canvas = 'view' } = query;\n\tconst { isSaveViewOpen, isDirty, isSaving } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetDirtyEntityRecords,\n\t\t\tisSavingEntityRecord,\n\t\t\tisResolving,\n\t\t} = select( coreStore );\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst isActivatingTheme = isResolving( 'activateTheme' );\n\t\tconst { isSaveViewOpened } = unlock( select( editSiteStore ) );\n\n\t\t// The currently selected entity to display.\n\t\t// Typically template or template part in the site editor.\n\t\treturn {\n\t\t\tisSaveViewOpen: isSaveViewOpened(),\n\t\t\tisDirty: dirtyEntityRecords.length > 0,\n\t\t\tisSaving:\n\t\t\t\tdirtyEntityRecords.some( ( record ) =>\n\t\t\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t\t\t) || isActivatingTheme,\n\t\t};\n\t}, [] );\n\tconst { setIsSaveViewOpened } = useDispatch( editSiteStore );\n\tconst onClose = () => setIsSaveViewOpened( false );\n\tuseEffect( () => {\n\t\tsetIsSaveViewOpened( false );\n\t}, [ canvas, setIsSaveViewOpened ] );\n\n\tif ( canvas === 'view' ) {\n\t\treturn isSaveViewOpen ? (\n\t\t\t<Modal\n\t\t\t\tclassName=\"edit-site-save-panel__modal\"\n\t\t\t\tonRequestClose={ onClose }\n\t\t\t\ttitle={ __( 'Review changes' ) }\n\t\t\t\tsize=\"small\"\n\t\t\t>\n\t\t\t\t<_EntitiesSavedStates onClose={ onClose } variant=\"inline\" />\n\t\t\t</Modal>\n\t\t) : null;\n\t}\n\tconst activateSaveEnabled = isPreviewingTheme() || isDirty;\n\tconst disabled = isSaving || ! activateSaveEnabled;\n\treturn (\n\t\t<NavigableRegion\n\t\t\tclassName={ clsx( 'edit-site-layout__actions', {\n\t\t\t\t'is-entity-save-view-open': isSaveViewOpen,\n\t\t\t} ) }\n\t\t\tariaLabel={ __( 'Save panel' ) }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( 'edit-site-editor__toggle-save-panel', {\n\t\t\t\t\t'screen-reader-text': isSaveViewOpen,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tclassName=\"edit-site-editor__toggle-save-panel-button\"\n\t\t\t\t\tonClick={ () => setIsSaveViewOpened( true ) }\n\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Open save panel' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{ isSaveViewOpen && (\n\t\t\t\t<_EntitiesSavedStates onClose={ onClose } renderDialog />\n\t\t\t) }\n\t\t</NavigableRegion>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useDispatch } from '@wordpress/data';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport {\n\tisPreviewingTheme,\n\tcurrentlyPreviewingTheme,\n} from './is-previewing-theme';\n\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\n\n/**\n * This should be refactored to use the REST API, once the REST API can activate themes.\n *\n * @return {Function} A function that activates the theme.\n */\nexport function useActivateTheme() {\n\tconst history = useHistory();\n\tconst { path } = useLocation();\n\tconst { startResolution, finishResolution } = useDispatch( coreStore );\n\n\treturn async () => {\n\t\tif ( isPreviewingTheme() ) {\n\t\t\tconst activationURL =\n\t\t\t\t'themes.php?action=activate&stylesheet=' +\n\t\t\t\tcurrentlyPreviewingTheme() +\n\t\t\t\t'&_wpnonce=' +\n\t\t\t\twindow.WP_BLOCK_THEME_ACTIVATE_NONCE;\n\t\t\tstartResolution( 'activateTheme' );\n\t\t\tawait window.fetch( activationURL );\n\t\t\tfinishResolution( 'activateTheme' );\n\t\t\t// Remove the wp_theme_preview query param: we've finished activating\n\t\t\t// the queue and are switching to normal Site Editor.\n\t\t\thistory.navigate( addQueryArgs( path, { wp_theme_preview: '' } ) );\n\t\t}\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { useState, useEffect } from '@wordpress/element';\nimport { addQueryArgs } from '@wordpress/url';\n\nconst ACTIVE_THEMES_URL = '/wp/v2/themes?status=active';\n\nexport function useActualCurrentTheme() {\n\tconst [ currentTheme, setCurrentTheme ] = useState();\n\n\tuseEffect( () => {\n\t\t// Set the `wp_theme_preview` to empty string to bypass the createThemePreviewMiddleware.\n\t\tconst path = addQueryArgs( ACTIVE_THEMES_URL, {\n\t\t\tcontext: 'edit',\n\t\t\twp_theme_preview: '',\n\t\t} );\n\n\t\tapiFetch( { path } )\n\t\t\t.then( ( activeThemes ) => setCurrentTheme( activeThemes[ 0 ] ) )\n\t\t\t// Do nothing\n\t\t\t.catch( () => {} );\n\t}, [] );\n\n\treturn currentTheme;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __, isRTL } from '@wordpress/i18n';\nimport { rotateLeft, rotateRight, help, backup } from '@wordpress/icons';\nimport { useCommandLoader } from '@wordpress/commands';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tstore as editorStore,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editSiteStore } from '../../store';\n\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\nconst { useGlobalStyles } = unlock( editorPrivateApis );\n\nconst getGlobalStylesToggleWelcomeGuideCommands = () =>\n\tfunction useGlobalStylesToggleWelcomeGuideCommands() {\n\t\tconst { openGeneralSidebar } = unlock( useDispatch( editSiteStore ) );\n\t\tconst { params } = useLocation();\n\t\tconst { canvas = 'view' } = params;\n\t\tconst { set } = useDispatch( preferencesStore );\n\n\t\tconst history = useHistory();\n\t\tconst isBlockBasedTheme = useSelect( ( select ) => {\n\t\t\treturn select( coreStore ).getCurrentTheme().is_block_theme;\n\t\t}, [] );\n\n\t\tconst commands = useMemo( () => {\n\t\t\tif ( ! isBlockBasedTheme ) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: 'core/edit-site/toggle-styles-welcome-guide',\n\t\t\t\t\tlabel: __( 'Learn about styles' ),\n\t\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t\tif ( canvas !== 'edit' ) {\n\t\t\t\t\t\t\thistory.navigate( '/styles?canvas=edit', {\n\t\t\t\t\t\t\t\ttransition: 'canvas-mode-edit-transition',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\topenGeneralSidebar( 'edit-site/global-styles' );\n\t\t\t\t\t\tset( 'core/edit-site', 'welcomeGuideStyles', true );\n\t\t\t\t\t\t// sometimes there's a focus loss that happens after some time\n\t\t\t\t\t\t// that closes the modal, we need to force reopening it.\n\t\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\t\tset( 'core/edit-site', 'welcomeGuideStyles', true );\n\t\t\t\t\t\t}, 500 );\n\t\t\t\t\t},\n\t\t\t\t\ticon: help,\n\t\t\t\t},\n\t\t\t];\n\t\t}, [ history, openGeneralSidebar, canvas, isBlockBasedTheme, set ] );\n\n\t\treturn {\n\t\t\tisLoading: false,\n\t\t\tcommands,\n\t\t};\n\t};\n\nconst getGlobalStylesResetCommands = () =>\n\tfunction useGlobalStylesResetCommands() {\n\t\tconst { user, setUser } = useGlobalStyles();\n\n\t\t// Check if there are user customizations that can be reset\n\t\tconst canReset =\n\t\t\t!! user &&\n\t\t\t( Object.keys( user?.styles ?? {} ).length > 0 ||\n\t\t\t\tObject.keys( user?.settings ?? {} ).length > 0 );\n\n\t\tconst commands = useMemo( () => {\n\t\t\tif ( ! canReset ) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: 'core/edit-site/reset-global-styles',\n\t\t\t\t\tlabel: __( 'Reset styles' ),\n\t\t\t\t\ticon: isRTL() ? rotateRight : rotateLeft,\n\t\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t\tsetUser( { styles: {}, settings: {} } );\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t];\n\t\t}, [ canReset, setUser ] );\n\n\t\treturn {\n\t\t\tisLoading: false,\n\t\t\tcommands,\n\t\t};\n\t};\n\nconst getGlobalStylesOpenRevisionsCommands = () =>\n\tfunction useGlobalStylesOpenRevisionsCommands() {\n\t\tconst { openGeneralSidebar } = unlock( useDispatch( editSiteStore ) );\n\t\tconst { setStylesPath } = unlock( useDispatch( editorStore ) );\n\t\tconst { params } = useLocation();\n\t\tconst { canvas = 'view' } = params;\n\t\tconst history = useHistory();\n\t\tconst hasRevisions = useSelect( ( select ) => {\n\t\t\tconst { getEntityRecord, __experimentalGetCurrentGlobalStylesId } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\t\tconst globalStyles = globalStylesId\n\t\t\t\t? getEntityRecord( 'root', 'globalStyles', globalStylesId )\n\t\t\t\t: undefined;\n\n\t\t\treturn !! globalStyles?._links?.[ 'version-history' ]?.[ 0 ]?.count;\n\t\t}, [] );\n\n\t\tconst commands = useMemo( () => {\n\t\t\tif ( ! hasRevisions ) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: 'core/edit-site/open-styles-revisions',\n\t\t\t\t\tlabel: __( 'Open style revisions' ),\n\t\t\t\t\ticon: backup,\n\t\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t\tif ( canvas !== 'edit' ) {\n\t\t\t\t\t\t\thistory.navigate( '/styles?canvas=edit', {\n\t\t\t\t\t\t\t\ttransition: 'canvas-mode-edit-transition',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\topenGeneralSidebar( 'edit-site/global-styles' );\n\t\t\t\t\t\tsetStylesPath( '/revisions' );\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t];\n\t\t}, [\n\t\t\thistory,\n\t\t\topenGeneralSidebar,\n\t\t\tsetStylesPath,\n\t\t\thasRevisions,\n\t\t\tcanvas,\n\t\t] );\n\n\t\treturn {\n\t\t\tisLoading: false,\n\t\t\tcommands,\n\t\t};\n\t};\n\nexport function useCommonCommands() {\n\tuseCommandLoader( {\n\t\tname: 'core/edit-site/toggle-styles-welcome-guide',\n\t\thook: getGlobalStylesToggleWelcomeGuideCommands(),\n\t} );\n\n\tuseCommandLoader( {\n\t\tname: 'core/edit-site/reset-global-styles',\n\t\thook: getGlobalStylesResetCommands(),\n\t} );\n\n\tuseCommandLoader( {\n\t\tname: 'core/edit-site/open-styles-revisions',\n\t\thook: getGlobalStylesOpenRevisionsCommands(),\n\t} );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { privateApis as commandsPrivateApis } from '@wordpress/commands';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { useCommandContext } = unlock( commandsPrivateApis );\nconst { useLocation } = unlock( routerPrivateApis );\n\n/**\n * React hook used to set the correct command context based on the current state.\n */\nexport default function useSetCommandContext() {\n\tconst { query = {} } = useLocation();\n\tconst { canvas = 'view' } = query;\n\tconst hasBlockSelected = useSelect( ( select ) => {\n\t\treturn select( blockEditorStore ).getBlockSelectionStart();\n\t}, [] );\n\n\t// Sets the right context for the command palette\n\tlet commandContext = 'site-editor';\n\tif ( canvas === 'edit' ) {\n\t\tcommandContext = 'entity-edit';\n\t}\n\tif ( hasBlockSelected ) {\n\t\tcommandContext = 'block-selection-edit';\n\t}\n\tuseCommandContext( commandContext );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRegistry, useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as siteEditorStore } from '../../store';\nimport { homeRoute } from './home';\nimport { stylesRoute } from './styles';\nimport { navigationRoute } from './navigation';\nimport { navigationItemRoute } from './navigation-item';\nimport { patternsRoute } from './patterns';\nimport { patternItemRoute } from './pattern-item';\nimport { templatePartItemRoute } from './template-part-item';\nimport { templatesRoute } from './templates';\nimport { templateItemRoute } from './template-item';\nimport { pagesRoute } from './pages';\nimport { pageItemRoute } from './page-item';\nimport { stylebookRoute } from './stylebook';\nimport { notFoundRoute } from './notfound';\n\nconst routes = [\n\tpageItemRoute,\n\tpagesRoute,\n\ttemplateItemRoute,\n\ttemplatesRoute,\n\ttemplatePartItemRoute,\n\tpatternItemRoute,\n\tpatternsRoute,\n\tnavigationItemRoute,\n\tnavigationRoute,\n\tstylesRoute,\n\thomeRoute,\n\tstylebookRoute,\n\tnotFoundRoute,\n];\n\nexport function useRegisterSiteEditorRoutes() {\n\tconst registry = useRegistry();\n\tconst { registerRoute } = unlock( useDispatch( siteEditorStore ) );\n\tuseEffect( () => {\n\t\tregistry.batch( () => {\n\t\t\troutes.forEach( registerRoute );\n\t\t} );\n\t}, [ registry, registerRoute ] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { layout, symbol, navigation, styles, page } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport SidebarNavigationItem from '../sidebar-navigation-item';\nimport { SidebarNavigationItemGlobalStyles } from '../sidebar-navigation-screen-global-styles';\n\nexport function MainSidebarNavigationContent( { isBlockBasedTheme = true } ) {\n\treturn (\n\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-main\">\n\t\t\t{ isBlockBasedTheme && (\n\t\t\t\t<>\n\t\t\t\t\t<SidebarNavigationItemGlobalStyles\n\t\t\t\t\t\tto=\"/styles\"\n\t\t\t\t\t\tuid=\"global-styles-navigation-item\"\n\t\t\t\t\t\ticon={ styles }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Styles' ) }\n\t\t\t\t\t</SidebarNavigationItemGlobalStyles>\n\t\t\t\t\t<SidebarNavigationItem\n\t\t\t\t\t\tuid=\"navigation-navigation-item\"\n\t\t\t\t\t\tto=\"/navigation\"\n\t\t\t\t\t\twithChevron\n\t\t\t\t\t\ticon={ navigation }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Navigation' ) }\n\t\t\t\t\t</SidebarNavigationItem>\n\t\t\t\t\t<SidebarNavigationItem\n\t\t\t\t\t\tuid=\"page-navigation-item\"\n\t\t\t\t\t\tto=\"/page\"\n\t\t\t\t\t\twithChevron\n\t\t\t\t\t\ticon={ page }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Pages' ) }\n\t\t\t\t\t</SidebarNavigationItem>\n\t\t\t\t\t<SidebarNavigationItem\n\t\t\t\t\t\tuid=\"template-navigation-item\"\n\t\t\t\t\t\tto=\"/template\"\n\t\t\t\t\t\twithChevron\n\t\t\t\t\t\ticon={ layout }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Templates' ) }\n\t\t\t\t\t</SidebarNavigationItem>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ ! isBlockBasedTheme && (\n\t\t\t\t<SidebarNavigationItem\n\t\t\t\t\tuid=\"stylebook-navigation-item\"\n\t\t\t\t\tto=\"/stylebook\"\n\t\t\t\t\twithChevron\n\t\t\t\t\ticon={ styles }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Styles' ) }\n\t\t\t\t</SidebarNavigationItem>\n\t\t\t) }\n\t\t\t<SidebarNavigationItem\n\t\t\t\tuid=\"patterns-navigation-item\"\n\t\t\t\tto=\"/pattern\"\n\t\t\t\twithChevron\n\t\t\t\ticon={ symbol }\n\t\t\t>\n\t\t\t\t{ __( 'Patterns' ) }\n\t\t\t</SidebarNavigationItem>\n\t\t</ItemGroup>\n\t);\n}\n\nexport default function SidebarNavigationScreenMain( { customDescription } ) {\n\tconst isBlockBasedTheme = useSelect(\n\t\t( select ) => select( coreStore ).getCurrentTheme()?.is_block_theme,\n\t\t[]\n\t);\n\n\tlet description;\n\tif ( customDescription ) {\n\t\tdescription = customDescription;\n\t} else if ( isBlockBasedTheme ) {\n\t\tdescription = __(\n\t\t\t'Customize the appearance of your website using the block editor.'\n\t\t);\n\t} else {\n\t\tdescription = __(\n\t\t\t'Explore block styles and patterns to refine your site.'\n\t\t);\n\t}\n\n\treturn (\n\t\t<SidebarNavigationScreen\n\t\t\tisRoot\n\t\t\ttitle={ __( 'Design' ) }\n\t\t\tdescription={ description }\n\t\t\tcontent={\n\t\t\t\t<MainSidebarNavigationContent\n\t\t\t\t\tisBlockBasedTheme={ isBlockBasedTheme }\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { isRTL, __, sprintf } from '@wordpress/i18n';\nimport { chevronRight, chevronLeft } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport SidebarButton from '../sidebar-button';\nimport {\n\tisPreviewingTheme,\n\tcurrentlyPreviewingTheme,\n} from '../../utils/is-previewing-theme';\nimport { SidebarNavigationContext } from '../sidebar';\n\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\n\nexport default function SidebarNavigationScreen( {\n\tisRoot,\n\ttitle,\n\tactions,\n\tcontent,\n\tfooter,\n\tdescription,\n\tbackPath: backPathProp,\n} ) {\n\tconst { dashboardLink, dashboardLinkText, previewingThemeName } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\t\t\tconst currentlyPreviewingThemeId = currentlyPreviewingTheme();\n\t\t\treturn {\n\t\t\t\tdashboardLink: getSettings().__experimentalDashboardLink,\n\t\t\t\tdashboardLinkText:\n\t\t\t\t\tgetSettings().__experimentalDashboardLinkText,\n\t\t\t\t// Do not call `getTheme` with null, it will cause a request to\n\t\t\t\t// the server.\n\t\t\t\tpreviewingThemeName: currentlyPreviewingThemeId\n\t\t\t\t\t? select( coreStore ).getTheme( currentlyPreviewingThemeId )\n\t\t\t\t\t\t\t?.name?.rendered\n\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst location = useLocation();\n\tconst history = useHistory();\n\tconst { navigate } = useContext( SidebarNavigationContext );\n\tconst backPath = backPathProp ?? location.state?.backPath;\n\tconst icon = isRTL() ? chevronRight : chevronLeft;\n\n\treturn (\n\t\t<>\n\t\t\t<VStack\n\t\t\t\tclassName={ clsx( 'edit-site-sidebar-navigation-screen__main', {\n\t\t\t\t\t'has-footer': !! footer,\n\t\t\t\t} ) }\n\t\t\t\tspacing={ 0 }\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t>\n\t\t\t\t<HStack\n\t\t\t\t\tspacing={ 3 }\n\t\t\t\t\talignment=\"flex-start\"\n\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen__title-icon\"\n\t\t\t\t>\n\t\t\t\t\t{ ! isRoot && (\n\t\t\t\t\t\t<SidebarButton\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\thistory.navigate( backPath );\n\t\t\t\t\t\t\t\tnavigate( 'back' );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\n\t\t\t\t\t\t\tshowTooltip={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isRoot && (\n\t\t\t\t\t\t<SidebarButton\n\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tdashboardLinkText || __( 'Go to the Dashboard' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thref={ dashboardLink }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<Heading\n\t\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen__title\"\n\t\t\t\t\t\tcolor={ '#e0e0e0' /* $gray-200 */ }\n\t\t\t\t\t\tlevel={ 1 }\n\t\t\t\t\t\tsize={ 20 }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ! isPreviewingTheme()\n\t\t\t\t\t\t\t? title\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: 1: theme name. 2: title */\n\t\t\t\t\t\t\t\t\t__( 'Previewing %1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\tpreviewingThemeName,\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</Heading>\n\t\t\t\t\t{ actions && (\n\t\t\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__actions\">\n\t\t\t\t\t\t\t{ actions }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__content\">\n\t\t\t\t\t{ description && (\n\t\t\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__description\">\n\t\t\t\t\t\t\t{ description }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t{ content }\n\t\t\t\t</div>\n\t\t\t</VStack>\n\t\t\t{ footer && (\n\t\t\t\t<footer className=\"edit-site-sidebar-navigation-screen__footer\">\n\t\t\t\t\t{ footer }\n\t\t\t\t</footer>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\n\nexport default function SidebarButton( props ) {\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\t{ ...props }\n\t\t\tclassName={ clsx( 'edit-site-sidebar-button', props.className ) }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItem as Item,\n\t__experimentalHStack as HStack,\n\tFlexBlock,\n} from '@wordpress/components';\nimport { isRTL } from '@wordpress/i18n';\nimport { chevronRightSmall, chevronLeftSmall, Icon } from '@wordpress/icons';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { SidebarNavigationContext } from '../sidebar';\n\nconst { useHistory, useLink } = unlock( routerPrivateApis );\n\nexport default function SidebarNavigationItem( {\n\tclassName,\n\ticon,\n\twithChevron = false,\n\tsuffix,\n\tuid,\n\tto,\n\tonClick,\n\tchildren,\n\t...props\n} ) {\n\tconst history = useHistory();\n\tconst { navigate } = useContext( SidebarNavigationContext );\n\t// If there is no custom click handler, create one that navigates to `params`.\n\tfunction handleClick( e ) {\n\t\tif ( onClick ) {\n\t\t\tonClick( e );\n\t\t\tnavigate( 'forward' );\n\t\t} else if ( to ) {\n\t\t\te.preventDefault();\n\t\t\thistory.navigate( to );\n\t\t\tnavigate( 'forward', `[id=\"${ uid }\"]` );\n\t\t}\n\t}\n\tconst linkProps = useLink( to );\n\n\treturn (\n\t\t<Item\n\t\t\tclassName={ clsx(\n\t\t\t\t'edit-site-sidebar-navigation-item',\n\t\t\t\t{ 'with-suffix': ! withChevron && suffix },\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\tid={ uid }\n\t\t\tonClick={ handleClick }\n\t\t\thref={ to ? linkProps.href : undefined }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t{ icon && (\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tstyle={ { fill: 'currentcolor' } }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tsize={ 24 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<FlexBlock>{ children }</FlexBlock>\n\t\t\t\t{ withChevron && (\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ isRTL() ? chevronLeftSmall : chevronRightSmall }\n\t\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-item__drilldown-indicator\"\n\t\t\t\t\t\tsize={ 24 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! withChevron && suffix }\n\t\t\t</HStack>\n\t\t</Item>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { useCallback } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as editorStore } from '@wordpress/editor';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport { unlock } from '../../lock-unlock';\nimport { store as editSiteStore } from '../../store';\nimport SidebarNavigationItem from '../sidebar-navigation-item';\nimport { useGlobalStylesRevisions } from '@wordpress/global-styles-ui';\nimport SidebarNavigationScreenDetailsFooter from '../sidebar-navigation-screen-details-footer';\nimport { MainSidebarNavigationContent } from '../sidebar-navigation-screen-main';\n\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\n\nexport function SidebarNavigationItemGlobalStyles( props ) {\n\tconst { name } = useLocation();\n\treturn (\n\t\t<SidebarNavigationItem\n\t\t\t{ ...props }\n\t\t\taria-current={ name === 'styles' }\n\t\t/>\n\t);\n}\n\nexport default function SidebarNavigationScreenGlobalStyles() {\n\tconst history = useHistory();\n\tconst { path } = useLocation();\n\tconst {\n\t\trevisions,\n\t\tisLoading: isLoadingRevisions,\n\t\trevisionsCount,\n\t} = useGlobalStylesRevisions();\n\tconst { openGeneralSidebar } = useDispatch( editSiteStore );\n\tconst { setStylesPath } = unlock( useDispatch( editorStore ) );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\n\tconst openGlobalStyles = useCallback( async () => {\n\t\thistory.navigate( addQueryArgs( path, { canvas: 'edit' } ), {\n\t\t\ttransition: 'canvas-mode-edit-transition',\n\t\t} );\n\t\treturn Promise.all( [\n\t\t\tsetPreference( 'core', 'distractionFree', false ),\n\t\t\topenGeneralSidebar( 'edit-site/global-styles' ),\n\t\t] );\n\t}, [ path, history, openGeneralSidebar, setPreference ] );\n\n\tconst openRevisions = useCallback( async () => {\n\t\tawait openGlobalStyles();\n\t\t// Open the global styles revisions once the canvas mode is set to edit,\n\t\t// and the global styles sidebar is open. Set the path to revisions.\n\t\tsetStylesPath( '/revisions' );\n\t}, [ openGlobalStyles, setStylesPath ] );\n\n\t// If there are no revisions, do not render a footer.\n\tconst shouldShowGlobalStylesFooter =\n\t\t!! revisionsCount && ! isLoadingRevisions;\n\n\treturn (\n\t\t<>\n\t\t\t<SidebarNavigationScreen\n\t\t\t\ttitle={ __( 'Design' ) }\n\t\t\t\tisRoot\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Customize the appearance of your website using the block editor.'\n\t\t\t\t) }\n\t\t\t\tcontent={\n\t\t\t\t\t<MainSidebarNavigationContent activeItem=\"styles-navigation-item\" />\n\t\t\t\t}\n\t\t\t\tfooter={\n\t\t\t\t\tshouldShowGlobalStylesFooter && (\n\t\t\t\t\t\t<SidebarNavigationScreenDetailsFooter\n\t\t\t\t\t\t\trecord={ revisions?.[ 0 ] }\n\t\t\t\t\t\t\trevisionsCount={ revisionsCount }\n\t\t\t\t\t\t\tonClick={ openRevisions }\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Navigator, useNavigator } from '@wordpress/components';\n// @ts-expect-error: Not typed yet.\nimport { getBlockTypes, store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n// @ts-expect-error: Not typed yet.\nimport { BlockEditorProvider } from '@wordpress/block-editor';\nimport { useMemo, useEffect } from '@wordpress/element';\nimport { usePrevious } from '@wordpress/compose';\nimport {\n\tgenerateGlobalStyles,\n\tmergeGlobalStyles,\n} from '@wordpress/global-styles-engine';\nimport type {\n\tGlobalStylesConfig,\n\tBlockType,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesProvider } from './provider';\nimport ScreenRoot from './screen-root';\nimport ScreenBlockList from './screen-block-list';\nimport ScreenBlock from './screen-block';\nimport ScreenTypography from './screen-typography';\nimport ScreenTypographyElement from './screen-typography-element';\nimport ScreenColors from './screen-colors';\nimport ScreenColorPalette from './screen-color-palette';\nimport ScreenBackground from './screen-background';\nimport { ScreenShadows, ScreenShadowsEdit } from './screen-shadows';\nimport ScreenLayout from './screen-layout';\nimport ScreenStyleVariations from './screen-style-variations';\nimport ScreenCSS from './screen-css';\nimport ScreenRevisions from './screen-revisions';\nimport FontSizes from './font-sizes/font-sizes';\nimport FontSize from './font-sizes/font-size';\ninterface BlockStylesNavigationScreensProps {\n\tparentMenu: string;\n\tblockStyles: any[];\n\tblockName: string;\n}\n\nfunction BlockStylesNavigationScreens( {\n\tparentMenu,\n\tblockStyles,\n\tblockName,\n}: BlockStylesNavigationScreensProps ) {\n\treturn (\n\t\t<>\n\t\t\t{ blockStyles.map( ( style, index ) => (\n\t\t\t\t<Navigator.Screen\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tpath={ parentMenu + '/variations/' + style.name }\n\t\t\t\t>\n\t\t\t\t\t<ScreenBlock name={ blockName } variation={ style.name } />\n\t\t\t\t</Navigator.Screen>\n\t\t\t) ) }\n\t\t</>\n\t);\n}\n\ninterface ContextScreensProps {\n\tname?: string;\n\tparentMenu?: string;\n}\n\ninterface GlobalStylesNavigationScreenProps {\n\tpath: string;\n\tchildren: React.ReactNode;\n}\n\nfunction ContextScreens( { name, parentMenu = '' }: ContextScreensProps ) {\n\tconst blockStyleVariations = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! name ) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/palette' }\n\t\t\t>\n\t\t\t\t<ScreenColorPalette name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t{ !! blockStyleVariations?.length && (\n\t\t\t\t<BlockStylesNavigationScreens\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\tblockStyles={ blockStyleVariations }\n\t\t\t\t\tblockName={ name || '' }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\ninterface GlobalStylesUIProps {\n\t/** User global styles object (what gets edited) */\n\tvalue: GlobalStylesConfig;\n\t/** Base global styles object (theme default) */\n\tbaseValue: GlobalStylesConfig;\n\t/** Callback when global styles change */\n\tonChange: ( newValue: GlobalStylesConfig ) => void;\n\t/** Current navigation path (optional) */\n\tpath?: string;\n\t/** Callback when navigation path changes (optional) */\n\tonPathChange?: ( path: string ) => void;\n\t/** Whether font library is enabled (optional) */\n\tfontLibraryEnabled?: boolean;\n\t/** Server CSS styles for BlockEditorProvider (optional) */\n\tserverCSS?: { isGlobalStyles?: boolean }[];\n\t/** Server settings for BlockEditorProvider (optional) */\n\tserverSettings?: { __unstableResolvedAssets: Record< string, unknown > };\n}\n\nexport function GlobalStylesUI( {\n\tvalue,\n\tbaseValue,\n\tonChange,\n\tpath,\n\tonPathChange,\n\tfontLibraryEnabled = false,\n\tserverCSS,\n\tserverSettings,\n}: GlobalStylesUIProps ) {\n\tconst blocks = getBlockTypes();\n\n\t// Compute merged value for CSS generation\n\tconst mergedValue = useMemo( () => {\n\t\treturn mergeGlobalStyles( baseValue, value );\n\t}, [ baseValue, value ] );\n\n\tconst [ globalStylesCSS, globalSettings ] =\n\t\tgenerateGlobalStyles( mergedValue );\n\tconst styles = useMemo(\n\t\t() => [ ...( serverCSS ?? [] ), ...( globalStylesCSS ?? [] ) ],\n\t\t[ serverCSS, globalStylesCSS ]\n\t);\n\n\tconst settings = useMemo( () => {\n\t\treturn {\n\t\t\t...serverSettings,\n\t\t\t__experimentalFeatures: globalSettings,\n\t\t\tstyles,\n\t\t};\n\t}, [ globalSettings, serverSettings, styles ] );\n\n\treturn (\n\t\t<GlobalStylesProvider\n\t\t\tvalue={ value }\n\t\t\tbaseValue={ baseValue }\n\t\t\tonChange={ onChange }\n\t\t\tfontLibraryEnabled={ fontLibraryEnabled }\n\t\t>\n\t\t\t<BlockEditorProvider settings={ settings }>\n\t\t\t\t<Navigator\n\t\t\t\t\tclassName=\"global-styles-ui-sidebar__navigator-provider\"\n\t\t\t\t\tinitialPath={ path || '/' }\n\t\t\t\t>\n\t\t\t\t\t{ ( path || onPathChange ) && (\n\t\t\t\t\t\t<PathSynchronizer\n\t\t\t\t\t\t\tpath={ path }\n\t\t\t\t\t\t\tonPathChange={ onPathChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/\">\n\t\t\t\t\t\t<ScreenRoot />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/colors\">\n\t\t\t\t\t\t<ScreenColors />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography\">\n\t\t\t\t\t\t<ScreenTypography />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/font-sizes\">\n\t\t\t\t\t\t<FontSizes />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/font-sizes/:origin/:slug\">\n\t\t\t\t\t\t<FontSize />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/layout\">\n\t\t\t\t\t\t<ScreenLayout />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/colors/palette\">\n\t\t\t\t\t\t<ScreenColorPalette />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/variations\">\n\t\t\t\t\t\t<ScreenStyleVariations />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/css\">\n\t\t\t\t\t\t<ScreenCSS />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/revisions/:revisionId?\">\n\t\t\t\t\t\t<ScreenRevisions />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/shadows\">\n\t\t\t\t\t\t<ScreenShadows />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/shadows/edit/:category/:slug\">\n\t\t\t\t\t\t<ScreenShadowsEdit />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/background\">\n\t\t\t\t\t\t<ScreenBackground />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/text\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"text\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/link\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"link\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/heading\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"heading\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/caption\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"caption\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/button\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"button\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/blocks\">\n\t\t\t\t\t\t<ScreenBlockList />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t{ blocks.map( ( block: BlockType ) => (\n\t\t\t\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\t\t\t\tkey={ 'menu-block-' + block.name }\n\t\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t\t'/blocks/' + encodeURIComponent( block.name )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ScreenBlock name={ block.name } />\n\t\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t) ) }\n\n\t\t\t\t\t<ContextScreens />\n\n\t\t\t\t\t{ blocks.map( ( block: BlockType ) => (\n\t\t\t\t\t\t<ContextScreens\n\t\t\t\t\t\t\tkey={ 'screens-block-' + block.name }\n\t\t\t\t\t\t\tname={ block.name }\n\t\t\t\t\t\t\tparentMenu={\n\t\t\t\t\t\t\t\t'/blocks/' + encodeURIComponent( block.name )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</Navigator>\n\t\t\t</BlockEditorProvider>\n\t\t</GlobalStylesProvider>\n\t);\n}\n\nfunction GlobalStylesNavigationScreen( {\n\tpath,\n\tchildren,\n}: GlobalStylesNavigationScreenProps ) {\n\treturn (\n\t\t<Navigator.Screen\n\t\t\tclassName=\"global-styles-ui-sidebar__navigator-screen\"\n\t\t\tpath={ path }\n\t\t>\n\t\t\t{ children }\n\t\t</Navigator.Screen>\n\t);\n}\n\n/*\n * Component that handles path synchronization between external path prop and Navigator's internal path.\n */\nfunction PathSynchronizer( {\n\tpath,\n\tonPathChange,\n}: {\n\tpath?: string;\n\tonPathChange?: ( path: string ) => void;\n} ) {\n\tconst navigator = useNavigator();\n\tconst { path: childPath } = navigator.location;\n\tconst previousParentPath = usePrevious( path );\n\tconst previousChildPath = usePrevious( childPath );\n\n\tuseEffect( () => {\n\t\t// Only sync when parent and child paths are out of sync\n\t\tif ( path && path !== childPath ) {\n\t\t\t// If parent path changed, update the Navigator\n\t\t\tif ( path !== previousParentPath ) {\n\t\t\t\tnavigator.goTo( path );\n\t\t\t}\n\t\t\t// If child path changed, notify parent via onPathChange\n\t\t\telse if ( childPath !== previousChildPath && onPathChange ) {\n\t\t\t\tonPathChange( childPath ?? '/' );\n\t\t\t}\n\t\t}\n\t}, [\n\t\tonPathChange,\n\t\tpath,\n\t\tpreviousChildPath,\n\t\tpreviousParentPath,\n\t\tchildPath,\n\t\tnavigator,\n\t] );\n\n\t// This component only handles synchronization logic. It doesn't render anything.\n\t// We use it to run the effect inside the Navigator context.\n\treturn null;\n}\n", "/**\n * Immutably sets a value inside an object. Like `lodash#set`, but returning a\n * new object. Treats nullish initial values as empty objects. Clones any\n * nested objects. Supports arrays, too.\n *\n * @param object Object to set a value in.\n * @param path   Path in the object to modify.\n * @param value  New value to set.\n * @return Cloned object with the new value set.\n */\nexport function setImmutably(\n\tobject: Object,\n\tpath: string | number | ( string | number )[],\n\tvalue: any\n) {\n\t// Normalize path\n\tpath = Array.isArray( path ) ? [ ...path ] : [ path ];\n\n\t// Shallowly clone the base of the object\n\tobject = Array.isArray( object ) ? [ ...object ] : { ...object };\n\n\tconst leaf = path.pop();\n\n\t// Traverse object from root to leaf, shallowly cloning at each level\n\tlet prev = object;\n\tfor ( const key of path ) {\n\t\t// @ts-expect-error\n\t\tconst lvl = prev[ key ];\n\t\t// @ts-expect-error\n\t\tprev = prev[ key ] = Array.isArray( lvl ) ? [ ...lvl ] : { ...lvl };\n\t}\n\t// @ts-expect-error\n\tprev[ leaf ] = value;\n\n\treturn object;\n}\n\n/**\n * Helper util to return a value from a certain path of the object.\n *\n * Path is specified as either:\n * - a string of properties, separated by dots, for example: \"x.y\".\n * - an array of properties, for example `[ 'x', 'y' ]`.\n *\n * You can also specify a default value in case the result is nullish.\n *\n * @param object       Input object.\n * @param path         Path to the object property.\n * @param defaultValue Default value if the value at the specified path is nullish.\n * @return Value of the object property at the specified path.\n */\nexport const getValueFromObjectPath = (\n\tobject: Object,\n\tpath: string | string[],\n\tdefaultValue?: any\n) => {\n\tconst arrayPath = Array.isArray( path ) ? path : path.split( '.' );\n\tlet value = object;\n\tarrayPath.forEach( ( fieldName ) => {\n\t\t// @ts-expect-error\n\t\tvalue = value?.[ fieldName ];\n\t} );\n\treturn value ?? defaultValue;\n};\n", "/**\n * Internal dependencies\n */\nimport { getValueFromObjectPath, setImmutably } from '../utils/object';\nimport type { GlobalStylesConfig } from '../types';\n\nconst VALID_SETTINGS = [\n\t'appearanceTools',\n\t'useRootPaddingAwareAlignments',\n\t'background.backgroundImage',\n\t'background.backgroundRepeat',\n\t'background.backgroundSize',\n\t'background.backgroundPosition',\n\t'border.color',\n\t'border.radius',\n\t'border.radiusSizes',\n\t'border.style',\n\t'border.width',\n\t'shadow.presets',\n\t'shadow.defaultPresets',\n\t'color.background',\n\t'color.button',\n\t'color.caption',\n\t'color.custom',\n\t'color.customDuotone',\n\t'color.customGradient',\n\t'color.defaultDuotone',\n\t'color.defaultGradients',\n\t'color.defaultPalette',\n\t'color.duotone',\n\t'color.gradients',\n\t'color.heading',\n\t'color.link',\n\t'color.palette',\n\t'color.text',\n\t'custom',\n\t'dimensions.aspectRatio',\n\t'dimensions.minHeight',\n\t'layout.contentSize',\n\t'layout.definitions',\n\t'layout.wideSize',\n\t'lightbox.enabled',\n\t'lightbox.allowEditing',\n\t'position.fixed',\n\t'position.sticky',\n\t'spacing.customSpacingSize',\n\t'spacing.defaultSpacingSizes',\n\t'spacing.spacingSizes',\n\t'spacing.spacingScale',\n\t'spacing.blockGap',\n\t'spacing.margin',\n\t'spacing.padding',\n\t'spacing.units',\n\t'typography.fluid',\n\t'typography.customFontSize',\n\t'typography.defaultFontSizes',\n\t'typography.dropCap',\n\t'typography.fontFamilies',\n\t'typography.fontSizes',\n\t'typography.fontStyle',\n\t'typography.fontWeight',\n\t'typography.letterSpacing',\n\t'typography.lineHeight',\n\t'typography.textAlign',\n\t'typography.textColumns',\n\t'typography.textDecoration',\n\t'typography.textTransform',\n\t'typography.writingMode',\n];\n\nexport function getSetting< T = any >(\n\tglobalStyles: GlobalStylesConfig,\n\tpath: string,\n\tblockName?: string\n): T {\n\tconst appendedBlockPath = blockName ? '.blocks.' + blockName : '';\n\tconst appendedPropertyPath = path ? '.' + path : '';\n\tconst contextualPath = `settings${ appendedBlockPath }${ appendedPropertyPath }`;\n\tconst globalPath = `settings${ appendedPropertyPath }`;\n\n\tif ( path ) {\n\t\treturn ( getValueFromObjectPath( globalStyles, contextualPath ) ??\n\t\t\tgetValueFromObjectPath( globalStyles, globalPath ) ) as T;\n\t}\n\n\tlet result = {};\n\tVALID_SETTINGS.forEach( ( setting ) => {\n\t\tconst value =\n\t\t\tgetValueFromObjectPath(\n\t\t\t\tglobalStyles,\n\t\t\t\t`settings${ appendedBlockPath }.${ setting }`\n\t\t\t) ??\n\t\t\tgetValueFromObjectPath( globalStyles, `settings.${ setting }` );\n\t\tif ( value !== undefined ) {\n\t\t\tresult = setImmutably( result, setting.split( '.' ), value );\n\t\t}\n\t} );\n\treturn result as T;\n}\n", "/**\n * Internal dependencies\n */\nimport { setImmutably } from '../utils/object';\nimport type { GlobalStylesConfig } from '../types';\n\nexport function setSetting< T = any >(\n\tglobalStyles: GlobalStylesConfig,\n\tpath: string,\n\tnewValue: T | undefined,\n\tblockName?: string\n): GlobalStylesConfig {\n\tconst appendedBlockPath = blockName ? '.blocks.' + blockName : '';\n\tconst appendedPropertyPath = path ? '.' + path : '';\n\tconst finalPath = `settings${ appendedBlockPath }${ appendedPropertyPath }`;\n\n\treturn setImmutably(\n\t\tglobalStyles,\n\t\tfinalPath.split( '.' ),\n\t\tnewValue\n\t) as GlobalStylesConfig;\n}\n", "/**\n * WordPress dependencies\n */\nimport { getCSSValueFromRawStyle } from '@wordpress/style-engine';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tGlobalStylesSettings,\n\tThemeFileLink,\n\tTypographyPreset,\n\tUnresolvedValue,\n\tGlobalStylesConfig,\n} from '../types';\nimport { getTypographyFontSizeValue } from './typography';\nimport { getValueFromObjectPath } from './object';\n\nexport const ROOT_BLOCK_SELECTOR = 'body';\nexport const ROOT_CSS_PROPERTIES_SELECTOR = ':root';\n\nexport const PRESET_METADATA = [\n\t{\n\t\tpath: [ 'color', 'palette' ],\n\t\tvalueKey: 'color',\n\t\tcssVarInfix: 'color',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'color', propertyName: 'color' },\n\t\t\t{\n\t\t\t\tclassSuffix: 'background-color',\n\t\t\t\tpropertyName: 'background-color',\n\t\t\t},\n\t\t\t{\n\t\t\t\tclassSuffix: 'border-color',\n\t\t\t\tpropertyName: 'border-color',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'gradients' ],\n\t\tvalueKey: 'gradient',\n\t\tcssVarInfix: 'gradient',\n\t\tclasses: [\n\t\t\t{\n\t\t\t\tclassSuffix: 'gradient-background',\n\t\t\t\tpropertyName: 'background',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'duotone' ],\n\t\tvalueKey: 'colors',\n\t\tcssVarInfix: 'duotone',\n\t\tvalueFunc: ( { slug }: { slug: string } ) =>\n\t\t\t`url( '#wp-duotone-${ slug }' )`,\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'shadow', 'presets' ],\n\t\tvalueKey: 'shadow',\n\t\tcssVarInfix: 'shadow',\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontSizes' ],\n\t\tvalueFunc: (\n\t\t\tpreset: TypographyPreset,\n\t\t\tsettings: GlobalStylesSettings\n\t\t) => getTypographyFontSizeValue( preset, settings ),\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'font-size',\n\t\tclasses: [ { classSuffix: 'font-size', propertyName: 'font-size' } ],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontFamilies' ],\n\t\tvalueKey: 'fontFamily',\n\t\tcssVarInfix: 'font-family',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'font-family', propertyName: 'font-family' },\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'spacing', 'spacingSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'spacing',\n\t\tvalueFunc: ( { size }: { size: string } ) => size,\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'border', 'radiusSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'border-radius',\n\t\tclasses: [],\n\t},\n];\n\nexport const STYLE_PATH_TO_CSS_VAR_INFIX: Record< string, string > = {\n\t'color.background': 'color',\n\t'color.text': 'color',\n\t'filter.duotone': 'duotone',\n\t'elements.link.color.text': 'color',\n\t'elements.link.:hover.color.text': 'color',\n\t'elements.link.typography.fontFamily': 'font-family',\n\t'elements.link.typography.fontSize': 'font-size',\n\t'elements.button.color.text': 'color',\n\t'elements.button.color.background': 'color',\n\t'elements.caption.color.text': 'color',\n\t'elements.button.typography.fontFamily': 'font-family',\n\t'elements.button.typography.fontSize': 'font-size',\n\t'elements.heading.color': 'color',\n\t'elements.heading.color.background': 'color',\n\t'elements.heading.typography.fontFamily': 'font-family',\n\t'elements.heading.gradient': 'gradient',\n\t'elements.heading.color.gradient': 'gradient',\n\t'elements.h1.color': 'color',\n\t'elements.h1.color.background': 'color',\n\t'elements.h1.typography.fontFamily': 'font-family',\n\t'elements.h1.color.gradient': 'gradient',\n\t'elements.h2.color': 'color',\n\t'elements.h2.color.background': 'color',\n\t'elements.h2.typography.fontFamily': 'font-family',\n\t'elements.h2.color.gradient': 'gradient',\n\t'elements.h3.color': 'color',\n\t'elements.h3.color.background': 'color',\n\t'elements.h3.typography.fontFamily': 'font-family',\n\t'elements.h3.color.gradient': 'gradient',\n\t'elements.h4.color': 'color',\n\t'elements.h4.color.background': 'color',\n\t'elements.h4.typography.fontFamily': 'font-family',\n\t'elements.h4.color.gradient': 'gradient',\n\t'elements.h5.color': 'color',\n\t'elements.h5.color.background': 'color',\n\t'elements.h5.typography.fontFamily': 'font-family',\n\t'elements.h5.color.gradient': 'gradient',\n\t'elements.h6.color': 'color',\n\t'elements.h6.color.background': 'color',\n\t'elements.h6.typography.fontFamily': 'font-family',\n\t'elements.h6.color.gradient': 'gradient',\n\t'color.gradient': 'gradient',\n\tshadow: 'shadow',\n\t'typography.fontSize': 'font-size',\n\t'typography.fontFamily': 'font-family',\n};\n\n/**\n * Function that scopes a selector with another one. This works a bit like\n * SCSS nesting except the `&` operator isn't supported.\n *\n * @example\n * ```js\n * const scope = '.a, .b .c';\n * const selector = '> .x, .y';\n * const merged = scopeSelector( scope, selector );\n * // merged is '.a > .x, .a .y, .b .c > .x, .b .c .y'\n * ```\n *\n * @param scope    Selector to scope to.\n * @param selector Original selector.\n *\n * @return Scoped selector.\n */\nexport function scopeSelector( scope: string | undefined, selector: string ) {\n\tif ( ! scope || ! selector ) {\n\t\treturn selector;\n\t}\n\n\tconst scopes = scope.split( ',' );\n\tconst selectors = selector.split( ',' );\n\n\tconst selectorsScoped: string[] = [];\n\tscopes.forEach( ( outer ) => {\n\t\tselectors.forEach( ( inner ) => {\n\t\t\tselectorsScoped.push( `${ outer.trim() } ${ inner.trim() }` );\n\t\t} );\n\t} );\n\n\treturn selectorsScoped.join( ', ' );\n}\n\n/**\n * Scopes a collection of selectors for features and subfeatures.\n *\n * @example\n * ```js\n * const scope = '.custom-scope';\n * const selectors = {\n *     color: '.wp-my-block p',\n *     typography: { fontSize: '.wp-my-block caption' },\n * };\n * const result = scopeFeatureSelector( scope, selectors );\n * // result is {\n * //     color: '.custom-scope .wp-my-block p',\n * //     typography: { fonSize: '.custom-scope .wp-my-block caption' },\n * // }\n * ```\n *\n * @param scope     Selector to scope collection of selectors with.\n * @param selectors Collection of feature selectors e.g.\n *\n * @return Scoped collection of feature selectors.\n */\nexport function scopeFeatureSelectors(\n\tscope: string | undefined,\n\tselectors: string | Record< string, string | Record< string, string > >\n) {\n\tif ( ! scope || ! selectors ) {\n\t\treturn;\n\t}\n\n\tconst featureSelectors: Record<\n\t\tstring,\n\t\tstring | Record< string, string >\n\t> = {};\n\n\tObject.entries( selectors ).forEach( ( [ feature, selector ] ) => {\n\t\tif ( typeof selector === 'string' ) {\n\t\t\tfeatureSelectors[ feature ] = scopeSelector( scope, selector );\n\t\t}\n\n\t\tif ( typeof selector === 'object' ) {\n\t\t\tfeatureSelectors[ feature ] = {};\n\n\t\t\tObject.entries( selector ).forEach(\n\t\t\t\t( [ subfeature, subfeatureSelector ] ) => {\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\tfeatureSelectors[ feature ][ subfeature ] = scopeSelector(\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tsubfeatureSelector as string\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} );\n\n\treturn featureSelectors;\n}\n\n/**\n * Appends a sub-selector to an existing one.\n *\n * Given the compounded `selector` \"h1, h2, h3\"\n * and the `toAppend` selector \".some-class\" the result will be\n * \"h1.some-class, h2.some-class, h3.some-class\".\n *\n * @param selector Original selector.\n * @param toAppend Selector to append.\n *\n * @return The new selector.\n */\nexport function appendToSelector( selector: string, toAppend: string ) {\n\tif ( ! selector.includes( ',' ) ) {\n\t\treturn selector + toAppend;\n\t}\n\tconst selectors = selector.split( ',' );\n\tconst newSelectors = selectors.map( ( sel ) => sel + toAppend );\n\treturn newSelectors.join( ',' );\n}\n\n/**\n * Generates the selector for a block style variation by creating the\n * appropriate CSS class and adding it to the ancestor portion of the block's\n * selector.\n *\n * For example, take the Button block which has a compound selector:\n * `.wp-block-button .wp-block-button__link`. With a variation named 'custom',\n * the class `.is-style-custom` should be added to the `.wp-block-button`\n * ancestor only.\n *\n * This function will take into account comma separated and complex selectors.\n *\n * @param variation     Name for the variation.\n * @param blockSelector CSS selector for the block.\n *\n * @return CSS selector for the block style variation.\n */\nexport function getBlockStyleVariationSelector(\n\tvariation: string,\n\tblockSelector: string\n) {\n\tconst variationClass = `.is-style-${ variation }`;\n\n\tif ( ! blockSelector ) {\n\t\treturn variationClass;\n\t}\n\n\tconst ancestorRegex = /((?::\\([^)]+\\))?\\s*)([^\\s:]+)/;\n\tconst addVariationClass = (\n\t\t_match: string,\n\t\tgroup1: string,\n\t\tgroup2: string\n\t) => {\n\t\treturn group1 + group2 + variationClass;\n\t};\n\n\tconst result = blockSelector\n\t\t.split( ',' )\n\t\t.map( ( part ) => part.replace( ancestorRegex, addVariationClass ) );\n\n\treturn result.join( ',' );\n}\n\n/**\n * Resolves ref values in theme JSON.\n *\n * @param ruleValue A block style value that may contain a reference to a theme.json value.\n * @param tree      A theme.json object.\n * @return The resolved value or incoming ruleValue.\n */\nexport function getResolvedRefValue(\n\truleValue: UnresolvedValue,\n\ttree?: GlobalStylesConfig\n): UnresolvedValue {\n\tif ( ! ruleValue || ! tree ) {\n\t\treturn ruleValue;\n\t}\n\n\t/*\n\t * Where the rule value is an object with a 'ref' property pointing\n\t * to a path, this converts that path into the value at that path.\n\t * For example: { \"ref\": \"style.color.background\" } => \"#fff\".\n\t */\n\tif (\n\t\ttypeof ruleValue === 'object' &&\n\t\t'ref' in ruleValue &&\n\t\truleValue?.ref\n\t) {\n\t\tconst resolvedRuleValue = getCSSValueFromRawStyle(\n\t\t\tgetValueFromObjectPath( tree, ruleValue.ref )\n\t\t) as UnresolvedValue;\n\n\t\t/*\n\t\t * Presence of another ref indicates a reference to another dynamic value.\n\t\t * Pointing to another dynamic value is not supported.\n\t\t */\n\t\tif (\n\t\t\ttypeof resolvedRuleValue === 'object' &&\n\t\t\tresolvedRuleValue !== null &&\n\t\t\t'ref' in resolvedRuleValue &&\n\t\t\tresolvedRuleValue?.ref\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif ( resolvedRuleValue === undefined ) {\n\t\t\treturn ruleValue;\n\t\t}\n\n\t\treturn resolvedRuleValue;\n\t}\n\treturn ruleValue;\n}\n\n/**\n * Looks up a theme file URI based on a relative path.\n *\n * @param file          A relative path.\n * @param themeFileURIs A collection of absolute theme file URIs and their corresponding file paths.\n * @return A resolved theme file URI, if one is found in the themeFileURIs collection.\n */\nexport function getResolvedThemeFilePath(\n\tfile: string,\n\tthemeFileURIs?: ThemeFileLink[]\n) {\n\tif ( ! file || ! themeFileURIs || ! Array.isArray( themeFileURIs ) ) {\n\t\treturn file;\n\t}\n\n\tconst uri = themeFileURIs.find(\n\t\t( themeFileUri ) => themeFileUri?.name === file\n\t);\n\n\tif ( ! uri?.href ) {\n\t\treturn file;\n\t}\n\n\treturn uri?.href;\n}\n\n/**\n * Resolves ref and relative path values in theme JSON.\n *\n * @param ruleValue A block style value that may contain a reference to a theme.json value.\n * @param tree      A theme.json object.\n * @return The resolved value or incoming ruleValue.\n */\nexport function getResolvedValue(\n\truleValue: UnresolvedValue,\n\ttree: GlobalStylesConfig | undefined\n) {\n\tif ( ! ruleValue || ! tree ) {\n\t\treturn ruleValue;\n\t}\n\n\t// Resolve ref values.\n\tconst resolvedValue = getResolvedRefValue( ruleValue, tree );\n\n\t// Resolve relative paths.\n\tif (\n\t\ttypeof resolvedValue === 'object' &&\n\t\tresolvedValue !== null &&\n\t\t'url' in resolvedValue &&\n\t\tresolvedValue?.url\n\t) {\n\t\tresolvedValue.url = getResolvedThemeFilePath(\n\t\t\tresolvedValue.url,\n\t\t\ttree?._links?.[ 'wp:theme-file' ]\n\t\t);\n\t}\n\n\treturn resolvedValue;\n}\n\nfunction findInPresetsBy(\n\tsettings: GlobalStylesSettings,\n\tblockName?: string,\n\tpresetPath: string[] = [],\n\tpresetProperty: string = 'slug',\n\tpresetValueValue?: string\n) {\n\t// Block presets take priority above root level presets.\n\tconst orderedPresetsByOrigin = [\n\t\tblockName\n\t\t\t? getValueFromObjectPath( settings, [\n\t\t\t\t\t'blocks',\n\t\t\t\t\tblockName,\n\t\t\t\t\t...presetPath,\n\t\t\t  ] )\n\t\t\t: undefined,\n\t\tgetValueFromObjectPath( settings, presetPath ),\n\t].filter( Boolean );\n\n\tfor ( const presetByOrigin of orderedPresetsByOrigin ) {\n\t\tif ( presetByOrigin ) {\n\t\t\t// Preset origins ordered by priority.\n\t\t\tconst origins = [ 'custom', 'theme', 'default' ];\n\t\t\tfor ( const origin of origins ) {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tconst presets = presetByOrigin[ origin ];\n\t\t\t\tif ( presets ) {\n\t\t\t\t\tconst presetObject = presets.find(\n\t\t\t\t\t\t( preset: any ) =>\n\t\t\t\t\t\t\tpreset[ presetProperty ] === presetValueValue\n\t\t\t\t\t);\n\t\t\t\t\tif ( presetObject ) {\n\t\t\t\t\t\tif ( presetProperty === 'slug' ) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If there is a highest priority preset with the same slug but different value the preset we found was overwritten and should be ignored.\n\t\t\t\t\t\tconst highestPresetObjectWithSameSlug = findInPresetsBy(\n\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\tblockName,\n\t\t\t\t\t\t\tpresetPath,\n\t\t\t\t\t\t\t'slug',\n\t\t\t\t\t\t\tpresetObject.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thighestPresetObjectWithSameSlug[\n\t\t\t\t\t\t\t\tpresetProperty\n\t\t\t\t\t\t\t] === presetObject[ presetProperty ]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction getValueFromPresetVariable(\n\tfeatures: GlobalStylesConfig,\n\tblockName?: string,\n\tvariable?: string,\n\t[ presetType, slug ]: string[] = []\n) {\n\tconst metadata = PRESET_METADATA.find(\n\t\t( data ) => data.cssVarInfix === presetType\n\t);\n\tif ( ! metadata || ! features.settings ) {\n\t\treturn variable;\n\t}\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures.settings,\n\t\tblockName,\n\t\tmetadata.path,\n\t\t'slug',\n\t\tslug\n\t);\n\n\tif ( presetObject ) {\n\t\tconst { valueKey } = metadata;\n\t\tconst result = presetObject[ valueKey ];\n\t\treturn getValueFromVariable( features, blockName, result );\n\t}\n\n\treturn variable;\n}\n\nfunction getValueFromCustomVariable(\n\tfeatures: GlobalStylesConfig,\n\tblockName?: string,\n\tvariable?: string,\n\tpath: string[] = []\n): string | undefined {\n\tconst result =\n\t\t( blockName\n\t\t\t? getValueFromObjectPath( features?.settings ?? {}, [\n\t\t\t\t\t'blocks',\n\t\t\t\t\tblockName,\n\t\t\t\t\t'custom',\n\t\t\t\t\t...path,\n\t\t\t  ] )\n\t\t\t: undefined ) ??\n\t\tgetValueFromObjectPath( features?.settings ?? {}, [\n\t\t\t'custom',\n\t\t\t...path,\n\t\t] );\n\tif ( ! result ) {\n\t\treturn variable;\n\t}\n\t// A variable may reference another variable so we need recursion until we find the value.\n\treturn getValueFromVariable( features, blockName, result as string );\n}\n\n/**\n * Attempts to fetch the value of a theme.json CSS variable.\n *\n * This function resolves CSS variable references in two formats:\n * - User format: `var:preset|color|red` or `var:custom|spacing|small`\n * - Theme format: `var(--wp--preset--color--red)` or `var(--wp--custom--spacing--small)`\n *\n * It also handles ref-style variables in the format `{ ref: \"path.to.value\" }`.\n *\n * @param features  GlobalStylesContext config (user, base, or merged). Represents the theme.json tree.\n * @param blockName The name of a block as represented in the styles property. E.g., 'root' for root-level, and 'core/block-name' for blocks.\n * @param variable  An incoming style value. A CSS var value is expected, but it could be any value.\n * @return The value of the CSS var, if found. If not found, returns the original variable argument.\n */\nexport function getValueFromVariable(\n\tfeatures: GlobalStylesConfig,\n\tblockName?: string,\n\tvariable?: string | UnresolvedValue\n): any {\n\tif ( ! variable || typeof variable !== 'string' ) {\n\t\tif (\n\t\t\ttypeof variable === 'object' &&\n\t\t\tvariable !== null &&\n\t\t\t'ref' in variable &&\n\t\t\ttypeof variable.ref === 'string'\n\t\t) {\n\t\t\tconst resolvedVariable = getValueFromObjectPath(\n\t\t\t\tfeatures,\n\t\t\t\tvariable.ref\n\t\t\t);\n\t\t\t// Presence of another ref indicates a reference to another dynamic value.\n\t\t\t// Pointing to another dynamic value is not supported.\n\t\t\tif (\n\t\t\t\t! resolvedVariable ||\n\t\t\t\t( typeof resolvedVariable === 'object' &&\n\t\t\t\t\t'ref' in resolvedVariable )\n\t\t\t) {\n\t\t\t\treturn resolvedVariable;\n\t\t\t}\n\t\t\tvariable = resolvedVariable as string;\n\t\t} else {\n\t\t\treturn variable;\n\t\t}\n\t}\n\tconst USER_VALUE_PREFIX = 'var:';\n\tconst THEME_VALUE_PREFIX = 'var(--wp--';\n\tconst THEME_VALUE_SUFFIX = ')';\n\n\tlet parsedVar;\n\n\tif ( variable.startsWith( USER_VALUE_PREFIX ) ) {\n\t\tparsedVar = variable.slice( USER_VALUE_PREFIX.length ).split( '|' );\n\t} else if (\n\t\tvariable.startsWith( THEME_VALUE_PREFIX ) &&\n\t\tvariable.endsWith( THEME_VALUE_SUFFIX )\n\t) {\n\t\tparsedVar = variable\n\t\t\t.slice( THEME_VALUE_PREFIX.length, -THEME_VALUE_SUFFIX.length )\n\t\t\t.split( '--' );\n\t} else {\n\t\t// We don't know how to parse the value: either is raw of uses complex CSS such as `calc(1px * var(--wp--variable) )`\n\t\treturn variable;\n\t}\n\n\tconst [ type, ...path ] = parsedVar;\n\tif ( type === 'preset' ) {\n\t\treturn getValueFromPresetVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\tif ( type === 'custom' ) {\n\t\treturn getValueFromCustomVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\treturn variable;\n}\n\n/**\n * Encodes a value to a preset variable format if it matches a preset.\n * This is the inverse operation of getValueFromVariable().\n *\n * @example\n * ```js\n * const presetVar = getPresetVariableFromValue(\n *     globalStyles.settings,\n *     'core/paragraph',\n *     'color.text',\n *     '#ff0000'\n * );\n * // If #ff0000 is the 'red' preset color, returns 'var:preset|color|red'\n * // Otherwise returns '#ff0000'\n * ```\n *\n * @param features            GlobalStylesContext settings object.\n * @param blockName           The name of a block (e.g., 'core/paragraph').\n * @param variableStylePath   The style path (e.g., 'color.text', 'typography.fontSize').\n * @param presetPropertyValue The value to encode (e.g., '#ff0000').\n * @return The preset variable if found, otherwise the original value.\n */\nexport function getPresetVariableFromValue(\n\tfeatures: GlobalStylesSettings,\n\tblockName: string | undefined,\n\tvariableStylePath: string,\n\tpresetPropertyValue: any\n): any {\n\tif ( ! presetPropertyValue ) {\n\t\treturn presetPropertyValue;\n\t}\n\n\tconst cssVarInfix = STYLE_PATH_TO_CSS_VAR_INFIX[ variableStylePath ];\n\n\tconst metadata = PRESET_METADATA.find(\n\t\t( data ) => data.cssVarInfix === cssVarInfix\n\t);\n\n\tif ( ! metadata ) {\n\t\t// The property doesn't have preset data\n\t\t// so the value should be returned as it is.\n\t\treturn presetPropertyValue;\n\t}\n\tconst { valueKey, path } = metadata;\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures,\n\t\tblockName,\n\t\tpath,\n\t\tvalueKey,\n\t\tpresetPropertyValue\n\t);\n\n\tif ( ! presetObject ) {\n\t\t// Value wasn't found in the presets,\n\t\t// so it must be a custom value.\n\t\treturn presetPropertyValue;\n\t}\n\n\treturn `var:preset|${ cssVarInfix }|${ presetObject.slug }`;\n}\n", "/**\n * The fluid utilities must match the backend equivalent.\n * See: gutenberg_get_typography_font_size_value() in lib/block-supports/typography.php\n * ---------------------------------------------------------------\n */\n\n// Defaults.\nconst DEFAULT_MAXIMUM_VIEWPORT_WIDTH = '1600px';\nconst DEFAULT_MINIMUM_VIEWPORT_WIDTH = '320px';\nconst DEFAULT_SCALE_FACTOR = 1;\nconst DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN = 0.25;\nconst DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX = 0.75;\nconst DEFAULT_MINIMUM_FONT_SIZE_LIMIT = '14px';\n\n/**\n * Computes a fluid font-size value that uses clamp(). A minimum and maximum\n * font size OR a single font size can be specified.\n *\n * If a single font size is specified, it is scaled up and down using a logarithmic scale.\n *\n * @example\n * ```js\n * // Calculate fluid font-size value from a minimum and maximum value.\n * const fontSize = getComputedFluidTypographyValue( {\n *     minimumFontSize: '20px',\n *     maximumFontSize: '45px'\n * } );\n * // Calculate fluid font-size value from a single font size.\n * const fontSize = getComputedFluidTypographyValue( {\n *     fontSize: '30px',\n * } );\n * ```\n *\n * @param {Object}        args\n * @param {?string}       args.minimumViewportWidth Minimum viewport size from which type will have fluidity. Optional if fontSize is specified.\n * @param {?string}       args.maximumViewportWidth Maximum size up to which type will have fluidity. Optional if fontSize is specified.\n * @param {string|number} [args.fontSize]           Size to derive maximumFontSize and minimumFontSize from, if necessary. Optional if minimumFontSize and maximumFontSize are specified.\n * @param {?string}       args.maximumFontSize      Maximum font size for any clamp() calculation. Optional.\n * @param {?string}       args.minimumFontSize      Minimum font size for any clamp() calculation. Optional.\n * @param {?number}       args.scaleFactor          A scale factor to determine how fast a font scales within boundaries. Optional.\n * @param {?string}       args.minimumFontSizeLimit The smallest a calculated font size may be. Optional.\n *\n * @return {string|null} A font-size value using clamp().\n */\nexport function getComputedFluidTypographyValue( {\n\tminimumFontSize,\n\tmaximumFontSize,\n\tfontSize,\n\tminimumViewportWidth = DEFAULT_MINIMUM_VIEWPORT_WIDTH,\n\tmaximumViewportWidth = DEFAULT_MAXIMUM_VIEWPORT_WIDTH,\n\tscaleFactor = DEFAULT_SCALE_FACTOR,\n\tminimumFontSizeLimit,\n}: {\n\tminimumFontSize?: string;\n\tmaximumFontSize?: string;\n\tfontSize?: string | number;\n\tminimumViewportWidth?: string;\n\tmaximumViewportWidth?: string;\n\tscaleFactor?: number;\n\tminimumFontSizeLimit?: string;\n} ) {\n\t// Validate incoming settings and set defaults.\n\tminimumFontSizeLimit = !! getTypographyValueAndUnit( minimumFontSizeLimit )\n\t\t? minimumFontSizeLimit\n\t\t: DEFAULT_MINIMUM_FONT_SIZE_LIMIT;\n\n\t/*\n\t * Calculates missing minimumFontSize and maximumFontSize from\n\t * defaultFontSize if provided.\n\t */\n\tif ( fontSize ) {\n\t\t// Parses default font size.\n\t\tconst fontSizeParsed = getTypographyValueAndUnit( fontSize );\n\n\t\t// Protect against invalid units.\n\t\tif ( ! fontSizeParsed?.unit || ! fontSizeParsed?.value ) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Parses the minimum font size limit, so we can perform checks using it.\n\t\tconst minimumFontSizeLimitParsed = getTypographyValueAndUnit(\n\t\t\tminimumFontSizeLimit,\n\t\t\t{\n\t\t\t\tcoerceTo: fontSizeParsed.unit,\n\t\t\t}\n\t\t);\n\n\t\t// Don't enforce minimum font size if a font size has explicitly set a min and max value.\n\t\tif (\n\t\t\t!! minimumFontSizeLimitParsed?.value &&\n\t\t\t! minimumFontSize &&\n\t\t\t! maximumFontSize\n\t\t) {\n\t\t\t/*\n\t\t\t * If a minimum size was not passed to this function\n\t\t\t * and the user-defined font size is lower than $minimum_font_size_limit,\n\t\t\t * do not calculate a fluid value.\n\t\t\t */\n\t\t\tif ( fontSizeParsed?.value <= minimumFontSizeLimitParsed?.value ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// If no fluid max font size is available use the incoming value.\n\t\tif ( ! maximumFontSize ) {\n\t\t\tmaximumFontSize = `${ fontSizeParsed.value }${ fontSizeParsed.unit }`;\n\t\t}\n\n\t\t/*\n\t\t * If no minimumFontSize is provided, create one using\n\t\t * the given font size multiplied by the min font size scale factor.\n\t\t */\n\t\tif ( ! minimumFontSize ) {\n\t\t\tconst fontSizeValueInPx =\n\t\t\t\tfontSizeParsed.unit === 'px'\n\t\t\t\t\t? fontSizeParsed.value\n\t\t\t\t\t: fontSizeParsed.value * 16;\n\n\t\t\t/*\n\t\t\t * The scale factor is a multiplier that affects how quickly the curve will move towards the minimum,\n\t\t\t * that is, how quickly the size factor reaches 0 given increasing font size values.\n\t\t\t * For a - b * log2(), lower values of b will make the curve move towards the minimum faster.\n\t\t\t * The scale factor is constrained between min and max values.\n\t\t\t */\n\t\t\tconst minimumFontSizeFactor = Math.min(\n\t\t\t\tMath.max(\n\t\t\t\t\t1 - 0.075 * Math.log2( fontSizeValueInPx ),\n\t\t\t\t\tDEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN\n\t\t\t\t),\n\t\t\t\tDEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX\n\t\t\t);\n\n\t\t\t// Calculates the minimum font size.\n\t\t\tconst calculatedMinimumFontSize = roundToPrecision(\n\t\t\t\tfontSizeParsed.value * minimumFontSizeFactor,\n\t\t\t\t3\n\t\t\t) as number;\n\n\t\t\t// Only use calculated min font size if it's > $minimum_font_size_limit value.\n\t\t\tif (\n\t\t\t\t!! minimumFontSizeLimitParsed?.value &&\n\t\t\t\tcalculatedMinimumFontSize < minimumFontSizeLimitParsed?.value\n\t\t\t) {\n\t\t\t\tminimumFontSize = `${ minimumFontSizeLimitParsed.value }${ minimumFontSizeLimitParsed.unit }`;\n\t\t\t} else {\n\t\t\t\tminimumFontSize = `${ calculatedMinimumFontSize }${ fontSizeParsed.unit }`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Grab the minimum font size and normalize it in order to use the value for calculations.\n\tconst minimumFontSizeParsed = getTypographyValueAndUnit( minimumFontSize );\n\n\t// We get a 'preferred' unit to keep units consistent when calculating,\n\t// otherwise the result will not be accurate.\n\tconst fontSizeUnit = minimumFontSizeParsed?.unit || 'rem';\n\n\t// Grabs the maximum font size and normalize it in order to use the value for calculations.\n\tconst maximumFontSizeParsed = getTypographyValueAndUnit( maximumFontSize, {\n\t\tcoerceTo: fontSizeUnit,\n\t} );\n\n\t// Checks for mandatory min and max sizes, and protects against unsupported units.\n\tif ( ! minimumFontSizeParsed || ! maximumFontSizeParsed ) {\n\t\treturn null;\n\t}\n\n\t// Uses rem for accessible fluid target font scaling.\n\tconst minimumFontSizeRem = getTypographyValueAndUnit( minimumFontSize, {\n\t\tcoerceTo: 'rem',\n\t} );\n\n\t// Viewport widths defined for fluid typography. Normalize units\n\tconst maximumViewportWidthParsed = getTypographyValueAndUnit(\n\t\tmaximumViewportWidth,\n\t\t{ coerceTo: fontSizeUnit }\n\t);\n\tconst minimumViewportWidthParsed = getTypographyValueAndUnit(\n\t\tminimumViewportWidth,\n\t\t{ coerceTo: fontSizeUnit }\n\t);\n\n\t// Protect against unsupported units.\n\tif (\n\t\t! maximumViewportWidthParsed ||\n\t\t! minimumViewportWidthParsed ||\n\t\t! minimumFontSizeRem\n\t) {\n\t\treturn null;\n\t}\n\n\t// Calculates the linear factor denominator. If it's 0, we cannot calculate a fluid value.\n\tconst linearDenominator =\n\t\tmaximumViewportWidthParsed.value - minimumViewportWidthParsed.value;\n\tif ( ! linearDenominator ) {\n\t\treturn null;\n\t}\n\n\t// Build CSS rule.\n\t// Borrowed from https://websemantics.uk/tools/responsive-font-calculator/.\n\tconst minViewportWidthOffsetValue = roundToPrecision(\n\t\tminimumViewportWidthParsed.value / 100,\n\t\t3\n\t);\n\n\tconst viewportWidthOffset =\n\t\troundToPrecision( minViewportWidthOffsetValue, 3 ) + fontSizeUnit;\n\tconst linearFactor =\n\t\t100 *\n\t\t( ( maximumFontSizeParsed.value - minimumFontSizeParsed.value ) /\n\t\t\tlinearDenominator );\n\tconst linearFactorScaled = roundToPrecision(\n\t\t( linearFactor || 1 ) * scaleFactor,\n\t\t3\n\t);\n\tconst fluidTargetFontSize = `${ minimumFontSizeRem.value }${ minimumFontSizeRem.unit } + ((1vw - ${ viewportWidthOffset }) * ${ linearFactorScaled })`;\n\n\treturn `clamp(${ minimumFontSize }, ${ fluidTargetFontSize }, ${ maximumFontSize })`;\n}\n\n/**\n * Internal method that checks a string for a unit and value and returns an array consisting of `'value'` and `'unit'`, e.g., [ '42', 'rem' ].\n * A raw font size of `value + unit` is expected. If the value is an integer, it will convert to `value + 'px'`.\n *\n * @param rawValue Raw size value from theme.json.\n * @param options  Calculation options.\n *\n * @return An object consisting of `'value'` and `'unit'` properties.\n */\nexport function getTypographyValueAndUnit(\n\trawValue?: string | number,\n\toptions = {}\n) {\n\tif ( typeof rawValue !== 'string' && typeof rawValue !== 'number' ) {\n\t\treturn null;\n\t}\n\n\t// Converts numeric values to pixel values by default.\n\tif ( isFinite( rawValue as number ) ) {\n\t\trawValue = `${ rawValue }px`;\n\t}\n\n\tconst { coerceTo, rootSizeValue, acceptableUnits } = {\n\t\tcoerceTo: '',\n\t\t// Default browser font size. Later we could inject some JS to compute this `getComputedStyle( document.querySelector( \"html\" ) ).fontSize`.\n\t\trootSizeValue: 16,\n\t\tacceptableUnits: [ 'rem', 'px', 'em' ],\n\t\t...options,\n\t};\n\n\tconst acceptableUnitsGroup = acceptableUnits?.join( '|' );\n\tconst regexUnits = new RegExp(\n\t\t`^(\\\\d*\\\\.?\\\\d+)(${ acceptableUnitsGroup }){1,1}$`\n\t);\n\n\tconst matches = rawValue.toString().match( regexUnits );\n\n\t// We need a number value and a unit.\n\tif ( ! matches || matches.length < 3 ) {\n\t\treturn null;\n\t}\n\n\tlet [ , value, unit ] = matches;\n\n\tlet returnValue = parseFloat( value );\n\n\tif ( 'px' === coerceTo && ( 'em' === unit || 'rem' === unit ) ) {\n\t\treturnValue = returnValue * rootSizeValue;\n\t\tunit = coerceTo;\n\t}\n\n\tif ( 'px' === unit && ( 'em' === coerceTo || 'rem' === coerceTo ) ) {\n\t\treturnValue = returnValue / rootSizeValue;\n\t\tunit = coerceTo;\n\t}\n\n\t/*\n\t * No calculation is required if swapping between em and rem yet,\n\t * since we assume a root size value. Later we might like to differentiate between\n\t * :root font size (rem) and parent element font size (em) relativity.\n\t */\n\tif (\n\t\t( 'em' === coerceTo || 'rem' === coerceTo ) &&\n\t\t( 'em' === unit || 'rem' === unit )\n\t) {\n\t\tunit = coerceTo;\n\t}\n\n\tif ( ! unit ) {\n\t\treturn null;\n\t}\n\n\treturn {\n\t\tvalue: roundToPrecision( returnValue, 3 ),\n\t\tunit,\n\t};\n}\n\n/**\n * Returns a value rounded to defined precision.\n * Returns `undefined` if the value is not a valid finite number.\n *\n * @param value  Raw value.\n * @param digits The number of digits to appear after the decimal point\n *\n * @return Value rounded to standard precision.\n */\nexport function roundToPrecision( value: number, digits: number = 3 ) {\n\tconst base = Math.pow( 10, digits );\n\treturn Math.round( value * base ) / base;\n}\n", "/**\n * Internal dependencies\n */\nimport type {\n\tTypographyPreset,\n\tGlobalStylesSettings,\n\tFluidTypographySettings,\n\tTypographySettings,\n} from '../types';\nimport {\n\tgetTypographyValueAndUnit,\n\tgetComputedFluidTypographyValue,\n} from './fluid';\n\n/**\n * Checks if fluid typography is enabled in the given typography settings.\n *\n * Fluid typography is considered enabled if the fluid setting is explicitly set to true,\n * or if it's an object with properties (which would contain fluid typography configuration\n * like minViewportWidth, maxViewportWidth, etc.).\n *\n * @param typographySettings       Typography settings object that may contain fluid typography configuration.\n * @param typographySettings.fluid Fluid typography configuration. Can be:\n *                                 - `true` to enable with default settings\n *                                 - An object with fluid settings (minViewportWidth, maxViewportWidth, etc.)\n *                                 - `false` or `undefined` to disable\n *\n * @return True if fluid typography is enabled, false otherwise.\n */\nfunction isFluidTypographyEnabled(\n\ttypographySettings?: TypographySettings | TypographyPreset\n) {\n\tconst fluidSettings = typographySettings?.fluid;\n\treturn (\n\t\ttrue === fluidSettings ||\n\t\t( fluidSettings &&\n\t\t\ttypeof fluidSettings === 'object' &&\n\t\t\tObject.keys( fluidSettings ).length > 0 )\n\t);\n}\n\n/**\n * Returns fluid typography settings from theme.json setting object.\n *\n * @param settings            Theme.json settings\n * @param settings.typography Theme.json typography settings\n * @param settings.layout     Theme.json layout settings\n * @return Fluid typography settings\n */\nexport function getFluidTypographyOptionsFromSettings(\n\tsettings: GlobalStylesSettings\n): { fluid?: FluidTypographySettings | boolean | undefined } {\n\tconst typographySettings = settings?.typography ?? {};\n\tconst layoutSettings = settings?.layout;\n\tconst defaultMaxViewportWidth = getTypographyValueAndUnit(\n\t\tlayoutSettings?.wideSize\n\t)\n\t\t? layoutSettings?.wideSize\n\t\t: null;\n\treturn isFluidTypographyEnabled( typographySettings ) &&\n\t\tdefaultMaxViewportWidth\n\t\t? {\n\t\t\t\tfluid: {\n\t\t\t\t\tmaxViewportWidth: defaultMaxViewportWidth,\n\t\t\t\t\t...( typeof typographySettings.fluid === 'object'\n\t\t\t\t\t\t? typographySettings.fluid\n\t\t\t\t\t\t: {} ),\n\t\t\t\t},\n\t\t  }\n\t\t: {\n\t\t\t\tfluid: typographySettings?.fluid,\n\t\t  };\n}\n\n/**\n * Returns a font-size value based on a given font-size preset.\n * Takes into account fluid typography parameters and attempts to return a css formula depending on available, valid values.\n *\n * The Core PHP equivalent is wp_get_typography_font_size_value().\n *\n * @param preset   A typography preset object containing size and fluid properties.\n * @param settings Global styles settings object containing typography and layout settings.\n *\n * @return A font-size value or the value of preset.size.\n */\nexport function getTypographyFontSizeValue(\n\tpreset: TypographyPreset,\n\tsettings: GlobalStylesSettings\n) {\n\tconst { size: defaultSize } = preset;\n\n\t/*\n\t * Catch falsy values and 0/'0'. Fluid calculations cannot be performed on `0`.\n\t * Also return early when a preset font size explicitly disables fluid typography with `false`.\n\t */\n\tif ( ! defaultSize || '0' === defaultSize || false === preset?.fluid ) {\n\t\treturn defaultSize;\n\t}\n\n\t/*\n\t * Return early when fluid typography is disabled in the settings, and there\n\t * are no local settings to enable it for the individual preset.\n\t *\n\t * If this condition isn't met, either the settings or individual preset settings\n\t * have enabled fluid typography.\n\t */\n\tif (\n\t\t! isFluidTypographyEnabled( settings?.typography ) &&\n\t\t! isFluidTypographyEnabled( preset )\n\t) {\n\t\treturn defaultSize;\n\t}\n\n\tconst fluidTypographySettings =\n\t\tgetFluidTypographyOptionsFromSettings( settings )?.fluid ?? {};\n\n\tconst fluidFontSizeValue = getComputedFluidTypographyValue( {\n\t\tminimumFontSize:\n\t\t\ttypeof preset?.fluid === 'boolean' ? undefined : preset?.fluid?.min,\n\t\tmaximumFontSize:\n\t\t\ttypeof preset?.fluid === 'boolean' ? undefined : preset?.fluid?.max,\n\t\tfontSize: defaultSize,\n\t\tminimumFontSizeLimit:\n\t\t\ttypeof fluidTypographySettings === 'object'\n\t\t\t\t? fluidTypographySettings?.minFontSize\n\t\t\t\t: undefined,\n\t\tmaximumViewportWidth:\n\t\t\ttypeof fluidTypographySettings === 'object'\n\t\t\t\t? fluidTypographySettings?.maxViewportWidth\n\t\t\t\t: undefined,\n\t\tminimumViewportWidth:\n\t\t\ttypeof fluidTypographySettings === 'object'\n\t\t\t\t? fluidTypographySettings?.minViewportWidth\n\t\t\t\t: undefined,\n\t} );\n\n\tif ( !! fluidFontSizeValue ) {\n\t\treturn fluidFontSizeValue;\n\t}\n\n\treturn defaultSize;\n}\n", "/**\n * Internal dependencies\n */\nimport { getValueFromObjectPath } from '../utils/object';\nimport { getValueFromVariable } from '../utils/common';\nimport type { GlobalStylesConfig, UnresolvedValue } from '../types';\n\nexport function getStyle< T = any >(\n\tglobalStyles?: GlobalStylesConfig,\n\tpath?: string,\n\tblockName?: string,\n\tshouldDecodeEncode = true\n): T | undefined {\n\tconst appendedPath = path ? '.' + path : '';\n\tconst finalPath = ! blockName\n\t\t? `styles${ appendedPath }`\n\t\t: `styles.blocks.${ blockName }${ appendedPath }`;\n\tif ( ! globalStyles ) {\n\t\treturn undefined;\n\t}\n\n\tconst rawResult = getValueFromObjectPath( globalStyles, finalPath ) as\n\t\t| string\n\t\t| UnresolvedValue;\n\tconst result = shouldDecodeEncode\n\t\t? getValueFromVariable( globalStyles, blockName, rawResult )\n\t\t: rawResult;\n\treturn result as T | undefined;\n}\n", "/**\n * Internal dependencies\n */\nimport { setImmutably } from '../utils/object';\nimport type { GlobalStylesConfig } from '../types';\n\nexport function setStyle< T = any >(\n\tglobalStyles: GlobalStylesConfig,\n\tpath: string,\n\tnewValue: T | undefined,\n\tblockName?: string\n): GlobalStylesConfig {\n\tconst appendedPath = path ? '.' + path : '';\n\tconst finalPath = ! blockName\n\t\t? `styles${ appendedPath }`\n\t\t: `styles.blocks.${ blockName }${ appendedPath }`;\n\n\treturn setImmutably(\n\t\tglobalStyles,\n\t\tfinalPath.split( '.' ),\n\t\tnewValue\n\t) as GlobalStylesConfig;\n}\n", "/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * Internal dependencies\n */\nimport type { GlobalStylesConfig } from '../types';\n\n/**\n * Compares global style variations according to their styles and settings properties.\n *\n * @param original  A global styles object.\n * @param variation A global styles object.\n * @return Whether `original` and `variation` match.\n */\nexport function areGlobalStylesEqual(\n\toriginal: GlobalStylesConfig,\n\tvariation: GlobalStylesConfig\n): boolean {\n\tif ( typeof original !== 'object' || typeof variation !== 'object' ) {\n\t\treturn original === variation;\n\t}\n\treturn (\n\t\tfastDeepEqual( original?.styles, variation?.styles ) &&\n\t\tfastDeepEqual( original?.settings, variation?.settings )\n\t);\n}\n", "/**\n * External dependencies\n */\nimport deepmerge from 'deepmerge';\n// @ts-ignore - is-plain-object doesn't have proper types\nimport { isPlainObject } from 'is-plain-object';\n\n/**\n * Internal dependencies\n */\nimport type { GlobalStylesConfig } from '../types';\n\n/**\n * Merges base and user global styles configurations\n *\n * @param base Base global styles (theme + WordPress defaults)\n * @param user User customizations\n * @return Merged global styles configuration\n */\nexport function mergeGlobalStyles(\n\tbase: GlobalStylesConfig,\n\tuser: GlobalStylesConfig\n): GlobalStylesConfig {\n\treturn deepmerge( base, user, {\n\t\t/*\n\t\t * We only pass as arrays the presets,\n\t\t * in which case we want the new array of values\n\t\t * to override the old array (no merging).\n\t\t */\n\t\tisMergeableObject: isPlainObject,\n\t\t/*\n\t\t * Exceptions to the above rule.\n\t\t * Background images should be replaced, not merged,\n\t\t * as they themselves are specific object definitions for the style.\n\t\t */\n\t\tcustomMerge: ( key ) => {\n\t\t\tif ( key === 'backgroundImage' ) {\n\t\t\t\treturn ( baseConfig, userConfig ) => userConfig ?? baseConfig;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\t} );\n}\n", "/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n", "var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n", "/**\n * External dependencies\n */\nimport type { ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\nimport { mergeGlobalStyles } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\n\ninterface GlobalStylesProviderProps {\n\tchildren: ReactNode;\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( newValue: GlobalStylesConfig ) => void;\n\tfontLibraryEnabled?: boolean;\n}\n\nexport function GlobalStylesProvider( {\n\tchildren,\n\tvalue,\n\tbaseValue,\n\tonChange,\n\tfontLibraryEnabled,\n}: GlobalStylesProviderProps ) {\n\t// Compute merged with memoization since merging can be expensive\n\tconst merged = useMemo( () => {\n\t\treturn mergeGlobalStyles( baseValue, value );\n\t}, [ baseValue, value ] );\n\n\tconst contextValue = useMemo(\n\t\t() => ( {\n\t\t\tuser: value,\n\t\t\tbase: baseValue,\n\t\t\tmerged,\n\t\t\tonChange,\n\t\t\tfontLibraryEnabled,\n\t\t} ),\n\t\t[ value, baseValue, merged, onChange, fontLibraryEnabled ]\n\t);\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ contextValue }>\n\t\t\t{ children }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\nexport interface GlobalStylesContextType {\n\tuser: GlobalStylesConfig;\n\tbase: GlobalStylesConfig;\n\tmerged: GlobalStylesConfig;\n\tonChange: ( newValue: GlobalStylesConfig ) => void;\n\tfontLibraryEnabled?: boolean;\n}\n\nexport const GlobalStylesContext = createContext< GlobalStylesContextType >( {\n\tuser: { styles: {}, settings: {} },\n\tbase: { styles: {}, settings: {} },\n\tmerged: { styles: {}, settings: {} },\n\tonChange: () => {},\n\tfontLibraryEnabled: false,\n} );\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalVStack as VStack,\n\tFlexItem,\n\tCardBody,\n\tCard,\n\tCardDivider,\n\tCardMedia,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronLeft, chevronRight } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport RootMenu from './root-menu';\nimport PreviewStyles from './preview-styles';\n\nfunction ScreenRoot() {\n\tconst hasVariations = useSelect( ( select ) => {\n\t\tconst { __experimentalGetCurrentThemeGlobalStylesVariations } =\n\t\t\tselect( coreStore );\n\t\treturn !! __experimentalGetCurrentThemeGlobalStylesVariations()?.length;\n\t}, [] );\n\n\treturn (\n\t\t<Card\n\t\t\tsize=\"small\"\n\t\t\tisBorderless\n\t\t\tclassName=\"global-styles-ui-screen-root\"\n\t\t\tisRounded={ false }\n\t\t>\n\t\t\t<CardBody>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t<Card className=\"global-styles-ui-screen-root__active-style-tile\">\n\t\t\t\t\t\t<CardMedia className=\"global-styles-ui-screen-root__active-style-tile-preview\">\n\t\t\t\t\t\t\t<PreviewStyles />\n\t\t\t\t\t\t</CardMedia>\n\t\t\t\t\t</Card>\n\t\t\t\t\t{ hasVariations && (\n\t\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t\t<NavigationButtonAsItem path=\"/variations\">\n\t\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Browse styles' ) }\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronLeft : chevronRight\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t<RootMenu />\n\t\t\t\t</VStack>\n\t\t\t</CardBody>\n\n\t\t\t<CardDivider />\n\n\t\t\t<CardBody>\n\t\t\t\t<Spacer\n\t\t\t\t\tas=\"p\"\n\t\t\t\t\tpaddingTop={ 2 }\n\t\t\t\t\tpaddingX=\"13px\"\n\t\t\t\t\tmarginBottom={ 4 }\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Customize the appearance of specific blocks for the whole site.'\n\t\t\t\t\t) }\n\t\t\t\t</Spacer>\n\t\t\t\t<ItemGroup>\n\t\t\t\t\t<NavigationButtonAsItem path=\"/blocks\">\n\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t<FlexItem>{ __( 'Blocks' ) }</FlexItem>\n\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t</ItemGroup>\n\t\t\t</CardBody>\n\t\t</Card>\n\t);\n}\n\nexport default ScreenRoot;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Icon } from '@wordpress/icons';\n\ninterface IconWithCurrentColorProps {\n\ticon: any;\n\tclassName?: string;\n\tsize?: number;\n\t[ key: string ]: any;\n}\n\nexport function IconWithCurrentColor( {\n\tclassName,\n\t...props\n}: IconWithCurrentColorProps ) {\n\treturn (\n\t\t<Icon\n\t\t\tclassName={ clsx(\n\t\t\t\tclassName,\n\t\t\t\t'global-styles-ui-icon-with-current-color'\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tNavigator,\n\t__experimentalItem as Item,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\n\ninterface GenericNavigationButtonProps {\n\ticon?: any;\n\tchildren: React.ReactNode;\n\t[ key: string ]: any;\n}\n\nfunction GenericNavigationButton( {\n\ticon,\n\tchildren,\n\t...props\n}: GenericNavigationButtonProps ) {\n\treturn (\n\t\t<Item { ...props }>\n\t\t\t{ icon && (\n\t\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t\t<IconWithCurrentColor icon={ icon } size={ 24 } />\n\t\t\t\t\t<FlexItem>{ children }</FlexItem>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t{ ! icon && children }\n\t\t</Item>\n\t);\n}\n\ninterface NavigationButtonProps {\n\tpath: string;\n\ticon?: any;\n\tchildren: React.ReactNode;\n\t[ key: string ]: any;\n}\n\nexport function NavigationButtonAsItem( props: NavigationButtonProps ) {\n\treturn <Navigator.Button as={ GenericNavigationButton } { ...props } />;\n}\n\nexport function NavigationBackButtonAsItem( props: NavigationButtonProps ) {\n\treturn <Navigator.BackButton as={ GenericNavigationButton } { ...props } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport {\n\tbackground,\n\ttypography,\n\tcolor,\n\tlayout,\n\tshadow as shadowIcon,\n} from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport type { GlobalStylesSettings } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst {\n\tuseHasDimensionsPanel,\n\tuseHasTypographyPanel,\n\tuseHasColorPanel,\n\tuseSettingsForBlockElement,\n\tuseHasBackgroundPanel,\n} = unlock( blockEditorPrivateApis );\n\nfunction RootMenu() {\n\t// Get the raw settings from our custom hook\n\tconst [ rawSettings ] = useSetting< GlobalStylesSettings >( '' );\n\n\t// Process settings the same way as Gutenberg\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\n\t// Use the same panel detection logic as Gutenberg\n\tconst hasBackgroundPanel = useHasBackgroundPanel( rawSettings );\n\tconst hasTypographyPanel = useHasTypographyPanel( settings );\n\tconst hasColorPanel = useHasColorPanel( settings );\n\tconst hasShadowPanel = true; // Same as Gutenberg\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\tconst hasLayoutPanel = hasDimensionsPanel;\n\n\treturn (\n\t\t<>\n\t\t\t<ItemGroup>\n\t\t\t\t{ hasTypographyPanel && (\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\ticon={ typography }\n\t\t\t\t\t\tpath=\"/typography\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Typography' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasColorPanel && (\n\t\t\t\t\t<NavigationButtonAsItem icon={ color } path=\"/colors\">\n\t\t\t\t\t\t{ __( 'Colors' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasBackgroundPanel && (\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\ticon={ background }\n\t\t\t\t\t\tpath=\"/background\"\n\t\t\t\t\t\taria-label={ __( 'Background styles' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Background' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasShadowPanel && (\n\t\t\t\t\t<NavigationButtonAsItem icon={ shadowIcon } path=\"/shadows\">\n\t\t\t\t\t\t{ __( 'Shadows' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasLayoutPanel && (\n\t\t\t\t\t<NavigationButtonAsItem icon={ layout } path=\"/layout\">\n\t\t\t\t\t\t{ __( 'Layout' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t</ItemGroup>\n\t\t</>\n\t);\n}\n\nexport default RootMenu;\n", "var o=function(o){var t=o/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},t=function(t){return.2126*o(t.r)+.7152*o(t.g)+.0722*o(t.b)};export default function(o){o.prototype.luminance=function(){return o=t(this.rgba),void 0===(r=2)&&(r=0),void 0===n&&(n=Math.pow(10,r)),Math.round(n*o)/n+0;var o,r,n},o.prototype.contrast=function(r){void 0===r&&(r=\"#FFF\");var n,a,i,e,v,u,d,c=r instanceof o?r:new o(r);return e=this.rgba,v=c.toRgb(),u=t(e),d=t(v),n=u>d?(u+.05)/(d+.05):(d+.05)/(u+.05),void 0===(a=2)&&(a=0),void 0===i&&(i=Math.pow(10,a)),Math.floor(i*n)/i+0},o.prototype.isReadable=function(o,t){return void 0===o&&(o=\"#FFF\"),void 0===t&&(t={}),this.contrast(o)>=(e=void 0===(i=(r=t).size)?\"normal\":i,\"AAA\"===(a=void 0===(n=r.level)?\"AA\":n)&&\"normal\"===e?7:\"AA\"===a&&\"large\"===e?3:4.5);var r,n,a,i,e}}\n", "/**\n * External dependencies\n */\nimport { colord, extend } from 'colord';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useContext, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tgetStyle,\n\tsetStyle,\n\tgetSetting,\n\tsetSetting,\n\tmergeGlobalStyles,\n} from '@wordpress/global-styles-engine';\nimport type { StyleVariation, Color } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\nimport { removePropertiesFromObject, isVariationWithProperties } from './utils';\n\n// Enable colord's a11y plugin.\nextend( [ a11yPlugin ] );\n\n/**\n * Hook to get and set style values with memoization.\n *\n * @param path               The path to the style value.\n * @param blockName          The name of the block, if applicable.\n * @param readFrom           Which source to read from: \"base\" (theme), \"user\" (customizations), or \"merged\" (final result).\n * @param shouldDecodeEncode Whether to decode and encode the style value.\n * @return An array containing the style value and a function to set the style\n * value.\n *\n * @example\n * const [ color, setColor ] = useStyle<string>( 'color.text', 'core/button', 'merged' );\n */\nexport function useStyle< T = any >(\n\tpath: string,\n\tblockName?: string,\n\treadFrom: 'base' | 'user' | 'merged' = 'merged',\n\tshouldDecodeEncode: boolean = true\n) {\n\tconst { user, base, merged, onChange } = useContext( GlobalStylesContext );\n\n\tlet sourceValue = merged;\n\tif ( readFrom === 'base' ) {\n\t\tsourceValue = base;\n\t} else if ( readFrom === 'user' ) {\n\t\tsourceValue = user;\n\t}\n\n\tconst styleValue = useMemo(\n\t\t() => getStyle< T >( sourceValue, path, blockName, shouldDecodeEncode ),\n\t\t[ sourceValue, path, blockName, shouldDecodeEncode ]\n\t);\n\n\tconst setStyleValue = useCallback(\n\t\t( newValue: T | undefined ) => {\n\t\t\tconst newGlobalStyles = setStyle< T >(\n\t\t\t\tuser,\n\t\t\t\tpath,\n\t\t\t\tnewValue,\n\t\t\t\tblockName\n\t\t\t);\n\t\t\tonChange( newGlobalStyles );\n\t\t},\n\t\t[ user, onChange, path, blockName ]\n\t);\n\n\treturn [ styleValue, setStyleValue ] as const;\n}\n\n/**\n * Hook to get and set setting values with memoization.\n *\n * @param path      The path to the setting value.\n * @param blockName The name of the block, if applicable.\n * @param readFrom  Which source to read from: \"base\" (theme), \"user\" (customizations), or \"merged\" (final result).\n * @return An array containing the setting value and a function to set the\n * setting value.\n *\n * @example\n * const [ fontSize, setFontSize ] = useSetting<string>( 'fontSize', 'core/button', 'merged' );\n */\nexport function useSetting< T = any >(\n\tpath: string,\n\tblockName?: string,\n\treadFrom: 'base' | 'user' | 'merged' = 'merged'\n) {\n\tconst { user, base, merged, onChange } = useContext( GlobalStylesContext );\n\n\tlet sourceValue = merged;\n\tif ( readFrom === 'base' ) {\n\t\tsourceValue = base;\n\t} else if ( readFrom === 'user' ) {\n\t\tsourceValue = user;\n\t}\n\tconst settingValue = useMemo(\n\t\t() => getSetting< T >( sourceValue, path, blockName ),\n\t\t[ sourceValue, path, blockName ]\n\t);\n\n\tconst setSettingValue = useCallback(\n\t\t( newValue: T | undefined ) => {\n\t\t\tconst newGlobalStyles = setSetting< T >(\n\t\t\t\tuser,\n\t\t\t\tpath,\n\t\t\t\tnewValue,\n\t\t\t\tblockName\n\t\t\t);\n\t\t\tonChange( newGlobalStyles );\n\t\t},\n\t\t[ user, onChange, path, blockName ]\n\t);\n\n\treturn [ settingValue, setSettingValue ] as const;\n}\n\nconst EMPTY_ARRAY: StyleVariation[] = [];\n\n/**\n * Checks whether a style variation is empty.\n * @param root0\n * @param root0.title\n * @param root0.settings\n * @param root0.styles\n */\nfunction hasThemeVariation( {\n\ttitle,\n\tsettings,\n\tstyles,\n}: StyleVariation ): boolean {\n\treturn (\n\t\ttitle === __( 'Default' ) ||\n\t\tObject.keys( settings || {} ).length > 0 ||\n\t\tObject.keys( styles || {} ).length > 0\n\t);\n}\n\n/**\n * Fetches the current theme style variations that contain only the specified properties\n * and merges them with the user config.\n * @param properties\n */\nexport function useCurrentMergeThemeStyleVariationsWithUserConfig(\n\tproperties: string[] = []\n): StyleVariation[] {\n\tconst { variationsFromTheme } = useSelect( ( select ) => {\n\t\tconst _variationsFromTheme =\n\t\t\tselect(\n\t\t\t\tcoreStore\n\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations?.();\n\n\t\treturn {\n\t\t\tvariationsFromTheme: _variationsFromTheme || EMPTY_ARRAY,\n\t\t};\n\t}, [] );\n\n\tconst { user: userVariation } = useContext( GlobalStylesContext );\n\n\treturn useMemo( () => {\n\t\t// Create default variation from base, not user - this fixes the \"Default adapts\" issue\n\t\tconst clonedUserVariation = structuredClone( userVariation );\n\t\t// Get user variation and remove the settings for the given property.\n\t\tconst userVariationWithoutProperties = removePropertiesFromObject(\n\t\t\tclonedUserVariation,\n\t\t\tproperties\n\t\t);\n\t\tuserVariationWithoutProperties.title = __( 'Default' );\n\n\t\tconst variationsWithPropertiesAndBase = (\n\t\t\tvariationsFromTheme as StyleVariation[]\n\t\t )\n\t\t\t.filter( ( variation: StyleVariation ) => {\n\t\t\t\treturn isVariationWithProperties( variation, properties );\n\t\t\t} )\n\t\t\t.map( ( variation: StyleVariation ) => {\n\t\t\t\treturn mergeGlobalStyles(\n\t\t\t\t\tuserVariationWithoutProperties,\n\t\t\t\t\tvariation\n\t\t\t\t);\n\t\t\t} );\n\n\t\tconst variationsByProperties = [\n\t\t\tuserVariationWithoutProperties,\n\t\t\t...variationsWithPropertiesAndBase,\n\t\t];\n\n\t\treturn variationsByProperties?.length\n\t\t\t? variationsByProperties.filter( hasThemeVariation )\n\t\t\t: [];\n\t}, [ properties, userVariation, variationsFromTheme ] );\n}\n\nconst propertiesToFilter = [ 'color' ];\n\n/**\n * Hook to get color variations using the full Gutenberg implementation.\n */\nexport function useColorVariations(): StyleVariation[] {\n\treturn useCurrentMergeThemeStyleVariationsWithUserConfig(\n\t\tpropertiesToFilter\n\t);\n}\n\n/**\n * Hook to randomize theme colors using color rotation.\n *\n * @param blockName The name of the block, if applicable.\n * @return Array containing the randomize function if feature is enabled, empty array otherwise.\n */\nexport function useColorRandomizer( blockName?: string ): [ () => void ] | [] {\n\tconst [ themeColors, setThemeColors ] = useSetting< Color[] >(\n\t\t'color.palette.theme',\n\t\tblockName\n\t);\n\n\tconst randomizeColors = useCallback( () => {\n\t\tif ( ! themeColors || ! themeColors.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst randomRotationValue = Math.floor( Math.random() * 225 );\n\n\t\tconst newColors = themeColors.map( ( colorObject ) => {\n\t\t\tconst { color } = colorObject;\n\t\t\tconst newColor = colord( color )\n\t\t\t\t.rotate( randomRotationValue )\n\t\t\t\t.toHex();\n\n\t\t\treturn {\n\t\t\t\t...colorObject,\n\t\t\t\tcolor: newColor,\n\t\t\t};\n\t\t} );\n\n\t\tsetThemeColors( newColors );\n\t}, [ themeColors, setThemeColors ] );\n\n\treturn ( window as any ).__experimentalEnableColorRandomizer\n\t\t? [ randomizeColors ]\n\t\t: [];\n}\n", "/**\n * WordPress dependencies\n */\nimport { areGlobalStylesEqual } from '@wordpress/global-styles-engine';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Removes all instances of properties from an object.\n *\n * @param object     The object to remove the properties from.\n * @param properties The properties to remove.\n * @return The modified object.\n */\nexport function removePropertiesFromObject(\n\tobject: any,\n\tproperties: string[]\n): any {\n\tif ( ! properties?.length ) {\n\t\treturn object;\n\t}\n\n\tif (\n\t\ttypeof object !== 'object' ||\n\t\t! object ||\n\t\t! Object.keys( object ).length\n\t) {\n\t\treturn object;\n\t}\n\n\tfor ( const key in object ) {\n\t\tif ( properties.includes( key ) ) {\n\t\t\tdelete object[ key ];\n\t\t} else if ( typeof object[ key ] === 'object' ) {\n\t\t\tremovePropertiesFromObject( object[ key ], properties );\n\t\t}\n\t}\n\treturn object;\n}\n\n/**\n * Returns a new object, with properties specified in `properties` array.,\n * maintain the original object tree structure.\n * The function is recursive, so it will perform a deep search for the given properties.\n * E.g., the function will return `{ a: { b: { c: { test: 1 } } } }` if the properties are  `[ 'test' ]`.\n *\n * @param object     The object to filter\n * @param properties The properties to filter by\n * @return The merged object.\n */\nexport const filterObjectByProperties = (\n\tobject: any,\n\tproperties: string[]\n): any => {\n\tif ( ! object || ! properties?.length ) {\n\t\treturn {};\n\t}\n\n\tconst newObject: any = {};\n\tObject.keys( object ).forEach( ( key ) => {\n\t\tif ( properties.includes( key ) ) {\n\t\t\tnewObject[ key ] = object[ key ];\n\t\t} else if ( typeof object[ key ] === 'object' ) {\n\t\t\tconst newFilter = filterObjectByProperties(\n\t\t\t\tobject[ key ],\n\t\t\t\tproperties\n\t\t\t);\n\t\t\tif ( Object.keys( newFilter ).length ) {\n\t\t\t\tnewObject[ key ] = newFilter;\n\t\t\t}\n\t\t}\n\t} );\n\treturn newObject;\n};\n\n/**\n * Compares a style variation to the same variation filtered by the specified properties.\n * Returns true if the variation contains only the properties specified.\n *\n * @param variation  The variation to compare.\n * @param properties The properties to compare.\n * @return Whether the variation contains only the specified properties.\n */\nexport function isVariationWithProperties(\n\tvariation: GlobalStylesConfig,\n\tproperties: string[]\n): boolean {\n\tconst variationWithProperties = filterObjectByProperties(\n\t\tstructuredClone( variation ),\n\t\tproperties\n\t);\n\n\treturn areGlobalStylesEqual( variationWithProperties, variation );\n}\n\nfunction getFontFamilyFromSetting( fontFamilies: any[], setting: string ): any {\n\tif ( ! Array.isArray( fontFamilies ) || ! setting ) {\n\t\treturn null;\n\t}\n\n\tconst fontFamilyVariable = setting.replace( 'var(', '' ).replace( ')', '' );\n\tconst fontFamilySlug = fontFamilyVariable?.split( '--' ).slice( -1 )[ 0 ];\n\n\treturn fontFamilies.find(\n\t\t( fontFamily ) => fontFamily.slug === fontFamilySlug\n\t);\n}\n\n/**\n * Extracts font families from a theme JSON configuration.\n *\n * @param themeJson The theme JSON configuration\n * @return Array containing [bodyFontFamily, headingFontFamily]\n */\nexport function getFontFamilies( themeJson: any ): [ any, any ] {\n\tconst themeFontFamilies =\n\t\tthemeJson?.settings?.typography?.fontFamilies?.theme;\n\tconst customFontFamilies =\n\t\tthemeJson?.settings?.typography?.fontFamilies?.custom;\n\n\tlet fontFamilies: any[] = [];\n\tif ( themeFontFamilies && customFontFamilies ) {\n\t\tfontFamilies = [ ...themeFontFamilies, ...customFontFamilies ];\n\t} else if ( themeFontFamilies ) {\n\t\tfontFamilies = themeFontFamilies;\n\t} else if ( customFontFamilies ) {\n\t\tfontFamilies = customFontFamilies;\n\t}\n\tconst bodyFontFamilySetting = themeJson?.styles?.typography?.fontFamily;\n\tconst bodyFontFamily = getFontFamilyFromSetting(\n\t\tfontFamilies,\n\t\tbodyFontFamilySetting\n\t);\n\n\tconst headingFontFamilySetting =\n\t\tthemeJson?.styles?.elements?.heading?.typography?.fontFamily;\n\n\tlet headingFontFamily;\n\tif ( ! headingFontFamilySetting ) {\n\t\theadingFontFamily = bodyFontFamily;\n\t} else {\n\t\theadingFontFamily = getFontFamilyFromSetting(\n\t\t\tfontFamilies,\n\t\t\tthemeJson?.styles?.elements?.heading?.typography?.fontFamily\n\t\t);\n\t}\n\n\treturn [ bodyFontFamily, headingFontFamily ];\n}\n\nfunction findNearest( input: number, numbers: number[] ): number | null {\n\t// If the numbers array is empty, return null\n\tif ( numbers.length === 0 ) {\n\t\treturn null;\n\t}\n\t// Sort the array based on the absolute difference with the input\n\tnumbers.sort( ( a, b ) => Math.abs( input - a ) - Math.abs( input - b ) );\n\t// Return the first element (which will be the nearest) from the sorted array\n\treturn numbers[ 0 ];\n}\n\nfunction extractFontWeights( fontFaces: any[] ): number[] {\n\tconst result: number[] = [];\n\n\tfontFaces.forEach( ( face ) => {\n\t\tconst weights = String( face.fontWeight ).split( ' ' );\n\n\t\tif ( weights.length === 2 ) {\n\t\t\tconst start = parseInt( weights[ 0 ] );\n\t\t\tconst end = parseInt( weights[ 1 ] );\n\n\t\t\tfor ( let i = start; i <= end; i += 100 ) {\n\t\t\t\tresult.push( i );\n\t\t\t}\n\t\t} else if ( weights.length === 1 ) {\n\t\t\tresult.push( parseInt( weights[ 0 ] ) );\n\t\t}\n\t} );\n\n\treturn result;\n}\n\n/*\n * Format the font family to use in the CSS font-family property of a CSS rule.\n *\n * The input can be a string with the font family name or a string with multiple font family names separated by commas.\n * It follows the recommendations from the CSS Fonts Module Level 4.\n * https://www.w3.org/TR/css-fonts-4/#font-family-prop\n *\n * @param input - The font family.\n * @return The formatted font family.\n */\nexport function formatFontFamily( input: string ): string {\n\t// Matches strings that are not exclusively alphabetic characters or hyphens, and do not exactly follow the pattern generic(alphabetic characters or hyphens).\n\tconst regex = /^(?!generic\\([ a-zA-Z\\-]+\\)$)(?!^[a-zA-Z\\-]+$).+/;\n\tconst output = input.trim();\n\n\tconst formatItem = ( item: string ) => {\n\t\titem = item.trim();\n\t\tif ( item.match( regex ) ) {\n\t\t\t// removes leading and trailing quotes.\n\t\t\titem = item.replace( /^[\"']|[\"']$/g, '' );\n\t\t\treturn `\"${ item }\"`;\n\t\t}\n\t\treturn item;\n\t};\n\n\tif ( output.includes( ',' ) ) {\n\t\treturn output\n\t\t\t.split( ',' )\n\t\t\t.map( formatItem )\n\t\t\t.filter( ( item ) => item !== '' )\n\t\t\t.join( ', ' );\n\t}\n\n\treturn formatItem( output );\n}\n\n/**\n * Gets the preview style for a font family.\n *\n * @param family The font family object\n * @return CSS style object for the font family\n */\nexport function getFamilyPreviewStyle( family: any ): React.CSSProperties {\n\tconst style: React.CSSProperties = {\n\t\tfontFamily: formatFontFamily( family.fontFamily ),\n\t};\n\n\tif ( ! Array.isArray( family.fontFace ) ) {\n\t\tstyle.fontWeight = '400';\n\t\tstyle.fontStyle = 'normal';\n\t\treturn style;\n\t}\n\n\tif ( family.fontFace ) {\n\t\t//get all the font faces with normal style\n\t\tconst normalFaces = family.fontFace.filter(\n\t\t\t( face: any ) =>\n\t\t\t\tface?.fontStyle && face.fontStyle.toLowerCase() === 'normal'\n\t\t);\n\t\tif ( normalFaces.length > 0 ) {\n\t\t\tstyle.fontStyle = 'normal';\n\t\t\tconst normalWeights = extractFontWeights( normalFaces );\n\t\t\tconst nearestWeight = findNearest( 400, normalWeights );\n\t\t\tstyle.fontWeight = String( nearestWeight ) || '400';\n\t\t} else {\n\t\t\tstyle.fontStyle =\n\t\t\t\t( family.fontFace.length && family.fontFace[ 0 ].fontStyle ) ||\n\t\t\t\t'normal';\n\t\t\tstyle.fontWeight =\n\t\t\t\t( family.fontFace.length &&\n\t\t\t\t\tString( family.fontFace[ 0 ].fontWeight ) ) ||\n\t\t\t\t'400';\n\t\t}\n\t}\n\n\treturn style;\n}\n\n/**\n * Iterates through the presets array and searches for slugs that start with the specified\n * slugPrefix followed by a numerical suffix. It identifies the highest numerical suffix found\n * and returns one greater than the highest found suffix, ensuring that the new index is unique.\n *\n * @param presets    The array of preset objects, each potentially containing a slug property.\n * @param slugPrefix The prefix to look for in the preset slugs.\n *\n * @return The next available index for a preset with the specified slug prefix, or 1 if no matching slugs are found.\n */\n/**\n * Gets the variation class name for a block style variation.\n *\n * @param variation The variation name.\n * @return The variation class name.\n */\nexport function getVariationClassName( variation: string ): string {\n\tif ( ! variation ) {\n\t\treturn '';\n\t}\n\treturn `is-style-${ variation }`;\n}\n\nexport function getNewIndexFromPresets(\n\tpresets: any[],\n\tslugPrefix: string\n): number {\n\tconst nameRegex = new RegExp( `^${ slugPrefix }([\\\\d]+)$` );\n\tconst highestPresetValue = presets.reduce( ( currentHighest, preset ) => {\n\t\tif ( typeof preset?.slug === 'string' ) {\n\t\t\tconst matches = preset?.slug.match( nameRegex );\n\t\t\tif ( matches ) {\n\t\t\t\tconst id = parseInt( matches[ 1 ], 10 );\n\t\t\t\tif ( id > currentHighest ) {\n\t\t\t\t\treturn id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn currentHighest;\n\t}, 0 );\n\treturn highestPresetValue + 1;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/global-styles-ui'\n\t);\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\nimport { useStylesPreviewColors } from './preview-hooks';\nimport TypographyExample from './typography-example';\nimport HighlightedColors from './highlighted-colors';\nimport PreviewWrapper from './preview-wrapper';\n\nconst firstFrameVariants = {\n\tstart: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\thover: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\nconst midFrameVariants = {\n\thover: {\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\topacity: 0.5,\n\t},\n};\n\nconst secondFrameVariants = {\n\thover: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\ninterface PreviewStylesProps {\n\tlabel?: string;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n\tvariation?: any;\n}\n\nfunction PreviewStyles( {\n\tlabel,\n\tisFocused,\n\twithHoverView,\n\tvariation,\n}: PreviewStylesProps ) {\n\tconst [ fontWeight ] = useStyle< string >( 'typography.fontWeight' );\n\tconst [ fontFamily = 'serif' ] = useStyle< string >(\n\t\t'typography.fontFamily'\n\t);\n\tconst [ headingFontFamily = fontFamily ] = useStyle< string >(\n\t\t'elements.h1.typography.fontFamily'\n\t);\n\tconst [ headingFontWeight = fontWeight ] = useStyle< string >(\n\t\t'elements.h1.typography.fontWeight'\n\t);\n\tconst [ textColor = 'black' ] = useStyle< string >( 'color.text' );\n\tconst [ headingColor = textColor ] = useStyle< string >(\n\t\t'elements.h1.color.text'\n\t);\n\n\tconst { paletteColors } = useStylesPreviewColors();\n\n\treturn (\n\t\t<PreviewWrapper\n\t\t\tlabel={ label }\n\t\t\tisFocused={ isFocused }\n\t\t\twithHoverView={ withHoverView }\n\t\t>\n\t\t\t{ ( { ratio, key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ firstFrameVariants }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 10 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<TypographyExample\n\t\t\t\t\t\t\tfontSize={ 65 * ratio }\n\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<VStack spacing={ 4 * ratio }>\n\t\t\t\t\t\t\t<HighlightedColors\n\t\t\t\t\t\t\t\tnormalizedColorSwatchSize={ 32 }\n\t\t\t\t\t\t\t\tratio={ ratio }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t{ ( { key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ withHoverView ? midFrameVariants : undefined }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tfilter: 'blur(60px)',\n\t\t\t\t\t\topacity: 0.1,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ paletteColors\n\t\t\t\t\t\t\t.slice( 0, 4 )\n\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\tbackground: color,\n\t\t\t\t\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t{ ( { ratio, key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ secondFrameVariants }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tspacing={ 3 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\tpadding: 10 * ratio,\n\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tfontSize: 40 * ratio,\n\t\t\t\t\t\t\t\t\tfontFamily: headingFontFamily,\n\t\t\t\t\t\t\t\t\tcolor: headingColor,\n\t\t\t\t\t\t\t\t\tfontWeight: headingFontWeight,\n\t\t\t\t\t\t\t\t\tlineHeight: '1em',\n\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t</PreviewWrapper>\n\t);\n}\n\nexport default PreviewStyles;\n", "/**\n * WordPress dependencies\n */\nimport type { Color } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { useSetting, useStyle } from './hooks';\n\nexport function useStylesPreviewColors(): {\n\tpaletteColors: Color[];\n\thighlightedColors: Color[];\n} {\n\tconst [ textColor = 'black' ] = useStyle< string >( 'color.text' );\n\tconst [ backgroundColor = 'white' ] =\n\t\tuseStyle< string >( 'color.background' );\n\tconst [ headingColor = textColor ] = useStyle< string >(\n\t\t'elements.h1.color.text'\n\t);\n\tconst [ linkColor = headingColor ] = useStyle< string >(\n\t\t'elements.link.color.text'\n\t);\n\tconst [ buttonBackgroundColor = linkColor ] = useStyle< string >(\n\t\t'elements.button.color.background'\n\t);\n\n\tconst [ coreColors ] = useSetting< Color[] >( 'color.palette.core' ) || [];\n\tconst [ themeColors ] =\n\t\tuseSetting< Color[] >( 'color.palette.theme' ) || [];\n\tconst [ customColors ] =\n\t\tuseSetting< Color[] >( 'color.palette.custom' ) || [];\n\n\tconst paletteColors: Color[] = ( themeColors ?? [] )\n\t\t.concat( customColors ?? [] )\n\t\t.concat( coreColors ?? [] );\n\n\tconst textColorObject = paletteColors.filter(\n\t\t( { color } ) => color === textColor\n\t);\n\tconst buttonBackgroundColorObject = paletteColors.filter(\n\t\t( { color } ) => color === buttonBackgroundColor\n\t);\n\n\tconst highlightedColors = textColorObject\n\t\t.concat( buttonBackgroundColorObject )\n\t\t.concat( paletteColors )\n\t\t.filter(\n\t\t\t// we exclude these background color because it is already visible in the preview.\n\t\t\t( { color } ) => color !== backgroundColor\n\t\t)\n\t\t.slice( 0, 2 );\n\n\treturn {\n\t\tpaletteColors,\n\t\thighlightedColors,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport { __unstableMotion as motion } from '@wordpress/components';\nimport { _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\nimport { getFamilyPreviewStyle } from './font-library-modal/utils/preview-styles';\nimport { getFontFamilies } from './utils';\nimport { useStyle } from './hooks';\n\ninterface TypographyExampleProps {\n\tfontSize?: number;\n\tvariation?: any;\n}\n\nexport default function PreviewTypography( {\n\tfontSize,\n\tvariation,\n}: TypographyExampleProps ) {\n\tconst { base } = useContext( GlobalStylesContext );\n\tlet config = base;\n\tif ( variation ) {\n\t\tconfig = { ...base, ...variation };\n\t}\n\n\tconst [ textColor ] = useStyle( 'color.text' );\n\n\tconst [ bodyFontFamilies, headingFontFamilies ] = getFontFamilies( config );\n\tconst bodyPreviewStyle: React.CSSProperties = bodyFontFamilies\n\t\t? getFamilyPreviewStyle( bodyFontFamilies )\n\t\t: {};\n\tconst headingPreviewStyle: React.CSSProperties = headingFontFamilies\n\t\t? getFamilyPreviewStyle( headingFontFamilies )\n\t\t: {};\n\n\tif ( textColor ) {\n\t\tbodyPreviewStyle.color = textColor;\n\t\theadingPreviewStyle.color = textColor;\n\t}\n\n\tif ( fontSize ) {\n\t\tbodyPreviewStyle.fontSize = fontSize;\n\t\theadingPreviewStyle.fontSize = fontSize;\n\t}\n\n\treturn (\n\t\t<motion.div\n\t\t\tanimate={ {\n\t\t\t\tscale: 1,\n\t\t\t\topacity: 1,\n\t\t\t} }\n\t\t\tinitial={ {\n\t\t\t\tscale: 0.1,\n\t\t\t\topacity: 0,\n\t\t\t} }\n\t\t\ttransition={ {\n\t\t\t\tdelay: 0.3,\n\t\t\t\ttype: 'tween',\n\t\t\t} }\n\t\t\tstyle={ {\n\t\t\t\ttextAlign: 'center',\n\t\t\t\tlineHeight: 1,\n\t\t\t} }\n\t\t>\n\t\t\t<span style={ headingPreviewStyle }>\n\t\t\t\t{ _x( 'A', 'Uppercase letter A' ) }\n\t\t\t</span>\n\t\t\t<span style={ bodyPreviewStyle }>\n\t\t\t\t{ _x( 'a', 'Lowercase letter A' ) }\n\t\t\t</span>\n\t\t</motion.div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { CSSProperties } from 'react';\n\n/**\n * Internal dependencies\n */\nimport type { FontFace, FontFamily } from '../types';\n\nfunction findNearest( input: number, numbers: number[] ) {\n\t// If the numbers array is empty, return null\n\tif ( numbers.length === 0 ) {\n\t\treturn null;\n\t}\n\t// Sort the array based on the absolute difference with the input\n\tnumbers.sort( ( a, b ) => Math.abs( input - a ) - Math.abs( input - b ) );\n\t// Return the first element (which will be the nearest) from the sorted array\n\treturn numbers[ 0 ];\n}\n\nfunction extractFontWeights( fontFaces: FontFace[] ): number[] {\n\tconst result: number[] = [];\n\n\tfontFaces.forEach( ( face ) => {\n\t\tconst weights = String( face.fontWeight ).split( ' ' );\n\n\t\tif ( weights.length === 2 ) {\n\t\t\tconst start = parseInt( weights[ 0 ] );\n\t\t\tconst end = parseInt( weights[ 1 ] );\n\n\t\t\tfor ( let i = start; i <= end; i += 100 ) {\n\t\t\t\tresult.push( i );\n\t\t\t}\n\t\t} else if ( weights.length === 1 ) {\n\t\t\tresult.push( parseInt( weights[ 0 ] ) );\n\t\t}\n\t} );\n\n\treturn result;\n}\n\n/*\n * Format the font family to use in the CSS font-family property of a CSS rule.\n *\n * The input can be a string with the font family name or a string with multiple font family names separated by commas.\n * It follows the recommendations from the CSS Fonts Module Level 4.\n * https://www.w3.org/TR/css-fonts-4/#font-family-prop\n *\n * @param {string} input - The font family.\n * @return {string} The formatted font family.\n *\n * Example:\n * formatFontFamily( \"Open Sans, Font+Name, sans-serif\" ) => '\"Open Sans\", \"Font+Name\", sans-serif'\n * formatFontFamily( \"'Open Sans', generic(kai), sans-serif\" ) => '\"Open Sans\", sans-serif'\n * formatFontFamily( \"DotGothic16, Slabo 27px, serif\" ) => '\"DotGothic16\",\"Slabo 27px\",serif'\n * formatFontFamily( \"Mine's, Moe's Typography\" ) => `\"mine's\",\"Moe's Typography\"`\n */\nexport function formatFontFamily( input: string ) {\n\t// Matches strings that are not exclusively alphabetic characters or hyphens, and do not exactly follow the pattern generic(alphabetic characters or hyphens).\n\tconst regex = /^(?!generic\\([ a-zA-Z\\-]+\\)$)(?!^[a-zA-Z\\-]+$).+/;\n\tconst output = input.trim();\n\n\tconst formatItem = ( item: string ) => {\n\t\titem = item.trim();\n\t\tif ( item.match( regex ) ) {\n\t\t\t// removes leading and trailing quotes.\n\t\t\titem = item.replace( /^[\"']|[\"']$/g, '' );\n\t\t\treturn `\"${ item }\"`;\n\t\t}\n\t\treturn item;\n\t};\n\n\tif ( output.includes( ',' ) ) {\n\t\treturn output\n\t\t\t.split( ',' )\n\t\t\t.map( formatItem )\n\t\t\t.filter( ( item ) => item !== '' )\n\t\t\t.join( ', ' );\n\t}\n\n\treturn formatItem( output );\n}\n\n/*\n * Format the font face name to use in the font-family property of a font face.\n *\n * The input can be a string with the font face name or a string with multiple font face names separated by commas.\n * It removes the leading and trailing quotes from the font face name.\n *\n * @param {string} input - The font face name.\n * @return {string} The formatted font face name.\n *\n * Example:\n * formatFontFaceName(\"Open Sans\") => \"Open Sans\"\n * formatFontFaceName(\"'Open Sans', sans-serif\") => \"Open Sans\"\n * formatFontFaceName(\", 'Open Sans', 'Helvetica Neue', sans-serif\") => \"Open Sans\"\n */\nexport function formatFontFaceName( input: string ) {\n\tif ( ! input ) {\n\t\treturn '';\n\t}\n\n\tlet output = input.trim();\n\tif ( output.includes( ',' ) ) {\n\t\toutput = (\n\t\t\toutput\n\t\t\t\t.split( ',' )\n\t\t\t\t// finds the first item that is not an empty string.\n\t\t\t\t.find( ( item ) => item.trim() !== '' ) ?? ''\n\t\t).trim();\n\t}\n\t// removes leading and trailing quotes.\n\toutput = output.replace( /^[\"']|[\"']$/g, '' );\n\n\t// Firefox needs the font name to be wrapped in double quotes meanwhile other browsers don't.\n\tif ( window.navigator.userAgent.toLowerCase().includes( 'firefox' ) ) {\n\t\toutput = `\"${ output }\"`;\n\t}\n\treturn output;\n}\n\nexport function getFamilyPreviewStyle(\n\tfamily: FontFamily | FontFace\n): CSSProperties {\n\tconst style: CSSProperties = {\n\t\tfontFamily: formatFontFamily( family.fontFamily ),\n\t};\n\n\tif ( ! ( 'fontFace' in family ) || ! Array.isArray( family.fontFace ) ) {\n\t\tstyle.fontWeight = '400';\n\t\tstyle.fontStyle = 'normal';\n\t\treturn style;\n\t}\n\n\tif ( family.fontFace ) {\n\t\t//get all the font faces with normal style\n\t\tconst normalFaces = family.fontFace.filter(\n\t\t\t( face ) =>\n\t\t\t\tface?.fontStyle && face.fontStyle.toLowerCase() === 'normal'\n\t\t);\n\t\tif ( normalFaces.length > 0 ) {\n\t\t\tstyle.fontStyle = 'normal';\n\t\t\tconst normalWeights = extractFontWeights( normalFaces );\n\t\t\tconst nearestWeight = findNearest( 400, normalWeights );\n\t\t\tstyle.fontWeight = String( nearestWeight ) || '400';\n\t\t} else {\n\t\t\tstyle.fontStyle =\n\t\t\t\t( family.fontFace.length && family.fontFace[ 0 ].fontStyle ) ||\n\t\t\t\t'normal';\n\t\t\tstyle.fontWeight =\n\t\t\t\t( family.fontFace.length &&\n\t\t\t\t\tString( family.fontFace[ 0 ].fontWeight ) ) ||\n\t\t\t\t'400';\n\t\t}\n\t}\n\n\treturn style;\n}\n\nexport function getFacePreviewStyle( face: FontFace ): CSSProperties {\n\treturn {\n\t\tfontFamily: formatFontFamily( face.fontFamily ),\n\t\tfontStyle: face.fontStyle || 'normal',\n\t\tfontWeight: face.fontWeight || '400',\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { __unstableMotion as motion } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { useStylesPreviewColors } from './preview-hooks';\n\ninterface HighlightedColorsProps {\n\tnormalizedColorSwatchSize: number;\n\tratio: number;\n}\n\nexport default function HighlightedColors( {\n\tnormalizedColorSwatchSize,\n\tratio,\n}: HighlightedColorsProps ) {\n\tconst { highlightedColors } = useStylesPreviewColors();\n\tconst scaledSwatchSize = normalizedColorSwatchSize * ratio;\n\treturn highlightedColors.map( ( { slug, color }, index ) => (\n\t\t<motion.div\n\t\t\tkey={ `${ slug }-${ index }` }\n\t\t\tstyle={ {\n\t\t\t\theight: scaledSwatchSize,\n\t\t\t\twidth: scaledSwatchSize,\n\t\t\t\tbackground: color,\n\t\t\t\tborderRadius: scaledSwatchSize / 2,\n\t\t\t} }\n\t\t\tanimate={ {\n\t\t\t\tscale: 1,\n\t\t\t\topacity: 1,\n\t\t\t} }\n\t\t\tinitial={ {\n\t\t\t\tscale: 0.1,\n\t\t\t\topacity: 0,\n\t\t\t} }\n\t\t\ttransition={ {\n\t\t\t\tdelay: index === 1 ? 0.2 : 0.1,\n\t\t\t} }\n\t\t/>\n\t) );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __unstableMotion as motion } from '@wordpress/components';\nimport {\n\tuseThrottle,\n\tuseReducedMotion,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport { useLayoutEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\n\nconst normalizedWidth = 248;\nconst normalizedHeight = 152;\n\n// Throttle options for useThrottle. Must be defined outside of the component,\n// so that the object reference is the same on each render.\nconst THROTTLE_OPTIONS = {\n\tleading: true,\n\ttrailing: true,\n};\n\ninterface PreviewWrapperProps {\n\tchildren:\n\t\t| ( ( args: { ratio: number; key: number } ) => React.ReactNode )\n\t\t| ( ( args: { ratio: number; key: number } ) => React.ReactNode )[];\n\tlabel?: string;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n}\n\nfunction PreviewWrapper( {\n\tchildren,\n\tlabel,\n\tisFocused,\n\twithHoverView,\n}: PreviewWrapperProps ) {\n\tconst [ backgroundColor = 'white' ] =\n\t\tuseStyle< string >( 'color.background' );\n\tconst [ gradientValue ] = useStyle< string >( 'color.gradient' );\n\tconst disableMotion = useReducedMotion();\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst [ containerResizeListener, { width } ] = useResizeObserver();\n\tconst [ throttledWidth, setThrottledWidthState ] = useState( width );\n\tconst [ ratioState, setRatioState ] = useState< number | undefined >();\n\n\tconst setThrottledWidth = useThrottle(\n\t\tsetThrottledWidthState,\n\t\t250,\n\t\tTHROTTLE_OPTIONS\n\t);\n\n\t// Must use useLayoutEffect to avoid a flash of the container  at the wrong\n\t// size before the width is set.\n\tuseLayoutEffect( () => {\n\t\tif ( width ) {\n\t\t\tsetThrottledWidth( width );\n\t\t}\n\t}, [ width, setThrottledWidth ] );\n\n\t// Must use useLayoutEffect to avoid a flash of the container at the wrong\n\t// size before the width is set.\n\tuseLayoutEffect( () => {\n\t\tconst newRatio = throttledWidth ? throttledWidth / normalizedWidth : 1;\n\t\tconst ratioDiff = newRatio - ( ratioState || 0 );\n\n\t\t// Only update the ratio state if the difference is big enough\n\t\t// or if the ratio state is not yet set. This is to avoid an\n\t\t// endless loop of updates at particular viewport heights when the\n\t\t// presence of a scrollbar causes the width to change slightly.\n\t\tconst isRatioDiffBigEnough = Math.abs( ratioDiff ) > 0.1;\n\n\t\tif ( isRatioDiffBigEnough || ! ratioState ) {\n\t\t\tsetRatioState( newRatio );\n\t\t}\n\t}, [ throttledWidth, ratioState ] );\n\n\t// Set a fallbackRatio to use before the throttled ratio has been set.\n\tconst fallbackRatio = width ? width / normalizedWidth : 1;\n\t/*\n\t * Use the throttled ratio if it has been calculated, otherwise\n\t * use the fallback ratio. The throttled ratio is used to avoid\n\t * an endless loop of updates at particular viewport heights.\n\t * See: https://github.com/WordPress/gutenberg/issues/55112\n\t */\n\tconst ratio = ratioState ? ratioState : fallbackRatio;\n\n\tconst isReady = !! width;\n\n\treturn (\n\t\t<>\n\t\t\t<div style={ { position: 'relative' } }>\n\t\t\t\t{ containerResizeListener }\n\t\t\t</div>\n\t\t\t{ isReady && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"global-styles-ui-preview__wrapper\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\t\t} }\n\t\t\t\t\tonMouseEnter={ () => setIsHovered( true ) }\n\t\t\t\t\tonMouseLeave={ () => setIsHovered( false ) }\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\t\t\tcursor: withHoverView ? 'pointer' : undefined,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tinitial=\"start\"\n\t\t\t\t\t\tanimate={\n\t\t\t\t\t\t\t( isHovered || isFocused ) &&\n\t\t\t\t\t\t\t! disableMotion &&\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\t? 'hover'\n\t\t\t\t\t\t\t\t: 'start'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ []\n\t\t\t\t\t\t\t.concat( children as any ) // This makes sure children is always an array.\n\t\t\t\t\t\t\t.map( ( child: any, key: number ) =>\n\t\t\t\t\t\t\t\tchild( { ratio, key } )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</motion.div>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default PreviewWrapper;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport {\n\tFlexItem,\n\tSearchControl,\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tuseState,\n\tuseEffect,\n\tuseRef,\n\tuseDeferredValue,\n\tmemo,\n} from '@wordpress/element';\nimport {\n\tBlockIcon,\n\tprivateApis as blockEditorPrivateApis,\n\t// @ts-expect-error: Not typed yet.\n} from '@wordpress/block-editor';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { useBlockVariations } from './variations/variations-panel';\nimport { ScreenHeader } from './screen-header';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst {\n\tuseHasDimensionsPanel,\n\tuseHasTypographyPanel,\n\tuseHasBorderPanel,\n\tuseSettingsForBlockElement,\n\tuseHasColorPanel,\n} = unlock( blockEditorPrivateApis );\n\nfunction useSortedBlockTypes() {\n\tconst blockItems = useSelect(\n\t\t( select ) => select( blocksStore ).getBlockTypes(),\n\t\t[]\n\t);\n\t// Ensure core blocks are prioritized in the returned results,\n\t// because third party blocks can be registered earlier than\n\t// the core blocks (usually by using the `init` action),\n\t// thus affecting the display order.\n\t// We don't sort reusable blocks as they are handled differently.\n\tconst groupByType = ( blocks: any, block: any ) => {\n\t\tconst { core, noncore } = blocks;\n\t\tconst type = block.name.startsWith( 'core/' ) ? core : noncore;\n\t\ttype.push( block );\n\t\treturn blocks;\n\t};\n\tconst { core: coreItems, noncore: nonCoreItems } = blockItems.reduce(\n\t\tgroupByType,\n\t\t{ core: [], noncore: [] }\n\t);\n\treturn [ ...coreItems, ...nonCoreItems ];\n}\n\nexport function useBlockHasGlobalStyles( blockName: string ) {\n\tconst [ rawSettings ] = useSetting( '', blockName );\n\tconst settings = useSettingsForBlockElement( rawSettings, blockName );\n\tconst hasTypographyPanel = useHasTypographyPanel( settings );\n\tconst hasColorPanel = useHasColorPanel( settings );\n\tconst hasBorderPanel = useHasBorderPanel( settings );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\tconst hasLayoutPanel = hasBorderPanel || hasDimensionsPanel;\n\tconst hasVariationsPanel = !! useBlockVariations( blockName )?.length;\n\tconst hasGlobalStyles =\n\t\thasTypographyPanel ||\n\t\thasColorPanel ||\n\t\thasLayoutPanel ||\n\t\thasVariationsPanel;\n\treturn hasGlobalStyles;\n}\n\ninterface BlockMenuItemProps {\n\tblock: any;\n}\n\nfunction BlockMenuItem( { block }: BlockMenuItemProps ) {\n\tconst hasBlockMenuItem = useBlockHasGlobalStyles( block.name );\n\tif ( ! hasBlockMenuItem ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ '/blocks/' + encodeURIComponent( block.name ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<BlockIcon icon={ block.icon } />\n\t\t\t\t<FlexItem>{ block.title }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\ninterface BlockListProps {\n\tfilterValue: string;\n}\n\nfunction BlockList( { filterValue }: BlockListProps ) {\n\tconst sortedBlockTypes = useSortedBlockTypes();\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\tconst { isMatchingSearchTerm } = useSelect( blocksStore );\n\n\tconst filteredBlockTypes = ! filterValue\n\t\t? sortedBlockTypes\n\t\t: sortedBlockTypes.filter( ( blockType ) =>\n\t\t\t\tisMatchingSearchTerm( blockType, filterValue )\n\t\t  );\n\n\tconst blockTypesListRef = useRef< HTMLDivElement >( null );\n\n\t// Announce search results on change\n\tuseEffect( () => {\n\t\tif ( ! filterValue ) {\n\t\t\treturn;\n\t\t}\n\t\t// We extract the results from the wrapper div's `ref` because\n\t\t// filtered items can contain items that will eventually not\n\t\t// render and there is no reliable way to detect when a child\n\t\t// will return `null`.\n\t\t// TODO: We should find a better way of handling this as it's\n\t\t// fragile and depends on the number of rendered elements of `BlockMenuItem`,\n\t\t// which is now one.\n\t\t// @see https://github.com/WordPress/gutenberg/pull/39117#discussion_r816022116\n\t\tconst count = blockTypesListRef.current?.childElementCount || 0;\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results. */\n\t\t\t_n( '%d result found.', '%d results found.', count ),\n\t\t\tcount\n\t\t);\n\t\tdebouncedSpeak( resultsFoundMessage, 'polite' );\n\t}, [ filterValue, debouncedSpeak ] );\n\n\treturn (\n\t\t<div\n\t\t\tref={ blockTypesListRef }\n\t\t\tclassName=\"global-styles-ui-block-types-item-list\"\n\t\t\t// By default, BlockMenuItem has a role=listitem so this div must have a list role.\n\t\t\trole=\"list\"\n\t\t>\n\t\t\t{ filteredBlockTypes.length === 0 ? (\n\t\t\t\t<Text align=\"center\" as=\"p\">\n\t\t\t\t\t{ __( 'No blocks found.' ) }\n\t\t\t\t</Text>\n\t\t\t) : (\n\t\t\t\tfilteredBlockTypes.map( ( block ) => (\n\t\t\t\t\t<BlockMenuItem\n\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\tkey={ 'menu-itemblock-' + block.name }\n\t\t\t\t\t/>\n\t\t\t\t) )\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nconst MemoizedBlockList = memo( BlockList );\n\nfunction ScreenBlockList() {\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst deferredFilterValue = useDeferredValue( filterValue );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Blocks' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Customize the appearance of specific blocks and for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<SearchControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tclassName=\"global-styles-ui-block-types-search\"\n\t\t\t\tonChange={ setFilterValue }\n\t\t\t\tvalue={ filterValue }\n\t\t\t\tlabel={ __( 'Search' ) }\n\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t/>\n\t\t\t<MemoizedBlockList filterValue={ deferredFilterValue } />\n\t\t</>\n\t);\n}\n\nexport default ScreenBlockList;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { NavigationButtonAsItem } from '../navigation-button';\nimport { useSetting } from '../hooks';\n\ninterface BlockStyle {\n\tname: string;\n\tlabel: string;\n\tsource?: string;\n\tisDefault?: boolean;\n}\n\ninterface VariationsPanelProps {\n\tname: string;\n}\n\n// Only core block styles (source === block) or block styles with a matching\n// theme.json style variation will be configurable via Global Styles.\nfunction getFilteredBlockStyles(\n\tblockStyles: BlockStyle[],\n\tvariations: string[]\n): BlockStyle[] {\n\treturn (\n\t\tblockStyles?.filter(\n\t\t\t( style ) =>\n\t\t\t\tstyle.source === 'block' || variations.includes( style.name )\n\t\t) || []\n\t);\n}\n\nexport function useBlockVariations( name: string ): BlockStyle[] {\n\tconst blockStyles = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\tconst [ variations ] = useSetting( 'variations', name );\n\tconst variationNames = Object.keys( variations ?? {} );\n\n\treturn getFilteredBlockStyles( blockStyles, variationNames );\n}\n\nexport function VariationsPanel( { name }: VariationsPanelProps ) {\n\tconst coreBlockStyles = useBlockVariations( name );\n\n\treturn (\n\t\t<ItemGroup isBordered isSeparated>\n\t\t\t{ coreBlockStyles.map( ( style, index ) => {\n\t\t\t\tif ( style?.isDefault ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t'/blocks/' +\n\t\t\t\t\t\t\tencodeURIComponent( name ) +\n\t\t\t\t\t\t\t'/variations/' +\n\t\t\t\t\t\t\tencodeURIComponent( style.name )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ style.label }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ItemGroup>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalHeading as Heading,\n\t__experimentalView as View,\n\tNavigator,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronRight, chevronLeft } from '@wordpress/icons';\n\ninterface ScreenHeaderProps {\n\ttitle: string;\n\tdescription?: string | React.ReactElement;\n\tonBack?: () => void;\n}\n\nexport function ScreenHeader( {\n\ttitle,\n\tdescription,\n\tonBack,\n}: ScreenHeaderProps ) {\n\treturn (\n\t\t<VStack spacing={ 0 }>\n\t\t\t<View>\n\t\t\t\t<Spacer marginBottom={ 0 } paddingX={ 4 } paddingY={ 3 }>\n\t\t\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t\t\t<Navigator.BackButton\n\t\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\n\t\t\t\t\t\t\tonClick={ onBack }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer>\n\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-header\"\n\t\t\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t\t\t\tsize={ 13 }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t</HStack>\n\t\t\t\t</Spacer>\n\t\t\t</View>\n\t\t\t{ description && (\n\t\t\t\t<p className=\"global-styles-ui-header__description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { getBlockType } from '@wordpress/blocks';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tPanelBody,\n\t__experimentalVStack as VStack,\n\t__experimentalHasSplitBorders as hasSplitBorders,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport BlockPreviewPanel from './block-preview-panel';\nimport { Subtitle } from './subtitle';\nimport {\n\tuseBlockVariations,\n\tVariationsPanel,\n} from './variations/variations-panel';\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\n// Initial control values.\nconst BACKGROUND_BLOCK_DEFAULT_VALUES = {\n\tbackgroundSize: 'cover',\n\tbackgroundPosition: '50% 50%', // used only when backgroundSize is 'contain'.\n};\n\nfunction applyFallbackStyle( border: any ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tconst hasColorOrWidth = border.color || border.width;\n\n\tif ( ! border.style && hasColorOrWidth ) {\n\t\treturn { ...border, style: 'solid' };\n\t}\n\n\tif ( border.style && ! hasColorOrWidth ) {\n\t\treturn undefined;\n\t}\n\n\treturn border;\n}\n\nfunction applyAllFallbackStyles( border: any ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tif ( hasSplitBorders( border ) ) {\n\t\treturn {\n\t\t\ttop: applyFallbackStyle( border.top ),\n\t\t\tright: applyFallbackStyle( border.right ),\n\t\t\tbottom: applyFallbackStyle( border.bottom ),\n\t\t\tleft: applyFallbackStyle( border.left ),\n\t\t};\n\t}\n\n\treturn applyFallbackStyle( border );\n}\n\nconst {\n\tuseHasDimensionsPanel,\n\tuseHasTypographyPanel,\n\tuseHasBorderPanel,\n\tuseSettingsForBlockElement,\n\tuseHasColorPanel,\n\tuseHasFiltersPanel,\n\tuseHasImageSettingsPanel,\n\tuseHasBackgroundPanel,\n\tBackgroundPanel: StylesBackgroundPanel,\n\tBorderPanel: StylesBorderPanel,\n\tColorPanel: StylesColorPanel,\n\tTypographyPanel: StylesTypographyPanel,\n\tDimensionsPanel: StylesDimensionsPanel,\n\tFiltersPanel: StylesFiltersPanel,\n\tImageSettingsPanel,\n\tAdvancedPanel: StylesAdvancedPanel,\n} = unlock( blockEditorPrivateApis );\n\ninterface ScreenBlockProps {\n\tname: string;\n\tvariation?: string;\n}\n\nfunction ScreenBlock( { name, variation }: ScreenBlockProps ) {\n\tlet prefixParts: string[] = [];\n\tif ( variation ) {\n\t\tprefixParts = [ 'variations', variation ].concat( prefixParts );\n\t}\n\tconst prefix = prefixParts.join( '.' );\n\n\tconst [ style ] = useStyle( prefix, name, 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\tprefix,\n\t\tname,\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ userSettings ] = useSetting( '', name, 'user' );\n\tconst [ rawSettings, setSettings ] = useSetting( '', name );\n\tconst settingsForBlockElement = useSettingsForBlockElement(\n\t\trawSettings,\n\t\tname\n\t);\n\tconst blockType = getBlockType( name );\n\n\t// Only allow `blockGap` support if serialization has not been skipped, to be sure global spacing can be applied.\n\tlet disableBlockGap = false;\n\tif (\n\t\tsettingsForBlockElement?.spacing?.blockGap &&\n\t\tblockType?.supports?.spacing?.blockGap &&\n\t\t( blockType?.supports?.spacing?.__experimentalSkipSerialization ===\n\t\t\ttrue ||\n\t\t\tblockType?.supports?.spacing?.__experimentalSkipSerialization?.some?.(\n\t\t\t\t( spacingType: string ) => spacingType === 'blockGap'\n\t\t\t) )\n\t) {\n\t\tdisableBlockGap = true;\n\t}\n\n\t// Only allow `aspectRatio` support if the block is not the grouping block.\n\t// The grouping block allows the user to use Group, Row and Stack variations,\n\t// and it is highly likely that the user will not want to set an aspect ratio\n\t// for all three at once. Until there is the ability to set a different aspect\n\t// ratio for each variation, we disable the aspect ratio controls for the\n\t// grouping block in global styles.\n\tlet disableAspectRatio = false;\n\tif (\n\t\tsettingsForBlockElement?.dimensions?.aspectRatio &&\n\t\tname === 'core/group'\n\t) {\n\t\tdisableAspectRatio = true;\n\t}\n\n\tconst settings = useMemo( () => {\n\t\tconst updatedSettings = structuredClone( settingsForBlockElement );\n\t\tif ( disableBlockGap ) {\n\t\t\tupdatedSettings.spacing.blockGap = false;\n\t\t}\n\t\tif ( disableAspectRatio ) {\n\t\t\tupdatedSettings.dimensions.aspectRatio = false;\n\t\t}\n\t\treturn updatedSettings;\n\t}, [ settingsForBlockElement, disableBlockGap, disableAspectRatio ] );\n\n\tconst blockVariations = useBlockVariations( name );\n\tconst hasBackgroundPanel = useHasBackgroundPanel( settings );\n\tconst hasTypographyPanel = useHasTypographyPanel( settings );\n\tconst hasColorPanel = useHasColorPanel( settings );\n\tconst hasBorderPanel = useHasBorderPanel( settings );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\tconst hasFiltersPanel = useHasFiltersPanel( settings );\n\tconst hasImageSettingsPanel = useHasImageSettingsPanel(\n\t\tname,\n\t\tuserSettings,\n\t\tsettings\n\t);\n\tconst hasVariationsPanel = !! blockVariations?.length && ! variation;\n\tconst { canEditCSS } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, __experimentalGetCurrentGlobalStylesId } =\n\t\t\tselect( coreStore );\n\n\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\tconst globalStyles = globalStylesId\n\t\t\t? getEntityRecord( 'root', 'globalStyles', globalStylesId )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\tcanEditCSS: !! ( globalStyles as GlobalStylesConfig )?._links?.[\n\t\t\t\t'wp:action-edit-css'\n\t\t\t],\n\t\t};\n\t}, [] );\n\tconst currentBlockStyle = variation\n\t\t? blockVariations.find( ( s: any ) => s.name === variation )\n\t\t: null;\n\n\t// These intermediary objects are needed because the \"layout\" property is stored\n\t// in settings rather than styles.\n\tconst inheritedStyleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...inheritedStyle,\n\t\t\tlayout: settings.layout,\n\t\t};\n\t}, [ inheritedStyle, settings.layout ] );\n\tconst styleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...style,\n\t\t\tlayout: userSettings.layout,\n\t\t};\n\t}, [ style, userSettings.layout ] );\n\tconst onChangeDimensions = ( newStyle: any ) => {\n\t\tconst updatedStyle = { ...newStyle };\n\t\tdelete updatedStyle.layout;\n\t\tsetStyle( updatedStyle );\n\n\t\tif ( newStyle.layout !== userSettings.layout ) {\n\t\t\tsetSettings( {\n\t\t\t\t...userSettings,\n\t\t\t\tlayout: newStyle.layout,\n\t\t\t} );\n\t\t}\n\t};\n\tconst onChangeLightbox = ( newSetting: any ) => {\n\t\t// If the newSetting is undefined, this means that the user has deselected\n\t\t// (reset) the lightbox setting.\n\t\tif ( newSetting === undefined ) {\n\t\t\tsetSettings( {\n\t\t\t\t...rawSettings,\n\t\t\t\tlightbox: undefined,\n\t\t\t} );\n\n\t\t\t// Otherwise, we simply set the lightbox setting to the new value but\n\t\t\t// taking care of not overriding the other lightbox settings.\n\t\t} else {\n\t\t\tsetSettings( {\n\t\t\t\t...rawSettings,\n\t\t\t\tlightbox: {\n\t\t\t\t\t...rawSettings.lightbox,\n\t\t\t\t\t...newSetting,\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t};\n\tconst onChangeBorders = ( newStyle: any ) => {\n\t\tif ( ! newStyle?.border ) {\n\t\t\tsetStyle( newStyle );\n\t\t\treturn;\n\t\t}\n\n\t\t// As Global Styles can't conditionally generate styles based on if\n\t\t// other style properties have been set, we need to force split\n\t\t// border definitions for user set global border styles. Border\n\t\t// radius is derived from the same property i.e. `border.radius` if\n\t\t// it is a string that is used. The longhand border radii styles are\n\t\t// only generated if that property is an object.\n\t\t//\n\t\t// For borders (color, style, and width) those are all properties on\n\t\t// the `border` style property. This means if the theme.json defined\n\t\t// split borders and the user condenses them into a flat border or\n\t\t// vice-versa we'd get both sets of styles which would conflict.\n\t\tconst { radius, ...newBorder } = newStyle.border;\n\t\tconst border = applyAllFallbackStyles( newBorder );\n\t\tconst updatedBorder = ! hasSplitBorders( border )\n\t\t\t? {\n\t\t\t\t\ttop: border,\n\t\t\t\t\tright: border,\n\t\t\t\t\tbottom: border,\n\t\t\t\t\tleft: border,\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tcolor: null,\n\t\t\t\t\tstyle: null,\n\t\t\t\t\twidth: null,\n\t\t\t\t\t...border,\n\t\t\t  };\n\n\t\tsetStyle( { ...newStyle, border: { ...updatedBorder, radius } } );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={\n\t\t\t\t\tvariation ? currentBlockStyle?.label : blockType?.title\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<BlockPreviewPanel name={ name } variation={ variation } />\n\t\t\t{ hasVariationsPanel && (\n\t\t\t\t<div className=\"global-styles-ui-screen-variations\">\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Style Variations' ) }</Subtitle>\n\t\t\t\t\t\t<VariationsPanel name={ name } />\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ hasColorPanel && (\n\t\t\t\t<StylesColorPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasBackgroundPanel && (\n\t\t\t\t<StylesBackgroundPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tdefaultValues={ BACKGROUND_BLOCK_DEFAULT_VALUES }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasTypographyPanel && (\n\t\t\t\t<StylesTypographyPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasDimensionsPanel && (\n\t\t\t\t<StylesDimensionsPanel\n\t\t\t\t\tinheritedValue={ inheritedStyleWithLayout }\n\t\t\t\t\tvalue={ styleWithLayout }\n\t\t\t\t\tonChange={ onChangeDimensions }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tincludeLayoutControls\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasBorderPanel && (\n\t\t\t\t<StylesBorderPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ onChangeBorders }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasFiltersPanel && (\n\t\t\t\t<StylesFiltersPanel\n\t\t\t\t\tinheritedValue={ inheritedStyleWithLayout }\n\t\t\t\t\tvalue={ styleWithLayout }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tincludeLayoutControls\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasImageSettingsPanel && (\n\t\t\t\t<ImageSettingsPanel\n\t\t\t\t\tonChange={ onChangeLightbox }\n\t\t\t\t\tvalue={ userSettings }\n\t\t\t\t\tinheritedValue={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t{ canEditCSS && (\n\t\t\t\t<PanelBody title={ __( 'Advanced' ) } initialOpen={ false }>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t// translators: %s: is the name of a block e.g., 'Image' or 'Table'.\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Add your own CSS to customize the appearance of the %s block. You do not need to include a CSS selector, just add the property and value.'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tblockType?.title\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<StylesAdvancedPanel\n\t\t\t\t\t\tvalue={ style }\n\t\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenBlock;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { BlockPreview } from '@wordpress/block-editor';\n// @ts-expect-error: Not typed yet.\nimport { getBlockType, getBlockFromExample } from '@wordpress/blocks';\nimport { __experimentalSpacer as Spacer } from '@wordpress/components';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { getVariationClassName } from './utils';\n\ninterface BlockPreviewPanelProps {\n\tname: string;\n\tvariation?: string;\n}\n\nconst BlockPreviewPanel = ( {\n\tname,\n\tvariation = '',\n}: BlockPreviewPanelProps ) => {\n\tconst blockExample = getBlockType( name )?.example;\n\tconst blocks = useMemo( () => {\n\t\tif ( ! blockExample ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst example = {\n\t\t\t...blockExample,\n\t\t\tattributes: {\n\t\t\t\t...blockExample.attributes,\n\t\t\t\tstyle: undefined,\n\t\t\t\tclassName: variation\n\t\t\t\t\t? getVariationClassName( variation )\n\t\t\t\t\t: blockExample.attributes?.className,\n\t\t\t},\n\t\t};\n\n\t\treturn getBlockFromExample( name, example );\n\t}, [ name, blockExample, variation ] );\n\n\tconst viewportWidth = blockExample?.viewportWidth ?? 500;\n\t// Same as height of InserterPreviewPanel.\n\tconst previewHeight = 144;\n\tconst sidebarWidth = 235;\n\tconst scale = sidebarWidth / viewportWidth;\n\tconst minHeight =\n\t\tscale !== 0 && scale < 1 && previewHeight\n\t\t\t? previewHeight / scale\n\t\t\t: previewHeight;\n\n\tif ( ! blockExample ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Spacer marginX={ 4 } marginBottom={ 4 }>\n\t\t\t<div\n\t\t\t\tclassName=\"global-styles-ui__block-preview-panel\"\n\t\t\t\tstyle={ { maxHeight: previewHeight, boxSizing: 'initial' } }\n\t\t\t>\n\t\t\t\t<BlockPreview\n\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t\tminHeight={ previewHeight }\n\t\t\t\t\tadditionalStyles={\n\t\t\t\t\t\t//We want this CSS to be in sync with the one in InserterPreviewPanel.\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcss: `\n\t\t\t\t\t\t\t\tbody{\n\t\t\t\t\t\t\t\t\tpadding: 24px;\n\t\t\t\t\t\t\t\t\tmin-height:${ Math.round( minHeight ) }px;\n\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t.is-root-container { width: 100%; }\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Spacer>\n\t);\n};\n\nexport default BlockPreviewPanel;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\ninterface SubtitleProps {\n\tchildren: React.ReactNode;\n\tlevel?: 1 | 2 | 3 | 4 | 5 | 6;\n}\n\nexport function Subtitle( { children, level = 2 }: SubtitleProps ) {\n\treturn (\n\t\t<Heading className=\"global-styles-ui-subtitle\" level={ level }>\n\t\t\t{ children }\n\t\t</Heading>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport TypographyElements from './typography-elements';\nimport TypographyVariations from './variations/variations-typography';\nimport FontFamilies from './font-families';\nimport FontSizesCount from './font-sizes/font-sizes-count';\nimport { GlobalStylesContext } from './context';\n\nfunction ScreenTypography() {\n\tconst { fontLibraryEnabled } = useContext( GlobalStylesContext );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Typography' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Available fonts, typographic styles, and the application of those styles.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<div className=\"global-styles-ui-screen\">\n\t\t\t\t<VStack spacing={ 7 }>\n\t\t\t\t\t<TypographyVariations title={ __( 'Typesets' ) } />\n\t\t\t\t\t{ fontLibraryEnabled && <FontFamilies /> }\n\t\t\t\t\t<TypographyElements />\n\t\t\t\t\t<FontSizesCount />\n\t\t\t\t</VStack>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenTypography;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { Subtitle } from './subtitle';\nimport { useStyle } from './hooks';\n\ninterface ElementItemProps {\n\tparentMenu: string;\n\telement: string;\n\tlabel: string;\n}\n\nfunction ElementItem( { parentMenu, element, label }: ElementItemProps ) {\n\tconst prefix =\n\t\telement === 'text' || ! element ? '' : `elements.${ element }.`;\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\n\tconst [ fontFamily ] = useStyle< string >(\n\t\tprefix + 'typography.fontFamily'\n\t);\n\tconst [ fontStyle ] = useStyle< string >( prefix + 'typography.fontStyle' );\n\tconst [ fontWeight ] = useStyle< string >(\n\t\tprefix + 'typography.fontWeight'\n\t);\n\tconst [ backgroundColor ] = useStyle< string >(\n\t\tprefix + 'color.background'\n\t);\n\tconst [ fallbackBackgroundColor ] =\n\t\tuseStyle< string >( 'color.background' );\n\tconst [ gradientValue ] = useStyle< string >( prefix + 'color.gradient' );\n\tconst [ color ] = useStyle< string >( prefix + 'color.text' );\n\n\treturn (\n\t\t<NavigationButtonAsItem path={ parentMenu + '/typography/' + element }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem\n\t\t\t\t\tclassName=\"global-styles-ui-screen-typography__indicator\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\tgradientValue ??\n\t\t\t\t\t\t\tbackgroundColor ??\n\t\t\t\t\t\t\tfallbackBackgroundColor,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t\t...extraStyles,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Aa' ) }\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ label }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction TypographyElements() {\n\tconst parentMenu = '';\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t<Subtitle level={ 3 }>{ __( 'Elements' ) }</Subtitle>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"text\"\n\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"link\"\n\t\t\t\t\tlabel={ __( 'Links' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"heading\"\n\t\t\t\t\tlabel={ __( 'Headings' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"caption\"\n\t\t\t\t\tlabel={ __( 'Captions' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"button\"\n\t\t\t\t\tlabel={ __( 'Buttons' ) }\n\t\t\t\t/>\n\t\t\t</ItemGroup>\n\t\t</VStack>\n\t);\n}\n\nexport default TypographyElements;\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport StylesPreviewTypography from '../preview-typography';\nimport { useCurrentMergeThemeStyleVariationsWithUserConfig } from '../hooks';\nimport { Subtitle } from '../subtitle';\nimport Variation from './variation';\n\ninterface TypographyVariationsProps {\n\ttitle?: string;\n\tgap?: number;\n}\n\nconst propertiesToFilter = [ 'typography' ];\n\nexport default function TypographyVariations( {\n\ttitle,\n\tgap = 2,\n}: TypographyVariationsProps ) {\n\tconst typographyVariations =\n\t\tuseCurrentMergeThemeStyleVariationsWithUserConfig( propertiesToFilter );\n\n\t// Return null if there is only one variation (the default).\n\tif ( typographyVariations?.length <= 1 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t{ title && <Subtitle level={ 3 }>{ title }</Subtitle> }\n\t\t\t<Grid\n\t\t\t\tcolumns={ 3 }\n\t\t\t\tgap={ gap }\n\t\t\t\tclassName=\"global-styles-ui-style-variations-container\"\n\t\t\t>\n\t\t\t\t{ typographyVariations.map(\n\t\t\t\t\t( variation: any, index: number ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Variation\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t\t\tproperties={ propertiesToFilter }\n\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ () => (\n\t\t\t\t\t\t\t\t\t<StylesPreviewTypography\n\t\t\t\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Variation>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t</Grid>\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport TypographyExample from './typography-example';\nimport PreviewWrapper from './preview-wrapper';\n\ninterface StylesPreviewTypographyProps {\n\tvariation: any;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n}\n\nconst StylesPreviewTypography = ( {\n\tvariation,\n\tisFocused,\n\twithHoverView,\n}: StylesPreviewTypographyProps ) => {\n\treturn (\n\t\t<PreviewWrapper\n\t\t\tlabel={ variation.title }\n\t\t\tisFocused={ isFocused }\n\t\t\twithHoverView={ withHoverView }\n\t\t>\n\t\t\t{ ( { ratio, key } ) => (\n\t\t\t\t<HStack\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tspacing={ 10 * ratio }\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<TypographyExample\n\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\tfontSize={ 85 * ratio }\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t</PreviewWrapper>\n\t);\n};\n\nexport default StylesPreviewTypography;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Tooltip } from '@wordpress/components';\nimport { useMemo, useContext, useState } from '@wordpress/element';\nimport { ENTER } from '@wordpress/keycodes';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { areGlobalStylesEqual } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from '../context';\nimport { filterObjectByProperties } from '../utils';\n\ninterface VariationProps {\n\tvariation: any;\n\tchildren: ( isFocused: boolean ) => React.ReactNode;\n\tisPill?: boolean;\n\tproperties?: string[];\n\tshowTooltip?: boolean;\n}\n\nexport default function Variation( {\n\tvariation,\n\tchildren,\n\tisPill = false,\n\tproperties,\n\tshowTooltip = false,\n}: VariationProps ) {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst {\n\t\tbase,\n\t\tuser,\n\t\tonChange: setUserConfig,\n\t} = useContext( GlobalStylesContext );\n\n\tconst context = useMemo( () => {\n\t\tlet merged = { ...base, ...variation };\n\t\tif ( properties ) {\n\t\t\tmerged = filterObjectByProperties( merged, properties );\n\t\t}\n\t\treturn {\n\t\t\tuser: variation,\n\t\t\tbase,\n\t\t\tmerged,\n\t\t\tonChange: () => {},\n\t\t};\n\t}, [ variation, base, properties ] );\n\n\tconst selectVariation = () => setUserConfig( variation );\n\n\tconst selectOnEnter = ( event: React.KeyboardEvent ) => {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tselectVariation();\n\t\t}\n\t};\n\n\tconst isActive = useMemo(\n\t\t() => areGlobalStylesEqual( user, variation ),\n\t\t[ user, variation ]\n\t);\n\n\tlet label = variation?.title;\n\tif ( variation?.description ) {\n\t\tlabel = sprintf(\n\t\t\t/* translators: 1: variation title. 2: variation description. */\n\t\t\t_x( '%1$s (%2$s)', 'variation label' ),\n\t\t\tvariation?.title,\n\t\t\tvariation?.description\n\t\t);\n\t}\n\n\tconst content = (\n\t\t<div\n\t\t\tclassName={ clsx( 'global-styles-ui-variations_item', {\n\t\t\t\t'is-active': isActive,\n\t\t\t} ) }\n\t\t\trole=\"button\"\n\t\t\tonClick={ selectVariation }\n\t\t\tonKeyDown={ selectOnEnter }\n\t\t\ttabIndex={ 0 }\n\t\t\taria-label={ label }\n\t\t\taria-current={ isActive }\n\t\t\tonFocus={ () => setIsFocused( true ) }\n\t\t\tonBlur={ () => setIsFocused( false ) }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( 'global-styles-ui-variations_item-preview', {\n\t\t\t\t\t'is-pill': isPill,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ children( isFocused ) }\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t{ showTooltip ? (\n\t\t\t\t<Tooltip text={ variation?.title }>{ content }</Tooltip>\n\t\t\t) : (\n\t\t\t\tcontent\n\t\t\t) }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalText as Text,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tButton,\n} from '@wordpress/components';\nimport { settings } from '@wordpress/icons';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { useSetting } from './hooks';\nimport FontLibraryProvider, {\n\tFontLibraryContext,\n} from './font-library-modal/context';\nimport FontLibraryModal from './font-library-modal';\nimport FontFamilyItem from './font-family-item';\nimport { setUIValuesNeeded } from './font-library-modal/utils';\n\n/**\n * Maps the fonts with the source, if available.\n *\n * @param {Array}  fonts  The fonts to map.\n * @param {string} source The source of the fonts.\n * @return {Array} The mapped fonts.\n */\nfunction mapFontsWithSource( fonts: any[], source: string ) {\n\treturn fonts\n\t\t? fonts.map( ( f ) => setUIValuesNeeded( f, { source } ) )\n\t\t: [];\n}\n\nfunction FontFamiliesInner() {\n\tconst { baseCustomFonts, modalTabOpen, setModalTabOpen } =\n\t\tuseContext( FontLibraryContext );\n\tconst [ fontFamilies ] = useSetting( 'typography.fontFamilies' );\n\tconst [ baseFontFamilies ] = useSetting(\n\t\t'typography.fontFamilies',\n\t\tundefined,\n\t\t'base'\n\t);\n\tconst themeFonts = mapFontsWithSource( fontFamilies?.theme, 'theme' );\n\tconst customFonts = mapFontsWithSource( fontFamilies?.custom, 'custom' );\n\tconst activeFonts = [ ...themeFonts, ...customFonts ].sort( ( a, b ) =>\n\t\ta.name.localeCompare( b.name )\n\t);\n\tconst hasFonts = 0 < activeFonts.length;\n\tconst hasInstalledFonts =\n\t\thasFonts ||\n\t\tbaseFontFamilies?.theme?.length > 0 ||\n\t\t( baseCustomFonts?.length ?? 0 ) > 0;\n\n\treturn (\n\t\t<>\n\t\t\t{ !! modalTabOpen && (\n\t\t\t\t<FontLibraryModal\n\t\t\t\t\tonRequestClose={ () => setModalTabOpen?.( '' ) }\n\t\t\t\t\tdefaultTabId={ modalTabOpen }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t<Subtitle level={ 3 }>{ __( 'Fonts' ) }</Subtitle>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ () => setModalTabOpen?.( 'installed-fonts' ) }\n\t\t\t\t\t\tlabel={ __( 'Manage fonts' ) }\n\t\t\t\t\t\ticon={ settings }\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t\t{ activeFonts.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ItemGroup size=\"large\" isBordered isSeparated>\n\t\t\t\t\t\t\t{ activeFonts.map( ( font ) => (\n\t\t\t\t\t\t\t\t<FontFamilyItem\n\t\t\t\t\t\t\t\t\tkey={ font.slug }\n\t\t\t\t\t\t\t\t\tfont={ font }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t{ ! hasFonts && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t\t{ hasInstalledFonts\n\t\t\t\t\t\t\t\t? __( 'No fonts activated.' )\n\t\t\t\t\t\t\t\t: __( 'No fonts installed.' ) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"global-styles-ui-font-families__manage-fonts\"\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetModalTabOpen?.(\n\t\t\t\t\t\t\t\t\thasInstalledFonts\n\t\t\t\t\t\t\t\t\t\t? 'installed-fonts'\n\t\t\t\t\t\t\t\t\t\t: 'upload-fonts'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ hasInstalledFonts\n\t\t\t\t\t\t\t\t? __( 'Manage fonts' )\n\t\t\t\t\t\t\t\t: __( 'Add fonts' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</>\n\t);\n}\n\nexport default function FontFamilies( { ...props } ) {\n\treturn (\n\t\t<FontLibraryProvider>\n\t\t\t<FontFamiliesInner { ...props } />\n\t\t</FontLibraryProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext, useState, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseEntityRecord,\n\tuseEntityRecords,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport type {\n\tFontFamilyPreset,\n\tGlobalStylesConfig,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport {\n\tfetchGetFontFamilyBySlug,\n\tfetchInstallFontFamily,\n\tfetchUninstallFontFamily,\n\tfetchFontCollections,\n\tfetchFontCollection,\n} from './resolvers';\nimport {\n\tsetUIValuesNeeded,\n\tmergeFontFamilies,\n\tloadFontFaceInBrowser,\n\tunloadFontFaceInBrowser,\n\tgetDisplaySrcFromFontFace,\n\tmakeFontFacesFormData,\n\tmakeFontFamilyFormData,\n\tbatchInstallFontFaces,\n\tcheckFontFaceInstalled,\n} from './utils';\nimport { setImmutably } from './utils/set-immutably';\nimport { toggleFont } from './utils/toggleFont';\nimport type {\n\tCollectionFontFamily,\n\tFontCollection,\n\tFontFace,\n\tFontFamily,\n\tFontLibraryState,\n} from './types';\nimport { useSetting } from '../hooks';\n\nexport const FontLibraryContext = createContext< FontLibraryState >(\n\t{} as FontLibraryState\n);\nFontLibraryContext.displayName = 'FontLibraryContext';\n\nfunction FontLibraryProvider( { children }: { children: React.ReactNode } ) {\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { globalStylesId } = useSelect( ( select ) => {\n\t\tconst { __experimentalGetCurrentGlobalStylesId } = select( coreStore );\n\t\treturn { globalStylesId: __experimentalGetCurrentGlobalStylesId() };\n\t}, [] );\n\n\tconst globalStyles = useEntityRecord< GlobalStylesConfig >(\n\t\t'root',\n\t\t'globalStyles',\n\t\tglobalStylesId\n\t);\n\n\tconst [ isInstalling, setIsInstalling ] = useState( false );\n\tconst [ refreshKey, setRefreshKey ] = useState( 0 );\n\n\tconst refreshLibrary = () => {\n\t\tsetRefreshKey( Date.now() );\n\t};\n\n\tconst { records: libraryPosts = [], isResolving: isResolvingLibrary } =\n\t\tuseEntityRecords< CollectionFontFamily >(\n\t\t\t'postType',\n\t\t\t'wp_font_family',\n\t\t\t{\n\t\t\t\trefreshKey,\n\t\t\t\t_embed: true,\n\t\t\t}\n\t\t);\n\n\tconst libraryFonts: FontFamilyPreset[] =\n\t\t( libraryPosts || [] ).map( ( fontFamilyPost ) => {\n\t\t\treturn {\n\t\t\t\tid: fontFamilyPost.id,\n\t\t\t\t...( fontFamilyPost.font_family_settings || {} ),\n\t\t\t\tfontFace:\n\t\t\t\t\tfontFamilyPost?._embedded?.font_faces?.map(\n\t\t\t\t\t\t( face ) => face.font_face_settings\n\t\t\t\t\t) || [],\n\t\t\t};\n\t\t} ) || [];\n\n\t// Global Styles (settings) font families\n\tconst [ fontFamilies, setFontFamilies ] = useSetting<\n\t\tRecord< string, FontFamilyPreset[] > | undefined\n\t>( 'typography.fontFamilies' );\n\n\t/*\n\t * Save the font families to the database.\n\n\t * This function is called when the user activates or deactivates a font family.\n\t * It only updates the global styles post content in the database for new font families.\n\t * This avoids saving other styles/settings changed by the user using other parts of the editor.\n\t *\n\t * It uses the font families from the param to avoid using the font families from an outdated state.\n\t *\n\t * @param {Array} fonts - The font families that will be saved to the database.\n\t */\n\tconst saveFontFamilies = async (\n\t\tfonts:\n\t\t\t| FontFamilyPreset[]\n\t\t\t| Record< string, FontFamilyPreset[] >\n\t\t\t| undefined\n\t) => {\n\t\t// Gets the global styles database post content.\n\t\tconst updatedGlobalStyles = globalStyles.record;\n\n\t\t// Updates the database version of global styles with the edited font families in the client.\n\t\tsetImmutably(\n\t\t\tupdatedGlobalStyles ?? {},\n\t\t\t[ 'settings', 'typography', 'fontFamilies' ],\n\t\t\tfonts\n\t\t);\n\n\t\t// Saves a new version of the global styles in the database.\n\t\tawait saveEntityRecord( 'root', 'globalStyles', updatedGlobalStyles );\n\t};\n\n\t// Library Fonts\n\tconst [ modalTabOpen, setModalTabOpen ] = useState( '' );\n\tconst [ libraryFontSelected, setLibraryFontSelected ] = useState<\n\t\tFontFamily | undefined\n\t>( undefined );\n\n\t// Themes Fonts are the fonts defined in the global styles (database persisted theme.json data).\n\tconst themeFonts = fontFamilies?.theme\n\t\t? fontFamilies.theme\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\n\tconst customFonts = fontFamilies?.custom\n\t\t? fontFamilies.custom\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'custom' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\n\tconst baseCustomFonts = libraryFonts\n\t\t? libraryFonts\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'custom' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\n\tuseEffect( () => {\n\t\tif ( ! modalTabOpen ) {\n\t\t\tsetLibraryFontSelected( undefined );\n\t\t}\n\t}, [ modalTabOpen ] );\n\n\tconst handleSetLibraryFontSelected = ( font?: FontFamily ) => {\n\t\t// If font is null, reset the selected font\n\t\tif ( ! font ) {\n\t\t\tsetLibraryFontSelected( undefined );\n\t\t\treturn;\n\t\t}\n\n\t\tconst fonts = font.source === 'theme' ? themeFonts : baseCustomFonts;\n\n\t\t// Tries to find the font in the installed fonts\n\t\tconst fontSelected = fonts.find( ( f ) => f.slug === font.slug );\n\t\t// If the font is not found (it is only defined in custom styles), use the font from custom styles\n\t\tsetLibraryFontSelected( {\n\t\t\t...( fontSelected || font ),\n\t\t\tsource: font.source,\n\t\t} );\n\t};\n\n\t// Demo\n\tconst [ loadedFontUrls ] = useState( new Set() );\n\n\tconst getAvailableFontsOutline = (\n\t\tavailableFontFamilies: FontFamily[]\n\t) => {\n\t\tconst outline: Record< string, string[] > =\n\t\t\tavailableFontFamilies.reduce(\n\t\t\t\t( acc: Record< string, string[] >, font ) => {\n\t\t\t\t\tconst availableFontFaces =\n\t\t\t\t\t\tfont?.fontFace && font.fontFace?.length > 0\n\t\t\t\t\t\t\t? font?.fontFace.map(\n\t\t\t\t\t\t\t\t\t( face ) =>\n\t\t\t\t\t\t\t\t\t\t`${ face.fontStyle ?? '' }${\n\t\t\t\t\t\t\t\t\t\t\tface.fontWeight ?? ''\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: [ 'normal400' ]; // If the font doesn't have fontFace, we assume it is a system font and we add the defaults: normal 400\n\n\t\t\t\t\tacc[ font.slug ] = availableFontFaces;\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\treturn outline;\n\t};\n\n\tconst getActivatedFontsOutline = ( source?: string ) => {\n\t\tswitch ( source ) {\n\t\t\tcase 'theme':\n\t\t\t\treturn getAvailableFontsOutline( themeFonts );\n\t\t\tcase 'custom':\n\t\t\tdefault:\n\t\t\t\treturn getAvailableFontsOutline( customFonts );\n\t\t}\n\t};\n\n\tconst isFontActivated = (\n\t\tslug: string,\n\t\tstyle?: string,\n\t\tweight?: string | number,\n\t\tsource?: string\n\t) => {\n\t\tif ( ! style && ! weight ) {\n\t\t\treturn !! getActivatedFontsOutline( source )[ slug ];\n\t\t}\n\t\treturn !! getActivatedFontsOutline( source )[ slug ]?.includes(\n\t\t\t( style ?? '' ) + ( weight ?? '' )\n\t\t);\n\t};\n\n\tconst getFontFacesActivated = ( slug: string, source?: string ) => {\n\t\treturn getActivatedFontsOutline( source )[ slug ] || [];\n\t};\n\n\tasync function installFonts( fontFamiliesToInstall: FontFamily[] ) {\n\t\tsetIsInstalling( true );\n\t\ttry {\n\t\t\tconst fontFamiliesToActivate = [];\n\t\t\tlet installationErrors: Array< {\n\t\t\t\tmessage: string;\n\t\t\t} > = [];\n\n\t\t\tfor ( const fontFamilyToInstall of fontFamiliesToInstall ) {\n\t\t\t\tlet isANewFontFamily = false;\n\n\t\t\t\t// Get the font family if it already exists.\n\t\t\t\tlet installedFontFamily = await fetchGetFontFamilyBySlug(\n\t\t\t\t\tfontFamilyToInstall.slug\n\t\t\t\t);\n\n\t\t\t\t// Otherwise create it.\n\t\t\t\tif ( ! installedFontFamily ) {\n\t\t\t\t\tisANewFontFamily = true;\n\t\t\t\t\t// Prepare font family form data to install.\n\t\t\t\t\tinstalledFontFamily = await fetchInstallFontFamily(\n\t\t\t\t\t\tmakeFontFamilyFormData( fontFamilyToInstall )\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// Collect font faces that have already been installed (to be activated later)\n\t\t\t\tconst alreadyInstalledFontFaces =\n\t\t\t\t\tinstalledFontFamily.fontFace && fontFamilyToInstall.fontFace\n\t\t\t\t\t\t? installedFontFamily.fontFace.filter(\n\t\t\t\t\t\t\t\t( fontFaceToInstall: FontFace ) =>\n\t\t\t\t\t\t\t\t\tfontFaceToInstall &&\n\t\t\t\t\t\t\t\t\tfontFamilyToInstall.fontFace &&\n\t\t\t\t\t\t\t\t\tcheckFontFaceInstalled(\n\t\t\t\t\t\t\t\t\t\tfontFaceToInstall,\n\t\t\t\t\t\t\t\t\t\tfontFamilyToInstall.fontFace\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: [];\n\n\t\t\t\t// Filter out Font Faces that have already been installed (so that they are not re-installed)\n\t\t\t\tif (\n\t\t\t\t\tinstalledFontFamily.fontFace &&\n\t\t\t\t\tfontFamilyToInstall.fontFace\n\t\t\t\t) {\n\t\t\t\t\tfontFamilyToInstall.fontFace =\n\t\t\t\t\t\tfontFamilyToInstall.fontFace.filter(\n\t\t\t\t\t\t\t( fontFaceToInstall ) =>\n\t\t\t\t\t\t\t\t! checkFontFaceInstalled(\n\t\t\t\t\t\t\t\t\tfontFaceToInstall,\n\t\t\t\t\t\t\t\t\tinstalledFontFamily.fontFace\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// Install the fonts (upload the font files to the server and create the post in the database).\n\t\t\t\tlet successfullyInstalledFontFaces: FontFace[] = [];\n\t\t\t\tlet unsuccessfullyInstalledFontFaces: {\n\t\t\t\t\tmessage: string;\n\t\t\t\t}[] = [];\n\t\t\t\tif ( fontFamilyToInstall?.fontFace?.length ?? 0 > 0 ) {\n\t\t\t\t\tconst response = await batchInstallFontFaces(\n\t\t\t\t\t\tinstalledFontFamily.id,\n\t\t\t\t\t\tmakeFontFacesFormData(\n\t\t\t\t\t\t\tfontFamilyToInstall as FontFamily\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tsuccessfullyInstalledFontFaces = response?.successes;\n\t\t\t\t\tunsuccessfullyInstalledFontFaces = response?.errors;\n\t\t\t\t}\n\n\t\t\t\t// Use the successfully installed font faces\n\t\t\t\t// As well as any font faces that were already installed (those will be activated)\n\t\t\t\tif (\n\t\t\t\t\tsuccessfullyInstalledFontFaces?.length > 0 ||\n\t\t\t\t\talreadyInstalledFontFaces?.length > 0\n\t\t\t\t) {\n\t\t\t\t\t// Use font data from REST API not from client to ensure\n\t\t\t\t\t// correct font information is used.\n\t\t\t\t\tinstalledFontFamily.fontFace = [\n\t\t\t\t\t\t...successfullyInstalledFontFaces,\n\t\t\t\t\t];\n\n\t\t\t\t\tfontFamiliesToActivate.push( installedFontFamily );\n\t\t\t\t}\n\n\t\t\t\t// If it's a system font but was installed successfully, activate it.\n\t\t\t\tif (\n\t\t\t\t\tinstalledFontFamily &&\n\t\t\t\t\t! fontFamilyToInstall?.fontFace?.length\n\t\t\t\t) {\n\t\t\t\t\tfontFamiliesToActivate.push( installedFontFamily );\n\t\t\t\t}\n\n\t\t\t\t// If the font family is new and is not a system font, delete it to avoid having font families without font faces.\n\t\t\t\tif (\n\t\t\t\t\tisANewFontFamily &&\n\t\t\t\t\t( fontFamilyToInstall?.fontFace?.length ?? 0 ) > 0 &&\n\t\t\t\t\tsuccessfullyInstalledFontFaces?.length === 0\n\t\t\t\t) {\n\t\t\t\t\tawait fetchUninstallFontFamily( installedFontFamily.id );\n\t\t\t\t}\n\n\t\t\t\tinstallationErrors = installationErrors.concat(\n\t\t\t\t\tunsuccessfullyInstalledFontFaces\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst installationErrorMessages: string[] =\n\t\t\t\tinstallationErrors.reduce(\n\t\t\t\t\t( unique: string[], item ) =>\n\t\t\t\t\t\tunique.includes( item.message )\n\t\t\t\t\t\t\t? unique\n\t\t\t\t\t\t\t: [ ...unique, item.message ],\n\t\t\t\t\t[]\n\t\t\t\t);\n\n\t\t\tif ( fontFamiliesToActivate.length > 0 ) {\n\t\t\t\t// Activate the font family (add the font family to the global styles).\n\t\t\t\tconst activeFonts = activateCustomFontFamilies(\n\t\t\t\t\tfontFamiliesToActivate\n\t\t\t\t);\n\t\t\t\t// Save the global styles to the database.\n\t\t\t\tawait saveFontFamilies( activeFonts );\n\n\t\t\t\trefreshLibrary();\n\t\t\t}\n\n\t\t\tif ( installationErrorMessages.length > 0 ) {\n\t\t\t\tconst installError: Error & {\n\t\t\t\t\tinstallationErrors?: string[];\n\t\t\t\t} = new Error( __( 'There was an error installing fonts.' ) );\n\n\t\t\t\tinstallError.installationErrors = installationErrorMessages;\n\n\t\t\t\tthrow installError;\n\t\t\t}\n\t\t} finally {\n\t\t\tsetIsInstalling( false );\n\t\t}\n\t}\n\n\tasync function uninstallFontFamily( fontFamilyToUninstall: FontFamily ) {\n\t\tif ( ! fontFamilyToUninstall?.id ) {\n\t\t\tthrow new Error( __( 'Font family to uninstall is not defined.' ) );\n\t\t}\n\t\ttry {\n\t\t\t// Uninstall the font family.\n\t\t\t// (Removes the font files from the server and the posts from the database).\n\t\t\tconst uninstalledFontFamily = await fetchUninstallFontFamily(\n\t\t\t\tfontFamilyToUninstall.id\n\t\t\t);\n\n\t\t\t// Deactivate the font family if delete request is successful\n\t\t\t// (Removes the font family from the global styles).\n\t\t\tif ( uninstalledFontFamily.deleted ) {\n\t\t\t\tconst activeFonts = deactivateFontFamily(\n\t\t\t\t\tfontFamilyToUninstall\n\t\t\t\t);\n\t\t\t\t// Save the global styles to the database.\n\t\t\t\tawait saveFontFamilies( activeFonts );\n\t\t\t}\n\n\t\t\t// Refresh the library (the library font families from database).\n\t\t\trefreshLibrary();\n\n\t\t\treturn uninstalledFontFamily;\n\t\t} catch ( error ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t`There was an error uninstalling the font family:`,\n\t\t\t\terror\n\t\t\t);\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tconst deactivateFontFamily = ( font: FontFamily ) => {\n\t\t// If the user doesn't have custom fonts defined, include as custom fonts all the theme fonts\n\t\t// We want to save as active all the theme fonts at the beginning\n\t\tconst initialCustomFonts = fontFamilies?.[ font.source ?? '' ] ?? [];\n\t\tconst newCustomFonts = initialCustomFonts.filter(\n\t\t\t( f ) => f.slug !== font.slug\n\t\t);\n\t\tconst activeFonts = {\n\t\t\t...fontFamilies,\n\t\t\t[ font.source ?? '' ]: newCustomFonts,\n\t\t};\n\t\tsetFontFamilies( activeFonts );\n\n\t\tif ( font.fontFace ) {\n\t\t\tfont.fontFace.forEach( ( face ) => {\n\t\t\t\tunloadFontFaceInBrowser( face, 'all' );\n\t\t\t} );\n\t\t}\n\t\treturn activeFonts;\n\t};\n\n\tconst activateCustomFontFamilies = ( fontsToAdd: FontFamily[] ) => {\n\t\tconst fontsToActivate = cleanFontsForSave( fontsToAdd );\n\n\t\tconst activeFonts = {\n\t\t\t...fontFamilies,\n\t\t\t// Merge the existing custom fonts with the new fonts.\n\t\t\tcustom: mergeFontFamilies( fontFamilies?.custom, fontsToActivate ),\n\t\t};\n\n\t\t// Activate the fonts by set the new custom fonts array.\n\t\tsetFontFamilies( activeFonts );\n\n\t\tloadFontsInBrowser( fontsToActivate );\n\n\t\treturn activeFonts;\n\t};\n\n\t// Removes the id from the families and faces to avoid saving that to global styles post content.\n\tconst cleanFontsForSave = ( fonts: FontFamily[] ) => {\n\t\treturn fonts.map( ( { id: _familyDbId, fontFace, ...font } ) => ( {\n\t\t\t...font,\n\t\t\t...( fontFace && fontFace.length > 0\n\t\t\t\t? {\n\t\t\t\t\t\tfontFace: fontFace.map(\n\t\t\t\t\t\t\t( { id: _faceDbId, ...face } ) => face\n\t\t\t\t\t\t),\n\t\t\t\t  }\n\t\t\t\t: {} ),\n\t\t} ) );\n\t};\n\n\tconst loadFontsInBrowser = ( fonts: FontFamily[] ) => {\n\t\t// Add custom fonts to the browser.\n\t\tfonts.forEach( ( font ) => {\n\t\t\tif ( font.fontFace ) {\n\t\t\t\tfont.fontFace.forEach( ( face ) => {\n\t\t\t\t\tconst displaySrc = getDisplaySrcFromFontFace(\n\t\t\t\t\t\tface?.src ?? ''\n\t\t\t\t\t);\n\t\t\t\t\tif ( displaySrc ) {\n\t\t\t\t\t\t// Load font faces just in the iframe because they already are in the document.\n\t\t\t\t\t\tloadFontFaceInBrowser( face, displaySrc, 'all' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t};\n\n\tconst toggleActivateFont = ( font: FontFamily, face?: FontFace ) => {\n\t\t// If the user doesn't have custom fonts defined, include as custom fonts all the theme fonts\n\t\t// We want to save as active all the theme fonts at the beginning\n\t\tconst initialFonts = fontFamilies?.[ font.source ?? '' ] ?? [];\n\t\t// Toggles the received font family or font face\n\t\tconst newFonts = toggleFont( font, face, initialFonts );\n\t\t// Updates the font families activated in global settings:\n\t\tsetFontFamilies( {\n\t\t\t...fontFamilies,\n\t\t\t[ font.source ?? '' ]: newFonts,\n\t\t} );\n\n\t\tconst isFaceActivated = isFontActivated(\n\t\t\tfont.slug,\n\t\t\tface?.fontStyle ?? '',\n\t\t\tface?.fontWeight ?? '',\n\t\t\tfont.source ?? 'custom'\n\t\t);\n\n\t\tif ( face && isFaceActivated ) {\n\t\t\tunloadFontFaceInBrowser( face, 'all' );\n\t\t} else {\n\t\t\tconst displaySrc = getDisplaySrcFromFontFace( face?.src ?? '' );\n\t\t\t// If the font doesn't have a src, don't load it.\n\t\t\tif ( face && displaySrc ) {\n\t\t\t\tloadFontFaceInBrowser( face, displaySrc, 'all' );\n\t\t\t}\n\t\t}\n\t};\n\n\tconst loadFontFaceAsset = async ( fontFace: FontFace ) => {\n\t\t// If the font doesn't have a src, don't load it.\n\t\tif ( ! fontFace.src ) {\n\t\t\treturn;\n\t\t}\n\t\t// Get the src of the font.\n\t\tconst src = getDisplaySrcFromFontFace( fontFace.src );\n\t\t// If the font is already loaded, don't load it again.\n\t\tif ( ! src || loadedFontUrls.has( src ) ) {\n\t\t\treturn;\n\t\t}\n\t\t// Load the font in the browser.\n\t\tloadFontFaceInBrowser( fontFace, src, 'document' );\n\t\t// Add the font to the loaded fonts list.\n\t\tloadedFontUrls.add( src );\n\t};\n\n\t// Font Collections\n\tconst [ collections, setFontCollections ] = useState< FontCollection[] >(\n\t\t[]\n\t);\n\tconst getFontCollections = async () => {\n\t\tconst response = await fetchFontCollections();\n\t\tsetFontCollections( response );\n\t};\n\tconst getFontCollection = async ( slug: string ) => {\n\t\ttry {\n\t\t\tconst hasData = !! collections.find(\n\t\t\t\t( collection ) => collection.slug === slug\n\t\t\t)?.font_families;\n\t\t\tif ( hasData ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst response = await fetchFontCollection( slug );\n\t\t\tconst updatedCollections = collections.map( ( collection ) =>\n\t\t\t\tcollection.slug === slug\n\t\t\t\t\t? { ...collection, ...response }\n\t\t\t\t\t: collection\n\t\t\t);\n\t\t\tsetFontCollections( updatedCollections );\n\t\t} catch ( e ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( e );\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\tuseEffect( () => {\n\t\tgetFontCollections();\n\t}, [] );\n\n\treturn (\n\t\t<FontLibraryContext.Provider\n\t\t\tvalue={ {\n\t\t\t\tlibraryFontSelected,\n\t\t\t\thandleSetLibraryFontSelected,\n\t\t\t\tfontFamilies: fontFamilies ?? {},\n\t\t\t\tbaseCustomFonts,\n\t\t\t\tisFontActivated,\n\t\t\t\tgetFontFacesActivated,\n\t\t\t\tloadFontFaceAsset,\n\t\t\t\tinstallFonts,\n\t\t\t\tuninstallFontFamily,\n\t\t\t\ttoggleActivateFont,\n\t\t\t\tgetAvailableFontsOutline,\n\t\t\t\tmodalTabOpen,\n\t\t\t\tsetModalTabOpen,\n\t\t\t\trefreshLibrary,\n\t\t\t\tsaveFontFamilies,\n\t\t\t\tisResolvingLibrary,\n\t\t\t\tisInstalling,\n\t\t\t\tcollections,\n\t\t\t\tgetFontCollection,\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</FontLibraryContext.Provider>\n\t);\n}\n\nexport default FontLibraryProvider;\n", "/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tCollectionFontFace,\n\tCollectionFontFamily,\n\tFontCollection,\n\tFontFace,\n} from './types';\n\nconst FONT_FAMILIES_URL = '/wp/v2/font-families';\nconst FONT_COLLECTIONS_URL = '/wp/v2/font-collections';\n\nexport async function fetchInstallFontFamily( data: FormData ) {\n\tconst config = {\n\t\tpath: FONT_FAMILIES_URL,\n\t\tmethod: 'POST',\n\t\tbody: data,\n\t};\n\tconst response: CollectionFontFamily = await apiFetch( config );\n\treturn {\n\t\tid: response.id as string,\n\t\t...response.font_family_settings,\n\t\tfontFace: [],\n\t};\n}\n\nexport async function fetchInstallFontFace(\n\tfontFamilyId: string,\n\tdata: FormData\n): Promise< FontFace > {\n\tconst config = {\n\t\tpath: `${ FONT_FAMILIES_URL }/${ fontFamilyId }/font-faces`,\n\t\tmethod: 'POST',\n\t\tbody: data,\n\t};\n\tconst response = ( await apiFetch( config ) ) as CollectionFontFace;\n\treturn {\n\t\tid: response.id,\n\t\t...response.font_face_settings,\n\t};\n}\n\nexport async function fetchGetFontFamilyBySlug( slug: string ) {\n\tconst config = {\n\t\tpath: `${ FONT_FAMILIES_URL }?slug=${ slug }&_embed=true`,\n\t\tmethod: 'GET',\n\t};\n\tconst response = ( await apiFetch( config ) ) as\n\t\t| CollectionFontFamily[]\n\t\t| undefined;\n\tif ( ! response || response.length === 0 ) {\n\t\treturn null;\n\t}\n\tconst fontFamilyPost = response[ 0 ];\n\treturn {\n\t\tid: fontFamilyPost.id,\n\t\t...fontFamilyPost.font_family_settings,\n\t\tfontFace:\n\t\t\t( fontFamilyPost?._embedded?.font_faces ?? [] ).map(\n\t\t\t\t( face ) => face.font_face_settings\n\t\t\t) || [],\n\t};\n}\n\nexport async function fetchUninstallFontFamily(\n\tfontFamilyId: string\n): Promise< {\n\tdeleted: boolean;\n} > {\n\tconst config = {\n\t\tpath: `${ FONT_FAMILIES_URL }/${ fontFamilyId }?force=true`,\n\t\tmethod: 'DELETE',\n\t};\n\treturn await apiFetch( config );\n}\n\nexport async function fetchFontCollections() {\n\tconst config = {\n\t\tpath: `${ FONT_COLLECTIONS_URL }?_fields=slug,name,description`,\n\t\tmethod: 'GET',\n\t};\n\treturn ( await apiFetch( config ) ) as FontCollection[];\n}\n\nexport async function fetchFontCollection( id: string ) {\n\tconst config = {\n\t\tpath: `${ FONT_COLLECTIONS_URL }/${ id }`,\n\t\tmethod: 'GET',\n\t};\n\treturn ( await apiFetch( config ) ) as FontCollection;\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { FONT_WEIGHTS, FONT_STYLES } from './constants';\nimport { fetchInstallFontFace } from '../resolvers';\nimport { formatFontFaceName } from './preview-styles';\nimport type { FontFamily, FontFace, FontUploadResult } from '../types';\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Browser dependencies\n */\nconst { File } = window;\nconst { kebabCase } = unlock( componentsPrivateApis );\n\nexport function setUIValuesNeeded(\n\tfont: FontFamily,\n\textraValues: Partial< FontFamily > = {}\n): FontFamily {\n\tif ( ! font.name && ( font.fontFamily || font.slug ) ) {\n\t\tfont.name = font.fontFamily || font.slug;\n\t}\n\treturn {\n\t\t...font,\n\t\t...extraValues,\n\t};\n}\n\nexport function isUrlEncoded( url: string ): boolean {\n\tif ( typeof url !== 'string' ) {\n\t\treturn false;\n\t}\n\treturn url !== decodeURIComponent( url );\n}\n\nexport function getFontFaceVariantName( face: FontFace ): string {\n\tconst weightName = FONT_WEIGHTS[ face.fontWeight ?? '' ] || face.fontWeight;\n\tconst styleName =\n\t\tface.fontStyle === 'normal'\n\t\t\t? ''\n\t\t\t: FONT_STYLES[ face.fontStyle ?? '' ] || face.fontStyle;\n\treturn `${ weightName } ${ styleName }`;\n}\n\nexport function mergeFontFaces(\n\texisting: FontFace[] = [],\n\tincoming: FontFace[] = []\n): FontFace[] {\n\tconst map = new Map();\n\tfor ( const face of existing ) {\n\t\tmap.set( `${ face.fontWeight }${ face.fontStyle }`, face );\n\t}\n\tfor ( const face of incoming ) {\n\t\t// This will overwrite if the src already exists, keeping it unique.\n\t\tmap.set( `${ face.fontWeight }${ face.fontStyle }`, face );\n\t}\n\treturn Array.from( map.values() );\n}\n\nexport function mergeFontFamilies(\n\texisting: FontFamily[] = [],\n\tincoming: FontFamily[] = []\n): FontFamily[] {\n\tconst map = new Map();\n\t// Add the existing array to the map.\n\tfor ( const font of existing ) {\n\t\tmap.set( font.slug, { ...font } );\n\t}\n\t// Add the incoming array to the map, overwriting existing values excepting fontFace that need to be merged.\n\tfor ( const font of incoming ) {\n\t\tif ( map.has( font.slug ) ) {\n\t\t\tconst { fontFace: incomingFontFaces, ...restIncoming } = font;\n\t\t\tconst existingFont = map.get( font.slug );\n\t\t\t// Merge the fontFaces existing with the incoming fontFaces.\n\t\t\tconst mergedFontFaces = mergeFontFaces(\n\t\t\t\texistingFont.fontFace,\n\t\t\t\tincomingFontFaces\n\t\t\t);\n\t\t\t// Except for the fontFace key all the other keys are overwritten with the incoming values.\n\t\t\tmap.set( font.slug, {\n\t\t\t\t...restIncoming,\n\t\t\t\tfontFace: mergedFontFaces,\n\t\t\t} );\n\t\t} else {\n\t\t\tmap.set( font.slug, { ...font } );\n\t\t}\n\t}\n\treturn Array.from( map.values() );\n}\n\n/*\n * Loads the font face from a URL and adds it to the browser.\n * It also adds it to the iframe document.\n */\nexport async function loadFontFaceInBrowser(\n\tfontFace: FontFace,\n\tsource: string | File,\n\taddTo: 'all' | 'document' | 'iframe' = 'all'\n): Promise< void > {\n\tlet dataSource;\n\n\tif ( typeof source === 'string' ) {\n\t\tdataSource = `url(${ source })`;\n\t} else if ( source instanceof File ) {\n\t\tdataSource = await source.arrayBuffer();\n\t} else {\n\t\treturn;\n\t}\n\n\tconst newFont = new window.FontFace(\n\t\tformatFontFaceName( fontFace.fontFamily ),\n\t\tdataSource,\n\t\t{\n\t\t\tstyle: fontFace.fontStyle,\n\t\t\tweight: String( fontFace.fontWeight ),\n\t\t}\n\t);\n\n\tconst loadedFace = await newFont.load();\n\n\tif ( addTo === 'document' || addTo === 'all' ) {\n\t\tdocument.fonts.add( loadedFace );\n\t}\n\n\tif ( addTo === 'iframe' || addTo === 'all' ) {\n\t\tconst iframe = document.querySelector(\n\t\t\t'iframe[name=\"editor-canvas\"]'\n\t\t) as HTMLIFrameElement;\n\t\tif ( iframe?.contentDocument ) {\n\t\t\tiframe.contentDocument.fonts.add( loadedFace );\n\t\t}\n\t}\n}\n\n/*\n * Unloads the font face and remove it from the browser.\n * It also removes it from the iframe document.\n *\n * Note that Font faces that were added to the set using the CSS @font-face rule\n * remain connected to the corresponding CSS, and cannot be deleted.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/delete.\n */\nexport function unloadFontFaceInBrowser(\n\tfontFace: FontFace,\n\tremoveFrom: 'all' | 'document' | 'iframe' = 'all'\n): void {\n\tconst unloadFontFace = ( fonts: FontFaceSet ) => {\n\t\tfonts.forEach( ( f ) => {\n\t\t\tif (\n\t\t\t\tf.family === formatFontFaceName( fontFace?.fontFamily ) &&\n\t\t\t\tf.weight === fontFace?.fontWeight &&\n\t\t\t\tf.style === fontFace?.fontStyle\n\t\t\t) {\n\t\t\t\tfonts.delete( f );\n\t\t\t}\n\t\t} );\n\t};\n\n\tif ( removeFrom === 'document' || removeFrom === 'all' ) {\n\t\tunloadFontFace( document.fonts );\n\t}\n\n\tif ( removeFrom === 'iframe' || removeFrom === 'all' ) {\n\t\tconst iframe = document.querySelector(\n\t\t\t'iframe[name=\"editor-canvas\"]'\n\t\t) as HTMLIFrameElement;\n\t\tif ( iframe?.contentDocument ) {\n\t\t\tunloadFontFace( iframe.contentDocument.fonts );\n\t\t}\n\t}\n}\n\n/**\n * Retrieves the display source from a font face src.\n *\n * @param {string|string[]} input - The font face src.\n * @return {string|undefined} The display source or undefined if the input is invalid.\n */\nexport function getDisplaySrcFromFontFace(\n\tinput: string | string[]\n): string | undefined {\n\tif ( ! input ) {\n\t\treturn;\n\t}\n\n\tlet src;\n\tif ( Array.isArray( input ) ) {\n\t\tsrc = input[ 0 ];\n\t} else {\n\t\tsrc = input;\n\t}\n\t// It's expected theme fonts will already be loaded in the browser.\n\tif ( src.startsWith( 'file:.' ) ) {\n\t\treturn;\n\t}\n\tif ( ! isUrlEncoded( src ) ) {\n\t\tsrc = encodeURI( src );\n\t}\n\treturn src;\n}\n\nexport function makeFontFamilyFormData( fontFamily: FontFamily ): FormData {\n\tconst formData = new FormData();\n\n\tconst { fontFace, category, ...familyWithValidParameters } = fontFamily;\n\tconst fontFamilySettings = {\n\t\t...familyWithValidParameters,\n\t\tslug: kebabCase( fontFamily.slug ),\n\t};\n\n\tformData.append(\n\t\t'font_family_settings',\n\t\tJSON.stringify( fontFamilySettings )\n\t);\n\treturn formData;\n}\n\nexport function makeFontFacesFormData( font: FontFamily ): FormData[] {\n\tconst fontFacesFormData = ( font?.fontFace ?? [] ).map(\n\t\t( item, faceIndex ) => {\n\t\t\tconst face = { ...item };\n\t\t\tconst formData = new FormData();\n\t\t\tif ( face.file ) {\n\t\t\t\t// Normalize to an array, since face.file may be a single file or an array of files.\n\t\t\t\tconst files = Array.isArray( face.file )\n\t\t\t\t\t? face.file\n\t\t\t\t\t: [ face.file ];\n\t\t\t\tconst src: string[] = [];\n\n\t\t\t\tfiles.forEach( ( file, key ) => {\n\t\t\t\t\t// Slugified file name because the it might contain spaces or characters treated differently on the server.\n\t\t\t\t\tconst fileId = `file-${ faceIndex }-${ key }`;\n\t\t\t\t\t// Add the files to the formData\n\t\t\t\t\tformData.append( fileId, file, file.name );\n\t\t\t\t\tsrc.push( fileId );\n\t\t\t\t} );\n\n\t\t\t\tface.src = src.length === 1 ? src[ 0 ] : src;\n\t\t\t\tdelete face.file;\n\n\t\t\t\tformData.append( 'font_face_settings', JSON.stringify( face ) );\n\t\t\t} else {\n\t\t\t\tformData.append( 'font_face_settings', JSON.stringify( face ) );\n\t\t\t}\n\t\t\treturn formData;\n\t\t}\n\t);\n\n\treturn fontFacesFormData;\n}\n\nexport async function batchInstallFontFaces(\n\tfontFamilyId: string,\n\tfontFacesData: FormData[]\n): Promise< FontUploadResult > {\n\tconst responses: {\n\t\tstatus: 'fulfilled' | 'rejected';\n\t\tvalue?: FontFace;\n\t\treason?: Error;\n\t}[] = [];\n\n\t/*\n\t * Uses the same response format as Promise.allSettled, but executes requests in sequence to work\n\t * around a race condition that can cause an error when the fonts directory doesn't exist yet.\n\t */\n\tfor ( const faceData of fontFacesData ) {\n\t\ttry {\n\t\t\tconst response = await fetchInstallFontFace(\n\t\t\t\tfontFamilyId,\n\t\t\t\tfaceData\n\t\t\t);\n\t\t\tresponses.push( { status: 'fulfilled', value: response } );\n\t\t} catch ( error ) {\n\t\t\tresponses.push( { status: 'rejected', reason: error as Error } );\n\t\t}\n\t}\n\n\tconst results: {\n\t\tsuccesses: FontFace[];\n\t\terrors: Array< {\n\t\t\tdata: FormData;\n\t\t\tmessage: string;\n\t\t} >;\n\t} = {\n\t\terrors: [],\n\t\tsuccesses: [],\n\t};\n\n\tresponses.forEach( ( result, index ) => {\n\t\tif ( result.status === 'fulfilled' && result.value ) {\n\t\t\tconst response = result.value;\n\t\t\tresults.successes.push( response );\n\t\t} else if ( result.reason ) {\n\t\t\t// Handle network errors or other fetch-related errors\n\t\t\tresults.errors.push( {\n\t\t\t\tdata: fontFacesData[ index ],\n\t\t\t\tmessage: result.reason.message,\n\t\t\t} );\n\t\t}\n\t} );\n\n\treturn results;\n}\n\n/*\n * Downloads a font face asset from a URL to the client and returns a File object.\n */\nexport async function downloadFontFaceAssets(\n\tsrc: string | string[]\n): Promise< File | File[] > {\n\t// Normalize to an array, since `src` could be a string or array.\n\tsrc = Array.isArray( src ) ? src : [ src ];\n\n\tconst files = await Promise.all(\n\t\tsrc.map( async ( url ) => {\n\t\t\treturn fetch( new Request( url ) )\n\t\t\t\t.then( ( response ) => {\n\t\t\t\t\tif ( ! response.ok ) {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Error downloading font face asset from ${ url }. Server responded with status: ${ response.status }`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn response.blob();\n\t\t\t\t} )\n\t\t\t\t.then( ( blob ) => {\n\t\t\t\t\tconst filename = url.split( '/' ).pop() as string;\n\t\t\t\t\tconst file = new File( [ blob ], filename, {\n\t\t\t\t\t\ttype: blob.type,\n\t\t\t\t\t} );\n\t\t\t\t\treturn file;\n\t\t\t\t} );\n\t\t} )\n\t);\n\n\t// If we only have one file return it (not the array).  Otherwise return all of them in the array.\n\treturn files.length === 1 ? files[ 0 ] : files;\n}\n\n/*\n * Determine if a given Font Face is present in a given collection.\n * We determine that a font face has been installed by comparing the fontWeight and fontStyle\n *\n * @param {Object} fontFace The Font Face to seek\n * @param {Array} collection The Collection to seek in\n * @returns True if the font face is found in the collection.  Otherwise False.\n */\nexport function checkFontFaceInstalled(\n\tfontFace: FontFace,\n\tcollection: FontFace[]\n): boolean {\n\treturn (\n\t\t-1 !==\n\t\tcollection.findIndex( ( collectionFontFace ) => {\n\t\t\treturn (\n\t\t\t\tcollectionFontFace.fontWeight === fontFace.fontWeight &&\n\t\t\t\tcollectionFontFace.fontStyle === fontFace.fontStyle\n\t\t\t);\n\t\t} )\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\n\nexport const ALLOWED_FILE_EXTENSIONS = [ 'otf', 'ttf', 'woff', 'woff2' ];\n\nexport const FONT_WEIGHTS: Record< string, string > = {\n\t100: _x( 'Thin', 'font weight' ),\n\t200: _x( 'Extra-light', 'font weight' ),\n\t300: _x( 'Light', 'font weight' ),\n\t400: _x( 'Normal', 'font weight' ),\n\t500: _x( 'Medium', 'font weight' ),\n\t600: _x( 'Semi-bold', 'font weight' ),\n\t700: _x( 'Bold', 'font weight' ),\n\t800: _x( 'Extra-bold', 'font weight' ),\n\t900: _x( 'Black', 'font weight' ),\n};\n\nexport const FONT_STYLES: Record< string, string > = {\n\tnormal: _x( 'Normal', 'font style' ),\n\titalic: _x( 'Italic', 'font style' ),\n};\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tModal,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport InstalledFonts from './installed-fonts';\nimport FontCollection from './font-collection';\nimport UploadFonts from './upload-fonts';\nimport { FontLibraryContext } from './context';\nimport type { FontCollection as FontCollectionType } from './types';\nimport { unlock } from '../lock-unlock';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nconst DEFAULT_TAB = {\n\tid: 'installed-fonts',\n\ttitle: _x( 'Library', 'Font library' ),\n};\n\nconst UPLOAD_TAB = {\n\tid: 'upload-fonts',\n\ttitle: _x( 'Upload', 'noun' ),\n};\n\nconst tabsFromCollections = ( collections: FontCollectionType[] ) =>\n\tcollections.map( ( { slug, name } ) => ( {\n\t\tid: slug,\n\t\ttitle:\n\t\t\tcollections.length === 1 && slug === 'google-fonts'\n\t\t\t\t? __( 'Install Fonts' )\n\t\t\t\t: name,\n\t} ) );\n\nfunction FontLibraryModal( {\n\tonRequestClose,\n\tdefaultTabId = 'installed-fonts',\n}: {\n\tonRequestClose: () => void;\n\tdefaultTabId?: string;\n} ) {\n\tconst { collections } = useContext( FontLibraryContext );\n\tconst canUserCreate = useSelect( ( select ) => {\n\t\treturn select( coreStore ).canUser( 'create', {\n\t\t\tkind: 'postType',\n\t\t\tname: 'wp_font_family',\n\t\t} );\n\t}, [] );\n\n\tconst tabs: { id: string; title: string }[] = [ DEFAULT_TAB ];\n\n\tif ( canUserCreate ) {\n\t\ttabs.push( UPLOAD_TAB );\n\t\ttabs.push( ...tabsFromCollections( collections || [] ) );\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Fonts' ) }\n\t\t\tonRequestClose={ onRequestClose }\n\t\t\tisFullScreen\n\t\t\tclassName=\"font-library-modal\"\n\t\t>\n\t\t\t<Tabs defaultTabId={ defaultTabId }>\n\t\t\t\t<div className=\"font-library-modal__tablist-container\">\n\t\t\t\t\t<Tabs.TabList>\n\t\t\t\t\t\t{ tabs.map( ( { id, title } ) => (\n\t\t\t\t\t\t\t<Tabs.Tab key={ id } tabId={ id }>\n\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t</Tabs.Tab>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Tabs.TabList>\n\t\t\t\t</div>\n\t\t\t\t{ tabs.map( ( { id } ) => {\n\t\t\t\t\tlet contents;\n\t\t\t\t\tswitch ( id ) {\n\t\t\t\t\t\tcase 'upload-fonts':\n\t\t\t\t\t\t\tcontents = <UploadFonts />;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'installed-fonts':\n\t\t\t\t\t\t\tcontents = <InstalledFonts />;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcontents = <FontCollection slug={ id } />;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tabs.TabPanel\n\t\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\t\ttabId={ id }\n\t\t\t\t\t\t\tfocusable={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ contents }\n\t\t\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Tabs>\n\t\t</Modal>\n\t);\n}\n\nexport default FontLibraryModal;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\tNavigator,\n\tuseNavigator,\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n\tFlex,\n\tNotice,\n\tProgressBar,\n\tCheckboxControl,\n} from '@wordpress/components';\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useContext, useEffect, useState } from '@wordpress/element';\nimport { __, _x, sprintf, isRTL } from '@wordpress/i18n';\nimport { chevronLeft, chevronRight } from '@wordpress/icons';\nimport type {\n\tFontFamilyPreset,\n\tGlobalStylesConfig,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './context';\nimport FontCard from './font-card';\nimport LibraryFontVariant from './library-font-variant';\nimport { sortFontFaces } from './utils/sort-font-faces';\nimport {\n\tsetUIValuesNeeded,\n\tloadFontFaceInBrowser,\n\tunloadFontFaceInBrowser,\n\tgetDisplaySrcFromFontFace,\n} from './utils';\nimport { useSetting } from '../hooks';\nimport type { FontFamily } from './types';\n\nfunction InstalledFonts() {\n\tconst {\n\t\tbaseCustomFonts,\n\t\tlibraryFontSelected,\n\t\thandleSetLibraryFontSelected,\n\t\trefreshLibrary,\n\t\tuninstallFontFamily,\n\t\tisResolvingLibrary,\n\t\tisInstalling,\n\t\tsaveFontFamilies,\n\t\tgetFontFacesActivated,\n\t} = useContext( FontLibraryContext );\n\n\tconst [ fontFamilies, setFontFamilies ] = useSetting<\n\t\tRecord< string, FontFamilyPreset[] > | undefined\n\t>( 'typography.fontFamilies' );\n\tconst [ isConfirmDeleteOpen, setIsConfirmDeleteOpen ] =\n\t\tuseState< boolean >( false );\n\tconst [ notice, setNotice ] = useState< {\n\t\ttype: 'success' | 'error' | 'info';\n\t\tmessage: string;\n\t} | null >( null );\n\tconst [ baseFontFamilies ] = useSetting<\n\t\tRecord< string, FontFamilyPreset[] > | undefined\n\t>( 'typography.fontFamilies', undefined, 'base' );\n\tconst globalStylesId = useSelect( ( select ) => {\n\t\tconst { __experimentalGetCurrentGlobalStylesId } = select( coreStore );\n\t\treturn __experimentalGetCurrentGlobalStylesId();\n\t}, [] );\n\tconst globalStyles = useEntityRecord< GlobalStylesConfig >(\n\t\t'root',\n\t\t'globalStyles',\n\t\tglobalStylesId\n\t);\n\tconst fontFamiliesHasChanges =\n\t\t!! globalStyles?.edits?.settings?.typography?.fontFamilies;\n\n\tconst themeFonts = fontFamilies?.theme\n\t\t? fontFamilies.theme\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\tconst themeFontsSlugs = new Set( themeFonts.map( ( f ) => f.slug ) );\n\tconst baseThemeFonts = baseFontFamilies?.theme\n\t\t? themeFonts.concat(\n\t\t\t\tbaseFontFamilies.theme\n\t\t\t\t\t.filter( ( f ) => ! themeFontsSlugs.has( f.slug ) )\n\t\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\n\t\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t  )\n\t\t: [];\n\n\tconst customFontFamilyId =\n\t\tlibraryFontSelected?.source === 'custom' && libraryFontSelected?.id;\n\n\tconst canUserDelete = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser } = select( coreStore );\n\t\t\treturn (\n\t\t\t\tcustomFontFamilyId &&\n\t\t\t\tcanUser( 'delete', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: 'wp_font_family',\n\t\t\t\t\tid: customFontFamilyId,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ customFontFamilyId ]\n\t);\n\n\tconst shouldDisplayDeleteButton =\n\t\t!! libraryFontSelected &&\n\t\tlibraryFontSelected?.source !== 'theme' &&\n\t\tcanUserDelete;\n\n\tconst handleUninstallClick = () => {\n\t\tsetIsConfirmDeleteOpen( true );\n\t};\n\n\tconst handleUpdate = async () => {\n\t\tsetNotice( null );\n\t\ttry {\n\t\t\tawait saveFontFamilies( fontFamilies );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Font family updated successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: sprintf(\n\t\t\t\t\t/* translators: %s: error message */\n\t\t\t\t\t__( 'There was an error updating the font family. %s' ),\n\t\t\t\t\t( error as Error ).message\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst getFontFacesToDisplay = ( font: FontFamily ) => {\n\t\tif ( ! font ) {\n\t\t\treturn [];\n\t\t}\n\t\tif ( ! font.fontFace || ! font.fontFace.length ) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tfontFamily: font.fontFamily,\n\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\tfontWeight: '400',\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn sortFontFaces( font.fontFace );\n\t};\n\n\tconst getFontCardVariantsText = ( font: FontFamily ) => {\n\t\tconst variantsInstalled =\n\t\t\tfont?.fontFace && ( font?.fontFace?.length ?? 0 ) > 0\n\t\t\t\t? font.fontFace.length\n\t\t\t\t: 1;\n\t\tconst variantsActive = getFontFacesActivated(\n\t\t\tfont.slug,\n\t\t\tfont.source\n\t\t).length;\n\t\treturn sprintf(\n\t\t\t/* translators: 1: Active font variants, 2: Total font variants. */\n\t\t\t__( '%1$d/%2$d variants active' ),\n\t\t\tvariantsActive,\n\t\t\tvariantsInstalled\n\t\t);\n\t};\n\n\tuseEffect( () => {\n\t\thandleSetLibraryFontSelected( libraryFontSelected );\n\t\trefreshLibrary();\n\t}, [] );\n\n\t// Get activated fonts count.\n\tconst activeFontsCount = libraryFontSelected\n\t\t? getFontFacesActivated(\n\t\t\t\tlibraryFontSelected.slug,\n\t\t\t\tlibraryFontSelected.source\n\t\t  ).length\n\t\t: 0;\n\n\tconst selectedFontsCount =\n\t\tlibraryFontSelected?.fontFace?.length ??\n\t\t( libraryFontSelected?.fontFamily ? 1 : 0 );\n\n\t// Check if any fonts are selected.\n\tconst isIndeterminate =\n\t\tactiveFontsCount > 0 && activeFontsCount !== selectedFontsCount;\n\n\t// Check if all fonts are selected.\n\tconst isSelectAllChecked = activeFontsCount === selectedFontsCount;\n\n\t// Toggle select all fonts.\n\tconst toggleSelectAll = () => {\n\t\tif ( ! libraryFontSelected || ! libraryFontSelected?.source ) {\n\t\t\treturn;\n\t\t}\n\t\tconst initialFonts =\n\t\t\tfontFamilies?.[ libraryFontSelected.source ]?.filter(\n\t\t\t\t( f ) => f.slug !== libraryFontSelected.slug\n\t\t\t) ?? [];\n\t\tconst newFonts = isSelectAllChecked\n\t\t\t? initialFonts\n\t\t\t: [ ...initialFonts, libraryFontSelected ];\n\n\t\tsetFontFamilies( {\n\t\t\t...fontFamilies,\n\t\t\t[ libraryFontSelected.source ]: newFonts,\n\t\t} );\n\n\t\tif ( libraryFontSelected.fontFace ) {\n\t\t\tlibraryFontSelected.fontFace.forEach( ( face ) => {\n\t\t\t\tif ( isSelectAllChecked ) {\n\t\t\t\t\tunloadFontFaceInBrowser( face, 'all' );\n\t\t\t\t} else {\n\t\t\t\t\tconst displaySrc = getDisplaySrcFromFontFace(\n\t\t\t\t\t\tface?.src ?? ''\n\t\t\t\t\t);\n\t\t\t\t\tif ( displaySrc ) {\n\t\t\t\t\t\tloadFontFaceInBrowser( face, displaySrc, 'all' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst hasFonts = baseThemeFonts.length > 0 || baseCustomFonts.length > 0;\n\treturn (\n\t\t<div className=\"font-library-modal__tabpanel-layout\">\n\t\t\t{ isResolvingLibrary && (\n\t\t\t\t<div className=\"font-library-modal__loading\">\n\t\t\t\t\t<ProgressBar />\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ! isResolvingLibrary && (\n\t\t\t\t<>\n\t\t\t\t\t<Navigator\n\t\t\t\t\t\tinitialPath={\n\t\t\t\t\t\t\tlibraryFontSelected ? '/fontFamily' : '/'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Navigator.Screen path=\"/\">\n\t\t\t\t\t\t\t<VStack spacing=\"8\">\n\t\t\t\t\t\t\t\t{ notice && (\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ ! hasFonts && (\n\t\t\t\t\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t\t\t\t\t{ __( 'No fonts installed.' ) }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ baseThemeFonts.length > 0 && (\n\t\t\t\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-library-modal__fonts-title\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: Heading for a list of fonts provided by the theme. */\n\t\t\t\t\t\t\t\t\t\t\t\t_x( 'Theme', 'font source' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ baseThemeFonts.map( ( font ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ font.slug }\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontCard\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ font }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariantsText={ getFontCardVariantsText(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ baseCustomFonts.length > 0 && (\n\t\t\t\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-library-modal__fonts-title\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: Heading for a list of fonts installed by the user. */\n\t\t\t\t\t\t\t\t\t\t\t\t_x( 'Custom', 'font source' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ baseCustomFonts.map( ( font ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ font.slug }\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontCard\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ font }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariantsText={ getFontCardVariantsText(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t</Navigator.Screen>\n\n\t\t\t\t\t\t<Navigator.Screen path=\"/fontFamily\">\n\t\t\t\t\t\t\t{ libraryFontSelected && (\n\t\t\t\t\t\t\t\t<ConfirmDeleteDialog\n\t\t\t\t\t\t\t\t\tfont={ libraryFontSelected }\n\t\t\t\t\t\t\t\t\tisOpen={ isConfirmDeleteOpen }\n\t\t\t\t\t\t\t\t\tsetIsOpen={ setIsConfirmDeleteOpen }\n\t\t\t\t\t\t\t\t\tsetNotice={ setNotice }\n\t\t\t\t\t\t\t\t\tuninstallFontFamily={ uninstallFontFamily }\n\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected={\n\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t<Flex justify=\"flex-start\">\n\t\t\t\t\t\t\t\t<Navigator.BackButton\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronRight : chevronLeft\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\n\t\t\t\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t\t\t\t\tsize={ 13 }\n\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-header\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ libraryFontSelected?.name }\n\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t{ notice && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Choose font variants. Keep in mind that too many variants could make your site slower.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<VStack spacing={ 0 }>\n\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__select-all\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Select all' ) }\n\t\t\t\t\t\t\t\t\tchecked={ isSelectAllChecked }\n\t\t\t\t\t\t\t\t\tonChange={ toggleSelectAll }\n\t\t\t\t\t\t\t\t\tindeterminate={ isIndeterminate }\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Spacer margin={ 8 } />\n\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ libraryFontSelected &&\n\t\t\t\t\t\t\t\t\t\tgetFontFacesToDisplay(\n\t\t\t\t\t\t\t\t\t\t\tlibraryFontSelected\n\t\t\t\t\t\t\t\t\t\t).map( ( face, i ) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<LibraryFontVariant\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ libraryFontSelected }\n\t\t\t\t\t\t\t\t\t\t\t\t\tface={ face }\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t</Navigator.Screen>\n\t\t\t\t\t</Navigator>\n\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\tclassName=\"font-library-modal__footer\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isInstalling && <ProgressBar /> }\n\t\t\t\t\t\t{ shouldDisplayDeleteButton && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\tonClick={ handleUninstallClick }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tonClick={ handleUpdate }\n\t\t\t\t\t\t\tdisabled={ ! fontFamiliesHasChanges }\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Update' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction ConfirmDeleteDialog( {\n\tfont,\n\tisOpen,\n\tsetIsOpen,\n\tsetNotice,\n\tuninstallFontFamily,\n\thandleSetLibraryFontSelected,\n}: {\n\tfont: FontFamily;\n\tisOpen: boolean;\n\tsetIsOpen: ( isOpen: boolean ) => void;\n\tsetNotice: (\n\t\tnotice: {\n\t\t\ttype: 'success' | 'error' | 'info';\n\t\t\tmessage: string;\n\t\t} | null\n\t) => void;\n\tuninstallFontFamily: (\n\t\tfontFamily: FontFamily\n\t) => Promise< { deleted: boolean } >;\n\thandleSetLibraryFontSelected: ( font?: FontFamily ) => void;\n} ) {\n\tconst navigator = useNavigator();\n\n\tconst handleConfirmUninstall = async () => {\n\t\tsetNotice( null );\n\t\tsetIsOpen( false );\n\t\ttry {\n\t\t\tawait uninstallFontFamily( font );\n\t\t\tnavigator.goBack();\n\t\t\thandleSetLibraryFontSelected( undefined );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Font family uninstalled successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage:\n\t\t\t\t\t__( 'There was an error uninstalling the font family.' ) +\n\t\t\t\t\t( error as Error ).message,\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst handleCancelUninstall = () => {\n\t\tsetIsOpen( false );\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\tonCancel={ handleCancelUninstall }\n\t\t\tonConfirm={ handleConfirmUninstall }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ font &&\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: Name of the font. */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Are you sure you want to delete \"%s\" font and all its variants and assets?'\n\t\t\t\t\t),\n\t\t\t\t\tfont.name\n\t\t\t\t) }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default InstalledFonts;\n", "/**\n * WordPress dependencies\n */\nimport { _n, sprintf, isRTL } from '@wordpress/i18n';\nimport {\n\tuseNavigator,\n\t__experimentalText as Text,\n\tButton,\n\tFlex,\n\tFlexItem,\n} from '@wordpress/components';\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport FontDemo from './font-demo';\nimport type { FontFamily } from './types';\n\nfunction FontCard( {\n\tfont,\n\tonClick,\n\tvariantsText,\n\tnavigatorPath,\n}: {\n\tfont: FontFamily;\n\tonClick: () => void;\n\tvariantsText?: string;\n\tnavigatorPath?: string;\n} ) {\n\tconst variantsCount = font.fontFace?.length || 1;\n\n\tconst style = {\n\t\tcursor: !! onClick ? 'pointer' : 'default',\n\t};\n\n\tconst navigator = useNavigator();\n\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\tonClick={ () => {\n\t\t\t\tonClick();\n\t\t\t\tif ( navigatorPath ) {\n\t\t\t\t\tnavigator.goTo( navigatorPath );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tstyle={ style }\n\t\t\tclassName=\"font-library-modal__font-card\"\n\t\t>\n\t\t\t<Flex justify=\"space-between\" wrap={ false }>\n\t\t\t\t<FontDemo font={ font } />\n\t\t\t\t<Flex justify=\"flex-end\">\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Text className=\"font-library-modal__font-card__count\">\n\t\t\t\t\t\t\t{ variantsText ||\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %d: Number of font variants. */\n\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t'%d variant',\n\t\t\t\t\t\t\t\t\t\t'%d variants',\n\t\t\t\t\t\t\t\t\t\tvariantsCount\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvariantsCount\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</Flex>\n\t\t</Button>\n\t);\n}\n\nexport default FontCard;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { useContext, useEffect, useState, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './context';\nimport {\n\tgetFacePreviewStyle,\n\tgetFamilyPreviewStyle,\n} from './utils/preview-styles';\nimport type { FontFamily, FontFace, FontDemoProps } from './types';\n\nfunction getPreviewUrl( fontFace: FontFace ): string | undefined {\n\tif ( fontFace.preview ) {\n\t\treturn fontFace.preview;\n\t}\n\tif ( fontFace.src ) {\n\t\treturn Array.isArray( fontFace.src ) ? fontFace.src[ 0 ] : fontFace.src;\n\t}\n\treturn undefined;\n}\n\nfunction getDisplayFontFace( font: FontFamily | FontFace ): FontFace {\n\t// if this IS a font face return it\n\tif (\n\t\t( 'fontStyle' in font && font.fontStyle ) ||\n\t\t( 'fontWeight' in font && font.fontWeight )\n\t) {\n\t\treturn font;\n\t}\n\t// if this is a font family with a collection of font faces\n\t// return the first one that is normal and 400 OR just the first one\n\tif ( 'fontFace' in font && font.fontFace && font.fontFace.length ) {\n\t\treturn (\n\t\t\tfont.fontFace.find(\n\t\t\t\t( face ) =>\n\t\t\t\t\tface.fontStyle === 'normal' && face.fontWeight === '400'\n\t\t\t) || font.fontFace[ 0 ]\n\t\t);\n\t}\n\t// This must be a font family with no font faces\n\t// return a fake font face\n\treturn {\n\t\tfontStyle: 'normal',\n\t\tfontWeight: '400',\n\t\tfontFamily: font.fontFamily,\n\t\tfake: true,\n\t};\n}\n\nfunction FontDemo( { font, text }: FontDemoProps ) {\n\tconst ref = useRef< HTMLDivElement >( null );\n\n\tconst fontFace = getDisplayFontFace( font );\n\tconst style = getFamilyPreviewStyle( font );\n\ttext = text || ( 'name' in font ? font.name : '' );\n\tconst customPreviewUrl = font.preview;\n\n\tconst [ isIntersecting, setIsIntersecting ] = useState< boolean >( false );\n\tconst [ isAssetLoaded, setIsAssetLoaded ] = useState< boolean >( false );\n\tconst { loadFontFaceAsset } = useContext( FontLibraryContext );\n\n\tconst previewUrl = customPreviewUrl ?? getPreviewUrl( fontFace );\n\tconst isPreviewImage =\n\t\tpreviewUrl && previewUrl.match( /\\.(png|jpg|jpeg|gif|svg)$/i );\n\n\tconst faceStyles = getFacePreviewStyle( fontFace );\n\tconst textDemoStyle = {\n\t\tfontSize: '18px',\n\t\tlineHeight: 1,\n\t\topacity: isAssetLoaded ? '1' : '0',\n\t\t...style,\n\t\t...faceStyles,\n\t};\n\n\tuseEffect( () => {\n\t\tconst observer = new window.IntersectionObserver( ( [ entry ] ) => {\n\t\t\tsetIsIntersecting( entry.isIntersecting );\n\t\t}, {} );\n\t\tif ( ref.current ) {\n\t\t\tobserver.observe( ref.current );\n\t\t}\n\t\treturn () => observer.disconnect();\n\t}, [ ref ] );\n\n\tuseEffect( () => {\n\t\tconst loadAsset = async () => {\n\t\t\tif ( isIntersecting ) {\n\t\t\t\tif ( ! isPreviewImage && fontFace.src ) {\n\t\t\t\t\tawait loadFontFaceAsset( fontFace );\n\t\t\t\t}\n\t\t\t\tsetIsAssetLoaded( true );\n\t\t\t}\n\t\t};\n\t\tloadAsset();\n\t}, [ fontFace, isIntersecting, loadFontFaceAsset, isPreviewImage ] );\n\n\treturn (\n\t\t<div ref={ ref }>\n\t\t\t{ isPreviewImage ? (\n\t\t\t\t<img\n\t\t\t\t\tsrc={ previewUrl }\n\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\talt={ text }\n\t\t\t\t\tclassName=\"font-library-modal__font-variant_demo-image\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Text\n\t\t\t\t\tstyle={ textDemoStyle }\n\t\t\t\t\tclassName=\"font-library-modal__font-variant_demo-text\"\n\t\t\t\t>\n\t\t\t\t\t{ text }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default FontDemo;\n", "/**\n * WordPress dependencies\n */\nimport { useContext, useId } from '@wordpress/element';\nimport { CheckboxControl, Flex } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { getFontFaceVariantName } from './utils';\nimport { FontLibraryContext } from './context';\nimport FontDemo from './font-demo';\nimport type { FontFace, FontFamily } from './types';\n\nfunction LibraryFontVariant( {\n\tface,\n\tfont,\n}: {\n\tface: FontFace;\n\tfont: FontFamily;\n} ) {\n\tconst { isFontActivated, toggleActivateFont } =\n\t\tuseContext( FontLibraryContext );\n\n\tconst isInstalled =\n\t\t( font?.fontFace?.length ?? 0 ) > 0\n\t\t\t? isFontActivated(\n\t\t\t\t\tfont.slug,\n\t\t\t\t\tface.fontStyle,\n\t\t\t\t\tface.fontWeight,\n\t\t\t\t\tfont.source\n\t\t\t  )\n\t\t\t: isFontActivated( font.slug, undefined, undefined, font.source );\n\n\tconst handleToggleActivation = () => {\n\t\tif ( ( font?.fontFace?.length ?? 0 ) > 0 ) {\n\t\t\ttoggleActivateFont( font, face );\n\t\t\treturn;\n\t\t}\n\t\ttoggleActivateFont( font );\n\t};\n\n\tconst displayName = font.name + ' ' + getFontFaceVariantName( face );\n\tconst checkboxId = useId();\n\n\treturn (\n\t\t<div className=\"font-library-modal__font-card\">\n\t\t\t<Flex justify=\"flex-start\" align=\"center\" gap=\"1rem\">\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tchecked={ isInstalled }\n\t\t\t\t\tonChange={ handleToggleActivation }\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tid={ checkboxId }\n\t\t\t\t/>\n\t\t\t\t<label htmlFor={ checkboxId }>\n\t\t\t\t\t<FontDemo\n\t\t\t\t\t\tfont={ face }\n\t\t\t\t\t\ttext={ displayName }\n\t\t\t\t\t\tonClick={ handleToggleActivation }\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t</Flex>\n\t\t</div>\n\t);\n}\n\nexport default LibraryFontVariant;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tuseContext,\n\tuseEffect,\n\tuseState,\n\tuseMemo,\n\tcreateInterpolateElement,\n} from '@wordpress/element';\nimport {\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tNavigator,\n\t__experimentalHeading as Heading,\n\tNotice,\n\tSelectControl,\n\tFlex,\n\tButton,\n\tDropdownMenu,\n\tSearchControl,\n\tProgressBar,\n\tCheckboxControl,\n} from '@wordpress/components';\nimport { debounce } from '@wordpress/compose';\nimport { sprintf, __, _x, isRTL } from '@wordpress/i18n';\nimport {\n\tmoreVertical,\n\tnext,\n\tprevious,\n\tchevronLeft,\n\tchevronRight,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './context';\nimport FontCard from './font-card';\nimport filterFonts from './utils/filter-fonts';\nimport { toggleFont } from './utils/toggleFont';\nimport {\n\tgetFontsOutline,\n\tisFontFontFaceInOutline,\n} from './utils/fonts-outline';\nimport GoogleFontsConfirmDialog from './google-fonts-confirm-dialog';\nimport { downloadFontFaceAssets } from './utils';\nimport { sortFontFaces } from './utils/sort-font-faces';\nimport CollectionFontVariant from './collection-font-variant';\nimport type { FontFace, FontFamily } from './types';\n\nconst DEFAULT_CATEGORY = {\n\tslug: 'all',\n\tname: _x( 'All', 'font categories' ),\n};\n\nconst LOCAL_STORAGE_ITEM = 'wp-font-library-google-fonts-permission';\nconst MIN_WINDOW_HEIGHT = 500;\n\nfunction FontCollection( { slug }: { slug: string } ) {\n\tconst requiresPermission = slug === 'google-fonts';\n\n\tconst getGoogleFontsPermissionFromStorage = () => {\n\t\treturn window.localStorage.getItem( LOCAL_STORAGE_ITEM ) === 'true';\n\t};\n\n\tconst [ selectedFont, setSelectedFont ] = useState< FontFamily | null >(\n\t\tnull\n\t);\n\tconst [ notice, setNotice ] = useState< {\n\t\ttype: 'success' | 'error' | 'info';\n\t\tmessage: string;\n\t} | null >( null );\n\tconst [ fontsToInstall, setFontsToInstall ] = useState< FontFamily[] >(\n\t\t[]\n\t);\n\tconst [ page, setPage ] = useState( 1 );\n\tconst [ filters, setFilters ] = useState< {\n\t\tcategory?: string;\n\t\tsearch?: string;\n\t} >( {} );\n\tconst [ renderConfirmDialog, setRenderConfirmDialog ] = useState(\n\t\trequiresPermission && ! getGoogleFontsPermissionFromStorage()\n\t);\n\tconst { collections, getFontCollection, installFonts, isInstalling } =\n\t\tuseContext( FontLibraryContext );\n\tconst selectedCollection = collections.find(\n\t\t( collection ) => collection.slug === slug\n\t);\n\n\tuseEffect( () => {\n\t\tconst handleStorage = () => {\n\t\t\tsetRenderConfirmDialog(\n\t\t\t\trequiresPermission && ! getGoogleFontsPermissionFromStorage()\n\t\t\t);\n\t\t};\n\t\thandleStorage();\n\t\twindow.addEventListener( 'storage', handleStorage );\n\t\treturn () => window.removeEventListener( 'storage', handleStorage );\n\t}, [ slug, requiresPermission ] );\n\n\tconst revokeAccess = () => {\n\t\twindow.localStorage.setItem( LOCAL_STORAGE_ITEM, 'false' );\n\t\twindow.dispatchEvent( new Event( 'storage' ) );\n\t};\n\n\tuseEffect( () => {\n\t\tconst fetchFontCollection = async () => {\n\t\t\ttry {\n\t\t\t\tawait getFontCollection( slug );\n\t\t\t\tresetFilters();\n\t\t\t} catch ( e ) {\n\t\t\t\tif ( ! notice ) {\n\t\t\t\t\tsetNotice( {\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tmessage: ( e as Error )?.message,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tfetchFontCollection();\n\t}, [ slug, getFontCollection, setNotice, notice ] );\n\n\tuseEffect( () => {\n\t\tsetSelectedFont( null );\n\t}, [ slug ] );\n\n\tuseEffect( () => {\n\t\t// If the selected fonts change, reset the selected fonts to install\n\t\tsetFontsToInstall( [] );\n\t}, [ selectedFont ] );\n\n\tconst collectionFonts = useMemo(\n\t\t() => selectedCollection?.font_families ?? [],\n\t\t[ selectedCollection ]\n\t);\n\tconst collectionCategories = selectedCollection?.categories ?? [];\n\n\tconst categories = [ DEFAULT_CATEGORY, ...collectionCategories ];\n\n\tconst fonts = useMemo(\n\t\t() => filterFonts( collectionFonts, filters ),\n\t\t[ collectionFonts, filters ]\n\t);\n\n\tconst isLoading = ! selectedCollection?.font_families && ! notice;\n\n\t// NOTE: The height of the font library modal unavailable to use for rendering font family items is roughly 417px\n\t// The height of each font family item is 61px.\n\tconst windowHeight = Math.max( window.innerHeight, MIN_WINDOW_HEIGHT );\n\tconst pageSize = Math.floor( ( windowHeight - 417 ) / 61 );\n\tconst totalPages = Math.ceil( fonts.length / pageSize );\n\tconst itemsStart = ( page - 1 ) * pageSize;\n\tconst itemsLimit = page * pageSize;\n\tconst items = fonts.slice( itemsStart, itemsLimit );\n\n\tconst handleCategoryFilter = ( category: string ) => {\n\t\tsetFilters( { ...filters, category } );\n\t\tsetPage( 1 );\n\t};\n\n\tconst handleUpdateSearchInput = ( value: string ) => {\n\t\tsetFilters( { ...filters, search: value } );\n\t\tsetPage( 1 );\n\t};\n\n\t// @ts-expect-error\n\tconst debouncedUpdateSearchInput = debounce( handleUpdateSearchInput, 300 );\n\n\tconst resetFilters = () => {\n\t\tsetFilters( {} );\n\t\tsetPage( 1 );\n\t};\n\n\tconst handleToggleVariant = ( font: FontFamily, face?: FontFace ) => {\n\t\tconst newFontsToInstall = toggleFont( font, face, fontsToInstall );\n\t\tsetFontsToInstall( newFontsToInstall );\n\t};\n\n\tconst fontToInstallOutline = getFontsOutline( fontsToInstall );\n\n\tconst resetFontsToInstall = () => {\n\t\tsetFontsToInstall( [] );\n\t};\n\n\tconst selectFontCount =\n\t\tfontsToInstall.length > 0\n\t\t\t? fontsToInstall[ 0 ]?.fontFace?.length ?? 0\n\t\t\t: 0;\n\n\t// Check if any fonts are selected.\n\tconst isIndeterminate =\n\t\tselectFontCount > 0 &&\n\t\tselectFontCount !== selectedFont?.fontFace?.length;\n\n\t// Check if all fonts are selected.\n\tconst isSelectAllChecked =\n\t\tselectFontCount === selectedFont?.fontFace?.length;\n\n\t// Toggle select all fonts.\n\tconst toggleSelectAll = () => {\n\t\tconst newFonts: FontFamily[] = [];\n\t\tif ( ! isSelectAllChecked && selectedFont ) {\n\t\t\tnewFonts.push( selectedFont );\n\t\t}\n\n\t\tsetFontsToInstall( newFonts );\n\t};\n\n\tconst handleInstall = async () => {\n\t\tsetNotice( null );\n\n\t\tconst fontFamily = fontsToInstall[ 0 ];\n\n\t\ttry {\n\t\t\tif ( fontFamily?.fontFace ) {\n\t\t\t\tawait Promise.all(\n\t\t\t\t\tfontFamily.fontFace.map( async ( fontFace ) => {\n\t\t\t\t\t\tif ( fontFace.src ) {\n\t\t\t\t\t\t\tfontFace.file = await downloadFontFaceAssets(\n\t\t\t\t\t\t\t\tfontFace.src\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\t// If any of the fonts fail to download,\n\t\t\t// show an error notice and stop the request from being sent.\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: __(\n\t\t\t\t\t'Error installing the fonts, could not be downloaded.'\n\t\t\t\t),\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait installFonts( [ fontFamily ] );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Fonts were installed successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: ( error as Error ).message,\n\t\t\t} );\n\t\t}\n\t\tresetFontsToInstall();\n\t};\n\n\tconst getSortedFontFaces = ( fontFamily: FontFamily ) => {\n\t\tif ( ! fontFamily ) {\n\t\t\treturn [];\n\t\t}\n\t\tif ( ! fontFamily.fontFace || ! fontFamily.fontFace.length ) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tfontFamily: fontFamily.fontFamily,\n\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\tfontWeight: '400',\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn sortFontFaces( fontFamily.fontFace );\n\t};\n\n\tif ( renderConfirmDialog ) {\n\t\treturn <GoogleFontsConfirmDialog />;\n\t}\n\n\tconst ActionsComponent = () => {\n\t\tif ( slug !== 'google-fonts' || renderConfirmDialog || selectedFont ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tposition: 'bottom left',\n\t\t\t\t} }\n\t\t\t\tcontrols={ [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: __( 'Revoke access to Google Fonts' ),\n\t\t\t\t\t\tonClick: revokeAccess,\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"font-library-modal__tabpanel-layout\">\n\t\t\t{ isLoading && (\n\t\t\t\t<div className=\"font-library-modal__loading\">\n\t\t\t\t\t<ProgressBar />\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ! isLoading && selectedCollection && (\n\t\t\t\t<>\n\t\t\t\t\t<Navigator\n\t\t\t\t\t\tinitialPath=\"/\"\n\t\t\t\t\t\tclassName=\"font-library-modal__tabpanel-layout\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Navigator.Screen path=\"/\">\n\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t\t\t\t\t\t{ selectedCollection.name }\n\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t\t\t{ selectedCollection.description }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t<ActionsComponent />\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<HStack spacing={ 4 } justify=\"space-between\">\n\t\t\t\t\t\t\t\t<SearchControl\n\t\t\t\t\t\t\t\t\tvalue={ filters.search }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Font name\u2026' ) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Search' ) }\n\t\t\t\t\t\t\t\t\tonChange={ debouncedUpdateSearchInput }\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\thideLabelFromVision={ false }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Category' ) }\n\t\t\t\t\t\t\t\t\tvalue={ filters.category }\n\t\t\t\t\t\t\t\t\tonChange={ handleCategoryFilter }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ categories &&\n\t\t\t\t\t\t\t\t\t\tcategories.map( ( category ) => (\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ category.slug }\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ category.slug }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ category.name }\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</SelectControl>\n\t\t\t\t\t\t\t</HStack>\n\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\n\t\t\t\t\t\t\t{ !! selectedCollection?.font_families?.length &&\n\t\t\t\t\t\t\t\t! fonts.length && (\n\t\t\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'No fonts found. Try with a different search term.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t<div className=\"font-library-modal__fonts-grid__main\">\n\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ items.map( ( font ) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings.slug\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FontCard\n\t\t\t\t\t\t\t\t\t\t\t\tfont={\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedFont(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Navigator.Screen>\n\n\t\t\t\t\t\t<Navigator.Screen path=\"/fontFamily\">\n\t\t\t\t\t\t\t<Flex justify=\"flex-start\">\n\t\t\t\t\t\t\t\t<Navigator.BackButton\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronRight : chevronLeft\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetSelectedFont( null );\n\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t\t\t\t\tsize={ 13 }\n\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-header\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ selectedFont?.name }\n\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t{ notice && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t{ __( 'Select font variants to install.' ) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\tclassName=\"font-library-modal__select-all\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select all' ) }\n\t\t\t\t\t\t\t\tchecked={ isSelectAllChecked }\n\t\t\t\t\t\t\t\tonChange={ toggleSelectAll }\n\t\t\t\t\t\t\t\tindeterminate={ isIndeterminate }\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<VStack spacing={ 0 }>\n\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ selectedFont &&\n\t\t\t\t\t\t\t\t\t\tgetSortedFontFaces( selectedFont ).map(\n\t\t\t\t\t\t\t\t\t\t\t( face, i ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library-modal__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CollectionFontVariant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ selectedFont }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tface={ face }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleToggleVariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleToggleVariant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={ isFontFontFaceInOutline(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFont.slug,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFont.fontFace\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? face\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null, // If the font has no fontFace, we want to check if the font is in the outline\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontToInstallOutline\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t<Spacer margin={ 16 } />\n\t\t\t\t\t\t</Navigator.Screen>\n\t\t\t\t\t</Navigator>\n\n\t\t\t\t\t{ selectedFont && (\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\tclassName=\"font-library-modal__footer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tonClick={ handleInstall }\n\t\t\t\t\t\t\t\tisBusy={ isInstalling }\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tfontsToInstall.length === 0 || isInstalling\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Install' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! selectedFont && (\n\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t\tclassName=\"font-library-modal__footer\"\n\t\t\t\t\t\t\tjustify=\"end\"\n\t\t\t\t\t\t\tspacing={ 6 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t\t\t\tclassName=\"font-library-modal__page-selection\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t\t// translators: 1: Current page number, 2: Total number of pages.\n\t\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t\t'<div>Page</div>%1$s<div>of %2$d</div>',\n\t\t\t\t\t\t\t\t\t\t\t'paging'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t'<CurrentPage />',\n\t\t\t\t\t\t\t\t\t\ttotalPages\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdiv: <div aria-hidden />,\n\t\t\t\t\t\t\t\t\t\tCurrentPage: (\n\t\t\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Current page'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ page.toString() }\n\t\t\t\t\t\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t\t\t\t\t\t...Array( totalPages ),\n\t\t\t\t\t\t\t\t\t\t\t\t].map( ( e, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti + 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti + 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( newPage ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetPage(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt( newPage )\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"minimal\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={ () => setPage( page - 1 ) }\n\t\t\t\t\t\t\t\t\tdisabled={ page === 1 }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Previous page' ) }\n\t\t\t\t\t\t\t\t\ticon={ isRTL() ? next : previous }\n\t\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={ () => setPage( page + 1 ) }\n\t\t\t\t\t\t\t\t\tdisabled={ page === totalPages }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Next page' ) }\n\t\t\t\t\t\t\t\t\ticon={ isRTL() ? previous : next }\n\t\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default FontCollection;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tCard,\n\tCardBody,\n\t__experimentalHeading as Heading,\n\t__experimentalText as Text,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\n\nfunction GoogleFontsConfirmDialog(): JSX.Element {\n\tconst handleConfirm = (): void => {\n\t\twindow.localStorage.setItem(\n\t\t\t'wp-font-library-google-fonts-permission',\n\t\t\t'true'\n\t\t);\n\t\twindow.dispatchEvent( new Event( 'storage' ) );\n\t};\n\n\treturn (\n\t\t<div className=\"font-library__google-fonts-confirm\">\n\t\t\t<Card>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<Heading level={ 2 }>\n\t\t\t\t\t\t{ __( 'Connect to Google Fonts' ) }\n\t\t\t\t\t</Heading>\n\t\t\t\t\t<Spacer margin={ 6 } />\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'To install fonts from Google you must give permission to connect directly to Google servers. The fonts you install will be downloaded from Google and stored on your site. Your site will then use these locally-hosted fonts.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Spacer margin={ 3 } />\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'You can alternatively upload files directly on the Upload tab.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Spacer margin={ 6 } />\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ handleConfirm }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Allow access to Google Fonts' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}\n\nexport default GoogleFontsConfirmDialog;\n", "/**\n * WordPress dependencies\n */\nimport { useId } from '@wordpress/element';\nimport { CheckboxControl, Flex } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { getFontFaceVariantName } from './utils';\nimport FontDemo from './font-demo';\nimport type { CollectionFontVariantProps } from './types';\n\nfunction CollectionFontVariant( {\n\tface,\n\tfont,\n\thandleToggleVariant,\n\tselected,\n}: CollectionFontVariantProps ) {\n\tconst handleToggleActivation = () => {\n\t\tif ( font?.fontFace ) {\n\t\t\thandleToggleVariant( font, face );\n\t\t\treturn;\n\t\t}\n\t\thandleToggleVariant( font );\n\t};\n\n\tconst displayName = font.name + ' ' + getFontFaceVariantName( face );\n\tconst checkboxId = useId();\n\n\treturn (\n\t\t<div className=\"font-library-modal__font-card\">\n\t\t\t<Flex justify=\"flex-start\" align=\"center\" gap=\"1rem\">\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tchecked={ selected }\n\t\t\t\t\tonChange={ handleToggleActivation }\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tid={ checkboxId }\n\t\t\t\t/>\n\t\t\t\t<label htmlFor={ checkboxId }>\n\t\t\t\t\t<FontDemo\n\t\t\t\t\t\tfont={ face }\n\t\t\t\t\t\ttext={ displayName }\n\t\t\t\t\t\tonClick={ handleToggleActivation }\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t</Flex>\n\t\t</div>\n\t);\n}\n\nexport default CollectionFontVariant;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n\tButton,\n\tDropZone,\n\tNotice,\n\tFormFileUpload,\n\tFlexItem,\n\tProgressBar,\n} from '@wordpress/components';\nimport { useContext, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ALLOWED_FILE_EXTENSIONS } from './utils/constants';\nimport { FontLibraryContext } from './context';\nimport { Font } from './lib/lib-font.browser';\nimport makeFamiliesFromFaces from './utils/make-families-from-faces';\nimport { loadFontFaceInBrowser } from './utils';\nimport type { FontFace } from './types';\n\nfunction UploadFonts() {\n\tconst { installFonts } = useContext( FontLibraryContext );\n\tconst [ isUploading, setIsUploading ] = useState( false );\n\tconst [ notice, setNotice ] = useState< {\n\t\ttype: 'success' | 'error';\n\t\tmessage: string;\n\t\terrors?: string[];\n\t} | null >( null );\n\n\tconst handleDropZone = ( files: File[] ) => {\n\t\thandleFilesUpload( files );\n\t};\n\tconst onFilesUpload = ( event: React.ChangeEvent< HTMLInputElement > ) => {\n\t\thandleFilesUpload( event.target.files );\n\t};\n\n\t/**\n\t * Filters the selected files to only allow the ones with the allowed extensions\n\t *\n\t * @param {Array} files The files to be filtered\n\t * @return {void}\n\t */\n\tconst handleFilesUpload = async ( files: FileList | File[] | null ) => {\n\t\tif ( ! files ) {\n\t\t\treturn;\n\t\t}\n\t\tsetNotice( null );\n\t\tsetIsUploading( true );\n\t\tconst uniqueFilenames = new Set();\n\t\tconst selectedFiles = [ ...files ];\n\t\tlet hasInvalidFiles = false;\n\n\t\t// Use map to create a promise for each file check, then filter with Promise.all.\n\t\tconst checkFilesPromises = selectedFiles.map( async ( file ) => {\n\t\t\tconst isFont = await isFontFile( file );\n\t\t\tif ( ! isFont ) {\n\t\t\t\thasInvalidFiles = true;\n\t\t\t\treturn null; // Return null for invalid files.\n\t\t\t}\n\t\t\t// Check for duplicates\n\t\t\tif ( uniqueFilenames.has( file.name ) ) {\n\t\t\t\treturn null; // Return null for duplicates.\n\t\t\t}\n\t\t\t// Check if the file extension is allowed.\n\t\t\tconst fileExtension = (\n\t\t\t\t( ( file.name ?? '' ).split( '.' ) ?? [] ).pop() ?? ''\n\t\t\t).toLowerCase();\n\t\t\tif ( ALLOWED_FILE_EXTENSIONS.includes( fileExtension ) ) {\n\t\t\t\tuniqueFilenames.add( file.name );\n\t\t\t\treturn file; // Return the file if it passes all checks.\n\t\t\t}\n\t\t\treturn null; // Return null for disallowed file extensions.\n\t\t} );\n\n\t\t// Filter out the nulls after all promises have resolved.\n\t\tconst allowedFiles: File[] = (\n\t\t\tawait Promise.all( checkFilesPromises )\n\t\t).filter( ( file ) => null !== file );\n\n\t\tif ( allowedFiles.length > 0 ) {\n\t\t\tloadFiles( allowedFiles );\n\t\t} else {\n\t\t\tconst message = hasInvalidFiles\n\t\t\t\t? __( 'Sorry, you are not allowed to upload this file type.' )\n\t\t\t\t: __( 'No fonts found to install.' );\n\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage,\n\t\t\t} );\n\t\t\tsetIsUploading( false );\n\t\t}\n\t};\n\n\t/**\n\t * Loads the selected files and reads the font metadata\n\t *\n\t * @param {Array} files The files to be loaded\n\t * @return {void}\n\t */\n\tconst loadFiles = async ( files: File[] ) => {\n\t\tconst fontFacesLoaded = await Promise.all(\n\t\t\tfiles.map( async ( fontFile: File ) => {\n\t\t\t\tconst fontFaceData = await getFontFaceMetadata( fontFile );\n\t\t\t\tawait loadFontFaceInBrowser(\n\t\t\t\t\tfontFaceData,\n\t\t\t\t\tfontFaceData.file,\n\t\t\t\t\t'all'\n\t\t\t\t);\n\t\t\t\treturn fontFaceData;\n\t\t\t} )\n\t\t);\n\t\thandleInstall( fontFacesLoaded );\n\t};\n\n\t/**\n\t * Checks if a file is a valid Font file.\n\t *\n\t * @param {File} file The file to be checked.\n\t * @return {boolean} Whether the file is a valid font file.\n\t */\n\tasync function isFontFile( file: File ) {\n\t\tconst font = new Font( 'Uploaded Font' );\n\t\ttry {\n\t\t\tconst buffer = await readFileAsArrayBuffer( file );\n\t\t\tawait font.fromDataBuffer( buffer, 'font' );\n\t\t\treturn true;\n\t\t} catch ( error ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Create a function to read the file as array buffer\n\tasync function readFileAsArrayBuffer( file: File ) {\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tconst reader = new window.FileReader();\n\t\t\treader.readAsArrayBuffer( file );\n\t\t\treader.onload = () => resolve( reader.result );\n\t\t\treader.onerror = reject;\n\t\t} );\n\t}\n\n\tconst getFontFaceMetadata = async ( fontFile: File ) => {\n\t\tconst buffer = await readFileAsArrayBuffer( fontFile );\n\t\tconst fontObj: Font & {\n\t\t\tonload?: ( val: { detail: { font: any } } ) => void;\n\t\t} = new Font( 'Uploaded Font' );\n\t\tfontObj.fromDataBuffer( buffer, fontFile.name );\n\t\t// Assuming that fromDataBuffer triggers onload event and returning a Promise\n\t\tconst onloadEvent: { detail: { font: any } } = await new Promise(\n\t\t\t( resolve ) => ( fontObj.onload = resolve )\n\t\t);\n\t\tconst font = onloadEvent.detail.font;\n\t\tconst { name } = font.opentype.tables;\n\t\tconst fontName = name.get( 16 ) || name.get( 1 );\n\t\tconst isItalic = name.get( 2 ).toLowerCase().includes( 'italic' );\n\t\tconst fontWeight =\n\t\t\tfont.opentype.tables[ 'OS/2' ].usWeightClass || 'normal';\n\t\tconst isVariable = !! font.opentype.tables.fvar;\n\t\tconst weightAxis =\n\t\t\tisVariable &&\n\t\t\tfont.opentype.tables.fvar.axes.find(\n\t\t\t\t( { tag }: { tag: string } ) => tag === 'wght'\n\t\t\t);\n\t\tconst weightRange = weightAxis\n\t\t\t? `${ weightAxis.minValue } ${ weightAxis.maxValue }`\n\t\t\t: null;\n\t\treturn {\n\t\t\tfile: fontFile,\n\t\t\tfontFamily: fontName,\n\t\t\tfontStyle: isItalic ? 'italic' : 'normal',\n\t\t\tfontWeight: weightRange || fontWeight,\n\t\t};\n\t};\n\n\t/**\n\t * Creates the font family definition and sends it to the server\n\t *\n\t * @param {Array} fontFaces The font faces to be installed\n\t * @return {void}\n\t */\n\tconst handleInstall = async ( fontFaces: FontFace[] ) => {\n\t\tconst fontFamilies = makeFamiliesFromFaces( fontFaces );\n\n\t\ttry {\n\t\t\tawait installFonts( fontFamilies );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Fonts were installed successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst typedError = error as Error & {\n\t\t\t\tinstallationErrors?: string[];\n\t\t\t};\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: typedError.message,\n\t\t\t\terrors: typedError?.installationErrors,\n\t\t\t} );\n\t\t}\n\n\t\tsetIsUploading( false );\n\t};\n\n\treturn (\n\t\t<div className=\"font-library-modal__tabpanel-layout\">\n\t\t\t<DropZone onFilesDrop={ handleDropZone } />\n\t\t\t<VStack className=\"font-library-modal__local-fonts\">\n\t\t\t\t{ notice && (\n\t\t\t\t\t<Notice\n\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t__unstableHTML\n\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t{ notice.errors && (\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{ notice.errors.map( ( error, index ) => (\n\t\t\t\t\t\t\t\t\t<li key={ index }>{ error }</li>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Notice>\n\t\t\t\t) }\n\t\t\t\t{ isUploading && (\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<div className=\"font-library-modal__upload-area\">\n\t\t\t\t\t\t\t<ProgressBar />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t) }\n\t\t\t\t{ ! isUploading && (\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\taccept={ ALLOWED_FILE_EXTENSIONS.map(\n\t\t\t\t\t\t\t( ext ) => `.${ ext }`\n\t\t\t\t\t\t).join( ',' ) }\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tonChange={ onFilesUpload }\n\t\t\t\t\t\trender={ ( { openFileDialog } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tclassName=\"font-library-modal__upload-area\"\n\t\t\t\t\t\t\t\tonClick={ openFileDialog }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Upload font' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<Spacer margin={ 2 } />\n\t\t\t\t<Text className=\"font-library-modal__upload-area__text\">\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Uploaded fonts appear in your library and can be used in your theme. Supported formats: .ttf, .otf, .woff, and .woff2.'\n\t\t\t\t\t) }\n\t\t\t\t</Text>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n\nexport default UploadFonts;\n", "/**\n * Credits:\n *\n * lib-font\n * https://github.com/Pomax/lib-font\n * https://github.com/Pomax/lib-font/blob/master/lib/unbrotli.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 pomax@nihongoresources.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint eslint-comments/no-unlimited-disable: 0 */\n/* eslint-disable */\n( function ( f ) {\n\tif ( typeof exports === 'object' && typeof module !== 'undefined' ) {\n\t\tmodule.exports = f();\n\t} else if ( typeof define === 'function' && define.amd ) {\n\t\tdefine( [], f );\n\t} else {\n\t\tvar g;\n\t\tif ( typeof window !== 'undefined' ) {\n\t\t\tg = window;\n\t\t} else if ( typeof global !== 'undefined' ) {\n\t\t\tg = global;\n\t\t} else if ( typeof self !== 'undefined' ) {\n\t\t\tg = self;\n\t\t} else {\n\t\t\tg = this;\n\t\t}\n\t\tg.unbrotli = f();\n\t}\n} )( function () {\n\tvar define, module, exports;\n\treturn ( function () {\n\t\tfunction r( e, n, t ) {\n\t\t\tfunction o( i, f ) {\n\t\t\t\tif ( ! n[ i ] ) {\n\t\t\t\t\tif ( ! e[ i ] ) {\n\t\t\t\t\t\tvar c = 'function' == typeof require && require;\n\t\t\t\t\t\tif ( ! f && c ) return c( i, ! 0 );\n\t\t\t\t\t\tif ( u ) return u( i, ! 0 );\n\t\t\t\t\t\tvar a = new Error( \"Cannot find module '\" + i + \"'\" );\n\t\t\t\t\t\tthrow ( ( a.code = 'MODULE_NOT_FOUND' ), a );\n\t\t\t\t\t}\n\t\t\t\t\tvar p = ( n[ i ] = { exports: {} } );\n\t\t\t\t\te[ i ][ 0 ].call(\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tfunction ( r ) {\n\t\t\t\t\t\t\tvar n = e[ i ][ 1 ][ r ];\n\t\t\t\t\t\t\treturn o( n || r );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tp,\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tr,\n\t\t\t\t\t\te,\n\t\t\t\t\t\tn,\n\t\t\t\t\t\tt\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn n[ i ].exports;\n\t\t\t}\n\t\t\tfor (\n\t\t\t\tvar u = 'function' == typeof require && require, i = 0;\n\t\t\t\ti < t.length;\n\t\t\t\ti++\n\t\t\t)\n\t\t\t\to( t[ i ] );\n\t\t\treturn o;\n\t\t}\n\t\treturn r;\n\t} )()(\n\t\t{\n\t\t\t1: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Bit reading helpers\n*/\n\n\t\t\t\t\tvar BROTLI_READ_SIZE = 4096;\n\t\t\t\t\tvar BROTLI_IBUF_SIZE = 2 * BROTLI_READ_SIZE + 32;\n\t\t\t\t\tvar BROTLI_IBUF_MASK = 2 * BROTLI_READ_SIZE - 1;\n\n\t\t\t\t\tvar kBitMask = new Uint32Array( [\n\t\t\t\t\t\t0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095,\n\t\t\t\t\t\t8191, 16383, 32767, 65535, 131071, 262143, 524287,\n\t\t\t\t\t\t1048575, 2097151, 4194303, 8388607, 16777215,\n\t\t\t\t\t] );\n\n\t\t\t\t\t/* Input byte buffer, consist of a ringbuffer and a \"slack\" region where */\n\t\t\t\t\t/* bytes from the start of the ringbuffer are copied. */\n\t\t\t\t\tfunction BrotliBitReader( input ) {\n\t\t\t\t\t\tthis.buf_ = new Uint8Array( BROTLI_IBUF_SIZE );\n\t\t\t\t\t\tthis.input_ = input; /* input callback */\n\n\t\t\t\t\t\tthis.reset();\n\t\t\t\t\t}\n\n\t\t\t\t\tBrotliBitReader.READ_SIZE = BROTLI_READ_SIZE;\n\t\t\t\t\tBrotliBitReader.IBUF_MASK = BROTLI_IBUF_MASK;\n\n\t\t\t\t\tBrotliBitReader.prototype.reset = function () {\n\t\t\t\t\t\tthis.buf_ptr_ = 0; /* next input will write here */\n\t\t\t\t\t\tthis.val_ = 0; /* pre-fetched bits */\n\t\t\t\t\t\tthis.pos_ = 0; /* byte position in stream */\n\t\t\t\t\t\tthis.bit_pos_ = 0; /* current bit-reading position in val_ */\n\t\t\t\t\t\tthis.bit_end_pos_ = 0; /* bit-reading end position from LSB of val_ */\n\t\t\t\t\t\tthis.eos_ = 0; /* input stream is finished */\n\n\t\t\t\t\t\tthis.readMoreInput();\n\t\t\t\t\t\tfor ( var i = 0; i < 4; i++ ) {\n\t\t\t\t\t\t\tthis.val_ |= this.buf_[ this.pos_ ] << ( 8 * i );\n\t\t\t\t\t\t\t++this.pos_;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.bit_end_pos_ > 0;\n\t\t\t\t\t};\n\n\t\t\t\t\t/* Fills up the input ringbuffer by calling the input callback.\n\n   Does nothing if there are at least 32 bytes present after current position.\n\n   Returns 0 if either:\n    - the input callback returned an error, or\n    - there is no more input and the position is past the end of the stream.\n\n   After encountering the end of the input stream, 32 additional zero bytes are\n   copied to the ringbuffer, therefore it is safe to call this function after\n   every 32 bytes of input is read.\n*/\n\t\t\t\t\tBrotliBitReader.prototype.readMoreInput = function () {\n\t\t\t\t\t\tif ( this.bit_end_pos_ > 256 ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else if ( this.eos_ ) {\n\t\t\t\t\t\t\tif ( this.bit_pos_ > this.bit_end_pos_ )\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t'Unexpected end of input ' +\n\t\t\t\t\t\t\t\t\t\tthis.bit_pos_ +\n\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\tthis.bit_end_pos_\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar dst = this.buf_ptr_;\n\t\t\t\t\t\t\tvar bytes_read = this.input_.read(\n\t\t\t\t\t\t\t\tthis.buf_,\n\t\t\t\t\t\t\t\tdst,\n\t\t\t\t\t\t\t\tBROTLI_READ_SIZE\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( bytes_read < 0 ) {\n\t\t\t\t\t\t\t\tthrow new Error( 'Unexpected end of input' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( bytes_read < BROTLI_READ_SIZE ) {\n\t\t\t\t\t\t\t\tthis.eos_ = 1;\n\t\t\t\t\t\t\t\t/* Store 32 bytes of zero after the stream end. */\n\t\t\t\t\t\t\t\tfor ( var p = 0; p < 32; p++ )\n\t\t\t\t\t\t\t\t\tthis.buf_[ dst + bytes_read + p ] = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( dst === 0 ) {\n\t\t\t\t\t\t\t\t/* Copy the head of the ringbuffer to the slack region. */\n\t\t\t\t\t\t\t\tfor ( var p = 0; p < 32; p++ )\n\t\t\t\t\t\t\t\t\tthis.buf_[ ( BROTLI_READ_SIZE << 1 ) + p ] =\n\t\t\t\t\t\t\t\t\t\tthis.buf_[ p ];\n\n\t\t\t\t\t\t\t\tthis.buf_ptr_ = BROTLI_READ_SIZE;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.buf_ptr_ = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.bit_end_pos_ += bytes_read << 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/* Guarantees that there are at least 24 bits in the buffer. */\n\t\t\t\t\tBrotliBitReader.prototype.fillBitWindow = function () {\n\t\t\t\t\t\twhile ( this.bit_pos_ >= 8 ) {\n\t\t\t\t\t\t\tthis.val_ >>>= 8;\n\t\t\t\t\t\t\tthis.val_ |=\n\t\t\t\t\t\t\t\tthis.buf_[ this.pos_ & BROTLI_IBUF_MASK ] << 24;\n\t\t\t\t\t\t\t++this.pos_;\n\t\t\t\t\t\t\tthis.bit_pos_ = ( this.bit_pos_ - 8 ) >>> 0;\n\t\t\t\t\t\t\tthis.bit_end_pos_ = ( this.bit_end_pos_ - 8 ) >>> 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/* Reads the specified number of bits from Read Buffer. */\n\t\t\t\t\tBrotliBitReader.prototype.readBits = function ( n_bits ) {\n\t\t\t\t\t\tif ( 32 - this.bit_pos_ < n_bits ) {\n\t\t\t\t\t\t\tthis.fillBitWindow();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar val =\n\t\t\t\t\t\t\t( this.val_ >>> this.bit_pos_ ) &\n\t\t\t\t\t\t\tkBitMask[ n_bits ];\n\t\t\t\t\t\tthis.bit_pos_ += n_bits;\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t};\n\n\t\t\t\t\tmodule.exports = BrotliBitReader;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t2: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Lookup table to map the previous two bytes to a context id.\n\n   There are four different context modeling modes defined here:\n     CONTEXT_LSB6: context id is the least significant 6 bits of the last byte,\n     CONTEXT_MSB6: context id is the most significant 6 bits of the last byte,\n     CONTEXT_UTF8: second-order context model tuned for UTF8-encoded text,\n     CONTEXT_SIGNED: second-order context model tuned for signed integers.\n\n   The context id for the UTF8 context model is calculated as follows. If p1\n   and p2 are the previous two bytes, we calcualte the context as\n\n     context = kContextLookup[p1] | kContextLookup[p2 + 256].\n\n   If the previous two bytes are ASCII characters (i.e. < 128), this will be\n   equivalent to\n\n     context = 4 * context1(p1) + context2(p2),\n\n   where context1 is based on the previous byte in the following way:\n\n     0  : non-ASCII control\n     1  : \\t, \\n, \\r\n     2  : space\n     3  : other punctuation\n     4  : \" '\n     5  : %\n     6  : ( < [ {\n     7  : ) > ] }\n     8  : , ; :\n     9  : .\n     10 : =\n     11 : number\n     12 : upper-case vowel\n     13 : upper-case consonant\n     14 : lower-case vowel\n     15 : lower-case consonant\n\n   and context2 is based on the second last byte:\n\n     0 : control, space\n     1 : punctuation\n     2 : upper-case letter, number\n     3 : lower-case letter\n\n   If the last byte is ASCII, and the second last byte is not (in a valid UTF8\n   stream it will be a continuation byte, value between 128 and 191), the\n   context is the same as if the second last byte was an ASCII control or space.\n\n   If the last byte is a UTF8 lead byte (value >= 192), then the next byte will\n   be a continuation byte and the context id is 2 or 3 depending on the LSB of\n   the last byte and to a lesser extent on the second last byte if it is ASCII.\n\n   If the last byte is a UTF8 continuation byte, the second last byte can be:\n     - continuation byte: the next byte is probably ASCII or lead byte (assuming\n       4-byte UTF8 characters are rare) and the context id is 0 or 1.\n     - lead byte (192 - 207): next byte is ASCII or lead byte, context is 0 or 1\n     - lead byte (208 - 255): next byte is continuation byte, context is 2 or 3\n\n   The possible value combinations of the previous two bytes, the range of\n   context ids and the type of the next byte is summarized in the table below:\n\n   |--------\\-----------------------------------------------------------------|\n   |         \\                         Last byte                              |\n   | Second   \\---------------------------------------------------------------|\n   | last byte \\    ASCII            |   cont. byte        |   lead byte      |\n   |            \\   (0-127)          |   (128-191)         |   (192-)         |\n   |=============|===================|=====================|==================|\n   |  ASCII      | next: ASCII/lead  |  not valid          |  next: cont.     |\n   |  (0-127)    | context: 4 - 63   |                     |  context: 2 - 3  |\n   |-------------|-------------------|---------------------|------------------|\n   |  cont. byte | next: ASCII/lead  |  next: ASCII/lead   |  next: cont.     |\n   |  (128-191)  | context: 4 - 63   |  context: 0 - 1     |  context: 2 - 3  |\n   |-------------|-------------------|---------------------|------------------|\n   |  lead byte  | not valid         |  next: ASCII/lead   |  not valid       |\n   |  (192-207)  |                   |  context: 0 - 1     |                  |\n   |-------------|-------------------|---------------------|------------------|\n   |  lead byte  | not valid         |  next: cont.        |  not valid       |\n   |  (208-)     |                   |  context: 2 - 3     |                  |\n   |-------------|-------------------|---------------------|------------------|\n\n   The context id for the signed context mode is calculated as:\n\n     context = (kContextLookup[512 + p1] << 3) | kContextLookup[512 + p2].\n\n   For any context modeling modes, the context ids can be calculated by |-ing\n   together two lookups from one table using context model dependent offsets:\n\n     context = kContextLookup[offset1 + p1] | kContextLookup[offset2 + p2].\n\n   where offset1 and offset2 are dependent on the context mode.\n*/\n\n\t\t\t\t\tvar CONTEXT_LSB6 = 0;\n\t\t\t\t\tvar CONTEXT_MSB6 = 1;\n\t\t\t\t\tvar CONTEXT_UTF8 = 2;\n\t\t\t\t\tvar CONTEXT_SIGNED = 3;\n\n\t\t\t\t\t/* Common context lookup table for all context modes. */\n\t\t\t\t\texports.lookup = new Uint8Array( [\n\t\t\t\t\t\t/* CONTEXT_UTF8, last byte. */\n\t\t\t\t\t\t/* ASCII range. */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 4, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 12, 16, 12,\n\t\t\t\t\t\t12, 20, 12, 16, 24, 28, 12, 12, 32, 12, 36, 12, 44, 44,\n\t\t\t\t\t\t44, 44, 44, 44, 44, 44, 44, 44, 32, 32, 24, 40, 28, 12,\n\t\t\t\t\t\t12, 48, 52, 52, 52, 48, 52, 52, 52, 48, 52, 52, 52, 52,\n\t\t\t\t\t\t52, 48, 52, 52, 52, 52, 52, 48, 52, 52, 52, 52, 52, 24,\n\t\t\t\t\t\t12, 28, 12, 12, 12, 56, 60, 60, 60, 56, 60, 60, 60, 56,\n\t\t\t\t\t\t60, 60, 60, 60, 60, 56, 60, 60, 60, 60, 60, 56, 60, 60,\n\t\t\t\t\t\t60, 60, 60, 24, 12, 28, 12, 0,\n\t\t\t\t\t\t/* UTF8 continuation byte range. */\n\t\t\t\t\t\t0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0,\n\t\t\t\t\t\t1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1,\n\t\t\t\t\t\t0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0,\n\t\t\t\t\t\t1, 0, 1, 0, 1, 0, 1 /* UTF8 lead byte range. */, 2, 3,\n\t\t\t\t\t\t2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2,\n\t\t\t\t\t\t3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3,\n\t\t\t\t\t\t2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2,\n\t\t\t\t\t\t3, 2, 3, 2, 3 /* CONTEXT_UTF8 second last byte. */,\n\t\t\t\t\t\t/* ASCII range. */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,\n\t\t\t\t\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1,\n\t\t\t\t\t\t1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 0,\n\t\t\t\t\t\t/* UTF8 continuation byte range. */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0 /* UTF8 lead byte range. */, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2 /* CONTEXT_SIGNED, second last byte. */,\n\t\t\t\t\t\t0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,\n\t\t\t\t\t\t5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,\n\t\t\t\t\t\t5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6,\n\t\t\t\t\t\t6, 6, 6, 6, 6, 6, 6, 6, 7,\n\t\t\t\t\t\t/* CONTEXT_SIGNED, last byte, same as the above values shifted by 3 bits. */\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 40, 40, 40, 40, 40, 40, 40, 40, 40,\n\t\t\t\t\t\t40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40,\n\t\t\t\t\t\t40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40,\n\t\t\t\t\t\t40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 48, 48, 48,\n\t\t\t\t\t\t48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 56,\n\t\t\t\t\t\t/* CONTEXT_LSB6, last byte. */\n\t\t\t\t\t\t0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n\t\t\t\t\t\t16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29,\n\t\t\t\t\t\t30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43,\n\t\t\t\t\t\t44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57,\n\t\t\t\t\t\t58, 59, 60, 61, 62, 63, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9,\n\t\t\t\t\t\t10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n\t\t\t\t\t\t24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37,\n\t\t\t\t\t\t38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51,\n\t\t\t\t\t\t52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 0, 1, 2,\n\t\t\t\t\t\t3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,\n\t\t\t\t\t\t19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32,\n\t\t\t\t\t\t33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46,\n\t\t\t\t\t\t47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n\t\t\t\t\t\t61, 62, 63, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\n\t\t\t\t\t\t13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,\n\t\t\t\t\t\t27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n\t\t\t\t\t\t41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54,\n\t\t\t\t\t\t55, 56, 57, 58, 59, 60, 61, 62, 63,\n\t\t\t\t\t\t/* CONTEXT_MSB6, last byte. */\n\t\t\t\t\t\t0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,\n\t\t\t\t\t\t4, 5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8, 9, 9,\n\t\t\t\t\t\t9, 9, 10, 10, 10, 10, 11, 11, 11, 11, 12, 12, 12, 12,\n\t\t\t\t\t\t13, 13, 13, 13, 14, 14, 14, 14, 15, 15, 15, 15, 16, 16,\n\t\t\t\t\t\t16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19,\n\t\t\t\t\t\t20, 20, 20, 20, 21, 21, 21, 21, 22, 22, 22, 22, 23, 23,\n\t\t\t\t\t\t23, 23, 24, 24, 24, 24, 25, 25, 25, 25, 26, 26, 26, 26,\n\t\t\t\t\t\t27, 27, 27, 27, 28, 28, 28, 28, 29, 29, 29, 29, 30, 30,\n\t\t\t\t\t\t30, 30, 31, 31, 31, 31, 32, 32, 32, 32, 33, 33, 33, 33,\n\t\t\t\t\t\t34, 34, 34, 34, 35, 35, 35, 35, 36, 36, 36, 36, 37, 37,\n\t\t\t\t\t\t37, 37, 38, 38, 38, 38, 39, 39, 39, 39, 40, 40, 40, 40,\n\t\t\t\t\t\t41, 41, 41, 41, 42, 42, 42, 42, 43, 43, 43, 43, 44, 44,\n\t\t\t\t\t\t44, 44, 45, 45, 45, 45, 46, 46, 46, 46, 47, 47, 47, 47,\n\t\t\t\t\t\t48, 48, 48, 48, 49, 49, 49, 49, 50, 50, 50, 50, 51, 51,\n\t\t\t\t\t\t51, 51, 52, 52, 52, 52, 53, 53, 53, 53, 54, 54, 54, 54,\n\t\t\t\t\t\t55, 55, 55, 55, 56, 56, 56, 56, 57, 57, 57, 57, 58, 58,\n\t\t\t\t\t\t58, 58, 59, 59, 59, 59, 60, 60, 60, 60, 61, 61, 61, 61,\n\t\t\t\t\t\t62, 62, 62, 62, 63, 63, 63, 63,\n\t\t\t\t\t\t/* CONTEXT_{M,L}SB6, second last byte, */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t] );\n\n\t\t\t\t\texports.lookupOffsets = new Uint16Array( [\n\t\t\t\t\t\t/* CONTEXT_LSB6 */\n\t\t\t\t\t\t1024, 1536 /* CONTEXT_MSB6 */, 1280,\n\t\t\t\t\t\t1536 /* CONTEXT_UTF8 */, 0, 256 /* CONTEXT_SIGNED */,\n\t\t\t\t\t\t768, 512,\n\t\t\t\t\t] );\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t3: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\n\t\t\t\t\tvar BrotliInput = require( './streams' ).BrotliInput;\n\t\t\t\t\tvar BrotliOutput = require( './streams' ).BrotliOutput;\n\t\t\t\t\tvar BrotliBitReader = require( './bit_reader' );\n\t\t\t\t\tvar BrotliDictionary = require( './dictionary' );\n\t\t\t\t\tvar HuffmanCode = require( './huffman' ).HuffmanCode;\n\t\t\t\t\tvar BrotliBuildHuffmanTable =\n\t\t\t\t\t\trequire( './huffman' ).BrotliBuildHuffmanTable;\n\t\t\t\t\tvar Context = require( './context' );\n\t\t\t\t\tvar Prefix = require( './prefix' );\n\t\t\t\t\tvar Transform = require( './transform' );\n\n\t\t\t\t\tvar kDefaultCodeLength = 8;\n\t\t\t\t\tvar kCodeLengthRepeatCode = 16;\n\t\t\t\t\tvar kNumLiteralCodes = 256;\n\t\t\t\t\tvar kNumInsertAndCopyCodes = 704;\n\t\t\t\t\tvar kNumBlockLengthCodes = 26;\n\t\t\t\t\tvar kLiteralContextBits = 6;\n\t\t\t\t\tvar kDistanceContextBits = 2;\n\n\t\t\t\t\tvar HUFFMAN_TABLE_BITS = 8;\n\t\t\t\t\tvar HUFFMAN_TABLE_MASK = 0xff;\n\t\t\t\t\t/* Maximum possible Huffman table size for an alphabet size of 704, max code\n\t\t\t\t\t * length 15 and root table bits 8. */\n\t\t\t\t\tvar HUFFMAN_MAX_TABLE_SIZE = 1080;\n\n\t\t\t\t\tvar CODE_LENGTH_CODES = 18;\n\t\t\t\t\tvar kCodeLengthCodeOrder = new Uint8Array( [\n\t\t\t\t\t\t1, 2, 3, 4, 0, 5, 17, 6, 16, 7, 8, 9, 10, 11, 12, 13,\n\t\t\t\t\t\t14, 15,\n\t\t\t\t\t] );\n\n\t\t\t\t\tvar NUM_DISTANCE_SHORT_CODES = 16;\n\t\t\t\t\tvar kDistanceShortCodeIndexOffset = new Uint8Array( [\n\t\t\t\t\t\t3, 2, 1, 0, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t] );\n\n\t\t\t\t\tvar kDistanceShortCodeValueOffset = new Int8Array( [\n\t\t\t\t\t\t0, 0, 0, 0, -1, 1, -2, 2, -3, 3, -1, 1, -2, 2, -3, 3,\n\t\t\t\t\t] );\n\n\t\t\t\t\tvar kMaxHuffmanTableSize = new Uint16Array( [\n\t\t\t\t\t\t256, 402, 436, 468, 500, 534, 566, 598, 630, 662, 694,\n\t\t\t\t\t\t726, 758, 790, 822, 854, 886, 920, 952, 984, 1016, 1048,\n\t\t\t\t\t\t1080,\n\t\t\t\t\t] );\n\n\t\t\t\t\tfunction DecodeWindowBits( br ) {\n\t\t\t\t\t\tvar n;\n\t\t\t\t\t\tif ( br.readBits( 1 ) === 0 ) {\n\t\t\t\t\t\t\treturn 16;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tn = br.readBits( 3 );\n\t\t\t\t\t\tif ( n > 0 ) {\n\t\t\t\t\t\t\treturn 17 + n;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tn = br.readBits( 3 );\n\t\t\t\t\t\tif ( n > 0 ) {\n\t\t\t\t\t\t\treturn 8 + n;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn 17;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Decodes a number in the range [0..255], by reading 1 - 11 bits. */\n\t\t\t\t\tfunction DecodeVarLenUint8( br ) {\n\t\t\t\t\t\tif ( br.readBits( 1 ) ) {\n\t\t\t\t\t\t\tvar nbits = br.readBits( 3 );\n\t\t\t\t\t\t\tif ( nbits === 0 ) {\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn br.readBits( nbits ) + ( 1 << nbits );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction MetaBlockLength() {\n\t\t\t\t\t\tthis.meta_block_length = 0;\n\t\t\t\t\t\tthis.input_end = 0;\n\t\t\t\t\t\tthis.is_uncompressed = 0;\n\t\t\t\t\t\tthis.is_metadata = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction DecodeMetaBlockLength( br ) {\n\t\t\t\t\t\tvar out = new MetaBlockLength();\n\t\t\t\t\t\tvar size_nibbles;\n\t\t\t\t\t\tvar size_bytes;\n\t\t\t\t\t\tvar i;\n\n\t\t\t\t\t\tout.input_end = br.readBits( 1 );\n\t\t\t\t\t\tif ( out.input_end && br.readBits( 1 ) ) {\n\t\t\t\t\t\t\treturn out;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsize_nibbles = br.readBits( 2 ) + 4;\n\t\t\t\t\t\tif ( size_nibbles === 7 ) {\n\t\t\t\t\t\t\tout.is_metadata = true;\n\n\t\t\t\t\t\t\tif ( br.readBits( 1 ) !== 0 )\n\t\t\t\t\t\t\t\tthrow new Error( 'Invalid reserved bit' );\n\n\t\t\t\t\t\t\tsize_bytes = br.readBits( 2 );\n\t\t\t\t\t\t\tif ( size_bytes === 0 ) return out;\n\n\t\t\t\t\t\t\tfor ( i = 0; i < size_bytes; i++ ) {\n\t\t\t\t\t\t\t\tvar next_byte = br.readBits( 8 );\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\ti + 1 === size_bytes &&\n\t\t\t\t\t\t\t\t\tsize_bytes > 1 &&\n\t\t\t\t\t\t\t\t\tnext_byte === 0\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\tthrow new Error( 'Invalid size byte' );\n\n\t\t\t\t\t\t\t\tout.meta_block_length |= next_byte << ( i * 8 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor ( i = 0; i < size_nibbles; ++i ) {\n\t\t\t\t\t\t\t\tvar next_nibble = br.readBits( 4 );\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\ti + 1 === size_nibbles &&\n\t\t\t\t\t\t\t\t\tsize_nibbles > 4 &&\n\t\t\t\t\t\t\t\t\tnext_nibble === 0\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\tthrow new Error( 'Invalid size nibble' );\n\n\t\t\t\t\t\t\t\tout.meta_block_length |=\n\t\t\t\t\t\t\t\t\tnext_nibble << ( i * 4 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t++out.meta_block_length;\n\n\t\t\t\t\t\tif ( ! out.input_end && ! out.is_metadata ) {\n\t\t\t\t\t\t\tout.is_uncompressed = br.readBits( 1 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn out;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Decodes the next Huffman code from bit-stream. */\n\t\t\t\t\tfunction ReadSymbol( table, index, br ) {\n\t\t\t\t\t\tvar start_index = index;\n\n\t\t\t\t\t\tvar nbits;\n\t\t\t\t\t\tbr.fillBitWindow();\n\t\t\t\t\t\tindex +=\n\t\t\t\t\t\t\t( br.val_ >>> br.bit_pos_ ) & HUFFMAN_TABLE_MASK;\n\t\t\t\t\t\tnbits = table[ index ].bits - HUFFMAN_TABLE_BITS;\n\t\t\t\t\t\tif ( nbits > 0 ) {\n\t\t\t\t\t\t\tbr.bit_pos_ += HUFFMAN_TABLE_BITS;\n\t\t\t\t\t\t\tindex += table[ index ].value;\n\t\t\t\t\t\t\tindex +=\n\t\t\t\t\t\t\t\t( br.val_ >>> br.bit_pos_ ) &\n\t\t\t\t\t\t\t\t( ( 1 << nbits ) - 1 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbr.bit_pos_ += table[ index ].bits;\n\t\t\t\t\t\treturn table[ index ].value;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction ReadHuffmanCodeLengths(\n\t\t\t\t\t\tcode_length_code_lengths,\n\t\t\t\t\t\tnum_symbols,\n\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar symbol = 0;\n\t\t\t\t\t\tvar prev_code_len = kDefaultCodeLength;\n\t\t\t\t\t\tvar repeat = 0;\n\t\t\t\t\t\tvar repeat_code_len = 0;\n\t\t\t\t\t\tvar space = 32768;\n\n\t\t\t\t\t\tvar table = [];\n\t\t\t\t\t\tfor ( var i = 0; i < 32; i++ )\n\t\t\t\t\t\t\ttable.push( new HuffmanCode( 0, 0 ) );\n\n\t\t\t\t\t\tBrotliBuildHuffmanTable(\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t5,\n\t\t\t\t\t\t\tcode_length_code_lengths,\n\t\t\t\t\t\t\tCODE_LENGTH_CODES\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\twhile ( symbol < num_symbols && space > 0 ) {\n\t\t\t\t\t\t\tvar p = 0;\n\t\t\t\t\t\t\tvar code_len;\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\tbr.fillBitWindow();\n\t\t\t\t\t\t\tp += ( br.val_ >>> br.bit_pos_ ) & 31;\n\t\t\t\t\t\t\tbr.bit_pos_ += table[ p ].bits;\n\t\t\t\t\t\t\tcode_len = table[ p ].value & 0xff;\n\t\t\t\t\t\t\tif ( code_len < kCodeLengthRepeatCode ) {\n\t\t\t\t\t\t\t\trepeat = 0;\n\t\t\t\t\t\t\t\tcode_lengths[ symbol++ ] = code_len;\n\t\t\t\t\t\t\t\tif ( code_len !== 0 ) {\n\t\t\t\t\t\t\t\t\tprev_code_len = code_len;\n\t\t\t\t\t\t\t\t\tspace -= 32768 >> code_len;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar extra_bits = code_len - 14;\n\t\t\t\t\t\t\t\tvar old_repeat;\n\t\t\t\t\t\t\t\tvar repeat_delta;\n\t\t\t\t\t\t\t\tvar new_len = 0;\n\t\t\t\t\t\t\t\tif ( code_len === kCodeLengthRepeatCode ) {\n\t\t\t\t\t\t\t\t\tnew_len = prev_code_len;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( repeat_code_len !== new_len ) {\n\t\t\t\t\t\t\t\t\trepeat = 0;\n\t\t\t\t\t\t\t\t\trepeat_code_len = new_len;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\told_repeat = repeat;\n\t\t\t\t\t\t\t\tif ( repeat > 0 ) {\n\t\t\t\t\t\t\t\t\trepeat -= 2;\n\t\t\t\t\t\t\t\t\trepeat <<= extra_bits;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trepeat += br.readBits( extra_bits ) + 3;\n\t\t\t\t\t\t\t\trepeat_delta = repeat - old_repeat;\n\t\t\t\t\t\t\t\tif ( symbol + repeat_delta > num_symbols ) {\n\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfor ( var x = 0; x < repeat_delta; x++ )\n\t\t\t\t\t\t\t\t\tcode_lengths[ symbol + x ] =\n\t\t\t\t\t\t\t\t\t\trepeat_code_len;\n\n\t\t\t\t\t\t\t\tsymbol += repeat_delta;\n\n\t\t\t\t\t\t\t\tif ( repeat_code_len !== 0 ) {\n\t\t\t\t\t\t\t\t\tspace -=\n\t\t\t\t\t\t\t\t\t\trepeat_delta <<\n\t\t\t\t\t\t\t\t\t\t( 15 - repeat_code_len );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( space !== 0 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[ReadHuffmanCodeLengths] space = ' + space\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( ; symbol < num_symbols; symbol++ )\n\t\t\t\t\t\t\tcode_lengths[ symbol ] = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction ReadHuffmanCode(\n\t\t\t\t\t\talphabet_size,\n\t\t\t\t\t\ttables,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar table_size = 0;\n\t\t\t\t\t\tvar simple_code_or_skip;\n\t\t\t\t\t\tvar code_lengths = new Uint8Array( alphabet_size );\n\n\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t/* simple_code_or_skip is used as follows:\n     1 for simple code;\n     0 for no skipping, 2 skips 2 code lengths, 3 skips 3 code lengths */\n\t\t\t\t\t\tsimple_code_or_skip = br.readBits( 2 );\n\t\t\t\t\t\tif ( simple_code_or_skip === 1 ) {\n\t\t\t\t\t\t\t/* Read symbols, codes & code lengths directly. */\n\t\t\t\t\t\t\tvar i;\n\t\t\t\t\t\t\tvar max_bits_counter = alphabet_size - 1;\n\t\t\t\t\t\t\tvar max_bits = 0;\n\t\t\t\t\t\t\tvar symbols = new Int32Array( 4 );\n\t\t\t\t\t\t\tvar num_symbols = br.readBits( 2 ) + 1;\n\t\t\t\t\t\t\twhile ( max_bits_counter ) {\n\t\t\t\t\t\t\t\tmax_bits_counter >>= 1;\n\t\t\t\t\t\t\t\t++max_bits;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor ( i = 0; i < num_symbols; ++i ) {\n\t\t\t\t\t\t\t\tsymbols[ i ] =\n\t\t\t\t\t\t\t\t\tbr.readBits( max_bits ) % alphabet_size;\n\t\t\t\t\t\t\t\tcode_lengths[ symbols[ i ] ] = 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcode_lengths[ symbols[ 0 ] ] = 1;\n\t\t\t\t\t\t\tswitch ( num_symbols ) {\n\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 1 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 2 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 1 ] === symbols[ 2 ]\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid symbols'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tif ( symbols[ 0 ] === symbols[ 1 ] ) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid symbols'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 1 ] ] = 1;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 1 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 2 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 3 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 1 ] === symbols[ 2 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 1 ] === symbols[ 3 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 2 ] === symbols[ 3 ]\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid symbols'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( br.readBits( 1 ) ) {\n\t\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 2 ] ] = 3;\n\t\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 3 ] ] = 3;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 0 ] ] = 2;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t/* Decode Huffman-coded code lengths. */\n\t\t\t\t\t\t\tvar i;\n\t\t\t\t\t\t\tvar code_length_code_lengths = new Uint8Array(\n\t\t\t\t\t\t\t\tCODE_LENGTH_CODES\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tvar space = 32;\n\t\t\t\t\t\t\tvar num_codes = 0;\n\t\t\t\t\t\t\t/* Static Huffman code for the code length code lengths */\n\t\t\t\t\t\t\tvar huff = [\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 3, 2 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 4, 1 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 3, 2 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 4, 5 ),\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\ti = simple_code_or_skip;\n\t\t\t\t\t\t\t\ti < CODE_LENGTH_CODES && space > 0;\n\t\t\t\t\t\t\t\t++i\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tvar code_len_idx = kCodeLengthCodeOrder[ i ];\n\t\t\t\t\t\t\t\tvar p = 0;\n\t\t\t\t\t\t\t\tvar v;\n\t\t\t\t\t\t\t\tbr.fillBitWindow();\n\t\t\t\t\t\t\t\tp += ( br.val_ >>> br.bit_pos_ ) & 15;\n\t\t\t\t\t\t\t\tbr.bit_pos_ += huff[ p ].bits;\n\t\t\t\t\t\t\t\tv = huff[ p ].value;\n\t\t\t\t\t\t\t\tcode_length_code_lengths[ code_len_idx ] = v;\n\t\t\t\t\t\t\t\tif ( v !== 0 ) {\n\t\t\t\t\t\t\t\t\tspace -= 32 >> v;\n\t\t\t\t\t\t\t\t\t++num_codes;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( ! ( num_codes === 1 || space === 0 ) )\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid num_codes or space'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tReadHuffmanCodeLengths(\n\t\t\t\t\t\t\t\tcode_length_code_lengths,\n\t\t\t\t\t\t\t\talphabet_size,\n\t\t\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable_size = BrotliBuildHuffmanTable(\n\t\t\t\t\t\t\ttables,\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\tHUFFMAN_TABLE_BITS,\n\t\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\t\talphabet_size\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif ( table_size === 0 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[ReadHuffmanCode] BuildHuffmanTable failed: '\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn table_size;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction ReadBlockLength( table, index, br ) {\n\t\t\t\t\t\tvar code;\n\t\t\t\t\t\tvar nbits;\n\t\t\t\t\t\tcode = ReadSymbol( table, index, br );\n\t\t\t\t\t\tnbits = Prefix.kBlockLengthPrefixCode[ code ].nbits;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tPrefix.kBlockLengthPrefixCode[ code ].offset +\n\t\t\t\t\t\t\tbr.readBits( nbits )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction TranslateShortCodes( code, ringbuffer, index ) {\n\t\t\t\t\t\tvar val;\n\t\t\t\t\t\tif ( code < NUM_DISTANCE_SHORT_CODES ) {\n\t\t\t\t\t\t\tindex += kDistanceShortCodeIndexOffset[ code ];\n\t\t\t\t\t\t\tindex &= 3;\n\t\t\t\t\t\t\tval =\n\t\t\t\t\t\t\t\tringbuffer[ index ] +\n\t\t\t\t\t\t\t\tkDistanceShortCodeValueOffset[ code ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tval = code - NUM_DISTANCE_SHORT_CODES + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction MoveToFront( v, index ) {\n\t\t\t\t\t\tvar value = v[ index ];\n\t\t\t\t\t\tvar i = index;\n\t\t\t\t\t\tfor ( ; i; --i ) v[ i ] = v[ i - 1 ];\n\t\t\t\t\t\tv[ 0 ] = value;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction InverseMoveToFrontTransform( v, v_len ) {\n\t\t\t\t\t\tvar mtf = new Uint8Array( 256 );\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tfor ( i = 0; i < 256; ++i ) {\n\t\t\t\t\t\t\tmtf[ i ] = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor ( i = 0; i < v_len; ++i ) {\n\t\t\t\t\t\t\tvar index = v[ i ];\n\t\t\t\t\t\t\tv[ i ] = mtf[ index ];\n\t\t\t\t\t\t\tif ( index ) MoveToFront( mtf, index );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Contains a collection of huffman trees with the same alphabet size. */\n\t\t\t\t\tfunction HuffmanTreeGroup( alphabet_size, num_htrees ) {\n\t\t\t\t\t\tthis.alphabet_size = alphabet_size;\n\t\t\t\t\t\tthis.num_htrees = num_htrees;\n\t\t\t\t\t\tthis.codes = new Array(\n\t\t\t\t\t\t\tnum_htrees +\n\t\t\t\t\t\t\t\tnum_htrees *\n\t\t\t\t\t\t\t\t\tkMaxHuffmanTableSize[\n\t\t\t\t\t\t\t\t\t\t( alphabet_size + 31 ) >>> 5\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.htrees = new Uint32Array( num_htrees );\n\t\t\t\t\t}\n\n\t\t\t\t\tHuffmanTreeGroup.prototype.decode = function ( br ) {\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tvar table_size;\n\t\t\t\t\t\tvar next = 0;\n\t\t\t\t\t\tfor ( i = 0; i < this.num_htrees; ++i ) {\n\t\t\t\t\t\t\tthis.htrees[ i ] = next;\n\t\t\t\t\t\t\ttable_size = ReadHuffmanCode(\n\t\t\t\t\t\t\t\tthis.alphabet_size,\n\t\t\t\t\t\t\t\tthis.codes,\n\t\t\t\t\t\t\t\tnext,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnext += table_size;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction DecodeContextMap( context_map_size, br ) {\n\t\t\t\t\t\tvar out = { num_htrees: null, context_map: null };\n\t\t\t\t\t\tvar use_rle_for_zeros;\n\t\t\t\t\t\tvar max_run_length_prefix = 0;\n\t\t\t\t\t\tvar table;\n\t\t\t\t\t\tvar i;\n\n\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\tvar num_htrees = ( out.num_htrees =\n\t\t\t\t\t\t\tDecodeVarLenUint8( br ) + 1 );\n\n\t\t\t\t\t\tvar context_map = ( out.context_map = new Uint8Array(\n\t\t\t\t\t\t\tcontext_map_size\n\t\t\t\t\t\t) );\n\t\t\t\t\t\tif ( num_htrees <= 1 ) {\n\t\t\t\t\t\t\treturn out;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tuse_rle_for_zeros = br.readBits( 1 );\n\t\t\t\t\t\tif ( use_rle_for_zeros ) {\n\t\t\t\t\t\t\tmax_run_length_prefix = br.readBits( 4 ) + 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable = [];\n\t\t\t\t\t\tfor ( i = 0; i < HUFFMAN_MAX_TABLE_SIZE; i++ ) {\n\t\t\t\t\t\t\ttable[ i ] = new HuffmanCode( 0, 0 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tReadHuffmanCode(\n\t\t\t\t\t\t\tnum_htrees + max_run_length_prefix,\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tfor ( i = 0; i < context_map_size;  ) {\n\t\t\t\t\t\t\tvar code;\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\tcode = ReadSymbol( table, 0, br );\n\t\t\t\t\t\t\tif ( code === 0 ) {\n\t\t\t\t\t\t\t\tcontext_map[ i ] = 0;\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t} else if ( code <= max_run_length_prefix ) {\n\t\t\t\t\t\t\t\tvar reps =\n\t\t\t\t\t\t\t\t\t1 + ( 1 << code ) + br.readBits( code );\n\t\t\t\t\t\t\t\twhile ( --reps ) {\n\t\t\t\t\t\t\t\t\tif ( i >= context_map_size ) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[DecodeContextMap] i >= context_map_size'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontext_map[ i ] = 0;\n\t\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontext_map[ i ] = code - max_run_length_prefix;\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( br.readBits( 1 ) ) {\n\t\t\t\t\t\t\tInverseMoveToFrontTransform(\n\t\t\t\t\t\t\t\tcontext_map,\n\t\t\t\t\t\t\t\tcontext_map_size\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn out;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction DecodeBlockType(\n\t\t\t\t\t\tmax_block_type,\n\t\t\t\t\t\ttrees,\n\t\t\t\t\t\ttree_type,\n\t\t\t\t\t\tblock_types,\n\t\t\t\t\t\tringbuffers,\n\t\t\t\t\t\tindexes,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar ringbuffer = tree_type * 2;\n\t\t\t\t\t\tvar index = tree_type;\n\t\t\t\t\t\tvar type_code = ReadSymbol(\n\t\t\t\t\t\t\ttrees,\n\t\t\t\t\t\t\ttree_type * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t);\n\t\t\t\t\t\tvar block_type;\n\t\t\t\t\t\tif ( type_code === 0 ) {\n\t\t\t\t\t\t\tblock_type =\n\t\t\t\t\t\t\t\tringbuffers[\n\t\t\t\t\t\t\t\t\tringbuffer + ( indexes[ index ] & 1 )\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if ( type_code === 1 ) {\n\t\t\t\t\t\t\tblock_type =\n\t\t\t\t\t\t\t\tringbuffers[\n\t\t\t\t\t\t\t\t\tringbuffer +\n\t\t\t\t\t\t\t\t\t\t( ( indexes[ index ] - 1 ) & 1 )\n\t\t\t\t\t\t\t\t] + 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tblock_type = type_code - 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( block_type >= max_block_type ) {\n\t\t\t\t\t\t\tblock_type -= max_block_type;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tblock_types[ tree_type ] = block_type;\n\t\t\t\t\t\tringbuffers[ ringbuffer + ( indexes[ index ] & 1 ) ] =\n\t\t\t\t\t\t\tblock_type;\n\t\t\t\t\t\t++indexes[ index ];\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction CopyUncompressedBlockToOutput(\n\t\t\t\t\t\toutput,\n\t\t\t\t\t\tlen,\n\t\t\t\t\t\tpos,\n\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\tringbuffer_mask,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar rb_size = ringbuffer_mask + 1;\n\t\t\t\t\t\tvar rb_pos = pos & ringbuffer_mask;\n\t\t\t\t\t\tvar br_pos = br.pos_ & BrotliBitReader.IBUF_MASK;\n\t\t\t\t\t\tvar nbytes;\n\n\t\t\t\t\t\t/* For short lengths copy byte-by-byte */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlen < 8 ||\n\t\t\t\t\t\t\tbr.bit_pos_ + ( len << 3 ) < br.bit_end_pos_\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\twhile ( len-- > 0 ) {\n\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\tringbuffer[ rb_pos++ ] = br.readBits( 8 );\n\t\t\t\t\t\t\t\tif ( rb_pos === rb_size ) {\n\t\t\t\t\t\t\t\t\toutput.write( ringbuffer, rb_size );\n\t\t\t\t\t\t\t\t\trb_pos = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( br.bit_end_pos_ < 32 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Copy remaining 0-4 bytes from br.val_ to ringbuffer. */\n\t\t\t\t\t\twhile ( br.bit_pos_ < 32 ) {\n\t\t\t\t\t\t\tringbuffer[ rb_pos ] = br.val_ >>> br.bit_pos_;\n\t\t\t\t\t\t\tbr.bit_pos_ += 8;\n\t\t\t\t\t\t\t++rb_pos;\n\t\t\t\t\t\t\t--len;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Copy remaining bytes from br.buf_ to ringbuffer. */\n\t\t\t\t\t\tnbytes = ( br.bit_end_pos_ - br.bit_pos_ ) >> 3;\n\t\t\t\t\t\tif ( br_pos + nbytes > BrotliBitReader.IBUF_MASK ) {\n\t\t\t\t\t\t\tvar tail = BrotliBitReader.IBUF_MASK + 1 - br_pos;\n\t\t\t\t\t\t\tfor ( var x = 0; x < tail; x++ )\n\t\t\t\t\t\t\t\tringbuffer[ rb_pos + x ] =\n\t\t\t\t\t\t\t\t\tbr.buf_[ br_pos + x ];\n\n\t\t\t\t\t\t\tnbytes -= tail;\n\t\t\t\t\t\t\trb_pos += tail;\n\t\t\t\t\t\t\tlen -= tail;\n\t\t\t\t\t\t\tbr_pos = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( var x = 0; x < nbytes; x++ )\n\t\t\t\t\t\t\tringbuffer[ rb_pos + x ] = br.buf_[ br_pos + x ];\n\n\t\t\t\t\t\trb_pos += nbytes;\n\t\t\t\t\t\tlen -= nbytes;\n\n\t\t\t\t\t\t/* If we wrote past the logical end of the ringbuffer, copy the tail of the\n     ringbuffer to its beginning and flush the ringbuffer to the output. */\n\t\t\t\t\t\tif ( rb_pos >= rb_size ) {\n\t\t\t\t\t\t\toutput.write( ringbuffer, rb_size );\n\t\t\t\t\t\t\trb_pos -= rb_size;\n\t\t\t\t\t\t\tfor ( var x = 0; x < rb_pos; x++ )\n\t\t\t\t\t\t\t\tringbuffer[ x ] = ringbuffer[ rb_size + x ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* If we have more to copy than the remaining size of the ringbuffer, then we\n     first fill the ringbuffer from the input and then flush the ringbuffer to\n     the output */\n\t\t\t\t\t\twhile ( rb_pos + len >= rb_size ) {\n\t\t\t\t\t\t\tnbytes = rb_size - rb_pos;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tbr.input_.read( ringbuffer, rb_pos, nbytes ) <\n\t\t\t\t\t\t\t\tnbytes\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t'[CopyUncompressedBlockToOutput] not enough bytes'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toutput.write( ringbuffer, rb_size );\n\t\t\t\t\t\t\tlen -= nbytes;\n\t\t\t\t\t\t\trb_pos = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Copy straight from the input onto the ringbuffer. The ringbuffer will be\n     flushed to the output at a later time. */\n\t\t\t\t\t\tif ( br.input_.read( ringbuffer, rb_pos, len ) < len ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[CopyUncompressedBlockToOutput] not enough bytes'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Restore the state of the bit reader. */\n\t\t\t\t\t\tbr.reset();\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Advances the bit reader position to the next byte boundary and verifies\n   that any skipped bits are set to zero. */\n\t\t\t\t\tfunction JumpToByteBoundary( br ) {\n\t\t\t\t\t\tvar new_bit_pos = ( br.bit_pos_ + 7 ) & ~7;\n\t\t\t\t\t\tvar pad_bits = br.readBits( new_bit_pos - br.bit_pos_ );\n\t\t\t\t\t\treturn pad_bits == 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction BrotliDecompressedSize( buffer ) {\n\t\t\t\t\t\tvar input = new BrotliInput( buffer );\n\t\t\t\t\t\tvar br = new BrotliBitReader( input );\n\t\t\t\t\t\tDecodeWindowBits( br );\n\t\t\t\t\t\tvar out = DecodeMetaBlockLength( br );\n\t\t\t\t\t\treturn out.meta_block_length;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliDecompressedSize = BrotliDecompressedSize;\n\n\t\t\t\t\tfunction BrotliDecompressBuffer( buffer, output_size ) {\n\t\t\t\t\t\tvar input = new BrotliInput( buffer );\n\n\t\t\t\t\t\tif ( output_size == null ) {\n\t\t\t\t\t\t\toutput_size = BrotliDecompressedSize( buffer );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar output_buffer = new Uint8Array( output_size );\n\t\t\t\t\t\tvar output = new BrotliOutput( output_buffer );\n\n\t\t\t\t\t\tBrotliDecompress( input, output );\n\n\t\t\t\t\t\tif ( output.pos < output.buffer.length ) {\n\t\t\t\t\t\t\toutput.buffer = output.buffer.subarray(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\toutput.pos\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn output.buffer;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliDecompressBuffer = BrotliDecompressBuffer;\n\n\t\t\t\t\tfunction BrotliDecompress( input, output ) {\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tvar pos = 0;\n\t\t\t\t\t\tvar input_end = 0;\n\t\t\t\t\t\tvar window_bits = 0;\n\t\t\t\t\t\tvar max_backward_distance;\n\t\t\t\t\t\tvar max_distance = 0;\n\t\t\t\t\t\tvar ringbuffer_size;\n\t\t\t\t\t\tvar ringbuffer_mask;\n\t\t\t\t\t\tvar ringbuffer;\n\t\t\t\t\t\tvar ringbuffer_end;\n\t\t\t\t\t\t/* This ring buffer holds a few past copy distances that will be used by */\n\t\t\t\t\t\t/* some special distance codes. */\n\t\t\t\t\t\tvar dist_rb = [ 16, 15, 11, 4 ];\n\t\t\t\t\t\tvar dist_rb_idx = 0;\n\t\t\t\t\t\t/* The previous 2 bytes used for context. */\n\t\t\t\t\t\tvar prev_byte1 = 0;\n\t\t\t\t\t\tvar prev_byte2 = 0;\n\t\t\t\t\t\tvar hgroup = [\n\t\t\t\t\t\t\tnew HuffmanTreeGroup( 0, 0 ),\n\t\t\t\t\t\t\tnew HuffmanTreeGroup( 0, 0 ),\n\t\t\t\t\t\t\tnew HuffmanTreeGroup( 0, 0 ),\n\t\t\t\t\t\t];\n\t\t\t\t\t\tvar block_type_trees;\n\t\t\t\t\t\tvar block_len_trees;\n\t\t\t\t\t\tvar br;\n\n\t\t\t\t\t\t/* We need the slack region for the following reasons:\n       - always doing two 8-byte copies for fast backward copying\n       - transforms\n       - flushing the input ringbuffer when decoding uncompressed blocks */\n\t\t\t\t\t\tvar kRingBufferWriteAheadSlack =\n\t\t\t\t\t\t\t128 + BrotliBitReader.READ_SIZE;\n\n\t\t\t\t\t\tbr = new BrotliBitReader( input );\n\n\t\t\t\t\t\t/* Decode window size. */\n\t\t\t\t\t\twindow_bits = DecodeWindowBits( br );\n\t\t\t\t\t\tmax_backward_distance = ( 1 << window_bits ) - 16;\n\n\t\t\t\t\t\tringbuffer_size = 1 << window_bits;\n\t\t\t\t\t\tringbuffer_mask = ringbuffer_size - 1;\n\t\t\t\t\t\tringbuffer = new Uint8Array(\n\t\t\t\t\t\t\tringbuffer_size +\n\t\t\t\t\t\t\t\tkRingBufferWriteAheadSlack +\n\t\t\t\t\t\t\t\tBrotliDictionary.maxDictionaryWordLength\n\t\t\t\t\t\t);\n\t\t\t\t\t\tringbuffer_end = ringbuffer_size;\n\n\t\t\t\t\t\tblock_type_trees = [];\n\t\t\t\t\t\tblock_len_trees = [];\n\t\t\t\t\t\tfor ( var x = 0; x < 3 * HUFFMAN_MAX_TABLE_SIZE; x++ ) {\n\t\t\t\t\t\t\tblock_type_trees[ x ] = new HuffmanCode( 0, 0 );\n\t\t\t\t\t\t\tblock_len_trees[ x ] = new HuffmanCode( 0, 0 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twhile ( ! input_end ) {\n\t\t\t\t\t\t\tvar meta_block_remaining_len = 0;\n\t\t\t\t\t\t\tvar is_uncompressed;\n\t\t\t\t\t\t\tvar block_length = [ 1 << 28, 1 << 28, 1 << 28 ];\n\t\t\t\t\t\t\tvar block_type = [ 0 ];\n\t\t\t\t\t\t\tvar num_block_types = [ 1, 1, 1 ];\n\t\t\t\t\t\t\tvar block_type_rb = [ 0, 1, 0, 1, 0, 1 ];\n\t\t\t\t\t\t\tvar block_type_rb_index = [ 0 ];\n\t\t\t\t\t\t\tvar distance_postfix_bits;\n\t\t\t\t\t\t\tvar num_direct_distance_codes;\n\t\t\t\t\t\t\tvar distance_postfix_mask;\n\t\t\t\t\t\t\tvar num_distance_codes;\n\t\t\t\t\t\t\tvar context_map = null;\n\t\t\t\t\t\t\tvar context_modes = null;\n\t\t\t\t\t\t\tvar num_literal_htrees;\n\t\t\t\t\t\t\tvar dist_context_map = null;\n\t\t\t\t\t\t\tvar num_dist_htrees;\n\t\t\t\t\t\t\tvar context_offset = 0;\n\t\t\t\t\t\t\tvar context_map_slice = null;\n\t\t\t\t\t\t\tvar literal_htree_index = 0;\n\t\t\t\t\t\t\tvar dist_context_offset = 0;\n\t\t\t\t\t\t\tvar dist_context_map_slice = null;\n\t\t\t\t\t\t\tvar dist_htree_index = 0;\n\t\t\t\t\t\t\tvar context_lookup_offset1 = 0;\n\t\t\t\t\t\t\tvar context_lookup_offset2 = 0;\n\t\t\t\t\t\t\tvar context_mode;\n\t\t\t\t\t\t\tvar htree_command;\n\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; ++i ) {\n\t\t\t\t\t\t\t\thgroup[ i ].codes = null;\n\t\t\t\t\t\t\t\thgroup[ i ].htrees = null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\tvar _out = DecodeMetaBlockLength( br );\n\t\t\t\t\t\t\tmeta_block_remaining_len = _out.meta_block_length;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpos + meta_block_remaining_len >\n\t\t\t\t\t\t\t\toutput.buffer.length\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t/* We need to grow the output buffer to fit the additional data. */\n\t\t\t\t\t\t\t\tvar tmp = new Uint8Array(\n\t\t\t\t\t\t\t\t\tpos + meta_block_remaining_len\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\ttmp.set( output.buffer );\n\t\t\t\t\t\t\t\toutput.buffer = tmp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinput_end = _out.input_end;\n\t\t\t\t\t\t\tis_uncompressed = _out.is_uncompressed;\n\n\t\t\t\t\t\t\tif ( _out.is_metadata ) {\n\t\t\t\t\t\t\t\tJumpToByteBoundary( br );\n\n\t\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t\t\tmeta_block_remaining_len > 0;\n\t\t\t\t\t\t\t\t\t--meta_block_remaining_len\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\t\t/* Read one byte and ignore it. */\n\t\t\t\t\t\t\t\t\tbr.readBits( 8 );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( meta_block_remaining_len === 0 ) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( is_uncompressed ) {\n\t\t\t\t\t\t\t\tbr.bit_pos_ = ( br.bit_pos_ + 7 ) & ~7;\n\t\t\t\t\t\t\t\tCopyUncompressedBlockToOutput(\n\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\tmeta_block_remaining_len,\n\t\t\t\t\t\t\t\t\tpos,\n\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\tringbuffer_mask,\n\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tpos += meta_block_remaining_len;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; ++i ) {\n\t\t\t\t\t\t\t\tnum_block_types[ i ] =\n\t\t\t\t\t\t\t\t\tDecodeVarLenUint8( br ) + 1;\n\t\t\t\t\t\t\t\tif ( num_block_types[ i ] >= 2 ) {\n\t\t\t\t\t\t\t\t\tReadHuffmanCode(\n\t\t\t\t\t\t\t\t\t\tnum_block_types[ i ] + 2,\n\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\ti * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tReadHuffmanCode(\n\t\t\t\t\t\t\t\t\t\tkNumBlockLengthCodes,\n\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\ti * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tblock_length[ i ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\ti * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tblock_type_rb_index[ i ] = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\tdistance_postfix_bits = br.readBits( 2 );\n\t\t\t\t\t\t\tnum_direct_distance_codes =\n\t\t\t\t\t\t\t\tNUM_DISTANCE_SHORT_CODES +\n\t\t\t\t\t\t\t\t( br.readBits( 4 ) << distance_postfix_bits );\n\t\t\t\t\t\t\tdistance_postfix_mask =\n\t\t\t\t\t\t\t\t( 1 << distance_postfix_bits ) - 1;\n\t\t\t\t\t\t\tnum_distance_codes =\n\t\t\t\t\t\t\t\tnum_direct_distance_codes +\n\t\t\t\t\t\t\t\t( 48 << distance_postfix_bits );\n\t\t\t\t\t\t\tcontext_modes = new Uint8Array(\n\t\t\t\t\t\t\t\tnum_block_types[ 0 ]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tfor ( i = 0; i < num_block_types[ 0 ]; ++i ) {\n\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\tcontext_modes[ i ] = br.readBits( 2 ) << 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar _o1 = DecodeContextMap(\n\t\t\t\t\t\t\t\tnum_block_types[ 0 ] << kLiteralContextBits,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnum_literal_htrees = _o1.num_htrees;\n\t\t\t\t\t\t\tcontext_map = _o1.context_map;\n\n\t\t\t\t\t\t\tvar _o2 = DecodeContextMap(\n\t\t\t\t\t\t\t\tnum_block_types[ 2 ] << kDistanceContextBits,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnum_dist_htrees = _o2.num_htrees;\n\t\t\t\t\t\t\tdist_context_map = _o2.context_map;\n\n\t\t\t\t\t\t\thgroup[ 0 ] = new HuffmanTreeGroup(\n\t\t\t\t\t\t\t\tkNumLiteralCodes,\n\t\t\t\t\t\t\t\tnum_literal_htrees\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\thgroup[ 1 ] = new HuffmanTreeGroup(\n\t\t\t\t\t\t\t\tkNumInsertAndCopyCodes,\n\t\t\t\t\t\t\t\tnum_block_types[ 1 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\thgroup[ 2 ] = new HuffmanTreeGroup(\n\t\t\t\t\t\t\t\tnum_distance_codes,\n\t\t\t\t\t\t\t\tnum_dist_htrees\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; ++i ) {\n\t\t\t\t\t\t\t\thgroup[ i ].decode( br );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcontext_map_slice = 0;\n\t\t\t\t\t\t\tdist_context_map_slice = 0;\n\t\t\t\t\t\t\tcontext_mode = context_modes[ block_type[ 0 ] ];\n\t\t\t\t\t\t\tcontext_lookup_offset1 =\n\t\t\t\t\t\t\t\tContext.lookupOffsets[ context_mode ];\n\t\t\t\t\t\t\tcontext_lookup_offset2 =\n\t\t\t\t\t\t\t\tContext.lookupOffsets[ context_mode + 1 ];\n\t\t\t\t\t\t\thtree_command = hgroup[ 1 ].htrees[ 0 ];\n\n\t\t\t\t\t\t\twhile ( meta_block_remaining_len > 0 ) {\n\t\t\t\t\t\t\t\tvar cmd_code;\n\t\t\t\t\t\t\t\tvar range_idx;\n\t\t\t\t\t\t\t\tvar insert_code;\n\t\t\t\t\t\t\t\tvar copy_code;\n\t\t\t\t\t\t\t\tvar insert_length;\n\t\t\t\t\t\t\t\tvar copy_length;\n\t\t\t\t\t\t\t\tvar distance_code;\n\t\t\t\t\t\t\t\tvar distance;\n\t\t\t\t\t\t\t\tvar context;\n\t\t\t\t\t\t\t\tvar j;\n\t\t\t\t\t\t\t\tvar copy_dst;\n\n\t\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\t\tif ( block_length[ 1 ] === 0 ) {\n\t\t\t\t\t\t\t\t\tDecodeBlockType(\n\t\t\t\t\t\t\t\t\t\tnum_block_types[ 1 ],\n\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\tblock_type,\n\t\t\t\t\t\t\t\t\t\tblock_type_rb,\n\t\t\t\t\t\t\t\t\t\tblock_type_rb_index,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tblock_length[ 1 ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\tHUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\thtree_command =\n\t\t\t\t\t\t\t\t\t\thgroup[ 1 ].htrees[ block_type[ 1 ] ];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t--block_length[ 1 ];\n\t\t\t\t\t\t\t\tcmd_code = ReadSymbol(\n\t\t\t\t\t\t\t\t\thgroup[ 1 ].codes,\n\t\t\t\t\t\t\t\t\thtree_command,\n\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\trange_idx = cmd_code >> 6;\n\t\t\t\t\t\t\t\tif ( range_idx >= 2 ) {\n\t\t\t\t\t\t\t\t\trange_idx -= 2;\n\t\t\t\t\t\t\t\t\tdistance_code = -1;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdistance_code = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinsert_code =\n\t\t\t\t\t\t\t\t\tPrefix.kInsertRangeLut[ range_idx ] +\n\t\t\t\t\t\t\t\t\t( ( cmd_code >> 3 ) & 7 );\n\t\t\t\t\t\t\t\tcopy_code =\n\t\t\t\t\t\t\t\t\tPrefix.kCopyRangeLut[ range_idx ] +\n\t\t\t\t\t\t\t\t\t( cmd_code & 7 );\n\t\t\t\t\t\t\t\tinsert_length =\n\t\t\t\t\t\t\t\t\tPrefix.kInsertLengthPrefixCode[\n\t\t\t\t\t\t\t\t\t\tinsert_code\n\t\t\t\t\t\t\t\t\t].offset +\n\t\t\t\t\t\t\t\t\tbr.readBits(\n\t\t\t\t\t\t\t\t\t\tPrefix.kInsertLengthPrefixCode[\n\t\t\t\t\t\t\t\t\t\t\tinsert_code\n\t\t\t\t\t\t\t\t\t\t].nbits\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tcopy_length =\n\t\t\t\t\t\t\t\t\tPrefix.kCopyLengthPrefixCode[ copy_code ]\n\t\t\t\t\t\t\t\t\t\t.offset +\n\t\t\t\t\t\t\t\t\tbr.readBits(\n\t\t\t\t\t\t\t\t\t\tPrefix.kCopyLengthPrefixCode[\n\t\t\t\t\t\t\t\t\t\t\tcopy_code\n\t\t\t\t\t\t\t\t\t\t].nbits\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tprev_byte1 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 1 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t\tprev_byte2 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 2 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t\tfor ( j = 0; j < insert_length; ++j ) {\n\t\t\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\t\t\tif ( block_length[ 0 ] === 0 ) {\n\t\t\t\t\t\t\t\t\t\tDecodeBlockType(\n\t\t\t\t\t\t\t\t\t\t\tnum_block_types[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\tblock_type,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb_index,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tblock_length[ 0 ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tcontext_offset =\n\t\t\t\t\t\t\t\t\t\t\tblock_type[ 0 ] <<\n\t\t\t\t\t\t\t\t\t\t\tkLiteralContextBits;\n\t\t\t\t\t\t\t\t\t\tcontext_map_slice = context_offset;\n\t\t\t\t\t\t\t\t\t\tcontext_mode =\n\t\t\t\t\t\t\t\t\t\t\tcontext_modes[ block_type[ 0 ] ];\n\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset1 =\n\t\t\t\t\t\t\t\t\t\t\tContext.lookupOffsets[\n\t\t\t\t\t\t\t\t\t\t\t\tcontext_mode\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset2 =\n\t\t\t\t\t\t\t\t\t\t\tContext.lookupOffsets[\n\t\t\t\t\t\t\t\t\t\t\t\tcontext_mode + 1\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontext =\n\t\t\t\t\t\t\t\t\t\tContext.lookup[\n\t\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset1 + prev_byte1\n\t\t\t\t\t\t\t\t\t\t] |\n\t\t\t\t\t\t\t\t\t\tContext.lookup[\n\t\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset2 + prev_byte2\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tliteral_htree_index =\n\t\t\t\t\t\t\t\t\t\tcontext_map[\n\t\t\t\t\t\t\t\t\t\t\tcontext_map_slice + context\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t--block_length[ 0 ];\n\t\t\t\t\t\t\t\t\tprev_byte2 = prev_byte1;\n\t\t\t\t\t\t\t\t\tprev_byte1 = ReadSymbol(\n\t\t\t\t\t\t\t\t\t\thgroup[ 0 ].codes,\n\t\t\t\t\t\t\t\t\t\thgroup[ 0 ].htrees[\n\t\t\t\t\t\t\t\t\t\t\tliteral_htree_index\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tringbuffer[ pos & ringbuffer_mask ] =\n\t\t\t\t\t\t\t\t\t\tprev_byte1;\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( pos & ringbuffer_mask ) ===\n\t\t\t\t\t\t\t\t\t\tringbuffer_mask\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\toutput.write(\n\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\tringbuffer_size\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t++pos;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmeta_block_remaining_len -= insert_length;\n\t\t\t\t\t\t\t\tif ( meta_block_remaining_len <= 0 ) break;\n\n\t\t\t\t\t\t\t\tif ( distance_code < 0 ) {\n\t\t\t\t\t\t\t\t\tvar context;\n\n\t\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\t\tif ( block_length[ 2 ] === 0 ) {\n\t\t\t\t\t\t\t\t\t\tDecodeBlockType(\n\t\t\t\t\t\t\t\t\t\t\tnum_block_types[ 2 ],\n\t\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\tblock_type,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb_index,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tblock_length[ 2 ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\t\t2 * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tdist_context_offset =\n\t\t\t\t\t\t\t\t\t\t\tblock_type[ 2 ] <<\n\t\t\t\t\t\t\t\t\t\t\tkDistanceContextBits;\n\t\t\t\t\t\t\t\t\t\tdist_context_map_slice =\n\t\t\t\t\t\t\t\t\t\t\tdist_context_offset;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t--block_length[ 2 ];\n\t\t\t\t\t\t\t\t\tcontext =\n\t\t\t\t\t\t\t\t\t\t( copy_length > 4\n\t\t\t\t\t\t\t\t\t\t\t? 3\n\t\t\t\t\t\t\t\t\t\t\t: copy_length - 2 ) & 0xff;\n\t\t\t\t\t\t\t\t\tdist_htree_index =\n\t\t\t\t\t\t\t\t\t\tdist_context_map[\n\t\t\t\t\t\t\t\t\t\t\tdist_context_map_slice + context\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tdistance_code = ReadSymbol(\n\t\t\t\t\t\t\t\t\t\thgroup[ 2 ].codes,\n\t\t\t\t\t\t\t\t\t\thgroup[ 2 ].htrees[ dist_htree_index ],\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tdistance_code >=\n\t\t\t\t\t\t\t\t\t\tnum_direct_distance_codes\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tvar nbits;\n\t\t\t\t\t\t\t\t\t\tvar postfix;\n\t\t\t\t\t\t\t\t\t\tvar offset;\n\t\t\t\t\t\t\t\t\t\tdistance_code -=\n\t\t\t\t\t\t\t\t\t\t\tnum_direct_distance_codes;\n\t\t\t\t\t\t\t\t\t\tpostfix =\n\t\t\t\t\t\t\t\t\t\t\tdistance_code &\n\t\t\t\t\t\t\t\t\t\t\tdistance_postfix_mask;\n\t\t\t\t\t\t\t\t\t\tdistance_code >>= distance_postfix_bits;\n\t\t\t\t\t\t\t\t\t\tnbits = ( distance_code >> 1 ) + 1;\n\t\t\t\t\t\t\t\t\t\toffset =\n\t\t\t\t\t\t\t\t\t\t\t( ( 2 + ( distance_code & 1 ) ) <<\n\t\t\t\t\t\t\t\t\t\t\t\tnbits ) -\n\t\t\t\t\t\t\t\t\t\t\t4;\n\t\t\t\t\t\t\t\t\t\tdistance_code =\n\t\t\t\t\t\t\t\t\t\t\tnum_direct_distance_codes +\n\t\t\t\t\t\t\t\t\t\t\t( ( offset +\n\t\t\t\t\t\t\t\t\t\t\t\tbr.readBits( nbits ) ) <<\n\t\t\t\t\t\t\t\t\t\t\t\tdistance_postfix_bits ) +\n\t\t\t\t\t\t\t\t\t\t\tpostfix;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Convert the distance code to the actual distance by possibly looking */\n\t\t\t\t\t\t\t\t/* up past distnaces from the ringbuffer. */\n\t\t\t\t\t\t\t\tdistance = TranslateShortCodes(\n\t\t\t\t\t\t\t\t\tdistance_code,\n\t\t\t\t\t\t\t\t\tdist_rb,\n\t\t\t\t\t\t\t\t\tdist_rb_idx\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif ( distance < 0 ) {\n\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t'[BrotliDecompress] invalid distance'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tpos < max_backward_distance &&\n\t\t\t\t\t\t\t\t\tmax_distance !== max_backward_distance\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tmax_distance = pos;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmax_distance = max_backward_distance;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcopy_dst = pos & ringbuffer_mask;\n\n\t\t\t\t\t\t\t\tif ( distance > max_distance ) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tcopy_length >=\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.minDictionaryWordLength &&\n\t\t\t\t\t\t\t\t\t\tcopy_length <=\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.maxDictionaryWordLength\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tvar offset =\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.offsetsByLength[\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tvar word_id =\n\t\t\t\t\t\t\t\t\t\t\tdistance - max_distance - 1;\n\t\t\t\t\t\t\t\t\t\tvar shift =\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.sizeBitsByLength[\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tvar mask = ( 1 << shift ) - 1;\n\t\t\t\t\t\t\t\t\t\tvar word_idx = word_id & mask;\n\t\t\t\t\t\t\t\t\t\tvar transform_idx = word_id >> shift;\n\t\t\t\t\t\t\t\t\t\toffset += word_idx * copy_length;\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\ttransform_idx <\n\t\t\t\t\t\t\t\t\t\t\tTransform.kNumTransforms\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tvar len =\n\t\t\t\t\t\t\t\t\t\t\t\tTransform.transformDictionaryWord(\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_dst,\n\t\t\t\t\t\t\t\t\t\t\t\t\toffset,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_length,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform_idx\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tcopy_dst += len;\n\t\t\t\t\t\t\t\t\t\t\tpos += len;\n\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len -= len;\n\t\t\t\t\t\t\t\t\t\t\tif ( copy_dst >= ringbuffer_end ) {\n\t\t\t\t\t\t\t\t\t\t\t\toutput.write(\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_size\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar _x = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t_x <\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_dst - ringbuffer_end;\n\t\t\t\t\t\t\t\t\t\t\t\t\t_x++\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer[ _x ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_end + _x\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t\t'Invalid backward reference. pos: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tpos +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' distance: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tdistance +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' len: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_length +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' bytes left: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'Invalid backward reference. pos: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tpos +\n\t\t\t\t\t\t\t\t\t\t\t\t' distance: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tdistance +\n\t\t\t\t\t\t\t\t\t\t\t\t' len: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length +\n\t\t\t\t\t\t\t\t\t\t\t\t' bytes left: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif ( distance_code > 0 ) {\n\t\t\t\t\t\t\t\t\t\tdist_rb[ dist_rb_idx & 3 ] = distance;\n\t\t\t\t\t\t\t\t\t\t++dist_rb_idx;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tcopy_length > meta_block_remaining_len\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'Invalid backward reference. pos: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tpos +\n\t\t\t\t\t\t\t\t\t\t\t\t' distance: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tdistance +\n\t\t\t\t\t\t\t\t\t\t\t\t' len: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length +\n\t\t\t\t\t\t\t\t\t\t\t\t' bytes left: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor ( j = 0; j < copy_length; ++j ) {\n\t\t\t\t\t\t\t\t\t\tringbuffer[ pos & ringbuffer_mask ] =\n\t\t\t\t\t\t\t\t\t\t\tringbuffer[\n\t\t\t\t\t\t\t\t\t\t\t\t( pos - distance ) &\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_mask\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t( pos & ringbuffer_mask ) ===\n\t\t\t\t\t\t\t\t\t\t\tringbuffer_mask\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\toutput.write(\n\t\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_size\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t++pos;\n\t\t\t\t\t\t\t\t\t\t--meta_block_remaining_len;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* When we get here, we must have inserted at least one literal and */\n\t\t\t\t\t\t\t\t/* made a copy of at least length two, therefore accessing the last 2 */\n\t\t\t\t\t\t\t\t/* bytes is valid. */\n\t\t\t\t\t\t\t\tprev_byte1 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 1 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t\tprev_byte2 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 2 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* Protect pos from overflow, wrap it around at every GB of input data */\n\t\t\t\t\t\t\tpos &= 0x3fffffff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toutput.write( ringbuffer, pos & ringbuffer_mask );\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliDecompress = BrotliDecompress;\n\n\t\t\t\t\tBrotliDictionary.init();\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'./bit_reader': 1,\n\t\t\t\t\t'./context': 2,\n\t\t\t\t\t'./dictionary': 6,\n\t\t\t\t\t'./huffman': 7,\n\t\t\t\t\t'./prefix': 9,\n\t\t\t\t\t'./streams': 10,\n\t\t\t\t\t'./transform': 11,\n\t\t\t\t},\n\t\t\t],\n\t\t\t4: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tvar base64 = require( 'base64-js' );\n\t\t\t\t\t//var fs = require('fs');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * The normal dictionary-data.js is quite large, which makes it\n\t\t\t\t\t * unsuitable for browser usage. In order to make it smaller,\n\t\t\t\t\t * we read dictionary.bin, which is a compressed version of\n\t\t\t\t\t * the dictionary, and on initial load, Brotli decompresses\n\t\t\t\t\t * it's own dictionary. \uD83D\uDE1C\n\t\t\t\t\t */\n\t\t\t\t\texports.init = function () {\n\t\t\t\t\t\tvar BrotliDecompressBuffer =\n\t\t\t\t\t\t\trequire( './decode' ).BrotliDecompressBuffer;\n\t\t\t\t\t\tvar compressed = base64.toByteArray(\n\t\t\t\t\t\t\trequire( './dictionary.bin.js' )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn BrotliDecompressBuffer( compressed );\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ './decode': 3, './dictionary.bin.js': 5, 'base64-js': 8 },\n\t\t\t],\n\t\t\t5: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tmodule.exports =\n\t\t\t\t\t\t'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';\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t6: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Collection of static dictionary words.\n*/\n\n\t\t\t\t\tvar data = require( './dictionary-browser' );\n\t\t\t\t\texports.init = function () {\n\t\t\t\t\t\texports.dictionary = data.init();\n\t\t\t\t\t};\n\n\t\t\t\t\texports.offsetsByLength = new Uint32Array( [\n\t\t\t\t\t\t0, 0, 0, 0, 0, 4096, 9216, 21504, 35840, 44032, 53248,\n\t\t\t\t\t\t63488, 74752, 87040, 93696, 100864, 104704, 106752,\n\t\t\t\t\t\t108928, 113536, 115968, 118528, 119872, 121280, 122016,\n\t\t\t\t\t] );\n\n\t\t\t\t\texports.sizeBitsByLength = new Uint8Array( [\n\t\t\t\t\t\t0, 0, 0, 0, 10, 10, 11, 11, 10, 10, 10, 10, 10, 9, 9, 8,\n\t\t\t\t\t\t7, 7, 8, 7, 7, 6, 6, 5, 5,\n\t\t\t\t\t] );\n\n\t\t\t\t\texports.minDictionaryWordLength = 4;\n\t\t\t\t\texports.maxDictionaryWordLength = 24;\n\t\t\t\t},\n\t\t\t\t{ './dictionary-browser': 4 },\n\t\t\t],\n\t\t\t7: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tfunction HuffmanCode( bits, value ) {\n\t\t\t\t\t\tthis.bits =\n\t\t\t\t\t\t\tbits; /* number of bits used for this symbol */\n\t\t\t\t\t\tthis.value = value; /* symbol value or table offset */\n\t\t\t\t\t}\n\n\t\t\t\t\texports.HuffmanCode = HuffmanCode;\n\n\t\t\t\t\tvar MAX_LENGTH = 15;\n\n\t\t\t\t\t/* Returns reverse(reverse(key, len) + 1, len), where reverse(key, len) is the\n   bit-wise reversal of the len least significant bits of key. */\n\t\t\t\t\tfunction GetNextKey( key, len ) {\n\t\t\t\t\t\tvar step = 1 << ( len - 1 );\n\t\t\t\t\t\twhile ( key & step ) {\n\t\t\t\t\t\t\tstep >>= 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ( key & ( step - 1 ) ) + step;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Stores code in table[0], table[step], table[2*step], ..., table[end] */\n\t\t\t\t\t/* Assumes that end is an integer multiple of step */\n\t\t\t\t\tfunction ReplicateValue( table, i, step, end, code ) {\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tend -= step;\n\t\t\t\t\t\t\ttable[ i + end ] = new HuffmanCode(\n\t\t\t\t\t\t\t\tcode.bits,\n\t\t\t\t\t\t\t\tcode.value\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} while ( end > 0 );\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Returns the table width of the next 2nd level table. count is the histogram\n   of bit lengths for the remaining symbols, len is the code length of the next\n   processed symbol */\n\t\t\t\t\tfunction NextTableBitSize( count, len, root_bits ) {\n\t\t\t\t\t\tvar left = 1 << ( len - root_bits );\n\t\t\t\t\t\twhile ( len < MAX_LENGTH ) {\n\t\t\t\t\t\t\tleft -= count[ len ];\n\t\t\t\t\t\t\tif ( left <= 0 ) break;\n\t\t\t\t\t\t\t++len;\n\t\t\t\t\t\t\tleft <<= 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn len - root_bits;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliBuildHuffmanTable = function (\n\t\t\t\t\t\troot_table,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\troot_bits,\n\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\tcode_lengths_size\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar start_table = table;\n\t\t\t\t\t\tvar code; /* current table entry */\n\t\t\t\t\t\tvar len; /* current code length */\n\t\t\t\t\t\tvar symbol; /* symbol index in original or sorted table */\n\t\t\t\t\t\tvar key; /* reversed prefix code */\n\t\t\t\t\t\tvar step; /* step size to replicate values in current table */\n\t\t\t\t\t\tvar low; /* low bits for current root entry */\n\t\t\t\t\t\tvar mask; /* mask for low bits */\n\t\t\t\t\t\tvar table_bits; /* key length of current table */\n\t\t\t\t\t\tvar table_size; /* size of current table */\n\t\t\t\t\t\tvar total_size; /* sum of root table size and 2nd level table sizes */\n\t\t\t\t\t\tvar sorted; /* symbols sorted by code length */\n\t\t\t\t\t\tvar count = new Int32Array(\n\t\t\t\t\t\t\tMAX_LENGTH + 1\n\t\t\t\t\t\t); /* number of codes of each length */\n\t\t\t\t\t\tvar offset = new Int32Array(\n\t\t\t\t\t\t\tMAX_LENGTH + 1\n\t\t\t\t\t\t); /* offsets in sorted table for each length */\n\n\t\t\t\t\t\tsorted = new Int32Array( code_lengths_size );\n\n\t\t\t\t\t\t/* build histogram of code lengths */\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tsymbol = 0;\n\t\t\t\t\t\t\tsymbol < code_lengths_size;\n\t\t\t\t\t\t\tsymbol++\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcount[ code_lengths[ symbol ] ]++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* generate offsets into sorted symbol table by code length */\n\t\t\t\t\t\toffset[ 1 ] = 0;\n\t\t\t\t\t\tfor ( len = 1; len < MAX_LENGTH; len++ ) {\n\t\t\t\t\t\t\toffset[ len + 1 ] = offset[ len ] + count[ len ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* sort symbols by length, by symbol order within each length */\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tsymbol = 0;\n\t\t\t\t\t\t\tsymbol < code_lengths_size;\n\t\t\t\t\t\t\tsymbol++\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif ( code_lengths[ symbol ] !== 0 ) {\n\t\t\t\t\t\t\t\tsorted[ offset[ code_lengths[ symbol ] ]++ ] =\n\t\t\t\t\t\t\t\t\tsymbol;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable_bits = root_bits;\n\t\t\t\t\t\ttable_size = 1 << table_bits;\n\t\t\t\t\t\ttotal_size = table_size;\n\n\t\t\t\t\t\t/* special case code with only one value */\n\t\t\t\t\t\tif ( offset[ MAX_LENGTH ] === 1 ) {\n\t\t\t\t\t\t\tfor ( key = 0; key < total_size; ++key ) {\n\t\t\t\t\t\t\t\troot_table[ table + key ] = new HuffmanCode(\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tsorted[ 0 ] & 0xffff\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn total_size;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* fill in root table */\n\t\t\t\t\t\tkey = 0;\n\t\t\t\t\t\tsymbol = 0;\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tlen = 1, step = 2;\n\t\t\t\t\t\t\tlen <= root_bits;\n\t\t\t\t\t\t\t++len, step <<= 1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor ( ; count[ len ] > 0; --count[ len ] ) {\n\t\t\t\t\t\t\t\tcode = new HuffmanCode(\n\t\t\t\t\t\t\t\t\tlen & 0xff,\n\t\t\t\t\t\t\t\t\tsorted[ symbol++ ] & 0xffff\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tReplicateValue(\n\t\t\t\t\t\t\t\t\troot_table,\n\t\t\t\t\t\t\t\t\ttable + key,\n\t\t\t\t\t\t\t\t\tstep,\n\t\t\t\t\t\t\t\t\ttable_size,\n\t\t\t\t\t\t\t\t\tcode\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tkey = GetNextKey( key, len );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* fill in 2nd level tables and add pointers to root table */\n\t\t\t\t\t\tmask = total_size - 1;\n\t\t\t\t\t\tlow = -1;\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tlen = root_bits + 1, step = 2;\n\t\t\t\t\t\t\tlen <= MAX_LENGTH;\n\t\t\t\t\t\t\t++len, step <<= 1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor ( ; count[ len ] > 0; --count[ len ] ) {\n\t\t\t\t\t\t\t\tif ( ( key & mask ) !== low ) {\n\t\t\t\t\t\t\t\t\ttable += table_size;\n\t\t\t\t\t\t\t\t\ttable_bits = NextTableBitSize(\n\t\t\t\t\t\t\t\t\t\tcount,\n\t\t\t\t\t\t\t\t\t\tlen,\n\t\t\t\t\t\t\t\t\t\troot_bits\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\ttable_size = 1 << table_bits;\n\t\t\t\t\t\t\t\t\ttotal_size += table_size;\n\t\t\t\t\t\t\t\t\tlow = key & mask;\n\t\t\t\t\t\t\t\t\troot_table[ start_table + low ] =\n\t\t\t\t\t\t\t\t\t\tnew HuffmanCode(\n\t\t\t\t\t\t\t\t\t\t\t( table_bits + root_bits ) & 0xff,\n\t\t\t\t\t\t\t\t\t\t\t( table - start_table - low ) &\n\t\t\t\t\t\t\t\t\t\t\t\t0xffff\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcode = new HuffmanCode(\n\t\t\t\t\t\t\t\t\t( len - root_bits ) & 0xff,\n\t\t\t\t\t\t\t\t\tsorted[ symbol++ ] & 0xffff\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tReplicateValue(\n\t\t\t\t\t\t\t\t\troot_table,\n\t\t\t\t\t\t\t\t\ttable + ( key >> root_bits ),\n\t\t\t\t\t\t\t\t\tstep,\n\t\t\t\t\t\t\t\t\ttable_size,\n\t\t\t\t\t\t\t\t\tcode\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tkey = GetNextKey( key, len );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn total_size;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t8: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\texports.byteLength = byteLength;\n\t\t\t\t\texports.toByteArray = toByteArray;\n\t\t\t\t\texports.fromByteArray = fromByteArray;\n\n\t\t\t\t\tvar lookup = [];\n\t\t\t\t\tvar revLookup = [];\n\t\t\t\t\tvar Arr =\n\t\t\t\t\t\ttypeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n\n\t\t\t\t\tvar code =\n\t\t\t\t\t\t'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t\t\t\tfor ( var i = 0, len = code.length; i < len; ++i ) {\n\t\t\t\t\t\tlookup[ i ] = code[ i ];\n\t\t\t\t\t\trevLookup[ code.charCodeAt( i ) ] = i;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support decoding URL-safe base64 strings, as Node.js does.\n\t\t\t\t\t// See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\t\t\t\t\trevLookup[ '-'.charCodeAt( 0 ) ] = 62;\n\t\t\t\t\trevLookup[ '_'.charCodeAt( 0 ) ] = 63;\n\n\t\t\t\t\tfunction getLens( b64 ) {\n\t\t\t\t\t\tvar len = b64.length;\n\n\t\t\t\t\t\tif ( len % 4 > 0 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'Invalid string. Length must be a multiple of 4'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Trim off extra bytes after placeholder bytes are found\n\t\t\t\t\t\t// See: https://github.com/beatgammit/base64-js/issues/42\n\t\t\t\t\t\tvar validLen = b64.indexOf( '=' );\n\t\t\t\t\t\tif ( validLen === -1 ) validLen = len;\n\n\t\t\t\t\t\tvar placeHoldersLen =\n\t\t\t\t\t\t\tvalidLen === len ? 0 : 4 - ( validLen % 4 );\n\n\t\t\t\t\t\treturn [ validLen, placeHoldersLen ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// base64 is 4/3 + up to two characters of the original data\n\t\t\t\t\tfunction byteLength( b64 ) {\n\t\t\t\t\t\tvar lens = getLens( b64 );\n\t\t\t\t\t\tvar validLen = lens[ 0 ];\n\t\t\t\t\t\tvar placeHoldersLen = lens[ 1 ];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t( ( validLen + placeHoldersLen ) * 3 ) / 4 -\n\t\t\t\t\t\t\tplaceHoldersLen\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction _byteLength( b64, validLen, placeHoldersLen ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t( ( validLen + placeHoldersLen ) * 3 ) / 4 -\n\t\t\t\t\t\t\tplaceHoldersLen\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction toByteArray( b64 ) {\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tvar lens = getLens( b64 );\n\t\t\t\t\t\tvar validLen = lens[ 0 ];\n\t\t\t\t\t\tvar placeHoldersLen = lens[ 1 ];\n\n\t\t\t\t\t\tvar arr = new Arr(\n\t\t\t\t\t\t\t_byteLength( b64, validLen, placeHoldersLen )\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tvar curByte = 0;\n\n\t\t\t\t\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\t\t\t\t\tvar len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n\n\t\t\t\t\t\tfor ( var i = 0; i < len; i += 4 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i ) ] << 18 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 1 ) ] << 12 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 2 ) ] << 6 ) |\n\t\t\t\t\t\t\t\trevLookup[ b64.charCodeAt( i + 3 ) ];\n\t\t\t\t\t\t\tarr[ curByte++ ] = ( tmp >> 16 ) & 0xff;\n\t\t\t\t\t\t\tarr[ curByte++ ] = ( tmp >> 8 ) & 0xff;\n\t\t\t\t\t\t\tarr[ curByte++ ] = tmp & 0xff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( placeHoldersLen === 2 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i ) ] << 2 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 1 ) ] >> 4 );\n\t\t\t\t\t\t\tarr[ curByte++ ] = tmp & 0xff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( placeHoldersLen === 1 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i ) ] << 10 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 1 ) ] << 4 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 2 ) ] >> 2 );\n\t\t\t\t\t\t\tarr[ curByte++ ] = ( tmp >> 8 ) & 0xff;\n\t\t\t\t\t\t\tarr[ curByte++ ] = tmp & 0xff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn arr;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction tripletToBase64( num ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tlookup[ ( num >> 18 ) & 0x3f ] +\n\t\t\t\t\t\t\tlookup[ ( num >> 12 ) & 0x3f ] +\n\t\t\t\t\t\t\tlookup[ ( num >> 6 ) & 0x3f ] +\n\t\t\t\t\t\t\tlookup[ num & 0x3f ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction encodeChunk( uint8, start, end ) {\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\tfor ( var i = start; i < end; i += 3 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( ( uint8[ i ] << 16 ) & 0xff0000 ) +\n\t\t\t\t\t\t\t\t( ( uint8[ i + 1 ] << 8 ) & 0xff00 ) +\n\t\t\t\t\t\t\t\t( uint8[ i + 2 ] & 0xff );\n\t\t\t\t\t\t\toutput.push( tripletToBase64( tmp ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn output.join( '' );\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction fromByteArray( uint8 ) {\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tvar len = uint8.length;\n\t\t\t\t\t\tvar extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\t\t\t\t\t\tvar parts = [];\n\t\t\t\t\t\tvar maxChunkLength = 16383; // must be multiple of 3\n\n\t\t\t\t\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar i = 0, len2 = len - extraBytes;\n\t\t\t\t\t\t\ti < len2;\n\t\t\t\t\t\t\ti += maxChunkLength\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t\tencodeChunk(\n\t\t\t\t\t\t\t\t\tuint8,\n\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\ti + maxChunkLength > len2\n\t\t\t\t\t\t\t\t\t\t? len2\n\t\t\t\t\t\t\t\t\t\t: i + maxChunkLength\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\t\t\t\t\tif ( extraBytes === 1 ) {\n\t\t\t\t\t\t\ttmp = uint8[ len - 1 ];\n\t\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t\tlookup[ tmp >> 2 ] +\n\t\t\t\t\t\t\t\t\tlookup[ ( tmp << 4 ) & 0x3f ] +\n\t\t\t\t\t\t\t\t\t'=='\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( extraBytes === 2 ) {\n\t\t\t\t\t\t\ttmp = ( uint8[ len - 2 ] << 8 ) + uint8[ len - 1 ];\n\t\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t\tlookup[ tmp >> 10 ] +\n\t\t\t\t\t\t\t\t\tlookup[ ( tmp >> 4 ) & 0x3f ] +\n\t\t\t\t\t\t\t\t\tlookup[ ( tmp << 2 ) & 0x3f ] +\n\t\t\t\t\t\t\t\t\t'='\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn parts.join( '' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t9: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Lookup tables to map prefix codes to value ranges. This is used during\n   decoding of the block lengths, literal insertion lengths and copy lengths.\n*/\n\n\t\t\t\t\t/* Represents the range of values belonging to a prefix code: */\n\t\t\t\t\t/* [offset, offset + 2^nbits) */\n\t\t\t\t\tfunction PrefixCodeRange( offset, nbits ) {\n\t\t\t\t\t\tthis.offset = offset;\n\t\t\t\t\t\tthis.nbits = nbits;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.kBlockLengthPrefixCode = [\n\t\t\t\t\t\tnew PrefixCodeRange( 1, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 5, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 9, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 13, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 17, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 25, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 33, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 41, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 49, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 65, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 81, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 97, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 113, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 145, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 177, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 209, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 241, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 305, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 369, 7 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 497, 8 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 753, 9 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1265, 10 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2289, 11 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 4337, 12 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 8433, 13 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 16625, 24 ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kInsertLengthPrefixCode = [\n\t\t\t\t\t\tnew PrefixCodeRange( 0, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 3, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 4, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 5, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 6, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 8, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 10, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 14, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 18, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 26, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 34, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 50, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 66, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 98, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 130, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 194, 7 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 322, 8 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 578, 9 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1090, 10 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2114, 12 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 6210, 14 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 22594, 24 ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kCopyLengthPrefixCode = [\n\t\t\t\t\t\tnew PrefixCodeRange( 2, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 3, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 4, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 5, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 6, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 7, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 8, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 9, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 10, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 12, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 14, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 18, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 22, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 30, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 38, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 54, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 70, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 102, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 134, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 198, 7 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 326, 8 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 582, 9 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1094, 10 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2118, 24 ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kInsertRangeLut = [ 0, 0, 8, 8, 0, 16, 8, 16, 16 ];\n\n\t\t\t\t\texports.kCopyRangeLut = [ 0, 8, 0, 8, 16, 0, 16, 8, 16 ];\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t10: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tfunction BrotliInput( buffer ) {\n\t\t\t\t\t\tthis.buffer = buffer;\n\t\t\t\t\t\tthis.pos = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tBrotliInput.prototype.read = function ( buf, i, count ) {\n\t\t\t\t\t\tif ( this.pos + count > this.buffer.length ) {\n\t\t\t\t\t\t\tcount = this.buffer.length - this.pos;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( var p = 0; p < count; p++ )\n\t\t\t\t\t\t\tbuf[ i + p ] = this.buffer[ this.pos + p ];\n\n\t\t\t\t\t\tthis.pos += count;\n\t\t\t\t\t\treturn count;\n\t\t\t\t\t};\n\n\t\t\t\t\texports.BrotliInput = BrotliInput;\n\n\t\t\t\t\tfunction BrotliOutput( buf ) {\n\t\t\t\t\t\tthis.buffer = buf;\n\t\t\t\t\t\tthis.pos = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tBrotliOutput.prototype.write = function ( buf, count ) {\n\t\t\t\t\t\tif ( this.pos + count > this.buffer.length )\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'Output buffer is not large enough'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tthis.buffer.set( buf.subarray( 0, count ), this.pos );\n\t\t\t\t\t\tthis.pos += count;\n\t\t\t\t\t\treturn count;\n\t\t\t\t\t};\n\n\t\t\t\t\texports.BrotliOutput = BrotliOutput;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t11: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Transformations on dictionary words.\n*/\n\n\t\t\t\t\tvar BrotliDictionary = require( './dictionary' );\n\n\t\t\t\t\tvar kIdentity = 0;\n\t\t\t\t\tvar kOmitLast1 = 1;\n\t\t\t\t\tvar kOmitLast2 = 2;\n\t\t\t\t\tvar kOmitLast3 = 3;\n\t\t\t\t\tvar kOmitLast4 = 4;\n\t\t\t\t\tvar kOmitLast5 = 5;\n\t\t\t\t\tvar kOmitLast6 = 6;\n\t\t\t\t\tvar kOmitLast7 = 7;\n\t\t\t\t\tvar kOmitLast8 = 8;\n\t\t\t\t\tvar kOmitLast9 = 9;\n\t\t\t\t\tvar kUppercaseFirst = 10;\n\t\t\t\t\tvar kUppercaseAll = 11;\n\t\t\t\t\tvar kOmitFirst1 = 12;\n\t\t\t\t\tvar kOmitFirst2 = 13;\n\t\t\t\t\tvar kOmitFirst3 = 14;\n\t\t\t\t\tvar kOmitFirst4 = 15;\n\t\t\t\t\tvar kOmitFirst5 = 16;\n\t\t\t\t\tvar kOmitFirst6 = 17;\n\t\t\t\t\tvar kOmitFirst7 = 18;\n\t\t\t\t\tvar kOmitFirst8 = 19;\n\t\t\t\t\tvar kOmitFirst9 = 20;\n\n\t\t\t\t\tfunction Transform( prefix, transform, suffix ) {\n\t\t\t\t\t\tthis.prefix = new Uint8Array( prefix.length );\n\t\t\t\t\t\tthis.transform = transform;\n\t\t\t\t\t\tthis.suffix = new Uint8Array( suffix.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < prefix.length; i++ )\n\t\t\t\t\t\t\tthis.prefix[ i ] = prefix.charCodeAt( i );\n\n\t\t\t\t\t\tfor ( var i = 0; i < suffix.length; i++ )\n\t\t\t\t\t\t\tthis.suffix[ i ] = suffix.charCodeAt( i );\n\t\t\t\t\t}\n\n\t\t\t\t\tvar kTransforms = [\n\t\t\t\t\t\tnew Transform( '', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst1, '' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' the ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( 's ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' of ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' and ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst2, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast1, '' ),\n\t\t\t\t\t\tnew Transform( ', ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ', ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' in ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' to ' ),\n\t\t\t\t\t\tnew Transform( 'e ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\"' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '.' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\">' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\\n' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast3, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ']' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' for ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst3, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast2, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' a ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' that ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '. ' ),\n\t\t\t\t\t\tnew Transform( '.', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst4, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' with ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, \"'\" ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' from ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' by ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst5, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst6, '' ),\n\t\t\t\t\t\tnew Transform( ' the ', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast4, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '. The ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' on ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' as ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' is ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast7, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast1, 'ing ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\\n\\t' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ':' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '. ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ed ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst9, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst7, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast6, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast8, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' at ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ly ' ),\n\t\t\t\t\t\tnew Transform( ' the ', kIdentity, ' of ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast5, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast9, '' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '\"' ),\n\t\t\t\t\t\tnew Transform( '.', kIdentity, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '\">' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '=\"' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '.' ),\n\t\t\t\t\t\tnew Transform( '.com/', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( ' the ', kIdentity, ' of the ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, \"'\" ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '. This ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ',' ),\n\t\t\t\t\t\tnew Transform( '.', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '.' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' not ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '=\"' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'er ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'al ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, \"='\" ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '\"' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '. ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '(' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ful ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '. ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ive ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'less ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, \"'\" ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'est ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '.' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '\">' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, \"='\" ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, ',' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ize ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '.' ),\n\t\t\t\t\t\tnew Transform( '\\xc2\\xa0', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, ',' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '=\"' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '=\"' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ous ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, \"='\" ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, ',' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '=\"' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, ',' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '. ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '.' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, \"='\" ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '. ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '=\"' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, \"='\" ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, \"='\" ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kTransforms = kTransforms;\n\t\t\t\t\texports.kNumTransforms = kTransforms.length;\n\n\t\t\t\t\tfunction ToUpperCase( p, i ) {\n\t\t\t\t\t\tif ( p[ i ] < 0xc0 ) {\n\t\t\t\t\t\t\tif ( p[ i ] >= 97 && p[ i ] <= 122 ) {\n\t\t\t\t\t\t\t\tp[ i ] ^= 32;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* An overly simplified uppercasing model for utf-8. */\n\t\t\t\t\t\tif ( p[ i ] < 0xe0 ) {\n\t\t\t\t\t\t\tp[ i + 1 ] ^= 32;\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* An arbitrary transform for three byte characters. */\n\t\t\t\t\t\tp[ i + 2 ] ^= 5;\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.transformDictionaryWord = function (\n\t\t\t\t\t\tdst,\n\t\t\t\t\t\tidx,\n\t\t\t\t\t\tword,\n\t\t\t\t\t\tlen,\n\t\t\t\t\t\ttransform\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar prefix = kTransforms[ transform ].prefix;\n\t\t\t\t\t\tvar suffix = kTransforms[ transform ].suffix;\n\t\t\t\t\t\tvar t = kTransforms[ transform ].transform;\n\t\t\t\t\t\tvar skip =\n\t\t\t\t\t\t\tt < kOmitFirst1 ? 0 : t - ( kOmitFirst1 - 1 );\n\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\tvar start_idx = idx;\n\t\t\t\t\t\tvar uppercase;\n\n\t\t\t\t\t\tif ( skip > len ) {\n\t\t\t\t\t\t\tskip = len;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar prefix_pos = 0;\n\t\t\t\t\t\twhile ( prefix_pos < prefix.length ) {\n\t\t\t\t\t\t\tdst[ idx++ ] = prefix[ prefix_pos++ ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tword += skip;\n\t\t\t\t\t\tlen -= skip;\n\n\t\t\t\t\t\tif ( t <= kOmitLast9 ) {\n\t\t\t\t\t\t\tlen -= t;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\tdst[ idx++ ] =\n\t\t\t\t\t\t\t\tBrotliDictionary.dictionary[ word + i ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tuppercase = idx - len;\n\n\t\t\t\t\t\tif ( t === kUppercaseFirst ) {\n\t\t\t\t\t\t\tToUpperCase( dst, uppercase );\n\t\t\t\t\t\t} else if ( t === kUppercaseAll ) {\n\t\t\t\t\t\t\twhile ( len > 0 ) {\n\t\t\t\t\t\t\t\tvar step = ToUpperCase( dst, uppercase );\n\t\t\t\t\t\t\t\tuppercase += step;\n\t\t\t\t\t\t\t\tlen -= step;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar suffix_pos = 0;\n\t\t\t\t\t\twhile ( suffix_pos < suffix.length ) {\n\t\t\t\t\t\t\tdst[ idx++ ] = suffix[ suffix_pos++ ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn idx - start_idx;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ './dictionary': 6 },\n\t\t\t],\n\t\t\t12: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tmodule.exports =\n\t\t\t\t\t\trequire( './dec/decode' ).BrotliDecompressBuffer;\n\t\t\t\t},\n\t\t\t\t{ './dec/decode': 3 },\n\t\t\t],\n\t\t},\n\t\t{},\n\t\t[ 12 ]\n\t)( 12 );\n} );\n/* eslint-enable */\n", "/**\n * Credits:\n *\n * lib-font\n * https://github.com/Pomax/lib-font\n * https://github.com/Pomax/lib-font/blob/master/lib/inflate.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 pomax@nihongoresources.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint eslint-comments/no-unlimited-disable: 0 */\n/* eslint-disable */\n/* pako 1.0.10 nodeca/pako */ ( function ( f ) {\n\tif ( typeof exports === 'object' && typeof module !== 'undefined' ) {\n\t\tmodule.exports = f();\n\t} else if ( typeof define === 'function' && define.amd ) {\n\t\tdefine( [], f );\n\t} else {\n\t\tvar g;\n\t\tif ( typeof window !== 'undefined' ) {\n\t\t\tg = window;\n\t\t} else if ( typeof global !== 'undefined' ) {\n\t\t\tg = global;\n\t\t} else if ( typeof self !== 'undefined' ) {\n\t\t\tg = self;\n\t\t} else {\n\t\t\tg = this;\n\t\t}\n\t\tg.pako = f();\n\t}\n} )( function () {\n\tvar define, module, exports;\n\treturn ( function () {\n\t\tfunction r( e, n, t ) {\n\t\t\tfunction o( i, f ) {\n\t\t\t\tif ( ! n[ i ] ) {\n\t\t\t\t\tif ( ! e[ i ] ) {\n\t\t\t\t\t\tvar c = 'function' == typeof require && require;\n\t\t\t\t\t\tif ( ! f && c ) return c( i, ! 0 );\n\t\t\t\t\t\tif ( u ) return u( i, ! 0 );\n\t\t\t\t\t\tvar a = new Error( \"Cannot find module '\" + i + \"'\" );\n\t\t\t\t\t\tthrow ( ( a.code = 'MODULE_NOT_FOUND' ), a );\n\t\t\t\t\t}\n\t\t\t\t\tvar p = ( n[ i ] = { exports: {} } );\n\t\t\t\t\te[ i ][ 0 ].call(\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tfunction ( r ) {\n\t\t\t\t\t\t\tvar n = e[ i ][ 1 ][ r ];\n\t\t\t\t\t\t\treturn o( n || r );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tp,\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tr,\n\t\t\t\t\t\te,\n\t\t\t\t\t\tn,\n\t\t\t\t\t\tt\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn n[ i ].exports;\n\t\t\t}\n\t\t\tfor (\n\t\t\t\tvar u = 'function' == typeof require && require, i = 0;\n\t\t\t\ti < t.length;\n\t\t\t\ti++\n\t\t\t)\n\t\t\t\to( t[ i ] );\n\t\t\treturn o;\n\t\t}\n\t\treturn r;\n\t} )()(\n\t\t{\n\t\t\t1: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\tvar TYPED_OK =\n\t\t\t\t\t\ttypeof Uint8Array !== 'undefined' &&\n\t\t\t\t\t\ttypeof Uint16Array !== 'undefined' &&\n\t\t\t\t\t\ttypeof Int32Array !== 'undefined';\n\n\t\t\t\t\tfunction _has( obj, key ) {\n\t\t\t\t\t\treturn Object.prototype.hasOwnProperty.call( obj, key );\n\t\t\t\t\t}\n\n\t\t\t\t\texports.assign = function (\n\t\t\t\t\t\tobj /*from1, from2, from3, ...*/\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar sources = Array.prototype.slice.call(\n\t\t\t\t\t\t\targuments,\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t);\n\t\t\t\t\t\twhile ( sources.length ) {\n\t\t\t\t\t\t\tvar source = sources.shift();\n\t\t\t\t\t\t\tif ( ! source ) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( typeof source !== 'object' ) {\n\t\t\t\t\t\t\t\tthrow new TypeError(\n\t\t\t\t\t\t\t\t\tsource + 'must be non-object'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor ( var p in source ) {\n\t\t\t\t\t\t\t\tif ( _has( source, p ) ) {\n\t\t\t\t\t\t\t\t\tobj[ p ] = source[ p ];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\n\t\t\t\t\t// reduce buffer size, avoiding mem copy\n\t\t\t\t\texports.shrinkBuf = function ( buf, size ) {\n\t\t\t\t\t\tif ( buf.length === size ) {\n\t\t\t\t\t\t\treturn buf;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( buf.subarray ) {\n\t\t\t\t\t\t\treturn buf.subarray( 0, size );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbuf.length = size;\n\t\t\t\t\t\treturn buf;\n\t\t\t\t\t};\n\n\t\t\t\t\tvar fnTyped = {\n\t\t\t\t\t\tarraySet: function (\n\t\t\t\t\t\t\tdest,\n\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\tsrc_offs,\n\t\t\t\t\t\t\tlen,\n\t\t\t\t\t\t\tdest_offs\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif ( src.subarray && dest.subarray ) {\n\t\t\t\t\t\t\t\tdest.set(\n\t\t\t\t\t\t\t\t\tsrc.subarray( src_offs, src_offs + len ),\n\t\t\t\t\t\t\t\t\tdest_offs\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Fallback to ordinary array\n\t\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\t\tdest[ dest_offs + i ] = src[ src_offs + i ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// Join array of chunks to single array.\n\t\t\t\t\t\tflattenChunks: function ( chunks ) {\n\t\t\t\t\t\t\tvar i, l, len, pos, chunk, result;\n\n\t\t\t\t\t\t\t// calculate data length\n\t\t\t\t\t\t\tlen = 0;\n\t\t\t\t\t\t\tfor ( i = 0, l = chunks.length; i < l; i++ ) {\n\t\t\t\t\t\t\t\tlen += chunks[ i ].length;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// join chunks\n\t\t\t\t\t\t\tresult = new Uint8Array( len );\n\t\t\t\t\t\t\tpos = 0;\n\t\t\t\t\t\t\tfor ( i = 0, l = chunks.length; i < l; i++ ) {\n\t\t\t\t\t\t\t\tchunk = chunks[ i ];\n\t\t\t\t\t\t\t\tresult.set( chunk, pos );\n\t\t\t\t\t\t\t\tpos += chunk.length;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tvar fnUntyped = {\n\t\t\t\t\t\tarraySet: function (\n\t\t\t\t\t\t\tdest,\n\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\tsrc_offs,\n\t\t\t\t\t\t\tlen,\n\t\t\t\t\t\t\tdest_offs\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\t\tdest[ dest_offs + i ] = src[ src_offs + i ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// Join array of chunks to single array.\n\t\t\t\t\t\tflattenChunks: function ( chunks ) {\n\t\t\t\t\t\t\treturn [].concat.apply( [], chunks );\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\t// Enable/Disable typed arrays use, for testing\n\t\t\t\t\t//\n\t\t\t\t\texports.setTyped = function ( on ) {\n\t\t\t\t\t\tif ( on ) {\n\t\t\t\t\t\t\texports.Buf8 = Uint8Array;\n\t\t\t\t\t\t\texports.Buf16 = Uint16Array;\n\t\t\t\t\t\t\texports.Buf32 = Int32Array;\n\t\t\t\t\t\t\texports.assign( exports, fnTyped );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\texports.Buf8 = Array;\n\t\t\t\t\t\t\texports.Buf16 = Array;\n\t\t\t\t\t\t\texports.Buf32 = Array;\n\t\t\t\t\t\t\texports.assign( exports, fnUntyped );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\texports.setTyped( TYPED_OK );\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t2: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t// String encode/decode helpers\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\tvar utils = require( './common' );\n\n\t\t\t\t\t// Quick check if we can use fast array to bin string conversion\n\t\t\t\t\t//\n\t\t\t\t\t// - apply(Array) can fail on Android 2.2\n\t\t\t\t\t// - apply(Uint8Array) can fail on iOS 5.1 Safari\n\t\t\t\t\t//\n\t\t\t\t\tvar STR_APPLY_OK = true;\n\t\t\t\t\tvar STR_APPLY_UIA_OK = true;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tString.fromCharCode.apply( null, [ 0 ] );\n\t\t\t\t\t} catch ( __ ) {\n\t\t\t\t\t\tSTR_APPLY_OK = false;\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tString.fromCharCode.apply( null, new Uint8Array( 1 ) );\n\t\t\t\t\t} catch ( __ ) {\n\t\t\t\t\t\tSTR_APPLY_UIA_OK = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Table with utf8 lengths (calculated by first byte of sequence)\n\t\t\t\t\t// Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,\n\t\t\t\t\t// because max possible codepoint is 0x10ffff\n\t\t\t\t\tvar _utf8len = new utils.Buf8( 256 );\n\t\t\t\t\tfor ( var q = 0; q < 256; q++ ) {\n\t\t\t\t\t\t_utf8len[ q ] =\n\t\t\t\t\t\t\tq >= 252\n\t\t\t\t\t\t\t\t? 6\n\t\t\t\t\t\t\t\t: q >= 248\n\t\t\t\t\t\t\t\t? 5\n\t\t\t\t\t\t\t\t: q >= 240\n\t\t\t\t\t\t\t\t? 4\n\t\t\t\t\t\t\t\t: q >= 224\n\t\t\t\t\t\t\t\t? 3\n\t\t\t\t\t\t\t\t: q >= 192\n\t\t\t\t\t\t\t\t? 2\n\t\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\t_utf8len[ 254 ] = _utf8len[ 254 ] = 1; // Invalid sequence start\n\n\t\t\t\t\t// convert string to array (typed, when possible)\n\t\t\t\t\texports.string2buf = function ( str ) {\n\t\t\t\t\t\tvar buf,\n\t\t\t\t\t\t\tc,\n\t\t\t\t\t\t\tc2,\n\t\t\t\t\t\t\tm_pos,\n\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\tstr_len = str.length,\n\t\t\t\t\t\t\tbuf_len = 0;\n\n\t\t\t\t\t\t// count binary size\n\t\t\t\t\t\tfor ( m_pos = 0; m_pos < str_len; m_pos++ ) {\n\t\t\t\t\t\t\tc = str.charCodeAt( m_pos );\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( c & 0xfc00 ) === 0xd800 &&\n\t\t\t\t\t\t\t\tm_pos + 1 < str_len\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tc2 = str.charCodeAt( m_pos + 1 );\n\t\t\t\t\t\t\t\tif ( ( c2 & 0xfc00 ) === 0xdc00 ) {\n\t\t\t\t\t\t\t\t\tc =\n\t\t\t\t\t\t\t\t\t\t0x10000 +\n\t\t\t\t\t\t\t\t\t\t( ( c - 0xd800 ) << 10 ) +\n\t\t\t\t\t\t\t\t\t\t( c2 - 0xdc00 );\n\t\t\t\t\t\t\t\t\tm_pos++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbuf_len +=\n\t\t\t\t\t\t\t\tc < 0x80\n\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t: c < 0x800\n\t\t\t\t\t\t\t\t\t? 2\n\t\t\t\t\t\t\t\t\t: c < 0x10000\n\t\t\t\t\t\t\t\t\t? 3\n\t\t\t\t\t\t\t\t\t: 4;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// allocate buffer\n\t\t\t\t\t\tbuf = new utils.Buf8( buf_len );\n\n\t\t\t\t\t\t// convert\n\t\t\t\t\t\tfor ( i = 0, m_pos = 0; i < buf_len; m_pos++ ) {\n\t\t\t\t\t\t\tc = str.charCodeAt( m_pos );\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( c & 0xfc00 ) === 0xd800 &&\n\t\t\t\t\t\t\t\tm_pos + 1 < str_len\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tc2 = str.charCodeAt( m_pos + 1 );\n\t\t\t\t\t\t\t\tif ( ( c2 & 0xfc00 ) === 0xdc00 ) {\n\t\t\t\t\t\t\t\t\tc =\n\t\t\t\t\t\t\t\t\t\t0x10000 +\n\t\t\t\t\t\t\t\t\t\t( ( c - 0xd800 ) << 10 ) +\n\t\t\t\t\t\t\t\t\t\t( c2 - 0xdc00 );\n\t\t\t\t\t\t\t\t\tm_pos++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( c < 0x80 ) {\n\t\t\t\t\t\t\t\t/* one byte */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = c;\n\t\t\t\t\t\t\t} else if ( c < 0x800 ) {\n\t\t\t\t\t\t\t\t/* two bytes */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0xc0 | ( c >>> 6 );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( c & 0x3f );\n\t\t\t\t\t\t\t} else if ( c < 0x10000 ) {\n\t\t\t\t\t\t\t\t/* three bytes */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0xe0 | ( c >>> 12 );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( ( c >>> 6 ) & 0x3f );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( c & 0x3f );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t/* four bytes */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0xf0 | ( c >>> 18 );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( ( c >>> 12 ) & 0x3f );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( ( c >>> 6 ) & 0x3f );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( c & 0x3f );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn buf;\n\t\t\t\t\t};\n\n\t\t\t\t\t// Helper (used in 2 places)\n\t\t\t\t\tfunction buf2binstring( buf, len ) {\n\t\t\t\t\t\t// On Chrome, the arguments in a function call that are allowed is `65534`.\n\t\t\t\t\t\t// If the length of the buffer is smaller than that, we can use this optimization,\n\t\t\t\t\t\t// otherwise we will take a slower path.\n\t\t\t\t\t\tif ( len < 65534 ) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( buf.subarray && STR_APPLY_UIA_OK ) ||\n\t\t\t\t\t\t\t\t( ! buf.subarray && STR_APPLY_OK )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn String.fromCharCode.apply(\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\tutils.shrinkBuf( buf, len )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar result = '';\n\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\tresult += String.fromCharCode( buf[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Convert byte array to binary string\n\t\t\t\t\texports.buf2binstring = function ( buf ) {\n\t\t\t\t\t\treturn buf2binstring( buf, buf.length );\n\t\t\t\t\t};\n\n\t\t\t\t\t// Convert binary string (typed, when possible)\n\t\t\t\t\texports.binstring2buf = function ( str ) {\n\t\t\t\t\t\tvar buf = new utils.Buf8( str.length );\n\t\t\t\t\t\tfor ( var i = 0, len = buf.length; i < len; i++ ) {\n\t\t\t\t\t\t\tbuf[ i ] = str.charCodeAt( i );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn buf;\n\t\t\t\t\t};\n\n\t\t\t\t\t// convert array to string\n\t\t\t\t\texports.buf2string = function ( buf, max ) {\n\t\t\t\t\t\tvar i, out, c, c_len;\n\t\t\t\t\t\tvar len = max || buf.length;\n\n\t\t\t\t\t\t// Reserve max possible length (2 words per char)\n\t\t\t\t\t\t// NB: by unknown reasons, Array is significantly faster for\n\t\t\t\t\t\t//     String.fromCharCode.apply than Uint16Array.\n\t\t\t\t\t\tvar utf16buf = new Array( len * 2 );\n\n\t\t\t\t\t\tfor ( out = 0, i = 0; i < len;  ) {\n\t\t\t\t\t\t\tc = buf[ i++ ];\n\t\t\t\t\t\t\t// quick process ascii\n\t\t\t\t\t\t\tif ( c < 0x80 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = c;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tc_len = _utf8len[ c ];\n\t\t\t\t\t\t\t// skip 5 & 6 byte codes\n\t\t\t\t\t\t\tif ( c_len > 4 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = 0xfffd;\n\t\t\t\t\t\t\t\ti += c_len - 1;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// apply mask on first byte\n\t\t\t\t\t\t\tc &= c_len === 2 ? 0x1f : c_len === 3 ? 0x0f : 0x07;\n\t\t\t\t\t\t\t// join the rest\n\t\t\t\t\t\t\twhile ( c_len > 1 && i < len ) {\n\t\t\t\t\t\t\t\tc = ( c << 6 ) | ( buf[ i++ ] & 0x3f );\n\t\t\t\t\t\t\t\tc_len--;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// terminated by end of string?\n\t\t\t\t\t\t\tif ( c_len > 1 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = 0xfffd;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( c < 0x10000 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = c;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tc -= 0x10000;\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] =\n\t\t\t\t\t\t\t\t\t0xd800 | ( ( c >> 10 ) & 0x3ff );\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = 0xdc00 | ( c & 0x3ff );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn buf2binstring( utf16buf, out );\n\t\t\t\t\t};\n\n\t\t\t\t\t// Calculate max possible position in utf8 buffer,\n\t\t\t\t\t// that will not break sequence. If that's not possible\n\t\t\t\t\t// - (very small limits) return max size as is.\n\t\t\t\t\t//\n\t\t\t\t\t// buf[] - utf8 bytes array\n\t\t\t\t\t// max   - length limit (mandatory);\n\t\t\t\t\texports.utf8border = function ( buf, max ) {\n\t\t\t\t\t\tvar pos;\n\n\t\t\t\t\t\tmax = max || buf.length;\n\t\t\t\t\t\tif ( max > buf.length ) {\n\t\t\t\t\t\t\tmax = buf.length;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// go back from last position, until start of sequence found\n\t\t\t\t\t\tpos = max - 1;\n\t\t\t\t\t\twhile ( pos >= 0 && ( buf[ pos ] & 0xc0 ) === 0x80 ) {\n\t\t\t\t\t\t\tpos--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Very small and broken sequence,\n\t\t\t\t\t\t// return max, because we should return something anyway.\n\t\t\t\t\t\tif ( pos < 0 ) {\n\t\t\t\t\t\t\treturn max;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we came to start of buffer - that means buffer is too small,\n\t\t\t\t\t\t// return max too.\n\t\t\t\t\t\tif ( pos === 0 ) {\n\t\t\t\t\t\t\treturn max;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn pos + _utf8len[ buf[ pos ] ] > max ? pos : max;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ './common': 1 },\n\t\t\t],\n\t\t\t3: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// Note: adler32 takes 12% for level 0 and 2% for level 6.\n\t\t\t\t\t// It isn't worth it to make additional optimizations as in original.\n\t\t\t\t\t// Small size is preferable.\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tfunction adler32( adler, buf, len, pos ) {\n\t\t\t\t\t\tvar s1 = ( adler & 0xffff ) | 0,\n\t\t\t\t\t\t\ts2 = ( ( adler >>> 16 ) & 0xffff ) | 0,\n\t\t\t\t\t\t\tn = 0;\n\n\t\t\t\t\t\twhile ( len !== 0 ) {\n\t\t\t\t\t\t\t// Set limit ~ twice less than 5552, to keep\n\t\t\t\t\t\t\t// s2 in 31-bits, because we force signed ints.\n\t\t\t\t\t\t\t// in other case %= will fail.\n\t\t\t\t\t\t\tn = len > 2000 ? 2000 : len;\n\t\t\t\t\t\t\tlen -= n;\n\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\ts1 = ( s1 + buf[ pos++ ] ) | 0;\n\t\t\t\t\t\t\t\ts2 = ( s2 + s1 ) | 0;\n\t\t\t\t\t\t\t} while ( --n );\n\n\t\t\t\t\t\t\ts1 %= 65521;\n\t\t\t\t\t\t\ts2 %= 65521;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn s1 | ( s2 << 16 ) | 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = adler32;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t4: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tmodule.exports = {\n\t\t\t\t\t\t/* Allowed flush values; see deflate() and inflate() below for details */\n\t\t\t\t\t\tZ_NO_FLUSH: 0,\n\t\t\t\t\t\tZ_PARTIAL_FLUSH: 1,\n\t\t\t\t\t\tZ_SYNC_FLUSH: 2,\n\t\t\t\t\t\tZ_FULL_FLUSH: 3,\n\t\t\t\t\t\tZ_FINISH: 4,\n\t\t\t\t\t\tZ_BLOCK: 5,\n\t\t\t\t\t\tZ_TREES: 6,\n\n\t\t\t\t\t\t/* Return codes for the compression/decompression functions. Negative values\n\t\t\t\t\t\t * are errors, positive values are used for special but normal events.\n\t\t\t\t\t\t */\n\t\t\t\t\t\tZ_OK: 0,\n\t\t\t\t\t\tZ_STREAM_END: 1,\n\t\t\t\t\t\tZ_NEED_DICT: 2,\n\t\t\t\t\t\tZ_ERRNO: -1,\n\t\t\t\t\t\tZ_STREAM_ERROR: -2,\n\t\t\t\t\t\tZ_DATA_ERROR: -3,\n\t\t\t\t\t\t//Z_MEM_ERROR:     -4,\n\t\t\t\t\t\tZ_BUF_ERROR: -5,\n\t\t\t\t\t\t//Z_VERSION_ERROR: -6,\n\n\t\t\t\t\t\t/* compression levels */\n\t\t\t\t\t\tZ_NO_COMPRESSION: 0,\n\t\t\t\t\t\tZ_BEST_SPEED: 1,\n\t\t\t\t\t\tZ_BEST_COMPRESSION: 9,\n\t\t\t\t\t\tZ_DEFAULT_COMPRESSION: -1,\n\n\t\t\t\t\t\tZ_FILTERED: 1,\n\t\t\t\t\t\tZ_HUFFMAN_ONLY: 2,\n\t\t\t\t\t\tZ_RLE: 3,\n\t\t\t\t\t\tZ_FIXED: 4,\n\t\t\t\t\t\tZ_DEFAULT_STRATEGY: 0,\n\n\t\t\t\t\t\t/* Possible values of the data_type field (though see inflate()) */\n\t\t\t\t\t\tZ_BINARY: 0,\n\t\t\t\t\t\tZ_TEXT: 1,\n\t\t\t\t\t\t//Z_ASCII:                1, // = Z_TEXT (deprecated)\n\t\t\t\t\t\tZ_UNKNOWN: 2,\n\n\t\t\t\t\t\t/* The deflate compression method */\n\t\t\t\t\t\tZ_DEFLATED: 8,\n\t\t\t\t\t\t//Z_NULL:                 null // Use -1 or null inline, depending on var type\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t5: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// Note: we can't get significant speed boost here.\n\t\t\t\t\t// So write code to minimize size - no pregenerated tables\n\t\t\t\t\t// and array tools dependencies.\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\t// Use ordinary array, since untyped makes no boost here\n\t\t\t\t\tfunction makeTable() {\n\t\t\t\t\t\tvar c,\n\t\t\t\t\t\t\ttable = [];\n\n\t\t\t\t\t\tfor ( var n = 0; n < 256; n++ ) {\n\t\t\t\t\t\t\tc = n;\n\t\t\t\t\t\t\tfor ( var k = 0; k < 8; k++ ) {\n\t\t\t\t\t\t\t\tc = c & 1 ? 0xedb88320 ^ ( c >>> 1 ) : c >>> 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttable[ n ] = c;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn table;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create table on load. Just 255 signed longs. Not a problem.\n\t\t\t\t\tvar crcTable = makeTable();\n\n\t\t\t\t\tfunction crc32( crc, buf, len, pos ) {\n\t\t\t\t\t\tvar t = crcTable,\n\t\t\t\t\t\t\tend = pos + len;\n\n\t\t\t\t\t\tcrc ^= -1;\n\n\t\t\t\t\t\tfor ( var i = pos; i < end; i++ ) {\n\t\t\t\t\t\t\tcrc =\n\t\t\t\t\t\t\t\t( crc >>> 8 ) ^ t[ ( crc ^ buf[ i ] ) & 0xff ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn crc ^ -1; // >>> 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = crc32;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t6: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tfunction GZheader() {\n\t\t\t\t\t\t/* true if compressed data believed to be text */\n\t\t\t\t\t\tthis.text = 0;\n\t\t\t\t\t\t/* modification time */\n\t\t\t\t\t\tthis.time = 0;\n\t\t\t\t\t\t/* extra flags (not used when writing a gzip file) */\n\t\t\t\t\t\tthis.xflags = 0;\n\t\t\t\t\t\t/* operating system */\n\t\t\t\t\t\tthis.os = 0;\n\t\t\t\t\t\t/* pointer to extra field or Z_NULL if none */\n\t\t\t\t\t\tthis.extra = null;\n\t\t\t\t\t\t/* extra field length (valid if extra != Z_NULL) */\n\t\t\t\t\t\tthis.extra_len = 0; // Actually, we don't need it in JS,\n\t\t\t\t\t\t// but leave for few code modifications\n\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// Setup limits is not necessary because in js we should not preallocate memory\n\t\t\t\t\t\t// for inflate use constant limit in 65536 bytes\n\t\t\t\t\t\t//\n\n\t\t\t\t\t\t/* space at extra (only when reading header) */\n\t\t\t\t\t\t// this.extra_max  = 0;\n\t\t\t\t\t\t/* pointer to zero-terminated file name or Z_NULL */\n\t\t\t\t\t\tthis.name = '';\n\t\t\t\t\t\t/* space at name (only when reading header) */\n\t\t\t\t\t\t// this.name_max   = 0;\n\t\t\t\t\t\t/* pointer to zero-terminated comment or Z_NULL */\n\t\t\t\t\t\tthis.comment = '';\n\t\t\t\t\t\t/* space at comment (only when reading header) */\n\t\t\t\t\t\t// this.comm_max   = 0;\n\t\t\t\t\t\t/* true if there was or will be a header crc */\n\t\t\t\t\t\tthis.hcrc = 0;\n\t\t\t\t\t\t/* true when done reading gzip header (not used when writing a gzip file) */\n\t\t\t\t\t\tthis.done = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = GZheader;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t7: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\t// See state defs from inflate.js\n\t\t\t\t\tvar BAD = 30; /* got a data error -- remain here until reset */\n\t\t\t\t\tvar TYPE = 12; /* i: waiting for type bits, including last-flag bit */\n\n\t\t\t\t\t/*\n     Decode literal, length, and distance codes and write out the resulting\n     literal and match bytes until either not enough input or output is\n     available, an end-of-block is encountered, or a data error is encountered.\n     When large enough input and output buffers are supplied to inflate(), for\n     example, a 16K input buffer and a 64K output buffer, more than 95% of the\n     inflate execution time is spent in this routine.\n\n     Entry assumptions:\n\n          state.mode === LEN\n          strm.avail_in >= 6\n          strm.avail_out >= 258\n          start >= strm.avail_out\n          state.bits < 8\n\n     On return, state.mode is one of:\n\n          LEN -- ran out of enough output space or enough available input\n          TYPE -- reached end of block code, inflate() to interpret next block\n          BAD -- error in block data\n\n     Notes:\n\n      - The maximum input bits used by a length/distance pair is 15 bits for the\n        length code, 5 bits for the length extra, 15 bits for the distance code,\n        and 13 bits for the distance extra.  This totals 48 bits, or six bytes.\n        Therefore if strm.avail_in >= 6, then there is enough input to avoid\n        checking for available input while decoding.\n\n      - The maximum bytes that a single length/distance pair can output is 258\n        bytes, which is the maximum length that can be coded.  inflate_fast()\n        requires strm.avail_out >= 258 for each loop to avoid checking for\n        output space.\n   */\n\t\t\t\t\tmodule.exports = function inflate_fast( strm, start ) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tvar _in; /* local strm.input */\n\t\t\t\t\t\tvar last; /* have enough input while in < last */\n\t\t\t\t\t\tvar _out; /* local strm.output */\n\t\t\t\t\t\tvar beg; /* inflate()'s initial strm.output */\n\t\t\t\t\t\tvar end; /* while out < end, enough space available */\n\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\tvar dmax; /* maximum distance from zlib header */\n\t\t\t\t\t\t//#endif\n\t\t\t\t\t\tvar wsize; /* window size or zero if not using window */\n\t\t\t\t\t\tvar whave; /* valid bytes in the window */\n\t\t\t\t\t\tvar wnext; /* window write index */\n\t\t\t\t\t\t// Use `s_window` instead `window`, avoid conflict with instrumentation tools\n\t\t\t\t\t\tvar s_window; /* allocated sliding window, if wsize != 0 */\n\t\t\t\t\t\tvar hold; /* local strm.hold */\n\t\t\t\t\t\tvar bits; /* local strm.bits */\n\t\t\t\t\t\tvar lcode; /* local strm.lencode */\n\t\t\t\t\t\tvar dcode; /* local strm.distcode */\n\t\t\t\t\t\tvar lmask; /* mask for first level of length codes */\n\t\t\t\t\t\tvar dmask; /* mask for first level of distance codes */\n\t\t\t\t\t\tvar here; /* retrieved table entry */\n\t\t\t\t\t\tvar op; /* code bits, operation, extra bits, or */\n\t\t\t\t\t\t/*  window position, window bytes to copy */\n\t\t\t\t\t\tvar len; /* match length, unused bytes */\n\t\t\t\t\t\tvar dist; /* match distance */\n\t\t\t\t\t\tvar from; /* where to copy match from */\n\t\t\t\t\t\tvar from_source;\n\n\t\t\t\t\t\tvar input, output; // JS specific, because we have no pointers\n\n\t\t\t\t\t\t/* copy state to local variables */\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\t//here = state.here;\n\t\t\t\t\t\t_in = strm.next_in;\n\t\t\t\t\t\tinput = strm.input;\n\t\t\t\t\t\tlast = _in + ( strm.avail_in - 5 );\n\t\t\t\t\t\t_out = strm.next_out;\n\t\t\t\t\t\toutput = strm.output;\n\t\t\t\t\t\tbeg = _out - ( start - strm.avail_out );\n\t\t\t\t\t\tend = _out + ( strm.avail_out - 257 );\n\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\tdmax = state.dmax;\n\t\t\t\t\t\t//#endif\n\t\t\t\t\t\twsize = state.wsize;\n\t\t\t\t\t\twhave = state.whave;\n\t\t\t\t\t\twnext = state.wnext;\n\t\t\t\t\t\ts_window = state.window;\n\t\t\t\t\t\thold = state.hold;\n\t\t\t\t\t\tbits = state.bits;\n\t\t\t\t\t\tlcode = state.lencode;\n\t\t\t\t\t\tdcode = state.distcode;\n\t\t\t\t\t\tlmask = ( 1 << state.lenbits ) - 1;\n\t\t\t\t\t\tdmask = ( 1 << state.distbits ) - 1;\n\n\t\t\t\t\t\t/* decode literals and length/distances until end-of-block or not enough\n       input data or output space */\n\n\t\t\t\t\t\ttop: do {\n\t\t\t\t\t\t\tif ( bits < 15 ) {\n\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\there = lcode[ hold & lmask ];\n\n\t\t\t\t\t\t\tdolen: for (;;) {\n\t\t\t\t\t\t\t\t// Goto emulation\n\t\t\t\t\t\t\t\top = here >>> 24 /*here.bits*/;\n\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\top = ( here >>> 16 ) & 0xff /*here.op*/;\n\t\t\t\t\t\t\t\tif ( op === 0 ) {\n\t\t\t\t\t\t\t\t\t/* literal */\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n\t\t\t\t\t\t\t\t\t//        \"inflate:         literal '%c'\\n\" :\n\t\t\t\t\t\t\t\t\t//        \"inflate:         literal 0x%02x\\n\", here.val));\n\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\there & 0xffff /*here.val*/;\n\t\t\t\t\t\t\t\t} else if ( op & 16 ) {\n\t\t\t\t\t\t\t\t\t/* length base */\n\t\t\t\t\t\t\t\t\tlen = here & 0xffff /*here.val*/;\n\t\t\t\t\t\t\t\t\top &= 15; /* number of extra bits */\n\t\t\t\t\t\t\t\t\tif ( op ) {\n\t\t\t\t\t\t\t\t\t\tif ( bits < op ) {\n\t\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlen += hold & ( ( 1 << op ) - 1 );\n\t\t\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         length %u\\n\", len));\n\t\t\t\t\t\t\t\t\tif ( bits < 15 ) {\n\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\there = dcode[ hold & dmask ];\n\n\t\t\t\t\t\t\t\t\tdodist: for (;;) {\n\t\t\t\t\t\t\t\t\t\t// goto emulation\n\t\t\t\t\t\t\t\t\t\top = here >>> 24 /*here.bits*/;\n\t\t\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\t\t\top = ( here >>> 16 ) & 0xff /*here.op*/;\n\n\t\t\t\t\t\t\t\t\t\tif ( op & 16 ) {\n\t\t\t\t\t\t\t\t\t\t\t/* distance base */\n\t\t\t\t\t\t\t\t\t\t\tdist = here & 0xffff /*here.val*/;\n\t\t\t\t\t\t\t\t\t\t\top &= 15; /* number of extra bits */\n\t\t\t\t\t\t\t\t\t\t\tif ( bits < op ) {\n\t\t\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( bits < op ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdist += hold & ( ( 1 << op ) - 1 );\n\t\t\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\t\t\t\t\t\tif ( dist > dmax ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         distance %u\\n\", dist));\n\t\t\t\t\t\t\t\t\t\t\top =\n\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\tbeg; /* max distance in output */\n\t\t\t\t\t\t\t\t\t\t\tif ( dist > op ) {\n\t\t\t\t\t\t\t\t\t\t\t\t/* see if copy from window */\n\t\t\t\t\t\t\t\t\t\t\t\top =\n\t\t\t\t\t\t\t\t\t\t\t\t\tdist -\n\t\t\t\t\t\t\t\t\t\t\t\t\top; /* distance back in window */\n\t\t\t\t\t\t\t\t\t\t\t\tif ( op > whave ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( state.sane ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t// (!) This block is disabled in zlib defaults,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// don't enable it for binary compatibility\n\t\t\t\t\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                if (len <= op - whave) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  do {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                    output[_out++] = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  } while (--len);\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  continue top;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                }\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                len -= op - whave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                do {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  output[_out++] = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                } while (--op > whave);\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                if (op === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  from = _out - dist;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  do {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                    output[_out++] = output[from++];\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  } while (--len);\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  continue top;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                }\n\t\t\t\t\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tfrom = 0; // window index\n\t\t\t\t\t\t\t\t\t\t\t\tfrom_source = s_window;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( wnext === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* very common case */\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom += wsize - op;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( op < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* rest from output */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source = output;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ( wnext < op ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* wrap around window */\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom += wsize + wnext - op;\n\t\t\t\t\t\t\t\t\t\t\t\t\top -= wnext;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( op < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from end of window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( wnext < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from start of window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\top = wnext;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* rest from output */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* contiguous in window */\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom += wnext - op;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( op < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* rest from output */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source = output;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( len > 2 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= 3;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( len > 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* copy direct from output */\n\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* minimum length is three */\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= 3;\n\t\t\t\t\t\t\t\t\t\t\t\t} while ( len > 2 );\n\t\t\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( len > 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if ( ( op & 64 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t/* 2nd level distance code */\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tdcode[\n\t\t\t\t\t\t\t\t\t\t\t\t\t( here &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0xffff ) /*here.val*/ +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( hold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 << op ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 ) )\n\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\tcontinue dodist;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid distance code';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak; // need to emulate goto via \"continue\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if ( ( op & 64 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t/* 2nd level length code */\n\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\tlcode[\n\t\t\t\t\t\t\t\t\t\t\t( here & 0xffff ) /*here.val*/ +\n\t\t\t\t\t\t\t\t\t\t\t\t( hold & ( ( 1 << op ) - 1 ) )\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tcontinue dolen;\n\t\t\t\t\t\t\t\t} else if ( op & 32 ) {\n\t\t\t\t\t\t\t\t\t/* end-of-block */\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         end of block\\n\"));\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid literal/length code';\n\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak; // need to emulate goto via \"continue\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while ( _in < last && _out < end );\n\n\t\t\t\t\t\t/* return unused bytes (on entry, bits < 8, so in won't go too far back) */\n\t\t\t\t\t\tlen = bits >> 3;\n\t\t\t\t\t\t_in -= len;\n\t\t\t\t\t\tbits -= len << 3;\n\t\t\t\t\t\thold &= ( 1 << bits ) - 1;\n\n\t\t\t\t\t\t/* update state and return */\n\t\t\t\t\t\tstrm.next_in = _in;\n\t\t\t\t\t\tstrm.next_out = _out;\n\t\t\t\t\t\tstrm.avail_in =\n\t\t\t\t\t\t\t_in < last\n\t\t\t\t\t\t\t\t? 5 + ( last - _in )\n\t\t\t\t\t\t\t\t: 5 - ( _in - last );\n\t\t\t\t\t\tstrm.avail_out =\n\t\t\t\t\t\t\t_out < end\n\t\t\t\t\t\t\t\t? 257 + ( end - _out )\n\t\t\t\t\t\t\t\t: 257 - ( _out - end );\n\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t8: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tvar utils = require( '../utils/common' );\n\t\t\t\t\tvar adler32 = require( './adler32' );\n\t\t\t\t\tvar crc32 = require( './crc32' );\n\t\t\t\t\tvar inflate_fast = require( './inffast' );\n\t\t\t\t\tvar inflate_table = require( './inftrees' );\n\n\t\t\t\t\tvar CODES = 0;\n\t\t\t\t\tvar LENS = 1;\n\t\t\t\t\tvar DISTS = 2;\n\n\t\t\t\t\t/* Public constants ==========================================================*/\n\t\t\t\t\t/* ===========================================================================*/\n\n\t\t\t\t\t/* Allowed flush values; see deflate() and inflate() below for details */\n\t\t\t\t\t//var Z_NO_FLUSH      = 0;\n\t\t\t\t\t//var Z_PARTIAL_FLUSH = 1;\n\t\t\t\t\t//var Z_SYNC_FLUSH    = 2;\n\t\t\t\t\t//var Z_FULL_FLUSH    = 3;\n\t\t\t\t\tvar Z_FINISH = 4;\n\t\t\t\t\tvar Z_BLOCK = 5;\n\t\t\t\t\tvar Z_TREES = 6;\n\n\t\t\t\t\t/* Return codes for the compression/decompression functions. Negative values\n\t\t\t\t\t * are errors, positive values are used for special but normal events.\n\t\t\t\t\t */\n\t\t\t\t\tvar Z_OK = 0;\n\t\t\t\t\tvar Z_STREAM_END = 1;\n\t\t\t\t\tvar Z_NEED_DICT = 2;\n\t\t\t\t\t//var Z_ERRNO         = -1;\n\t\t\t\t\tvar Z_STREAM_ERROR = -2;\n\t\t\t\t\tvar Z_DATA_ERROR = -3;\n\t\t\t\t\tvar Z_MEM_ERROR = -4;\n\t\t\t\t\tvar Z_BUF_ERROR = -5;\n\t\t\t\t\t//var Z_VERSION_ERROR = -6;\n\n\t\t\t\t\t/* The deflate compression method */\n\t\t\t\t\tvar Z_DEFLATED = 8;\n\n\t\t\t\t\t/* STATES ====================================================================*/\n\t\t\t\t\t/* ===========================================================================*/\n\n\t\t\t\t\tvar HEAD = 1; /* i: waiting for magic header */\n\t\t\t\t\tvar FLAGS = 2; /* i: waiting for method and flags (gzip) */\n\t\t\t\t\tvar TIME = 3; /* i: waiting for modification time (gzip) */\n\t\t\t\t\tvar OS = 4; /* i: waiting for extra flags and operating system (gzip) */\n\t\t\t\t\tvar EXLEN = 5; /* i: waiting for extra length (gzip) */\n\t\t\t\t\tvar EXTRA = 6; /* i: waiting for extra bytes (gzip) */\n\t\t\t\t\tvar NAME = 7; /* i: waiting for end of file name (gzip) */\n\t\t\t\t\tvar COMMENT = 8; /* i: waiting for end of comment (gzip) */\n\t\t\t\t\tvar HCRC = 9; /* i: waiting for header crc (gzip) */\n\t\t\t\t\tvar DICTID = 10; /* i: waiting for dictionary check value */\n\t\t\t\t\tvar DICT = 11; /* waiting for inflateSetDictionary() call */\n\t\t\t\t\tvar TYPE = 12; /* i: waiting for type bits, including last-flag bit */\n\t\t\t\t\tvar TYPEDO = 13; /* i: same, but skip check to exit inflate on new block */\n\t\t\t\t\tvar STORED = 14; /* i: waiting for stored size (length and complement) */\n\t\t\t\t\tvar COPY_ = 15; /* i/o: same as COPY below, but only first time in */\n\t\t\t\t\tvar COPY = 16; /* i/o: waiting for input or output to copy stored block */\n\t\t\t\t\tvar TABLE = 17; /* i: waiting for dynamic block table lengths */\n\t\t\t\t\tvar LENLENS = 18; /* i: waiting for code length code lengths */\n\t\t\t\t\tvar CODELENS = 19; /* i: waiting for length/lit and distance code lengths */\n\t\t\t\t\tvar LEN_ = 20; /* i: same as LEN below, but only first time in */\n\t\t\t\t\tvar LEN = 21; /* i: waiting for length/lit/eob code */\n\t\t\t\t\tvar LENEXT = 22; /* i: waiting for length extra bits */\n\t\t\t\t\tvar DIST = 23; /* i: waiting for distance code */\n\t\t\t\t\tvar DISTEXT = 24; /* i: waiting for distance extra bits */\n\t\t\t\t\tvar MATCH = 25; /* o: waiting for output space to copy string */\n\t\t\t\t\tvar LIT = 26; /* o: waiting for output space to write literal */\n\t\t\t\t\tvar CHECK = 27; /* i: waiting for 32-bit check value */\n\t\t\t\t\tvar LENGTH = 28; /* i: waiting for 32-bit length (gzip) */\n\t\t\t\t\tvar DONE = 29; /* finished check, done -- remain here until reset */\n\t\t\t\t\tvar BAD = 30; /* got a data error -- remain here until reset */\n\t\t\t\t\tvar MEM = 31; /* got an inflate() memory error -- remain here until reset */\n\t\t\t\t\tvar SYNC = 32; /* looking for synchronization bytes to restart inflate() */\n\n\t\t\t\t\t/* ===========================================================================*/\n\n\t\t\t\t\tvar ENOUGH_LENS = 852;\n\t\t\t\t\tvar ENOUGH_DISTS = 592;\n\t\t\t\t\t//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);\n\n\t\t\t\t\tvar MAX_WBITS = 15;\n\t\t\t\t\t/* 32K LZ77 window */\n\t\t\t\t\tvar DEF_WBITS = MAX_WBITS;\n\n\t\t\t\t\tfunction zswap32( q ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t( ( q >>> 24 ) & 0xff ) +\n\t\t\t\t\t\t\t( ( q >>> 8 ) & 0xff00 ) +\n\t\t\t\t\t\t\t( ( q & 0xff00 ) << 8 ) +\n\t\t\t\t\t\t\t( ( q & 0xff ) << 24 )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction InflateState() {\n\t\t\t\t\t\tthis.mode = 0; /* current inflate mode */\n\t\t\t\t\t\tthis.last = false; /* true if processing last block */\n\t\t\t\t\t\tthis.wrap = 0; /* bit 0 true for zlib, bit 1 true for gzip */\n\t\t\t\t\t\tthis.havedict = false; /* true if dictionary provided */\n\t\t\t\t\t\tthis.flags = 0; /* gzip header method and flags (0 if zlib) */\n\t\t\t\t\t\tthis.dmax = 0; /* zlib header max distance (INFLATE_STRICT) */\n\t\t\t\t\t\tthis.check = 0; /* protected copy of check value */\n\t\t\t\t\t\tthis.total = 0; /* protected copy of output count */\n\t\t\t\t\t\t// TODO: may be {}\n\t\t\t\t\t\tthis.head =\n\t\t\t\t\t\t\tnull; /* where to save gzip header information */\n\n\t\t\t\t\t\t/* sliding window */\n\t\t\t\t\t\tthis.wbits = 0; /* log base 2 of requested window size */\n\t\t\t\t\t\tthis.wsize = 0; /* window size or zero if not using window */\n\t\t\t\t\t\tthis.whave = 0; /* valid bytes in the window */\n\t\t\t\t\t\tthis.wnext = 0; /* window write index */\n\t\t\t\t\t\tthis.window =\n\t\t\t\t\t\t\tnull; /* allocated sliding window, if needed */\n\n\t\t\t\t\t\t/* bit accumulator */\n\t\t\t\t\t\tthis.hold = 0; /* input bit accumulator */\n\t\t\t\t\t\tthis.bits = 0; /* number of bits in \"in\" */\n\n\t\t\t\t\t\t/* for string and stored block copying */\n\t\t\t\t\t\tthis.length = 0; /* literal or length of data to copy */\n\t\t\t\t\t\tthis.offset = 0; /* distance back to copy string from */\n\n\t\t\t\t\t\t/* for table and code decoding */\n\t\t\t\t\t\tthis.extra = 0; /* extra bits needed */\n\n\t\t\t\t\t\t/* fixed and dynamic code tables */\n\t\t\t\t\t\tthis.lencode =\n\t\t\t\t\t\t\tnull; /* starting table for length/literal codes */\n\t\t\t\t\t\tthis.distcode =\n\t\t\t\t\t\t\tnull; /* starting table for distance codes */\n\t\t\t\t\t\tthis.lenbits = 0; /* index bits for lencode */\n\t\t\t\t\t\tthis.distbits = 0; /* index bits for distcode */\n\n\t\t\t\t\t\t/* dynamic table building */\n\t\t\t\t\t\tthis.ncode = 0; /* number of code length code lengths */\n\t\t\t\t\t\tthis.nlen = 0; /* number of length code lengths */\n\t\t\t\t\t\tthis.ndist = 0; /* number of distance code lengths */\n\t\t\t\t\t\tthis.have = 0; /* number of code lengths in lens[] */\n\t\t\t\t\t\tthis.next = null; /* next available space in codes[] */\n\n\t\t\t\t\t\tthis.lens = new utils.Buf16(\n\t\t\t\t\t\t\t320\n\t\t\t\t\t\t); /* temporary storage for code lengths */\n\t\t\t\t\t\tthis.work = new utils.Buf16(\n\t\t\t\t\t\t\t288\n\t\t\t\t\t\t); /* work area for code table building */\n\n\t\t\t\t\t\t/*\n     because we don't have pointers in js, we use lencode and distcode directly\n     as buffers so we don't need codes\n    */\n\t\t\t\t\t\t//this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */\n\t\t\t\t\t\tthis.lendyn =\n\t\t\t\t\t\t\tnull; /* dynamic table for length/literal codes (JS specific) */\n\t\t\t\t\t\tthis.distdyn =\n\t\t\t\t\t\t\tnull; /* dynamic table for distance codes (JS specific) */\n\t\t\t\t\t\tthis.sane = 0; /* if false, allow invalid distance too far */\n\t\t\t\t\t\tthis.back = 0; /* bits back of last unprocessed length/lit */\n\t\t\t\t\t\tthis.was = 0; /* initial length of match */\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateResetKeep( strm ) {\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tstrm.total_in = strm.total_out = state.total = 0;\n\t\t\t\t\t\tstrm.msg = ''; /*Z_NULL*/\n\t\t\t\t\t\tif ( state.wrap ) {\n\t\t\t\t\t\t\t/* to support ill-conceived Java test suite */\n\t\t\t\t\t\t\tstrm.adler = state.wrap & 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.mode = HEAD;\n\t\t\t\t\t\tstate.last = 0;\n\t\t\t\t\t\tstate.havedict = 0;\n\t\t\t\t\t\tstate.dmax = 32768;\n\t\t\t\t\t\tstate.head = null /*Z_NULL*/;\n\t\t\t\t\t\tstate.hold = 0;\n\t\t\t\t\t\tstate.bits = 0;\n\t\t\t\t\t\t//state.lencode = state.distcode = state.next = state.codes;\n\t\t\t\t\t\tstate.lencode = state.lendyn = new utils.Buf32(\n\t\t\t\t\t\t\tENOUGH_LENS\n\t\t\t\t\t\t);\n\t\t\t\t\t\tstate.distcode = state.distdyn = new utils.Buf32(\n\t\t\t\t\t\t\tENOUGH_DISTS\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tstate.sane = 1;\n\t\t\t\t\t\tstate.back = -1;\n\t\t\t\t\t\t//Tracev((stderr, \"inflate: reset\\n\"));\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateReset( strm ) {\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tstate.wsize = 0;\n\t\t\t\t\t\tstate.whave = 0;\n\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\treturn inflateResetKeep( strm );\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateReset2( strm, windowBits ) {\n\t\t\t\t\t\tvar wrap;\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\t/* get the state */\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\n\t\t\t\t\t\t/* extract wrap request from windowBits parameter */\n\t\t\t\t\t\tif ( windowBits < 0 ) {\n\t\t\t\t\t\t\twrap = 0;\n\t\t\t\t\t\t\twindowBits = -windowBits;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twrap = ( windowBits >> 4 ) + 1;\n\t\t\t\t\t\t\tif ( windowBits < 48 ) {\n\t\t\t\t\t\t\t\twindowBits &= 15;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* set number of window bits, free window if different */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\twindowBits &&\n\t\t\t\t\t\t\t( windowBits < 8 || windowBits > 15 )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tstate.window !== null &&\n\t\t\t\t\t\t\tstate.wbits !== windowBits\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tstate.window = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* update state and reset the rest of it */\n\t\t\t\t\t\tstate.wrap = wrap;\n\t\t\t\t\t\tstate.wbits = windowBits;\n\t\t\t\t\t\treturn inflateReset( strm );\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateInit2( strm, windowBits ) {\n\t\t\t\t\t\tvar ret;\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\tif ( ! strm ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//strm.msg = Z_NULL;                 /* in case we return an error */\n\n\t\t\t\t\t\tstate = new InflateState();\n\n\t\t\t\t\t\t//if (state === Z_NULL) return Z_MEM_ERROR;\n\t\t\t\t\t\t//Tracev((stderr, \"inflate: allocated\\n\"));\n\t\t\t\t\t\tstrm.state = state;\n\t\t\t\t\t\tstate.window = null /*Z_NULL*/;\n\t\t\t\t\t\tret = inflateReset2( strm, windowBits );\n\t\t\t\t\t\tif ( ret !== Z_OK ) {\n\t\t\t\t\t\t\tstrm.state = null /*Z_NULL*/;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateInit( strm ) {\n\t\t\t\t\t\treturn inflateInit2( strm, DEF_WBITS );\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n   Return state with length and distance decoding tables and index sizes set to\n   fixed code decoding.  Normally this returns fixed tables from inffixed.h.\n   If BUILDFIXED is defined, then instead this routine builds the tables the\n   first time it's called, and returns those tables the first time and\n   thereafter.  This reduces the size of the code by about 2K bytes, in\n   exchange for a little execution time.  However, BUILDFIXED should not be\n   used for threaded applications, since the rewriting of the tables and virgin\n   may not be thread-safe.\n   */\n\t\t\t\t\tvar virgin = true;\n\n\t\t\t\t\tvar lenfix, distfix; // We have no pointers in JS, so keep tables separate\n\n\t\t\t\t\tfunction fixedtables( state ) {\n\t\t\t\t\t\t/* build fixed huffman tables if first call (may not be thread safe) */\n\t\t\t\t\t\tif ( virgin ) {\n\t\t\t\t\t\t\tvar sym;\n\n\t\t\t\t\t\t\tlenfix = new utils.Buf32( 512 );\n\t\t\t\t\t\t\tdistfix = new utils.Buf32( 32 );\n\n\t\t\t\t\t\t\t/* literal/length table */\n\t\t\t\t\t\t\tsym = 0;\n\t\t\t\t\t\t\twhile ( sym < 144 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 8;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( sym < 256 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 9;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( sym < 280 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 7;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( sym < 288 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 8;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tinflate_table(\n\t\t\t\t\t\t\t\tLENS,\n\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t288,\n\t\t\t\t\t\t\t\tlenfix,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t{ bits: 9 }\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t/* distance table */\n\t\t\t\t\t\t\tsym = 0;\n\t\t\t\t\t\t\twhile ( sym < 32 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 5;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tinflate_table(\n\t\t\t\t\t\t\t\tDISTS,\n\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t32,\n\t\t\t\t\t\t\t\tdistfix,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t{ bits: 5 }\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t/* do this just once */\n\t\t\t\t\t\t\tvirgin = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.lencode = lenfix;\n\t\t\t\t\t\tstate.lenbits = 9;\n\t\t\t\t\t\tstate.distcode = distfix;\n\t\t\t\t\t\tstate.distbits = 5;\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n   Update the window with the last wsize (normally 32K) bytes written before\n   returning.  If window does not exist yet, create it.  This is only called\n   when a window is already in use, or when output has been written during this\n   inflate call, but the end of the deflate stream has not been reached yet.\n   It is also called to create a window for dictionary data when a dictionary\n   is loaded.\n\n   Providing output buffers larger than 32K to inflate() should provide a speed\n   advantage, since only the last 32K of output is copied to the sliding window\n   upon return from inflate(), and since all distances after the first 32K of\n   output will fall in the output data, making match copies simpler and faster.\n   The advantage may be dependent on the size of the processor's data caches.\n   */\n\t\t\t\t\tfunction updatewindow( strm, src, end, copy ) {\n\t\t\t\t\t\tvar dist;\n\t\t\t\t\t\tvar state = strm.state;\n\n\t\t\t\t\t\t/* if it hasn't been done already, allocate space for the window */\n\t\t\t\t\t\tif ( state.window === null ) {\n\t\t\t\t\t\t\tstate.wsize = 1 << state.wbits;\n\t\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\t\tstate.whave = 0;\n\n\t\t\t\t\t\t\tstate.window = new utils.Buf8( state.wsize );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* copy state->wsize or less output bytes into the circular window */\n\t\t\t\t\t\tif ( copy >= state.wsize ) {\n\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\tstate.window,\n\t\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\t\tend - state.wsize,\n\t\t\t\t\t\t\t\tstate.wsize,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\t\tstate.whave = state.wsize;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdist = state.wsize - state.wnext;\n\t\t\t\t\t\t\tif ( dist > copy ) {\n\t\t\t\t\t\t\t\tdist = copy;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//zmemcpy(state->window + state->wnext, end - copy, dist);\n\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\tstate.window,\n\t\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\t\tend - copy,\n\t\t\t\t\t\t\t\tdist,\n\t\t\t\t\t\t\t\tstate.wnext\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcopy -= dist;\n\t\t\t\t\t\t\tif ( copy ) {\n\t\t\t\t\t\t\t\t//zmemcpy(state->window, end - copy, copy);\n\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\tstate.window,\n\t\t\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\t\t\tend - copy,\n\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tstate.wnext = copy;\n\t\t\t\t\t\t\t\tstate.whave = state.wsize;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.wnext += dist;\n\t\t\t\t\t\t\t\tif ( state.wnext === state.wsize ) {\n\t\t\t\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( state.whave < state.wsize ) {\n\t\t\t\t\t\t\t\t\tstate.whave += dist;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflate( strm, flush ) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tvar input, output; // input/output buffers\n\t\t\t\t\t\tvar next; /* next input INDEX */\n\t\t\t\t\t\tvar put; /* next output INDEX */\n\t\t\t\t\t\tvar have, left; /* available input and output */\n\t\t\t\t\t\tvar hold; /* bit buffer */\n\t\t\t\t\t\tvar bits; /* bits in bit buffer */\n\t\t\t\t\t\tvar _in,\n\t\t\t\t\t\t\t_out; /* save starting available input and output */\n\t\t\t\t\t\tvar copy; /* number of stored or match bytes to copy */\n\t\t\t\t\t\tvar from; /* where to copy match bytes from */\n\t\t\t\t\t\tvar from_source;\n\t\t\t\t\t\tvar here = 0; /* current decoding table entry */\n\t\t\t\t\t\tvar here_bits, here_op, here_val; // paked \"here\" denormalized (JS specific)\n\t\t\t\t\t\t//var last;                   /* parent table entry */\n\t\t\t\t\t\tvar last_bits, last_op, last_val; // paked \"last\" denormalized (JS specific)\n\t\t\t\t\t\tvar len; /* length to copy for repeats, bits to drop */\n\t\t\t\t\t\tvar ret; /* return code */\n\t\t\t\t\t\tvar hbuf = new utils.Buf8(\n\t\t\t\t\t\t\t4\n\t\t\t\t\t\t); /* buffer for gzip header crc calculation */\n\t\t\t\t\t\tvar opts;\n\n\t\t\t\t\t\tvar n; // temporary var for NEED_BITS\n\n\t\t\t\t\t\tvar order =\n\t\t\t\t\t\t\t/* permutation of code lengths */\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3,\n\t\t\t\t\t\t\t\t13, 2, 14, 1, 15,\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! strm ||\n\t\t\t\t\t\t\t! strm.state ||\n\t\t\t\t\t\t\t! strm.output ||\n\t\t\t\t\t\t\t( ! strm.input && strm.avail_in !== 0 )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tif ( state.mode === TYPE ) {\n\t\t\t\t\t\t\tstate.mode = TYPEDO;\n\t\t\t\t\t\t} /* skip check */\n\n\t\t\t\t\t\t//--- LOAD() ---\n\t\t\t\t\t\tput = strm.next_out;\n\t\t\t\t\t\toutput = strm.output;\n\t\t\t\t\t\tleft = strm.avail_out;\n\t\t\t\t\t\tnext = strm.next_in;\n\t\t\t\t\t\tinput = strm.input;\n\t\t\t\t\t\thave = strm.avail_in;\n\t\t\t\t\t\thold = state.hold;\n\t\t\t\t\t\tbits = state.bits;\n\t\t\t\t\t\t//---\n\n\t\t\t\t\t\t_in = have;\n\t\t\t\t\t\t_out = left;\n\t\t\t\t\t\tret = Z_OK;\n\n\t\t\t\t\t\t// goto emulation\n\t\t\t\t\t\tinf_leave: for (;;) {\n\t\t\t\t\t\t\tswitch ( state.mode ) {\n\t\t\t\t\t\t\t\tcase HEAD:\n\t\t\t\t\t\t\t\t\tif ( state.wrap === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstate.mode = TYPEDO;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16);\n\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif ( state.wrap & 2 && hold === 0x8b1f ) {\n\t\t\t\t\t\t\t\t\t\t/* gzip header */\n\t\t\t\t\t\t\t\t\t\tstate.check = 0 /*crc32(0L, Z_NULL, 0)*/;\n\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===//\n\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.mode = FLAGS;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.flags = 0; /* expect zlib header */\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.done = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t! (\n\t\t\t\t\t\t\t\t\t\t\tstate.wrap & 1\n\t\t\t\t\t\t\t\t\t\t) /* check if zlib header allowed */ ||\n\t\t\t\t\t\t\t\t\t\t( ( ( hold & 0xff ) /*BITS(8)*/ << 8 ) +\n\t\t\t\t\t\t\t\t\t\t\t( hold >> 8 ) ) %\n\t\t\t\t\t\t\t\t\t\t\t31\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'incorrect header check';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( hold & 0x0f ) /*BITS(4)*/ !==\n\t\t\t\t\t\t\t\t\t\tZ_DEFLATED\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'unknown compression method';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(4) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 4;\n\t\t\t\t\t\t\t\t\tbits -= 4;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tlen = ( hold & 0x0f ) /*BITS(4)*/ + 8;\n\t\t\t\t\t\t\t\t\tif ( state.wbits === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstate.wbits = len;\n\t\t\t\t\t\t\t\t\t} else if ( len > state.wbits ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid window size';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.dmax = 1 << len;\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:   zlib header ok\\n\"));\n\t\t\t\t\t\t\t\t\tstrm.adler =\n\t\t\t\t\t\t\t\t\t\tstate.check = 1 /*adler32(0L, Z_NULL, 0)*/;\n\t\t\t\t\t\t\t\t\tstate.mode = hold & 0x200 ? DICTID : TYPE;\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase FLAGS:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.flags = hold;\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( state.flags & 0xff ) !==\n\t\t\t\t\t\t\t\t\t\tZ_DEFLATED\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'unknown compression method';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0xe000 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'unknown header flags set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.text = ( hold >> 8 ) & 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = TIME;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase TIME:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.time = hold;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== CRC4(state.check, hold)\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 2 ] = ( hold >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 3 ] = ( hold >>> 24 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t4,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = OS;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase OS:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.xflags = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.head.os = hold >> 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = EXLEN;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase EXLEN:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0400 ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.length = hold;\n\t\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.head.extra_len = hold;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t} else if ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.extra = null /*Z_NULL*/;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = EXTRA;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase EXTRA:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0400 ) {\n\t\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\t\tif ( copy > have ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = have;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\t\t\tlen =\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra_len -\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.length;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( ! state.head.extra ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Use untyped array for more convenient processing later\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew Array(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra_len\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra,\n\t\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// extra field is limited to 65536 bytes\n\t\t\t\t\t\t\t\t\t\t\t\t\t// - no need for additional size check\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\t\t/*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t//zmemcpy(state.head.extra + len, next,\n\t\t\t\t\t\t\t\t\t\t\t\t//        len + copy > state.head.extra_max ?\n\t\t\t\t\t\t\t\t\t\t\t\t//        state.head.extra_max - len : copy);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\t\tstate.length -= copy;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( state.length ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.length = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = NAME;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase NAME:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0800 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcopy = 0;\n\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t// TODO: 2 or 1 bytes?\n\t\t\t\t\t\t\t\t\t\t\tlen = input[ next + copy++ ];\n\t\t\t\t\t\t\t\t\t\t\t/* use constant limit because in js we should not preallocate memory */\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head &&\n\t\t\t\t\t\t\t\t\t\t\t\tlen &&\n\t\t\t\t\t\t\t\t\t\t\t\tstate.length <\n\t\t\t\t\t\t\t\t\t\t\t\t\t65536 /*state.head.name_max*/\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head.name +=\n\t\t\t\t\t\t\t\t\t\t\t\t\tString.fromCharCode( len );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} while ( len && copy < have );\n\n\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.name = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.length = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = COMMENT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase COMMENT:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x1000 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcopy = 0;\n\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\tlen = input[ next + copy++ ];\n\t\t\t\t\t\t\t\t\t\t\t/* use constant limit because in js we should not preallocate memory */\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head &&\n\t\t\t\t\t\t\t\t\t\t\t\tlen &&\n\t\t\t\t\t\t\t\t\t\t\t\tstate.length <\n\t\t\t\t\t\t\t\t\t\t\t\t\t65536 /*state.head.comm_max*/\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head.comment +=\n\t\t\t\t\t\t\t\t\t\t\t\t\tString.fromCharCode( len );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} while ( len && copy < have );\n\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.comment = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = HCRC;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase HCRC:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\thold !==\n\t\t\t\t\t\t\t\t\t\t\t( state.check & 0xffff )\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'header crc mismatch';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.hcrc =\n\t\t\t\t\t\t\t\t\t\t\t( state.flags >> 9 ) & 1;\n\t\t\t\t\t\t\t\t\t\tstate.head.done = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstrm.adler = state.check = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase DICTID:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstrm.adler = state.check = zswap32( hold );\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = DICT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DICT:\n\t\t\t\t\t\t\t\t\tif ( state.havedict === 0 ) {\n\t\t\t\t\t\t\t\t\t\t//--- RESTORE() ---\n\t\t\t\t\t\t\t\t\t\tstrm.next_out = put;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_out = left;\n\t\t\t\t\t\t\t\t\t\tstrm.next_in = next;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_in = have;\n\t\t\t\t\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\t\t\t\t\t//---\n\t\t\t\t\t\t\t\t\t\treturn Z_NEED_DICT;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstrm.adler =\n\t\t\t\t\t\t\t\t\t\tstate.check = 1 /*adler32(0L, Z_NULL, 0)*/;\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase TYPE:\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tflush === Z_BLOCK ||\n\t\t\t\t\t\t\t\t\t\tflush === Z_TREES\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase TYPEDO:\n\t\t\t\t\t\t\t\t\tif ( state.last ) {\n\t\t\t\t\t\t\t\t\t\t//--- BYTEBITS() ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= bits & 7;\n\t\t\t\t\t\t\t\t\t\tbits -= bits & 7;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.mode = CHECK;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(3); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 3 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.last = hold & 0x01 /*BITS(1)*/;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(1) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 1;\n\t\t\t\t\t\t\t\t\tbits -= 1;\n\t\t\t\t\t\t\t\t\t//---//\n\n\t\t\t\t\t\t\t\t\tswitch ( hold & 0x03 /*BITS(2)*/ ) {\n\t\t\t\t\t\t\t\t\t\tcase 0 /* stored block */:\n\t\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:     stored block%s\\n\",\n\t\t\t\t\t\t\t\t\t\t\t//        state.last ? \" (last)\" : \"\"));\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = STORED;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 1 /* fixed block */:\n\t\t\t\t\t\t\t\t\t\t\tfixedtables( state );\n\t\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:     fixed codes block%s\\n\",\n\t\t\t\t\t\t\t\t\t\t\t//        state.last ? \" (last)\" : \"\"));\n\t\t\t\t\t\t\t\t\t\t\tstate.mode =\n\t\t\t\t\t\t\t\t\t\t\t\tLEN_; /* decode codes */\n\t\t\t\t\t\t\t\t\t\t\tif ( flush === Z_TREES ) {\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(2) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 2;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 2;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 2 /* dynamic block */:\n\t\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:     dynamic codes block%s\\n\",\n\t\t\t\t\t\t\t\t\t\t\t//        state.last ? \" (last)\" : \"\"));\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = TABLE;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid block type';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(2) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 2;\n\t\t\t\t\t\t\t\t\tbits -= 2;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase STORED:\n\t\t\t\t\t\t\t\t\t//--- BYTEBITS() ---// /* go to byte boundary */\n\t\t\t\t\t\t\t\t\thold >>>= bits & 7;\n\t\t\t\t\t\t\t\t\tbits -= bits & 7;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( hold & 0xffff ) !==\n\t\t\t\t\t\t\t\t\t\t( ( hold >>> 16 ) ^ 0xffff )\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid stored block lengths';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.length = hold & 0xffff;\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       stored length %u\\n\",\n\t\t\t\t\t\t\t\t\t//        state.length));\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = COPY_;\n\t\t\t\t\t\t\t\t\tif ( flush === Z_TREES ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase COPY_:\n\t\t\t\t\t\t\t\t\tstate.mode = COPY;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase COPY:\n\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\tif ( copy ) {\n\t\t\t\t\t\t\t\t\t\tif ( copy > have ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = have;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy > left ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = left;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- zmemcpy(put, next, copy); ---\n\t\t\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\tnext,\n\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\tput\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\tleft -= copy;\n\t\t\t\t\t\t\t\t\t\tput += copy;\n\t\t\t\t\t\t\t\t\t\tstate.length -= copy;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       stored end\\n\"));\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase TABLE:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(14); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 14 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.nlen =\n\t\t\t\t\t\t\t\t\t\t( hold & 0x1f ) /*BITS(5)*/ + 257;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(5) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 5;\n\t\t\t\t\t\t\t\t\tbits -= 5;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.ndist =\n\t\t\t\t\t\t\t\t\t\t( hold & 0x1f ) /*BITS(5)*/ + 1;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(5) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 5;\n\t\t\t\t\t\t\t\t\tbits -= 5;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.ncode =\n\t\t\t\t\t\t\t\t\t\t( hold & 0x0f ) /*BITS(4)*/ + 4;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(4) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 4;\n\t\t\t\t\t\t\t\t\tbits -= 4;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t//#ifndef PKZIP_BUG_WORKAROUND\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tstate.nlen > 286 ||\n\t\t\t\t\t\t\t\t\t\tstate.ndist > 30\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'too many length or distance symbols';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       table sizes ok\\n\"));\n\t\t\t\t\t\t\t\t\tstate.have = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = LENLENS;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LENLENS:\n\t\t\t\t\t\t\t\t\twhile ( state.have < state.ncode ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(3);\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 3 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.lens[ order[ state.have++ ] ] =\n\t\t\t\t\t\t\t\t\t\t\thold & 0x07; //BITS(3);\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(3) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= 3;\n\t\t\t\t\t\t\t\t\t\tbits -= 3;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\twhile ( state.have < 19 ) {\n\t\t\t\t\t\t\t\t\t\tstate.lens[ order[ state.have++ ] ] = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// We have separate tables & no pointers. 2 commented lines below not needed.\n\t\t\t\t\t\t\t\t\t//state.next = state.codes;\n\t\t\t\t\t\t\t\t\t//state.lencode = state.next;\n\t\t\t\t\t\t\t\t\t// Switch to use dynamic table\n\t\t\t\t\t\t\t\t\tstate.lencode = state.lendyn;\n\t\t\t\t\t\t\t\t\tstate.lenbits = 7;\n\n\t\t\t\t\t\t\t\t\topts = { bits: state.lenbits };\n\t\t\t\t\t\t\t\t\tret = inflate_table(\n\t\t\t\t\t\t\t\t\t\tCODES,\n\t\t\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t19,\n\t\t\t\t\t\t\t\t\t\tstate.lencode,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t\t\topts\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tstate.lenbits = opts.bits;\n\n\t\t\t\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid code lengths set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       code lengths ok\\n\"));\n\t\t\t\t\t\t\t\t\tstate.have = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = CODELENS;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase CODELENS:\n\t\t\t\t\t\t\t\t\twhile (\n\t\t\t\t\t\t\t\t\t\tstate.have <\n\t\t\t\t\t\t\t\t\t\tstate.nlen + state.ndist\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tstate.lencode[\n\t\t\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 <<\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.lenbits ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 )\n\t\t\t\t\t\t\t\t\t\t\t\t]; /*BITS(state.lenbits)*/\n\t\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\t\tif ( here_bits <= bits ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( here_val < 16 ) {\n\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\tstate.lens[ state.have++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\there_val;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tif ( here_val === 16 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(here.bits + 2);\n\t\t\t\t\t\t\t\t\t\t\t\tn = here_bits + 2;\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tif ( state.have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid bit length repeat';\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tlen =\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.lens[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.have - 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\tcopy = 3 + ( hold & 0x03 ); //BITS(2);\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(2) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 2;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 2;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t} else if ( here_val === 17 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(here.bits + 3);\n\t\t\t\t\t\t\t\t\t\t\t\tn = here_bits + 3;\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tlen = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tcopy = 3 + ( hold & 0x07 ); //BITS(3);\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(3) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 3;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 3;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(here.bits + 7);\n\t\t\t\t\t\t\t\t\t\t\t\tn = here_bits + 7;\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tlen = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tcopy = 11 + ( hold & 0x7f ); //BITS(7);\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(7) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 7;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 7;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tstate.have + copy >\n\t\t\t\t\t\t\t\t\t\t\t\tstate.nlen + state.ndist\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid bit length repeat';\n\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\twhile ( copy-- ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.lens[ state.have++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t/* handle error breaks in while */\n\t\t\t\t\t\t\t\t\tif ( state.mode === BAD ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t/* check for end-of-block code (better have one) */\n\t\t\t\t\t\t\t\t\tif ( state.lens[ 256 ] === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid code -- missing end-of-block';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t/* build code tables -- note: do not change the lenbits or distbits\n             values here (9 and 6) without reading the comments in inftrees.h\n             concerning the ENOUGH constants, which depend on those values */\n\t\t\t\t\t\t\t\t\tstate.lenbits = 9;\n\n\t\t\t\t\t\t\t\t\topts = { bits: state.lenbits };\n\t\t\t\t\t\t\t\t\tret = inflate_table(\n\t\t\t\t\t\t\t\t\t\tLENS,\n\t\t\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.nlen,\n\t\t\t\t\t\t\t\t\t\tstate.lencode,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t\t\topts\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t// We have separate tables & no pointers. 2 commented lines below not needed.\n\t\t\t\t\t\t\t\t\t// state.next_index = opts.table_index;\n\t\t\t\t\t\t\t\t\tstate.lenbits = opts.bits;\n\t\t\t\t\t\t\t\t\t// state.lencode = state.next;\n\n\t\t\t\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid literal/lengths set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tstate.distbits = 6;\n\t\t\t\t\t\t\t\t\t//state.distcode.copy(state.codes);\n\t\t\t\t\t\t\t\t\t// Switch to use dynamic table\n\t\t\t\t\t\t\t\t\tstate.distcode = state.distdyn;\n\t\t\t\t\t\t\t\t\topts = { bits: state.distbits };\n\t\t\t\t\t\t\t\t\tret = inflate_table(\n\t\t\t\t\t\t\t\t\t\tDISTS,\n\t\t\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t\t\tstate.nlen,\n\t\t\t\t\t\t\t\t\t\tstate.ndist,\n\t\t\t\t\t\t\t\t\t\tstate.distcode,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t\t\topts\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t// We have separate tables & no pointers. 2 commented lines below not needed.\n\t\t\t\t\t\t\t\t\t// state.next_index = opts.table_index;\n\t\t\t\t\t\t\t\t\tstate.distbits = opts.bits;\n\t\t\t\t\t\t\t\t\t// state.distcode = state.next;\n\n\t\t\t\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid distances set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, 'inflate:       codes ok\\n'));\n\t\t\t\t\t\t\t\t\tstate.mode = LEN_;\n\t\t\t\t\t\t\t\t\tif ( flush === Z_TREES ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LEN_:\n\t\t\t\t\t\t\t\t\tstate.mode = LEN;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LEN:\n\t\t\t\t\t\t\t\t\tif ( have >= 6 && left >= 258 ) {\n\t\t\t\t\t\t\t\t\t\t//--- RESTORE() ---\n\t\t\t\t\t\t\t\t\t\tstrm.next_out = put;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_out = left;\n\t\t\t\t\t\t\t\t\t\tstrm.next_in = next;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_in = have;\n\t\t\t\t\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\t\t\t\t\t//---\n\t\t\t\t\t\t\t\t\t\tinflate_fast( strm, _out );\n\t\t\t\t\t\t\t\t\t\t//--- LOAD() ---\n\t\t\t\t\t\t\t\t\t\tput = strm.next_out;\n\t\t\t\t\t\t\t\t\t\toutput = strm.output;\n\t\t\t\t\t\t\t\t\t\tleft = strm.avail_out;\n\t\t\t\t\t\t\t\t\t\tnext = strm.next_in;\n\t\t\t\t\t\t\t\t\t\tinput = strm.input;\n\t\t\t\t\t\t\t\t\t\thave = strm.avail_in;\n\t\t\t\t\t\t\t\t\t\thold = state.hold;\n\t\t\t\t\t\t\t\t\t\tbits = state.bits;\n\t\t\t\t\t\t\t\t\t\t//---\n\n\t\t\t\t\t\t\t\t\t\tif ( state.mode === TYPE ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.back = -1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.back = 0;\n\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\tstate.lencode[\n\t\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.lenbits ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 )\n\t\t\t\t\t\t\t\t\t\t\t]; /*BITS(state.lenbits)*/\n\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\tif ( here_bits <= bits ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( here_op && ( here_op & 0xf0 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t\tlast_bits = here_bits;\n\t\t\t\t\t\t\t\t\t\tlast_op = here_op;\n\t\t\t\t\t\t\t\t\t\tlast_val = here_val;\n\t\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tstate.lencode[\n\t\t\t\t\t\t\t\t\t\t\t\t\tlast_val +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( hold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 <<\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( last_bits +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_op ) ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 ) ) /*BITS(last.bits + last.op)*/ >>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_bits )\n\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tlast_bits + here_bits <=\n\t\t\t\t\t\t\t\t\t\t\t\tbits\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(last.bits) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= last_bits;\n\t\t\t\t\t\t\t\t\t\tbits -= last_bits;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += last_bits;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.back += here_bits;\n\t\t\t\t\t\t\t\t\tstate.length = here_val;\n\t\t\t\t\t\t\t\t\tif ( here_op === 0 ) {\n\t\t\t\t\t\t\t\t\t\t//Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n\t\t\t\t\t\t\t\t\t\t//        \"inflate:         literal '%c'\\n\" :\n\t\t\t\t\t\t\t\t\t\t//        \"inflate:         literal 0x%02x\\n\", here.val));\n\t\t\t\t\t\t\t\t\t\tstate.mode = LIT;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( here_op & 32 ) {\n\t\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         end of block\\n\"));\n\t\t\t\t\t\t\t\t\t\tstate.back = -1;\n\t\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( here_op & 64 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid literal/length code';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.extra = here_op & 15;\n\t\t\t\t\t\t\t\t\tstate.mode = LENEXT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LENEXT:\n\t\t\t\t\t\t\t\t\tif ( state.extra ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(state.extra);\n\t\t\t\t\t\t\t\t\t\tn = state.extra;\n\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.length +=\n\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.extra ) -\n\t\t\t\t\t\t\t\t\t\t\t\t1 ) /*BITS(state.extra)*/;\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(state.extra) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= state.extra;\n\t\t\t\t\t\t\t\t\t\tbits -= state.extra;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += state.extra;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         length %u\\n\", state.length));\n\t\t\t\t\t\t\t\t\tstate.was = state.length;\n\t\t\t\t\t\t\t\t\tstate.mode = DIST;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DIST:\n\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\tstate.distcode[\n\t\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.distbits ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 )\n\t\t\t\t\t\t\t\t\t\t\t]; /*BITS(state.distbits)*/\n\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\tif ( here_bits <= bits ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( ( here_op & 0xf0 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t\tlast_bits = here_bits;\n\t\t\t\t\t\t\t\t\t\tlast_op = here_op;\n\t\t\t\t\t\t\t\t\t\tlast_val = here_val;\n\t\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tstate.distcode[\n\t\t\t\t\t\t\t\t\t\t\t\t\tlast_val +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( hold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 <<\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( last_bits +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_op ) ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 ) ) /*BITS(last.bits + last.op)*/ >>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_bits )\n\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tlast_bits + here_bits <=\n\t\t\t\t\t\t\t\t\t\t\t\tbits\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(last.bits) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= last_bits;\n\t\t\t\t\t\t\t\t\t\tbits -= last_bits;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += last_bits;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.back += here_bits;\n\t\t\t\t\t\t\t\t\tif ( here_op & 64 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid distance code';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.offset = here_val;\n\t\t\t\t\t\t\t\t\tstate.extra = here_op & 15;\n\t\t\t\t\t\t\t\t\tstate.mode = DISTEXT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DISTEXT:\n\t\t\t\t\t\t\t\t\tif ( state.extra ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(state.extra);\n\t\t\t\t\t\t\t\t\t\tn = state.extra;\n\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.offset +=\n\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.extra ) -\n\t\t\t\t\t\t\t\t\t\t\t\t1 ) /*BITS(state.extra)*/;\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(state.extra) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= state.extra;\n\t\t\t\t\t\t\t\t\t\tbits -= state.extra;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += state.extra;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\t\t\t\tif ( state.offset > state.dmax ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         distance %u\\n\", state.offset));\n\t\t\t\t\t\t\t\t\tstate.mode = MATCH;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase MATCH:\n\t\t\t\t\t\t\t\t\tif ( left === 0 ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcopy = _out - left;\n\t\t\t\t\t\t\t\t\tif ( state.offset > copy ) {\n\t\t\t\t\t\t\t\t\t\t/* copy from window */\n\t\t\t\t\t\t\t\t\t\tcopy = state.offset - copy;\n\t\t\t\t\t\t\t\t\t\tif ( copy > state.whave ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( state.sane ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// (!) This block is disabled in zlib defaults,\n\t\t\t\t\t\t\t\t\t\t\t// don't enable it for binary compatibility\n\t\t\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n\t\t\t\t\t\t\t\t\t\t\t//          Trace((stderr, \"inflate.c too far\\n\"));\n\t\t\t\t\t\t\t\t\t\t\t//          copy -= state.whave;\n\t\t\t\t\t\t\t\t\t\t\t//          if (copy > state.length) { copy = state.length; }\n\t\t\t\t\t\t\t\t\t\t\t//          if (copy > left) { copy = left; }\n\t\t\t\t\t\t\t\t\t\t\t//          left -= copy;\n\t\t\t\t\t\t\t\t\t\t\t//          state.length -= copy;\n\t\t\t\t\t\t\t\t\t\t\t//          do {\n\t\t\t\t\t\t\t\t\t\t\t//            output[put++] = 0;\n\t\t\t\t\t\t\t\t\t\t\t//          } while (--copy);\n\t\t\t\t\t\t\t\t\t\t\t//          if (state.length === 0) { state.mode = LEN; }\n\t\t\t\t\t\t\t\t\t\t\t//          break;\n\t\t\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy > state.wnext ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy -= state.wnext;\n\t\t\t\t\t\t\t\t\t\t\tfrom = state.wsize - copy;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tfrom = state.wnext - copy;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy > state.length ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tfrom_source = state.window;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t/* copy from output */\n\t\t\t\t\t\t\t\t\t\tfrom_source = output;\n\t\t\t\t\t\t\t\t\t\tfrom = put - state.offset;\n\t\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( copy > left ) {\n\t\t\t\t\t\t\t\t\t\tcopy = left;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tleft -= copy;\n\t\t\t\t\t\t\t\t\tstate.length -= copy;\n\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\toutput[ put++ ] = from_source[ from++ ];\n\t\t\t\t\t\t\t\t\t} while ( --copy );\n\t\t\t\t\t\t\t\t\tif ( state.length === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstate.mode = LEN;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase LIT:\n\t\t\t\t\t\t\t\t\tif ( left === 0 ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\toutput[ put++ ] = state.length;\n\t\t\t\t\t\t\t\t\tleft--;\n\t\t\t\t\t\t\t\t\tstate.mode = LEN;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase CHECK:\n\t\t\t\t\t\t\t\t\tif ( state.wrap ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32);\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t// Use '|' instead of '+' to make sure that result is signed\n\t\t\t\t\t\t\t\t\t\t\thold |= input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t_out -= left;\n\t\t\t\t\t\t\t\t\t\tstrm.total_out += _out;\n\t\t\t\t\t\t\t\t\t\tstate.total += _out;\n\t\t\t\t\t\t\t\t\t\tif ( _out ) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.adler = state.check =\n\t\t\t\t\t\t\t\t\t\t\t\t/*UPDATE(state.check, put - _out, _out);*/\n\t\t\t\t\t\t\t\t\t\t\t\tstate.flags\n\t\t\t\t\t\t\t\t\t\t\t\t\t? crc32(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tput - _out\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: adler32(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tput - _out\n\t\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t_out = left;\n\t\t\t\t\t\t\t\t\t\t// NB: crc32 stored as signed 32-bit int, zswap32 returns signed too\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t( state.flags\n\t\t\t\t\t\t\t\t\t\t\t\t? hold\n\t\t\t\t\t\t\t\t\t\t\t\t: zswap32( hold ) ) !==\n\t\t\t\t\t\t\t\t\t\t\tstate.check\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'incorrect data check';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:   check matches trailer\\n\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = LENGTH;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LENGTH:\n\t\t\t\t\t\t\t\t\tif ( state.wrap && state.flags ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32);\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\thold !==\n\t\t\t\t\t\t\t\t\t\t\t( state.total & 0xffffffff )\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'incorrect length check';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:   length matches trailer\\n\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = DONE;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DONE:\n\t\t\t\t\t\t\t\t\tret = Z_STREAM_END;\n\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\tcase BAD:\n\t\t\t\t\t\t\t\t\tret = Z_DATA_ERROR;\n\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\tcase MEM:\n\t\t\t\t\t\t\t\t\treturn Z_MEM_ERROR;\n\t\t\t\t\t\t\t\tcase SYNC:\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// inf_leave <- here is real place for \"goto inf_leave\", emulated via \"break inf_leave\"\n\n\t\t\t\t\t\t/*\n       Return from inflate(), updating the total counts and the check value.\n       If there was no progress during the inflate() call, return a buffer\n       error.  Call updatewindow() to create and/or update the window state.\n       Note: a memory error from inflate() is non-recoverable.\n     */\n\n\t\t\t\t\t\t//--- RESTORE() ---\n\t\t\t\t\t\tstrm.next_out = put;\n\t\t\t\t\t\tstrm.avail_out = left;\n\t\t\t\t\t\tstrm.next_in = next;\n\t\t\t\t\t\tstrm.avail_in = have;\n\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\t//---\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tstate.wsize ||\n\t\t\t\t\t\t\t( _out !== strm.avail_out &&\n\t\t\t\t\t\t\t\tstate.mode < BAD &&\n\t\t\t\t\t\t\t\t( state.mode < CHECK || flush !== Z_FINISH ) )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tupdatewindow(\n\t\t\t\t\t\t\t\t\tstrm,\n\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\tstrm.next_out,\n\t\t\t\t\t\t\t\t\t_out - strm.avail_out\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tstate.mode = MEM;\n\t\t\t\t\t\t\t\treturn Z_MEM_ERROR;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_in -= strm.avail_in;\n\t\t\t\t\t\t_out -= strm.avail_out;\n\t\t\t\t\t\tstrm.total_in += _in;\n\t\t\t\t\t\tstrm.total_out += _out;\n\t\t\t\t\t\tstate.total += _out;\n\t\t\t\t\t\tif ( state.wrap && _out ) {\n\t\t\t\t\t\t\tstrm.adler = state.check =\n\t\t\t\t\t\t\t\t/*UPDATE(state.check, strm.next_out - _out, _out);*/\n\t\t\t\t\t\t\t\tstate.flags\n\t\t\t\t\t\t\t\t\t? crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\tstrm.next_out - _out\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: adler32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\tstrm.next_out - _out\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstrm.data_type =\n\t\t\t\t\t\t\tstate.bits +\n\t\t\t\t\t\t\t( state.last ? 64 : 0 ) +\n\t\t\t\t\t\t\t( state.mode === TYPE ? 128 : 0 ) +\n\t\t\t\t\t\t\t( state.mode === LEN_ || state.mode === COPY_\n\t\t\t\t\t\t\t\t? 256\n\t\t\t\t\t\t\t\t: 0 );\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t( ( _in === 0 && _out === 0 ) ||\n\t\t\t\t\t\t\t\tflush === Z_FINISH ) &&\n\t\t\t\t\t\t\tret === Z_OK\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tret = Z_BUF_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateEnd( strm ) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! strm ||\n\t\t\t\t\t\t\t! strm.state /*|| strm->zfree == (free_func)0*/\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar state = strm.state;\n\t\t\t\t\t\tif ( state.window ) {\n\t\t\t\t\t\t\tstate.window = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstrm.state = null;\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateGetHeader( strm, head ) {\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\t/* check state */\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tif ( ( state.wrap & 2 ) === 0 ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* save header structure */\n\t\t\t\t\t\tstate.head = head;\n\t\t\t\t\t\thead.done = false;\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateSetDictionary( strm, dictionary ) {\n\t\t\t\t\t\tvar dictLength = dictionary.length;\n\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tvar dictid;\n\t\t\t\t\t\tvar ret;\n\n\t\t\t\t\t\t/* check state */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! strm /* == Z_NULL */ ||\n\t\t\t\t\t\t\t! strm.state /* == Z_NULL */\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\n\t\t\t\t\t\tif ( state.wrap !== 0 && state.mode !== DICT ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* check for correct dictionary identifier */\n\t\t\t\t\t\tif ( state.mode === DICT ) {\n\t\t\t\t\t\t\tdictid = 1; /* adler32(0, null, 0)*/\n\t\t\t\t\t\t\t/* dictid = adler32(dictid, dictionary, dictLength); */\n\t\t\t\t\t\t\tdictid = adler32(\n\t\t\t\t\t\t\t\tdictid,\n\t\t\t\t\t\t\t\tdictionary,\n\t\t\t\t\t\t\t\tdictLength,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( dictid !== state.check ) {\n\t\t\t\t\t\t\t\treturn Z_DATA_ERROR;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* copy dictionary to window using updatewindow(), which will amend the\n     existing dictionary if appropriate */\n\t\t\t\t\t\tret = updatewindow(\n\t\t\t\t\t\t\tstrm,\n\t\t\t\t\t\t\tdictionary,\n\t\t\t\t\t\t\tdictLength,\n\t\t\t\t\t\t\tdictLength\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\tstate.mode = MEM;\n\t\t\t\t\t\t\treturn Z_MEM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.havedict = 1;\n\t\t\t\t\t\t// Tracev((stderr, \"inflate:   dictionary set\\n\"));\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.inflateReset = inflateReset;\n\t\t\t\t\texports.inflateReset2 = inflateReset2;\n\t\t\t\t\texports.inflateResetKeep = inflateResetKeep;\n\t\t\t\t\texports.inflateInit = inflateInit;\n\t\t\t\t\texports.inflateInit2 = inflateInit2;\n\t\t\t\t\texports.inflate = inflate;\n\t\t\t\t\texports.inflateEnd = inflateEnd;\n\t\t\t\t\texports.inflateGetHeader = inflateGetHeader;\n\t\t\t\t\texports.inflateSetDictionary = inflateSetDictionary;\n\t\t\t\t\texports.inflateInfo = 'pako inflate (from Nodeca project)';\n\n\t\t\t\t\t/* Not implemented\n  exports.inflateCopy = inflateCopy;\n  exports.inflateGetDictionary = inflateGetDictionary;\n  exports.inflateMark = inflateMark;\n  exports.inflatePrime = inflatePrime;\n  exports.inflateSync = inflateSync;\n  exports.inflateSyncPoint = inflateSyncPoint;\n  exports.inflateUndermine = inflateUndermine;\n  */\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'../utils/common': 1,\n\t\t\t\t\t'./adler32': 3,\n\t\t\t\t\t'./crc32': 5,\n\t\t\t\t\t'./inffast': 7,\n\t\t\t\t\t'./inftrees': 9,\n\t\t\t\t},\n\t\t\t],\n\t\t\t9: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tvar utils = require( '../utils/common' );\n\n\t\t\t\t\tvar MAXBITS = 15;\n\t\t\t\t\tvar ENOUGH_LENS = 852;\n\t\t\t\t\tvar ENOUGH_DISTS = 592;\n\t\t\t\t\t//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);\n\n\t\t\t\t\tvar CODES = 0;\n\t\t\t\t\tvar LENS = 1;\n\t\t\t\t\tvar DISTS = 2;\n\n\t\t\t\t\tvar lbase = [\n\t\t\t\t\t\t/* Length codes 257..285 base */ 3, 4, 5, 6, 7, 8, 9,\n\t\t\t\t\t\t10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67,\n\t\t\t\t\t\t83, 99, 115, 131, 163, 195, 227, 258, 0, 0,\n\t\t\t\t\t];\n\n\t\t\t\t\tvar lext = [\n\t\t\t\t\t\t/* Length codes 257..285 extra */ 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19,\n\t\t\t\t\t\t19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78,\n\t\t\t\t\t];\n\n\t\t\t\t\tvar dbase = [\n\t\t\t\t\t\t/* Distance codes 0..29 base */ 1, 2, 3, 4, 5, 7, 9, 13,\n\t\t\t\t\t\t17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769,\n\t\t\t\t\t\t1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385,\n\t\t\t\t\t\t24577, 0, 0,\n\t\t\t\t\t];\n\n\t\t\t\t\tvar dext = [\n\t\t\t\t\t\t/* Distance codes 0..29 extra */ 16, 16, 16, 16, 17, 17,\n\t\t\t\t\t\t18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24,\n\t\t\t\t\t\t25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64,\n\t\t\t\t\t];\n\n\t\t\t\t\tmodule.exports = function inflate_table(\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tlens,\n\t\t\t\t\t\tlens_index,\n\t\t\t\t\t\tcodes,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\ttable_index,\n\t\t\t\t\t\twork,\n\t\t\t\t\t\topts\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar bits = opts.bits;\n\t\t\t\t\t\t//here = opts.here; /* table entry for duplication */\n\n\t\t\t\t\t\tvar len = 0; /* a code's length in bits */\n\t\t\t\t\t\tvar sym = 0; /* index of code symbols */\n\t\t\t\t\t\tvar min = 0,\n\t\t\t\t\t\t\tmax = 0; /* minimum and maximum code lengths */\n\t\t\t\t\t\tvar root = 0; /* number of index bits for root table */\n\t\t\t\t\t\tvar curr = 0; /* number of index bits for current table */\n\t\t\t\t\t\tvar drop = 0; /* code bits to drop for sub-table */\n\t\t\t\t\t\tvar left = 0; /* number of prefix codes available */\n\t\t\t\t\t\tvar used = 0; /* code entries in table used */\n\t\t\t\t\t\tvar huff = 0; /* Huffman code */\n\t\t\t\t\t\tvar incr; /* for incrementing code, index */\n\t\t\t\t\t\tvar fill; /* index for replicating entries */\n\t\t\t\t\t\tvar low; /* low bits for current root entry */\n\t\t\t\t\t\tvar mask; /* mask for low root bits */\n\t\t\t\t\t\tvar next; /* next available space in table */\n\t\t\t\t\t\tvar base = null; /* base value table to use */\n\t\t\t\t\t\tvar base_index = 0;\n\t\t\t\t\t\t//  var shoextra;    /* extra bits table to use */\n\t\t\t\t\t\tvar end; /* use base and extra for symbol > end */\n\t\t\t\t\t\tvar count = new utils.Buf16( MAXBITS + 1 ); //[MAXBITS+1];    /* number of codes of each length */\n\t\t\t\t\t\tvar offs = new utils.Buf16( MAXBITS + 1 ); //[MAXBITS+1];     /* offsets in table for each length */\n\t\t\t\t\t\tvar extra = null;\n\t\t\t\t\t\tvar extra_index = 0;\n\n\t\t\t\t\t\tvar here_bits, here_op, here_val;\n\n\t\t\t\t\t\t/*\n     Process a set of code lengths to create a canonical Huffman code.  The\n     code lengths are lens[0..codes-1].  Each length corresponds to the\n     symbols 0..codes-1.  The Huffman code is generated by first sorting the\n     symbols by length from short to long, and retaining the symbol order\n     for codes with equal lengths.  Then the code starts with all zero bits\n     for the first code of the shortest length, and the codes are integer\n     increments for the same length, and zeros are appended as the length\n     increases.  For the deflate format, these bits are stored backwards\n     from their more natural integer increment ordering, and so when the\n     decoding tables are built in the large loop below, the integer codes\n     are incremented backwards.\n\n     This routine assumes, but does not check, that all of the entries in\n     lens[] are in the range 0..MAXBITS.  The caller must assure this.\n     1..MAXBITS is interpreted as that code length.  zero means that that\n     symbol does not occur in this code.\n\n     The codes are sorted by computing a count of codes for each length,\n     creating from that a table of starting indices for each length in the\n     sorted table, and then entering the symbols in order in the sorted\n     table.  The sorted table is work[], with that space being provided by\n     the caller.\n\n     The length counts are used for other purposes as well, i.e. finding\n     the minimum and maximum length codes, determining if there are any\n     codes at all, checking for a valid set of lengths, and looking ahead\n     at length counts to determine sub-table sizes when building the\n     decoding tables.\n     */\n\n\t\t\t\t\t\t/* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */\n\t\t\t\t\t\tfor ( len = 0; len <= MAXBITS; len++ ) {\n\t\t\t\t\t\t\tcount[ len ] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor ( sym = 0; sym < codes; sym++ ) {\n\t\t\t\t\t\t\tcount[ lens[ lens_index + sym ] ]++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* bound code lengths, force root to be within code lengths */\n\t\t\t\t\t\troot = bits;\n\t\t\t\t\t\tfor ( max = MAXBITS; max >= 1; max-- ) {\n\t\t\t\t\t\t\tif ( count[ max ] !== 0 ) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( root > max ) {\n\t\t\t\t\t\t\troot = max;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( max === 0 ) {\n\t\t\t\t\t\t\t/* no symbols to code at all */\n\t\t\t\t\t\t\t//table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */\n\t\t\t\t\t\t\t//table.bits[opts.table_index] = 1;   //here.bits = (var char)1;\n\t\t\t\t\t\t\t//table.val[opts.table_index++] = 0;   //here.val = (var short)0;\n\t\t\t\t\t\t\ttable[ table_index++ ] =\n\t\t\t\t\t\t\t\t( 1 << 24 ) | ( 64 << 16 ) | 0;\n\n\t\t\t\t\t\t\t//table.op[opts.table_index] = 64;\n\t\t\t\t\t\t\t//table.bits[opts.table_index] = 1;\n\t\t\t\t\t\t\t//table.val[opts.table_index++] = 0;\n\t\t\t\t\t\t\ttable[ table_index++ ] =\n\t\t\t\t\t\t\t\t( 1 << 24 ) | ( 64 << 16 ) | 0;\n\n\t\t\t\t\t\t\topts.bits = 1;\n\t\t\t\t\t\t\treturn 0; /* no symbols, but wait for decoding to report error */\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor ( min = 1; min < max; min++ ) {\n\t\t\t\t\t\t\tif ( count[ min ] !== 0 ) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( root < min ) {\n\t\t\t\t\t\t\troot = min;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* check for an over-subscribed or incomplete set of lengths */\n\t\t\t\t\t\tleft = 1;\n\t\t\t\t\t\tfor ( len = 1; len <= MAXBITS; len++ ) {\n\t\t\t\t\t\t\tleft <<= 1;\n\t\t\t\t\t\t\tleft -= count[ len ];\n\t\t\t\t\t\t\tif ( left < 0 ) {\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t} /* over-subscribed */\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( left > 0 && ( type === CODES || max !== 1 ) ) {\n\t\t\t\t\t\t\treturn -1; /* incomplete set */\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* generate offsets into symbol table for each length for sorting */\n\t\t\t\t\t\toffs[ 1 ] = 0;\n\t\t\t\t\t\tfor ( len = 1; len < MAXBITS; len++ ) {\n\t\t\t\t\t\t\toffs[ len + 1 ] = offs[ len ] + count[ len ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* sort symbols by length, by symbol order within each length */\n\t\t\t\t\t\tfor ( sym = 0; sym < codes; sym++ ) {\n\t\t\t\t\t\t\tif ( lens[ lens_index + sym ] !== 0 ) {\n\t\t\t\t\t\t\t\twork[ offs[ lens[ lens_index + sym ] ]++ ] =\n\t\t\t\t\t\t\t\t\tsym;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*\n     Create and fill in decoding tables.  In this loop, the table being\n     filled is at next and has curr index bits.  The code being used is huff\n     with length len.  That code is converted to an index by dropping drop\n     bits off of the bottom.  For codes where len is less than drop + curr,\n     those top drop + curr - len bits are incremented through all values to\n     fill the table with replicated entries.\n\n     root is the number of index bits for the root table.  When len exceeds\n     root, sub-tables are created pointed to by the root entry with an index\n     of the low root bits of huff.  This is saved in low to check for when a\n     new sub-table should be started.  drop is zero when the root table is\n     being filled, and drop is root when sub-tables are being filled.\n\n     When a new sub-table is needed, it is necessary to look ahead in the\n     code lengths to determine what size sub-table is needed.  The length\n     counts are used for this, and so count[] is decremented as codes are\n     entered in the tables.\n\n     used keeps track of how many table entries have been allocated from the\n     provided *table space.  It is checked for LENS and DIST tables against\n     the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in\n     the initial root table size constants.  See the comments in inftrees.h\n     for more information.\n\n     sym increments through all symbols, and the loop terminates when\n     all codes of length max, i.e. all codes, have been processed.  This\n     routine permits incomplete codes, so another loop after this one fills\n     in the rest of the decoding tables with invalid code markers.\n     */\n\n\t\t\t\t\t\t/* set up for code type */\n\t\t\t\t\t\t// poor man optimization - use if-else instead of switch,\n\t\t\t\t\t\t// to avoid deopts in old v8\n\t\t\t\t\t\tif ( type === CODES ) {\n\t\t\t\t\t\t\tbase = extra = work; /* dummy value--not used */\n\t\t\t\t\t\t\tend = 19;\n\t\t\t\t\t\t} else if ( type === LENS ) {\n\t\t\t\t\t\t\tbase = lbase;\n\t\t\t\t\t\t\tbase_index -= 257;\n\t\t\t\t\t\t\textra = lext;\n\t\t\t\t\t\t\textra_index -= 257;\n\t\t\t\t\t\t\tend = 256;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t/* DISTS */\n\t\t\t\t\t\t\tbase = dbase;\n\t\t\t\t\t\t\textra = dext;\n\t\t\t\t\t\t\tend = -1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* initialize opts for loop */\n\t\t\t\t\t\thuff = 0; /* starting code */\n\t\t\t\t\t\tsym = 0; /* starting code symbol */\n\t\t\t\t\t\tlen = min; /* starting code length */\n\t\t\t\t\t\tnext = table_index; /* current table to fill in */\n\t\t\t\t\t\tcurr = root; /* current table index bits */\n\t\t\t\t\t\tdrop = 0; /* current bits to drop from code for index */\n\t\t\t\t\t\tlow = -1; /* trigger new sub-table when len > root */\n\t\t\t\t\t\tused = 1 << root; /* use root table entries */\n\t\t\t\t\t\tmask = used - 1; /* mask for comparing low */\n\n\t\t\t\t\t\t/* check available table space */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t( type === LENS && used > ENOUGH_LENS ) ||\n\t\t\t\t\t\t\t( type === DISTS && used > ENOUGH_DISTS )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* process all codes and make table entries */\n\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t/* create table entry */\n\t\t\t\t\t\t\there_bits = len - drop;\n\t\t\t\t\t\t\tif ( work[ sym ] < end ) {\n\t\t\t\t\t\t\t\there_op = 0;\n\t\t\t\t\t\t\t\there_val = work[ sym ];\n\t\t\t\t\t\t\t} else if ( work[ sym ] > end ) {\n\t\t\t\t\t\t\t\there_op = extra[ extra_index + work[ sym ] ];\n\t\t\t\t\t\t\t\there_val = base[ base_index + work[ sym ] ];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\there_op = 32 + 64; /* end of block */\n\t\t\t\t\t\t\t\there_val = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* replicate for those indices with low len bits equal to huff */\n\t\t\t\t\t\t\tincr = 1 << ( len - drop );\n\t\t\t\t\t\t\tfill = 1 << curr;\n\t\t\t\t\t\t\tmin = fill; /* save offset to next table */\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\tfill -= incr;\n\t\t\t\t\t\t\t\ttable[ next + ( huff >> drop ) + fill ] =\n\t\t\t\t\t\t\t\t\t( here_bits << 24 ) |\n\t\t\t\t\t\t\t\t\t( here_op << 16 ) |\n\t\t\t\t\t\t\t\t\there_val |\n\t\t\t\t\t\t\t\t\t0;\n\t\t\t\t\t\t\t} while ( fill !== 0 );\n\n\t\t\t\t\t\t\t/* backwards increment the len-bit code huff */\n\t\t\t\t\t\t\tincr = 1 << ( len - 1 );\n\t\t\t\t\t\t\twhile ( huff & incr ) {\n\t\t\t\t\t\t\t\tincr >>= 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( incr !== 0 ) {\n\t\t\t\t\t\t\t\thuff &= incr - 1;\n\t\t\t\t\t\t\t\thuff += incr;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\thuff = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* go to next symbol, update count, len */\n\t\t\t\t\t\t\tsym++;\n\t\t\t\t\t\t\tif ( --count[ len ] === 0 ) {\n\t\t\t\t\t\t\t\tif ( len === max ) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlen = lens[ lens_index + work[ sym ] ];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* create new sub-table if needed */\n\t\t\t\t\t\t\tif ( len > root && ( huff & mask ) !== low ) {\n\t\t\t\t\t\t\t\t/* if first time, transition to sub-tables */\n\t\t\t\t\t\t\t\tif ( drop === 0 ) {\n\t\t\t\t\t\t\t\t\tdrop = root;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* increment past last table */\n\t\t\t\t\t\t\t\tnext += min; /* here min is 1 << curr */\n\n\t\t\t\t\t\t\t\t/* determine length of next table */\n\t\t\t\t\t\t\t\tcurr = len - drop;\n\t\t\t\t\t\t\t\tleft = 1 << curr;\n\t\t\t\t\t\t\t\twhile ( curr + drop < max ) {\n\t\t\t\t\t\t\t\t\tleft -= count[ curr + drop ];\n\t\t\t\t\t\t\t\t\tif ( left <= 0 ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcurr++;\n\t\t\t\t\t\t\t\t\tleft <<= 1;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* check for enough space */\n\t\t\t\t\t\t\t\tused += 1 << curr;\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t( type === LENS && used > ENOUGH_LENS ) ||\n\t\t\t\t\t\t\t\t\t( type === DISTS && used > ENOUGH_DISTS )\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* point entry in root table to sub-table */\n\t\t\t\t\t\t\t\tlow = huff & mask;\n\t\t\t\t\t\t\t\t/*table.op[low] = curr;\n        table.bits[low] = root;\n        table.val[low] = next - opts.table_index;*/\n\t\t\t\t\t\t\t\ttable[ low ] =\n\t\t\t\t\t\t\t\t\t( root << 24 ) |\n\t\t\t\t\t\t\t\t\t( curr << 16 ) |\n\t\t\t\t\t\t\t\t\t( next - table_index ) |\n\t\t\t\t\t\t\t\t\t0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* fill in remaining table entry if code is incomplete (guaranteed to have\n     at most one remaining entry, since if the code is incomplete, the\n     maximum code length that was allowed to get this far is one bit) */\n\t\t\t\t\t\tif ( huff !== 0 ) {\n\t\t\t\t\t\t\t//table.op[next + huff] = 64;            /* invalid code marker */\n\t\t\t\t\t\t\t//table.bits[next + huff] = len - drop;\n\t\t\t\t\t\t\t//table.val[next + huff] = 0;\n\t\t\t\t\t\t\ttable[ next + huff ] =\n\t\t\t\t\t\t\t\t( ( len - drop ) << 24 ) | ( 64 << 16 ) | 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* set return parameters */\n\t\t\t\t\t\t//opts.table_index += used;\n\t\t\t\t\t\topts.bits = root;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ '../utils/common': 1 },\n\t\t\t],\n\t\t\t10: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tmodule.exports = {\n\t\t\t\t\t\t2: 'need dictionary' /* Z_NEED_DICT       2  */,\n\t\t\t\t\t\t1: 'stream end' /* Z_STREAM_END      1  */,\n\t\t\t\t\t\t0: '' /* Z_OK              0  */,\n\t\t\t\t\t\t'-1': 'file error' /* Z_ERRNO         (-1) */,\n\t\t\t\t\t\t'-2': 'stream error' /* Z_STREAM_ERROR  (-2) */,\n\t\t\t\t\t\t'-3': 'data error' /* Z_DATA_ERROR    (-3) */,\n\t\t\t\t\t\t'-4': 'insufficient memory' /* Z_MEM_ERROR     (-4) */,\n\t\t\t\t\t\t'-5': 'buffer error' /* Z_BUF_ERROR     (-5) */,\n\t\t\t\t\t\t'-6': 'incompatible version' /* Z_VERSION_ERROR (-6) */,\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t11: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tfunction ZStream() {\n\t\t\t\t\t\t/* next input byte */\n\t\t\t\t\t\tthis.input = null; // JS specific, because we have no pointers\n\t\t\t\t\t\tthis.next_in = 0;\n\t\t\t\t\t\t/* number of bytes available at input */\n\t\t\t\t\t\tthis.avail_in = 0;\n\t\t\t\t\t\t/* total number of input bytes read so far */\n\t\t\t\t\t\tthis.total_in = 0;\n\t\t\t\t\t\t/* next output byte should be put there */\n\t\t\t\t\t\tthis.output = null; // JS specific, because we have no pointers\n\t\t\t\t\t\tthis.next_out = 0;\n\t\t\t\t\t\t/* remaining free space at output */\n\t\t\t\t\t\tthis.avail_out = 0;\n\t\t\t\t\t\t/* total number of bytes output so far */\n\t\t\t\t\t\tthis.total_out = 0;\n\t\t\t\t\t\t/* last error message, NULL if no error */\n\t\t\t\t\t\tthis.msg = '' /*Z_NULL*/;\n\t\t\t\t\t\t/* not visible by applications */\n\t\t\t\t\t\tthis.state = null;\n\t\t\t\t\t\t/* best guess about the data type: binary or text */\n\t\t\t\t\t\tthis.data_type = 2 /*Z_UNKNOWN*/;\n\t\t\t\t\t\t/* adler32 value of the uncompressed data */\n\t\t\t\t\t\tthis.adler = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = ZStream;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t'/lib/inflate.js': [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\tvar zlib_inflate = require( './zlib/inflate' );\n\t\t\t\t\tvar utils = require( './utils/common' );\n\t\t\t\t\tvar strings = require( './utils/strings' );\n\t\t\t\t\tvar c = require( './zlib/constants' );\n\t\t\t\t\tvar msg = require( './zlib/messages' );\n\t\t\t\t\tvar ZStream = require( './zlib/zstream' );\n\t\t\t\t\tvar GZheader = require( './zlib/gzheader' );\n\n\t\t\t\t\tvar toString = Object.prototype.toString;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * class Inflate\n\t\t\t\t\t *\n\t\t\t\t\t * Generic JS-style wrapper for zlib calls. If you don't need\n\t\t\t\t\t * streaming behaviour - use more simple functions: [[inflate]]\n\t\t\t\t\t * and [[inflateRaw]].\n\t\t\t\t\t **/\n\n\t\t\t\t\t/* internal\n\t\t\t\t\t * inflate.chunks -> Array\n\t\t\t\t\t *\n\t\t\t\t\t * Chunks of output data, if [[Inflate#onData]] not overridden.\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate.result -> Uint8Array|Array|String\n\t\t\t\t\t *\n\t\t\t\t\t * Uncompressed result, generated by default [[Inflate#onData]]\n\t\t\t\t\t * and [[Inflate#onEnd]] handlers. Filled after you push last chunk\n\t\t\t\t\t * (call [[Inflate#push]] with `Z_FINISH` / `true` param) or if you\n\t\t\t\t\t * push a chunk with explicit flush (call [[Inflate#push]] with\n\t\t\t\t\t * `Z_SYNC_FLUSH` param).\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate.err -> Number\n\t\t\t\t\t *\n\t\t\t\t\t * Error code after inflate finished. 0 (Z_OK) on success.\n\t\t\t\t\t * Should be checked if broken data possible.\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate.msg -> String\n\t\t\t\t\t *\n\t\t\t\t\t * Error message, if [[Inflate.err]] != 0\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * new Inflate(options)\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * Creates new inflator instance with specified params. Throws exception\n\t\t\t\t\t * on bad params. Supported options:\n\t\t\t\t\t *\n\t\t\t\t\t * - `windowBits`\n\t\t\t\t\t * - `dictionary`\n\t\t\t\t\t *\n\t\t\t\t\t * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n\t\t\t\t\t * for more information on these.\n\t\t\t\t\t *\n\t\t\t\t\t * Additional options, for internal needs:\n\t\t\t\t\t *\n\t\t\t\t\t * - `chunkSize` - size of generated data chunks (16K by default)\n\t\t\t\t\t * - `raw` (Boolean) - do raw inflate\n\t\t\t\t\t * - `to` (String) - if equal to 'string', then result will be converted\n\t\t\t\t\t *   from utf8 to utf16 (javascript) string. When string output requested,\n\t\t\t\t\t *   chunk length can differ from `chunkSize`, depending on content.\n\t\t\t\t\t *\n\t\t\t\t\t * By default, when no options set, autodetect deflate/gzip data format via\n\t\t\t\t\t * wrapper header.\n\t\t\t\t\t *\n\t\t\t\t\t * ##### Example:\n\t\t\t\t\t *\n\t\t\t\t\t * ```javascript\n\t\t\t\t\t * var pako = require('pako')\n\t\t\t\t\t *   , chunk1 = Uint8Array([1,2,3,4,5,6,7,8,9])\n\t\t\t\t\t *   , chunk2 = Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n\t\t\t\t\t *\n\t\t\t\t\t * var inflate = new pako.Inflate({ level: 3});\n\t\t\t\t\t *\n\t\t\t\t\t * inflate.push(chunk1, false);\n\t\t\t\t\t * inflate.push(chunk2, true);  // true -> last chunk\n\t\t\t\t\t *\n\t\t\t\t\t * if (inflate.err) { throw new Error(inflate.err); }\n\t\t\t\t\t *\n\t\t\t\t\t * console.log(inflate.result);\n\t\t\t\t\t * ```\n\t\t\t\t\t **/\n\t\t\t\t\tfunction Inflate( options ) {\n\t\t\t\t\t\tif ( ! ( this instanceof Inflate ) )\n\t\t\t\t\t\t\treturn new Inflate( options );\n\n\t\t\t\t\t\tthis.options = utils.assign(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tchunkSize: 16384,\n\t\t\t\t\t\t\t\twindowBits: 0,\n\t\t\t\t\t\t\t\tto: '',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\toptions || {}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tvar opt = this.options;\n\n\t\t\t\t\t\t// Force window size for `raw` data, if not set directly,\n\t\t\t\t\t\t// because we have no header for autodetect.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\topt.raw &&\n\t\t\t\t\t\t\topt.windowBits >= 0 &&\n\t\t\t\t\t\t\topt.windowBits < 16\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\topt.windowBits = -opt.windowBits;\n\t\t\t\t\t\t\tif ( opt.windowBits === 0 ) {\n\t\t\t\t\t\t\t\topt.windowBits = -15;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If `windowBits` not defined (and mode not raw) - set autodetect flag for gzip/deflate\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\topt.windowBits >= 0 &&\n\t\t\t\t\t\t\topt.windowBits < 16 &&\n\t\t\t\t\t\t\t! ( options && options.windowBits )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\topt.windowBits += 32;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Gzip header has no info about windows size, we can do autodetect only\n\t\t\t\t\t\t// for deflate. So, if window size not set, force it to max when gzip possible\n\t\t\t\t\t\tif ( opt.windowBits > 15 && opt.windowBits < 48 ) {\n\t\t\t\t\t\t\t// bit 3 (16) -> gzipped data\n\t\t\t\t\t\t\t// bit 4 (32) -> autodetect gzip/deflate\n\t\t\t\t\t\t\tif ( ( opt.windowBits & 15 ) === 0 ) {\n\t\t\t\t\t\t\t\topt.windowBits |= 15;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.err = 0; // error code, if happens (0 = Z_OK)\n\t\t\t\t\t\tthis.msg = ''; // error message\n\t\t\t\t\t\tthis.ended = false; // used to avoid multiple onEnd() calls\n\t\t\t\t\t\tthis.chunks = []; // chunks of compressed data\n\n\t\t\t\t\t\tthis.strm = new ZStream();\n\t\t\t\t\t\tthis.strm.avail_out = 0;\n\n\t\t\t\t\t\tvar status = zlib_inflate.inflateInit2(\n\t\t\t\t\t\t\tthis.strm,\n\t\t\t\t\t\t\topt.windowBits\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif ( status !== c.Z_OK ) {\n\t\t\t\t\t\t\tthrow new Error( msg[ status ] );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.header = new GZheader();\n\n\t\t\t\t\t\tzlib_inflate.inflateGetHeader( this.strm, this.header );\n\n\t\t\t\t\t\t// Setup dictionary\n\t\t\t\t\t\tif ( opt.dictionary ) {\n\t\t\t\t\t\t\t// Convert data if needed\n\t\t\t\t\t\t\tif ( typeof opt.dictionary === 'string' ) {\n\t\t\t\t\t\t\t\topt.dictionary = strings.string2buf(\n\t\t\t\t\t\t\t\t\topt.dictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\ttoString.call( opt.dictionary ) ===\n\t\t\t\t\t\t\t\t'[object ArrayBuffer]'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\topt.dictionary = new Uint8Array(\n\t\t\t\t\t\t\t\t\topt.dictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( opt.raw ) {\n\t\t\t\t\t\t\t\t//In raw mode we need to set the dictionary early\n\t\t\t\t\t\t\t\tstatus = zlib_inflate.inflateSetDictionary(\n\t\t\t\t\t\t\t\t\tthis.strm,\n\t\t\t\t\t\t\t\t\topt.dictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif ( status !== c.Z_OK ) {\n\t\t\t\t\t\t\t\t\tthrow new Error( msg[ status ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate#push(data[, mode]) -> Boolean\n\t\t\t\t\t * - data (Uint8Array|Array|ArrayBuffer|String): input data\n\t\t\t\t\t * - mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n\t\t\t\t\t *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.\n\t\t\t\t\t *\n\t\t\t\t\t * Sends input data to inflate pipe, generating [[Inflate#onData]] calls with\n\t\t\t\t\t * new output chunks. Returns `true` on success. The last data block must have\n\t\t\t\t\t * mode Z_FINISH (or `true`). That will flush internal pending buffers and call\n\t\t\t\t\t * [[Inflate#onEnd]]. For interim explicit flushes (without ending the stream) you\n\t\t\t\t\t * can use mode Z_SYNC_FLUSH, keeping the decompression context.\n\t\t\t\t\t *\n\t\t\t\t\t * On fail call [[Inflate#onEnd]] with error code and return false.\n\t\t\t\t\t *\n\t\t\t\t\t * We strongly recommend to use `Uint8Array` on input for best speed (output\n\t\t\t\t\t * format is detected automatically). Also, don't skip last param and always\n\t\t\t\t\t * use the same type in your code (boolean or number). That will improve JS speed.\n\t\t\t\t\t *\n\t\t\t\t\t * For regular `Array`-s make sure all elements are [0..255].\n\t\t\t\t\t *\n\t\t\t\t\t * ##### Example\n\t\t\t\t\t *\n\t\t\t\t\t * ```javascript\n\t\t\t\t\t * push(chunk, false); // push one of data chunks\n\t\t\t\t\t * ...\n\t\t\t\t\t * push(chunk, true);  // push last chunk\n\t\t\t\t\t * ```\n\t\t\t\t\t **/\n\t\t\t\t\tInflate.prototype.push = function ( data, mode ) {\n\t\t\t\t\t\tvar strm = this.strm;\n\t\t\t\t\t\tvar chunkSize = this.options.chunkSize;\n\t\t\t\t\t\tvar dictionary = this.options.dictionary;\n\t\t\t\t\t\tvar status, _mode;\n\t\t\t\t\t\tvar next_out_utf8, tail, utf8str;\n\n\t\t\t\t\t\t// Flag to properly process Z_BUF_ERROR on testing inflate call\n\t\t\t\t\t\t// when we check that all output data was flushed.\n\t\t\t\t\t\tvar allowBufError = false;\n\n\t\t\t\t\t\tif ( this.ended ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_mode =\n\t\t\t\t\t\t\tmode === ~~mode\n\t\t\t\t\t\t\t\t? mode\n\t\t\t\t\t\t\t\t: mode === true\n\t\t\t\t\t\t\t\t? c.Z_FINISH\n\t\t\t\t\t\t\t\t: c.Z_NO_FLUSH;\n\n\t\t\t\t\t\t// Convert data if needed\n\t\t\t\t\t\tif ( typeof data === 'string' ) {\n\t\t\t\t\t\t\t// Only binary strings can be decompressed on practice\n\t\t\t\t\t\t\tstrm.input = strings.binstring2buf( data );\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\ttoString.call( data ) === '[object ArrayBuffer]'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tstrm.input = new Uint8Array( data );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstrm.input = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstrm.next_in = 0;\n\t\t\t\t\t\tstrm.avail_in = strm.input.length;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ( strm.avail_out === 0 ) {\n\t\t\t\t\t\t\t\tstrm.output = new utils.Buf8( chunkSize );\n\t\t\t\t\t\t\t\tstrm.next_out = 0;\n\t\t\t\t\t\t\t\tstrm.avail_out = chunkSize;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstatus = zlib_inflate.inflate(\n\t\t\t\t\t\t\t\tstrm,\n\t\t\t\t\t\t\t\tc.Z_NO_FLUSH\n\t\t\t\t\t\t\t); /* no bad return value */\n\n\t\t\t\t\t\t\tif ( status === c.Z_NEED_DICT && dictionary ) {\n\t\t\t\t\t\t\t\tstatus = zlib_inflate.inflateSetDictionary(\n\t\t\t\t\t\t\t\t\tthis.strm,\n\t\t\t\t\t\t\t\t\tdictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tstatus === c.Z_BUF_ERROR &&\n\t\t\t\t\t\t\t\tallowBufError === true\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tstatus = c.Z_OK;\n\t\t\t\t\t\t\t\tallowBufError = false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tstatus !== c.Z_STREAM_END &&\n\t\t\t\t\t\t\t\tstatus !== c.Z_OK\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.onEnd( status );\n\t\t\t\t\t\t\t\tthis.ended = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( strm.next_out ) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tstrm.avail_out === 0 ||\n\t\t\t\t\t\t\t\t\tstatus === c.Z_STREAM_END ||\n\t\t\t\t\t\t\t\t\t( strm.avail_in === 0 &&\n\t\t\t\t\t\t\t\t\t\t( _mode === c.Z_FINISH ||\n\t\t\t\t\t\t\t\t\t\t\t_mode === c.Z_SYNC_FLUSH ) )\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tif ( this.options.to === 'string' ) {\n\t\t\t\t\t\t\t\t\t\tnext_out_utf8 = strings.utf8border(\n\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\tstrm.next_out\n\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\ttail = strm.next_out - next_out_utf8;\n\t\t\t\t\t\t\t\t\t\tutf8str = strings.buf2string(\n\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\tnext_out_utf8\n\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// move tail\n\t\t\t\t\t\t\t\t\t\tstrm.next_out = tail;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_out = chunkSize - tail;\n\t\t\t\t\t\t\t\t\t\tif ( tail ) {\n\t\t\t\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\t\tnext_out_utf8,\n\t\t\t\t\t\t\t\t\t\t\t\ttail,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tthis.onData( utf8str );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.onData(\n\t\t\t\t\t\t\t\t\t\t\tutils.shrinkBuf(\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.next_out\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// When no more input data, we should check that internal inflate buffers\n\t\t\t\t\t\t\t// are flushed. The only way to do it when avail_out = 0 - run one more\n\t\t\t\t\t\t\t// inflate pass. But if output data not exists, inflate return Z_BUF_ERROR.\n\t\t\t\t\t\t\t// Here we set flag to process this error properly.\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// NOTE. Deflate does not return error in this case and does not needs such\n\t\t\t\t\t\t\t// logic.\n\t\t\t\t\t\t\tif ( strm.avail_in === 0 && strm.avail_out === 0 ) {\n\t\t\t\t\t\t\t\tallowBufError = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while (\n\t\t\t\t\t\t\t( strm.avail_in > 0 || strm.avail_out === 0 ) &&\n\t\t\t\t\t\t\tstatus !== c.Z_STREAM_END\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif ( status === c.Z_STREAM_END ) {\n\t\t\t\t\t\t\t_mode = c.Z_FINISH;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Finalize on the last chunk.\n\t\t\t\t\t\tif ( _mode === c.Z_FINISH ) {\n\t\t\t\t\t\t\tstatus = zlib_inflate.inflateEnd( this.strm );\n\t\t\t\t\t\t\tthis.onEnd( status );\n\t\t\t\t\t\t\tthis.ended = true;\n\t\t\t\t\t\t\treturn status === c.Z_OK;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// callback interim results if Z_SYNC_FLUSH.\n\t\t\t\t\t\tif ( _mode === c.Z_SYNC_FLUSH ) {\n\t\t\t\t\t\t\tthis.onEnd( c.Z_OK );\n\t\t\t\t\t\t\tstrm.avail_out = 0;\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate#onData(chunk) -> Void\n\t\t\t\t\t * - chunk (Uint8Array|Array|String): output data. Type of array depends\n\t\t\t\t\t *   on js engine support. When string output requested, each chunk\n\t\t\t\t\t *   will be string.\n\t\t\t\t\t *\n\t\t\t\t\t * By default, stores data blocks in `chunks[]` property and glue\n\t\t\t\t\t * those in `onEnd`. Override this handler, if you need another behaviour.\n\t\t\t\t\t **/\n\t\t\t\t\tInflate.prototype.onData = function ( chunk ) {\n\t\t\t\t\t\tthis.chunks.push( chunk );\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate#onEnd(status) -> Void\n\t\t\t\t\t * - status (Number): inflate status. 0 (Z_OK) on success,\n\t\t\t\t\t *   other if not.\n\t\t\t\t\t *\n\t\t\t\t\t * Called either after you tell inflate that the input stream is\n\t\t\t\t\t * complete (Z_FINISH) or should be flushed (Z_SYNC_FLUSH)\n\t\t\t\t\t * or if an error happened. By default - join collected chunks,\n\t\t\t\t\t * free memory and fill `results` / `err` properties.\n\t\t\t\t\t **/\n\t\t\t\t\tInflate.prototype.onEnd = function ( status ) {\n\t\t\t\t\t\t// On success - join\n\t\t\t\t\t\tif ( status === c.Z_OK ) {\n\t\t\t\t\t\t\tif ( this.options.to === 'string' ) {\n\t\t\t\t\t\t\t\t// Glue & convert here, until we teach pako to send\n\t\t\t\t\t\t\t\t// utf8 aligned strings to onData\n\t\t\t\t\t\t\t\tthis.result = this.chunks.join( '' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.result = utils.flattenChunks(\n\t\t\t\t\t\t\t\t\tthis.chunks\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.chunks = [];\n\t\t\t\t\t\tthis.err = status;\n\t\t\t\t\t\tthis.msg = this.strm.msg;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * inflate(data[, options]) -> Uint8Array|Array|String\n\t\t\t\t\t * - data (Uint8Array|Array|String): input data to decompress.\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * Decompress `data` with inflate/ungzip and `options`. Autodetect\n\t\t\t\t\t * format via wrapper header by default. That's why we don't provide\n\t\t\t\t\t * separate `ungzip` method.\n\t\t\t\t\t *\n\t\t\t\t\t * Supported options are:\n\t\t\t\t\t *\n\t\t\t\t\t * - windowBits\n\t\t\t\t\t *\n\t\t\t\t\t * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n\t\t\t\t\t * for more information.\n\t\t\t\t\t *\n\t\t\t\t\t * Sugar (options):\n\t\t\t\t\t *\n\t\t\t\t\t * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify\n\t\t\t\t\t *   negative windowBits implicitly.\n\t\t\t\t\t * - `to` (String) - if equal to 'string', then result will be converted\n\t\t\t\t\t *   from utf8 to utf16 (javascript) string. When string output requested,\n\t\t\t\t\t *   chunk length can differ from `chunkSize`, depending on content.\n\t\t\t\t\t *\n\t\t\t\t\t *\n\t\t\t\t\t * ##### Example:\n\t\t\t\t\t *\n\t\t\t\t\t * ```javascript\n\t\t\t\t\t * var pako = require('pako')\n\t\t\t\t\t *   , input = pako.deflate([1,2,3,4,5,6,7,8,9])\n\t\t\t\t\t *   , output;\n\t\t\t\t\t *\n\t\t\t\t\t * try {\n\t\t\t\t\t *   output = pako.inflate(input);\n\t\t\t\t\t * } catch (err)\n\t\t\t\t\t *   console.log(err);\n\t\t\t\t\t * }\n\t\t\t\t\t * ```\n\t\t\t\t\t **/\n\t\t\t\t\tfunction inflate( input, options ) {\n\t\t\t\t\t\tvar inflator = new Inflate( options );\n\n\t\t\t\t\t\tinflator.push( input, true );\n\n\t\t\t\t\t\t// That will never happens, if you don't cheat with options :)\n\t\t\t\t\t\tif ( inflator.err ) {\n\t\t\t\t\t\t\tthrow inflator.msg || msg[ inflator.err ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn inflator.result;\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * inflateRaw(data[, options]) -> Uint8Array|Array|String\n\t\t\t\t\t * - data (Uint8Array|Array|String): input data to decompress.\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * The same as [[inflate]], but creates raw data, without wrapper\n\t\t\t\t\t * (header and adler32 crc).\n\t\t\t\t\t **/\n\t\t\t\t\tfunction inflateRaw( input, options ) {\n\t\t\t\t\t\toptions = options || {};\n\t\t\t\t\t\toptions.raw = true;\n\t\t\t\t\t\treturn inflate( input, options );\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * ungzip(data[, options]) -> Uint8Array|Array|String\n\t\t\t\t\t * - data (Uint8Array|Array|String): input data to decompress.\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * Just shortcut to [[inflate]], because it autodetects format\n\t\t\t\t\t * by header.content. Done for convenience.\n\t\t\t\t\t **/\n\n\t\t\t\t\texports.Inflate = Inflate;\n\t\t\t\t\texports.inflate = inflate;\n\t\t\t\t\texports.inflateRaw = inflateRaw;\n\t\t\t\t\texports.ungzip = inflate;\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'./utils/common': 1,\n\t\t\t\t\t'./utils/strings': 2,\n\t\t\t\t\t'./zlib/constants': 4,\n\t\t\t\t\t'./zlib/gzheader': 6,\n\t\t\t\t\t'./zlib/inflate': 8,\n\t\t\t\t\t'./zlib/messages': 10,\n\t\t\t\t\t'./zlib/zstream': 11,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{},\n\t\t[]\n\t)( '/lib/inflate.js' );\n} );\n/* eslint-enable */\n", "/**\n * Credits:\n *\n * lib-font\n * https://github.com/Pomax/lib-font\n * https://github.com/Pomax/lib-font/blob/master/lib-font.browser.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 pomax@nihongoresources.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint eslint-comments/no-unlimited-disable: 0 */\n/* eslint-disable */\n// import pako from 'pako';\nimport unbrotli from './unbrotli';\nimport GzipDecode from './inflate';\n\nlet fetchFunction = globalThis.fetch;\n// if ( ! fetchFunction ) {\n// \tlet backlog = [];\n// \tfetchFunction = globalThis.fetch = ( ...args ) =>\n// \t\tnew Promise( ( resolve, reject ) => {\n// \t\t\tbacklog.push( { args: args, resolve: resolve, reject: reject } );\n// \t\t} );\n// \timport( 'fs' )\n// \t\t.then( ( fs ) => {\n// \t\t\tfetchFunction = globalThis.fetch = async function ( path ) {\n// \t\t\t\treturn new Promise( ( resolve, reject ) => {\n// \t\t\t\t\tfs.readFile( path, ( err, data ) => {\n// \t\t\t\t\t\tif ( err ) return reject( err );\n// \t\t\t\t\t\tresolve( { ok: true, arrayBuffer: () => data.buffer } );\n// \t\t\t\t\t} );\n// \t\t\t\t} );\n// \t\t\t};\n// \t\t\twhile ( backlog.length ) {\n// \t\t\t\tlet instruction = backlog.shift();\n// \t\t\t\tfetchFunction( ...instruction.args )\n// \t\t\t\t\t.then( ( data ) => instruction.resolve( data ) )\n// \t\t\t\t\t.catch( ( err ) => instruction.reject( err ) );\n// \t\t\t}\n// \t\t} )\n// \t\t.catch( ( err ) => {\n// \t\t\tconsole.error( err );\n// \t\t\tthrow new Error(\n// \t\t\t\t`lib-font cannot run unless either the Fetch API or Node's filesystem module is available.`\n// \t\t\t);\n// \t\t} );\n// }\nclass Event {\n\tconstructor( type, detail = {}, msg ) {\n\t\tthis.type = type;\n\t\tthis.detail = detail;\n\t\tthis.msg = msg;\n\t\tObject.defineProperty( this, `__mayPropagate`, {\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t} );\n\t\tthis.__mayPropagate = true;\n\t}\n\tpreventDefault() {}\n\tstopPropagation() {\n\t\tthis.__mayPropagate = false;\n\t}\n\tvalueOf() {\n\t\treturn this;\n\t}\n\ttoString() {\n\t\treturn this.msg\n\t\t\t? `[${ this.type } event]: ${ this.msg }`\n\t\t\t: `[${ this.type } event]`;\n\t}\n}\nclass EventManager {\n\tconstructor() {\n\t\tthis.listeners = {};\n\t}\n\taddEventListener( type, listener, useCapture ) {\n\t\tlet bin = this.listeners[ type ] || [];\n\t\tif ( useCapture ) bin.unshift( listener );\n\t\telse bin.push( listener );\n\t\tthis.listeners[ type ] = bin;\n\t}\n\tremoveEventListener( type, listener ) {\n\t\tlet bin = this.listeners[ type ] || [];\n\t\tlet pos = bin.findIndex( ( e ) => e === listener );\n\t\tif ( pos > -1 ) {\n\t\t\tbin.splice( pos, 1 );\n\t\t\tthis.listeners[ type ] = bin;\n\t\t}\n\t}\n\tdispatch( event ) {\n\t\tlet bin = this.listeners[ event.type ];\n\t\tif ( bin ) {\n\t\t\tfor ( let l = 0, e = bin.length; l < e; l++ ) {\n\t\t\t\tif ( ! event.__mayPropagate ) break;\n\t\t\t\tbin[ l ]( event );\n\t\t\t}\n\t\t}\n\t}\n}\nconst startDate = new Date( `1904-01-01T00:00:00+0000` ).getTime();\nfunction asText( data ) {\n\treturn Array.from( data )\n\t\t.map( ( v ) => String.fromCharCode( v ) )\n\t\t.join( `` );\n}\nclass Parser {\n\tconstructor( dict, dataview, name ) {\n\t\tthis.name = ( name || dict.tag || `` ).trim();\n\t\tthis.length = dict.length;\n\t\tthis.start = dict.offset;\n\t\tthis.offset = 0;\n\t\tthis.data = dataview;\n\t\t[\n\t\t\t`getInt8`,\n\t\t\t`getUint8`,\n\t\t\t`getInt16`,\n\t\t\t`getUint16`,\n\t\t\t`getInt32`,\n\t\t\t`getUint32`,\n\t\t\t`getBigInt64`,\n\t\t\t`getBigUint64`,\n\t\t].forEach( ( name ) => {\n\t\t\tlet fn = name.replace( /get(Big)?/, '' ).toLowerCase();\n\t\t\tlet increment = parseInt( name.replace( /[^\\d]/g, '' ) ) / 8;\n\t\t\tObject.defineProperty( this, fn, {\n\t\t\t\tget: () => this.getValue( name, increment ),\n\t\t\t} );\n\t\t} );\n\t}\n\tget currentPosition() {\n\t\treturn this.start + this.offset;\n\t}\n\tset currentPosition( position ) {\n\t\tthis.start = position;\n\t\tthis.offset = 0;\n\t}\n\tskip( n = 0, bits = 8 ) {\n\t\tthis.offset += ( n * bits ) / 8;\n\t}\n\tgetValue( type, increment ) {\n\t\tlet pos = this.start + this.offset;\n\t\tthis.offset += increment;\n\t\ttry {\n\t\t\treturn this.data[ type ]( pos );\n\t\t} catch ( e ) {\n\t\t\tconsole.error( `parser`, type, increment, this );\n\t\t\tconsole.error( `parser`, this.start, this.offset );\n\t\t\tthrow e;\n\t\t}\n\t}\n\tflags( n ) {\n\t\tif ( n === 8 || n === 16 || n === 32 || n === 64 ) {\n\t\t\treturn this[ `uint${ n }` ]\n\t\t\t\t.toString( 2 )\n\t\t\t\t.padStart( n, 0 )\n\t\t\t\t.split( `` )\n\t\t\t\t.map( ( v ) => v === '1' );\n\t\t}\n\t\tconsole.error(\n\t\t\t`Error parsing flags: flag types can only be 1, 2, 4, or 8 bytes long`\n\t\t);\n\t\tconsole.trace();\n\t}\n\tget tag() {\n\t\tconst t = this.uint32;\n\t\treturn asText( [\n\t\t\t( t >> 24 ) & 255,\n\t\t\t( t >> 16 ) & 255,\n\t\t\t( t >> 8 ) & 255,\n\t\t\tt & 255,\n\t\t] );\n\t}\n\tget fixed() {\n\t\tlet major = this.int16;\n\t\tlet minor = Math.round( ( 1e3 * this.uint16 ) / 65356 );\n\t\treturn major + minor / 1e3;\n\t}\n\tget legacyFixed() {\n\t\tlet major = this.uint16;\n\t\tlet minor = this.uint16.toString( 16 ).padStart( 4, 0 );\n\t\treturn parseFloat( `${ major }.${ minor }` );\n\t}\n\tget uint24() {\n\t\treturn ( this.uint8 << 16 ) + ( this.uint8 << 8 ) + this.uint8;\n\t}\n\tget uint128() {\n\t\tlet value = 0;\n\t\tfor ( let i = 0; i < 5; i++ ) {\n\t\t\tlet byte = this.uint8;\n\t\t\tvalue = value * 128 + ( byte & 127 );\n\t\t\tif ( byte < 128 ) break;\n\t\t}\n\t\treturn value;\n\t}\n\tget longdatetime() {\n\t\treturn new Date( startDate + 1e3 * parseInt( this.int64.toString() ) );\n\t}\n\tget fword() {\n\t\treturn this.int16;\n\t}\n\tget ufword() {\n\t\treturn this.uint16;\n\t}\n\tget Offset16() {\n\t\treturn this.uint16;\n\t}\n\tget Offset32() {\n\t\treturn this.uint32;\n\t}\n\tget F2DOT14() {\n\t\tconst bits = p.uint16;\n\t\tconst integer = [ 0, 1, -2, -1 ][ bits >> 14 ];\n\t\tconst fraction = bits & 16383;\n\t\treturn integer + fraction / 16384;\n\t}\n\tverifyLength() {\n\t\tif ( this.offset != this.length ) {\n\t\t\tconsole.error(\n\t\t\t\t`unexpected parsed table size (${ this.offset }) for \"${ this.name }\" (expected ${ this.length })`\n\t\t\t);\n\t\t}\n\t}\n\treadBytes( n = 0, position = 0, bits = 8, signed = false ) {\n\t\tn = n || this.length;\n\t\tif ( n === 0 ) return [];\n\t\tif ( position ) this.currentPosition = position;\n\t\tconst fn = `${ signed ? `` : `u` }int${ bits }`,\n\t\t\tslice = [];\n\t\twhile ( n-- ) slice.push( this[ fn ] );\n\t\treturn slice;\n\t}\n}\nclass ParsedData {\n\tconstructor( parser ) {\n\t\tconst pGetter = { enumerable: false, get: () => parser };\n\t\tObject.defineProperty( this, `parser`, pGetter );\n\t\tconst start = parser.currentPosition;\n\t\tconst startGetter = { enumerable: false, get: () => start };\n\t\tObject.defineProperty( this, `start`, startGetter );\n\t}\n\tload( struct ) {\n\t\tObject.keys( struct ).forEach( ( p ) => {\n\t\t\tlet props = Object.getOwnPropertyDescriptor( struct, p );\n\t\t\tif ( props.get ) {\n\t\t\t\tthis[ p ] = props.get.bind( this );\n\t\t\t} else if ( props.value !== undefined ) {\n\t\t\t\tthis[ p ] = props.value;\n\t\t\t}\n\t\t} );\n\t\tif ( this.parser.length ) {\n\t\t\tthis.parser.verifyLength();\n\t\t}\n\t}\n}\nclass SimpleTable extends ParsedData {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { parser: parser, start: start } = super(\n\t\t\tnew Parser( dict, dataview, name )\n\t\t);\n\t\tconst pGetter = { enumerable: false, get: () => parser };\n\t\tObject.defineProperty( this, `p`, pGetter );\n\t\tconst startGetter = { enumerable: false, get: () => start };\n\t\tObject.defineProperty( this, `tableStart`, startGetter );\n\t}\n}\nfunction lazy$1( object, property, getter ) {\n\tlet val;\n\tObject.defineProperty( object, property, {\n\t\tget: () => {\n\t\t\tif ( val ) return val;\n\t\t\tval = getter();\n\t\t\treturn val;\n\t\t},\n\t\tenumerable: true,\n\t} );\n}\nclass SFNT extends SimpleTable {\n\tconstructor( font, dataview, createTable ) {\n\t\tconst { p: p } = super( { offset: 0, length: 12 }, dataview, `sfnt` );\n\t\tthis.version = p.uint32;\n\t\tthis.numTables = p.uint16;\n\t\tthis.searchRange = p.uint16;\n\t\tthis.entrySelector = p.uint16;\n\t\tthis.rangeShift = p.uint16;\n\t\tp.verifyLength();\n\t\tthis.directory = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new TableRecord( p )\n\t\t);\n\t\tthis.tables = {};\n\t\tthis.directory.forEach( ( entry ) => {\n\t\t\tconst getter = () =>\n\t\t\t\tcreateTable(\n\t\t\t\t\tthis.tables,\n\t\t\t\t\t{\n\t\t\t\t\t\ttag: entry.tag,\n\t\t\t\t\t\toffset: entry.offset,\n\t\t\t\t\t\tlength: entry.length,\n\t\t\t\t\t},\n\t\t\t\t\tdataview\n\t\t\t\t);\n\t\t\tlazy$1( this.tables, entry.tag.trim(), getter );\n\t\t} );\n\t}\n}\nclass TableRecord {\n\tconstructor( p ) {\n\t\tthis.tag = p.tag;\n\t\tthis.checksum = p.uint32;\n\t\tthis.offset = p.uint32;\n\t\tthis.length = p.uint32;\n\t}\n}\nconst gzipDecode = GzipDecode.inflate || undefined;\nlet nativeGzipDecode = undefined;\n// if ( ! gzipDecode ) {\n// \timport( 'zlib' ).then( ( zlib ) => {\n// \t\tnativeGzipDecode = ( buffer ) => zlib.unzipSync( buffer );\n// \t} );\n// }\nclass WOFF$1 extends SimpleTable {\n\tconstructor( font, dataview, createTable ) {\n\t\tconst { p: p } = super( { offset: 0, length: 44 }, dataview, `woff` );\n\t\tthis.signature = p.tag;\n\t\tthis.flavor = p.uint32;\n\t\tthis.length = p.uint32;\n\t\tthis.numTables = p.uint16;\n\t\tp.uint16;\n\t\tthis.totalSfntSize = p.uint32;\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.metaOffset = p.uint32;\n\t\tthis.metaLength = p.uint32;\n\t\tthis.metaOrigLength = p.uint32;\n\t\tthis.privOffset = p.uint32;\n\t\tthis.privLength = p.uint32;\n\t\tp.verifyLength();\n\t\tthis.directory = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new WoffTableDirectoryEntry( p )\n\t\t);\n\t\tbuildWoffLazyLookups( this, dataview, createTable );\n\t}\n}\nclass WoffTableDirectoryEntry {\n\tconstructor( p ) {\n\t\tthis.tag = p.tag;\n\t\tthis.offset = p.uint32;\n\t\tthis.compLength = p.uint32;\n\t\tthis.origLength = p.uint32;\n\t\tthis.origChecksum = p.uint32;\n\t}\n}\nfunction buildWoffLazyLookups( woff, dataview, createTable ) {\n\twoff.tables = {};\n\twoff.directory.forEach( ( entry ) => {\n\t\tlazy$1( woff.tables, entry.tag.trim(), () => {\n\t\t\tlet offset = 0;\n\t\t\tlet view = dataview;\n\t\t\tif ( entry.compLength !== entry.origLength ) {\n\t\t\t\tconst data = dataview.buffer.slice(\n\t\t\t\t\tentry.offset,\n\t\t\t\t\tentry.offset + entry.compLength\n\t\t\t\t);\n\t\t\t\tlet unpacked;\n\t\t\t\tif ( gzipDecode ) {\n\t\t\t\t\tunpacked = gzipDecode( new Uint8Array( data ) );\n\t\t\t\t} else if ( nativeGzipDecode ) {\n\t\t\t\t\tunpacked = nativeGzipDecode( new Uint8Array( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tconst msg = `no brotli decoder available to decode WOFF2 font`;\n\t\t\t\t\tif ( font.onerror ) font.onerror( msg );\n\t\t\t\t\tthrow new Error( msg );\n\t\t\t\t}\n\t\t\t\tview = new DataView( unpacked.buffer );\n\t\t\t} else {\n\t\t\t\toffset = entry.offset;\n\t\t\t}\n\t\t\treturn createTable(\n\t\t\t\twoff.tables,\n\t\t\t\t{ tag: entry.tag, offset: offset, length: entry.origLength },\n\t\t\t\tview\n\t\t\t);\n\t\t} );\n\t} );\n}\nconst brotliDecode = unbrotli;\nlet nativeBrotliDecode = undefined;\n// if ( ! brotliDecode ) {\n// \timport( 'zlib' ).then( ( zlib ) => {\n// \t\tnativeBrotliDecode = ( buffer ) => zlib.brotliDecompressSync( buffer );\n// \t} );\n// }\nclass WOFF2$1 extends SimpleTable {\n\tconstructor( font, dataview, createTable ) {\n\t\tconst { p: p } = super( { offset: 0, length: 48 }, dataview, `woff2` );\n\t\tthis.signature = p.tag;\n\t\tthis.flavor = p.uint32;\n\t\tthis.length = p.uint32;\n\t\tthis.numTables = p.uint16;\n\t\tp.uint16;\n\t\tthis.totalSfntSize = p.uint32;\n\t\tthis.totalCompressedSize = p.uint32;\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.metaOffset = p.uint32;\n\t\tthis.metaLength = p.uint32;\n\t\tthis.metaOrigLength = p.uint32;\n\t\tthis.privOffset = p.uint32;\n\t\tthis.privLength = p.uint32;\n\t\tp.verifyLength();\n\t\tthis.directory = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new Woff2TableDirectoryEntry( p )\n\t\t);\n\t\tlet dictOffset = p.currentPosition;\n\t\tthis.directory[ 0 ].offset = 0;\n\t\tthis.directory.forEach( ( e, i ) => {\n\t\t\tlet next = this.directory[ i + 1 ];\n\t\t\tif ( next ) {\n\t\t\t\tnext.offset =\n\t\t\t\t\te.offset +\n\t\t\t\t\t( e.transformLength !== undefined\n\t\t\t\t\t\t? e.transformLength\n\t\t\t\t\t\t: e.origLength );\n\t\t\t}\n\t\t} );\n\t\tlet decoded;\n\t\tlet buffer = dataview.buffer.slice( dictOffset );\n\t\tif ( brotliDecode ) {\n\t\t\tdecoded = brotliDecode( new Uint8Array( buffer ) );\n\t\t} else if ( nativeBrotliDecode ) {\n\t\t\tdecoded = new Uint8Array( nativeBrotliDecode( buffer ) );\n\t\t} else {\n\t\t\tconst msg = `no brotli decoder available to decode WOFF2 font`;\n\t\t\tif ( font.onerror ) font.onerror( msg );\n\t\t\tthrow new Error( msg );\n\t\t}\n\t\tbuildWoff2LazyLookups( this, decoded, createTable );\n\t}\n}\nclass Woff2TableDirectoryEntry {\n\tconstructor( p ) {\n\t\tthis.flags = p.uint8;\n\t\tconst tagNumber = ( this.tagNumber = this.flags & 63 );\n\t\tif ( tagNumber === 63 ) {\n\t\t\tthis.tag = p.tag;\n\t\t} else {\n\t\t\tthis.tag = getWOFF2Tag( tagNumber );\n\t\t}\n\t\tconst transformVersion = ( this.transformVersion =\n\t\t\t( this.flags & 192 ) >> 6 );\n\t\tlet hasTransforms = transformVersion !== 0;\n\t\tif ( this.tag === `glyf` || this.tag === `loca` ) {\n\t\t\thasTransforms = this.transformVersion !== 3;\n\t\t}\n\t\tthis.origLength = p.uint128;\n\t\tif ( hasTransforms ) {\n\t\t\tthis.transformLength = p.uint128;\n\t\t}\n\t}\n}\nfunction buildWoff2LazyLookups( woff2, decoded, createTable ) {\n\twoff2.tables = {};\n\twoff2.directory.forEach( ( entry ) => {\n\t\tlazy$1( woff2.tables, entry.tag.trim(), () => {\n\t\t\tconst start = entry.offset;\n\t\t\tconst end =\n\t\t\t\tstart +\n\t\t\t\t( entry.transformLength\n\t\t\t\t\t? entry.transformLength\n\t\t\t\t\t: entry.origLength );\n\t\t\tconst data = new DataView( decoded.slice( start, end ).buffer );\n\t\t\ttry {\n\t\t\t\treturn createTable(\n\t\t\t\t\twoff2.tables,\n\t\t\t\t\t{ tag: entry.tag, offset: 0, length: entry.origLength },\n\t\t\t\t\tdata\n\t\t\t\t);\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.error( e );\n\t\t\t}\n\t\t} );\n\t} );\n}\nfunction getWOFF2Tag( flag ) {\n\treturn [\n\t\t`cmap`,\n\t\t`head`,\n\t\t`hhea`,\n\t\t`hmtx`,\n\t\t`maxp`,\n\t\t`name`,\n\t\t`OS/2`,\n\t\t`post`,\n\t\t`cvt `,\n\t\t`fpgm`,\n\t\t`glyf`,\n\t\t`loca`,\n\t\t`prep`,\n\t\t`CFF `,\n\t\t`VORG`,\n\t\t`EBDT`,\n\t\t`EBLC`,\n\t\t`gasp`,\n\t\t`hdmx`,\n\t\t`kern`,\n\t\t`LTSH`,\n\t\t`PCLT`,\n\t\t`VDMX`,\n\t\t`vhea`,\n\t\t`vmtx`,\n\t\t`BASE`,\n\t\t`GDEF`,\n\t\t`GPOS`,\n\t\t`GSUB`,\n\t\t`EBSC`,\n\t\t`JSTF`,\n\t\t`MATH`,\n\t\t`CBDT`,\n\t\t`CBLC`,\n\t\t`COLR`,\n\t\t`CPAL`,\n\t\t`SVG `,\n\t\t`sbix`,\n\t\t`acnt`,\n\t\t`avar`,\n\t\t`bdat`,\n\t\t`bloc`,\n\t\t`bsln`,\n\t\t`cvar`,\n\t\t`fdsc`,\n\t\t`feat`,\n\t\t`fmtx`,\n\t\t`fvar`,\n\t\t`gvar`,\n\t\t`hsty`,\n\t\t`just`,\n\t\t`lcar`,\n\t\t`mort`,\n\t\t`morx`,\n\t\t`opbd`,\n\t\t`prop`,\n\t\t`trak`,\n\t\t`Zapf`,\n\t\t`Silf`,\n\t\t`Glat`,\n\t\t`Gloc`,\n\t\t`Feat`,\n\t\t`Sill`,\n\t][ flag & 63 ];\n}\nconst tableClasses = {};\nlet tableClassesLoaded = false;\nPromise.all( [\n\tPromise.resolve().then( function () {\n\t\treturn cmap$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn head$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn hhea$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn hmtx$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn maxp$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn name$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn OS2$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn post$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn BASE$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn GDEF$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn GSUB$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn GPOS$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn SVG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn fvar$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn cvt$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn fpgm$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn gasp$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn glyf$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn loca$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn prep$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CFF$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CFF2$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn VORG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn EBLC$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn EBDT$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn EBSC$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CBLC$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CBDT$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn sbix$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn COLR$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CPAL$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn DSIG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn hdmx$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn kern$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn LTSH$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn MERG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn meta$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn PCLT$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn VDMX$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn vhea$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn vmtx$1;\n\t} ),\n] ).then( ( data ) => {\n\tdata.forEach( ( e ) => {\n\t\tlet name = Object.keys( e )[ 0 ];\n\t\ttableClasses[ name ] = e[ name ];\n\t} );\n\ttableClassesLoaded = true;\n} );\nfunction createTable( tables, dict, dataview ) {\n\tlet name = dict.tag.replace( /[^\\w\\d]/g, `` );\n\tlet Type = tableClasses[ name ];\n\tif ( Type ) return new Type( dict, dataview, tables );\n\tconsole.warn(\n\t\t`lib-font has no definition for ${ name }. The table was skipped.`\n\t);\n\treturn {};\n}\nfunction loadTableClasses() {\n\tlet count = 0;\n\tfunction checkLoaded( resolve, reject ) {\n\t\tif ( ! tableClassesLoaded ) {\n\t\t\tif ( count > 10 ) {\n\t\t\t\treturn reject( new Error( `loading took too long` ) );\n\t\t\t}\n\t\t\tcount++;\n\t\t\treturn setTimeout( () => checkLoaded( resolve ), 250 );\n\t\t}\n\t\tresolve( createTable );\n\t}\n\treturn new Promise( ( resolve, reject ) => checkLoaded( resolve ) );\n}\nfunction getFontCSSFormat( path, errorOnStyle ) {\n\tlet pos = path.lastIndexOf( `.` );\n\tlet ext = ( path.substring( pos + 1 ) || `` ).toLowerCase();\n\tlet format = {\n\t\tttf: `truetype`,\n\t\totf: `opentype`,\n\t\twoff: `woff`,\n\t\twoff2: `woff2`,\n\t}[ ext ];\n\tif ( format ) return format;\n\tlet msg = {\n\t\teot: `The .eot format is not supported: it died in January 12, 2016, when Microsoft retired all versions of IE that didn't already support WOFF.`,\n\t\tsvg: `The .svg format is not supported: SVG fonts (not to be confused with OpenType with embedded SVG) were so bad we took the entire fonts chapter out of the SVG specification again.`,\n\t\tfon: `The .fon format is not supported: this is an ancient Windows bitmap font format.`,\n\t\tttc: `Based on the current CSS specification, font collections are not (yet?) supported.`,\n\t}[ ext ];\n\tif ( ! msg ) msg = `${ path } is not a known webfont format.`;\n\tif ( errorOnStyle ) {\n\t\tthrow new Error( msg );\n\t} else {\n\t\tconsole.warn( `Could not load font: ${ msg }` );\n\t}\n}\nasync function setupFontFace( name, url, options = {} ) {\n\tif ( ! globalThis.document ) return;\n\tlet format = getFontCSSFormat( url, options.errorOnStyle );\n\tif ( ! format ) return;\n\tlet style = document.createElement( `style` );\n\tstyle.className = `injected-by-Font-js`;\n\tlet rules = [];\n\tif ( options.styleRules ) {\n\t\trules = Object.entries( options.styleRules ).map(\n\t\t\t( [ key, value ] ) => `${ key }: ${ value };`\n\t\t);\n\t}\n\tstyle.textContent = `\\n@font-face {\\n    font-family: \"${ name }\";\\n    ${ rules.join(\n\t\t`\\n\\t`\n\t) }\\n    src: url(\"${ url }\") format(\"${ format }\");\\n}`;\n\tglobalThis.document.head.appendChild( style );\n\treturn style;\n}\nconst TTF = [ 0, 1, 0, 0 ];\nconst OTF = [ 79, 84, 84, 79 ];\nconst WOFF = [ 119, 79, 70, 70 ];\nconst WOFF2 = [ 119, 79, 70, 50 ];\nfunction match( ar1, ar2 ) {\n\tif ( ar1.length !== ar2.length ) return;\n\tfor ( let i = 0; i < ar1.length; i++ ) {\n\t\tif ( ar1[ i ] !== ar2[ i ] ) return;\n\t}\n\treturn true;\n}\nfunction validFontFormat( dataview ) {\n\tconst LEAD_BYTES = [\n\t\tdataview.getUint8( 0 ),\n\t\tdataview.getUint8( 1 ),\n\t\tdataview.getUint8( 2 ),\n\t\tdataview.getUint8( 3 ),\n\t];\n\tif ( match( LEAD_BYTES, TTF ) || match( LEAD_BYTES, OTF ) ) return `SFNT`;\n\tif ( match( LEAD_BYTES, WOFF ) ) return `WOFF`;\n\tif ( match( LEAD_BYTES, WOFF2 ) ) return `WOFF2`;\n}\nfunction checkFetchResponseStatus( response ) {\n\tif ( ! response.ok ) {\n\t\tthrow new Error(\n\t\t\t`HTTP ${ response.status } - ${ response.statusText }`\n\t\t);\n\t}\n\treturn response;\n}\nclass Font extends EventManager {\n\tconstructor( name, options = {} ) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.options = options;\n\t\tthis.metrics = false;\n\t}\n\tget src() {\n\t\treturn this.__src;\n\t}\n\tset src( src ) {\n\t\tthis.__src = src;\n\t\t( async () => {\n\t\t\tif ( globalThis.document && ! this.options.skipStyleSheet ) {\n\t\t\t\tawait setupFontFace( this.name, src, this.options );\n\t\t\t}\n\t\t\tthis.loadFont( src );\n\t\t} )();\n\t}\n\tasync loadFont( url, filename ) {\n\t\tfetch( url )\n\t\t\t.then(\n\t\t\t\t( response ) =>\n\t\t\t\t\tcheckFetchResponseStatus( response ) &&\n\t\t\t\t\tresponse.arrayBuffer()\n\t\t\t)\n\t\t\t.then( ( buffer ) =>\n\t\t\t\tthis.fromDataBuffer( buffer, filename || url )\n\t\t\t)\n\t\t\t.catch( ( err ) => {\n\t\t\t\tconst evt = new Event(\n\t\t\t\t\t`error`,\n\t\t\t\t\terr,\n\t\t\t\t\t`Failed to load font at ${ filename || url }`\n\t\t\t\t);\n\t\t\t\tthis.dispatch( evt );\n\t\t\t\tif ( this.onerror ) this.onerror( evt );\n\t\t\t} );\n\t}\n\tasync fromDataBuffer( buffer, filenameOrUrL ) {\n\t\tthis.fontData = new DataView( buffer );\n\t\tlet type = validFontFormat( this.fontData );\n\t\tif ( ! type ) {\n\t\t\tthrow new Error(\n\t\t\t\t`${ filenameOrUrL } is either an unsupported font format, or not a font at all.`\n\t\t\t);\n\t\t}\n\t\tawait this.parseBasicData( type );\n\t\tconst evt = new Event( 'load', { font: this } );\n\t\tthis.dispatch( evt );\n\t\tif ( this.onload ) this.onload( evt );\n\t}\n\tasync parseBasicData( type ) {\n\t\treturn loadTableClasses().then( ( createTable ) => {\n\t\t\tif ( type === `SFNT` ) {\n\t\t\t\tthis.opentype = new SFNT( this, this.fontData, createTable );\n\t\t\t}\n\t\t\tif ( type === `WOFF` ) {\n\t\t\t\tthis.opentype = new WOFF$1( this, this.fontData, createTable );\n\t\t\t}\n\t\t\tif ( type === `WOFF2` ) {\n\t\t\t\tthis.opentype = new WOFF2$1( this, this.fontData, createTable );\n\t\t\t}\n\t\t\treturn this.opentype;\n\t\t} );\n\t}\n\tgetGlyphId( char ) {\n\t\treturn this.opentype.tables.cmap.getGlyphId( char );\n\t}\n\treverse( glyphid ) {\n\t\treturn this.opentype.tables.cmap.reverse( glyphid );\n\t}\n\tsupports( char ) {\n\t\treturn this.getGlyphId( char ) !== 0;\n\t}\n\tsupportsVariation( variation ) {\n\t\treturn (\n\t\t\tthis.opentype.tables.cmap.supportsVariation( variation ) !== false\n\t\t);\n\t}\n\tmeasureText( text, size = 16 ) {\n\t\tif ( this.__unloaded )\n\t\t\tthrow new Error(\n\t\t\t\t'Cannot measure text: font was unloaded. Please reload before calling measureText()'\n\t\t\t);\n\t\tlet d = document.createElement( 'div' );\n\t\td.textContent = text;\n\t\td.style.fontFamily = this.name;\n\t\td.style.fontSize = `${ size }px`;\n\t\td.style.color = `transparent`;\n\t\td.style.background = `transparent`;\n\t\td.style.top = `0`;\n\t\td.style.left = `0`;\n\t\td.style.position = `absolute`;\n\t\tdocument.body.appendChild( d );\n\t\tlet bbox = d.getBoundingClientRect();\n\t\tdocument.body.removeChild( d );\n\t\tconst OS2 = this.opentype.tables[ 'OS/2' ];\n\t\tbbox.fontSize = size;\n\t\tbbox.ascender = OS2.sTypoAscender;\n\t\tbbox.descender = OS2.sTypoDescender;\n\t\treturn bbox;\n\t}\n\tunload() {\n\t\tif ( this.styleElement.parentNode ) {\n\t\t\tthis.styleElement.parentNode.removeElement( this.styleElement );\n\t\t\tconst evt = new Event( 'unload', { font: this } );\n\t\t\tthis.dispatch( evt );\n\t\t\tif ( this.onunload ) this.onunload( evt );\n\t\t}\n\t\tthis._unloaded = true;\n\t}\n\tload() {\n\t\tif ( this.__unloaded ) {\n\t\t\tdelete this.__unloaded;\n\t\t\tdocument.head.appendChild( this.styleElement );\n\t\t\tconst evt = new Event( 'load', { font: this } );\n\t\t\tthis.dispatch( evt );\n\t\t\tif ( this.onload ) this.onload( evt );\n\t\t}\n\t}\n}\nglobalThis.Font = Font;\nclass Subtable extends ParsedData {\n\tconstructor( p, plaformID, encodingID ) {\n\t\tsuper( p );\n\t\tthis.plaformID = plaformID;\n\t\tthis.encodingID = encodingID;\n\t}\n}\nclass Format0 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 0;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.glyphIdArray = [ ...new Array( 256 ) ].map( ( _ ) => p.uint8 );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 0. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\treturn 0 <= charCode && charCode <= 255;\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 0` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes() {\n\t\treturn [ { start: 1, end: 256 } ];\n\t}\n}\nclass Format2 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 2;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.subHeaderKeys = [ ...new Array( 256 ) ].map( ( _ ) => p.uint16 );\n\t\tconst subHeaderCount = Math.max( ...this.subHeaderKeys );\n\t\tconst subHeaderOffset = p.currentPosition;\n\t\tlazy$1( this, `subHeaders`, () => {\n\t\t\tp.currentPosition = subHeaderOffset;\n\t\t\treturn [ ...new Array( subHeaderCount ) ].map(\n\t\t\t\t( _ ) => new SubHeader( p )\n\t\t\t);\n\t\t} );\n\t\tconst glyphIndexOffset = subHeaderOffset + subHeaderCount * 8;\n\t\tlazy$1( this, `glyphIndexArray`, () => {\n\t\t\tp.currentPosition = glyphIndexOffset;\n\t\t\treturn [ ...new Array( subHeaderCount ) ].map( ( _ ) => p.uint16 );\n\t\t} );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 2. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\tconst low = charCode && 255;\n\t\tconst high = charCode && 65280;\n\t\tconst subHeaderKey = this.subHeaders[ high ];\n\t\tconst subheader = this.subHeaders[ subHeaderKey ];\n\t\tconst first = subheader.firstCode;\n\t\tconst last = first + subheader.entryCount;\n\t\treturn first <= low && low <= last;\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 2` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) {\n\t\t\treturn this.subHeaders.map( ( h ) => ( {\n\t\t\t\tfirstCode: h.firstCode,\n\t\t\t\tlastCode: h.lastCode,\n\t\t\t} ) );\n\t\t}\n\t\treturn this.subHeaders.map( ( h ) => ( {\n\t\t\tstart: h.firstCode,\n\t\t\tend: h.lastCode,\n\t\t} ) );\n\t}\n}\nclass SubHeader {\n\tconstructor( p ) {\n\t\tthis.firstCode = p.uint16;\n\t\tthis.entryCount = p.uint16;\n\t\tthis.lastCode = this.first + this.entryCount;\n\t\tthis.idDelta = p.int16;\n\t\tthis.idRangeOffset = p.uint16;\n\t}\n}\nclass Format4 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 4;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.segCountX2 = p.uint16;\n\t\tthis.segCount = this.segCountX2 / 2;\n\t\tthis.searchRange = p.uint16;\n\t\tthis.entrySelector = p.uint16;\n\t\tthis.rangeShift = p.uint16;\n\t\tconst endCodePosition = p.currentPosition;\n\t\tlazy$1( this, `endCode`, () =>\n\t\t\tp.readBytes( this.segCount, endCodePosition, 16 )\n\t\t);\n\t\tconst startCodePosition = endCodePosition + 2 + this.segCountX2;\n\t\tlazy$1( this, `startCode`, () =>\n\t\t\tp.readBytes( this.segCount, startCodePosition, 16 )\n\t\t);\n\t\tconst idDeltaPosition = startCodePosition + this.segCountX2;\n\t\tlazy$1( this, `idDelta`, () =>\n\t\t\tp.readBytes( this.segCount, idDeltaPosition, 16, true )\n\t\t);\n\t\tconst idRangePosition = idDeltaPosition + this.segCountX2;\n\t\tlazy$1( this, `idRangeOffset`, () =>\n\t\t\tp.readBytes( this.segCount, idRangePosition, 16 )\n\t\t);\n\t\tconst glyphIdArrayPosition = idRangePosition + this.segCountX2;\n\t\tconst glyphIdArrayLength =\n\t\t\tthis.length - ( glyphIdArrayPosition - this.tableStart );\n\t\tlazy$1( this, `glyphIdArray`, () =>\n\t\t\tp.readBytes( glyphIdArrayLength, glyphIdArrayPosition, 16 )\n\t\t);\n\t\tlazy$1( this, `segments`, () =>\n\t\t\tthis.buildSegments( idRangePosition, glyphIdArrayPosition, p )\n\t\t);\n\t}\n\tbuildSegments( idRangePosition, glyphIdArrayPosition, p ) {\n\t\tconst build = ( _, i ) => {\n\t\t\tlet startCode = this.startCode[ i ],\n\t\t\t\tendCode = this.endCode[ i ],\n\t\t\t\tidDelta = this.idDelta[ i ],\n\t\t\t\tidRangeOffset = this.idRangeOffset[ i ],\n\t\t\t\tidRangeOffsetPointer = idRangePosition + 2 * i,\n\t\t\t\tglyphIDs = [];\n\t\t\tif ( idRangeOffset === 0 ) {\n\t\t\t\tfor (\n\t\t\t\t\tlet i = startCode + idDelta, e = endCode + idDelta;\n\t\t\t\t\ti <= e;\n\t\t\t\t\ti++\n\t\t\t\t) {\n\t\t\t\t\tglyphIDs.push( i );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( let i = 0, e = endCode - startCode; i <= e; i++ ) {\n\t\t\t\t\tp.currentPosition =\n\t\t\t\t\t\tidRangeOffsetPointer + idRangeOffset + i * 2;\n\t\t\t\t\tglyphIDs.push( p.uint16 );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tstartCode: startCode,\n\t\t\t\tendCode: endCode,\n\t\t\t\tidDelta: idDelta,\n\t\t\t\tidRangeOffset: idRangeOffset,\n\t\t\t\tglyphIDs: glyphIDs,\n\t\t\t};\n\t\t};\n\t\treturn [ ...new Array( this.segCount ) ].map( build );\n\t}\n\treverse( glyphID ) {\n\t\tlet s = this.segments.find( ( v ) => v.glyphIDs.includes( glyphID ) );\n\t\tif ( ! s ) return {};\n\t\tconst code = s.startCode + s.glyphIDs.indexOf( glyphID );\n\t\treturn { code: code, unicode: String.fromCodePoint( code ) };\n\t}\n\tgetGlyphId( charCode ) {\n\t\tif ( charCode.charCodeAt ) charCode = charCode.charCodeAt( 0 );\n\t\tif ( 55296 <= charCode && charCode <= 57343 ) return 0;\n\t\tif ( ( charCode & 65534 ) === 65534 || ( charCode & 65535 ) === 65535 )\n\t\t\treturn 0;\n\t\tlet segment = this.segments.find(\n\t\t\t( s ) => s.startCode <= charCode && charCode <= s.endCode\n\t\t);\n\t\tif ( ! segment ) return 0;\n\t\treturn segment.glyphIDs[ charCode - segment.startCode ];\n\t}\n\tsupports( charCode ) {\n\t\treturn this.getGlyphId( charCode ) !== 0;\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.segments;\n\t\treturn this.segments.map( ( v ) => ( {\n\t\t\tstart: v.startCode,\n\t\t\tend: v.endCode,\n\t\t} ) );\n\t}\n}\nclass Format6 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 6;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.firstCode = p.uint16;\n\t\tthis.entryCount = p.uint16;\n\t\tthis.lastCode = this.firstCode + this.entryCount - 1;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.entryCount ) ].map( ( _ ) => p.uint16 );\n\t\tlazy$1( this, `glyphIdArray`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 6. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\tif ( charCode < this.firstCode ) return {};\n\t\tif ( charCode > this.firstCode + this.entryCount ) return {};\n\t\tconst code = charCode - this.firstCode;\n\t\treturn { code: code, unicode: String.fromCodePoint( code ) };\n\t}\n\treverse( glyphID ) {\n\t\tlet pos = this.glyphIdArray.indexOf( glyphID );\n\t\tif ( pos > -1 ) return this.firstCode + pos;\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) {\n\t\t\treturn [ { firstCode: this.firstCode, lastCode: this.lastCode } ];\n\t\t}\n\t\treturn [ { start: this.firstCode, end: this.lastCode } ];\n\t}\n}\nclass Format8 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 8;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.is32 = [ ...new Array( 8192 ) ].map( ( _ ) => p.uint8 );\n\t\tthis.numGroups = p.uint32;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numGroups ) ].map(\n\t\t\t\t( _ ) => new SequentialMapGroup$1( p )\n\t\t\t);\n\t\tlazy$1( this, `groups`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 8. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\tthis.groups.findIndex(\n\t\t\t\t( s ) =>\n\t\t\t\t\ts.startcharCode <= charCode && charCode <= s.endcharCode\n\t\t\t) !== -1\n\t\t);\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 8` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.groups;\n\t\treturn this.groups.map( ( v ) => ( {\n\t\t\tstart: v.startcharCode,\n\t\t\tend: v.endcharCode,\n\t\t} ) );\n\t}\n}\nclass SequentialMapGroup$1 {\n\tconstructor( p ) {\n\t\tthis.startcharCode = p.uint32;\n\t\tthis.endcharCode = p.uint32;\n\t\tthis.startGlyphID = p.uint32;\n\t}\n}\nclass Format10 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 10;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.startCharCode = p.uint32;\n\t\tthis.numChars = p.uint32;\n\t\tthis.endCharCode = this.startCharCode + this.numChars;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numChars ) ].map( ( _ ) => p.uint16 );\n\t\tlazy$1( this, `glyphs`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 10. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\tif ( charCode < this.startCharCode ) return false;\n\t\tif ( charCode > this.startCharCode + this.numChars ) return false;\n\t\treturn charCode - this.startCharCode;\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 10` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tstartCharCode: this.startCharCode,\n\t\t\t\t\tendCharCode: this.endCharCode,\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn [ { start: this.startCharCode, end: this.endCharCode } ];\n\t}\n}\nclass Format12 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 12;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.numGroups = p.uint32;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numGroups ) ].map(\n\t\t\t\t( _ ) => new SequentialMapGroup( p )\n\t\t\t);\n\t\tlazy$1( this, `groups`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) charCode = charCode.charCodeAt( 0 );\n\t\tif ( 55296 <= charCode && charCode <= 57343 ) return 0;\n\t\tif ( ( charCode & 65534 ) === 65534 || ( charCode & 65535 ) === 65535 )\n\t\t\treturn 0;\n\t\treturn (\n\t\t\tthis.groups.findIndex(\n\t\t\t\t( s ) =>\n\t\t\t\t\ts.startCharCode <= charCode && charCode <= s.endCharCode\n\t\t\t) !== -1\n\t\t);\n\t}\n\treverse( glyphID ) {\n\t\tfor ( let group of this.groups ) {\n\t\t\tlet start = group.startGlyphID;\n\t\t\tif ( start > glyphID ) continue;\n\t\t\tif ( start === glyphID ) return group.startCharCode;\n\t\t\tlet end = start + ( group.endCharCode - group.startCharCode );\n\t\t\tif ( end < glyphID ) continue;\n\t\t\tconst code = group.startCharCode + ( glyphID - start );\n\t\t\treturn { code: code, unicode: String.fromCodePoint( code ) };\n\t\t}\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.groups;\n\t\treturn this.groups.map( ( v ) => ( {\n\t\t\tstart: v.startCharCode,\n\t\t\tend: v.endCharCode,\n\t\t} ) );\n\t}\n}\nclass SequentialMapGroup {\n\tconstructor( p ) {\n\t\tthis.startCharCode = p.uint32;\n\t\tthis.endCharCode = p.uint32;\n\t\tthis.startGlyphID = p.uint32;\n\t}\n}\nclass Format13 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 13;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.numGroups = p.uint32;\n\t\tconst getter = [ ...new Array( this.numGroups ) ].map(\n\t\t\t( _ ) => new ConstantMapGroup( p )\n\t\t);\n\t\tlazy$1( this, `groups`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) charCode = charCode.charCodeAt( 0 );\n\t\treturn (\n\t\t\tthis.groups.findIndex(\n\t\t\t\t( s ) =>\n\t\t\t\t\ts.startCharCode <= charCode && charCode <= s.endCharCode\n\t\t\t) !== -1\n\t\t);\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 13` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.groups;\n\t\treturn this.groups.map( ( v ) => ( {\n\t\t\tstart: v.startCharCode,\n\t\t\tend: v.endCharCode,\n\t\t} ) );\n\t}\n}\nclass ConstantMapGroup {\n\tconstructor( p ) {\n\t\tthis.startCharCode = p.uint32;\n\t\tthis.endCharCode = p.uint32;\n\t\tthis.glyphID = p.uint32;\n\t}\n}\nclass Format14 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.subTableStart = p.currentPosition;\n\t\tthis.format = 14;\n\t\tthis.length = p.uint32;\n\t\tthis.numVarSelectorRecords = p.uint32;\n\t\tlazy$1( this, `varSelectors`, () =>\n\t\t\t[ ...new Array( this.numVarSelectorRecords ) ].map(\n\t\t\t\t( _ ) => new VariationSelector( p )\n\t\t\t)\n\t\t);\n\t}\n\tsupports() {\n\t\tconsole.warn( `supports not implemented for cmap subtable format 14` );\n\t\treturn 0;\n\t}\n\tgetSupportedCharCodes() {\n\t\tconsole.warn(\n\t\t\t`getSupportedCharCodes not implemented for cmap subtable format 14`\n\t\t);\n\t\treturn [];\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 14` );\n\t\treturn {};\n\t}\n\tsupportsVariation( variation ) {\n\t\tlet v = this.varSelector.find(\n\t\t\t( uvs ) => uvs.varSelector === variation\n\t\t);\n\t\treturn v ? v : false;\n\t}\n\tgetSupportedVariations() {\n\t\treturn this.varSelectors.map( ( v ) => v.varSelector );\n\t}\n}\nclass VariationSelector {\n\tconstructor( p ) {\n\t\tthis.varSelector = p.uint24;\n\t\tthis.defaultUVSOffset = p.Offset32;\n\t\tthis.nonDefaultUVSOffset = p.Offset32;\n\t}\n}\nfunction createSubTable( parser, platformID, encodingID ) {\n\tconst format = parser.uint16;\n\tif ( format === 0 ) return new Format0( parser, platformID, encodingID );\n\tif ( format === 2 ) return new Format2( parser, platformID, encodingID );\n\tif ( format === 4 ) return new Format4( parser, platformID, encodingID );\n\tif ( format === 6 ) return new Format6( parser, platformID, encodingID );\n\tif ( format === 8 ) return new Format8( parser, platformID, encodingID );\n\tif ( format === 10 ) return new Format10( parser, platformID, encodingID );\n\tif ( format === 12 ) return new Format12( parser, platformID, encodingID );\n\tif ( format === 13 ) return new Format13( parser, platformID, encodingID );\n\tif ( format === 14 ) return new Format14( parser, platformID, encodingID );\n\treturn {};\n}\nclass cmap extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numTables = p.uint16;\n\t\tthis.encodingRecords = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new EncodingRecord( p, this.tableStart )\n\t\t);\n\t}\n\tgetSubTable( tableID ) {\n\t\treturn this.encodingRecords[ tableID ].table;\n\t}\n\tgetSupportedEncodings() {\n\t\treturn this.encodingRecords.map( ( r ) => ( {\n\t\t\tplatformID: r.platformID,\n\t\t\tencodingId: r.encodingID,\n\t\t} ) );\n\t}\n\tgetSupportedCharCodes( platformID, encodingID ) {\n\t\tconst recordID = this.encodingRecords.findIndex(\n\t\t\t( r ) => r.platformID === platformID && r.encodingID === encodingID\n\t\t);\n\t\tif ( recordID === -1 ) return false;\n\t\tconst subtable = this.getSubTable( recordID );\n\t\treturn subtable.getSupportedCharCodes();\n\t}\n\treverse( glyphid ) {\n\t\tfor ( let i = 0; i < this.numTables; i++ ) {\n\t\t\tlet code = this.getSubTable( i ).reverse( glyphid );\n\t\t\tif ( code ) return code;\n\t\t}\n\t}\n\tgetGlyphId( char ) {\n\t\tlet last = 0;\n\t\tthis.encodingRecords.some( ( _, tableID ) => {\n\t\t\tlet t = this.getSubTable( tableID );\n\t\t\tif ( ! t.getGlyphId ) return false;\n\t\t\tlast = t.getGlyphId( char );\n\t\t\treturn last !== 0;\n\t\t} );\n\t\treturn last;\n\t}\n\tsupports( char ) {\n\t\treturn this.encodingRecords.some( ( _, tableID ) => {\n\t\t\tconst t = this.getSubTable( tableID );\n\t\t\treturn t.supports && t.supports( char ) !== false;\n\t\t} );\n\t}\n\tsupportsVariation( variation ) {\n\t\treturn this.encodingRecords.some( ( _, tableID ) => {\n\t\t\tconst t = this.getSubTable( tableID );\n\t\t\treturn (\n\t\t\t\tt.supportsVariation &&\n\t\t\t\tt.supportsVariation( variation ) !== false\n\t\t\t);\n\t\t} );\n\t}\n}\nclass EncodingRecord {\n\tconstructor( p, tableStart ) {\n\t\tconst platformID = ( this.platformID = p.uint16 );\n\t\tconst encodingID = ( this.encodingID = p.uint16 );\n\t\tconst offset = ( this.offset = p.Offset32 );\n\t\tlazy$1( this, `table`, () => {\n\t\t\tp.currentPosition = tableStart + offset;\n\t\t\treturn createSubTable( p, platformID, encodingID );\n\t\t} );\n\t}\n}\nvar cmap$1 = Object.freeze( { __proto__: null, cmap: cmap } );\nclass head extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.load( {\n\t\t\tmajorVersion: p.uint16,\n\t\t\tminorVersion: p.uint16,\n\t\t\tfontRevision: p.fixed,\n\t\t\tcheckSumAdjustment: p.uint32,\n\t\t\tmagicNumber: p.uint32,\n\t\t\tflags: p.flags( 16 ),\n\t\t\tunitsPerEm: p.uint16,\n\t\t\tcreated: p.longdatetime,\n\t\t\tmodified: p.longdatetime,\n\t\t\txMin: p.int16,\n\t\t\tyMin: p.int16,\n\t\t\txMax: p.int16,\n\t\t\tyMax: p.int16,\n\t\t\tmacStyle: p.flags( 16 ),\n\t\t\tlowestRecPPEM: p.uint16,\n\t\t\tfontDirectionHint: p.uint16,\n\t\t\tindexToLocFormat: p.uint16,\n\t\t\tglyphDataFormat: p.uint16,\n\t\t} );\n\t}\n}\nvar head$1 = Object.freeze( { __proto__: null, head: head } );\nclass hhea extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.ascender = p.fword;\n\t\tthis.descender = p.fword;\n\t\tthis.lineGap = p.fword;\n\t\tthis.advanceWidthMax = p.ufword;\n\t\tthis.minLeftSideBearing = p.fword;\n\t\tthis.minRightSideBearing = p.fword;\n\t\tthis.xMaxExtent = p.fword;\n\t\tthis.caretSlopeRise = p.int16;\n\t\tthis.caretSlopeRun = p.int16;\n\t\tthis.caretOffset = p.int16;\n\t\tp.int16;\n\t\tp.int16;\n\t\tp.int16;\n\t\tp.int16;\n\t\tthis.metricDataFormat = p.int16;\n\t\tthis.numberOfHMetrics = p.uint16;\n\t\tp.verifyLength();\n\t}\n}\nvar hhea$1 = Object.freeze( { __proto__: null, hhea: hhea } );\nclass hmtx extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst numberOfHMetrics = tables.hhea.numberOfHMetrics;\n\t\tconst numGlyphs = tables.maxp.numGlyphs;\n\t\tconst metricsStart = p.currentPosition;\n\t\tlazy$1( this, `hMetrics`, () => {\n\t\t\tp.currentPosition = metricsStart;\n\t\t\treturn [ ...new Array( numberOfHMetrics ) ].map(\n\t\t\t\t( _ ) => new LongHorMetric( p.uint16, p.int16 )\n\t\t\t);\n\t\t} );\n\t\tif ( numberOfHMetrics < numGlyphs ) {\n\t\t\tconst lsbStart = metricsStart + numberOfHMetrics * 4;\n\t\t\tlazy$1( this, `leftSideBearings`, () => {\n\t\t\t\tp.currentPosition = lsbStart;\n\t\t\t\treturn [ ...new Array( numGlyphs - numberOfHMetrics ) ].map(\n\t\t\t\t\t( _ ) => p.int16\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\t}\n}\nclass LongHorMetric {\n\tconstructor( w, b ) {\n\t\tthis.advanceWidth = w;\n\t\tthis.lsb = b;\n\t}\n}\nvar hmtx$1 = Object.freeze( { __proto__: null, hmtx: hmtx } );\nclass maxp extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.legacyFixed;\n\t\tthis.numGlyphs = p.uint16;\n\t\tif ( this.version === 1 ) {\n\t\t\tthis.maxPoints = p.uint16;\n\t\t\tthis.maxContours = p.uint16;\n\t\t\tthis.maxCompositePoints = p.uint16;\n\t\t\tthis.maxCompositeContours = p.uint16;\n\t\t\tthis.maxZones = p.uint16;\n\t\t\tthis.maxTwilightPoints = p.uint16;\n\t\t\tthis.maxStorage = p.uint16;\n\t\t\tthis.maxFunctionDefs = p.uint16;\n\t\t\tthis.maxInstructionDefs = p.uint16;\n\t\t\tthis.maxStackElements = p.uint16;\n\t\t\tthis.maxSizeOfInstructions = p.uint16;\n\t\t\tthis.maxComponentElements = p.uint16;\n\t\t\tthis.maxComponentDepth = p.uint16;\n\t\t}\n\t\tp.verifyLength();\n\t}\n}\nvar maxp$1 = Object.freeze( { __proto__: null, maxp: maxp } );\nclass name extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.format = p.uint16;\n\t\tthis.count = p.uint16;\n\t\tthis.stringOffset = p.Offset16;\n\t\tthis.nameRecords = [ ...new Array( this.count ) ].map(\n\t\t\t( _ ) => new NameRecord( p, this )\n\t\t);\n\t\tif ( this.format === 1 ) {\n\t\t\tthis.langTagCount = p.uint16;\n\t\t\tthis.langTagRecords = [ ...new Array( this.langTagCount ) ].map(\n\t\t\t\t( _ ) => new LangTagRecord( p.uint16, p.Offset16 )\n\t\t\t);\n\t\t}\n\t\tthis.stringStart = this.tableStart + this.stringOffset;\n\t}\n\tget( nameID ) {\n\t\tlet record = this.nameRecords.find(\n\t\t\t( record ) => record.nameID === nameID\n\t\t);\n\t\tif ( record ) return record.string;\n\t}\n}\nclass LangTagRecord {\n\tconstructor( length, offset ) {\n\t\tthis.length = length;\n\t\tthis.offset = offset;\n\t}\n}\nclass NameRecord {\n\tconstructor( p, nameTable ) {\n\t\tthis.platformID = p.uint16;\n\t\tthis.encodingID = p.uint16;\n\t\tthis.languageID = p.uint16;\n\t\tthis.nameID = p.uint16;\n\t\tthis.length = p.uint16;\n\t\tthis.offset = p.Offset16;\n\t\tlazy$1( this, `string`, () => {\n\t\t\tp.currentPosition = nameTable.stringStart + this.offset;\n\t\t\treturn decodeString( p, this );\n\t\t} );\n\t}\n}\nfunction decodeString( p, record ) {\n\tconst { platformID: platformID, length: length } = record;\n\tif ( length === 0 ) return ``;\n\tif ( platformID === 0 || platformID === 3 ) {\n\t\tconst str = [];\n\t\tfor ( let i = 0, e = length / 2; i < e; i++ )\n\t\t\tstr[ i ] = String.fromCharCode( p.uint16 );\n\t\treturn str.join( `` );\n\t}\n\tconst bytes = p.readBytes( length );\n\tconst str = [];\n\tbytes.forEach( function ( b, i ) {\n\t\tstr[ i ] = String.fromCharCode( b );\n\t} );\n\treturn str.join( `` );\n}\nvar name$1 = Object.freeze( { __proto__: null, name: name } );\nclass OS2 extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.xAvgCharWidth = p.int16;\n\t\tthis.usWeightClass = p.uint16;\n\t\tthis.usWidthClass = p.uint16;\n\t\tthis.fsType = p.uint16;\n\t\tthis.ySubscriptXSize = p.int16;\n\t\tthis.ySubscriptYSize = p.int16;\n\t\tthis.ySubscriptXOffset = p.int16;\n\t\tthis.ySubscriptYOffset = p.int16;\n\t\tthis.ySuperscriptXSize = p.int16;\n\t\tthis.ySuperscriptYSize = p.int16;\n\t\tthis.ySuperscriptXOffset = p.int16;\n\t\tthis.ySuperscriptYOffset = p.int16;\n\t\tthis.yStrikeoutSize = p.int16;\n\t\tthis.yStrikeoutPosition = p.int16;\n\t\tthis.sFamilyClass = p.int16;\n\t\tthis.panose = [ ...new Array( 10 ) ].map( ( _ ) => p.uint8 );\n\t\tthis.ulUnicodeRange1 = p.flags( 32 );\n\t\tthis.ulUnicodeRange2 = p.flags( 32 );\n\t\tthis.ulUnicodeRange3 = p.flags( 32 );\n\t\tthis.ulUnicodeRange4 = p.flags( 32 );\n\t\tthis.achVendID = p.tag;\n\t\tthis.fsSelection = p.uint16;\n\t\tthis.usFirstCharIndex = p.uint16;\n\t\tthis.usLastCharIndex = p.uint16;\n\t\tthis.sTypoAscender = p.int16;\n\t\tthis.sTypoDescender = p.int16;\n\t\tthis.sTypoLineGap = p.int16;\n\t\tthis.usWinAscent = p.uint16;\n\t\tthis.usWinDescent = p.uint16;\n\t\tif ( this.version === 0 ) return p.verifyLength();\n\t\tthis.ulCodePageRange1 = p.flags( 32 );\n\t\tthis.ulCodePageRange2 = p.flags( 32 );\n\t\tif ( this.version === 1 ) return p.verifyLength();\n\t\tthis.sxHeight = p.int16;\n\t\tthis.sCapHeight = p.int16;\n\t\tthis.usDefaultChar = p.uint16;\n\t\tthis.usBreakChar = p.uint16;\n\t\tthis.usMaxContext = p.uint16;\n\t\tif ( this.version <= 4 ) return p.verifyLength();\n\t\tthis.usLowerOpticalPointSize = p.uint16;\n\t\tthis.usUpperOpticalPointSize = p.uint16;\n\t\tif ( this.version === 5 ) return p.verifyLength();\n\t}\n}\nvar OS2$1 = Object.freeze( { __proto__: null, OS2: OS2 } );\nclass post extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.legacyFixed;\n\t\tthis.italicAngle = p.fixed;\n\t\tthis.underlinePosition = p.fword;\n\t\tthis.underlineThickness = p.fword;\n\t\tthis.isFixedPitch = p.uint32;\n\t\tthis.minMemType42 = p.uint32;\n\t\tthis.maxMemType42 = p.uint32;\n\t\tthis.minMemType1 = p.uint32;\n\t\tthis.maxMemType1 = p.uint32;\n\t\tif ( this.version === 1 || this.version === 3 ) return p.verifyLength();\n\t\tthis.numGlyphs = p.uint16;\n\t\tif ( this.version === 2 ) {\n\t\t\tthis.glyphNameIndex = [ ...new Array( this.numGlyphs ) ].map(\n\t\t\t\t( _ ) => p.uint16\n\t\t\t);\n\t\t\tthis.namesOffset = p.currentPosition;\n\t\t\tthis.glyphNameOffsets = [ 1 ];\n\t\t\tfor ( let i = 0; i < this.numGlyphs; i++ ) {\n\t\t\t\tlet index = this.glyphNameIndex[ i ];\n\t\t\t\tif ( index < macStrings.length ) {\n\t\t\t\t\tthis.glyphNameOffsets.push( this.glyphNameOffsets[ i ] );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet bytelength = p.int8;\n\t\t\t\tp.skip( bytelength );\n\t\t\t\tthis.glyphNameOffsets.push(\n\t\t\t\t\tthis.glyphNameOffsets[ i ] + bytelength + 1\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif ( this.version === 2.5 ) {\n\t\t\tthis.offset = [ ...new Array( this.numGlyphs ) ].map(\n\t\t\t\t( _ ) => p.int8\n\t\t\t);\n\t\t}\n\t}\n\tgetGlyphName( glyphid ) {\n\t\tif ( this.version !== 2 ) {\n\t\t\tconsole.warn(\n\t\t\t\t`post table version ${ this.version } does not support glyph name lookups`\n\t\t\t);\n\t\t\treturn ``;\n\t\t}\n\t\tlet index = this.glyphNameIndex[ glyphid ];\n\t\tif ( index < 258 ) return macStrings[ index ];\n\t\tlet offset = this.glyphNameOffsets[ glyphid ];\n\t\tlet next = this.glyphNameOffsets[ glyphid + 1 ];\n\t\tlet len = next - offset - 1;\n\t\tif ( len === 0 ) return `.notdef.`;\n\t\tthis.parser.currentPosition = this.namesOffset + offset;\n\t\tconst data = this.parser.readBytes(\n\t\t\tlen,\n\t\t\tthis.namesOffset + offset,\n\t\t\t8,\n\t\t\ttrue\n\t\t);\n\t\treturn data.map( ( b ) => String.fromCharCode( b ) ).join( `` );\n\t}\n}\nconst macStrings = [\n\t`.notdef`,\n\t`.null`,\n\t`nonmarkingreturn`,\n\t`space`,\n\t`exclam`,\n\t`quotedbl`,\n\t`numbersign`,\n\t`dollar`,\n\t`percent`,\n\t`ampersand`,\n\t`quotesingle`,\n\t`parenleft`,\n\t`parenright`,\n\t`asterisk`,\n\t`plus`,\n\t`comma`,\n\t`hyphen`,\n\t`period`,\n\t`slash`,\n\t`zero`,\n\t`one`,\n\t`two`,\n\t`three`,\n\t`four`,\n\t`five`,\n\t`six`,\n\t`seven`,\n\t`eight`,\n\t`nine`,\n\t`colon`,\n\t`semicolon`,\n\t`less`,\n\t`equal`,\n\t`greater`,\n\t`question`,\n\t`at`,\n\t`A`,\n\t`B`,\n\t`C`,\n\t`D`,\n\t`E`,\n\t`F`,\n\t`G`,\n\t`H`,\n\t`I`,\n\t`J`,\n\t`K`,\n\t`L`,\n\t`M`,\n\t`N`,\n\t`O`,\n\t`P`,\n\t`Q`,\n\t`R`,\n\t`S`,\n\t`T`,\n\t`U`,\n\t`V`,\n\t`W`,\n\t`X`,\n\t`Y`,\n\t`Z`,\n\t`bracketleft`,\n\t`backslash`,\n\t`bracketright`,\n\t`asciicircum`,\n\t`underscore`,\n\t`grave`,\n\t`a`,\n\t`b`,\n\t`c`,\n\t`d`,\n\t`e`,\n\t`f`,\n\t`g`,\n\t`h`,\n\t`i`,\n\t`j`,\n\t`k`,\n\t`l`,\n\t`m`,\n\t`n`,\n\t`o`,\n\t`p`,\n\t`q`,\n\t`r`,\n\t`s`,\n\t`t`,\n\t`u`,\n\t`v`,\n\t`w`,\n\t`x`,\n\t`y`,\n\t`z`,\n\t`braceleft`,\n\t`bar`,\n\t`braceright`,\n\t`asciitilde`,\n\t`Adieresis`,\n\t`Aring`,\n\t`Ccedilla`,\n\t`Eacute`,\n\t`Ntilde`,\n\t`Odieresis`,\n\t`Udieresis`,\n\t`aacute`,\n\t`agrave`,\n\t`acircumflex`,\n\t`adieresis`,\n\t`atilde`,\n\t`aring`,\n\t`ccedilla`,\n\t`eacute`,\n\t`egrave`,\n\t`ecircumflex`,\n\t`edieresis`,\n\t`iacute`,\n\t`igrave`,\n\t`icircumflex`,\n\t`idieresis`,\n\t`ntilde`,\n\t`oacute`,\n\t`ograve`,\n\t`ocircumflex`,\n\t`odieresis`,\n\t`otilde`,\n\t`uacute`,\n\t`ugrave`,\n\t`ucircumflex`,\n\t`udieresis`,\n\t`dagger`,\n\t`degree`,\n\t`cent`,\n\t`sterling`,\n\t`section`,\n\t`bullet`,\n\t`paragraph`,\n\t`germandbls`,\n\t`registered`,\n\t`copyright`,\n\t`trademark`,\n\t`acute`,\n\t`dieresis`,\n\t`notequal`,\n\t`AE`,\n\t`Oslash`,\n\t`infinity`,\n\t`plusminus`,\n\t`lessequal`,\n\t`greaterequal`,\n\t`yen`,\n\t`mu`,\n\t`partialdiff`,\n\t`summation`,\n\t`product`,\n\t`pi`,\n\t`integral`,\n\t`ordfeminine`,\n\t`ordmasculine`,\n\t`Omega`,\n\t`ae`,\n\t`oslash`,\n\t`questiondown`,\n\t`exclamdown`,\n\t`logicalnot`,\n\t`radical`,\n\t`florin`,\n\t`approxequal`,\n\t`Delta`,\n\t`guillemotleft`,\n\t`guillemotright`,\n\t`ellipsis`,\n\t`nonbreakingspace`,\n\t`Agrave`,\n\t`Atilde`,\n\t`Otilde`,\n\t`OE`,\n\t`oe`,\n\t`endash`,\n\t`emdash`,\n\t`quotedblleft`,\n\t`quotedblright`,\n\t`quoteleft`,\n\t`quoteright`,\n\t`divide`,\n\t`lozenge`,\n\t`ydieresis`,\n\t`Ydieresis`,\n\t`fraction`,\n\t`currency`,\n\t`guilsinglleft`,\n\t`guilsinglright`,\n\t`fi`,\n\t`fl`,\n\t`daggerdbl`,\n\t`periodcentered`,\n\t`quotesinglbase`,\n\t`quotedblbase`,\n\t`perthousand`,\n\t`Acircumflex`,\n\t`Ecircumflex`,\n\t`Aacute`,\n\t`Edieresis`,\n\t`Egrave`,\n\t`Iacute`,\n\t`Icircumflex`,\n\t`Idieresis`,\n\t`Igrave`,\n\t`Oacute`,\n\t`Ocircumflex`,\n\t`apple`,\n\t`Ograve`,\n\t`Uacute`,\n\t`Ucircumflex`,\n\t`Ugrave`,\n\t`dotlessi`,\n\t`circumflex`,\n\t`tilde`,\n\t`macron`,\n\t`breve`,\n\t`dotaccent`,\n\t`ring`,\n\t`cedilla`,\n\t`hungarumlaut`,\n\t`ogonek`,\n\t`caron`,\n\t`Lslash`,\n\t`lslash`,\n\t`Scaron`,\n\t`scaron`,\n\t`Zcaron`,\n\t`zcaron`,\n\t`brokenbar`,\n\t`Eth`,\n\t`eth`,\n\t`Yacute`,\n\t`yacute`,\n\t`Thorn`,\n\t`thorn`,\n\t`minus`,\n\t`multiply`,\n\t`onesuperior`,\n\t`twosuperior`,\n\t`threesuperior`,\n\t`onehalf`,\n\t`onequarter`,\n\t`threequarters`,\n\t`franc`,\n\t`Gbreve`,\n\t`gbreve`,\n\t`Idotaccent`,\n\t`Scedilla`,\n\t`scedilla`,\n\t`Cacute`,\n\t`cacute`,\n\t`Ccaron`,\n\t`ccaron`,\n\t`dcroat`,\n];\nvar post$1 = Object.freeze( { __proto__: null, post: post } );\nclass BASE extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.horizAxisOffset = p.Offset16;\n\t\tthis.vertAxisOffset = p.Offset16;\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`horizAxis`,\n\t\t\t() =>\n\t\t\t\tnew AxisTable(\n\t\t\t\t\t{ offset: dict.offset + this.horizAxisOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`vertAxis`,\n\t\t\t() =>\n\t\t\t\tnew AxisTable(\n\t\t\t\t\t{ offset: dict.offset + this.vertAxisOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t\tif ( this.majorVersion === 1 && this.minorVersion === 1 ) {\n\t\t\tthis.itemVarStoreOffset = p.Offset32;\n\t\t\tlazy$1(\n\t\t\t\tthis,\n\t\t\t\t`itemVarStore`,\n\t\t\t\t() =>\n\t\t\t\t\tnew AxisTable(\n\t\t\t\t\t\t{ offset: dict.offset + this.itemVarStoreOffset },\n\t\t\t\t\t\tdataview\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n}\nclass AxisTable extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview, `AxisTable` );\n\t\tthis.baseTagListOffset = p.Offset16;\n\t\tthis.baseScriptListOffset = p.Offset16;\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`baseTagList`,\n\t\t\t() =>\n\t\t\t\tnew BaseTagListTable(\n\t\t\t\t\t{ offset: dict.offset + this.baseTagListOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`baseScriptList`,\n\t\t\t() =>\n\t\t\t\tnew BaseScriptListTable(\n\t\t\t\t\t{ offset: dict.offset + this.baseScriptListOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t}\n}\nclass BaseTagListTable extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview, `BaseTagListTable` );\n\t\tthis.baseTagCount = p.uint16;\n\t\tthis.baselineTags = [ ...new Array( this.baseTagCount ) ].map(\n\t\t\t( _ ) => p.tag\n\t\t);\n\t}\n}\nclass BaseScriptListTable extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview, `BaseScriptListTable` );\n\t\tthis.baseScriptCount = p.uint16;\n\t\tconst recordStart = p.currentPosition;\n\t\tlazy$1( this, `baseScriptRecords`, () => {\n\t\t\tp.currentPosition = recordStart;\n\t\t\treturn [ ...new Array( this.baseScriptCount ) ].map(\n\t\t\t\t( _ ) => new BaseScriptRecord( this.start, p )\n\t\t\t);\n\t\t} );\n\t}\n}\nclass BaseScriptRecord {\n\tconstructor( baseScriptListTableStart, p ) {\n\t\tthis.baseScriptTag = p.tag;\n\t\tthis.baseScriptOffset = p.Offset16;\n\t\tlazy$1( this, `baseScriptTable`, () => {\n\t\t\tp.currentPosition =\n\t\t\t\tbaseScriptListTableStart + this.baseScriptOffset;\n\t\t\treturn new BaseScriptTable( p );\n\t\t} );\n\t}\n}\nclass BaseScriptTable {\n\tconstructor( p ) {\n\t\tthis.start = p.currentPosition;\n\t\tthis.baseValuesOffset = p.Offset16;\n\t\tthis.defaultMinMaxOffset = p.Offset16;\n\t\tthis.baseLangSysCount = p.uint16;\n\t\tthis.baseLangSysRecords = [ ...new Array( this.baseLangSysCount ) ].map(\n\t\t\t( _ ) => new BaseLangSysRecord( this.start, p )\n\t\t);\n\t\tlazy$1( this, `baseValues`, () => {\n\t\t\tp.currentPosition = this.start + this.baseValuesOffset;\n\t\t\treturn new BaseValuesTable( p );\n\t\t} );\n\t\tlazy$1( this, `defaultMinMax`, () => {\n\t\t\tp.currentPosition = this.start + this.defaultMinMaxOffset;\n\t\t\treturn new MinMaxTable( p );\n\t\t} );\n\t}\n}\nclass BaseLangSysRecord {\n\tconstructor( baseScriptTableStart, p ) {\n\t\tthis.baseLangSysTag = p.tag;\n\t\tthis.minMaxOffset = p.Offset16;\n\t\tlazy$1( this, `minMax`, () => {\n\t\t\tp.currentPosition = baseScriptTableStart + this.minMaxOffset;\n\t\t\treturn new MinMaxTable( p );\n\t\t} );\n\t}\n}\nclass BaseValuesTable {\n\tconstructor( p ) {\n\t\tthis.parser = p;\n\t\tthis.start = p.currentPosition;\n\t\tthis.defaultBaselineIndex = p.uint16;\n\t\tthis.baseCoordCount = p.uint16;\n\t\tthis.baseCoords = [ ...new Array( this.baseCoordCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetTable( id ) {\n\t\tthis.parser.currentPosition = this.start + this.baseCoords[ id ];\n\t\treturn new BaseCoordTable( this.parser );\n\t}\n}\nclass MinMaxTable {\n\tconstructor( p ) {\n\t\tthis.minCoord = p.Offset16;\n\t\tthis.maxCoord = p.Offset16;\n\t\tthis.featMinMaxCount = p.uint16;\n\t\tconst recordStart = p.currentPosition;\n\t\tlazy$1( this, `featMinMaxRecords`, () => {\n\t\t\tp.currentPosition = recordStart;\n\t\t\treturn [ ...new Array( this.featMinMaxCount ) ].map(\n\t\t\t\t( _ ) => new FeatMinMaxRecord( p )\n\t\t\t);\n\t\t} );\n\t}\n}\nclass FeatMinMaxRecord {\n\tconstructor( p ) {\n\t\tthis.featureTableTag = p.tag;\n\t\tthis.minCoord = p.Offset16;\n\t\tthis.maxCoord = p.Offset16;\n\t}\n}\nclass BaseCoordTable {\n\tconstructor( p ) {\n\t\tthis.baseCoordFormat = p.uint16;\n\t\tthis.coordinate = p.int16;\n\t\tif ( this.baseCoordFormat === 2 ) {\n\t\t\tthis.referenceGlyph = p.uint16;\n\t\t\tthis.baseCoordPoint = p.uint16;\n\t\t}\n\t\tif ( this.baseCoordFormat === 3 ) {\n\t\t\tthis.deviceTable = p.Offset16;\n\t\t}\n\t}\n}\nvar BASE$1 = Object.freeze( { __proto__: null, BASE: BASE } );\nclass ClassDefinition {\n\tconstructor( p ) {\n\t\tthis.classFormat = p.uint16;\n\t\tif ( this.classFormat === 1 ) {\n\t\t\tthis.startGlyphID = p.uint16;\n\t\t\tthis.glyphCount = p.uint16;\n\t\t\tthis.classValueArray = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t\t( _ ) => p.uint16\n\t\t\t);\n\t\t}\n\t\tif ( this.classFormat === 2 ) {\n\t\t\tthis.classRangeCount = p.uint16;\n\t\t\tthis.classRangeRecords = [\n\t\t\t\t...new Array( this.classRangeCount ),\n\t\t\t].map( ( _ ) => new ClassRangeRecord( p ) );\n\t\t}\n\t}\n}\nclass ClassRangeRecord {\n\tconstructor( p ) {\n\t\tthis.startGlyphID = p.uint16;\n\t\tthis.endGlyphID = p.uint16;\n\t\tthis.class = p.uint16;\n\t}\n}\nclass CoverageTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.coverageFormat = p.uint16;\n\t\tif ( this.coverageFormat === 1 ) {\n\t\t\tthis.glyphCount = p.uint16;\n\t\t\tthis.glyphArray = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t\t( _ ) => p.uint16\n\t\t\t);\n\t\t}\n\t\tif ( this.coverageFormat === 2 ) {\n\t\t\tthis.rangeCount = p.uint16;\n\t\t\tthis.rangeRecords = [ ...new Array( this.rangeCount ) ].map(\n\t\t\t\t( _ ) => new CoverageRangeRecord( p )\n\t\t\t);\n\t\t}\n\t}\n}\nclass CoverageRangeRecord {\n\tconstructor( p ) {\n\t\tthis.startGlyphID = p.uint16;\n\t\tthis.endGlyphID = p.uint16;\n\t\tthis.startCoverageIndex = p.uint16;\n\t}\n}\nclass ItemVariationStoreTable {\n\tconstructor( table, p ) {\n\t\tthis.table = table;\n\t\tthis.parser = p;\n\t\tthis.start = p.currentPosition;\n\t\tthis.format = p.uint16;\n\t\tthis.variationRegionListOffset = p.Offset32;\n\t\tthis.itemVariationDataCount = p.uint16;\n\t\tthis.itemVariationDataOffsets = [\n\t\t\t...new Array( this.itemVariationDataCount ),\n\t\t].map( ( _ ) => p.Offset32 );\n\t}\n}\nclass GDEF extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.glyphClassDefOffset = p.Offset16;\n\t\tlazy$1( this, `glyphClassDefs`, () => {\n\t\t\tif ( this.glyphClassDefOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.glyphClassDefOffset;\n\t\t\treturn new ClassDefinition( p );\n\t\t} );\n\t\tthis.attachListOffset = p.Offset16;\n\t\tlazy$1( this, `attachList`, () => {\n\t\t\tif ( this.attachListOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.attachListOffset;\n\t\t\treturn new AttachList( p );\n\t\t} );\n\t\tthis.ligCaretListOffset = p.Offset16;\n\t\tlazy$1( this, `ligCaretList`, () => {\n\t\t\tif ( this.ligCaretListOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.ligCaretListOffset;\n\t\t\treturn new LigCaretList( p );\n\t\t} );\n\t\tthis.markAttachClassDefOffset = p.Offset16;\n\t\tlazy$1( this, `markAttachClassDef`, () => {\n\t\t\tif ( this.markAttachClassDefOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.markAttachClassDefOffset;\n\t\t\treturn new ClassDefinition( p );\n\t\t} );\n\t\tif ( this.minorVersion >= 2 ) {\n\t\t\tthis.markGlyphSetsDefOffset = p.Offset16;\n\t\t\tlazy$1( this, `markGlyphSetsDef`, () => {\n\t\t\t\tif ( this.markGlyphSetsDefOffset === 0 ) return undefined;\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.markGlyphSetsDefOffset;\n\t\t\t\treturn new MarkGlyphSetsTable( p );\n\t\t\t} );\n\t\t}\n\t\tif ( this.minorVersion === 3 ) {\n\t\t\tthis.itemVarStoreOffset = p.Offset32;\n\t\t\tlazy$1( this, `itemVarStore`, () => {\n\t\t\t\tif ( this.itemVarStoreOffset === 0 ) return undefined;\n\t\t\t\tp.currentPosition = this.tableStart + this.itemVarStoreOffset;\n\t\t\t\treturn new ItemVariationStoreTable( p );\n\t\t\t} );\n\t\t}\n\t}\n}\nclass AttachList extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.coverageOffset = p.Offset16;\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.attachPointOffsets = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetPoint( pointID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.attachPointOffsets[ pointID ];\n\t\treturn new AttachPoint( this.parser );\n\t}\n}\nclass AttachPoint {\n\tconstructor( p ) {\n\t\tthis.pointCount = p.uint16;\n\t\tthis.pointIndices = [ ...new Array( this.pointCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass LigCaretList extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.coverageOffset = p.Offset16;\n\t\tlazy$1( this, `coverage`, () => {\n\t\t\tp.currentPosition = this.start + this.coverageOffset;\n\t\t\treturn new CoverageTable( p );\n\t\t} );\n\t\tthis.ligGlyphCount = p.uint16;\n\t\tthis.ligGlyphOffsets = [ ...new Array( this.ligGlyphCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetLigGlyph( ligGlyphID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.ligGlyphOffsets[ ligGlyphID ];\n\t\treturn new LigGlyph( this.parser );\n\t}\n}\nclass LigGlyph extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.caretCount = p.uint16;\n\t\tthis.caretValueOffsets = [ ...new Array( this.caretCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetCaretValue( caretID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.caretValueOffsets[ caretID ];\n\t\treturn new CaretValue( this.parser );\n\t}\n}\nclass CaretValue {\n\tconstructor( p ) {\n\t\tthis.caretValueFormat = p.uint16;\n\t\tif ( this.caretValueFormat === 1 ) {\n\t\t\tthis.coordinate = p.int16;\n\t\t}\n\t\tif ( this.caretValueFormat === 2 ) {\n\t\t\tthis.caretValuePointIndex = p.uint16;\n\t\t}\n\t\tif ( this.caretValueFormat === 3 ) {\n\t\t\tthis.coordinate = p.int16;\n\t\t\tthis.deviceOffset = p.Offset16;\n\t\t}\n\t}\n}\nclass MarkGlyphSetsTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.markGlyphSetTableFormat = p.uint16;\n\t\tthis.markGlyphSetCount = p.uint16;\n\t\tthis.coverageOffsets = [ ...new Array( this.markGlyphSetCount ) ].map(\n\t\t\t( _ ) => p.Offset32\n\t\t);\n\t}\n\tgetMarkGlyphSet( markGlyphSetID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.coverageOffsets[ markGlyphSetID ];\n\t\treturn new CoverageTable( this.parser );\n\t}\n}\nvar GDEF$1 = Object.freeze( { __proto__: null, GDEF: GDEF } );\nclass ScriptList extends ParsedData {\n\tstatic EMPTY = { scriptCount: 0, scriptRecords: [] };\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.scriptCount = p.uint16;\n\t\tthis.scriptRecords = [ ...new Array( this.scriptCount ) ].map(\n\t\t\t( _ ) => new ScriptRecord( p )\n\t\t);\n\t}\n}\nclass ScriptRecord {\n\tconstructor( p ) {\n\t\tthis.scriptTag = p.tag;\n\t\tthis.scriptOffset = p.Offset16;\n\t}\n}\nclass ScriptTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.defaultLangSys = p.Offset16;\n\t\tthis.langSysCount = p.uint16;\n\t\tthis.langSysRecords = [ ...new Array( this.langSysCount ) ].map(\n\t\t\t( _ ) => new LangSysRecord( p )\n\t\t);\n\t}\n}\nclass LangSysRecord {\n\tconstructor( p ) {\n\t\tthis.langSysTag = p.tag;\n\t\tthis.langSysOffset = p.Offset16;\n\t}\n}\nclass LangSysTable {\n\tconstructor( p ) {\n\t\tthis.lookupOrder = p.Offset16;\n\t\tthis.requiredFeatureIndex = p.uint16;\n\t\tthis.featureIndexCount = p.uint16;\n\t\tthis.featureIndices = [ ...new Array( this.featureIndexCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass FeatureList extends ParsedData {\n\tstatic EMPTY = { featureCount: 0, featureRecords: [] };\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.featureCount = p.uint16;\n\t\tthis.featureRecords = [ ...new Array( this.featureCount ) ].map(\n\t\t\t( _ ) => new FeatureRecord( p )\n\t\t);\n\t}\n}\nclass FeatureRecord {\n\tconstructor( p ) {\n\t\tthis.featureTag = p.tag;\n\t\tthis.featureOffset = p.Offset16;\n\t}\n}\nclass FeatureTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.featureParams = p.Offset16;\n\t\tthis.lookupIndexCount = p.uint16;\n\t\tthis.lookupListIndices = [ ...new Array( this.lookupIndexCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n\tgetFeatureParams() {\n\t\tif ( this.featureParams > 0 ) {\n\t\t\tconst p = this.parser;\n\t\t\tp.currentPosition = this.start + this.featureParams;\n\t\t\tconst tag = this.featureTag;\n\t\t\tif ( tag === `size` ) return new Size( p );\n\t\t\tif ( tag.startsWith( `cc` ) ) return new CharacterVariant( p );\n\t\t\tif ( tag.startsWith( `ss` ) ) return new StylisticSet( p );\n\t\t}\n\t}\n}\nclass CharacterVariant {\n\tconstructor( p ) {\n\t\tthis.format = p.uint16;\n\t\tthis.featUiLabelNameId = p.uint16;\n\t\tthis.featUiTooltipTextNameId = p.uint16;\n\t\tthis.sampleTextNameId = p.uint16;\n\t\tthis.numNamedParameters = p.uint16;\n\t\tthis.firstParamUiLabelNameId = p.uint16;\n\t\tthis.charCount = p.uint16;\n\t\tthis.character = [ ...new Array( this.charCount ) ].map(\n\t\t\t( _ ) => p.uint24\n\t\t);\n\t}\n}\nclass Size {\n\tconstructor( p ) {\n\t\tthis.designSize = p.uint16;\n\t\tthis.subfamilyIdentifier = p.uint16;\n\t\tthis.subfamilyNameID = p.uint16;\n\t\tthis.smallEnd = p.uint16;\n\t\tthis.largeEnd = p.uint16;\n\t}\n}\nclass StylisticSet {\n\tconstructor( p ) {\n\t\tthis.version = p.uint16;\n\t\tthis.UINameID = p.uint16;\n\t}\n}\nfunction undoCoverageOffsetParsing( instance ) {\n\tinstance.parser.currentPosition -= 2;\n\tdelete instance.coverageOffset;\n\tdelete instance.getCoverageTable;\n}\nclass LookupType$1 extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.substFormat = p.uint16;\n\t\tthis.coverageOffset = p.Offset16;\n\t}\n\tgetCoverageTable() {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.coverageOffset;\n\t\treturn new CoverageTable( p );\n\t}\n}\nclass SubstLookupRecord {\n\tconstructor( p ) {\n\t\tthis.glyphSequenceIndex = p.uint16;\n\t\tthis.lookupListIndex = p.uint16;\n\t}\n}\nclass LookupType1$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.deltaGlyphID = p.int16;\n\t}\n}\nclass LookupType2$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.sequenceCount = p.uint16;\n\t\tthis.sequenceOffsets = [ ...new Array( this.sequenceCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetSequence( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.sequenceOffsets[ index ];\n\t\treturn new SequenceTable( p );\n\t}\n}\nclass SequenceTable {\n\tconstructor( p ) {\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.substituteGlyphIDs = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass LookupType3$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.alternateSetCount = p.uint16;\n\t\tthis.alternateSetOffsets = [\n\t\t\t...new Array( this.alternateSetCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetAlternateSet( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.alternateSetOffsets[ index ];\n\t\treturn new AlternateSetTable( p );\n\t}\n}\nclass AlternateSetTable {\n\tconstructor( p ) {\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.alternateGlyphIDs = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass LookupType4$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.ligatureSetCount = p.uint16;\n\t\tthis.ligatureSetOffsets = [ ...new Array( this.ligatureSetCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetLigatureSet( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.ligatureSetOffsets[ index ];\n\t\treturn new LigatureSetTable( p );\n\t}\n}\nclass LigatureSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.ligatureCount = p.uint16;\n\t\tthis.ligatureOffsets = [ ...new Array( this.ligatureCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetLigature( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.ligatureOffsets[ index ];\n\t\treturn new LigatureTable( p );\n\t}\n}\nclass LigatureTable {\n\tconstructor( p ) {\n\t\tthis.ligatureGlyph = p.uint16;\n\t\tthis.componentCount = p.uint16;\n\t\tthis.componentGlyphIDs = [\n\t\t\t...new Array( this.componentCount - 1 ),\n\t\t].map( ( _ ) => p.uint16 );\n\t}\n}\nclass LookupType5$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tif ( this.substFormat === 1 ) {\n\t\t\tthis.subRuleSetCount = p.uint16;\n\t\t\tthis.subRuleSetOffsets = [\n\t\t\t\t...new Array( this.subRuleSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 2 ) {\n\t\t\tthis.classDefOffset = p.Offset16;\n\t\t\tthis.subClassSetCount = p.uint16;\n\t\t\tthis.subClassSetOffsets = [\n\t\t\t\t...new Array( this.subClassSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 3 ) {\n\t\t\tundoCoverageOffsetParsing( this );\n\t\t\tthis.glyphCount = p.uint16;\n\t\t\tthis.substitutionCount = p.uint16;\n\t\t\tthis.coverageOffsets = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t\t( _ ) => p.Offset16\n\t\t\t);\n\t\t\tthis.substLookupRecords = [\n\t\t\t\t...new Array( this.substitutionCount ),\n\t\t\t].map( ( _ ) => new SubstLookupRecord( p ) );\n\t\t}\n\t}\n\tgetSubRuleSet( index ) {\n\t\tif ( this.substFormat !== 1 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 5.${ this.substFormat } has no subrule sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subRuleSetOffsets[ index ];\n\t\treturn new SubRuleSetTable( p );\n\t}\n\tgetSubClassSet( index ) {\n\t\tif ( this.substFormat !== 2 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 5.${ this.substFormat } has no subclass sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subClassSetOffsets[ index ];\n\t\treturn new SubClassSetTable( p );\n\t}\n\tgetCoverageTable( index ) {\n\t\tif ( this.substFormat !== 3 && ! index )\n\t\t\treturn super.getCoverageTable();\n\t\tif ( ! index )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 5.${ this.substFormat } requires an coverage table index.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.coverageOffsets[ index ];\n\t\treturn new CoverageTable( p );\n\t}\n}\nclass SubRuleSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.subRuleCount = p.uint16;\n\t\tthis.subRuleOffsets = [ ...new Array( this.subRuleCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetSubRule( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subRuleOffsets[ index ];\n\t\treturn new SubRuleTable( p );\n\t}\n}\nclass SubRuleTable {\n\tconstructor( p ) {\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.substitutionCount = p.uint16;\n\t\tthis.inputSequence = [ ...new Array( this.glyphCount - 1 ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tthis.substLookupRecords = [\n\t\t\t...new Array( this.substitutionCount ),\n\t\t].map( ( _ ) => new SubstLookupRecord( p ) );\n\t}\n}\nclass SubClassSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.subClassRuleCount = p.uint16;\n\t\tthis.subClassRuleOffsets = [\n\t\t\t...new Array( this.subClassRuleCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetSubClass( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subClassRuleOffsets[ index ];\n\t\treturn new SubClassRuleTable( p );\n\t}\n}\nclass SubClassRuleTable extends SubRuleTable {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t}\n}\nclass LookupType6$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tif ( this.substFormat === 1 ) {\n\t\t\tthis.chainSubRuleSetCount = p.uint16;\n\t\t\tthis.chainSubRuleSetOffsets = [\n\t\t\t\t...new Array( this.chainSubRuleSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 2 ) {\n\t\t\tthis.backtrackClassDefOffset = p.Offset16;\n\t\t\tthis.inputClassDefOffset = p.Offset16;\n\t\t\tthis.lookaheadClassDefOffset = p.Offset16;\n\t\t\tthis.chainSubClassSetCount = p.uint16;\n\t\t\tthis.chainSubClassSetOffsets = [\n\t\t\t\t...new Array( this.chainSubClassSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 3 ) {\n\t\t\tundoCoverageOffsetParsing( this );\n\t\t\tthis.backtrackGlyphCount = p.uint16;\n\t\t\tthis.backtrackCoverageOffsets = [\n\t\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t\tthis.inputGlyphCount = p.uint16;\n\t\t\tthis.inputCoverageOffsets = [\n\t\t\t\t...new Array( this.inputGlyphCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\t\tthis.lookaheadCoverageOffsets = [\n\t\t\t\t...new Array( this.lookaheadGlyphCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t\tthis.seqLookupCount = p.uint16;\n\t\t\tthis.seqLookupRecords = [\n\t\t\t\t...new Array( this.substitutionCount ),\n\t\t\t].map( ( _ ) => new SequenceLookupRecord( p ) );\n\t\t}\n\t}\n\tgetChainSubRuleSet( index ) {\n\t\tif ( this.substFormat !== 1 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 6.${ this.substFormat } has no chainsubrule sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubRuleSetOffsets[ index ];\n\t\treturn new ChainSubRuleSetTable( p );\n\t}\n\tgetChainSubClassSet( index ) {\n\t\tif ( this.substFormat !== 2 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 6.${ this.substFormat } has no chainsubclass sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubClassSetOffsets[ index ];\n\t\treturn new ChainSubClassSetTable( p );\n\t}\n\tgetCoverageFromOffset( offset ) {\n\t\tif ( this.substFormat !== 3 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 6.${ this.substFormat } does not use contextual coverage offsets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + offset;\n\t\treturn new CoverageTable( p );\n\t}\n}\nclass ChainSubRuleSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.chainSubRuleCount = p.uint16;\n\t\tthis.chainSubRuleOffsets = [\n\t\t\t...new Array( this.chainSubRuleCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetSubRule( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubRuleOffsets[ index ];\n\t\treturn new ChainSubRuleTable( p );\n\t}\n}\nclass ChainSubRuleTable {\n\tconstructor( p ) {\n\t\tthis.backtrackGlyphCount = p.uint16;\n\t\tthis.backtrackSequence = [\n\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.inputGlyphCount = p.uint16;\n\t\tthis.inputSequence = [ ...new Array( this.inputGlyphCount - 1 ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\tthis.lookAheadSequence = [\n\t\t\t...new Array( this.lookAheadGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.substitutionCount = p.uint16;\n\t\tthis.substLookupRecords = [ ...new Array( this.SubstCount ) ].map(\n\t\t\t( _ ) => new SubstLookupRecord( p )\n\t\t);\n\t}\n}\nclass ChainSubClassSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.chainSubClassRuleCount = p.uint16;\n\t\tthis.chainSubClassRuleOffsets = [\n\t\t\t...new Array( this.chainSubClassRuleCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetSubClass( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubRuleOffsets[ index ];\n\t\treturn new ChainSubClassRuleTable( p );\n\t}\n}\nclass ChainSubClassRuleTable {\n\tconstructor( p ) {\n\t\tthis.backtrackGlyphCount = p.uint16;\n\t\tthis.backtrackSequence = [\n\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.inputGlyphCount = p.uint16;\n\t\tthis.inputSequence = [ ...new Array( this.inputGlyphCount - 1 ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\tthis.lookAheadSequence = [\n\t\t\t...new Array( this.lookAheadGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.substitutionCount = p.uint16;\n\t\tthis.substLookupRecords = [\n\t\t\t...new Array( this.substitutionCount ),\n\t\t].map( ( _ ) => new SequenceLookupRecord( p ) );\n\t}\n}\nclass SequenceLookupRecord extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.sequenceIndex = p.uint16;\n\t\tthis.lookupListIndex = p.uint16;\n\t}\n}\nclass LookupType7$1 extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.substFormat = p.uint16;\n\t\tthis.extensionLookupType = p.uint16;\n\t\tthis.extensionOffset = p.Offset32;\n\t}\n}\nclass LookupType8$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.backtrackGlyphCount = p.uint16;\n\t\tthis.backtrackCoverageOffsets = [\n\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\tthis.lookaheadCoverageOffsets = [\n\t\t\tnew Array( this.lookaheadGlyphCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.substituteGlyphIDs = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nvar GSUBtables = {\n\tbuildSubtable: function ( type, p ) {\n\t\tconst subtable = new [\n\t\t\tundefined,\n\t\t\tLookupType1$1,\n\t\t\tLookupType2$1,\n\t\t\tLookupType3$1,\n\t\t\tLookupType4$1,\n\t\t\tLookupType5$1,\n\t\t\tLookupType6$1,\n\t\t\tLookupType7$1,\n\t\t\tLookupType8$1,\n\t\t][ type ]( p );\n\t\tsubtable.type = type;\n\t\treturn subtable;\n\t},\n};\nclass LookupType extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t}\n}\nclass LookupType1 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 1` );\n\t}\n}\nclass LookupType2 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 2` );\n\t}\n}\nclass LookupType3 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 3` );\n\t}\n}\nclass LookupType4 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 4` );\n\t}\n}\nclass LookupType5 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 5` );\n\t}\n}\nclass LookupType6 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 6` );\n\t}\n}\nclass LookupType7 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 7` );\n\t}\n}\nclass LookupType8 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 8` );\n\t}\n}\nclass LookupType9 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 9` );\n\t}\n}\nvar GPOStables = {\n\tbuildSubtable: function ( type, p ) {\n\t\tconst subtable = new [\n\t\t\tundefined,\n\t\t\tLookupType1,\n\t\t\tLookupType2,\n\t\t\tLookupType3,\n\t\t\tLookupType4,\n\t\t\tLookupType5,\n\t\t\tLookupType6,\n\t\t\tLookupType7,\n\t\t\tLookupType8,\n\t\t\tLookupType9,\n\t\t][ type ]( p );\n\t\tsubtable.type = type;\n\t\treturn subtable;\n\t},\n};\nclass LookupList extends ParsedData {\n\tstatic EMPTY = { lookupCount: 0, lookups: [] };\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.lookupCount = p.uint16;\n\t\tthis.lookups = [ ...new Array( this.lookupCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n}\nclass LookupTable extends ParsedData {\n\tconstructor( p, type ) {\n\t\tsuper( p );\n\t\tthis.ctType = type;\n\t\tthis.lookupType = p.uint16;\n\t\tthis.lookupFlag = p.uint16;\n\t\tthis.subTableCount = p.uint16;\n\t\tthis.subtableOffsets = [ ...new Array( this.subTableCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t\tthis.markFilteringSet = p.uint16;\n\t}\n\tget rightToLeft() {\n\t\treturn this.lookupFlag & ( 1 === 1 );\n\t}\n\tget ignoreBaseGlyphs() {\n\t\treturn this.lookupFlag & ( 2 === 2 );\n\t}\n\tget ignoreLigatures() {\n\t\treturn this.lookupFlag & ( 4 === 4 );\n\t}\n\tget ignoreMarks() {\n\t\treturn this.lookupFlag & ( 8 === 8 );\n\t}\n\tget useMarkFilteringSet() {\n\t\treturn this.lookupFlag & ( 16 === 16 );\n\t}\n\tget markAttachmentType() {\n\t\treturn this.lookupFlag & ( 65280 === 65280 );\n\t}\n\tgetSubTable( index ) {\n\t\tconst builder = this.ctType === `GSUB` ? GSUBtables : GPOStables;\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.subtableOffsets[ index ];\n\t\treturn builder.buildSubtable( this.lookupType, this.parser );\n\t}\n}\nclass CommonLayoutTable extends SimpleTable {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { p: p, tableStart: tableStart } = super( dict, dataview, name );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.scriptListOffset = p.Offset16;\n\t\tthis.featureListOffset = p.Offset16;\n\t\tthis.lookupListOffset = p.Offset16;\n\t\tif ( this.majorVersion === 1 && this.minorVersion === 1 ) {\n\t\t\tthis.featureVariationsOffset = p.Offset32;\n\t\t}\n\t\tconst no_content = ! (\n\t\t\tthis.scriptListOffset ||\n\t\t\tthis.featureListOffset ||\n\t\t\tthis.lookupListOffset\n\t\t);\n\t\tlazy$1( this, `scriptList`, () => {\n\t\t\tif ( no_content ) return ScriptList.EMPTY;\n\t\t\tp.currentPosition = tableStart + this.scriptListOffset;\n\t\t\treturn new ScriptList( p );\n\t\t} );\n\t\tlazy$1( this, `featureList`, () => {\n\t\t\tif ( no_content ) return FeatureList.EMPTY;\n\t\t\tp.currentPosition = tableStart + this.featureListOffset;\n\t\t\treturn new FeatureList( p );\n\t\t} );\n\t\tlazy$1( this, `lookupList`, () => {\n\t\t\tif ( no_content ) return LookupList.EMPTY;\n\t\t\tp.currentPosition = tableStart + this.lookupListOffset;\n\t\t\treturn new LookupList( p );\n\t\t} );\n\t\tif ( this.featureVariationsOffset ) {\n\t\t\tlazy$1( this, `featureVariations`, () => {\n\t\t\t\tif ( no_content ) return FeatureVariations.EMPTY;\n\t\t\t\tp.currentPosition = tableStart + this.featureVariationsOffset;\n\t\t\t\treturn new FeatureVariations( p );\n\t\t\t} );\n\t\t}\n\t}\n\tgetSupportedScripts() {\n\t\treturn this.scriptList.scriptRecords.map( ( r ) => r.scriptTag );\n\t}\n\tgetScriptTable( scriptTag ) {\n\t\tlet record = this.scriptList.scriptRecords.find(\n\t\t\t( r ) => r.scriptTag === scriptTag\n\t\t);\n\t\tthis.parser.currentPosition =\n\t\t\tthis.scriptList.start + record.scriptOffset;\n\t\tlet table = new ScriptTable( this.parser );\n\t\ttable.scriptTag = scriptTag;\n\t\treturn table;\n\t}\n\tensureScriptTable( arg ) {\n\t\tif ( typeof arg === 'string' ) {\n\t\t\treturn this.getScriptTable( arg );\n\t\t}\n\t\treturn arg;\n\t}\n\tgetSupportedLangSys( scriptTable ) {\n\t\tscriptTable = this.ensureScriptTable( scriptTable );\n\t\tconst hasDefault = scriptTable.defaultLangSys !== 0;\n\t\tconst supported = scriptTable.langSysRecords.map(\n\t\t\t( l ) => l.langSysTag\n\t\t);\n\t\tif ( hasDefault ) supported.unshift( `dflt` );\n\t\treturn supported;\n\t}\n\tgetDefaultLangSysTable( scriptTable ) {\n\t\tscriptTable = this.ensureScriptTable( scriptTable );\n\t\tlet offset = scriptTable.defaultLangSys;\n\t\tif ( offset !== 0 ) {\n\t\t\tthis.parser.currentPosition = scriptTable.start + offset;\n\t\t\tlet table = new LangSysTable( this.parser );\n\t\t\ttable.langSysTag = ``;\n\t\t\ttable.defaultForScript = scriptTable.scriptTag;\n\t\t\treturn table;\n\t\t}\n\t}\n\tgetLangSysTable( scriptTable, langSysTag = `dflt` ) {\n\t\tif ( langSysTag === `dflt` )\n\t\t\treturn this.getDefaultLangSysTable( scriptTable );\n\t\tscriptTable = this.ensureScriptTable( scriptTable );\n\t\tlet record = scriptTable.langSysRecords.find(\n\t\t\t( l ) => l.langSysTag === langSysTag\n\t\t);\n\t\tthis.parser.currentPosition = scriptTable.start + record.langSysOffset;\n\t\tlet table = new LangSysTable( this.parser );\n\t\ttable.langSysTag = langSysTag;\n\t\treturn table;\n\t}\n\tgetFeatures( langSysTable ) {\n\t\treturn langSysTable.featureIndices.map( ( index ) =>\n\t\t\tthis.getFeature( index )\n\t\t);\n\t}\n\tgetFeature( indexOrTag ) {\n\t\tlet record;\n\t\tif ( parseInt( indexOrTag ) == indexOrTag ) {\n\t\t\trecord = this.featureList.featureRecords[ indexOrTag ];\n\t\t} else {\n\t\t\trecord = this.featureList.featureRecords.find(\n\t\t\t\t( f ) => f.featureTag === indexOrTag\n\t\t\t);\n\t\t}\n\t\tif ( ! record ) return;\n\t\tthis.parser.currentPosition =\n\t\t\tthis.featureList.start + record.featureOffset;\n\t\tlet table = new FeatureTable( this.parser );\n\t\ttable.featureTag = record.featureTag;\n\t\treturn table;\n\t}\n\tgetLookups( featureTable ) {\n\t\treturn featureTable.lookupListIndices.map( ( index ) =>\n\t\t\tthis.getLookup( index )\n\t\t);\n\t}\n\tgetLookup( lookupIndex, type ) {\n\t\tlet lookupOffset = this.lookupList.lookups[ lookupIndex ];\n\t\tthis.parser.currentPosition = this.lookupList.start + lookupOffset;\n\t\treturn new LookupTable( this.parser, type );\n\t}\n}\nclass GSUB extends CommonLayoutTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `GSUB` );\n\t}\n\tgetLookup( lookupIndex ) {\n\t\treturn super.getLookup( lookupIndex, `GSUB` );\n\t}\n}\nvar GSUB$1 = Object.freeze( { __proto__: null, GSUB: GSUB } );\nclass GPOS extends CommonLayoutTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `GPOS` );\n\t}\n\tgetLookup( lookupIndex ) {\n\t\treturn super.getLookup( lookupIndex, `GPOS` );\n\t}\n}\nvar GPOS$1 = Object.freeze( { __proto__: null, GPOS: GPOS } );\nclass SVG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.offsetToSVGDocumentList = p.Offset32;\n\t\tp.currentPosition = this.tableStart + this.offsetToSVGDocumentList;\n\t\tthis.documentList = new SVGDocumentList( p );\n\t}\n}\nclass SVGDocumentList extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.numEntries = p.uint16;\n\t\tthis.documentRecords = [ ...new Array( this.numEntries ) ].map(\n\t\t\t( _ ) => new SVGDocumentRecord( p )\n\t\t);\n\t}\n\tgetDocument( documentID ) {\n\t\tlet record = this.documentRecords[ documentID ];\n\t\tif ( ! record ) return '';\n\t\tlet offset = this.start + record.svgDocOffset;\n\t\tthis.parser.currentPosition = offset;\n\t\treturn this.parser.readBytes( record.svgDocLength );\n\t}\n\tgetDocumentForGlyph( glyphID ) {\n\t\tlet id = this.documentRecords.findIndex(\n\t\t\t( d ) => d.startGlyphID <= glyphID && glyphID <= d.endGlyphID\n\t\t);\n\t\tif ( id === -1 ) return '';\n\t\treturn this.getDocument( id );\n\t}\n}\nclass SVGDocumentRecord {\n\tconstructor( p ) {\n\t\tthis.startGlyphID = p.uint16;\n\t\tthis.endGlyphID = p.uint16;\n\t\tthis.svgDocOffset = p.Offset32;\n\t\tthis.svgDocLength = p.uint32;\n\t}\n}\nvar SVG$1 = Object.freeze( { __proto__: null, SVG: SVG } );\nclass fvar extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.axesArrayOffset = p.Offset16;\n\t\tp.uint16;\n\t\tthis.axisCount = p.uint16;\n\t\tthis.axisSize = p.uint16;\n\t\tthis.instanceCount = p.uint16;\n\t\tthis.instanceSize = p.uint16;\n\t\tconst axisStart = this.tableStart + this.axesArrayOffset;\n\t\tlazy$1( this, `axes`, () => {\n\t\t\tp.currentPosition = axisStart;\n\t\t\treturn [ ...new Array( this.axisCount ) ].map(\n\t\t\t\t( _ ) => new VariationAxisRecord( p )\n\t\t\t);\n\t\t} );\n\t\tconst instanceStart = axisStart + this.axisCount * this.axisSize;\n\t\tlazy$1( this, `instances`, () => {\n\t\t\tlet instances = [];\n\t\t\tfor ( let i = 0; i < this.instanceCount; i++ ) {\n\t\t\t\tp.currentPosition = instanceStart + i * this.instanceSize;\n\t\t\t\tinstances.push(\n\t\t\t\t\tnew InstanceRecord( p, this.axisCount, this.instanceSize )\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn instances;\n\t\t} );\n\t}\n\tgetSupportedAxes() {\n\t\treturn this.axes.map( ( a ) => a.tag );\n\t}\n\tgetAxis( name ) {\n\t\treturn this.axes.find( ( a ) => a.tag === name );\n\t}\n}\nclass VariationAxisRecord {\n\tconstructor( p ) {\n\t\tthis.tag = p.tag;\n\t\tthis.minValue = p.fixed;\n\t\tthis.defaultValue = p.fixed;\n\t\tthis.maxValue = p.fixed;\n\t\tthis.flags = p.flags( 16 );\n\t\tthis.axisNameID = p.uint16;\n\t}\n}\nclass InstanceRecord {\n\tconstructor( p, axisCount, size ) {\n\t\tlet start = p.currentPosition;\n\t\tthis.subfamilyNameID = p.uint16;\n\t\tp.uint16;\n\t\tthis.coordinates = [ ...new Array( axisCount ) ].map(\n\t\t\t( _ ) => p.fixed\n\t\t);\n\t\tif ( p.currentPosition - start < size ) {\n\t\t\tthis.postScriptNameID = p.uint16;\n\t\t}\n\t}\n}\nvar fvar$1 = Object.freeze( { __proto__: null, fvar: fvar } );\nclass cvt extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst n = dict.length / 2;\n\t\tlazy$1( this, `items`, () =>\n\t\t\t[ ...new Array( n ) ].map( ( _ ) => p.fword )\n\t\t);\n\t}\n}\nvar cvt$1 = Object.freeze( { __proto__: null, cvt: cvt } );\nclass fpgm extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `instructions`, () =>\n\t\t\t[ ...new Array( dict.length ) ].map( ( _ ) => p.uint8 )\n\t\t);\n\t}\n}\nvar fpgm$1 = Object.freeze( { __proto__: null, fpgm: fpgm } );\nclass gasp extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numRanges = p.uint16;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numRanges ) ].map(\n\t\t\t\t( _ ) => new GASPRange( p )\n\t\t\t);\n\t\tlazy$1( this, `gaspRanges`, getter );\n\t}\n}\nclass GASPRange {\n\tconstructor( p ) {\n\t\tthis.rangeMaxPPEM = p.uint16;\n\t\tthis.rangeGaspBehavior = p.uint16;\n\t}\n}\nvar gasp$1 = Object.freeze( { __proto__: null, gasp: gasp } );\nclass glyf extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview );\n\t}\n\tgetGlyphData( offset, length ) {\n\t\tthis.parser.currentPosition = this.tableStart + offset;\n\t\treturn this.parser.readBytes( length );\n\t}\n}\nvar glyf$1 = Object.freeze( { __proto__: null, glyf: glyf } );\nclass loca extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst n = tables.maxp.numGlyphs + 1;\n\t\tif ( tables.head.indexToLocFormat === 0 ) {\n\t\t\tthis.x2 = true;\n\t\t\tlazy$1( this, `offsets`, () =>\n\t\t\t\t[ ...new Array( n ) ].map( ( _ ) => p.Offset16 )\n\t\t\t);\n\t\t} else {\n\t\t\tlazy$1( this, `offsets`, () =>\n\t\t\t\t[ ...new Array( n ) ].map( ( _ ) => p.Offset32 )\n\t\t\t);\n\t\t}\n\t}\n\tgetGlyphDataOffsetAndLength( glyphID ) {\n\t\tlet offset = this.offsets[ glyphID ] * this.x2 ? 2 : 1;\n\t\tlet nextOffset = this.offsets[ glyphID + 1 ] * this.x2 ? 2 : 1;\n\t\treturn { offset: offset, length: nextOffset - offset };\n\t}\n}\nvar loca$1 = Object.freeze( { __proto__: null, loca: loca } );\nclass prep extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `instructions`, () =>\n\t\t\t[ ...new Array( dict.length ) ].map( ( _ ) => p.uint8 )\n\t\t);\n\t}\n}\nvar prep$1 = Object.freeze( { __proto__: null, prep: prep } );\nclass CFF extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `data`, () => p.readBytes() );\n\t}\n}\nvar CFF$1 = Object.freeze( { __proto__: null, CFF: CFF } );\nclass CFF2 extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `data`, () => p.readBytes() );\n\t}\n}\nvar CFF2$1 = Object.freeze( { __proto__: null, CFF2: CFF2 } );\nclass VORG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.defaultVertOriginY = p.int16;\n\t\tthis.numVertOriginYMetrics = p.uint16;\n\t\tlazy$1( this, `vertORiginYMetrics`, () =>\n\t\t\t[ ...new Array( this.numVertOriginYMetrics ) ].map(\n\t\t\t\t( _ ) => new VertOriginYMetric( p )\n\t\t\t)\n\t\t);\n\t}\n}\nclass VertOriginYMetric {\n\tconstructor( p ) {\n\t\tthis.glyphIndex = p.uint16;\n\t\tthis.vertOriginY = p.int16;\n\t}\n}\nvar VORG$1 = Object.freeze( { __proto__: null, VORG: VORG } );\nclass BitmapSize {\n\tconstructor( p ) {\n\t\tthis.indexSubTableArrayOffset = p.Offset32;\n\t\tthis.indexTablesSize = p.uint32;\n\t\tthis.numberofIndexSubTables = p.uint32;\n\t\tthis.colorRef = p.uint32;\n\t\tthis.hori = new SbitLineMetrics( p );\n\t\tthis.vert = new SbitLineMetrics( p );\n\t\tthis.startGlyphIndex = p.uint16;\n\t\tthis.endGlyphIndex = p.uint16;\n\t\tthis.ppemX = p.uint8;\n\t\tthis.ppemY = p.uint8;\n\t\tthis.bitDepth = p.uint8;\n\t\tthis.flags = p.int8;\n\t}\n}\nclass BitmapScale {\n\tconstructor( p ) {\n\t\tthis.hori = new SbitLineMetrics( p );\n\t\tthis.vert = new SbitLineMetrics( p );\n\t\tthis.ppemX = p.uint8;\n\t\tthis.ppemY = p.uint8;\n\t\tthis.substitutePpemX = p.uint8;\n\t\tthis.substitutePpemY = p.uint8;\n\t}\n}\nclass SbitLineMetrics {\n\tconstructor( p ) {\n\t\tthis.ascender = p.int8;\n\t\tthis.descender = p.int8;\n\t\tthis.widthMax = p.uint8;\n\t\tthis.caretSlopeNumerator = p.int8;\n\t\tthis.caretSlopeDenominator = p.int8;\n\t\tthis.caretOffset = p.int8;\n\t\tthis.minOriginSB = p.int8;\n\t\tthis.minAdvanceSB = p.int8;\n\t\tthis.maxBeforeBL = p.int8;\n\t\tthis.minAfterBL = p.int8;\n\t\tthis.pad1 = p.int8;\n\t\tthis.pad2 = p.int8;\n\t}\n}\nclass EBLC extends SimpleTable {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { p: p } = super( dict, dataview, name );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.numSizes = p.uint32;\n\t\tlazy$1( this, `bitMapSizes`, () =>\n\t\t\t[ ...new Array( this.numSizes ) ].map(\n\t\t\t\t( _ ) => new BitmapSize( p )\n\t\t\t)\n\t\t);\n\t}\n}\nvar EBLC$1 = Object.freeze( { __proto__: null, EBLC: EBLC } );\nclass EBDT extends SimpleTable {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { p: p } = super( dict, dataview, name );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t}\n}\nvar EBDT$1 = Object.freeze( { __proto__: null, EBDT: EBDT } );\nclass EBSC extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.numSizes = p.uint32;\n\t\tlazy$1( this, `bitmapScales`, () =>\n\t\t\t[ ...new Array( this.numSizes ) ].map(\n\t\t\t\t( _ ) => new BitmapScale( p )\n\t\t\t)\n\t\t);\n\t}\n}\nvar EBSC$1 = Object.freeze( { __proto__: null, EBSC: EBSC } );\nclass CBLC extends EBLC {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `CBLC` );\n\t}\n}\nvar CBLC$1 = Object.freeze( { __proto__: null, CBLC: CBLC } );\nclass CBDT extends EBDT {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `CBDT` );\n\t}\n}\nvar CBDT$1 = Object.freeze( { __proto__: null, CBDT: CBDT } );\nclass sbix extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.flags = p.flags( 16 );\n\t\tthis.numStrikes = p.uint32;\n\t\tlazy$1( this, `strikeOffsets`, () =>\n\t\t\t[ ...new Array( this.numStrikes ) ].map( ( _ ) => p.Offset32 )\n\t\t);\n\t}\n}\nvar sbix$1 = Object.freeze( { __proto__: null, sbix: sbix } );\nclass COLR extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numBaseGlyphRecords = p.uint16;\n\t\tthis.baseGlyphRecordsOffset = p.Offset32;\n\t\tthis.layerRecordsOffset = p.Offset32;\n\t\tthis.numLayerRecords = p.uint16;\n\t}\n\tgetBaseGlyphRecord( glyphID ) {\n\t\tlet start = this.tableStart + this.baseGlyphRecordsOffset;\n\t\tthis.parser.currentPosition = start;\n\t\tlet first = new BaseGlyphRecord( this.parser );\n\t\tlet firstID = first.gID;\n\t\tlet end = this.tableStart + this.layerRecordsOffset - 6;\n\t\tthis.parser.currentPosition = end;\n\t\tlet last = new BaseGlyphRecord( this.parser );\n\t\tlet lastID = last.gID;\n\t\tif ( firstID === glyphID ) return first;\n\t\tif ( lastID === glyphID ) return last;\n\t\twhile ( true ) {\n\t\t\tif ( start === end ) break;\n\t\t\tlet mid = start + ( end - start ) / 12;\n\t\t\tthis.parser.currentPosition = mid;\n\t\t\tlet middle = new BaseGlyphRecord( this.parser );\n\t\t\tlet midID = middle.gID;\n\t\t\tif ( midID === glyphID ) return middle;\n\t\t\telse if ( midID > glyphID ) {\n\t\t\t\tend = mid;\n\t\t\t} else if ( midID < glyphID ) {\n\t\t\t\tstart = mid;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetLayers( glyphID ) {\n\t\tlet record = this.getBaseGlyphRecord( glyphID );\n\t\tthis.parser.currentPosition =\n\t\t\tthis.tableStart +\n\t\t\tthis.layerRecordsOffset +\n\t\t\t4 * record.firstLayerIndex;\n\t\treturn [ ...new Array( record.numLayers ) ].map(\n\t\t\t( _ ) => new LayerRecord( p )\n\t\t);\n\t}\n}\nclass BaseGlyphRecord {\n\tconstructor( p ) {\n\t\tthis.gID = p.uint16;\n\t\tthis.firstLayerIndex = p.uint16;\n\t\tthis.numLayers = p.uint16;\n\t}\n}\nclass LayerRecord {\n\tconstructor( p ) {\n\t\tthis.gID = p.uint16;\n\t\tthis.paletteIndex = p.uint16;\n\t}\n}\nvar COLR$1 = Object.freeze( { __proto__: null, COLR: COLR } );\nclass CPAL extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numPaletteEntries = p.uint16;\n\t\tconst numPalettes = ( this.numPalettes = p.uint16 );\n\t\tthis.numColorRecords = p.uint16;\n\t\tthis.offsetFirstColorRecord = p.Offset32;\n\t\tthis.colorRecordIndices = [ ...new Array( this.numPalettes ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tlazy$1( this, `colorRecords`, () => {\n\t\t\tp.currentPosition = this.tableStart + this.offsetFirstColorRecord;\n\t\t\treturn [ ...new Array( this.numColorRecords ) ].map(\n\t\t\t\t( _ ) => new ColorRecord( p )\n\t\t\t);\n\t\t} );\n\t\tif ( this.version === 1 ) {\n\t\t\tthis.offsetPaletteTypeArray = p.Offset32;\n\t\t\tthis.offsetPaletteLabelArray = p.Offset32;\n\t\t\tthis.offsetPaletteEntryLabelArray = p.Offset32;\n\t\t\tlazy$1( this, `paletteTypeArray`, () => {\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.offsetPaletteTypeArray;\n\t\t\t\treturn new PaletteTypeArray( p, numPalettes );\n\t\t\t} );\n\t\t\tlazy$1( this, `paletteLabelArray`, () => {\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.offsetPaletteLabelArray;\n\t\t\t\treturn new PaletteLabelsArray( p, numPalettes );\n\t\t\t} );\n\t\t\tlazy$1( this, `paletteEntryLabelArray`, () => {\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.offsetPaletteEntryLabelArray;\n\t\t\t\treturn new PaletteEntryLabelArray( p, numPalettes );\n\t\t\t} );\n\t\t}\n\t}\n}\nclass ColorRecord {\n\tconstructor( p ) {\n\t\tthis.blue = p.uint8;\n\t\tthis.green = p.uint8;\n\t\tthis.red = p.uint8;\n\t\tthis.alpha = p.uint8;\n\t}\n}\nclass PaletteTypeArray {\n\tconstructor( p, numPalettes ) {\n\t\tthis.paletteTypes = [ ...new Array( numPalettes ) ].map(\n\t\t\t( _ ) => p.uint32\n\t\t);\n\t}\n}\nclass PaletteLabelsArray {\n\tconstructor( p, numPalettes ) {\n\t\tthis.paletteLabels = [ ...new Array( numPalettes ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass PaletteEntryLabelArray {\n\tconstructor( p, numPalettes ) {\n\t\tthis.paletteEntryLabels = [ ...new Array( numPalettes ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nvar CPAL$1 = Object.freeze( { __proto__: null, CPAL: CPAL } );\nclass DSIG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint32;\n\t\tthis.numSignatures = p.uint16;\n\t\tthis.flags = p.uint16;\n\t\tthis.signatureRecords = [ ...new Array( this.numSignatures ) ].map(\n\t\t\t( _ ) => new SignatureRecord( p )\n\t\t);\n\t}\n\tgetData( signatureID ) {\n\t\tconst record = this.signatureRecords[ signatureID ];\n\t\tthis.parser.currentPosition = this.tableStart + record.offset;\n\t\treturn new SignatureBlockFormat1( this.parser );\n\t}\n}\nclass SignatureRecord {\n\tconstructor( p ) {\n\t\tthis.format = p.uint32;\n\t\tthis.length = p.uint32;\n\t\tthis.offset = p.Offset32;\n\t}\n}\nclass SignatureBlockFormat1 {\n\tconstructor( p ) {\n\t\tp.uint16;\n\t\tp.uint16;\n\t\tthis.signatureLength = p.uint32;\n\t\tthis.signature = p.readBytes( this.signatureLength );\n\t}\n}\nvar DSIG$1 = Object.freeze( { __proto__: null, DSIG: DSIG } );\nclass hdmx extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst numGlyphs = tables.hmtx.numGlyphs;\n\t\tthis.version = p.uint16;\n\t\tthis.numRecords = p.int16;\n\t\tthis.sizeDeviceRecord = p.int32;\n\t\tthis.records = [ ...new Array( numRecords ) ].map(\n\t\t\t( _ ) => new DeviceRecord( p, numGlyphs )\n\t\t);\n\t}\n}\nclass DeviceRecord {\n\tconstructor( p, numGlyphs ) {\n\t\tthis.pixelSize = p.uint8;\n\t\tthis.maxWidth = p.uint8;\n\t\tthis.widths = p.readBytes( numGlyphs );\n\t}\n}\nvar hdmx$1 = Object.freeze( { __proto__: null, hdmx: hdmx } );\nclass kern extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.nTables = p.uint16;\n\t\tlazy$1( this, `tables`, () => {\n\t\t\tlet offset = this.tableStart + 4;\n\t\t\tconst tables = [];\n\t\t\tfor ( let i = 0; i < this.nTables; i++ ) {\n\t\t\t\tp.currentPosition = offset;\n\t\t\t\tlet subtable = new KernSubTable( p );\n\t\t\t\ttables.push( subtable );\n\t\t\t\toffset += subtable;\n\t\t\t}\n\t\t\treturn tables;\n\t\t} );\n\t}\n}\nclass KernSubTable {\n\tconstructor( p ) {\n\t\tthis.version = p.uint16;\n\t\tthis.length = p.uint16;\n\t\tthis.coverage = p.flags( 8 );\n\t\tthis.format = p.uint8;\n\t\tif ( this.format === 0 ) {\n\t\t\tthis.nPairs = p.uint16;\n\t\t\tthis.searchRange = p.uint16;\n\t\t\tthis.entrySelector = p.uint16;\n\t\t\tthis.rangeShift = p.uint16;\n\t\t\tlazy$1( this, `pairs`, () =>\n\t\t\t\t[ ...new Array( this.nPairs ) ].map( ( _ ) => new Pair( p ) )\n\t\t\t);\n\t\t}\n\t\tif ( this.format === 2 ) {\n\t\t\tconsole.warn(\n\t\t\t\t`Kern subtable format 2 is not supported: this parser currently only parses universal table data.`\n\t\t\t);\n\t\t}\n\t}\n\tget horizontal() {\n\t\treturn this.coverage[ 0 ];\n\t}\n\tget minimum() {\n\t\treturn this.coverage[ 1 ];\n\t}\n\tget crossstream() {\n\t\treturn this.coverage[ 2 ];\n\t}\n\tget override() {\n\t\treturn this.coverage[ 3 ];\n\t}\n}\nclass Pair {\n\tconstructor( p ) {\n\t\tthis.left = p.uint16;\n\t\tthis.right = p.uint16;\n\t\tthis.value = p.fword;\n\t}\n}\nvar kern$1 = Object.freeze( { __proto__: null, kern: kern } );\nclass LTSH extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numGlyphs = p.uint16;\n\t\tthis.yPels = p.readBytes( this.numGlyphs );\n\t}\n}\nvar LTSH$1 = Object.freeze( { __proto__: null, LTSH: LTSH } );\nclass MERG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.mergeClassCount = p.uint16;\n\t\tthis.mergeDataOffset = p.Offset16;\n\t\tthis.classDefCount = p.uint16;\n\t\tthis.offsetToClassDefOffsets = p.Offset16;\n\t\tlazy$1( this, `mergeEntryMatrix`, () =>\n\t\t\t[ ...new Array( this.mergeClassCount ) ].map( ( _ ) =>\n\t\t\t\tp.readBytes( this.mergeClassCount )\n\t\t\t)\n\t\t);\n\t\tconsole.warn( `Full MERG parsing is currently not supported.` );\n\t\tconsole.warn(\n\t\t\t`If you need this table parsed, please file an issue, or better yet, a PR.`\n\t\t);\n\t}\n}\nvar MERG$1 = Object.freeze( { __proto__: null, MERG: MERG } );\nclass meta extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint32;\n\t\tthis.flags = p.uint32;\n\t\tp.uint32;\n\t\tthis.dataMapsCount = p.uint32;\n\t\tthis.dataMaps = [ ...new Array( this.dataMapsCount ) ].map(\n\t\t\t( _ ) => new DataMap( this.tableStart, p )\n\t\t);\n\t}\n}\nclass DataMap {\n\tconstructor( tableStart, p ) {\n\t\tthis.tableStart = tableStart;\n\t\tthis.parser = p;\n\t\tthis.tag = p.tag;\n\t\tthis.dataOffset = p.Offset32;\n\t\tthis.dataLength = p.uint32;\n\t}\n\tgetData() {\n\t\tthis.parser.currentField = this.tableStart + this.dataOffset;\n\t\treturn this.parser.readBytes( this.dataLength );\n\t}\n}\nvar meta$1 = Object.freeze( { __proto__: null, meta: meta } );\nclass PCLT extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview );\n\t\tconsole.warn(\n\t\t\t`This font uses a PCLT table, which is currently not supported by this parser.`\n\t\t);\n\t\tconsole.warn(\n\t\t\t`If you need this table parsed, please file an issue, or better yet, a PR.`\n\t\t);\n\t}\n}\nvar PCLT$1 = Object.freeze( { __proto__: null, PCLT: PCLT } );\nclass VDMX extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numRecs = p.uint16;\n\t\tthis.numRatios = p.uint16;\n\t\tthis.ratRanges = [ ...new Array( this.numRatios ) ].map(\n\t\t\t( _ ) => new RatioRange( p )\n\t\t);\n\t\tthis.offsets = [ ...new Array( this.numRatios ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t\tthis.VDMXGroups = [ ...new Array( this.numRecs ) ].map(\n\t\t\t( _ ) => new VDMXGroup( p )\n\t\t);\n\t}\n}\nclass RatioRange {\n\tconstructor( p ) {\n\t\tthis.bCharSet = p.uint8;\n\t\tthis.xRatio = p.uint8;\n\t\tthis.yStartRatio = p.uint8;\n\t\tthis.yEndRatio = p.uint8;\n\t}\n}\nclass VDMXGroup {\n\tconstructor( p ) {\n\t\tthis.recs = p.uint16;\n\t\tthis.startsz = p.uint8;\n\t\tthis.endsz = p.uint8;\n\t\tthis.records = [ ...new Array( this.recs ) ].map(\n\t\t\t( _ ) => new vTable( p )\n\t\t);\n\t}\n}\nclass vTable {\n\tconstructor( p ) {\n\t\tthis.yPelHeight = p.uint16;\n\t\tthis.yMax = p.int16;\n\t\tthis.yMin = p.int16;\n\t}\n}\nvar VDMX$1 = Object.freeze( { __proto__: null, VDMX: VDMX } );\nclass vhea extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.fixed;\n\t\tthis.ascent = this.vertTypoAscender = p.int16;\n\t\tthis.descent = this.vertTypoDescender = p.int16;\n\t\tthis.lineGap = this.vertTypoLineGap = p.int16;\n\t\tthis.advanceHeightMax = p.int16;\n\t\tthis.minTopSideBearing = p.int16;\n\t\tthis.minBottomSideBearing = p.int16;\n\t\tthis.yMaxExtent = p.int16;\n\t\tthis.caretSlopeRise = p.int16;\n\t\tthis.caretSlopeRun = p.int16;\n\t\tthis.caretOffset = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.metricDataFormat = p.int16;\n\t\tthis.numOfLongVerMetrics = p.uint16;\n\t\tp.verifyLength();\n\t}\n}\nvar vhea$1 = Object.freeze( { __proto__: null, vhea: vhea } );\nclass vmtx extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tsuper( dict, dataview );\n\t\tconst numOfLongVerMetrics = tables.vhea.numOfLongVerMetrics;\n\t\tconst numGlyphs = tables.maxp.numGlyphs;\n\t\tconst metricsStart = p.currentPosition;\n\t\tlazy( this, `vMetrics`, () => {\n\t\t\tp.currentPosition = metricsStart;\n\t\t\treturn [ ...new Array( numOfLongVerMetrics ) ].map(\n\t\t\t\t( _ ) => new LongVertMetric( p.uint16, p.int16 )\n\t\t\t);\n\t\t} );\n\t\tif ( numOfLongVerMetrics < numGlyphs ) {\n\t\t\tconst tsbStart = metricsStart + numOfLongVerMetrics * 4;\n\t\t\tlazy( this, `topSideBearings`, () => {\n\t\t\t\tp.currentPosition = tsbStart;\n\t\t\t\treturn [ ...new Array( numGlyphs - numOfLongVerMetrics ) ].map(\n\t\t\t\t\t( _ ) => p.int16\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\t}\n}\nclass LongVertMetric {\n\tconstructor( h, b ) {\n\t\tthis.advanceHeight = h;\n\t\tthis.topSideBearing = b;\n\t}\n}\nvar vmtx$1 = Object.freeze( { __proto__: null, vmtx: vmtx } );\nexport { Font };\n/* eslint-enable */\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { FontFamily, FontFace } from '../types';\nimport { unlock } from '../../lock-unlock';\n\nconst { kebabCase } = unlock( componentsPrivateApis );\n\nexport default function makeFamiliesFromFaces(\n\tfontFaces: FontFace[]\n): FontFamily[] {\n\tconst fontFamiliesObject = fontFaces.reduce(\n\t\t( acc: Record< string, FontFamily >, item: FontFace ) => {\n\t\t\tif ( ! acc[ item.fontFamily ] ) {\n\t\t\t\tacc[ item.fontFamily ] = {\n\t\t\t\t\tname: item.fontFamily,\n\t\t\t\t\tfontFamily: item.fontFamily,\n\t\t\t\t\tslug: kebabCase( item.fontFamily.toLowerCase() ),\n\t\t\t\t\tfontFace: [],\n\t\t\t\t};\n\t\t\t}\n\t\t\t// @ts-expect-error\n\t\t\tacc[ item.fontFamily ].fontFace.push( item );\n\t\t\treturn acc;\n\t\t},\n\t\t{}\n\t);\n\treturn Object.values( fontFamiliesObject ) as FontFamily[];\n}\n", "/**\n * WordPress dependencies\n */\nimport { _n, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalItem as Item,\n\tFlexItem,\n} from '@wordpress/components';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './font-library-modal/context';\nimport { getFamilyPreviewStyle } from './font-library-modal/utils/preview-styles';\nimport type { FontFamily } from './font-library-modal/types';\n\ninterface FontFamilyItemProps {\n\tfont: FontFamily;\n}\n\nfunction FontFamilyItem( { font }: FontFamilyItemProps ) {\n\tconst { handleSetLibraryFontSelected, setModalTabOpen } =\n\t\tuseContext( FontLibraryContext );\n\n\tconst variantsCount = font?.fontFace?.length || 1;\n\n\tconst handleClick = () => {\n\t\thandleSetLibraryFontSelected?.( font );\n\t\tsetModalTabOpen?.( 'installed-fonts' );\n\t};\n\n\tconst previewStyle = getFamilyPreviewStyle( font );\n\n\treturn (\n\t\t<Item onClick={ handleClick }>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<FlexItem style={ previewStyle }>{ font.name }</FlexItem>\n\t\t\t\t<FlexItem className=\"global-styles-ui-screen-typography__font-variants-count\">\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %d: Number of font variants. */\n\t\t\t\t\t\t_n( '%d variant', '%d variants', variantsCount ),\n\t\t\t\t\t\tvariantsCount\n\t\t\t\t\t) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</Item>\n\t);\n}\n\nexport default FontFamilyItem;\n", "/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n} from '@wordpress/components';\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from '../subtitle';\nimport { NavigationButtonAsItem } from '../navigation-button';\n\nfunction FontSizes() {\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<Subtitle level={ 3 }>{ __( 'Font Sizes' ) }</Subtitle>\n\t\t\t</HStack>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<NavigationButtonAsItem path=\"/typography/font-sizes\">\n\t\t\t\t\t<HStack direction=\"row\">\n\t\t\t\t\t\t<FlexItem>{ __( 'Font size presets' ) }</FlexItem>\n\t\t\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t\t\t</HStack>\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t</ItemGroup>\n\t\t</VStack>\n\t);\n}\n\nexport default FontSizes;\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport TypographyPanel from './typography-panel';\nimport { ScreenHeader } from './screen-header';\nimport TypographyPreview from './typography-preview';\n\nconst elements = {\n\ttext: {\n\t\tdescription: __( 'Manage the fonts used on the site.' ),\n\t\ttitle: __( 'Text' ),\n\t},\n\tlink: {\n\t\tdescription: __( 'Manage the fonts and typography used on the links.' ),\n\t\ttitle: __( 'Links' ),\n\t},\n\theading: {\n\t\tdescription: __( 'Manage the fonts and typography used on headings.' ),\n\t\ttitle: __( 'Headings' ),\n\t},\n\tcaption: {\n\t\tdescription: __( 'Manage the fonts and typography used on captions.' ),\n\t\ttitle: __( 'Captions' ),\n\t},\n\tbutton: {\n\t\tdescription: __( 'Manage the fonts and typography used on buttons.' ),\n\t\ttitle: __( 'Buttons' ),\n\t},\n};\n\ninterface ScreenTypographyElementProps {\n\telement: keyof typeof elements;\n}\n\nfunction ScreenTypographyElement( { element }: ScreenTypographyElementProps ) {\n\tconst [ headingLevel, setHeadingLevel ] = useState( 'heading' );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ elements[ element ].title }\n\t\t\t\tdescription={ elements[ element ].description }\n\t\t\t/>\n\t\t\t<Spacer marginX={ 4 }>\n\t\t\t\t<TypographyPreview\n\t\t\t\t\telement={ element }\n\t\t\t\t\theadingLevel={ headingLevel }\n\t\t\t\t/>\n\t\t\t</Spacer>\n\t\t\t{ element === 'heading' && (\n\t\t\t\t<Spacer marginX={ 4 } marginBottom=\"1em\">\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\tlabel={ __( 'Select heading level' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ headingLevel }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetHeadingLevel( value as string )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"heading\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'All headings' ) }\n\t\t\t\t\t\t\tlabel={ _x( 'All', 'heading levels' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h1\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 1' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H1' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h2\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 2' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H2' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h3\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 3' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H3' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h4\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 4' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H4' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h5\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 5' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H5' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h6\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 6' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H6' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</Spacer>\n\t\t\t) }\n\t\t\t<TypographyPanel\n\t\t\t\telement={ element }\n\t\t\t\theadingLevel={ headingLevel }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenTypographyElement;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useSettingsForBlockElement, TypographyPanel: StylesTypographyPanel } =\n\tunlock( blockEditorPrivateApis );\n\ninterface TypographyPanelProps {\n\telement: string;\n\theadingLevel: string;\n}\n\nexport default function TypographyPanel( {\n\telement,\n\theadingLevel,\n}: TypographyPanelProps ) {\n\tlet prefixParts: string[] = [];\n\tif ( element === 'heading' ) {\n\t\tprefixParts = prefixParts.concat( [ 'elements', headingLevel ] );\n\t} else if ( element && element !== 'text' ) {\n\t\tprefixParts = prefixParts.concat( [ 'elements', element ] );\n\t}\n\tconst prefix = prefixParts.join( '.' );\n\n\tconst [ style ] = useStyle( prefix, '', 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\tprefix,\n\t\t'',\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ rawSettings ] = useSetting( '' );\n\tconst usedElement = element === 'heading' ? headingLevel : element;\n\tconst settings = useSettingsForBlockElement(\n\t\trawSettings,\n\t\tundefined,\n\t\tusedElement\n\t);\n\n\treturn (\n\t\t<StylesTypographyPanel\n\t\t\tinheritedValue={ inheritedStyle }\n\t\t\tvalue={ style }\n\t\t\tonChange={ setStyle }\n\t\t\tsettings={ settings }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\n\ninterface TypographyPreviewProps {\n\tname?: string;\n\telement: string;\n\theadingLevel: string;\n}\n\nexport default function TypographyPreview( {\n\tname,\n\telement,\n\theadingLevel,\n}: TypographyPreviewProps ) {\n\tlet prefix = '';\n\tif ( element === 'heading' ) {\n\t\tprefix = `elements.${ headingLevel }.`;\n\t} else if ( element && element !== 'text' ) {\n\t\tprefix = `elements.${ element }.`;\n\t}\n\n\tconst [ fontFamily ] = useStyle( prefix + 'typography.fontFamily', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ fallbackBackgroundColor ] = useStyle( 'color.background' );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\tconst [ fontSize ] = useStyle( prefix + 'typography.fontSize', name );\n\tconst [ fontStyle ] = useStyle( prefix + 'typography.fontStyle', name );\n\tconst [ fontWeight ] = useStyle( prefix + 'typography.fontWeight', name );\n\tconst [ letterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"global-styles-ui-typography-preview\"\n\t\t\tstyle={ {\n\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\tbackground:\n\t\t\t\t\tgradientValue ?? backgroundColor ?? fallbackBackgroundColor,\n\t\t\t\tcolor,\n\t\t\t\tfontSize,\n\t\t\t\tfontStyle,\n\t\t\t\tfontWeight,\n\t\t\t\tletterSpacing,\n\t\t\t\t...extraStyles,\n\t\t\t} }\n\t\t>\n\t\t\tAa\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport type {\n\tGlobalStylesStyles,\n\tGlobalStylesSettings,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport Palette from './palette';\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useSettingsForBlockElement, ColorPanel: StylesColorPanel } = unlock(\n\tblockEditorPrivateApis\n);\n\nfunction ScreenColors() {\n\t// Get user styles for editing\n\tconst [ style, setStyle ] = useStyle< GlobalStylesStyles >(\n\t\t'',\n\t\tundefined,\n\t\t'user',\n\t\tfalse\n\t);\n\t// Get inherited styles for display\n\tconst [ inheritedStyle ] = useStyle< GlobalStylesStyles >(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\t// Get settings for the color panel\n\tconst [ rawSettings ] = useSetting< GlobalStylesSettings >( '' );\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Colors' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Palette colors and the application of those colors on site elements.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<div className=\"global-styles-ui-screen\">\n\t\t\t\t<VStack spacing={ 7 }>\n\t\t\t\t\t<Palette />\n\t\t\t\t\t<StylesColorPanel\n\t\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\t\tvalue={ style }\n\t\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\t\tsettings={ settings }\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenColors;\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\tColorIndicator,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\nimport { useMemo } from '@wordpress/element';\nimport type { Color } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport ColorIndicatorWrapper from './color-indicator-wrapper';\nimport { useSetting } from './hooks';\n\nconst EMPTY_COLORS: Color[] = [];\n\ninterface PaletteProps {\n\tname?: string;\n}\n\nfunction Palette( { name }: PaletteProps ) {\n\tconst [ customColors ] = useSetting< Color[] >( 'color.palette.custom' );\n\tconst [ themeColors ] = useSetting< Color[] >( 'color.palette.theme' );\n\tconst [ defaultColors ] = useSetting< Color[] >( 'color.palette.default' );\n\tconst [ defaultPaletteEnabled ] = useSetting< boolean >(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\n\tconst safeCustomColors = customColors || EMPTY_COLORS;\n\tconst safeThemeColors = themeColors || EMPTY_COLORS;\n\tconst safeDefaultColors = defaultColors || EMPTY_COLORS;\n\tconst safeDefaultPaletteEnabled = defaultPaletteEnabled ?? true;\n\n\tconst colors = useMemo(\n\t\t() => [\n\t\t\t...safeCustomColors,\n\t\t\t...safeThemeColors,\n\t\t\t...( safeDefaultColors && safeDefaultPaletteEnabled\n\t\t\t\t? safeDefaultColors\n\t\t\t\t: EMPTY_COLORS ),\n\t\t],\n\t\t[\n\t\t\tsafeCustomColors,\n\t\t\tsafeThemeColors,\n\t\t\tsafeDefaultColors,\n\t\t\tsafeDefaultPaletteEnabled,\n\t\t]\n\t);\n\n\tconst screenPath = ! name\n\t\t? '/colors/palette'\n\t\t: '/blocks/' + encodeURIComponent( name ) + '/colors/palette';\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t<Subtitle level={ 3 }>{ __( 'Palette' ) }</Subtitle>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<NavigationButtonAsItem path={ screenPath }>\n\t\t\t\t\t<HStack direction=\"row\">\n\t\t\t\t\t\t{ colors.length > 0 ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t\t\t\t\t{ colors\n\t\t\t\t\t\t\t\t\t\t.slice( 0, 5 )\n\t\t\t\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t\t\t\t<ColorIndicatorWrapper\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ `${ color }-${ index }` }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolorValue={ color }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</ZStack>\n\t\t\t\t\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t\t\t\t\t{ __( 'Edit palette' ) }\n\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<FlexItem>{ __( 'Add colors' ) }</FlexItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t\t\t</HStack>\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t</ItemGroup>\n\t\t</VStack>\n\t);\n}\n\nexport default Palette;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Flex } from '@wordpress/components';\n\ninterface ColorIndicatorWrapperProps {\n\tclassName?: string;\n\t[ key: string ]: any;\n}\n\nfunction ColorIndicatorWrapper( {\n\tclassName,\n\tchildren,\n\t...props\n}: ColorIndicatorWrapperProps ) {\n\treturn (\n\t\t<Flex\n\t\t\tclassName={ clsx(\n\t\t\t\t'global-styles-ui__color-indicator-wrapper',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</Flex>\n\t);\n}\n\nexport default ColorIndicatorWrapper;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n// @ts-ignore - WordPress private APIs\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport ColorPalettePanel from './color-palette-panel';\nimport GradientPalettePanel from './gradients-palette-panel';\n\n/**\n * External dependencies\n */\nimport { unlock } from './lock-unlock';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nfunction ScreenColorPalette( { name }: { name?: string } ) {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Edit palette' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'The combination of colors used across the site and in color pickers.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<Tabs>\n\t\t\t\t<Tabs.TabList>\n\t\t\t\t\t<Tabs.Tab tabId=\"color\">{ __( 'Color' ) }</Tabs.Tab>\n\t\t\t\t\t<Tabs.Tab tabId=\"gradient\">{ __( 'Gradient' ) }</Tabs.Tab>\n\t\t\t\t</Tabs.TabList>\n\t\t\t\t<Tabs.TabPanel tabId=\"color\" focusable={ false }>\n\t\t\t\t\t<ColorPalettePanel name={ name } />\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t<Tabs.TabPanel tabId=\"gradient\" focusable={ false }>\n\t\t\t\t\t<GradientPalettePanel name={ name } />\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t</Tabs>\n\t\t</>\n\t);\n}\n\nexport default ScreenColorPalette;\n", "/**\n * WordPress dependencies\n */\nimport type { Color } from '@wordpress/global-styles-engine';\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalVStack as VStack,\n\tButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { shuffle } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useSetting, useColorRandomizer } from './hooks';\nimport ColorVariations from './variations/variations-color';\n\nconst mobilePopoverProps = { placement: 'bottom-start' as const, offset: 8 };\n\ninterface ColorPalettePanelProps {\n\tname?: string;\n}\n\nexport default function ColorPalettePanel( { name }: ColorPalettePanelProps ) {\n\tconst [ themeColors, setThemeColors ] = useSetting< Color[] >(\n\t\t'color.palette.theme',\n\t\tname\n\t);\n\tconst [ baseThemeColors ] = useSetting< Color[] >(\n\t\t'color.palette.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultColors, setDefaultColors ] = useSetting< Color[] >(\n\t\t'color.palette.default',\n\t\tname\n\t);\n\tconst [ baseDefaultColors ] = useSetting< Color[] >(\n\t\t'color.palette.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customColors, setCustomColors ] = useSetting< Color[] >(\n\t\t'color.palette.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting< boolean >(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst popoverProps = isMobileViewport ? mobilePopoverProps : undefined;\n\n\tconst [ randomizeThemeColors ] = useColorRandomizer( name );\n\n\treturn (\n\t\t<VStack className=\"global-styles-ui-color-palette-panel\" spacing={ 8 }>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t{ !! themeColors && !! themeColors.length && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ themeColors !== baseThemeColors }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tcolors={ themeColors }\n\t\t\t\t\t\tonChange={ setThemeColors }\n\t\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( window as any ).__experimentalEnableColorRandomizer &&\n\t\t\t\t\tthemeColors?.length > 0 &&\n\t\t\t\t\trandomizeThemeColors && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\ticon={ shuffle }\n\t\t\t\t\t\t\tonClick={ randomizeThemeColors }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Randomize colors' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t</VStack>\n\t\t\t{ !! defaultColors &&\n\t\t\t\t!! defaultColors.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultColors !== baseDefaultColors }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tcolors={ defaultColors }\n\t\t\t\t\t\tonChange={ setDefaultColors }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tcolors={ customColors }\n\t\t\t\tonChange={ setCustomColors }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t/>\n\t\t\t<ColorVariations title={ __( 'Palettes' ) } />\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport StylesPreviewColors from '../preview-colors';\nimport { useCurrentMergeThemeStyleVariationsWithUserConfig } from '../hooks';\nimport { Subtitle } from '../subtitle';\nimport Variation from './variation';\n\ninterface ColorVariationsProps {\n\ttitle?: string;\n\tgap?: number;\n}\n\nconst propertiesToFilter = [ 'color' ];\n\nexport default function ColorVariations( {\n\ttitle,\n\tgap = 2,\n}: ColorVariationsProps ) {\n\tconst colorVariations =\n\t\tuseCurrentMergeThemeStyleVariationsWithUserConfig( propertiesToFilter );\n\n\t// Return null if there is only one variation (the default).\n\tif ( colorVariations?.length <= 1 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t{ title && <Subtitle level={ 3 }>{ title }</Subtitle> }\n\t\t\t<Grid gap={ gap }>\n\t\t\t\t{ colorVariations.map( ( variation: any, index: number ) => (\n\t\t\t\t\t<Variation\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\tisPill\n\t\t\t\t\t\tproperties={ propertiesToFilter }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t>\n\t\t\t\t\t\t{ () => <StylesPreviewColors /> }\n\t\t\t\t\t</Variation>\n\t\t\t\t) ) }\n\t\t\t</Grid>\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport PresetColors from './preset-colors';\nimport PreviewWrapper from './preview-wrapper';\n\nconst firstFrameVariants = {\n\tstart: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\thover: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\ninterface StylesPreviewColorsProps {\n\tlabel?: string;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n}\n\nconst StylesPreviewColors = ( {\n\tlabel,\n\tisFocused,\n\twithHoverView,\n}: StylesPreviewColorsProps ) => {\n\treturn (\n\t\t<PreviewWrapper\n\t\t\tlabel={ label }\n\t\t\tisFocused={ isFocused }\n\t\t\twithHoverView={ withHoverView }\n\t\t>\n\t\t\t{ ( { key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ firstFrameVariants }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PresetColors />\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t</PreviewWrapper>\n\t);\n};\n\nexport default StylesPreviewColors;\n", "/**\n * Internal dependencies\n */\nimport { useStylesPreviewColors } from './preview-hooks';\n\nexport default function PresetColors() {\n\tconst { paletteColors } = useStylesPreviewColors();\n\treturn paletteColors.slice( 0, 4 ).map( ( { slug, color }, index ) => (\n\t\t<div\n\t\t\tkey={ `${ slug }-${ index }` }\n\t\t\tstyle={ {\n\t\t\t\tflexGrow: 1,\n\t\t\t\theight: '100%',\n\t\t\t\tbackground: color,\n\t\t\t} }\n\t\t/>\n\t) );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalSpacer as Spacer,\n\tDuotonePicker,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport type { Gradient } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { useSetting } from './hooks';\n\nconst mobilePopoverProps = { placement: 'bottom-start' as const, offset: 8 };\n\nconst noop = () => {};\n\ninterface GradientPalettePanelProps {\n\tname?: string;\n}\n\nexport default function GradientPalettePanel( {\n\tname,\n}: GradientPalettePanelProps ) {\n\tconst [ themeGradients, setThemeGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.theme',\n\t\tname\n\t);\n\tconst [ baseThemeGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultGradients, setDefaultGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.default',\n\t\tname\n\t);\n\tconst [ baseDefaultGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customGradients, setCustomGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting< boolean >(\n\t\t'color.defaultGradients',\n\t\tname\n\t);\n\n\tconst [ customDuotone ] = useSetting( 'color.duotone.custom' ) || [];\n\tconst [ defaultDuotone ] = useSetting( 'color.duotone.default' ) || [];\n\tconst [ themeDuotone ] = useSetting( 'color.duotone.theme' ) || [];\n\tconst [ defaultDuotoneEnabled ] = useSetting( 'color.defaultDuotone' );\n\n\tconst duotonePalette = [\n\t\t...( customDuotone || [] ),\n\t\t...( themeDuotone || [] ),\n\t\t...( defaultDuotone && defaultDuotoneEnabled ? defaultDuotone : [] ),\n\t];\n\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst popoverProps = isMobileViewport ? mobilePopoverProps : undefined;\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"global-styles-ui-gradient-palette-panel\"\n\t\t\tspacing={ 8 }\n\t\t>\n\t\t\t{ !! themeGradients && !! themeGradients.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeGradients !== baseThemeGradients }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tgradients={ themeGradients }\n\t\t\t\t\tonChange={ setThemeGradients }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultGradients &&\n\t\t\t\t!! defaultGradients.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultGradients !== baseDefaultGradients }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tgradients={ defaultGradients }\n\t\t\t\t\t\tonChange={ setDefaultGradients }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tgradients={ customGradients }\n\t\t\t\tonChange={ setCustomGradients }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t/>\n\t\t\t{ !! duotonePalette && !! duotonePalette.length && (\n\t\t\t\t<div>\n\t\t\t\t\t<Subtitle level={ 3 }>{ __( 'Duotone' ) }</Subtitle>\n\t\t\t\t\t<Spacer margin={ 3 } />\n\t\t\t\t\t<DuotonePicker\n\t\t\t\t\t\tduotonePalette={ duotonePalette }\n\t\t\t\t\t\tdisableCustomDuotone\n\t\t\t\t\t\tdisableCustomColors\n\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t\tonChange={ noop }\n\t\t\t\t\t\tcolorPalette={ [] }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { __experimentalText as Text } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BackgroundPanel from './background-panel';\nimport { ScreenHeader } from './screen-header';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useHasBackgroundPanel } = unlock( blockEditorPrivateApis );\n\nfunction ScreenBackground() {\n\tconst [ settings ] = useSetting( '' );\n\tconst hasBackgroundPanel = useHasBackgroundPanel( settings );\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Background' ) }\n\t\t\t\tdescription={\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{ __( \"Set styles for the site's background.\" ) }\n\t\t\t\t\t</Text>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ hasBackgroundPanel && <BackgroundPanel /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenBackground;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\n// Initial control values where no block style is set.\nconst BACKGROUND_DEFAULT_VALUES = {\n\tbackgroundSize: 'auto',\n};\n\nconst { BackgroundPanel: StylesBackgroundPanel } = unlock(\n\tblockEditorPrivateApis\n);\n\n/**\n * Checks if there is a current value in the background image block support\n * attributes.\n *\n * @param style Style attribute.\n * @return Whether the block has a background image value set.\n */\nexport function hasBackgroundImageValue( style: any ): boolean {\n\treturn (\n\t\t!! style?.background?.backgroundImage?.id ||\n\t\t!! style?.background?.backgroundImage?.url ||\n\t\ttypeof style?.background?.backgroundImage === 'string'\n\t);\n}\n\nexport default function BackgroundPanel() {\n\tconst [ style ] = useStyle( '', undefined, 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ settings ] = useSetting( '' );\n\n\treturn (\n\t\t<StylesBackgroundPanel\n\t\t\tinheritedValue={ inheritedStyle }\n\t\t\tvalue={ style }\n\t\t\tonChange={ setStyle }\n\t\t\tsettings={ settings }\n\t\t\tdefaultValues={ BACKGROUND_DEFAULT_VALUES }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalItemGroup as ItemGroup,\n\tButton,\n\tFlexItem,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, sprintf, isRTL } from '@wordpress/i18n';\nimport {\n\tplus,\n\tIcon,\n\tchevronLeft,\n\tchevronRight,\n\tmoreVertical,\n} from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { ScreenHeader } from './screen-header';\nimport { getNewIndexFromPresets } from './utils';\nimport ConfirmResetShadowDialog from './confirm-reset-shadow-dialog';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nexport const defaultShadow = '6px 6px 9px rgba(0, 0, 0, 0.2)';\n\nexport default function ShadowsPanel() {\n\tconst [ defaultShadows ] = useSetting( 'shadow.presets.default' );\n\tconst [ defaultShadowsEnabled ] = useSetting( 'shadow.defaultPresets' );\n\tconst [ themeShadows ] = useSetting( 'shadow.presets.theme' );\n\tconst [ customShadows, setCustomShadows ] = useSetting(\n\t\t'shadow.presets.custom'\n\t);\n\n\tconst onCreateShadow = ( shadow: any ) => {\n\t\tsetCustomShadows( [ ...( customShadows || [] ), shadow ] );\n\t};\n\n\tconst handleResetShadows = () => {\n\t\tsetCustomShadows( [] );\n\t};\n\n\tconst [ isResetDialogOpen, setIsResetDialogOpen ] = useState( false );\n\n\tconst toggleResetDialog = () => setIsResetDialogOpen( ! isResetDialogOpen );\n\n\treturn (\n\t\t<>\n\t\t\t{ isResetDialogOpen && (\n\t\t\t\t<ConfirmResetShadowDialog\n\t\t\t\t\ttext={ __(\n\t\t\t\t\t\t'Are you sure you want to remove all custom shadows?'\n\t\t\t\t\t) }\n\t\t\t\t\tconfirmButtonText={ __( 'Remove' ) }\n\t\t\t\t\tisOpen={ isResetDialogOpen }\n\t\t\t\t\ttoggleOpen={ toggleResetDialog }\n\t\t\t\t\tonConfirm={ handleResetShadows }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Shadows' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage and create shadow styles for use across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<div className=\"global-styles-ui-screen\">\n\t\t\t\t<VStack\n\t\t\t\t\tclassName=\"global-styles-ui__shadows-panel\"\n\t\t\t\t\tspacing={ 7 }\n\t\t\t\t>\n\t\t\t\t\t{ defaultShadowsEnabled && (\n\t\t\t\t\t\t<ShadowList\n\t\t\t\t\t\t\tlabel={ __( 'Default' ) }\n\t\t\t\t\t\t\tshadows={ defaultShadows || [] }\n\t\t\t\t\t\t\tcategory=\"default\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ themeShadows && themeShadows.length > 0 && (\n\t\t\t\t\t\t<ShadowList\n\t\t\t\t\t\t\tlabel={ __( 'Theme' ) }\n\t\t\t\t\t\t\tshadows={ themeShadows || [] }\n\t\t\t\t\t\t\tcategory=\"theme\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ShadowList\n\t\t\t\t\t\tlabel={ __( 'Custom' ) }\n\t\t\t\t\t\tshadows={ customShadows || [] }\n\t\t\t\t\t\tcategory=\"custom\"\n\t\t\t\t\t\tcanCreate\n\t\t\t\t\t\tonCreate={ onCreateShadow }\n\t\t\t\t\t\tonReset={ toggleResetDialog }\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\ninterface ShadowListProps {\n\tlabel: string;\n\tshadows: any[];\n\tcategory: string;\n\tcanCreate?: boolean;\n\tonCreate?: ( shadow: any ) => void;\n\tonReset?: () => void;\n}\n\nfunction ShadowList( {\n\tlabel,\n\tshadows,\n\tcategory,\n\tcanCreate,\n\tonCreate,\n\tonReset,\n}: ShadowListProps ) {\n\tconst handleAddShadow = () => {\n\t\tconst newIndex = getNewIndexFromPresets( shadows, 'shadow-' );\n\t\tonCreate?.( {\n\t\t\tname: sprintf(\n\t\t\t\t/* translators: %d: is an index for a preset */\n\t\t\t\t__( 'Shadow %d' ),\n\t\t\t\tnewIndex\n\t\t\t),\n\t\t\tshadow: defaultShadow,\n\t\t\tslug: `shadow-${ newIndex }`,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<Subtitle level={ 3 }>{ label }</Subtitle>\n\t\t\t\t<FlexItem className=\"global-styles-ui__shadows-panel__options-container\">\n\t\t\t\t\t{ canCreate && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t\tlabel={ __( 'Add shadow' ) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\thandleAddShadow();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! shadows?.length && category === 'custom' && (\n\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Shadow options' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t<Menu.Item onClick={ onReset }>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Remove all custom shadows' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t\t{ shadows.length > 0 && (\n\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t{ shadows.map( ( shadow ) => (\n\t\t\t\t\t\t<ShadowItem\n\t\t\t\t\t\t\tkey={ shadow.slug }\n\t\t\t\t\t\t\tshadow={ shadow }\n\t\t\t\t\t\t\tcategory={ category }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</ItemGroup>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\ninterface ShadowItemProps {\n\tshadow: any;\n\tcategory: string;\n}\n\nfunction ShadowItem( { shadow, category }: ShadowItemProps ) {\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ `/shadows/edit/${ category }/${ shadow.slug }` }\n\t\t>\n\t\t\t<HStack>\n\t\t\t\t<FlexItem>{ shadow.name }</FlexItem>\n\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\ninterface ConfirmResetShadowDialogProps {\n\ttext: string;\n\tconfirmButtonText: string;\n\tisOpen: boolean;\n\ttoggleOpen: () => void;\n\tonConfirm: () => void;\n}\n\nfunction ConfirmResetShadowDialog( {\n\ttext,\n\tconfirmButtonText,\n\tisOpen,\n\ttoggleOpen,\n\tonConfirm,\n}: ConfirmResetShadowDialogProps ) {\n\tconst handleConfirm = async () => {\n\t\ttoggleOpen();\n\t\tonConfirm();\n\t};\n\n\tconst handleCancel = () => {\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ confirmButtonText }\n\t\t\tonCancel={ handleCancel }\n\t\t\tonConfirm={ handleConfirm }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ text }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default ConfirmResetShadowDialog;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalInputControl as InputControl,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalGrid as Grid,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\tuseNavigator,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalConfirmDialog as ConfirmDialog,\n\tDropdown,\n\tButton,\n\tFlex,\n\tFlexItem,\n\tColorPalette,\n\tModal,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tplus,\n\tshadow as shadowIcon,\n\treset,\n\tmoreVertical,\n} from '@wordpress/icons';\nimport { useState, useMemo, useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { ScreenHeader } from './screen-header';\nimport { defaultShadow } from './shadows-panel';\nimport {\n\tgetShadowParts,\n\tshadowStringToObject,\n\tshadowObjectToString,\n} from './shadow-utils';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nconst customShadowMenuItems = [\n\t{\n\t\tlabel: __( 'Rename' ),\n\t\taction: 'rename',\n\t},\n\t{\n\t\tlabel: __( 'Delete' ),\n\t\taction: 'delete',\n\t},\n];\n\nconst presetShadowMenuItems = [\n\t{\n\t\tlabel: __( 'Reset' ),\n\t\taction: 'reset',\n\t},\n];\n\nexport default function ShadowsEditPanel() {\n\tconst { goBack, params } = useNavigator();\n\tconst { category, slug } = params;\n\n\tconst [ shadows, setShadows ] = useSetting(\n\t\t`shadow.presets.${ category }`\n\t);\n\n\tuseEffect( () => {\n\t\tconst hasCurrentShadow = shadows?.some(\n\t\t\t( shadow: any ) => shadow.slug === slug\n\t\t);\n\t\t// If the shadow being edited doesn't exist anymore in the global styles setting, navigate back\n\t\t// to prevent the user from editing a non-existent shadow entry.\n\t\t// This can happen, for example:\n\t\t// - when the user deletes the shadow\n\t\t// - when the user resets the styles while editing a custom shadow\n\t\t//\n\t\t// The check on the slug is necessary to prevent a double back navigation when the user triggers\n\t\t// a backward navigation by interacting with the screen's UI.\n\t\tif ( !! slug && ! hasCurrentShadow ) {\n\t\t\tgoBack();\n\t\t}\n\t}, [ shadows, slug, goBack ] );\n\n\tconst [ baseShadows ] = useSetting(\n\t\t`shadow.presets.${ category }`,\n\t\tundefined,\n\t\t'base'\n\t);\n\tconst [ selectedShadow, setSelectedShadow ] = useState( () =>\n\t\t( shadows || [] ).find( ( shadow: any ) => shadow.slug === slug )\n\t);\n\tconst baseSelectedShadow = useMemo(\n\t\t() => ( baseShadows || [] ).find( ( b: any ) => b.slug === slug ),\n\t\t[ baseShadows, slug ]\n\t);\n\tconst [ isConfirmDialogVisible, setIsConfirmDialogVisible ] =\n\t\tuseState( false );\n\tconst [ isRenameModalVisible, setIsRenameModalVisible ] = useState( false );\n\tconst [ shadowName, setShadowName ] = useState< string | undefined >(\n\t\tselectedShadow?.name\n\t);\n\n\tif ( ! category || ! slug ) {\n\t\treturn null;\n\t}\n\n\tconst onShadowChange = ( shadow: string ) => {\n\t\tsetSelectedShadow( { ...selectedShadow, shadow } );\n\t\tconst updatedShadows = shadows.map( ( s: any ) =>\n\t\t\ts.slug === slug ? { ...selectedShadow, shadow } : s\n\t\t);\n\t\tsetShadows( updatedShadows );\n\t};\n\n\tconst onMenuClick = ( action: string ) => {\n\t\tif ( action === 'reset' ) {\n\t\t\tconst updatedShadows = shadows.map( ( s: any ) =>\n\t\t\t\ts.slug === slug ? baseSelectedShadow : s\n\t\t\t);\n\t\t\tsetSelectedShadow( baseSelectedShadow );\n\t\t\tsetShadows( updatedShadows );\n\t\t} else if ( action === 'delete' ) {\n\t\t\tsetIsConfirmDialogVisible( true );\n\t\t} else if ( action === 'rename' ) {\n\t\t\tsetIsRenameModalVisible( true );\n\t\t}\n\t};\n\n\tconst handleShadowDelete = () => {\n\t\tsetShadows( shadows.filter( ( s: any ) => s.slug !== slug ) );\n\t};\n\n\tconst handleShadowRename = ( newName: string | undefined ) => {\n\t\tif ( ! newName ) {\n\t\t\treturn;\n\t\t}\n\t\tconst updatedShadows = shadows.map( ( s: any ) =>\n\t\t\ts.slug === slug ? { ...selectedShadow, name: newName } : s\n\t\t);\n\t\tsetSelectedShadow( { ...selectedShadow, name: newName } );\n\t\tsetShadows( updatedShadows );\n\t};\n\n\treturn ! selectedShadow ? (\n\t\t<ScreenHeader title=\"\" />\n\t) : (\n\t\t<>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<ScreenHeader title={ selectedShadow.name } />\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Spacer marginTop={ 2 } marginBottom={ 0 } paddingX={ 4 }>\n\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Menu' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t{ ( category === 'custom'\n\t\t\t\t\t\t\t\t\t? customShadowMenuItems\n\t\t\t\t\t\t\t\t\t: presetShadowMenuItems\n\t\t\t\t\t\t\t\t).map( ( item ) => (\n\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\tkey={ item.action }\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\tonMenuClick( item.action )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\titem.action === 'reset' &&\n\t\t\t\t\t\t\t\t\t\t\tselectedShadow.shadow ===\n\t\t\t\t\t\t\t\t\t\t\t\tbaseSelectedShadow?.shadow\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t{ item.label }\n\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t</Spacer>\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t\t<div className=\"global-styles-ui-screen\">\n\t\t\t\t<ShadowsPreview shadow={ selectedShadow.shadow } />\n\t\t\t\t<ShadowEditor\n\t\t\t\t\tshadow={ selectedShadow.shadow }\n\t\t\t\t\tonChange={ onShadowChange }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{ isConfirmDialogVisible && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen\n\t\t\t\t\tonConfirm={ () => {\n\t\t\t\t\t\thandleShadowDelete();\n\t\t\t\t\t\tsetIsConfirmDialogVisible( false );\n\t\t\t\t\t} }\n\t\t\t\t\tonCancel={ () => {\n\t\t\t\t\t\tsetIsConfirmDialogVisible( false );\n\t\t\t\t\t} }\n\t\t\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %s: Name of the shadow preset. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Are you sure you want to delete \"%s\" shadow preset?'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tselectedShadow.name\n\t\t\t\t\t) }\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t\t{ isRenameModalVisible && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Rename' ) }\n\t\t\t\t\tonRequestClose={ () => setIsRenameModalVisible( false ) }\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t>\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thandleShadowRename( shadowName );\n\t\t\t\t\t\t\tsetIsRenameModalVisible( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\t\tplaceholder={ __( 'Shadow name' ) }\n\t\t\t\t\t\t\tvalue={ shadowName ?? '' }\n\t\t\t\t\t\t\tonChange={ setShadowName }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer marginBottom={ 6 } />\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tclassName=\"block-editor-shadow-edit-modal__actions\"\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\tsetIsRenameModalVisible( false )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\ninterface ShadowsPreviewProps {\n\tshadow: string;\n}\n\nfunction ShadowsPreview( { shadow }: ShadowsPreviewProps ) {\n\tconst shadowStyle = {\n\t\tboxShadow: shadow,\n\t};\n\n\treturn (\n\t\t<Spacer marginBottom={ 4 } marginTop={ -2 }>\n\t\t\t<HStack\n\t\t\t\talignment=\"center\"\n\t\t\t\tjustify=\"center\"\n\t\t\t\tclassName=\"global-styles-ui__shadow-preview-panel\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"global-styles-ui__shadow-preview-block\"\n\t\t\t\t\tstyle={ shadowStyle }\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t</Spacer>\n\t);\n}\n\ninterface ShadowEditorProps {\n\tshadow: string;\n\tonChange: ( shadow: string ) => void;\n}\n\nfunction ShadowEditor( { shadow, onChange }: ShadowEditorProps ) {\n\tconst addShadowButtonRef = useRef< HTMLButtonElement >( null );\n\tconst shadowParts = useMemo( () => getShadowParts( shadow ), [ shadow ] );\n\n\tconst onChangeShadowPart = ( index: number, part: string ) => {\n\t\tconst newShadowParts = [ ...shadowParts ];\n\t\tnewShadowParts[ index ] = part;\n\t\tonChange( newShadowParts.join( ', ' ) );\n\t};\n\n\tconst onAddShadowPart = () => {\n\t\tonChange( [ ...shadowParts, defaultShadow ].join( ', ' ) );\n\t};\n\n\tconst onRemoveShadowPart = ( index: number ) => {\n\t\tonChange( shadowParts.filter( ( p, i ) => i !== index ).join( ', ' ) );\n\t\taddShadowButtonRef.current?.focus();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t<Subtitle level={ 3 }>{ __( 'Shadows' ) }</Subtitle>\n\t\t\t\t\t<FlexItem className=\"global-styles-ui__shadows-panel__options-container\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t\tlabel={ __( 'Add shadow' ) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonAddShadowPart();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tref={ addShadowButtonRef }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t\t<Spacer />\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t{ shadowParts.map( ( part, index ) => (\n\t\t\t\t\t<ShadowItem\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tshadow={ part }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tonChangeShadowPart( index, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcanRemove={ shadowParts.length > 1 }\n\t\t\t\t\t\tonRemove={ () => onRemoveShadowPart( index ) }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</ItemGroup>\n\t\t</>\n\t);\n}\n\ninterface ShadowItemProps {\n\tshadow: string;\n\tonChange: ( shadow: string ) => void;\n\tcanRemove: boolean;\n\tonRemove: () => void;\n}\n\nfunction ShadowItem( {\n\tshadow,\n\tonChange,\n\tcanRemove,\n\tonRemove,\n}: ShadowItemProps ) {\n\tconst popoverProps = {\n\t\tplacement: 'left-start' as const,\n\t\toffset: 36,\n\t\tshift: true,\n\t};\n\tconst shadowObj = useMemo(\n\t\t() => shadowStringToObject( shadow ),\n\t\t[ shadow ]\n\t);\n\tconst onShadowChange = ( newShadow: any ) => {\n\t\tonChange( shadowObjectToString( newShadow ) );\n\t};\n\n\treturn (\n\t\t<Dropdown\n\t\t\tpopoverProps={ popoverProps }\n\t\t\tclassName=\"global-styles-ui__shadow-editor__dropdown\"\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\tconst toggleProps = {\n\t\t\t\t\tonClick: onToggle,\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'global-styles-ui__shadow-editor__dropdown-toggle',\n\t\t\t\t\t\t{ 'is-open': isOpen }\n\t\t\t\t\t),\n\t\t\t\t\t'aria-expanded': isOpen,\n\t\t\t\t};\n\t\t\t\tconst removeButtonProps = {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tif ( isOpen ) {\n\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonRemove();\n\t\t\t\t\t},\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'global-styles-ui__shadow-editor__remove-button',\n\t\t\t\t\t\t{ 'is-open': isOpen }\n\t\t\t\t\t),\n\t\t\t\t\tlabel: __( 'Remove shadow' ),\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\ticon={ shadowIcon }\n\t\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ shadowObj.inset\n\t\t\t\t\t\t\t\t? __( 'Inner shadow' )\n\t\t\t\t\t\t\t\t: __( 'Drop shadow' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{ canRemove && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ticon={ reset }\n\t\t\t\t\t\t\t\t{ ...removeButtonProps }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trenderContent={ () => (\n\t\t\t\t<DropdownContentWrapper\n\t\t\t\t\tpaddingSize=\"medium\"\n\t\t\t\t\tclassName=\"global-styles-ui__shadow-editor__dropdown-content\"\n\t\t\t\t>\n\t\t\t\t\t<ShadowPopover\n\t\t\t\t\t\tshadowObj={ shadowObj }\n\t\t\t\t\t\tonChange={ onShadowChange }\n\t\t\t\t\t/>\n\t\t\t\t</DropdownContentWrapper>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\ninterface ShadowPopoverProps {\n\tshadowObj: any;\n\tonChange: ( shadow: any ) => void;\n}\n\nfunction ShadowPopover( { shadowObj, onChange }: ShadowPopoverProps ) {\n\tconst __experimentalIsRenderedInSidebar = true;\n\tconst enableAlpha = true;\n\n\tconst onShadowChange = ( key: string, value: any ) => {\n\t\tconst newShadow = {\n\t\t\t...shadowObj,\n\t\t\t[ key ]: value,\n\t\t};\n\t\tonChange( newShadow );\n\t};\n\n\treturn (\n\t\t<VStack spacing={ 4 } className=\"global-styles-ui__shadow-editor-panel\">\n\t\t\t<ColorPalette\n\t\t\t\tclearable={ false }\n\t\t\t\tenableAlpha={ enableAlpha }\n\t\t\t\t__experimentalIsRenderedInSidebar={\n\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t}\n\t\t\t\tvalue={ shadowObj.color }\n\t\t\t\tonChange={ ( value ) => onShadowChange( 'color', value ) }\n\t\t\t/>\n\t\t\t<ToggleGroupControl\n\t\t\t\tlabel={ __( 'Shadow Type' ) }\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tvalue={ shadowObj.inset ? 'inset' : 'outset' }\n\t\t\t\tisBlock\n\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\tonShadowChange( 'inset', value === 'inset' )\n\t\t\t\t}\n\t\t\t\thideLabelFromVision\n\t\t\t\t__next40pxDefaultSize\n\t\t\t>\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tvalue=\"outset\"\n\t\t\t\t\tlabel={ __( 'Outset' ) }\n\t\t\t\t/>\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tvalue=\"inset\"\n\t\t\t\t\tlabel={ __( 'Inset' ) }\n\t\t\t\t/>\n\t\t\t</ToggleGroupControl>\n\t\t\t<Grid columns={ 2 } gap={ 4 }>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'X Position' ) }\n\t\t\t\t\tvalue={ shadowObj.x }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'x', value ) }\n\t\t\t\t/>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'Y Position' ) }\n\t\t\t\t\tvalue={ shadowObj.y }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'y', value ) }\n\t\t\t\t/>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'Blur' ) }\n\t\t\t\t\tvalue={ shadowObj.blur }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'blur', value ) }\n\t\t\t\t/>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'Spread' ) }\n\t\t\t\t\tvalue={ shadowObj.spread }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'spread', value ) }\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</VStack>\n\t);\n}\n\ninterface ShadowInputControlProps {\n\tlabel: string;\n\tvalue: string;\n\tonChange: ( value: string ) => void;\n}\n\nfunction ShadowInputControl( {\n\tlabel,\n\tvalue,\n\tonChange,\n}: ShadowInputControlProps ) {\n\tconst onValueChange = ( next: string | undefined ) => {\n\t\tconst isNumeric = next !== undefined && ! isNaN( parseFloat( next ) );\n\t\tconst nextValue = isNumeric ? next : '0px';\n\t\tonChange( nextValue );\n\t};\n\n\treturn (\n\t\t<UnitControl\n\t\t\tlabel={ label }\n\t\t\t__next40pxDefaultSize\n\t\t\tvalue={ value }\n\t\t\tonChange={ onValueChange }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport ShadowsPanel from './shadows-panel';\nimport ShadowsEditPanel from './shadows-edit-panel';\n\nexport function ScreenShadows() {\n\treturn <ShadowsPanel />;\n}\n\nexport function ScreenShadowsEdit() {\n\treturn <ShadowsEditPanel />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport type { GlobalStylesSettings } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport DimensionsPanel from './dimensions-panel';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useHasDimensionsPanel, useSettingsForBlockElement } = unlock(\n\tblockEditorPrivateApis\n);\n\nfunction ScreenLayout() {\n\tconst [ rawSettings ] = useSetting< GlobalStylesSettings >( '' );\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ __( 'Layout' ) } />\n\t\t\t{ hasDimensionsPanel && <DimensionsPanel /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenLayout;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useSettingsForBlockElement, DimensionsPanel: StylesDimensionsPanel } =\n\tunlock( blockEditorPrivateApis );\n\nconst DEFAULT_CONTROLS = {\n\tcontentSize: true,\n\twideSize: true,\n\tpadding: true,\n\tmargin: true,\n\tblockGap: true,\n\tminHeight: true,\n\tchildLayout: false,\n};\n\nexport default function DimensionsPanel() {\n\tconst [ style ] = useStyle( '', undefined, 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ userSettings ] = useSetting( '', undefined, 'user' );\n\tconst [ rawSettings, setSettings ] = useSetting( '' );\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\n\t// These intermediary objects are needed because the \"layout\" property is stored\n\t// in settings rather than styles.\n\tconst inheritedStyleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...inheritedStyle,\n\t\t\tlayout: settings.layout,\n\t\t};\n\t}, [ inheritedStyle, settings.layout ] );\n\n\tconst styleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...style,\n\t\t\tlayout: userSettings.layout,\n\t\t};\n\t}, [ style, userSettings.layout ] );\n\n\tconst onChange = ( newStyle: any ) => {\n\t\tconst updatedStyle = { ...newStyle };\n\t\tdelete updatedStyle.layout;\n\t\tsetStyle( updatedStyle );\n\n\t\tif ( newStyle.layout !== userSettings.layout ) {\n\t\t\tconst updatedSettings = {\n\t\t\t\t...userSettings,\n\t\t\t\tlayout: newStyle.layout,\n\t\t\t};\n\n\t\t\t// Ensure any changes to layout definitions are not persisted.\n\t\t\tif ( updatedSettings.layout?.definitions ) {\n\t\t\t\tdelete updatedSettings.layout.definitions;\n\t\t\t}\n\n\t\t\tsetSettings( updatedSettings );\n\t\t}\n\t};\n\n\treturn (\n\t\t<StylesDimensionsPanel\n\t\t\tinheritedValue={ inheritedStyleWithLayout }\n\t\t\tvalue={ styleWithLayout }\n\t\t\tonChange={ onChange }\n\t\t\tsettings={ settings }\n\t\t\tincludeLayoutControls\n\t\t\tdefaultControls={ DEFAULT_CONTROLS }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Card, CardBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport { StyleVariationsContent } from './style-variations-content';\n\nfunction ScreenStyleVariations() {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Browse styles' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Choose a variation to change the look of the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<Card\n\t\t\t\tsize=\"small\"\n\t\t\t\tisBorderless\n\t\t\t\tclassName=\"global-styles-ui-screen-style-variations\"\n\t\t\t>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<StyleVariationsContent />\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t</>\n\t);\n}\n\nexport default ScreenStyleVariations;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport StyleVariationsContainer from './style-variations-container';\nimport TypographyVariations from './variations/variations-typography';\nimport ColorVariations from './variations/variations-color';\n\nexport function StyleVariationsContent() {\n\tconst gap = 3;\n\n\treturn (\n\t\t<VStack spacing={ 10 } className=\"global-styles-ui-variation-container\">\n\t\t\t<StyleVariationsContainer gap={ gap } />\n\t\t\t<ColorVariations title={ __( 'Color Variations' ) } gap={ gap } />\n\t\t\t<TypographyVariations title={ __( 'Typography' ) } gap={ gap } />\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useContext, useMemo } from '@wordpress/element';\nimport { __experimentalGrid as Grid } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport type {\n\tGlobalStylesConfig,\n\tStyleVariation,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport PreviewStyles from './preview-styles';\nimport Variation from './variations/variation';\nimport { GlobalStylesContext } from './context';\nimport { isVariationWithProperties } from './utils';\n\ninterface StyleVariationsContainerProps {\n\tgap?: number;\n}\n\nfunction StyleVariationsContainer( {\n\tgap = 2,\n}: StyleVariationsContainerProps ) {\n\tconst { user } = useContext( GlobalStylesContext );\n\tconst userStyles = user?.styles;\n\n\tconst variations = useSelect( ( select ) => {\n\t\tconst result =\n\t\t\tselect(\n\t\t\t\tcoreStore\n\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations();\n\t\t// The API might return null or an array\n\t\treturn Array.isArray( result )\n\t\t\t? ( result as GlobalStylesConfig[] )\n\t\t\t: undefined;\n\t}, [] );\n\n\t// Filter out variations that are color or typography variations.\n\tconst fullStyleVariations = variations?.filter(\n\t\t( variation: GlobalStylesConfig ) => {\n\t\t\treturn (\n\t\t\t\t! isVariationWithProperties( variation, [ 'color' ] ) &&\n\t\t\t\t! isVariationWithProperties( variation, [\n\t\t\t\t\t'typography',\n\t\t\t\t\t'spacing',\n\t\t\t\t] )\n\t\t\t);\n\t\t}\n\t);\n\n\tconst themeVariations = useMemo( () => {\n\t\tconst withEmptyVariation: StyleVariation[] = [\n\t\t\t{\n\t\t\t\ttitle: __( 'Default' ),\n\t\t\t\tsettings: {},\n\t\t\t\tstyles: {},\n\t\t\t},\n\t\t\t...( fullStyleVariations ?? [] ),\n\t\t];\n\t\treturn [\n\t\t\t...withEmptyVariation.map( ( variation: StyleVariation ) => {\n\t\t\t\tconst blockStyles = variation?.styles?.blocks\n\t\t\t\t\t? { ...variation.styles.blocks }\n\t\t\t\t\t: {};\n\n\t\t\t\t// We need to copy any user custom CSS to the variation to prevent it being lost\n\t\t\t\t// when switching variations.\n\t\t\t\tif ( userStyles?.blocks ) {\n\t\t\t\t\tObject.keys( userStyles.blocks ).forEach( ( blockName ) => {\n\t\t\t\t\t\t// First get any block specific custom CSS from the current user styles and merge with any custom CSS for\n\t\t\t\t\t\t// that block in the variation.\n\t\t\t\t\t\tif ( userStyles.blocks?.[ blockName ]?.css ) {\n\t\t\t\t\t\t\tconst variationBlockStyles =\n\t\t\t\t\t\t\t\tblockStyles[ blockName ] || {};\n\t\t\t\t\t\t\tconst customCSS = {\n\t\t\t\t\t\t\t\tcss: `${\n\t\t\t\t\t\t\t\t\tblockStyles[ blockName ]?.css || ''\n\t\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\t\tuserStyles.blocks?.[\n\t\t\t\t\t\t\t\t\t\tblockName\n\t\t\t\t\t\t\t\t\t]?.css?.trim() || ''\n\t\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tblockStyles[ blockName ] = {\n\t\t\t\t\t\t\t\t...variationBlockStyles,\n\t\t\t\t\t\t\t\t...customCSS,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\t// Now merge any global custom CSS from current user styles with global custom CSS in the variation.\n\t\t\t\tconst css =\n\t\t\t\t\tuserStyles?.css || variation.styles?.css\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tcss: `${ variation.styles?.css || '' } ${\n\t\t\t\t\t\t\t\t\tuserStyles?.css || ''\n\t\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {};\n\n\t\t\t\tconst blocks =\n\t\t\t\t\tObject.keys( blockStyles ).length > 0\n\t\t\t\t\t\t? { blocks: blockStyles }\n\t\t\t\t\t\t: {};\n\n\t\t\t\tconst styles = {\n\t\t\t\t\t...variation.styles,\n\t\t\t\t\t...css,\n\t\t\t\t\t...blocks,\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\t...variation,\n\t\t\t\t\tsettings: variation.settings ?? {},\n\t\t\t\t\tstyles,\n\t\t\t\t};\n\t\t\t} ),\n\t\t];\n\t}, [ fullStyleVariations, userStyles?.blocks, userStyles?.css ] );\n\n\tif ( ! fullStyleVariations || fullStyleVariations.length < 1 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Grid\n\t\t\tcolumns={ 2 }\n\t\t\tclassName=\"global-styles-ui-style-variations-container\"\n\t\t\tgap={ gap }\n\t\t>\n\t\t\t{ themeVariations.map(\n\t\t\t\t( variation: StyleVariation, index: number ) => (\n\t\t\t\t\t<Variation key={ index } variation={ variation }>\n\t\t\t\t\t\t{ ( isFocused: boolean ) => (\n\t\t\t\t\t\t\t<PreviewStyles\n\t\t\t\t\t\t\t\tlabel={ variation?.title }\n\t\t\t\t\t\t\t\twithHoverView\n\t\t\t\t\t\t\t\tisFocused={ isFocused }\n\t\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Variation>\n\t\t\t\t)\n\t\t\t) }\n\t\t</Grid>\n\t);\n}\n\nexport default StyleVariationsContainer;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink } from '@wordpress/components';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport { useStyle } from './hooks';\nimport { unlock } from './lock-unlock';\n\n// Access AdvancedPanel from block-editor private APIs\nconst { AdvancedPanel: StylesAdvancedPanel } = unlock( blockEditorPrivateApis );\n\nfunction ScreenCSS() {\n\t// Get user-only styles (should not decode/encode to preserve raw CSS)\n\tconst [ style ] = useStyle( '', undefined, 'user', false );\n\t// Get all styles (inherited + user) for context\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Additional CSS' ) }\n\t\t\t\tdescription={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'You can add custom CSS to further customize the appearance and layout of your site.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t'https://developer.wordpress.org/advanced-administration/wordpress/css/'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tclassName=\"global-styles-ui-screen-css-help-link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Learn more about CSS' ) }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div className=\"global-styles-ui-screen-css\">\n\t\t\t\t<StylesAdvancedPanel\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenCSS;\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalConfirmDialog as ConfirmDialog,\n\tSpinner,\n\tuseNavigator,\n} from '@wordpress/components';\nimport { useContext, useState, useMemo } from '@wordpress/element';\nimport { areGlobalStylesEqual } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from '../screen-header';\nimport { GlobalStylesContext } from '../context';\nimport useGlobalStylesRevisions from './use-global-styles-revisions';\nimport RevisionsButtons from './revisions-buttons';\nimport Pagination from '../pagination';\n\nconst PAGE_SIZE = 10;\n\ninterface ScreenRevisionsProps {\n\tonClose?: () => void;\n}\n\nfunction ScreenRevisions( { onClose }: ScreenRevisionsProps = {} ) {\n\tconst { user: currentEditorGlobalStyles, onChange: setUserConfig } =\n\t\tuseContext( GlobalStylesContext );\n\tconst { params, goTo } = useNavigator();\n\tconst { revisionId } = params;\n\tconst [ currentPage, setCurrentPage ] = useState( 1 );\n\tconst { revisions, isLoading, hasUnsavedChanges, revisionsCount } =\n\t\tuseGlobalStylesRevisions( {\n\t\t\tquery: {\n\t\t\t\tper_page: PAGE_SIZE,\n\t\t\t\tpage: currentPage,\n\t\t\t},\n\t\t} );\n\n\tconst numPages = Math.ceil( revisionsCount / PAGE_SIZE );\n\n\tconst [\n\t\tisLoadingRevisionWithUnsavedChanges,\n\t\tsetIsLoadingRevisionWithUnsavedChanges,\n\t] = useState( false );\n\n\t// Derive the currently selected revision from the path parameter\n\tconst currentlySelectedRevision = useMemo( () => {\n\t\tif ( ! revisionId ) {\n\t\t\treturn currentEditorGlobalStyles;\n\t\t}\n\t\tconst revision = revisions.find(\n\t\t\t( rev ) => String( rev.id ) === String( revisionId )\n\t\t);\n\t\treturn revision || currentEditorGlobalStyles;\n\t}, [ revisionId, revisions, currentEditorGlobalStyles ] );\n\n\tconst selectedRevisionMatchesEditorStyles = areGlobalStylesEqual(\n\t\tcurrentlySelectedRevision,\n\t\tcurrentEditorGlobalStyles\n\t);\n\n\tconst onCloseRevisions = () => {\n\t\tif ( onClose ) {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\tconst restoreRevision = ( revision: any ) => {\n\t\tsetUserConfig( revision );\n\t\tsetIsLoadingRevisionWithUnsavedChanges( false );\n\t\tonCloseRevisions();\n\t};\n\n\tconst handleRevisionSelect = ( revision: any ) => {\n\t\tgoTo( `/revisions/${ revision.id }` );\n\t};\n\n\tconst currentlySelectedRevisionId =\n\t\t// @ts-expect-error: revision id is not present in the fallback (default object).\n\t\tcurrentlySelectedRevision?.id ?? revisions[ 0 ]?.id;\n\n\t// Only display load button if there is a revision to load,\n\t// and it is different from the current editor styles.\n\tconst isLoadButtonEnabled =\n\t\t!! currentlySelectedRevisionId &&\n\t\tcurrentlySelectedRevisionId !== 'unsaved' &&\n\t\t! selectedRevisionMatchesEditorStyles;\n\tconst hasRevisions = !! revisions.length;\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={\n\t\t\t\t\trevisionsCount\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: number of revisions.\n\t\t\t\t\t\t\t\t__( 'Revisions (%d)' ),\n\t\t\t\t\t\t\t\trevisionsCount\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Revisions' )\n\t\t\t\t}\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Click on previously saved styles to preview them. To restore a selected version to the editor, hit \"Apply.\" When you\\'re ready, use the Save button to save your changes.'\n\t\t\t\t) }\n\t\t\t\tonBack={ onCloseRevisions }\n\t\t\t/>\n\t\t\t{ ! hasRevisions && (\n\t\t\t\t<Spinner className=\"global-styles-ui-screen-revisions__loading\" />\n\t\t\t) }\n\t\t\t<RevisionsButtons\n\t\t\t\tonChange={ handleRevisionSelect }\n\t\t\t\tselectedRevisionId={ currentlySelectedRevisionId }\n\t\t\t\tuserRevisions={ revisions }\n\t\t\t\tcanApplyRevision={ isLoadButtonEnabled }\n\t\t\t\tonApplyRevision={ () =>\n\t\t\t\t\thasUnsavedChanges\n\t\t\t\t\t\t? setIsLoadingRevisionWithUnsavedChanges( true )\n\t\t\t\t\t\t: restoreRevision( currentlySelectedRevision )\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ numPages > 1 && (\n\t\t\t\t<div className=\"global-styles-ui-screen-revisions__footer\">\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__pagination\"\n\t\t\t\t\t\tcurrentPage={ currentPage }\n\t\t\t\t\t\tnumPages={ numPages }\n\t\t\t\t\t\tchangePage={ setCurrentPage }\n\t\t\t\t\t\ttotalItems={ revisionsCount }\n\t\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\t\tlabel={ __( 'Global Styles pagination' ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ isLoadingRevisionWithUnsavedChanges && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen={ isLoadingRevisionWithUnsavedChanges }\n\t\t\t\t\tconfirmButtonText={ __( 'Apply' ) }\n\t\t\t\t\tonConfirm={ () =>\n\t\t\t\t\t\trestoreRevision( currentlySelectedRevision )\n\t\t\t\t\t}\n\t\t\t\t\tonCancel={ () =>\n\t\t\t\t\t\tsetIsLoadingRevisionWithUnsavedChanges( false )\n\t\t\t\t\t}\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Are you sure you want to apply this revision? Any unsaved changes will be lost.'\n\t\t\t\t\t) }\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenRevisions;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tstore as coreStore,\n\ttype GlobalStylesRevision,\n} from '@wordpress/core-data';\nimport { useContext, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from '../context';\nimport type { Revision, User } from './types';\n\ninterface RawRevision extends Omit< Revision, 'author' > {\n\tauthor?: number;\n}\n\ninterface Query {\n\tper_page?: number;\n\tpage?: number;\n}\n\ninterface UseGlobalStylesRevisionsParams {\n\tquery?: Query;\n}\n\ninterface UseGlobalStylesRevisionsReturn {\n\trevisions: Revision[];\n\thasUnsavedChanges: boolean;\n\tisLoading: boolean;\n\trevisionsCount: number;\n}\n\nconst SITE_EDITOR_AUTHORS_QUERY = {\n\tper_page: -1,\n\t_fields: 'id,name,avatar_urls',\n\tcontext: 'view',\n\tcapabilities: [ 'edit_theme_options' ],\n};\nconst DEFAULT_QUERY = { per_page: 100, page: 1 };\nconst EMPTY_ARRAY: RawRevision[] = [];\n\nexport default function useGlobalStylesRevisions( {\n\tquery,\n}: UseGlobalStylesRevisionsParams = {} ): UseGlobalStylesRevisionsReturn {\n\tconst { user: userConfig } = useContext( GlobalStylesContext );\n\tconst _query: Query = useMemo(\n\t\t() => ( { ...DEFAULT_QUERY, ...query } ),\n\t\t[ query ]\n\t);\n\tconst {\n\t\tauthors,\n\t\tcurrentUser,\n\t\tisDirty,\n\t\trevisions,\n\t\tisLoadingGlobalStylesRevisions,\n\t\trevisionsCount,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\t__experimentalGetDirtyEntityRecords,\n\t\t\t\tgetCurrentUser,\n\t\t\t\tgetUsers,\n\t\t\t\tgetRevisions,\n\t\t\t\t__experimentalGetCurrentGlobalStylesId,\n\t\t\t\tgetEntityRecord,\n\t\t\t\t// @ts-expect-error\n\t\t\t\tisResolving,\n\t\t\t} = select( coreStore );\n\t\t\tconst dirtyEntityRecords =\n\t\t\t\t__experimentalGetDirtyEntityRecords() || [];\n\t\t\tconst _currentUser = getCurrentUser();\n\t\t\tconst _isDirty = dirtyEntityRecords.length > 0;\n\t\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\t\tconst globalStyles = globalStylesId\n\t\t\t\t? getEntityRecord< GlobalStylesRevision >(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\tglobalStylesId\n\t\t\t\t  )\n\t\t\t\t: undefined;\n\t\t\tconst _revisionsCount: number =\n\t\t\t\t// @ts-expect-error - _links is not typed in GlobalStylesRevision\n\t\t\t\tglobalStyles?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\t\t// @ts-expect-error - getRevisions is not fully typed\n\t\t\tconst globalStylesRevisions: RawRevision[] = globalStylesId\n\t\t\t\t? getRevisions(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\tglobalStylesId,\n\t\t\t\t\t\t_query\n\t\t\t\t  ) || EMPTY_ARRAY\n\t\t\t\t: EMPTY_ARRAY;\n\t\t\t// @ts-expect-error - getUsers is not fully typed\n\t\t\tconst _authors: User[] =\n\t\t\t\tgetUsers( SITE_EDITOR_AUTHORS_QUERY ) || [];\n\t\t\tconst _isResolving = globalStylesId\n\t\t\t\t? isResolving( 'getRevisions', [\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\tglobalStylesId,\n\t\t\t\t\t\t_query,\n\t\t\t\t  ] )\n\t\t\t\t: false;\n\t\t\treturn {\n\t\t\t\tauthors: _authors,\n\t\t\t\tcurrentUser: _currentUser,\n\t\t\t\tisDirty: _isDirty,\n\t\t\t\trevisions: globalStylesRevisions,\n\t\t\t\tisLoadingGlobalStylesRevisions: _isResolving,\n\t\t\t\trevisionsCount: _revisionsCount,\n\t\t\t};\n\t\t},\n\t\t[ _query ]\n\t);\n\treturn useMemo( (): UseGlobalStylesRevisionsReturn => {\n\t\tif ( ! authors.length || isLoadingGlobalStylesRevisions ) {\n\t\t\treturn {\n\t\t\t\trevisions: EMPTY_ARRAY as Revision[],\n\t\t\t\thasUnsavedChanges: isDirty,\n\t\t\t\tisLoading: true,\n\t\t\t\trevisionsCount,\n\t\t\t};\n\t\t}\n\n\t\t// Adds author details to each revision.\n\t\tconst _modifiedRevisions: Revision[] = revisions.map( ( revision ) => {\n\t\t\treturn {\n\t\t\t\t...revision,\n\t\t\t\tauthor: authors.find(\n\t\t\t\t\t( author ) => author.id === revision.author\n\t\t\t\t),\n\t\t\t};\n\t\t} );\n\n\t\tconst fetchedRevisionsCount = revisions.length;\n\n\t\tif ( fetchedRevisionsCount ) {\n\t\t\t// Flags the most current saved revision.\n\t\t\tif (\n\t\t\t\t_modifiedRevisions[ 0 ].id !== 'unsaved' &&\n\t\t\t\t_query.page === 1\n\t\t\t) {\n\t\t\t\t_modifiedRevisions[ 0 ].isLatest = true;\n\t\t\t}\n\n\t\t\t// Adds an item for unsaved changes.\n\t\t\tif (\n\t\t\t\tisDirty &&\n\t\t\t\tuserConfig &&\n\t\t\t\tObject.keys( userConfig ).length > 0 &&\n\t\t\t\tcurrentUser &&\n\t\t\t\t_query.page === 1\n\t\t\t) {\n\t\t\t\tconst unsavedRevision: Revision = {\n\t\t\t\t\tid: 'unsaved',\n\t\t\t\t\tstyles: userConfig?.styles,\n\t\t\t\t\tsettings: userConfig?.settings,\n\t\t\t\t\t_links: userConfig?._links,\n\t\t\t\t\tauthor: {\n\t\t\t\t\t\tname: currentUser?.name || '',\n\t\t\t\t\t\t// @ts-expect-error - avatar_urls is not typed in User\n\t\t\t\t\t\tavatar_urls: currentUser?.avatar_urls || {},\n\t\t\t\t\t},\n\t\t\t\t\tmodified: new Date(),\n\t\t\t\t};\n\n\t\t\t\t_modifiedRevisions.unshift( unsavedRevision );\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t_query.per_page &&\n\t\t\t\t_query.page === Math.ceil( revisionsCount / _query.per_page )\n\t\t\t) {\n\t\t\t\t// Adds an item for the default theme styles.\n\t\t\t\t_modifiedRevisions.push( {\n\t\t\t\t\tid: 'parent',\n\t\t\t\t\tstyles: {},\n\t\t\t\t\tsettings: {},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\trevisions: _modifiedRevisions,\n\t\t\thasUnsavedChanges: isDirty,\n\t\t\tisLoading: false,\n\t\t\trevisionsCount,\n\t\t};\n\t}, [\n\t\tisDirty,\n\t\trevisions,\n\t\tcurrentUser,\n\t\tauthors,\n\t\tuserConfig,\n\t\tisLoadingGlobalStylesRevisions,\n\t\trevisionsCount,\n\t\t_query.page,\n\t\t_query.per_page,\n\t] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, Composite } from '@wordpress/components';\nimport { dateI18n, getDate, humanTimeDiff, getSettings } from '@wordpress/date';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { getGlobalStylesChanges } from '@wordpress/global-styles-engine';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport type { Revision } from './types';\n\nconst DAY_IN_MILLISECONDS = 60 * 60 * 1000 * 24;\n\ninterface ChangesSummaryProps {\n\trevision: Revision;\n\tpreviousRevision?: Revision;\n}\n\nfunction ChangesSummary( { revision, previousRevision }: ChangesSummaryProps ) {\n\tconst changes: string[] = getGlobalStylesChanges(\n\t\trevision,\n\t\tpreviousRevision,\n\t\t{\n\t\t\tmaxResults: 7,\n\t\t}\n\t);\n\n\tif ( ! changes.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ul\n\t\t\tdata-testid=\"global-styles-revision-changes\"\n\t\t\tclassName=\"global-styles-ui-screen-revisions__changes\"\n\t\t>\n\t\t\t{ changes.map( ( change ) => (\n\t\t\t\t<li key={ change }>{ change }</li>\n\t\t\t) ) }\n\t\t</ul>\n\t);\n}\n\n/**\n * Returns a button label for the revision.\n * @param id\n * @param authorDisplayName\n * @param formattedModifiedDate\n * @param areStylesEqual\n */\nfunction getRevisionLabel(\n\tid: string | number,\n\tauthorDisplayName: string,\n\tformattedModifiedDate: string,\n\tareStylesEqual: boolean\n): string {\n\tif ( 'parent' === id ) {\n\t\treturn __( 'Reset the styles to the theme defaults' );\n\t}\n\n\tif ( 'unsaved' === id ) {\n\t\treturn sprintf(\n\t\t\t/* translators: %s: author display name */\n\t\t\t__( 'Unsaved changes by %s' ),\n\t\t\tauthorDisplayName\n\t\t);\n\t}\n\n\treturn areStylesEqual\n\t\t? sprintf(\n\t\t\t\t// translators: 1: author display name. 2: revision creation date.\n\t\t\t\t__(\n\t\t\t\t\t'Changes saved by %1$s on %2$s. This revision matches current editor styles.'\n\t\t\t\t),\n\t\t\t\tauthorDisplayName,\n\t\t\t\tformattedModifiedDate\n\t\t  )\n\t\t: sprintf(\n\t\t\t\t// translators: 1: author display name. 2: revision creation date.\n\t\t\t\t__( 'Changes saved by %1$s on %2$s' ),\n\t\t\t\tauthorDisplayName,\n\t\t\t\tformattedModifiedDate\n\t\t  );\n}\n\ninterface RevisionButtonsProps {\n\tuserRevisions: Revision[];\n\tselectedRevisionId?: string | number;\n\tonChange: ( revision: Revision ) => void;\n\tcanApplyRevision?: boolean;\n\tonApplyRevision?: () => void;\n}\n\n/**\n * Returns a rendered list of revisions buttons.\n * @param root0\n * @param root0.userRevisions\n * @param root0.selectedRevisionId\n * @param root0.onChange\n * @param root0.canApplyRevision\n * @param root0.onApplyRevision\n */\nfunction RevisionsButtons( {\n\tuserRevisions,\n\tselectedRevisionId,\n\tonChange,\n\tcanApplyRevision,\n\tonApplyRevision,\n}: RevisionButtonsProps ) {\n\tconst { currentThemeName, currentUser } = useSelect( ( select ) => {\n\t\tconst { getCurrentTheme, getCurrentUser } = select( coreStore );\n\t\tconst currentTheme = getCurrentTheme();\n\t\treturn {\n\t\t\tcurrentThemeName:\n\t\t\t\tcurrentTheme?.name?.rendered || currentTheme?.stylesheet,\n\t\t\tcurrentUser: getCurrentUser(),\n\t\t};\n\t}, [] );\n\tconst dateNowInMs = getDate( null ).getTime();\n\tconst { datetimeAbbreviated } = getSettings().formats;\n\n\treturn (\n\t\t<Composite\n\t\t\torientation=\"vertical\"\n\t\t\tclassName=\"global-styles-ui-screen-revisions__revisions-list\"\n\t\t\taria-label={ __( 'Global styles revisions list' ) }\n\t\t\trole=\"listbox\"\n\t\t>\n\t\t\t{ userRevisions.map( ( revision, index ) => {\n\t\t\t\tconst { id, author, modified } = revision;\n\t\t\t\tconst isUnsaved = 'unsaved' === id;\n\t\t\t\t// Unsaved changes are created by the current user.\n\t\t\t\tconst revisionAuthor = isUnsaved ? currentUser : author;\n\t\t\t\tconst authorDisplayName = revisionAuthor?.name || __( 'User' );\n\t\t\t\tconst authorAvatar = revisionAuthor?.avatar_urls?.[ '48' ];\n\t\t\t\tconst isFirstItem = index === 0;\n\t\t\t\tconst isSelected = selectedRevisionId\n\t\t\t\t\t? selectedRevisionId === id\n\t\t\t\t\t: isFirstItem;\n\t\t\t\tconst areStylesEqual = ! canApplyRevision && isSelected;\n\t\t\t\tconst isReset = 'parent' === id;\n\t\t\t\t// Convert modified to string if it's a Date, for type compatibility\n\t\t\t\tconst modifiedString =\n\t\t\t\t\tmodified instanceof Date\n\t\t\t\t\t\t? modified.toISOString()\n\t\t\t\t\t\t: modified;\n\t\t\t\tconst modifiedDate = getDate( modifiedString ?? null );\n\t\t\t\tconst displayDate =\n\t\t\t\t\tmodifiedString &&\n\t\t\t\t\tdateNowInMs - modifiedDate.getTime() > DAY_IN_MILLISECONDS\n\t\t\t\t\t\t? dateI18n( datetimeAbbreviated, modifiedDate )\n\t\t\t\t\t\t: humanTimeDiff(\n\t\t\t\t\t\t\t\tmodifiedString ?? modifiedDate,\n\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t  );\n\t\t\t\tconst revisionLabel = getRevisionLabel(\n\t\t\t\t\tid,\n\t\t\t\t\tauthorDisplayName,\n\t\t\t\t\tdateI18n( datetimeAbbreviated, modifiedDate ),\n\t\t\t\t\tareStylesEqual\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__revision-item\"\n\t\t\t\t\t\taria-current={ isSelected }\n\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tconst { keyCode } = event;\n\t\t\t\t\t\t\tif ( keyCode === ENTER || keyCode === SPACE ) {\n\t\t\t\t\t\t\t\tonChange( revision );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tonChange( revision );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-selected={ isSelected }\n\t\t\t\t\t\taria-label={ revisionLabel }\n\t\t\t\t\t\trender={ <div /> }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__revision-item-wrapper\">\n\t\t\t\t\t\t\t{ isReset ? (\n\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__description\">\n\t\t\t\t\t\t\t\t\t{ __( 'Default styles' ) }\n\t\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__meta\">\n\t\t\t\t\t\t\t\t\t\t{ currentThemeName }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__description\">\n\t\t\t\t\t\t\t\t\t{ isUnsaved ? (\n\t\t\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__date\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( '(Unsaved)' ) }\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<time\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__date\"\n\t\t\t\t\t\t\t\t\t\t\tdateTime={ modifiedString }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ displayDate }\n\t\t\t\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__meta\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt={ authorDisplayName }\n\t\t\t\t\t\t\t\t\t\t\tsrc={ authorAvatar }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ authorDisplayName }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t\t\t\t\t<ChangesSummary\n\t\t\t\t\t\t\t\t\t\t\trevision={ revision }\n\t\t\t\t\t\t\t\t\t\t\tpreviousRevision={\n\t\t\t\t\t\t\t\t\t\t\t\tindex < userRevisions.length\n\t\t\t\t\t\t\t\t\t\t\t\t\t? userRevisions[ index + 1 ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{ isSelected &&\n\t\t\t\t\t\t\t( areStylesEqual ? (\n\t\t\t\t\t\t\t\t<p className=\"global-styles-ui-screen-revisions__applied-text\">\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'These styles are already applied to your site.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__apply-button\"\n\t\t\t\t\t\t\t\t\tonClick={ onApplyRevision }\n\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t'Apply the selected revision to your site.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ isReset\n\t\t\t\t\t\t\t\t\t\t? __( 'Reset to defaults' )\n\t\t\t\t\t\t\t\t\t\t: __( 'Apply' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Composite.Item>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite>\n\t);\n}\n\nexport default RevisionsButtons;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n\tButton,\n} from '@wordpress/components';\nimport { __, _x, _n, sprintf, isRTL } from '@wordpress/i18n';\nimport { previous, chevronLeft, chevronRight, next } from '@wordpress/icons';\n\ninterface PaginationProps {\n\tcurrentPage: number;\n\tnumPages: number;\n\tchangePage: ( page: number ) => void;\n\ttotalItems: number;\n\tclassName?: string;\n\tdisabled?: boolean;\n\tbuttonVariant?: 'primary' | 'secondary' | 'tertiary';\n\tlabel?: string;\n}\n\nexport default function Pagination( {\n\tcurrentPage,\n\tnumPages,\n\tchangePage,\n\ttotalItems,\n\tclassName,\n\tdisabled = false,\n\tbuttonVariant = 'tertiary',\n\tlabel = __( 'Pagination' ),\n}: PaginationProps ) {\n\treturn (\n\t\t<HStack\n\t\t\texpanded={ false }\n\t\t\tas=\"nav\"\n\t\t\taria-label={ label }\n\t\t\tspacing={ 3 }\n\t\t\tjustify=\"flex-start\"\n\t\t\tclassName={ clsx( 'global-styles-ui-pagination', className ) }\n\t\t>\n\t\t\t<Text\n\t\t\t\tvariant=\"muted\"\n\t\t\t\tclassName=\"global-styles-ui-pagination__total\"\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %d: Total number of patterns.\n\t\t\t\t\t_n( '%d item', '%d items', totalItems ),\n\t\t\t\t\ttotalItems\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( 1 ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === 1 }\n\t\t\t\t\tlabel={ __( 'First page' ) }\n\t\t\t\t\ticon={ isRTL() ? next : previous }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( currentPage - 1 ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === 1 }\n\t\t\t\t\tlabel={ __( 'Previous page' ) }\n\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t\t<Text variant=\"muted\">\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: 1: Current page number. 2: Total number of pages.\n\t\t\t\t\t_x( '%1$d of %2$d', 'paging' ),\n\t\t\t\t\tcurrentPage,\n\t\t\t\t\tnumPages\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( currentPage + 1 ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === numPages }\n\t\t\t\t\tlabel={ __( 'Next page' ) }\n\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( numPages ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === numPages }\n\t\t\t\t\tlabel={ __( 'Last page' ) }\n\t\t\t\t\ticon={ isRTL() ? previous : next }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf, isRTL } from '@wordpress/i18n';\nimport {\n\tprivateApis as componentsPrivateApis,\n\t__experimentalSpacer as Spacer,\n\t__experimentalView as View,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n\tButton,\n} from '@wordpress/components';\nimport {\n\tIcon,\n\tplus,\n\tmoreVertical,\n\tchevronLeft,\n\tchevronRight,\n} from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from '../subtitle';\nimport { NavigationButtonAsItem } from '../navigation-button';\nimport { getNewIndexFromPresets } from '../utils';\nimport { ScreenHeader } from '../screen-header';\nimport ConfirmResetFontSizesDialog from './confirm-reset-font-sizes-dialog';\nimport { useSetting } from '../hooks';\nimport { unlock } from '../lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\ninterface FontSizeGroupProps {\n\tlabel: string;\n\torigin: string;\n\tsizes: FontSize[];\n\thandleAddFontSize: () => void;\n\thandleResetFontSizes?: () => void;\n}\n\nfunction FontSizeGroup( {\n\tlabel,\n\torigin,\n\tsizes,\n\thandleAddFontSize,\n\thandleResetFontSizes,\n}: FontSizeGroupProps ) {\n\tconst [ isResetDialogOpen, setIsResetDialogOpen ] = useState( false );\n\n\tconst toggleResetDialog = () => setIsResetDialogOpen( ! isResetDialogOpen );\n\n\tconst resetDialogText =\n\t\torigin === 'custom'\n\t\t\t? __(\n\t\t\t\t\t'Are you sure you want to remove all custom font size presets?'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'Are you sure you want to reset all font size presets to their default values?'\n\t\t\t  );\n\n\treturn (\n\t\t<>\n\t\t\t{ handleResetFontSizes && isResetDialogOpen && (\n\t\t\t\t<ConfirmResetFontSizesDialog\n\t\t\t\t\ttext={ resetDialogText }\n\t\t\t\t\tconfirmButtonText={\n\t\t\t\t\t\torigin === 'custom' ? __( 'Remove' ) : __( 'Reset' )\n\t\t\t\t\t}\n\t\t\t\t\tisOpen={ isResetDialogOpen }\n\t\t\t\t\ttoggleOpen={ toggleResetDialog }\n\t\t\t\t\tonConfirm={ handleResetFontSizes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<HStack>\n\t\t\t\t\t<Subtitle level={ 3 }>{ label }</Subtitle>\n\t\t\t\t\t<FlexItem className=\"global-styles-ui__typography-panel__options-container\">\n\t\t\t\t\t\t{ origin === 'custom' && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tlabel={ __( 'Add font size' ) }\n\t\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tonClick={ handleAddFontSize }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ !! handleResetFontSizes && (\n\t\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Font size presets options'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t\t<Menu.Item onClick={ toggleResetDialog }>\n\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t{ origin === 'custom'\n\t\t\t\t\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Remove font size presets'\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Reset font size presets'\n\t\t\t\t\t\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</HStack>\n\n\t\t\t\t{ !! sizes.length && (\n\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t{ sizes.map( ( size ) => (\n\t\t\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\t\t\tkey={ size.slug }\n\t\t\t\t\t\t\t\tpath={ `/typography/font-sizes/${ origin }/${ size.slug }` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<HStack>\n\t\t\t\t\t\t\t\t\t<FlexItem className=\"global-styles-ui-font-size__item\">\n\t\t\t\t\t\t\t\t\t\t{ size.name }\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t<FlexItem display=\"flex\">\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\tisRTL()\n\t\t\t\t\t\t\t\t\t\t\t\t\t? chevronLeft\n\t\t\t\t\t\t\t\t\t\t\t\t\t: chevronRight\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</ItemGroup>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</>\n\t);\n}\n\nfunction FontSizes() {\n\tconst [ themeFontSizes, setThemeFontSizes ] = useSetting(\n\t\t'typography.fontSizes.theme'\n\t);\n\n\tconst [ baseThemeFontSizes ] = useSetting(\n\t\t'typography.fontSizes.theme',\n\t\t'base'\n\t);\n\tconst [ defaultFontSizes, setDefaultFontSizes ] = useSetting(\n\t\t'typography.fontSizes.default'\n\t);\n\n\tconst [ baseDefaultFontSizes ] = useSetting(\n\t\t'typography.fontSizes.default',\n\t\t'base'\n\t);\n\n\tconst [ customFontSizes = [], setCustomFontSizes ] = useSetting(\n\t\t'typography.fontSizes.custom'\n\t);\n\n\tconst [ defaultFontSizesEnabled ] = useSetting(\n\t\t'typography.defaultFontSizes'\n\t);\n\n\tconst handleAddFontSize = () => {\n\t\tconst index = getNewIndexFromPresets( customFontSizes, 'custom-' );\n\t\tconst newFontSize = {\n\t\t\t/* translators: %d: font size index */\n\t\t\tname: sprintf( __( 'New Font Size %d' ), index ),\n\t\t\tsize: '16px',\n\t\t\tslug: `custom-${ index }`,\n\t\t};\n\n\t\tsetCustomFontSizes( [ ...customFontSizes, newFontSize ] );\n\t};\n\n\tconst hasSameSizeValues = ( arr1: FontSize[], arr2: FontSize[] ): boolean =>\n\t\tarr1.map( ( item ) => item.size ).join( '' ) ===\n\t\tarr2.map( ( item ) => item.size ).join( '' );\n\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Font size presets' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Create and edit the presets used for font sizes across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<View>\n\t\t\t\t<Spacer paddingX={ 4 }>\n\t\t\t\t\t<VStack spacing={ 8 }>\n\t\t\t\t\t\t{ !! themeFontSizes?.length && (\n\t\t\t\t\t\t\t<FontSizeGroup\n\t\t\t\t\t\t\t\tlabel={ __( 'Theme' ) }\n\t\t\t\t\t\t\t\torigin=\"theme\"\n\t\t\t\t\t\t\t\tsizes={ themeFontSizes }\n\t\t\t\t\t\t\t\thandleAddFontSize={ handleAddFontSize }\n\t\t\t\t\t\t\t\thandleResetFontSizes={\n\t\t\t\t\t\t\t\t\thasSameSizeValues(\n\t\t\t\t\t\t\t\t\t\tthemeFontSizes,\n\t\t\t\t\t\t\t\t\t\tbaseThemeFontSizes\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t: () =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetThemeFontSizes(\n\t\t\t\t\t\t\t\t\t\t\t\t\tbaseThemeFontSizes\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ defaultFontSizesEnabled &&\n\t\t\t\t\t\t\t!! defaultFontSizes?.length && (\n\t\t\t\t\t\t\t\t<FontSizeGroup\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Default' ) }\n\t\t\t\t\t\t\t\t\torigin=\"default\"\n\t\t\t\t\t\t\t\t\tsizes={ defaultFontSizes }\n\t\t\t\t\t\t\t\t\thandleAddFontSize={ handleAddFontSize }\n\t\t\t\t\t\t\t\t\thandleResetFontSizes={\n\t\t\t\t\t\t\t\t\t\thasSameSizeValues(\n\t\t\t\t\t\t\t\t\t\t\tdefaultFontSizes,\n\t\t\t\t\t\t\t\t\t\t\tbaseDefaultFontSizes\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t: () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetDefaultFontSizes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbaseDefaultFontSizes\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<FontSizeGroup\n\t\t\t\t\t\t\tlabel={ __( 'Custom' ) }\n\t\t\t\t\t\t\torigin=\"custom\"\n\t\t\t\t\t\t\tsizes={ customFontSizes }\n\t\t\t\t\t\t\thandleAddFontSize={ handleAddFontSize }\n\t\t\t\t\t\t\thandleResetFontSizes={\n\t\t\t\t\t\t\t\tcustomFontSizes.length > 0\n\t\t\t\t\t\t\t\t\t? () => setCustomFontSizes( [] )\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</VStack>\n\t\t\t\t</Spacer>\n\t\t\t</View>\n\t\t</VStack>\n\t);\n}\n\nexport default FontSizes;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\ninterface ConfirmResetFontSizesDialogProps {\n\ttext: string;\n\tconfirmButtonText: string;\n\tisOpen: boolean;\n\ttoggleOpen: () => void;\n\tonConfirm: () => void;\n}\n\nfunction ConfirmResetFontSizesDialog( {\n\ttext,\n\tconfirmButtonText,\n\tisOpen,\n\ttoggleOpen,\n\tonConfirm,\n}: ConfirmResetFontSizesDialogProps ) {\n\tconst handleConfirm = async () => {\n\t\ttoggleOpen();\n\t\tonConfirm();\n\t};\n\n\tconst handleCancel = () => {\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ confirmButtonText }\n\t\t\tonCancel={ handleCancel }\n\t\t\tonConfirm={ handleConfirm }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ text }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default ConfirmResetFontSizesDialog;\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalSpacer as Spacer,\n\tuseNavigator,\n\t__experimentalView as View,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tprivateApis as componentsPrivateApis,\n\tButton,\n\tFlexItem,\n\tToggleControl,\n} from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { useState, useEffect } from '@wordpress/element';\nimport type {\n\tTypographyPreset,\n\tFluidTypographySettings,\n\tFontSize,\n\tFluidTypographyConfig,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from '../screen-header';\nimport FontSizePreview from './font-size-preview';\nimport ConfirmDeleteFontSizeDialog from './confirm-delete-font-size-dialog';\nimport RenameFontSizeDialog from './rename-font-size-dialog';\nimport { SizeControl } from '../size-control';\nimport { useSetting } from '../hooks';\nimport { unlock } from '../lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nfunction FontSize() {\n\tconst [ isDeleteConfirmOpen, setIsDeleteConfirmOpen ] = useState( false );\n\tconst [ isRenameDialogOpen, setIsRenameDialogOpen ] = useState( false );\n\n\tconst {\n\t\tparams: { origin, slug },\n\t\tgoBack,\n\t} = useNavigator();\n\n\tconst [ fontSizes, setFontSizes ] = useSetting<\n\t\tRecord< string, TypographyPreset[] > | undefined\n\t>( 'typography.fontSizes' );\n\tconst [ globalFluid ] = useSetting<\n\t\tboolean | FluidTypographySettings | undefined\n\t>( 'typography.fluid' );\n\n\t// Get the font sizes from the origin, default to empty array.\n\tconst sizes = fontSizes?.[ origin as string ] ?? [];\n\n\t// Get the font size by slug.\n\tconst fontSize: FontSize | undefined = sizes.find(\n\t\t( size ) => size.slug === slug\n\t);\n\n\t// Navigate to the font sizes list if the font size is not available.\n\tuseEffect( () => {\n\t\tif ( !! slug && ! fontSize ) {\n\t\t\tgoBack();\n\t\t}\n\t}, [ slug, fontSize, goBack ] );\n\n\tif ( ! origin || ! slug || ! fontSize ) {\n\t\treturn null;\n\t}\n\n\t// Whether the font size is fluid. If not defined, use the global fluid value of the theme.\n\tconst isFluid =\n\t\tfontSize?.fluid !== undefined ? !! fontSize.fluid : !! globalFluid;\n\n\t// Whether custom fluid values are used.\n\tconst isCustomFluid = typeof fontSize?.fluid === 'object';\n\n\tconst handleNameChange = ( value: string ) => {\n\t\tupdateFontSize( 'name', value );\n\t};\n\n\tconst handleFontSizeChange = ( value: string | undefined ) => {\n\t\tupdateFontSize( 'size', value );\n\t};\n\n\tconst handleFluidChange = ( value: boolean ) => {\n\t\tupdateFontSize( 'fluid', value );\n\t};\n\n\tconst handleCustomFluidValues = ( value: boolean ) => {\n\t\tif ( value ) {\n\t\t\t// If custom values are used, init the values with the current ones.\n\t\t\tupdateFontSize( 'fluid', {\n\t\t\t\tmin: fontSize.size,\n\t\t\t\tmax: fontSize.size,\n\t\t\t} );\n\t\t} else {\n\t\t\t// If custom fluid values are disabled, set fluid to true.\n\t\t\tupdateFontSize( 'fluid', true );\n\t\t}\n\t};\n\n\tconst handleMinChange = ( value: string | undefined ) => {\n\t\tconst fluid: FluidTypographyConfig =\n\t\t\ttypeof fontSize.fluid === 'object' ? fontSize.fluid : {};\n\t\tupdateFontSize( 'fluid', { ...fluid, min: value } );\n\t};\n\n\tconst handleMaxChange = ( value: string | undefined ) => {\n\t\tconst fluid: FluidTypographyConfig =\n\t\t\ttypeof fontSize.fluid === 'object' ? fontSize.fluid : {};\n\t\tupdateFontSize( 'fluid', { ...fluid, max: value } );\n\t};\n\n\tconst updateFontSize = ( key: string, value: any ) => {\n\t\tconst newFontSizes = sizes.map( ( size ) => {\n\t\t\tif ( size.slug === slug ) {\n\t\t\t\treturn { ...size, [ key ]: value }; // Create a new object with updated key\n\t\t\t}\n\t\t\treturn size;\n\t\t} );\n\n\t\tsetFontSizes( {\n\t\t\t...fontSizes,\n\t\t\t[ origin as string ]: newFontSizes,\n\t\t} );\n\t};\n\n\tconst handleRemoveFontSize = () => {\n\t\tconst newFontSizes = sizes.filter( ( size ) => size.slug !== slug );\n\t\tsetFontSizes( {\n\t\t\t...fontSizes,\n\t\t\t[ origin as string ]: newFontSizes,\n\t\t} );\n\t};\n\n\tconst toggleDeleteConfirm = () => {\n\t\tsetIsDeleteConfirmOpen( ! isDeleteConfirmOpen );\n\t};\n\n\tconst toggleRenameDialog = () => {\n\t\tsetIsRenameDialogOpen( ! isRenameDialogOpen );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmDeleteFontSizeDialog\n\t\t\t\tfontSize={ fontSize }\n\t\t\t\tisOpen={ isDeleteConfirmOpen }\n\t\t\t\ttoggleOpen={ toggleDeleteConfirm }\n\t\t\t\thandleRemoveFontSize={ handleRemoveFontSize }\n\t\t\t/>\n\n\t\t\t{ isRenameDialogOpen && (\n\t\t\t\t<RenameFontSizeDialog\n\t\t\t\t\tfontSize={ fontSize }\n\t\t\t\t\ttoggleOpen={ toggleRenameDialog }\n\t\t\t\t\thandleRename={ handleNameChange }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<HStack justify=\"space-between\" alignment=\"flex-start\">\n\t\t\t\t\t<ScreenHeader\n\t\t\t\t\t\ttitle={ fontSize.name }\n\t\t\t\t\t\tdescription={ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: font size preset name. */\n\t\t\t\t\t\t\t__( 'Manage the font size %s.' ),\n\t\t\t\t\t\t\tfontSize.name\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ origin === 'custom' && (\n\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t<Spacer\n\t\t\t\t\t\t\t\tmarginTop={ 3 }\n\t\t\t\t\t\t\t\tmarginBottom={ 0 }\n\t\t\t\t\t\t\t\tpaddingX={ 4 }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Font size options'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\tonClick={ toggleRenameDialog }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Rename' ) }\n\t\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\tonClick={ toggleDeleteConfirm }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\n\t\t\t\t<View>\n\t\t\t\t\t<Spacer\n\t\t\t\t\t\tpaddingX={ 4 }\n\t\t\t\t\t\tmarginBottom={ 0 }\n\t\t\t\t\t\tpaddingBottom={ 6 }\n\t\t\t\t\t>\n\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<FontSizePreview fontSize={ fontSize } />\n\t\t\t\t\t\t\t</FlexItem>\n\n\t\t\t\t\t\t\t<SizeControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Size' ) }\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t! isCustomFluid && fontSize.size\n\t\t\t\t\t\t\t\t\t\t? String( fontSize.size )\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={ handleFontSizeChange }\n\t\t\t\t\t\t\t\tdisabled={ isCustomFluid }\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Fluid typography' ) }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Scale the font size dynamically to fit the screen or viewport.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tchecked={ isFluid }\n\t\t\t\t\t\t\t\tonChange={ handleFluidChange }\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{ isFluid && (\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Custom fluid values' ) }\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Set custom min and max values for the fluid font size.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tchecked={ isCustomFluid }\n\t\t\t\t\t\t\t\t\tonChange={ handleCustomFluidValues }\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t{ isCustomFluid && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<SizeControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Minimum' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\ttypeof fontSize?.fluid === 'object'\n\t\t\t\t\t\t\t\t\t\t\t\t? fontSize.fluid?.min\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={ handleMinChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<SizeControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Maximum' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\ttypeof fontSize?.fluid === 'object'\n\t\t\t\t\t\t\t\t\t\t\t\t? fontSize.fluid?.max\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={ handleMaxChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</Spacer>\n\t\t\t\t</View>\n\t\t\t</VStack>\n\t\t</>\n\t);\n}\n\nexport default FontSize;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { getComputedFluidTypographyValue } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from '../hooks';\n\ninterface FontSizePreviewProps {\n\tfontSize: FontSize;\n}\n\nfunction FontSizePreview( { fontSize }: FontSizePreviewProps ) {\n\tconst [ font ] = useStyle< { fontFamily?: string } >( 'typography' );\n\n\tconst input =\n\t\ttypeof fontSize?.fluid === 'object' &&\n\t\tfontSize?.fluid?.min &&\n\t\tfontSize?.fluid?.max\n\t\t\t? {\n\t\t\t\t\tminimumFontSize: fontSize.fluid.min,\n\t\t\t\t\tmaximumFontSize: fontSize.fluid.max,\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tfontSize: fontSize.size,\n\t\t\t  };\n\n\tconst computedFontSize = getComputedFluidTypographyValue( input );\n\treturn (\n\t\t<div\n\t\t\tclassName=\"global-styles-ui-typography-preview\"\n\t\t\tstyle={ {\n\t\t\t\tfontSize: computedFontSize,\n\t\t\t\tfontFamily: font?.fontFamily ?? 'serif',\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Aa' ) }\n\t\t</div>\n\t);\n}\n\nexport default FontSizePreview;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\ninterface ConfirmDeleteFontSizeDialogProps {\n\tfontSize: FontSize;\n\tisOpen: boolean;\n\ttoggleOpen: () => void;\n\thandleRemoveFontSize: ( fontSize: FontSize ) => void;\n}\n\nfunction ConfirmDeleteFontSizeDialog( {\n\tfontSize,\n\tisOpen,\n\ttoggleOpen,\n\thandleRemoveFontSize,\n}: ConfirmDeleteFontSizeDialogProps ) {\n\tconst handleConfirm = async () => {\n\t\ttoggleOpen();\n\t\thandleRemoveFontSize( fontSize );\n\t};\n\n\tconst handleCancel = () => {\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\tonCancel={ handleCancel }\n\t\t\tonConfirm={ handleConfirm }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ fontSize &&\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: Name of the font size preset. */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Are you sure you want to delete \"%s\" font size preset?'\n\t\t\t\t\t),\n\t\t\t\t\tfontSize.name\n\t\t\t\t) }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default ConfirmDeleteFontSizeDialog;\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalInputControl as InputControl,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tButton,\n\tModal,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\ninterface RenameFontSizeDialogProps {\n\tfontSize: FontSize;\n\ttoggleOpen: () => void;\n\thandleRename: ( newName: string ) => void;\n}\n\nfunction RenameFontSizeDialog( {\n\tfontSize,\n\ttoggleOpen,\n\thandleRename,\n}: RenameFontSizeDialogProps ) {\n\tconst [ newName, setNewName ] = useState< string | undefined >(\n\t\tfontSize.name\n\t);\n\n\tconst handleConfirm = () => {\n\t\t// If the new name is not empty, call the handleRename function\n\t\tif ( newName && newName.trim() ) {\n\t\t\thandleRename( newName );\n\t\t}\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tonRequestClose={ toggleOpen }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\ttitle={ __( 'Rename' ) }\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\thandleConfirm();\n\t\t\t\t\ttoggleOpen();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t<InputControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={ newName }\n\t\t\t\t\t\tonChange={ setNewName }\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Font size preset name' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ toggleOpen }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n\nexport default RenameFontSizeDialog;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tRangeControl,\n\tFlex,\n\tFlexItem,\n\tuseBaseControlProps,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\n\nconst DEFAULT_UNITS = [ 'px', 'em', 'rem', 'vw', 'vh' ];\n\ninterface SizeControlProps {\n\tvalue?: string;\n\tonChange?: ( value: string | undefined ) => void;\n\tfallbackValue?: number;\n\tdisabled?: boolean;\n\tlabel?: string;\n\t__nextHasNoMarginBottom?: boolean;\n}\n\nfunction SizeControl( {\n\t// Do not allow manipulation of margin bottom\n\t__nextHasNoMarginBottom,\n\t...props\n}: SizeControlProps ) {\n\tconst { baseControlProps } = useBaseControlProps( props );\n\tconst { value, onChange, fallbackValue, disabled, label } = props;\n\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: DEFAULT_UNITS,\n\t} );\n\n\tconst [ valueQuantity, valueUnit = 'px' ] =\n\t\tparseQuantityAndUnitFromRawValue( value, units );\n\n\tconst isValueUnitRelative =\n\t\t!! valueUnit && [ 'em', 'rem', 'vw', 'vh' ].includes( valueUnit );\n\n\t// Receives the new value from the UnitControl component as a string containing the value and unit.\n\tconst handleUnitControlChange = ( newValue: string | undefined ) => {\n\t\tonChange?.( newValue );\n\t};\n\n\t// Receives the new value from the RangeControl component as a number.\n\tconst handleRangeControlChange = ( newValue: number | undefined ) => {\n\t\tif ( newValue !== undefined ) {\n\t\t\tonChange?.( newValue + valueUnit );\n\t\t} else {\n\t\t\tonChange?.( undefined );\n\t\t}\n\t};\n\n\treturn (\n\t\t<BaseControl { ...baseControlProps } __nextHasNoMarginBottom>\n\t\t\t<Flex>\n\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleUnitControlChange }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t/>\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t<Spacer marginX={ 2 } marginBottom={ 0 }>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ valueQuantity }\n\t\t\t\t\t\t\tinitialPosition={ fallbackValue }\n\t\t\t\t\t\t\twithInputField={ false }\n\t\t\t\t\t\t\tonChange={ handleRangeControlChange }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ isValueUnitRelative ? 10 : 100 }\n\t\t\t\t\t\t\tstep={ isValueUnitRelative ? 0.1 : 1 }\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Spacer>\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\t\t</BaseControl>\n\t);\n}\n\nexport { SizeControl };\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesProvider } from './provider';\n\ninterface GlobalStylesProviderProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n}\n\n/**\n * Higher-order component that wraps a component with GlobalStylesProvider.\n * This allows components to access GlobalStylesContext without exposing\n * the provider directly in the public API.\n *\n * @param Component - The component to wrap\n * @return A wrapped component that accepts value, baseValue, and onChange props\n */\nexport function withGlobalStylesProvider< P extends object >(\n\tComponent: React.ComponentType< P >\n) {\n\treturn function WrappedComponent( {\n\t\tvalue,\n\t\tbaseValue,\n\t\tonChange,\n\t\t...props\n\t}: P & GlobalStylesProviderProps ) {\n\t\treturn (\n\t\t\t<GlobalStylesProvider\n\t\t\t\tvalue={ value }\n\t\t\t\tbaseValue={ baseValue }\n\t\t\t\tonChange={ onChange }\n\t\t\t>\n\t\t\t\t<Component { ...( props as P ) } />\n\t\t\t</GlobalStylesProvider>\n\t\t);\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport StyleVariationsContainer from './style-variations-container';\nimport { withGlobalStylesProvider } from './with-global-styles-provider';\n\nexport interface StyleVariationsProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n\tgap?: number;\n}\n\n/**\n * Render Style Variations.\n *\n * @example\n * ```tsx\n * <StyleVariations\n *   value={userConfig}\n *   baseValue={baseConfig}\n *   onChange={setUserConfig}\n *   gap={3}\n * />\n * ```\n */\nexport const StyleVariations: React.ComponentType< StyleVariationsProps > =\n\twithGlobalStylesProvider( StyleVariationsContainer );\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport ColorVariationsInternal from './variations/variations-color';\nimport { withGlobalStylesProvider } from './with-global-styles-provider';\n\nexport interface ColorVariationsProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n\ttitle?: string;\n\tgap?: number;\n}\n\n/**\n * Render Global Styles Color Variations.\n *\n * @example\n * ```tsx\n * <ColorVariations\n *   value={userConfig}\n *   baseValue={baseConfig}\n *   onChange={setUserConfig}\n *   title=\"Palettes\"\n *   gap={3}\n * />\n * ```\n */\nexport const ColorVariations: React.ComponentType< ColorVariationsProps > =\n\twithGlobalStylesProvider( ColorVariationsInternal );\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport TypographyVariationsInternal from './variations/variations-typography';\nimport { withGlobalStylesProvider } from './with-global-styles-provider';\n\nexport interface TypographyVariationsProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n\ttitle?: string;\n\tgap?: number;\n}\n\n/**\n * Render Typography Variations.\n *\n * @example\n * ```tsx\n * <TypographyVariations\n *   value={userConfig}\n *   baseValue={baseConfig}\n *   onChange={setUserConfig}\n *   title=\"Typography\"\n *   gap={3}\n * />\n * ```\n */\nexport const TypographyVariations: React.ComponentType< TypographyVariationsProps > =\n\twithGlobalStylesProvider( TypographyVariationsInternal );\n", "/**\n * WordPress dependencies\n */\nimport { _n, sprintf } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { backup } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationItem from '../sidebar-navigation-item';\n\nexport default function SidebarNavigationScreenDetailsFooter( {\n\trecord,\n\trevisionsCount,\n\t...otherProps\n} ) {\n\t/*\n\t * There might be other items in the future,\n\t * but for now it's just modified date.\n\t * Later we might render a list of items and isolate\n\t * the following logic.\n\t */\n\tconst hrefProps = {};\n\tconst lastRevisionId =\n\t\trecord?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ?? null;\n\n\t// Use incoming prop first, then the record's version history, if available.\n\trevisionsCount =\n\t\trevisionsCount ||\n\t\trecord?._links?.[ 'version-history' ]?.[ 0 ]?.count ||\n\t\t0;\n\n\t/*\n\t * Enable the revisions link if there is a last revision and there is more than one revision.\n\t * This link is used for theme assets, e.g., templates, which have no database record until they're edited.\n\t * For these files there's only a \"revision\" after they're edited twice,\n\t * which means the revision.php page won't display a proper diff.\n\t * See: https://github.com/WordPress/gutenberg/issues/49164.\n\t */\n\tif ( lastRevisionId && revisionsCount > 1 ) {\n\t\threfProps.href = addQueryArgs( 'revision.php', {\n\t\t\trevision: record?._links[ 'predecessor-version' ][ 0 ].id,\n\t\t} );\n\t\threfProps.as = 'a';\n\t}\n\treturn (\n\t\t<ItemGroup\n\t\t\tsize=\"large\"\n\t\t\tclassName=\"edit-site-sidebar-navigation-screen-details-footer\"\n\t\t>\n\t\t\t<SidebarNavigationItem\n\t\t\t\ticon={ backup }\n\t\t\t\t{ ...hrefProps }\n\t\t\t\t{ ...otherProps }\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t/* translators: %d: Number of Styles revisions. */\n\t\t\t\t\t_n( '%d Revision', '%d Revisions', revisionsCount ),\n\t\t\t\t\trevisionsCount\n\t\t\t\t) }\n\t\t\t</SidebarNavigationItem>\n\t\t</ItemGroup>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Notice, __experimentalSpacer as Spacer } from '@wordpress/components';\n\nexport default function SidebarNavigationScreenUnsupported() {\n\treturn (\n\t\t<Spacer padding={ 3 }>\n\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t{ __(\n\t\t\t\t\t'The theme you are currently using does not support this screen.'\n\t\t\t\t) }\n\t\t\t</Notice>\n\t\t</Spacer>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Button, __unstableMotion as motion } from '@wordpress/components';\nimport { useInstanceId, useReducedMotion } from '@wordpress/compose';\nimport {\n\tEditorKeyboardShortcutsRegister,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\nimport { useCallback } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { Icon, arrowUpLeft } from '@wordpress/icons';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuide from '../welcome-guide';\nimport CanvasLoader from '../canvas-loader';\nimport { unlock } from '../../lock-unlock';\nimport { useSpecificEditorSettings } from '../block-editor/use-site-editor-settings';\nimport PluginTemplateSettingPanel from '../plugin-template-setting-panel';\nimport { isPreviewingTheme } from '../../utils/is-previewing-theme';\nimport SaveButton from '../save-button';\nimport SavePanel from '../save-panel';\nimport SiteEditorMoreMenu from '../more-menu';\nimport SiteIcon from '../site-icon';\nimport useEditorIframeProps from '../block-editor/use-editor-iframe-props';\nimport useEditorTitle from './use-editor-title';\nimport { useIsSiteEditorLoading } from '../layout/hooks';\nimport { useAdaptEditorToCanvas } from './use-adapt-editor-to-canvas';\nimport {\n\tuseResolveEditedEntity,\n\tuseSyncDeprecatedEntityIntoState,\n} from './use-resolve-edited-entity';\nimport SitePreview from './site-preview';\n\nconst { Editor, BackButton } = unlock( editorPrivateApis );\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\n\nconst toggleHomeIconVariants = {\n\tedit: {\n\t\topacity: 0,\n\t\tscale: 0.2,\n\t},\n\thover: {\n\t\topacity: 1,\n\t\tscale: 1,\n\t\tclipPath: 'inset( 22% round 2px )',\n\t},\n};\n\nconst siteIconVariants = {\n\tedit: {\n\t\tclipPath: 'inset(0% round 0px)',\n\t},\n\thover: {\n\t\tclipPath: 'inset( 22% round 2px )',\n\t},\n\ttap: {\n\t\tclipPath: 'inset(0% round 0px)',\n\t},\n};\n\nfunction getListPathForPostType( postType ) {\n\tswitch ( postType ) {\n\t\tcase 'navigation':\n\t\t\treturn '/navigation';\n\t\tcase 'wp_block':\n\t\t\treturn '/pattern?postType=wp_block';\n\t\tcase 'wp_template_part':\n\t\t\treturn '/pattern?postType=wp_template_part';\n\t\tcase 'wp_template':\n\t\t\treturn '/template';\n\t\tcase 'page':\n\t\t\treturn '/page';\n\t\tcase 'post':\n\t\t\treturn '/';\n\t}\n\tthrow 'Unknown post type';\n}\n\nfunction getNavigationPath( location, postType ) {\n\tconst { path, name } = location;\n\tif (\n\t\t[\n\t\t\t'pattern-item',\n\t\t\t'template-part-item',\n\t\t\t'page-item',\n\t\t\t'template-item',\n\t\t\t'static-template-item',\n\t\t\t'post-item',\n\t\t].includes( name )\n\t) {\n\t\treturn getListPathForPostType( postType );\n\t}\n\treturn addQueryArgs( path, { canvas: undefined } );\n}\n\nexport default function EditSiteEditor( { isHomeRoute = false } ) {\n\tconst disableMotion = useReducedMotion();\n\tconst location = useLocation();\n\tconst { canvas = 'view' } = location.query;\n\tconst isLoading = useIsSiteEditorLoading();\n\tuseAdaptEditorToCanvas( canvas );\n\tconst entity = useResolveEditedEntity();\n\t// deprecated sync state with url\n\tuseSyncDeprecatedEntityIntoState( entity );\n\tconst { postType, postId, context } = entity;\n\tconst { isBlockBasedTheme, hasSiteIcon } = useSelect( ( select ) => {\n\t\tconst { getCurrentTheme, getEntityRecord } = select( coreDataStore );\n\t\tconst siteData = getEntityRecord( 'root', '__unstableBase', undefined );\n\n\t\treturn {\n\t\t\tisBlockBasedTheme: getCurrentTheme()?.is_block_theme,\n\t\t\thasSiteIcon: !! siteData?.site_icon_url,\n\t\t};\n\t}, [] );\n\tconst postWithTemplate = !! context?.postId;\n\tuseEditorTitle(\n\t\tpostWithTemplate ? context.postType : postType,\n\t\tpostWithTemplate ? context.postId : postId\n\t);\n\tconst _isPreviewingTheme = isPreviewingTheme();\n\tconst iframeProps = useEditorIframeProps();\n\tconst isEditMode = canvas === 'edit';\n\tconst loadingProgressId = useInstanceId(\n\t\tCanvasLoader,\n\t\t'edit-site-editor__loading-progress'\n\t);\n\n\tconst settings = useSpecificEditorSettings();\n\tconst { resetZoomLevel } = unlock( useDispatch( blockEditorStore ) );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst history = useHistory();\n\tconst onActionPerformed = useCallback(\n\t\t( actionId, items ) => {\n\t\t\tswitch ( actionId ) {\n\t\t\t\tcase 'move-to-trash':\n\t\t\t\tcase 'delete-post':\n\t\t\t\t\t{\n\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\tgetListPathForPostType(\n\t\t\t\t\t\t\t\tpostWithTemplate ? context.postType : postType\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'duplicate-post':\n\t\t\t\t\t{\n\t\t\t\t\t\tconst newItem = items[ 0 ];\n\t\t\t\t\t\tconst _title =\n\t\t\t\t\t\t\ttypeof newItem.title === 'string'\n\t\t\t\t\t\t\t\t? newItem.title\n\t\t\t\t\t\t\t\t: newItem.title?.rendered;\n\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Title of the created post or template, e.g: \"Hello world\".\n\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\t\t\tdecodeEntities( _title ) || __( '(no title)' )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit' ),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t\t\t\t\t\t`/${ newItem.type }/${ newItem.id }?canvas=edit`\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tpostType,\n\t\t\tcontext?.postType,\n\t\t\tpostWithTemplate,\n\t\t\thistory,\n\t\t\tcreateSuccessNotice,\n\t\t]\n\t);\n\n\tconst isReady = ! isLoading;\n\tconst transition = {\n\t\tduration: disableMotion ? 0 : 0.2,\n\t};\n\n\treturn ! isBlockBasedTheme && isHomeRoute ? (\n\t\t<SitePreview />\n\t) : (\n\t\t<>\n\t\t\t<EditorKeyboardShortcutsRegister />\n\t\t\t{ isEditMode && <BlockKeyboardShortcuts /> }\n\t\t\t{ ! isReady ? <CanvasLoader id={ loadingProgressId } /> : null }\n\t\t\t{ isEditMode && (\n\t\t\t\t<WelcomeGuide\n\t\t\t\t\tpostType={ postWithTemplate ? context.postType : postType }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isReady && (\n\t\t\t\t<Editor\n\t\t\t\t\tpostType={ postWithTemplate ? context.postType : postType }\n\t\t\t\t\tpostId={ postWithTemplate ? context.postId : postId }\n\t\t\t\t\ttemplateId={ postWithTemplate ? postId : undefined }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tclassName=\"edit-site-editor__editor-interface\"\n\t\t\t\t\tcustomSaveButton={\n\t\t\t\t\t\t_isPreviewingTheme && <SaveButton size=\"compact\" />\n\t\t\t\t\t}\n\t\t\t\t\tcustomSavePanel={ _isPreviewingTheme && <SavePanel /> }\n\t\t\t\t\tiframeProps={ iframeProps }\n\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\textraSidebarPanels={\n\t\t\t\t\t\t! postWithTemplate && (\n\t\t\t\t\t\t\t<PluginTemplateSettingPanel.Slot />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ isEditMode && (\n\t\t\t\t\t\t<BackButton>\n\t\t\t\t\t\t\t{ ( { length } ) =>\n\t\t\t\t\t\t\t\tlength <= 1 && (\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tclassName=\"edit-site-editor__view-mode-toggle\"\n\t\t\t\t\t\t\t\t\t\ttransition={ transition }\n\t\t\t\t\t\t\t\t\t\tanimate=\"edit\"\n\t\t\t\t\t\t\t\t\t\tinitial=\"edit\"\n\t\t\t\t\t\t\t\t\t\twhileHover=\"hover\"\n\t\t\t\t\t\t\t\t\t\twhileTap=\"tap\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Open Navigation' ) }\n\t\t\t\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\t\t\t\ttooltipPosition=\"middle right\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tresetZoomLevel();\n\t\t\t\t\t\t\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetNavigationPath(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpostWithTemplate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? context.postType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: postType\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransition:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'canvas-mode-view-transition',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\t\t\tvariants={ siteIconVariants }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<SiteIcon className=\"edit-site-editor__view-mode-toggle-icon\" />\n\t\t\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t'edit-site-editor__back-icon',\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t'has-site-icon':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thasSiteIcon,\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tvariants={ toggleHomeIconVariants }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ arrowUpLeft } />\n\t\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</BackButton>\n\t\t\t\t\t) }\n\t\t\t\t\t<SiteEditorMoreMenu />\n\t\t\t\t</Editor>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './image';\n\nexport default function WelcomeGuideEditor() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst { isActive, isBlockBasedTheme } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tisActive: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'welcomeGuide'\n\t\t\t),\n\t\t\tisBlockBasedTheme:\n\t\t\t\tselect( coreStore ).getCurrentTheme()?.is_block_theme,\n\t\t};\n\t}, [] );\n\n\tif ( ! isActive || ! isBlockBasedTheme ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide guide-editor\"\n\t\t\tcontentLabel={ __( 'Welcome to the site editor' ) }\n\t\t\tfinishButtonText={ __( 'Get started' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-site', 'welcomeGuide' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Edit your site' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Design everything on your site \u2014 from the header right down to the footer \u2014 using blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Click <StylesIconImage /> to start designing your blocks, and choose your typography, layout, and colors.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tStylesIconImage: (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\talt={ __( 'styles' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z' fill='%231E1E1E'/%3E%3C/svg%3E%0A\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n", "export default function WelcomeGuideImage( { nonAnimatedSrc, animatedSrc } ) {\n\treturn (\n\t\t<picture className=\"edit-site-welcome-guide__image\">\n\t\t\t<source\n\t\t\t\tsrcSet={ nonAnimatedSrc }\n\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t/>\n\t\t\t<img src={ animatedSrc } width=\"312\" height=\"240\" alt=\"\" />\n\t\t</picture>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function WelcomeGuidePage() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst isVisible = useSelect( ( select ) => {\n\t\tconst isPageActive = !! select( preferencesStore ).get(\n\t\t\t'core/edit-site',\n\t\t\t'welcomeGuidePage'\n\t\t);\n\t\tconst isEditorActive = !! select( preferencesStore ).get(\n\t\t\t'core/edit-site',\n\t\t\t'welcomeGuide'\n\t\t);\n\t\treturn isPageActive && ! isEditorActive;\n\t}, [] );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst heading = __( 'Editing a page' );\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide guide-page\"\n\t\t\tcontentLabel={ heading }\n\t\t\tfinishButtonText={ __( 'Continue' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-site', 'welcomeGuidePage' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tclassName=\"edit-site-welcome-guide__video\"\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\twidth=\"312\"\n\t\t\t\t\t\t\theight=\"240\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<source\n\t\t\t\t\t\t\t\tsrc=\"https://s.w.org/images/block-editor/editing-your-page.mp4\"\n\t\t\t\t\t\t\t\ttype=\"video/mp4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</video>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ heading }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-restricted-syntax -- 'sidebar' is a common web design term for layouts\n\t\t\t\t\t\t\t\t\t'It\u2019s now possible to edit page content in the site editor. To customise other parts of the page like the header and footer switch to editing the template using the settings sidebar.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as editorStore } from '@wordpress/editor';\n\nexport default function WelcomeGuideTemplate() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst { isActive, hasPreviousEntity } = useSelect( ( select ) => {\n\t\tconst { getEditorSettings } = select( editorStore );\n\t\tconst { get } = select( preferencesStore );\n\t\treturn {\n\t\t\tisActive: get( 'core/edit-site', 'welcomeGuideTemplate' ),\n\t\t\thasPreviousEntity:\n\t\t\t\t!! getEditorSettings().onNavigateToPreviousEntityRecord,\n\t\t};\n\t}, [] );\n\tconst isVisible = isActive && hasPreviousEntity;\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst heading = __( 'Editing a template' );\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide guide-template\"\n\t\t\tcontentLabel={ heading }\n\t\t\tfinishButtonText={ __( 'Continue' ) }\n\t\t\tonFinish={ () =>\n\t\t\t\ttoggle( 'core/edit-site', 'welcomeGuideTemplate' )\n\t\t\t}\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tclassName=\"edit-site-welcome-guide__video\"\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\twidth=\"312\"\n\t\t\t\t\t\t\theight=\"240\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<source\n\t\t\t\t\t\t\t\tsrc=\"https://s.w.org/images/block-editor/editing-your-template.mp4\"\n\t\t\t\t\t\t\t\ttype=\"video/mp4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</video>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ heading }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Note that the same template can be used by multiple pages, so any changes made here may affect other pages on the site. To switch back to editing the page content click the \u2018Back\u2019 button in the toolbar.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport WelcomeGuideEditor from './editor';\nimport WelcomeGuidePage from './page';\nimport WelcomeGuideTemplate from './template';\n\nexport default function WelcomeGuide( { postType } ) {\n\treturn (\n\t\t<>\n\t\t\t<WelcomeGuideEditor />\n\t\t\t{ postType === 'page' && <WelcomeGuidePage /> }\n\t\t\t{ postType === 'wp_template' && <WelcomeGuideTemplate /> }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis as componentsPrivateApis,\n\tProgressBar,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { Theme } = unlock( componentsPrivateApis );\nconst { useStyle } = unlock( editorPrivateApis );\n\nexport default function CanvasLoader( { id } ) {\n\tconst textColor = useStyle( 'color.text' );\n\tconst backgroundColor = useStyle( 'color.background' );\n\tconst { elapsed, total } = useSelect( ( select ) => {\n\t\tconst selectorsByStatus = select( coreStore ).countSelectorsByStatus();\n\t\tconst resolving = selectorsByStatus.resolving ?? 0;\n\t\tconst finished = selectorsByStatus.finished ?? 0;\n\t\treturn {\n\t\t\telapsed: finished,\n\t\t\ttotal: finished + resolving,\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<div className=\"edit-site-canvas-loader\">\n\t\t\t<Theme accent={ textColor } background={ backgroundColor }>\n\t\t\t\t<ProgressBar id={ id } max={ total } value={ elapsed } />\n\t\t\t</Theme>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { usePrevious } from '@wordpress/compose';\nimport { store as editorStore } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport useNavigateToEntityRecord from './use-navigate-to-entity-record';\nimport { FOCUSABLE_ENTITIES } from '../../utils/constants';\n\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\n\nfunction useNavigateToPreviousEntityRecord() {\n\tconst location = useLocation();\n\tconst previousLocation = usePrevious( location );\n\tconst history = useHistory();\n\tconst goBack = useMemo( () => {\n\t\tconst isFocusMode =\n\t\t\tlocation.query.focusMode ||\n\t\t\t( location?.params?.postId &&\n\t\t\t\tFOCUSABLE_ENTITIES.includes( location?.params?.postType ) );\n\t\tconst didComeFromEditorCanvas =\n\t\t\tpreviousLocation?.query.canvas === 'edit';\n\t\tconst showBackButton = isFocusMode && didComeFromEditorCanvas;\n\t\treturn showBackButton ? () => history.back() : undefined;\n\t\t// `previousLocation` changes when the component updates for any reason, not\n\t\t// just when location changes. Until this is fixed we can't add it to deps. See\n\t\t// https://github.com/WordPress/gutenberg/pull/58710#discussion_r1479219465.\n\t}, [ location, history ] );\n\treturn goBack;\n}\n\nexport function useSpecificEditorSettings() {\n\tconst { query } = useLocation();\n\tconst { canvas = 'view' } = query;\n\tconst onNavigateToEntityRecord = useNavigateToEntityRecord();\n\tconst { settings, currentPostIsTrashed } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( editSiteStore );\n\t\tconst { getCurrentPostAttribute } = select( editorStore );\n\t\treturn {\n\t\t\tsettings: getSettings(),\n\t\t\tcurrentPostIsTrashed:\n\t\t\t\tgetCurrentPostAttribute( 'status' ) === 'trash',\n\t\t};\n\t}, [] );\n\n\tconst onNavigateToPreviousEntityRecord =\n\t\tuseNavigateToPreviousEntityRecord();\n\tconst defaultEditorSettings = useMemo( () => {\n\t\treturn {\n\t\t\t...settings,\n\t\t\tstyles: [\n\t\t\t\t...settings.styles,\n\t\t\t\t{\n\t\t\t\t\t// Forming a \"block formatting context\" to prevent margin collapsing.\n\t\t\t\t\t// @see https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context\n\t\t\t\t\tcss:\n\t\t\t\t\t\tcanvas === 'view'\n\t\t\t\t\t\t\t? `body{min-height: 100vh; ${\n\t\t\t\t\t\t\t\t\tcurrentPostIsTrashed\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: 'cursor: pointer;'\n\t\t\t\t\t\t\t  }}`\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t},\n\t\t\t],\n\t\t\trichEditingEnabled: true,\n\t\t\tsupportsTemplateMode: true,\n\t\t\tfocusMode: canvas !== 'view',\n\t\t\tonNavigateToEntityRecord,\n\t\t\tonNavigateToPreviousEntityRecord,\n\t\t\tisPreviewMode: canvas === 'view',\n\t\t};\n\t}, [\n\t\tsettings,\n\t\tcanvas,\n\t\tcurrentPostIsTrashed,\n\t\tonNavigateToEntityRecord,\n\t\tonNavigateToPreviousEntityRecord,\n\t] );\n\n\treturn defaultEditorSettings;\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { useHistory } = unlock( routerPrivateApis );\n\nexport default function useNavigateToEntityRecord() {\n\tconst history = useHistory();\n\n\tconst onNavigateToEntityRecord = useCallback(\n\t\t( params ) => {\n\t\t\thistory.navigate(\n\t\t\t\t`/${ params.postType }/${ params.postId }?canvas=edit&focusMode=true`\n\t\t\t);\n\t\t},\n\t\t[ history ]\n\t);\n\n\treturn onNavigateToEntityRecord;\n}\n", "/**\n * Defines an extensibility slot for the Template sidebar.\n */\n\n/**\n * WordPress dependencies\n */\nimport { store as editorStore } from '@wordpress/editor';\nimport { useSelect } from '@wordpress/data';\nimport { createSlotFill } from '@wordpress/components';\nimport deprecated from '@wordpress/deprecated';\n\nconst { Fill, Slot } = createSlotFill( 'PluginTemplateSettingPanel' );\n\nconst PluginTemplateSettingPanel = ( { children } ) => {\n\tdeprecated( 'wp.editSite.PluginTemplateSettingPanel', {\n\t\tsince: '6.6',\n\t\tversion: '6.8',\n\t\talternative: 'wp.editor.PluginDocumentSettingPanel',\n\t} );\n\tconst isCurrentEntityTemplate = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getCurrentPostType() === 'wp_template',\n\t\t[]\n\t);\n\tif ( ! isCurrentEntityTemplate ) {\n\t\treturn null;\n\t}\n\treturn <Fill>{ children }</Fill>;\n};\n\nPluginTemplateSettingPanel.Slot = Slot;\n\n/**\n * Renders items in the Template Sidebar below the main information\n * like the Template Card.\n *\n * @deprecated since 6.6. Use `wp.editor.PluginDocumentSettingPanel` instead.\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { PluginTemplateSettingPanel } from '@wordpress/edit-site';\n *\n * const MyTemplateSettingTest = () => (\n * \t\t<PluginTemplateSettingPanel>\n *\t\t\t<p>Hello, World!</p>\n *\t\t</PluginTemplateSettingPanel>\n *\t);\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nexport default PluginTemplateSettingPanel;\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport SiteExport from './site-export';\nimport WelcomeGuideMenuItem from './welcome-guide-menu-item';\nimport { unlock } from '../../lock-unlock';\n\nconst { ToolsMoreMenuGroup, PreferencesModal } = unlock( editorPrivateApis );\n\nexport default function MoreMenu() {\n\treturn (\n\t\t<>\n\t\t\t<ToolsMoreMenuGroup>\n\t\t\t\t<SiteExport />\n\t\t\t\t<WelcomeGuideMenuItem />\n\t\t\t</ToolsMoreMenuGroup>\n\t\t\t<PreferencesModal />\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { download } from '@wordpress/icons';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { downloadBlob } from '@wordpress/blob';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function SiteExport() {\n\tconst canExport = useSelect( ( select ) => {\n\t\tconst targetHints =\n\t\t\tselect( coreStore ).getCurrentTheme()?._links?.[\n\t\t\t\t'wp:export-theme'\n\t\t\t]?.[ 0 ]?.targetHints ?? {};\n\n\t\treturn !! targetHints.allow?.includes( 'GET' );\n\t}, [] );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tif ( ! canExport ) {\n\t\treturn null;\n\t}\n\n\tasync function handleExport() {\n\t\ttry {\n\t\t\tconst response = await apiFetch( {\n\t\t\t\tpath: '/wp-block-editor/v1/export',\n\t\t\t\tparse: false,\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: 'application/zip',\n\t\t\t\t},\n\t\t\t} );\n\t\t\tconst blob = await response.blob();\n\t\t\tconst contentDisposition = response.headers.get(\n\t\t\t\t'content-disposition'\n\t\t\t);\n\t\t\tconst contentDispositionMatches =\n\t\t\t\tcontentDisposition.match( /=(.+)\\.zip/ );\n\t\t\tconst fileName = contentDispositionMatches[ 1 ]\n\t\t\t\t? contentDispositionMatches[ 1 ]\n\t\t\t\t: 'edit-site-export';\n\n\t\t\tdownloadBlob( fileName + '.zip', blob, 'application/zip' );\n\t\t} catch ( errorResponse ) {\n\t\t\tlet error = {};\n\t\t\ttry {\n\t\t\t\terror = await errorResponse.json();\n\t\t\t} catch ( e ) {}\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the site export.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\trole=\"menuitem\"\n\t\t\ticon={ download }\n\t\t\tonClick={ handleExport }\n\t\t\tinfo={ __(\n\t\t\t\t'Download your theme with updated templates and styles.'\n\t\t\t) }\n\t\t>\n\t\t\t{ _x( 'Export', 'site exporter menu item' ) }\n\t\t</MenuItem>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function WelcomeGuideMenuItem() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\treturn (\n\t\t<MenuItem onClick={ () => toggle( 'core/edit-site', 'welcomeGuide' ) }>\n\t\t\t{ __( 'Welcome Guide' ) }\n\t\t</MenuItem>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\nimport { useState, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { store as editorStore } from '@wordpress/editor';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\n\nexport default function useEditorIframeProps() {\n\tconst { query, path } = useLocation();\n\tconst history = useHistory();\n\tconst { canvas = 'view' } = query;\n\tconst currentPostIsTrashed = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getCurrentPostAttribute( 'status' ) ===\n\t\t\t'trash'\n\t\t);\n\t}, [] );\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\n\tuseEffect( () => {\n\t\tif ( canvas === 'edit' ) {\n\t\t\tsetIsFocused( false );\n\t\t}\n\t}, [ canvas ] );\n\n\t// In view mode, make the canvas iframe be perceived and behave as a button\n\t// to switch to edit mode, with a meaningful label and no title attribute.\n\tconst viewModeIframeProps = {\n\t\t'aria-label': __( 'Edit' ),\n\t\t'aria-disabled': currentPostIsTrashed,\n\t\ttitle: null,\n\t\trole: 'button',\n\t\ttabIndex: 0,\n\t\tonFocus: () => setIsFocused( true ),\n\t\tonBlur: () => setIsFocused( false ),\n\t\tonKeyDown: ( event ) => {\n\t\t\tconst { keyCode } = event;\n\t\t\tif (\n\t\t\t\t( keyCode === ENTER || keyCode === SPACE ) &&\n\t\t\t\t! currentPostIsTrashed\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\thistory.navigate( addQueryArgs( path, { canvas: 'edit' } ), {\n\t\t\t\t\ttransition: 'canvas-mode-edit-transition',\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\tonClick: () =>\n\t\t\thistory.navigate( addQueryArgs( path, { canvas: 'edit' } ), {\n\t\t\t\ttransition: 'canvas-mode-edit-transition',\n\t\t\t} ),\n\t\tonClickCapture: ( event ) => {\n\t\t\tif ( currentPostIsTrashed ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\treadonly: true,\n\t};\n\n\treturn {\n\t\tclassName: clsx( 'edit-site-visual-editor__editor-canvas', {\n\t\t\t'is-focused': isFocused && canvas === 'view',\n\t\t} ),\n\t\t...( canvas === 'view' ? viewModeIframeProps : {} ),\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport useTitle from '../routes/use-title';\nimport { POST_TYPE_LABELS, TEMPLATE_POST_TYPE } from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\n\nconst { getTemplateInfo } = unlock( editorPrivateApis );\n\nfunction useEditorTitle( postType, postId ) {\n\tconst { title, isLoaded } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEditedEntityRecord,\n\t\t\t\tgetCurrentTheme,\n\t\t\t\thasFinishedResolution,\n\t\t\t} = select( coreStore );\n\n\t\t\tif ( ! postId ) {\n\t\t\t\treturn { isLoaded: false };\n\t\t\t}\n\n\t\t\tconst _record = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t);\n\n\t\t\tconst { default_template_types: templateTypes = [] } =\n\t\t\t\tgetCurrentTheme() ?? {};\n\n\t\t\tconst templateInfo = getTemplateInfo( {\n\t\t\t\ttemplate: _record,\n\t\t\t\ttemplateTypes,\n\t\t\t} );\n\n\t\t\tconst _isLoaded = hasFinishedResolution( 'getEditedEntityRecord', [\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId,\n\t\t\t] );\n\n\t\t\treturn {\n\t\t\t\ttitle: templateInfo.title,\n\t\t\t\tisLoaded: _isLoaded,\n\t\t\t};\n\t\t},\n\t\t[ postType, postId ]\n\t);\n\n\tlet editorTitle;\n\tif ( isLoaded ) {\n\t\teditorTitle = sprintf(\n\t\t\t// translators: A breadcrumb trail for the Admin document title. 1: title of template being edited, 2: type of template (Template or Template Part).\n\t\t\t_x( '%1$s \u2039 %2$s', 'breadcrumb trail' ),\n\t\t\tdecodeEntities( title ),\n\t\t\tPOST_TYPE_LABELS[ postType ] ??\n\t\t\t\tPOST_TYPE_LABELS[ TEMPLATE_POST_TYPE ]\n\t\t);\n\t}\n\n\t// Only announce the title once the editor is ready to prevent \"Replace\"\n\t// action in <URLQueryController> from double-announcing.\n\tuseTitle( isLoaded && editorTitle );\n}\n\nexport default useEditorTitle;\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nexport default function useTitle( title ) {\n\tconst location = useLocation();\n\tconst siteTitle = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecord( 'root', 'site' )?.title,\n\t\t[]\n\t);\n\tconst isInitialLocationRef = useRef( true );\n\n\tuseEffect( () => {\n\t\tisInitialLocationRef.current = false;\n\t}, [ location ] );\n\n\tuseEffect( () => {\n\t\t// Don't update or announce the title for initial page load.\n\t\tif ( isInitialLocationRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( title && siteTitle ) {\n\t\t\t// @see https://github.com/WordPress/wordpress-develop/blob/94849898192d271d533e09756007e176feb80697/src/wp-admin/admin-header.php#L67-L68\n\t\t\tconst formattedTitle = sprintf(\n\t\t\t\t/* translators: Admin document title. 1: Admin screen name, 2: Network or site name. */\n\t\t\t\t__( '%1$s \u2039 %2$s \u2039 Editor \u2014 WordPress' ),\n\t\t\t\tdecodeEntities( title ),\n\t\t\t\tdecodeEntities( siteTitle )\n\t\t\t);\n\n\t\t\tdocument.title = formattedTitle;\n\n\t\t\t// Announce title on route change for screen readers.\n\t\t\tspeak( title, 'assertive' );\n\t\t}\n\t}, [ title, siteTitle, location ] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect, useRegistry } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as editorStore } from '@wordpress/editor';\nimport { useLayoutEffect } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport function useAdaptEditorToCanvas( canvas ) {\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\tconst {\n\t\tsetDeviceType,\n\t\tclosePublishSidebar,\n\t\tsetIsListViewOpened,\n\t\tsetIsInserterOpened,\n\t} = useDispatch( editorStore );\n\tconst { get: getPreference } = useSelect( preferencesStore );\n\tconst registry = useRegistry();\n\tuseLayoutEffect( () => {\n\t\tconst isMediumOrBigger =\n\t\t\twindow.matchMedia( '(min-width: 782px)' ).matches;\n\t\tregistry.batch( () => {\n\t\t\tclearSelectedBlock();\n\t\t\tsetDeviceType( 'Desktop' );\n\t\t\tclosePublishSidebar();\n\t\t\tsetIsInserterOpened( false );\n\n\t\t\t// Check if the block list view should be open by default.\n\t\t\t// If `distractionFree` mode is enabled, the block list view should not be open.\n\t\t\t// This behavior is disabled for small viewports.\n\t\t\tif (\n\t\t\t\tisMediumOrBigger &&\n\t\t\t\tcanvas === 'edit' &&\n\t\t\t\tgetPreference( 'core', 'showListViewByDefault' ) &&\n\t\t\t\t! getPreference( 'core', 'distractionFree' )\n\t\t\t) {\n\t\t\t\tsetIsListViewOpened( true );\n\t\t\t} else {\n\t\t\t\tsetIsListViewOpened( false );\n\t\t\t}\n\t\t} );\n\t}, [\n\t\tcanvas,\n\t\tregistry,\n\t\tclearSelectedBlock,\n\t\tsetDeviceType,\n\t\tclosePublishSidebar,\n\t\tsetIsInserterOpened,\n\t\tsetIsListViewOpened,\n\t\tgetPreference,\n\t] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n\tPATTERN_TYPES,\n} from '../../utils/constants';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nconst postTypesWithoutParentTemplate = [\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n\tPATTERN_TYPES.user,\n];\n\nconst authorizedPostTypes = [ 'page', 'post' ];\n\nfunction getPostType( name ) {\n\tlet postType;\n\tif ( name === 'navigation-item' ) {\n\t\tpostType = NAVIGATION_POST_TYPE;\n\t} else if ( name === 'pattern-item' ) {\n\t\tpostType = PATTERN_TYPES.user;\n\t} else if ( name === 'template-part-item' ) {\n\t\tpostType = TEMPLATE_PART_POST_TYPE;\n\t} else if ( name === 'templates' ) {\n\t\tpostType = TEMPLATE_POST_TYPE;\n\t} else if ( name === 'template-item' ) {\n\t\tpostType = TEMPLATE_POST_TYPE;\n\t} else if ( name === 'page-item' || name === 'pages' ) {\n\t\tpostType = 'page';\n\t} else if ( name === 'post-item' || name === 'posts' ) {\n\t\tpostType = 'post';\n\t}\n\n\treturn postType;\n}\n\nexport function useResolveEditedEntity() {\n\tconst { name, params = {}, query } = useLocation();\n\tconst { postId = query?.postId } = params; // Fallback to query param for postId for list view routes.\n\tconst postType = getPostType( name, postId ) ?? query?.postType;\n\n\tconst homePage = useSelect( ( select ) => {\n\t\tconst { getHomePage } = unlock( select( coreDataStore ) );\n\t\treturn getHomePage();\n\t}, [] );\n\n\t/**\n\t * This is a hook that recreates the logic to resolve a template for a given WordPress postID postTypeId\n\t * in order to match the frontend as closely as possible in the site editor.\n\t *\n\t * It is not possible to rely on the server logic because there maybe unsaved changes that impact the template resolution.\n\t */\n\tconst resolvedTemplateId = useSelect(\n\t\t( select ) => {\n\t\t\t// If we're rendering a post type that doesn't have a template\n\t\t\t// no need to resolve its template.\n\t\t\tif (\n\t\t\t\tpostTypesWithoutParentTemplate.includes( postType ) &&\n\t\t\t\tpostId\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't trigger resolution for multi-selected posts.\n\t\t\tif ( postId && postId.includes( ',' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { getTemplateId } = unlock( select( coreDataStore ) );\n\n\t\t\t// If we're rendering a specific page, we need to resolve its template.\n\t\t\t// The site editor only supports pages for now, not other CPTs.\n\t\t\tif (\n\t\t\t\tpostType &&\n\t\t\t\tpostId &&\n\t\t\t\tauthorizedPostTypes.includes( postType )\n\t\t\t) {\n\t\t\t\treturn getTemplateId( postType, postId );\n\t\t\t}\n\n\t\t\t// If we're rendering the home page, and we have a static home page, resolve its template.\n\t\t\tif ( homePage?.postType === 'page' ) {\n\t\t\t\treturn getTemplateId( 'page', homePage?.postId );\n\t\t\t}\n\n\t\t\tif ( homePage?.postType === 'wp_template' ) {\n\t\t\t\treturn homePage?.postId;\n\t\t\t}\n\t\t},\n\t\t[ homePage, postId, postType ]\n\t);\n\n\tconst context = useMemo( () => {\n\t\tif ( postTypesWithoutParentTemplate.includes( postType ) && postId ) {\n\t\t\treturn {};\n\t\t}\n\n\t\tif ( postType && postId && authorizedPostTypes.includes( postType ) ) {\n\t\t\treturn { postType, postId };\n\t\t}\n\t\t// TODO: for post types lists we should probably not render the front page, but maybe a placeholder\n\t\t// with a message like \"Select a page\" or something similar.\n\t\tif ( homePage?.postType === 'page' ) {\n\t\t\treturn { postType: 'page', postId: homePage?.postId };\n\t\t}\n\n\t\treturn {};\n\t}, [ homePage, postType, postId ] );\n\n\tif ( postTypesWithoutParentTemplate.includes( postType ) && postId ) {\n\t\treturn { isReady: true, postType, postId, context };\n\t}\n\n\tif ( !! homePage ) {\n\t\treturn {\n\t\t\tisReady: resolvedTemplateId !== undefined,\n\t\t\tpostType: TEMPLATE_POST_TYPE,\n\t\t\tpostId: resolvedTemplateId,\n\t\t\tcontext,\n\t\t};\n\t}\n\n\treturn { isReady: false };\n}\n\nexport function useSyncDeprecatedEntityIntoState( {\n\tpostType,\n\tpostId,\n\tcontext,\n\tisReady,\n} ) {\n\tconst { setEditedEntity } = useDispatch( editSiteStore );\n\n\tuseEffect( () => {\n\t\tif ( isReady ) {\n\t\t\t// setEditedEntity expects a string (because the postId used to be\n\t\t\t// the template slug, even for edited templates). Now the postId can\n\t\t\t// be a number (either because it's an auto-draft or edited\n\t\t\t// template). Passing a number could break plugins doing things like\n\t\t\t// `id.includes`. It would be way more complex to keep passing the\n\t\t\t// template slug, while also being incorrect, so the easiest\n\t\t\t// solution is to cast the postId to a string.\n\t\t\tsetEditedEntity( postType, String( postId ), context );\n\t\t}\n\t}, [ isReady, postType, postId, context, setEditedEntity ] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { focus } from '@wordpress/dom';\nimport { addQueryArgs } from '@wordpress/url';\n\nexport default function SitePreview() {\n\tconst siteUrl = useSelect( ( select ) => {\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst siteData = getEntityRecord( 'root', '__unstableBase' );\n\t\treturn siteData?.home;\n\t}, [] );\n\n\treturn (\n\t\t<iframe\n\t\t\tsrc={ addQueryArgs( siteUrl, {\n\t\t\t\t// Parameter for hiding the admin bar.\n\t\t\t\twp_site_preview: 1,\n\t\t\t} ) }\n\t\t\ttitle={ __( 'Site Preview' ) }\n\t\t\tstyle={ {\n\t\t\t\tdisplay: 'block',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tbackgroundColor: '#fff',\n\t\t\t} }\n\t\t\tonLoad={ ( event ) => {\n\t\t\t\t// Make interactive elements unclickable.\n\t\t\t\tconst document = event.target.contentDocument;\n\t\t\t\tconst focusableElements = focus.focusable.find( document );\n\t\t\t\tfocusableElements.forEach( ( element ) => {\n\t\t\t\t\telement.style.pointerEvents = 'none';\n\t\t\t\t\telement.tabIndex = -1;\n\t\t\t\t\telement.setAttribute( 'aria-hidden', 'true' );\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * Check if the classic theme supports the stylebook.\n *\n * @param {Object} siteData - The site data provided by the site editor route area resolvers.\n * @return {boolean} True if the stylebook is supported, false otherwise.\n */\nexport function isClassicThemeWithStyleBookSupport( siteData ) {\n\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\tconst supportsEditorStyles =\n\t\tsiteData.currentTheme?.theme_supports[ 'editor-styles' ];\n\t// This is a temp solution until the has_theme_json value is available for the current theme.\n\tconst hasThemeJson = siteData.editorSettings?.supportsLayout;\n\treturn ! isBlockTheme && ( supportsEditorStyles || hasThemeJson );\n}\n", "/**\n * Internal dependencies\n */\nimport SidebarNavigationScreenMain from '../sidebar-navigation-screen-main';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\nimport Editor from '../editor';\nimport { isClassicThemeWithStyleBookSupport } from './utils';\n\nexport const homeRoute = {\n\tname: 'home',\n\tpath: '/',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ||\n\t\t\t\tisClassicThemeWithStyleBookSupport( siteData ) ? (\n\t\t\t\t<SidebarNavigationScreenMain />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tpreview( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ||\n\t\t\t\tisClassicThemeWithStyleBookSupport( siteData ) ? (\n\t\t\t\t<Editor isHomeRoute />\n\t\t\t) : undefined;\n\t\t},\n\t\tmobile( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ||\n\t\t\t\tisClassicThemeWithStyleBookSupport( siteData ) ? (\n\t\t\t\t<SidebarNavigationScreenMain />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport { unlock } from '../../lock-unlock';\nimport SidebarNavigationScreenGlobalStyles from '../sidebar-navigation-screen-global-styles';\nimport SidebarGlobalStyles from '../sidebar-global-styles';\n\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\nconst { StyleBookPreview } = unlock( editorPrivateApis );\n\nfunction MobileGlobalStylesUI() {\n\tconst { query = {} } = useLocation();\n\tconst { canvas } = query;\n\n\tif ( canvas === 'edit' ) {\n\t\treturn <Editor />;\n\t}\n\n\treturn <SidebarGlobalStyles />;\n}\n\nfunction StylesPreviewArea() {\n\tconst { path, query } = useLocation();\n\tconst history = useHistory();\n\tconst isStylebook = query.preview === 'stylebook';\n\n\t// Get section from URL query params\n\tconst section = query.section ?? '/';\n\tconst onChangeSection = ( updatedSection ) => {\n\t\thistory.navigate(\n\t\t\taddQueryArgs( path, {\n\t\t\t\tsection: updatedSection,\n\t\t\t} )\n\t\t);\n\t};\n\n\tif ( isStylebook ) {\n\t\treturn (\n\t\t\t<StyleBookPreview\n\t\t\t\tpath={ section }\n\t\t\t\tonPathChange={ onChangeSection }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn <Editor />;\n}\n\nexport const stylesRoute = {\n\tname: 'styles',\n\tpath: '/styles',\n\tareas: {\n\t\tcontent: <SidebarGlobalStyles />,\n\t\tsidebar: <SidebarNavigationScreenGlobalStyles backPath=\"/\" />,\n\t\tpreview: <StylesPreviewArea />,\n\t\tmobile: <MobileGlobalStylesUI />,\n\t},\n\twidths: {\n\t\tcontent: 380,\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { Page } from '@wordpress/admin-ui';\nimport { __ } from '@wordpress/i18n';\nimport { useMemo, useState } from '@wordpress/element';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { Button, __experimentalHStack as HStack } from '@wordpress/components';\nimport { addQueryArgs, removeQueryArgs } from '@wordpress/url';\nimport { seen } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { GlobalStylesUIWrapper, GlobalStylesActionMenu } =\n\tunlock( editorPrivateApis );\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\n\nconst GlobalStylesPageActions = ( {\n\tisStyleBookOpened,\n\tsetIsStyleBookOpened,\n\tpath,\n\tonChangeSection,\n} ) => {\n\tconst history = useHistory();\n\n\treturn (\n\t\t<HStack>\n\t\t\t<Button\n\t\t\t\tisPressed={ isStyleBookOpened }\n\t\t\t\ticon={ seen }\n\t\t\t\tlabel={ __( 'Style Book' ) }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsStyleBookOpened( ! isStyleBookOpened );\n\t\t\t\t\tconst updatedPath = ! isStyleBookOpened\n\t\t\t\t\t\t? addQueryArgs( path, { preview: 'stylebook' } )\n\t\t\t\t\t\t: removeQueryArgs( path, 'preview' );\n\t\t\t\t\t// Navigate to the updated path.\n\t\t\t\t\thistory.navigate( updatedPath );\n\t\t\t\t} }\n\t\t\t\tsize=\"compact\"\n\t\t\t/>\n\t\t\t<GlobalStylesActionMenu\n\t\t\t\thideWelcomeGuide\n\t\t\t\tonChangePath={ onChangeSection }\n\t\t\t/>\n\t\t</HStack>\n\t);\n};\n\n/**\n * Hook to deal with navigation and location state.\n *\n * @return {Array}  The current section and a function to update it.\n */\nexport const useSection = () => {\n\tconst { path, query } = useLocation();\n\tconst history = useHistory();\n\treturn useMemo( () => {\n\t\treturn [\n\t\t\tquery.section ?? '/',\n\t\t\t( updatedSection ) => {\n\t\t\t\thistory.navigate(\n\t\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t\tsection: updatedSection,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t},\n\t\t];\n\t}, [ path, query.section, history ] );\n};\n\nexport default function SidebarGlobalStyles() {\n\tconst { path } = useLocation();\n\n\tconst [ isStyleBookOpened, setIsStyleBookOpened ] = useState(\n\t\tpath.includes( 'preview=stylebook' )\n\t);\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst [ section, onChangeSection ] = useSection();\n\n\treturn (\n\t\t<Page\n\t\t\tactions={\n\t\t\t\t! isMobileViewport ? (\n\t\t\t\t\t<GlobalStylesPageActions\n\t\t\t\t\t\tisStyleBookOpened={ isStyleBookOpened }\n\t\t\t\t\t\tsetIsStyleBookOpened={ setIsStyleBookOpened }\n\t\t\t\t\t\tpath={ path }\n\t\t\t\t\t\tonChangeSection={ onChangeSection }\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t}\n\t\t\tclassName=\"edit-site-styles\"\n\t\t\ttitle={ __( 'Styles' ) }\n\t\t>\n\t\t\t<GlobalStylesUIWrapper\n\t\t\t\tpath={ section }\n\t\t\t\tonPathChange={ onChangeSection }\n\t\t\t/>\n\t\t</Page>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport SidebarNavigationScreenNavigationMenus from '../sidebar-navigation-screen-navigation-menus';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nfunction MobileNavigationView() {\n\tconst { query = {} } = useLocation();\n\tconst { canvas = 'view' } = query;\n\n\treturn canvas === 'edit' ? (\n\t\t<Editor />\n\t) : (\n\t\t<SidebarNavigationScreenNavigationMenus backPath=\"/\" />\n\t);\n}\n\nexport const navigationRoute = {\n\tname: 'navigation',\n\tpath: '/navigation',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<SidebarNavigationScreenNavigationMenus backPath=\"/\" />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tpreview( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? <Editor /> : undefined;\n\t\t},\n\t\tmobile( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<MobileNavigationView />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useEntityRecords, store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\nimport { decodeEntities } from '@wordpress/html-entities';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\tSpinner,\n} from '@wordpress/components';\nimport { navigation } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport SidebarNavigationItem from '../sidebar-navigation-item';\nimport { PRELOADED_NAVIGATION_MENUS_QUERY } from './constants';\nimport SingleNavigationMenu from '../sidebar-navigation-screen-navigation-menu/single-navigation-menu';\nimport useNavigationMenuHandlers from '../sidebar-navigation-screen-navigation-menu/use-navigation-menu-handlers';\nimport { unlock } from '../../lock-unlock';\nimport { NAVIGATION_POST_TYPE } from '../../utils/constants';\n\n// Copied from packages/block-library/src/navigation/edit/navigation-menu-selector.js.\nfunction buildMenuLabel( title, id, status ) {\n\tif ( ! title ) {\n\t\t/* translators: %s: the index of the menu in the list of menus. */\n\t\treturn sprintf( __( '(no title %s)' ), id );\n\t}\n\n\tif ( status === 'publish' ) {\n\t\treturn decodeEntities( title );\n\t}\n\n\treturn sprintf(\n\t\t// translators: 1: title of the menu. 2: status of the menu (draft, pending, etc.).\n\t\t_x( '%1$s (%2$s)', 'menu label' ),\n\t\tdecodeEntities( title ),\n\t\tstatus\n\t);\n}\n\nexport default function SidebarNavigationScreenNavigationMenus( { backPath } ) {\n\tconst {\n\t\trecords: navigationMenus,\n\t\tisResolving: isResolvingNavigationMenus,\n\t\thasResolved: hasResolvedNavigationMenus,\n\t} = useEntityRecords(\n\t\t'postType',\n\t\tNAVIGATION_POST_TYPE,\n\t\tPRELOADED_NAVIGATION_MENUS_QUERY\n\t);\n\n\tconst isLoading =\n\t\tisResolvingNavigationMenus && ! hasResolvedNavigationMenus;\n\n\tconst { getNavigationFallbackId } = unlock( useSelect( coreStore ) );\n\tconst isCreatingNavigationFallback = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).isResolving( 'getNavigationFallbackId' ),\n\t\t[]\n\t);\n\n\tconst firstNavigationMenu = navigationMenus?.[ 0 ];\n\n\t// If there is no navigation menu found\n\t// then trigger fallback algorithm to create one.\n\tif (\n\t\t! firstNavigationMenu &&\n\t\t! isResolvingNavigationMenus &&\n\t\thasResolvedNavigationMenus &&\n\t\t// Ensure a fallback navigation is created only once\n\t\t! isCreatingNavigationFallback\n\t) {\n\t\tgetNavigationFallbackId();\n\t}\n\n\tconst { handleSave, handleDelete, handleDuplicate } =\n\t\tuseNavigationMenuHandlers();\n\n\tconst hasNavigationMenus = !! navigationMenus?.length;\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<SidebarNavigationScreenWrapper backPath={ backPath }>\n\t\t\t\t<Spinner className=\"edit-site-sidebar-navigation-screen-navigation-menus__loading\" />\n\t\t\t</SidebarNavigationScreenWrapper>\n\t\t);\n\t}\n\n\tif ( ! isLoading && ! hasNavigationMenus ) {\n\t\treturn (\n\t\t\t<SidebarNavigationScreenWrapper\n\t\t\t\tdescription={ __( 'No Navigation Menus found.' ) }\n\t\t\t\tbackPath={ backPath }\n\t\t\t/>\n\t\t);\n\t}\n\n\t// if single menu then render it\n\tif ( navigationMenus?.length === 1 ) {\n\t\treturn (\n\t\t\t<SingleNavigationMenu\n\t\t\t\tnavigationMenu={ firstNavigationMenu }\n\t\t\t\tbackPath={ backPath }\n\t\t\t\thandleDelete={ () => handleDelete( firstNavigationMenu ) }\n\t\t\t\thandleDuplicate={ () => handleDuplicate( firstNavigationMenu ) }\n\t\t\t\thandleSave={ ( edits ) =>\n\t\t\t\t\thandleSave( firstNavigationMenu, edits )\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<SidebarNavigationScreenWrapper backPath={ backPath }>\n\t\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-navigation-menus\">\n\t\t\t\t{ navigationMenus?.map( ( { id, title, status }, index ) => (\n\t\t\t\t\t<NavMenuItem\n\t\t\t\t\t\tpostId={ id }\n\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\twithChevron\n\t\t\t\t\t\ticon={ navigation }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ buildMenuLabel( title?.rendered, index + 1, status ) }\n\t\t\t\t\t</NavMenuItem>\n\t\t\t\t) ) }\n\t\t\t</ItemGroup>\n\t\t</SidebarNavigationScreenWrapper>\n\t);\n}\n\nexport function SidebarNavigationScreenWrapper( {\n\tchildren,\n\tactions,\n\ttitle,\n\tdescription,\n\tbackPath,\n} ) {\n\treturn (\n\t\t<SidebarNavigationScreen\n\t\t\ttitle={ title || __( 'Navigation' ) }\n\t\t\tactions={ actions }\n\t\t\tdescription={ description || __( 'Manage your Navigation Menus.' ) }\n\t\t\tbackPath={ backPath }\n\t\t\tcontent={ children }\n\t\t/>\n\t);\n}\n\nconst NavMenuItem = ( { postId, ...props } ) => {\n\treturn (\n\t\t<SidebarNavigationItem\n\t\t\tto={ `/wp_navigation/${ postId }` }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n};\n", "// This requested is preloaded in `gutenberg_preload_navigation_posts`.\n// As unbounded queries are limited to 100 by `fetchAllMiddleware`\n// on apiFetch this query is limited to 100.\n// These parameters must be kept aligned with those in\n// lib/compat/wordpress-6.3/navigation-block-preloading.php\n// and\n// block-library/src/navigation/constants.js\nexport const PRELOADED_NAVIGATION_MENUS_QUERY = {\n\tper_page: 100,\n\tstatus: [ 'publish', 'draft' ],\n\torder: 'desc',\n\torderby: 'date',\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\n/**\n * Internal dependencies\n */\nimport { SidebarNavigationScreenWrapper } from '../sidebar-navigation-screen-navigation-menus';\nimport ScreenNavigationMoreMenu from './more-menu';\nimport NavigationMenuEditor from './navigation-menu-editor';\nimport buildNavigationLabel from '../sidebar-navigation-screen-navigation-menus/build-navigation-label';\n\nexport default function SingleNavigationMenu( {\n\tnavigationMenu,\n\tbackPath,\n\thandleDelete,\n\thandleDuplicate,\n\thandleSave,\n} ) {\n\tconst menuTitle = navigationMenu?.title?.rendered;\n\n\treturn (\n\t\t<SidebarNavigationScreenWrapper\n\t\t\tactions={\n\t\t\t\t<>\n\t\t\t\t\t<ScreenNavigationMoreMenu\n\t\t\t\t\t\tmenuId={ navigationMenu?.id }\n\t\t\t\t\t\tmenuTitle={ decodeEntities( menuTitle ) }\n\t\t\t\t\t\tonDelete={ handleDelete }\n\t\t\t\t\t\tonSave={ handleSave }\n\t\t\t\t\t\tonDuplicate={ handleDuplicate }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t}\n\t\t\tbackPath={ backPath }\n\t\t\ttitle={ buildNavigationLabel(\n\t\t\t\tnavigationMenu?.title,\n\t\t\t\tnavigationMenu?.id,\n\t\t\t\tnavigationMenu?.status\n\t\t\t) }\n\t\t\tdescription={ __(\n\t\t\t\t'Navigation Menus are a curated collection of blocks that allow visitors to get around your site.'\n\t\t\t) }\n\t\t>\n\t\t\t<NavigationMenuEditor navigationMenuId={ navigationMenu?.id } />\n\t\t</SidebarNavigationScreenWrapper>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { DropdownMenu, MenuItem, MenuGroup } from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport RenameModal from './rename-modal';\nimport DeleteConfirmDialog from './delete-confirm-dialog';\nimport { unlock } from '../../lock-unlock';\n\nconst { useHistory } = unlock( routerPrivateApis );\n\nconst POPOVER_PROPS = {\n\tposition: 'bottom right',\n};\n\nexport default function ScreenNavigationMoreMenu( props ) {\n\tconst { onDelete, onSave, onDuplicate, menuTitle, menuId } = props;\n\n\tconst [ renameModalOpen, setRenameModalOpen ] = useState( false );\n\tconst [ deleteConfirmDialogOpen, setDeleteConfirmDialogOpen ] =\n\t\tuseState( false );\n\n\tconst history = useHistory();\n\n\tconst closeModals = () => {\n\t\tsetRenameModalOpen( false );\n\t\tsetDeleteConfirmDialogOpen( false );\n\t};\n\tconst openRenameModal = () => setRenameModalOpen( true );\n\tconst openDeleteConfirmDialog = () => setDeleteConfirmDialogOpen( true );\n\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\tclassName=\"sidebar-navigation__more-menu\"\n\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\topenRenameModal();\n\t\t\t\t\t\t\t\t// Close the dropdown after opening the modal.\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Rename' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t\t\t`/wp_navigation/${ menuId }?canvas=edit`\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonDuplicate();\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Duplicate' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\topenDeleteConfirmDialog();\n\n\t\t\t\t\t\t\t\t// Close the dropdown after opening the modal.\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t\t{ deleteConfirmDialogOpen && (\n\t\t\t\t<DeleteConfirmDialog\n\t\t\t\t\tonClose={ closeModals }\n\t\t\t\t\tonConfirm={ onDelete }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ renameModalOpen && (\n\t\t\t\t<RenameModal\n\t\t\t\t\tonClose={ closeModals }\n\t\t\t\t\tmenuTitle={ menuTitle }\n\t\t\t\t\tonSave={ onSave }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tButton,\n\tTextControl,\n\tModal,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\n\nconst notEmptyString = ( testString ) => testString?.trim()?.length > 0;\n\nexport default function RenameModal( { menuTitle, onClose, onSave } ) {\n\tconst [ editedMenuTitle, setEditedMenuTitle ] = useState( menuTitle );\n\n\tconst titleHasChanged = editedMenuTitle !== menuTitle;\n\n\tconst isEditedMenuTitleValid =\n\t\ttitleHasChanged && notEmptyString( editedMenuTitle );\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Rename' ) }\n\t\t\tonRequestClose={ onClose }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form className=\"sidebar-navigation__rename-modal-form\">\n\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ editedMenuTitle }\n\t\t\t\t\t\tplaceholder={ __( 'Navigation title' ) }\n\t\t\t\t\t\tonChange={ setEditedMenuTitle }\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\tdisabled={ ! isEditedMenuTitleValid }\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tonClick={ ( e ) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\t\t\tif ( ! isEditedMenuTitleValid ) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonSave( { title: editedMenuTitle } );\n\n\t\t\t\t\t\t\t\t// Immediate close avoids ability to hit save multiple times.\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function DeleteConfirmDialog( { onClose, onConfirm } ) {\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen\n\t\t\tonConfirm={ () => {\n\t\t\t\tonConfirm();\n\n\t\t\t\t// Immediate close avoids ability to hit delete multiple times.\n\t\t\t\tonClose();\n\t\t\t} }\n\t\t\tonCancel={ onClose }\n\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ __( 'Are you sure you want to delete this Navigation Menu?' ) }\n\t\t</ConfirmDialog>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { BlockEditorProvider } from '@wordpress/block-editor';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editSiteStore } from '../../store';\nimport NavigationMenuContent from '../sidebar-navigation-screen-navigation-menus/navigation-menu-content';\n\nconst noop = () => {};\n\nexport default function NavigationMenuEditor( { navigationMenuId } ) {\n\tconst { storedSettings } = useSelect( ( select ) => {\n\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\n\t\treturn {\n\t\t\tstoredSettings: getSettings(),\n\t\t};\n\t}, [] );\n\n\tconst blocks = useMemo( () => {\n\t\tif ( ! navigationMenuId ) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn [ createBlock( 'core/navigation', { ref: navigationMenuId } ) ];\n\t}, [ navigationMenuId ] );\n\n\tif ( ! navigationMenuId || ! blocks?.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockEditorProvider\n\t\t\tsettings={ storedSettings }\n\t\t\tvalue={ blocks }\n\t\t\tonChange={ noop }\n\t\t\tonInput={ noop }\n\t\t>\n\t\t\t<div className=\"edit-site-sidebar-navigation-screen-navigation-menus__content\">\n\t\t\t\t<NavigationMenuContent rootClientId={ blocks[ 0 ].clientId } />\n\t\t\t</div>\n\t\t</BlockEditorProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n\tBlockList,\n} from '@wordpress/block-editor';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { createBlock } from '@wordpress/blocks';\nimport { useCallback } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport LeafMoreMenu from './leaf-more-menu';\n\nconst { PrivateListView } = unlock( blockEditorPrivateApis );\n\n// Needs to be kept in sync with the query used at packages/block-library/src/page-list/edit.js.\nconst MAX_PAGE_COUNT = 100;\nconst PAGES_QUERY = [\n\t'postType',\n\t'page',\n\t{\n\t\tper_page: MAX_PAGE_COUNT,\n\t\t_fields: [ 'id', 'link', 'menu_order', 'parent', 'title', 'type' ],\n\t\t// TODO: When https://core.trac.wordpress.org/ticket/39037 REST API support for multiple orderby\n\t\t// values is resolved, update 'orderby' to [ 'menu_order', 'post_title' ] to provide a consistent\n\t\t// sort.\n\t\torderby: 'menu_order',\n\t\torder: 'asc',\n\t},\n];\n\nexport default function NavigationMenuContent( { rootClientId } ) {\n\tconst { listViewRootClientId, isLoading } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tareInnerBlocksControlled,\n\t\t\t\tgetBlockName,\n\t\t\t\tgetBlockCount,\n\t\t\t\tgetBlockOrder,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst { isResolving } = select( coreStore );\n\n\t\t\tconst blockClientIds = getBlockOrder( rootClientId );\n\n\t\t\tconst hasOnlyPageListBlock =\n\t\t\t\tblockClientIds.length === 1 &&\n\t\t\t\tgetBlockName( blockClientIds[ 0 ] ) === 'core/page-list';\n\t\t\tconst pageListHasBlocks =\n\t\t\t\thasOnlyPageListBlock &&\n\t\t\t\tgetBlockCount( blockClientIds[ 0 ] ) > 0;\n\n\t\t\tconst isLoadingPages = isResolving(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tPAGES_QUERY\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tlistViewRootClientId: pageListHasBlocks\n\t\t\t\t\t? blockClientIds[ 0 ]\n\t\t\t\t\t: rootClientId,\n\t\t\t\t// This is a small hack to wait for the navigation block\n\t\t\t\t// to actually load its inner blocks.\n\t\t\t\tisLoading:\n\t\t\t\t\t! areInnerBlocksControlled( rootClientId ) ||\n\t\t\t\t\tisLoadingPages,\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\tconst { replaceBlock, __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst offCanvasOnselect = useCallback(\n\t\t( block ) => {\n\t\t\tif (\n\t\t\t\tblock.name === 'core/navigation-link' &&\n\t\t\t\t! block.attributes.url\n\t\t\t) {\n\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\treplaceBlock(\n\t\t\t\t\tblock.clientId,\n\t\t\t\t\tcreateBlock( 'core/navigation-link', block.attributes )\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ __unstableMarkNextChangeAsNotPersistent, replaceBlock ]\n\t);\n\n\t// The hidden block is needed because it makes block edit side effects trigger.\n\t// For example a navigation page list load its items has an effect on edit to load its items.\n\treturn (\n\t\t<>\n\t\t\t{ ! isLoading && (\n\t\t\t\t<PrivateListView\n\t\t\t\t\trootClientId={ listViewRootClientId }\n\t\t\t\t\tonSelect={ offCanvasOnselect }\n\t\t\t\t\tblockSettingsMenu={ LeafMoreMenu }\n\t\t\t\t\tshowAppender={ false }\n\t\t\t\t\tisExpanded\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div className=\"edit-site-sidebar-navigation-screen-navigation-menus__helper-block-editor\">\n\t\t\t\t<BlockList />\n\t\t\t</div>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\n\nimport { chevronUp, chevronDown, moreVertical } from '@wordpress/icons';\nimport { DropdownMenu, MenuItem, MenuGroup } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useCallback } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { BlockTitle, store as blockEditorStore } from '@wordpress/block-editor';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\nconst POPOVER_PROPS = {\n\tclassName: 'block-editor-block-settings-menu__popover',\n\tplacement: 'bottom-start',\n};\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\n\nexport default function LeafMoreMenu( props ) {\n\tconst history = useHistory();\n\tconst { path } = useLocation();\n\tconst { block } = props;\n\tconst { clientId } = block;\n\tconst { moveBlocksDown, moveBlocksUp, removeBlocks } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst removeLabel = sprintf(\n\t\t/* translators: %s: block name */\n\t\t__( 'Remove %s' ),\n\t\tBlockTitle( { clientId, maximumLength: 25 } )\n\t);\n\n\tconst goToLabel = sprintf(\n\t\t/* translators: %s: block name */\n\t\t__( 'Go to %s' ),\n\t\tBlockTitle( { clientId, maximumLength: 25 } )\n\t);\n\n\tconst rootClientId = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\n\n\t\t\treturn getBlockRootClientId( clientId );\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst onGoToPage = useCallback(\n\t\t( selectedBlock ) => {\n\t\t\tconst { attributes, name } = selectedBlock;\n\t\t\tif (\n\t\t\t\tattributes.kind === 'post-type' &&\n\t\t\t\tattributes.id &&\n\t\t\t\tattributes.type &&\n\t\t\t\thistory\n\t\t\t) {\n\t\t\t\thistory.navigate(\n\t\t\t\t\t`/${ attributes.type }/${ attributes.id }?canvas=edit`,\n\t\t\t\t\t{\n\t\t\t\t\t\tstate: { backPath: path },\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\tif ( name === 'core/page-list-item' && attributes.id && history ) {\n\t\t\t\thistory.navigate( `/page/${ attributes.id }?canvas=edit`, {\n\t\t\t\t\tstate: { backPath: path },\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\t[ path, history ]\n\t);\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ __( 'Options' ) }\n\t\t\tclassName=\"block-editor-block-settings-menu\"\n\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\tnoIcons\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\ticon={ chevronUp }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tmoveBlocksUp( [ clientId ], rootClientId );\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Move up' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tmoveBlocksDown( [ clientId ], rootClientId );\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Move down' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t{ block.attributes?.type === 'page' &&\n\t\t\t\t\t\t\tblock.attributes?.id && (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonGoToPage( block );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ goToLabel }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tremoveBlocks( [ clientId ], false );\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ removeLabel }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n// Copied from packages/block-library/src/navigation/edit/navigation-menu-selector.js.\nexport default function buildNavigationLabel( title, id, status ) {\n\tif ( ! title?.rendered ) {\n\t\t/* translators: %s: the index of the menu in the list of menus. */\n\t\treturn sprintf( __( '(no title %s)' ), id );\n\t}\n\n\tif ( status === 'publish' ) {\n\t\treturn decodeEntities( title?.rendered );\n\t}\n\n\treturn sprintf(\n\t\t// translators: 1: title of the menu. 2: status of the menu (draft, pending, etc.).\n\t\t_x( '%1$s (%2$s)', 'menu label' ),\n\t\tdecodeEntities( title?.rendered ),\n\t\tstatus\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport { postType } from '.';\nimport { NAVIGATION_POST_TYPE } from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\n\nconst { useHistory } = unlock( routerPrivateApis );\n\nfunction useDeleteNavigationMenu() {\n\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst history = useHistory();\n\n\tconst handleDelete = async ( navigationMenu ) => {\n\t\tconst postId = navigationMenu?.id;\n\t\ttry {\n\t\t\tawait deleteEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId,\n\t\t\t\t{\n\t\t\t\t\tforce: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t}\n\t\t\t);\n\t\t\tcreateSuccessNotice(\n\t\t\t\t__( 'Navigation Menu successfully deleted.' ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t\thistory.navigate( '/navigation' );\n\t\t} catch ( error ) {\n\t\t\tcreateErrorNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: error message describing why the navigation menu could not be deleted. */\n\t\t\t\t\t__( `Unable to delete Navigation Menu (%s).` ),\n\t\t\t\t\terror?.message\n\t\t\t\t),\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n\n\treturn handleDelete;\n}\n\nfunction useSaveNavigationMenu() {\n\tconst { getEditedEntityRecord } = useSelect( ( select ) => {\n\t\tconst { getEditedEntityRecord: getEditedEntityRecordSelector } =\n\t\t\tselect( coreStore );\n\n\t\treturn {\n\t\t\tgetEditedEntityRecord: getEditedEntityRecordSelector,\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\teditEntityRecord,\n\t\t__experimentalSaveSpecifiedEntityEdits: saveSpecifiedEntityEdits,\n\t} = useDispatch( coreStore );\n\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tconst handleSave = async ( navigationMenu, edits ) => {\n\t\tif ( ! edits ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst postId = navigationMenu?.id;\n\t\t// Prepare for revert in case of error.\n\t\tconst originalRecord = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tNAVIGATION_POST_TYPE,\n\t\t\tpostId\n\t\t);\n\n\t\t// Apply the edits.\n\t\teditEntityRecord( 'postType', postType, postId, edits );\n\n\t\tconst recordPropertiesToSave = Object.keys( edits );\n\n\t\t// Attempt to persist.\n\t\ttry {\n\t\t\tawait saveSpecifiedEntityEdits(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId,\n\t\t\t\trecordPropertiesToSave,\n\t\t\t\t{\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t}\n\t\t\t);\n\t\t\tcreateSuccessNotice( __( 'Renamed Navigation Menu' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\t// Revert to original in case of error.\n\t\t\teditEntityRecord( 'postType', postType, postId, originalRecord );\n\n\t\t\tcreateErrorNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: error message describing why the navigation menu could not be renamed. */\n\t\t\t\t\t__( `Unable to rename Navigation Menu (%s).` ),\n\t\t\t\t\terror?.message\n\t\t\t\t),\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n\n\treturn handleSave;\n}\n\nfunction useDuplicateNavigationMenu() {\n\tconst history = useHistory();\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tconst handleDuplicate = async ( navigationMenu ) => {\n\t\tconst menuTitle =\n\t\t\tnavigationMenu?.title?.rendered || navigationMenu?.slug;\n\n\t\ttry {\n\t\t\tconst savedRecord = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\t{\n\t\t\t\t\ttitle: sprintf(\n\t\t\t\t\t\t/* translators: %s: Navigation menu title */\n\t\t\t\t\t\t_x( '%s (Copy)', 'navigation menu' ),\n\t\t\t\t\t\tmenuTitle\n\t\t\t\t\t),\n\t\t\t\t\tcontent: navigationMenu?.content?.raw,\n\t\t\t\t\tstatus: 'publish',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( savedRecord ) {\n\t\t\t\tcreateSuccessNotice( __( 'Duplicated Navigation Menu' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\thistory.navigate( `/wp_navigation/${ savedRecord.id }` );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tcreateErrorNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: error message describing why the navigation menu could not be deleted. */\n\t\t\t\t\t__( `Unable to duplicate Navigation Menu (%s).` ),\n\t\t\t\t\terror?.message\n\t\t\t\t),\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n\n\treturn handleDuplicate;\n}\n\nexport default function useNavigationMenuHandlers() {\n\treturn {\n\t\thandleDelete: useDeleteNavigationMenu(),\n\t\thandleSave: useSaveNavigationMenu(),\n\t\thandleDuplicate: useDuplicateNavigationMenu(),\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\nimport { Spinner } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport { SidebarNavigationScreenWrapper } from '../sidebar-navigation-screen-navigation-menus';\nimport ScreenNavigationMoreMenu from './more-menu';\nimport SingleNavigationMenu from './single-navigation-menu';\nimport useNavigationMenuHandlers from './use-navigation-menu-handlers';\nimport buildNavigationLabel from '../sidebar-navigation-screen-navigation-menus/build-navigation-label';\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nexport const postType = `wp_navigation`;\n\nexport default function SidebarNavigationScreenNavigationMenu( { backPath } ) {\n\tconst {\n\t\tparams: { postId },\n\t} = useLocation();\n\n\tconst { record: navigationMenu, isResolving } = useEntityRecord(\n\t\t'postType',\n\t\tpostType,\n\t\tpostId\n\t);\n\n\tconst { isSaving, isDeleting } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isSavingEntityRecord, isDeletingEntityRecord } =\n\t\t\t\tselect( coreStore );\n\n\t\t\treturn {\n\t\t\t\tisSaving: isSavingEntityRecord( 'postType', postType, postId ),\n\t\t\t\tisDeleting: isDeletingEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ postId ]\n\t);\n\n\tconst isLoading = isResolving || isSaving || isDeleting;\n\n\tconst menuTitle = navigationMenu?.title?.rendered || navigationMenu?.slug;\n\n\tconst { handleSave, handleDelete, handleDuplicate } =\n\t\tuseNavigationMenuHandlers();\n\n\tconst _handleDelete = () => handleDelete( navigationMenu );\n\tconst _handleSave = ( edits ) => handleSave( navigationMenu, edits );\n\tconst _handleDuplicate = () => handleDuplicate( navigationMenu );\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<SidebarNavigationScreenWrapper\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Navigation Menus are a curated collection of blocks that allow visitors to get around your site.'\n\t\t\t\t) }\n\t\t\t\tbackPath={ backPath }\n\t\t\t>\n\t\t\t\t<Spinner className=\"edit-site-sidebar-navigation-screen-navigation-menus__loading\" />\n\t\t\t</SidebarNavigationScreenWrapper>\n\t\t);\n\t}\n\n\tif ( ! isLoading && ! navigationMenu ) {\n\t\treturn (\n\t\t\t<SidebarNavigationScreenWrapper\n\t\t\t\tdescription={ __( 'Navigation Menu missing.' ) }\n\t\t\t\tbackPath={ backPath }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( ! navigationMenu?.content?.raw ) {\n\t\treturn (\n\t\t\t<SidebarNavigationScreenWrapper\n\t\t\t\tactions={\n\t\t\t\t\t<ScreenNavigationMoreMenu\n\t\t\t\t\t\tmenuId={ navigationMenu?.id }\n\t\t\t\t\t\tmenuTitle={ decodeEntities( menuTitle ) }\n\t\t\t\t\t\tonDelete={ _handleDelete }\n\t\t\t\t\t\tonSave={ _handleSave }\n\t\t\t\t\t\tonDuplicate={ _handleDuplicate }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tbackPath={ backPath }\n\t\t\t\ttitle={ buildNavigationLabel(\n\t\t\t\t\tnavigationMenu?.title,\n\t\t\t\t\tnavigationMenu?.id,\n\t\t\t\t\tnavigationMenu?.status\n\t\t\t\t) }\n\t\t\t\tdescription={ __( 'This Navigation Menu is empty.' ) }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<SingleNavigationMenu\n\t\t\tnavigationMenu={ navigationMenu }\n\t\t\tbackPath={ backPath }\n\t\t\thandleDelete={ _handleDelete }\n\t\t\thandleSave={ _handleSave }\n\t\t\thandleDuplicate={ _handleDuplicate }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport SidebarNavigationScreenNavigationMenu from '../sidebar-navigation-screen-navigation-menu';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nfunction MobileNavigationItemView() {\n\tconst { query = {} } = useLocation();\n\tconst { canvas = 'view' } = query;\n\n\treturn canvas === 'edit' ? (\n\t\t<Editor />\n\t) : (\n\t\t<SidebarNavigationScreenNavigationMenu backPath=\"/navigation\" />\n\t);\n}\n\nexport const navigationItemRoute = {\n\tname: 'navigation-item',\n\tpath: '/wp_navigation/:postId',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<SidebarNavigationScreenNavigationMenu backPath=\"/navigation\" />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tpreview( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<Editor />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tmobile( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<MobileNavigationItemView />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n} from '@wordpress/components';\nimport { getTemplatePartIcon } from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\nimport { file } from '@wordpress/icons';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport CategoryItem from './category-item';\nimport {\n\tPATTERN_DEFAULT_CATEGORY,\n\tPATTERN_TYPES,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_PART_ALL_AREAS_CATEGORY,\n} from '../../utils/constants';\nimport usePatternCategories from './use-pattern-categories';\nimport useTemplatePartAreas from './use-template-part-areas';\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nfunction CategoriesGroup( {\n\ttemplatePartAreas,\n\tpatternCategories,\n\tcurrentCategory,\n\tcurrentType,\n} ) {\n\tconst [ allPatterns, ...otherPatterns ] = patternCategories;\n\n\treturn (\n\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-patterns__group\">\n\t\t\t<CategoryItem\n\t\t\t\tkey=\"all\"\n\t\t\t\tcount={ Object.values( templatePartAreas )\n\t\t\t\t\t.map( ( { templateParts } ) => templateParts?.length || 0 )\n\t\t\t\t\t.reduce( ( acc, val ) => acc + val, 0 ) }\n\t\t\t\ticon={ getTemplatePartIcon() } /* no name, so it provides the fallback icon */\n\t\t\t\tlabel={ __( 'All template parts' ) }\n\t\t\t\tid={ TEMPLATE_PART_ALL_AREAS_CATEGORY }\n\t\t\t\ttype={ TEMPLATE_PART_POST_TYPE }\n\t\t\t\tisActive={\n\t\t\t\t\tcurrentCategory === TEMPLATE_PART_ALL_AREAS_CATEGORY &&\n\t\t\t\t\tcurrentType === TEMPLATE_PART_POST_TYPE\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ Object.entries( templatePartAreas ).map(\n\t\t\t\t( [ area, { label, templateParts } ] ) => (\n\t\t\t\t\t<CategoryItem\n\t\t\t\t\t\tkey={ area }\n\t\t\t\t\t\tcount={ templateParts?.length }\n\t\t\t\t\t\ticon={ getTemplatePartIcon( area ) }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\tid={ area }\n\t\t\t\t\t\ttype={ TEMPLATE_PART_POST_TYPE }\n\t\t\t\t\t\tisActive={\n\t\t\t\t\t\t\tcurrentCategory === area &&\n\t\t\t\t\t\t\tcurrentType === TEMPLATE_PART_POST_TYPE\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t) }\n\t\t\t<div className=\"edit-site-sidebar-navigation-screen-patterns__divider\" />\n\t\t\t{ allPatterns && (\n\t\t\t\t<CategoryItem\n\t\t\t\t\tkey={ allPatterns.name }\n\t\t\t\t\tcount={ allPatterns.count }\n\t\t\t\t\tlabel={ allPatterns.label }\n\t\t\t\t\ticon={ file }\n\t\t\t\t\tid={ allPatterns.name }\n\t\t\t\t\ttype={ PATTERN_TYPES.user }\n\t\t\t\t\tisActive={\n\t\t\t\t\t\tcurrentCategory === `${ allPatterns.name }` &&\n\t\t\t\t\t\tcurrentType === PATTERN_TYPES.user\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ otherPatterns.map( ( category ) => (\n\t\t\t\t<CategoryItem\n\t\t\t\t\tkey={ category.name }\n\t\t\t\t\tcount={ category.count }\n\t\t\t\t\tlabel={ category.label }\n\t\t\t\t\ticon={ file }\n\t\t\t\t\tid={ category.name }\n\t\t\t\t\ttype={ PATTERN_TYPES.user }\n\t\t\t\t\tisActive={\n\t\t\t\t\t\tcurrentCategory === `${ category.name }` &&\n\t\t\t\t\t\tcurrentType === PATTERN_TYPES.user\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</ItemGroup>\n\t);\n}\n\nexport default function SidebarNavigationScreenPatterns( { backPath } ) {\n\tconst {\n\t\tquery: { postType = 'wp_block', categoryId },\n\t} = useLocation();\n\tconst currentCategory =\n\t\tcategoryId ||\n\t\t( postType === PATTERN_TYPES.user\n\t\t\t? PATTERN_DEFAULT_CATEGORY\n\t\t\t: TEMPLATE_PART_ALL_AREAS_CATEGORY );\n\n\tconst { templatePartAreas, hasTemplateParts, isLoading } =\n\t\tuseTemplatePartAreas();\n\tconst { patternCategories, hasPatterns } = usePatternCategories();\n\n\treturn (\n\t\t<SidebarNavigationScreen\n\t\t\ttitle={ __( 'Patterns' ) }\n\t\t\tdescription={ __(\n\t\t\t\t'Manage what patterns are available when editing the site.'\n\t\t\t) }\n\t\t\tisRoot={ ! backPath }\n\t\t\tbackPath={ backPath }\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t{ isLoading && __( 'Loading items\u2026' ) }\n\t\t\t\t\t{ ! isLoading && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ ! hasTemplateParts && ! hasPatterns && (\n\t\t\t\t\t\t\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-patterns__group\">\n\t\t\t\t\t\t\t\t\t<Item>{ __( 'No items found' ) }</Item>\n\t\t\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<CategoriesGroup\n\t\t\t\t\t\t\t\ttemplatePartAreas={ templatePartAreas }\n\t\t\t\t\t\t\t\tpatternCategories={ patternCategories }\n\t\t\t\t\t\t\t\tcurrentCategory={ currentCategory }\n\t\t\t\t\t\t\t\tcurrentType={ postType }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport SidebarNavigationItem from '../sidebar-navigation-item';\n\nexport default function CategoryItem( {\n\tcount,\n\ticon,\n\tid,\n\tisActive,\n\tlabel,\n\ttype,\n} ) {\n\tif ( ! count ) {\n\t\treturn;\n\t}\n\tconst queryArgs = [ `postType=${ type }` ];\n\tif ( id ) {\n\t\tqueryArgs.push( `categoryId=${ id }` );\n\t}\n\n\treturn (\n\t\t<SidebarNavigationItem\n\t\t\ticon={ icon }\n\t\t\tsuffix={ <span>{ count }</span> }\n\t\t\taria-current={ isActive ? 'true' : undefined }\n\t\t\tto={ `/pattern?${ queryArgs.join( '&' ) }` }\n\t\t>\n\t\t\t{ label }\n\t\t</SidebarNavigationItem>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport useDefaultPatternCategories from './use-default-pattern-categories';\nimport useThemePatterns from './use-theme-patterns';\nimport usePatterns from '../page-patterns/use-patterns';\nimport {\n\tPATTERN_TYPES,\n\tPATTERN_DEFAULT_CATEGORY,\n\tPATTERN_USER_CATEGORY,\n\tTEMPLATE_PART_AREA_DEFAULT_CATEGORY,\n} from '../../utils/constants';\n\nexport default function usePatternCategories() {\n\tconst defaultCategories = useDefaultPatternCategories();\n\tdefaultCategories.push( {\n\t\tname: TEMPLATE_PART_AREA_DEFAULT_CATEGORY,\n\t\tlabel: __( 'Uncategorized' ),\n\t} );\n\tconst themePatterns = useThemePatterns();\n\tconst { patterns: userPatterns, categories: userPatternCategories } =\n\t\tusePatterns( PATTERN_TYPES.user );\n\n\tconst patternCategories = useMemo( () => {\n\t\tconst categoryMap = {};\n\t\tconst categoriesWithCounts = [];\n\n\t\t// Create a map for easier counting of patterns in categories.\n\t\tdefaultCategories.forEach( ( category ) => {\n\t\t\tif ( ! categoryMap[ category.name ] ) {\n\t\t\t\tcategoryMap[ category.name ] = { ...category, count: 0 };\n\t\t\t}\n\t\t} );\n\t\tuserPatternCategories.forEach( ( category ) => {\n\t\t\tif ( ! categoryMap[ category.name ] ) {\n\t\t\t\tcategoryMap[ category.name ] = { ...category, count: 0 };\n\t\t\t}\n\t\t} );\n\n\t\t// Update the category counts to reflect theme registered patterns.\n\t\tthemePatterns.forEach( ( pattern ) => {\n\t\t\tpattern.categories?.forEach( ( category ) => {\n\t\t\t\tif ( categoryMap[ category ] ) {\n\t\t\t\t\tcategoryMap[ category ].count += 1;\n\t\t\t\t}\n\t\t\t} );\n\t\t\t// If the pattern has no categories, add it to uncategorized.\n\t\t\tif ( ! pattern.categories?.length ) {\n\t\t\t\tcategoryMap.uncategorized.count += 1;\n\t\t\t}\n\t\t} );\n\n\t\t// Update the category counts to reflect user registered patterns.\n\t\tuserPatterns.forEach( ( pattern ) => {\n\t\t\tpattern.wp_pattern_category?.forEach( ( catId ) => {\n\t\t\t\tconst category = userPatternCategories.find(\n\t\t\t\t\t( cat ) => cat.id === catId\n\t\t\t\t)?.name;\n\t\t\t\tif ( categoryMap[ category ] ) {\n\t\t\t\t\tcategoryMap[ category ].count += 1;\n\t\t\t\t}\n\t\t\t} );\n\t\t\t// If the pattern has no categories, add it to uncategorized.\n\t\t\tif (\n\t\t\t\t! pattern.wp_pattern_category?.length ||\n\t\t\t\t! pattern.wp_pattern_category?.some( ( catId ) =>\n\t\t\t\t\tuserPatternCategories.find( ( cat ) => cat.id === catId )\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tcategoryMap.uncategorized.count += 1;\n\t\t\t}\n\t\t} );\n\n\t\t// Filter categories so we only have those containing patterns.\n\t\t[ ...defaultCategories, ...userPatternCategories ].forEach(\n\t\t\t( category ) => {\n\t\t\t\tif (\n\t\t\t\t\tcategoryMap[ category.name ].count &&\n\t\t\t\t\t! categoriesWithCounts.find(\n\t\t\t\t\t\t( cat ) => cat.name === category.name\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tcategoriesWithCounts.push( categoryMap[ category.name ] );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\tconst sortedCategories = categoriesWithCounts.sort( ( a, b ) =>\n\t\t\ta.label.localeCompare( b.label )\n\t\t);\n\n\t\tsortedCategories.unshift( {\n\t\t\tname: PATTERN_USER_CATEGORY,\n\t\t\tlabel: __( 'My patterns' ),\n\t\t\tcount: userPatterns.length,\n\t\t} );\n\n\t\tsortedCategories.unshift( {\n\t\t\tname: PATTERN_DEFAULT_CATEGORY,\n\t\t\tlabel: __( 'All patterns' ),\n\t\t\tdescription: __( 'A list of all patterns from all sources.' ),\n\t\t\tcount: themePatterns.length + userPatterns.length,\n\t\t} );\n\n\t\treturn sortedCategories;\n\t}, [\n\t\tdefaultCategories,\n\t\tthemePatterns,\n\t\tuserPatternCategories,\n\t\tuserPatterns,\n\t] );\n\n\treturn { patternCategories, hasPatterns: !! patternCategories.length };\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editSiteStore } from '../../store';\n\nexport default function useDefaultPatternCategories() {\n\tconst blockPatternCategories = useSelect( ( select ) => {\n\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\t\tconst settings = getSettings();\n\n\t\treturn (\n\t\t\tsettings.__experimentalAdditionalBlockPatternCategories ??\n\t\t\tsettings.__experimentalBlockPatternCategories\n\t\t);\n\t} );\n\n\tconst restBlockPatternCategories = useSelect( ( select ) =>\n\t\tselect( coreStore ).getBlockPatternCategories()\n\t);\n\n\treturn [\n\t\t...( blockPatternCategories || [] ),\n\t\t...( restBlockPatternCategories || [] ),\n\t];\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { filterOutDuplicatesByName } from '../page-patterns/utils';\nimport { EXCLUDED_PATTERN_SOURCES } from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\nimport { store as editSiteStore } from '../../store';\n\nexport default function useThemePatterns() {\n\tconst blockPatterns = useSelect( ( select ) => {\n\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\n\t\treturn (\n\t\t\tgetSettings().__experimentalAdditionalBlockPatterns ??\n\t\t\tgetSettings().__experimentalBlockPatterns\n\t\t);\n\t} );\n\n\tconst restBlockPatterns = useSelect( ( select ) =>\n\t\tselect( coreStore ).getBlockPatterns()\n\t);\n\n\tconst patterns = useMemo(\n\t\t() =>\n\t\t\t[ ...( blockPatterns || [] ), ...( restBlockPatterns || [] ) ]\n\t\t\t\t.filter(\n\t\t\t\t\t( pattern ) =>\n\t\t\t\t\t\t! EXCLUDED_PATTERN_SOURCES.includes( pattern.source )\n\t\t\t\t)\n\t\t\t\t.filter( filterOutDuplicatesByName )\n\t\t\t\t.filter( ( pattern ) => pattern.inserter !== false ),\n\t\t[ blockPatterns, restBlockPatterns ]\n\t);\n\n\treturn patterns;\n}\n", "export const filterOutDuplicatesByName = ( currentItem, index, items ) =>\n\tindex === items.findIndex( ( item ) => currentItem.name === item.name );\n", "/**\n * WordPress dependencies\n */\nimport { parse } from '@wordpress/blocks';\nimport { useSelect, createSelector } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { filterOutDuplicatesByName } from './utils';\nimport {\n\tEXCLUDED_PATTERN_SOURCES,\n\tPATTERN_TYPES,\n\tPATTERN_SYNC_TYPES,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_PART_AREA_DEFAULT_CATEGORY,\n} from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\nimport { searchItems } from './search-items';\nimport { store as editSiteStore } from '../../store';\n\nconst EMPTY_PATTERN_LIST = [];\n\nconst selectTemplateParts = createSelector(\n\t( select, categoryId, search = '' ) => {\n\t\tconst {\n\t\t\tgetEntityRecords,\n\t\t\tgetCurrentTheme,\n\t\t\tisResolving: isResolvingSelector,\n\t\t} = select( coreStore );\n\n\t\tconst query = { per_page: -1 };\n\t\tconst templateParts =\n\t\t\tgetEntityRecords( 'postType', TEMPLATE_PART_POST_TYPE, query ) ??\n\t\t\tEMPTY_PATTERN_LIST;\n\n\t\t// In the case where a custom template part area has been removed we need\n\t\t// the current list of areas to cross check against so orphaned template\n\t\t// parts can be treated as uncategorized.\n\t\tconst knownAreas = getCurrentTheme()?.default_template_part_areas || [];\n\n\t\tconst templatePartAreas = knownAreas.map( ( area ) => area.area );\n\n\t\tconst templatePartHasCategory = ( item, category ) => {\n\t\t\tif ( category !== TEMPLATE_PART_AREA_DEFAULT_CATEGORY ) {\n\t\t\t\treturn item.area === category;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\titem.area === category ||\n\t\t\t\t! templatePartAreas.includes( item.area )\n\t\t\t);\n\t\t};\n\n\t\tconst isResolving = isResolvingSelector( 'getEntityRecords', [\n\t\t\t'postType',\n\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\tquery,\n\t\t] );\n\n\t\tconst patterns = searchItems( templateParts, search, {\n\t\t\tcategoryId,\n\t\t\thasCategory: templatePartHasCategory,\n\t\t} );\n\n\t\treturn { patterns, isResolving };\n\t},\n\t( select ) => [\n\t\tselect( coreStore ).getEntityRecords(\n\t\t\t'postType',\n\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t{\n\t\t\t\tper_page: -1,\n\t\t\t}\n\t\t),\n\t\tselect( coreStore ).isResolving( 'getEntityRecords', [\n\t\t\t'postType',\n\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t{ per_page: -1 },\n\t\t] ),\n\t\tselect( coreStore ).getCurrentTheme()?.default_template_part_areas,\n\t]\n);\n\nconst selectThemePatterns = createSelector(\n\t( select ) => {\n\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\t\tconst { isResolving: isResolvingSelector } = select( coreStore );\n\t\tconst settings = getSettings();\n\t\tconst blockPatterns =\n\t\t\tsettings.__experimentalAdditionalBlockPatterns ??\n\t\t\tsettings.__experimentalBlockPatterns;\n\n\t\tconst restBlockPatterns = select( coreStore ).getBlockPatterns();\n\n\t\tconst patterns = [\n\t\t\t...( blockPatterns || [] ),\n\t\t\t...( restBlockPatterns || [] ),\n\t\t]\n\t\t\t.filter(\n\t\t\t\t( pattern ) =>\n\t\t\t\t\t! EXCLUDED_PATTERN_SOURCES.includes( pattern.source )\n\t\t\t)\n\t\t\t.filter( filterOutDuplicatesByName )\n\t\t\t.filter( ( pattern ) => pattern.inserter !== false )\n\t\t\t.map( ( pattern ) => ( {\n\t\t\t\t...pattern,\n\t\t\t\tkeywords: pattern.keywords || [],\n\t\t\t\ttype: PATTERN_TYPES.theme,\n\t\t\t\tblocks: parse( pattern.content, {\n\t\t\t\t\t__unstableSkipMigrationLogs: true,\n\t\t\t\t} ),\n\t\t\t} ) );\n\t\treturn {\n\t\t\tpatterns,\n\t\t\tisResolving: isResolvingSelector( 'getBlockPatterns' ),\n\t\t};\n\t},\n\t( select ) => [\n\t\tselect( coreStore ).getBlockPatterns(),\n\t\tselect( coreStore ).isResolving( 'getBlockPatterns' ),\n\t\tunlock( select( editSiteStore ) ).getSettings(),\n\t]\n);\n\nconst selectPatterns = createSelector(\n\t( select, categoryId, syncStatus, search = '' ) => {\n\t\tconst {\n\t\t\tpatterns: themePatterns,\n\t\t\tisResolving: isResolvingThemePatterns,\n\t\t} = selectThemePatterns( select );\n\t\tconst {\n\t\t\tpatterns: userPatterns,\n\t\t\tisResolving: isResolvingUserPatterns,\n\t\t\tcategories: userPatternCategories,\n\t\t} = selectUserPatterns( select );\n\n\t\tlet patterns = [\n\t\t\t...( themePatterns || [] ),\n\t\t\t...( userPatterns || [] ),\n\t\t];\n\n\t\tif ( syncStatus ) {\n\t\t\t// User patterns can have their sync statuses checked directly\n\t\t\t// Non-user patterns are all unsynced for the time being.\n\t\t\tpatterns = patterns.filter( ( pattern ) => {\n\t\t\t\treturn pattern.type === PATTERN_TYPES.user\n\t\t\t\t\t? ( pattern.wp_pattern_sync_status ||\n\t\t\t\t\t\t\tPATTERN_SYNC_TYPES.full ) === syncStatus\n\t\t\t\t\t: syncStatus === PATTERN_SYNC_TYPES.unsynced;\n\t\t\t} );\n\t\t}\n\n\t\tif ( categoryId ) {\n\t\t\tpatterns = searchItems( patterns, search, {\n\t\t\t\tcategoryId,\n\t\t\t\thasCategory: ( item, currentCategory ) => {\n\t\t\t\t\tif ( item.type === PATTERN_TYPES.user ) {\n\t\t\t\t\t\treturn item.wp_pattern_category?.some(\n\t\t\t\t\t\t\t( catId ) =>\n\t\t\t\t\t\t\t\tuserPatternCategories.find(\n\t\t\t\t\t\t\t\t\t( cat ) => cat.id === catId\n\t\t\t\t\t\t\t\t)?.slug === currentCategory\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn item.categories?.includes( currentCategory );\n\t\t\t\t},\n\t\t\t} );\n\t\t} else {\n\t\t\tpatterns = searchItems( patterns, search, {\n\t\t\t\thasCategory: ( item ) => {\n\t\t\t\t\tif ( item.type === PATTERN_TYPES.user ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tuserPatternCategories?.length &&\n\t\t\t\t\t\t\t( ! item.wp_pattern_category?.length ||\n\t\t\t\t\t\t\t\t! item.wp_pattern_category?.some( ( catId ) =>\n\t\t\t\t\t\t\t\t\tuserPatternCategories.find(\n\t\t\t\t\t\t\t\t\t\t( cat ) => cat.id === catId\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ! item.hasOwnProperty( 'categories' );\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t\treturn {\n\t\t\tpatterns,\n\t\t\tisResolving: isResolvingThemePatterns || isResolvingUserPatterns,\n\t\t};\n\t},\n\t( select ) => [\n\t\tselectThemePatterns( select ),\n\t\tselectUserPatterns( select ),\n\t]\n);\n\nconst selectUserPatterns = createSelector(\n\t( select, syncStatus, search = '' ) => {\n\t\tconst {\n\t\t\tgetEntityRecords,\n\t\t\tisResolving: isResolvingSelector,\n\t\t\tgetUserPatternCategories,\n\t\t} = select( coreStore );\n\n\t\tconst query = { per_page: -1 };\n\t\tconst patternPosts = getEntityRecords(\n\t\t\t'postType',\n\t\t\tPATTERN_TYPES.user,\n\t\t\tquery\n\t\t);\n\t\tconst userPatternCategories = getUserPatternCategories();\n\t\tconst categories = new Map();\n\t\tuserPatternCategories.forEach( ( userCategory ) =>\n\t\t\tcategories.set( userCategory.id, userCategory )\n\t\t);\n\t\tlet patterns = patternPosts ?? EMPTY_PATTERN_LIST;\n\t\tconst isResolving = isResolvingSelector( 'getEntityRecords', [\n\t\t\t'postType',\n\t\t\tPATTERN_TYPES.user,\n\t\t\tquery,\n\t\t] );\n\n\t\tif ( syncStatus ) {\n\t\t\tpatterns = patterns.filter(\n\t\t\t\t( pattern ) =>\n\t\t\t\t\tpattern.wp_pattern_sync_status ||\n\t\t\t\t\tPATTERN_SYNC_TYPES.full === syncStatus\n\t\t\t);\n\t\t}\n\n\t\tpatterns = searchItems( patterns, search, {\n\t\t\t// We exit user pattern retrieval early if we aren't in the\n\t\t\t// catch-all category for user created patterns, so it has\n\t\t\t// to be in the category.\n\t\t\thasCategory: () => true,\n\t\t} );\n\n\t\treturn {\n\t\t\tpatterns,\n\t\t\tisResolving,\n\t\t\tcategories: userPatternCategories,\n\t\t};\n\t},\n\t( select ) => [\n\t\tselect( coreStore ).getEntityRecords( 'postType', PATTERN_TYPES.user, {\n\t\t\tper_page: -1,\n\t\t} ),\n\t\tselect( coreStore ).isResolving( 'getEntityRecords', [\n\t\t\t'postType',\n\t\t\tPATTERN_TYPES.user,\n\t\t\t{ per_page: -1 },\n\t\t] ),\n\t\tselect( coreStore ).getUserPatternCategories(),\n\t]\n);\n\nexport function useAugmentPatternsWithPermissions( patterns ) {\n\tconst idsAndTypes = useMemo(\n\t\t() =>\n\t\t\tpatterns\n\t\t\t\t?.filter( ( record ) => record.type !== PATTERN_TYPES.theme )\n\t\t\t\t.map( ( record ) => [ record.type, record.id ] ) ?? [],\n\t\t[ patterns ]\n\t);\n\n\tconst permissions = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecordPermissions } = unlock(\n\t\t\t\tselect( coreStore )\n\t\t\t);\n\t\t\treturn idsAndTypes.reduce( ( acc, [ type, id ] ) => {\n\t\t\t\tacc[ id ] = getEntityRecordPermissions( 'postType', type, id );\n\t\t\t\treturn acc;\n\t\t\t}, {} );\n\t\t},\n\t\t[ idsAndTypes ]\n\t);\n\n\treturn useMemo(\n\t\t() =>\n\t\t\tpatterns?.map( ( record ) => ( {\n\t\t\t\t...record,\n\t\t\t\tpermissions: permissions?.[ record.id ] ?? {},\n\t\t\t} ) ) ?? [],\n\t\t[ patterns, permissions ]\n\t);\n}\n\nexport const usePatterns = (\n\tpostType,\n\tcategoryId,\n\t{ search = '', syncStatus } = {}\n) => {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tif ( postType === TEMPLATE_PART_POST_TYPE ) {\n\t\t\t\treturn selectTemplateParts( select, categoryId, search );\n\t\t\t} else if ( postType === PATTERN_TYPES.user && !! categoryId ) {\n\t\t\t\tconst appliedCategory =\n\t\t\t\t\tcategoryId === 'uncategorized' ? '' : categoryId;\n\t\t\t\treturn selectPatterns(\n\t\t\t\t\tselect,\n\t\t\t\t\tappliedCategory,\n\t\t\t\t\tsyncStatus,\n\t\t\t\t\tsearch\n\t\t\t\t);\n\t\t\t} else if ( postType === PATTERN_TYPES.user ) {\n\t\t\t\treturn selectUserPatterns( select, syncStatus, search );\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpatterns: EMPTY_PATTERN_LIST,\n\t\t\t\tisResolving: false,\n\t\t\t};\n\t\t},\n\t\t[ categoryId, postType, search, syncStatus ]\n\t);\n};\n\nexport default usePatterns;\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { extractWords, getNormalizedSearchTerms, normalizeString } = unlock(\n\tblockEditorPrivateApis\n);\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_PART_ALL_AREAS_CATEGORY,\n\tPATTERN_DEFAULT_CATEGORY,\n\tPATTERN_USER_CATEGORY,\n\tPATTERN_TYPES,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../utils/constants';\n\n// Default search helpers.\nconst defaultGetName = ( item ) => {\n\tif ( item.type === PATTERN_TYPES.user ) {\n\t\treturn item.slug;\n\t}\n\n\tif ( item.type === TEMPLATE_PART_POST_TYPE ) {\n\t\treturn '';\n\t}\n\n\treturn item.name || '';\n};\n\nexport const defaultGetTitle = ( item ) => {\n\tif ( typeof item.title === 'string' ) {\n\t\treturn item.title;\n\t}\n\n\tif ( item.title && item.title.rendered ) {\n\t\treturn item.title.rendered;\n\t}\n\n\tif ( item.title && item.title.raw ) {\n\t\treturn item.title.raw;\n\t}\n\n\treturn '';\n};\n\nconst defaultGetDescription = ( item ) => {\n\tif ( item.type === PATTERN_TYPES.user ) {\n\t\treturn item.excerpt.raw;\n\t}\n\n\treturn item.description || '';\n};\n\nconst defaultGetKeywords = ( item ) => item.keywords || [];\nconst defaultHasCategory = () => false;\n\nconst removeMatchingTerms = ( unmatchedTerms, unprocessedTerms ) => {\n\treturn unmatchedTerms.filter(\n\t\t( term ) =>\n\t\t\t! getNormalizedSearchTerms( unprocessedTerms ).some(\n\t\t\t\t( unprocessedTerm ) => unprocessedTerm.includes( term )\n\t\t\t)\n\t);\n};\n\n/**\n * Filters an item list given a search term.\n *\n * @param {Array}  items       Item list\n * @param {string} searchInput Search input.\n * @param {Object} config      Search Config.\n *\n * @return {Array} Filtered item list.\n */\nexport const searchItems = ( items = [], searchInput = '', config = {} ) => {\n\tconst normalizedSearchTerms = getNormalizedSearchTerms( searchInput );\n\n\t// Filter patterns by category: the default category indicates that all patterns will be shown.\n\tconst onlyFilterByCategory =\n\t\tconfig.categoryId !== PATTERN_DEFAULT_CATEGORY &&\n\t\t! normalizedSearchTerms.length;\n\tconst searchRankConfig = { ...config, onlyFilterByCategory };\n\n\t// If we aren't filtering on search terms, matching on category is satisfactory.\n\t// If we are, then we need more than a category match.\n\tconst threshold = onlyFilterByCategory ? 0 : 1;\n\n\tconst rankedItems = items\n\t\t.map( ( item ) => {\n\t\t\treturn [\n\t\t\t\titem,\n\t\t\t\tgetItemSearchRank( item, searchInput, searchRankConfig ),\n\t\t\t];\n\t\t} )\n\t\t.filter( ( [ , rank ] ) => rank > threshold );\n\n\t// If we didn't have terms to search on, there's no point sorting.\n\tif ( normalizedSearchTerms.length === 0 ) {\n\t\treturn rankedItems.map( ( [ item ] ) => item );\n\t}\n\n\trankedItems.sort( ( [ , rank1 ], [ , rank2 ] ) => rank2 - rank1 );\n\treturn rankedItems.map( ( [ item ] ) => item );\n};\n\n/**\n * Get the search rank for a given item and a specific search term.\n * The better the match, the higher the rank.\n * If the rank equals 0, it should be excluded from the results.\n *\n * @param {Object} item       Item to filter.\n * @param {string} searchTerm Search term.\n * @param {Object} config     Search Config.\n *\n * @return {number} Search Rank.\n */\nfunction getItemSearchRank( item, searchTerm, config ) {\n\tconst {\n\t\tcategoryId,\n\t\tgetName = defaultGetName,\n\t\tgetTitle = defaultGetTitle,\n\t\tgetDescription = defaultGetDescription,\n\t\tgetKeywords = defaultGetKeywords,\n\t\thasCategory = defaultHasCategory,\n\t\tonlyFilterByCategory,\n\t} = config;\n\n\tlet rank =\n\t\tcategoryId === PATTERN_DEFAULT_CATEGORY ||\n\t\tcategoryId === TEMPLATE_PART_ALL_AREAS_CATEGORY ||\n\t\t( categoryId === PATTERN_USER_CATEGORY &&\n\t\t\titem.type === PATTERN_TYPES.user ) ||\n\t\thasCategory( item, categoryId )\n\t\t\t? 1\n\t\t\t: 0;\n\n\t// If an item doesn't belong to the current category or we don't have\n\t// search terms to filter by, return the initial rank value.\n\tif ( ! rank || onlyFilterByCategory ) {\n\t\treturn rank;\n\t}\n\n\tconst name = getName( item );\n\tconst title = getTitle( item );\n\tconst description = getDescription( item );\n\tconst keywords = getKeywords( item );\n\n\tconst normalizedSearchInput = normalizeString( searchTerm );\n\tconst normalizedTitle = normalizeString( title );\n\n\t// Prefers exact matches\n\t// Then prefers if the beginning of the title matches the search term\n\t// name, keywords, description matches come later.\n\tif ( normalizedSearchInput === normalizedTitle ) {\n\t\trank += 30;\n\t} else if ( normalizedTitle.startsWith( normalizedSearchInput ) ) {\n\t\trank += 20;\n\t} else {\n\t\tconst terms = [ name, title, description, ...keywords ].join( ' ' );\n\t\tconst normalizedSearchTerms = extractWords( normalizedSearchInput );\n\t\tconst unmatchedTerms = removeMatchingTerms(\n\t\t\tnormalizedSearchTerms,\n\t\t\tterms\n\t\t);\n\n\t\tif ( unmatchedTerms.length === 0 ) {\n\t\t\trank += 10;\n\t\t}\n\t}\n\n\treturn rank;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEntityRecords, store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_PART_AREA_DEFAULT_CATEGORY,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../utils/constants';\n\nconst useTemplatePartsGroupedByArea = ( items ) => {\n\tconst allItems = items || [];\n\n\tconst templatePartAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getCurrentTheme()\n\t\t\t\t?.default_template_part_areas || [],\n\t\t[]\n\t);\n\n\t// Create map of template areas ensuring that default areas are displayed before\n\t// any custom registered template part areas.\n\tconst knownAreas = {\n\t\theader: {},\n\t\tfooter: {},\n\t\tsidebar: {},\n\t\tuncategorized: {},\n\t};\n\n\ttemplatePartAreas.forEach(\n\t\t( templatePartArea ) =>\n\t\t\t( knownAreas[ templatePartArea.area ] = {\n\t\t\t\t...templatePartArea,\n\t\t\t\ttemplateParts: [],\n\t\t\t} )\n\t);\n\n\tconst groupedByArea = allItems.reduce( ( accumulator, item ) => {\n\t\tconst key = accumulator[ item.area ]\n\t\t\t? item.area\n\t\t\t: TEMPLATE_PART_AREA_DEFAULT_CATEGORY;\n\t\taccumulator[ key ]?.templateParts?.push( item );\n\t\treturn accumulator;\n\t}, knownAreas );\n\n\treturn groupedByArea;\n};\n\nexport default function useTemplatePartAreas() {\n\tconst { records: templateParts, isResolving: isLoading } = useEntityRecords(\n\t\t'postType',\n\t\tTEMPLATE_PART_POST_TYPE,\n\t\t{ per_page: -1 }\n\t);\n\n\treturn {\n\t\thasTemplateParts: templateParts ? !! templateParts.length : false,\n\t\tisLoading,\n\t\ttemplatePartAreas: useTemplatePartsGroupedByArea( templateParts ),\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { Page } from '@wordpress/admin-ui';\nimport { __ } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { DataViews, filterSortAndPaginate } from '@wordpress/dataviews';\nimport { useEntityRecords, store as coreStore } from '@wordpress/core-data';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useView } from '@wordpress/views';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tLAYOUT_GRID,\n\tLAYOUT_TABLE,\n\tPATTERN_TYPES,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_DEFAULT_CATEGORY,\n} from '../../utils/constants';\nimport usePatternSettings from './use-pattern-settings';\nimport { unlock } from '../../lock-unlock';\nimport usePatterns, { useAugmentPatternsWithPermissions } from './use-patterns';\nimport PatternsActions from './actions';\nimport { useEditPostAction } from '../dataviews-actions';\nimport {\n\tpatternStatusField,\n\tpreviewField,\n\ttemplatePartAuthorField,\n} from './fields';\nimport { addQueryArgs } from '@wordpress/url';\nimport usePatternCategories from '../sidebar-navigation-screen-patterns/use-pattern-categories';\nimport { Button } from '@wordpress/components';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\nconst { usePostActions, patternTitleField } = unlock( editorPrivateApis );\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\n\nconst EMPTY_ARRAY = [];\nconst defaultLayouts = {\n\t[ LAYOUT_TABLE ]: {\n\t\tlayout: {\n\t\t\tstyles: {\n\t\t\t\tauthor: {\n\t\t\t\t\twidth: '1%',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\t[ LAYOUT_GRID ]: {\n\t\tlayout: {\n\t\t\tbadgeFields: [ 'sync-status' ],\n\t\t},\n\t},\n};\nconst DEFAULT_VIEW = {\n\ttype: LAYOUT_GRID,\n\tperPage: 20,\n\ttitleField: 'title',\n\tmediaField: 'preview',\n\tfields: [ 'sync-status' ],\n\tfilters: [],\n\t...defaultLayouts[ LAYOUT_GRID ],\n};\n\nfunction usePagePatternsHeader( type, categoryId ) {\n\tconst { patternCategories } = usePatternCategories();\n\tconst templatePartAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getCurrentTheme()\n\t\t\t\t?.default_template_part_areas || [],\n\t\t[]\n\t);\n\tlet title, description, patternCategory;\n\tif ( type === TEMPLATE_PART_POST_TYPE ) {\n\t\tconst templatePartArea = templatePartAreas.find(\n\t\t\t( area ) => area.area === categoryId\n\t\t);\n\t\ttitle = templatePartArea?.label || __( 'All Template Parts' );\n\t\tdescription =\n\t\t\ttemplatePartArea?.description ||\n\t\t\t__( 'Includes every template part defined for any area.' );\n\t} else if ( type === PATTERN_TYPES.user && !! categoryId ) {\n\t\tpatternCategory = patternCategories.find(\n\t\t\t( category ) => category.name === categoryId\n\t\t);\n\t\ttitle = patternCategory?.label;\n\t\tdescription = patternCategory?.description;\n\t}\n\n\treturn { title, description };\n}\n\nexport default function DataviewsPatterns() {\n\tconst { path, query } = useLocation();\n\tconst { postType = 'wp_block', categoryId: categoryIdFromURL } = query;\n\tconst history = useHistory();\n\tconst categoryId = categoryIdFromURL || PATTERN_DEFAULT_CATEGORY;\n\tconst { view, updateView, isModified, resetToDefault } = useView( {\n\t\tkind: 'postType',\n\t\tname: postType,\n\t\tslug: categoryId,\n\t\tdefaultView: DEFAULT_VIEW,\n\t\tqueryParams: {\n\t\t\tpage: query.pageNumber,\n\t\t\tsearch: query.search,\n\t\t},\n\t\tonChangeQueryParams: ( params ) => {\n\t\t\thistory.navigate(\n\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t...query,\n\t\t\t\t\tpageNumber: params.page,\n\t\t\t\t\tsearch: params.search,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t} );\n\tconst viewSyncStatus = view.filters?.find(\n\t\t( { field } ) => field === 'sync-status'\n\t)?.value;\n\tconst { patterns, isResolving } = usePatterns( postType, categoryId, {\n\t\tsearch: view.search,\n\t\tsyncStatus: viewSyncStatus,\n\t} );\n\n\tconst { records } = useEntityRecords( 'postType', TEMPLATE_PART_POST_TYPE, {\n\t\tper_page: -1,\n\t} );\n\n\tconst authors = useMemo( () => {\n\t\tif ( ! records ) {\n\t\t\treturn EMPTY_ARRAY;\n\t\t}\n\t\tconst authorsSet = new Set();\n\t\trecords.forEach( ( template ) => {\n\t\t\tauthorsSet.add( template.author_text );\n\t\t} );\n\t\treturn Array.from( authorsSet ).map( ( author ) => ( {\n\t\t\tvalue: author,\n\t\t\tlabel: author,\n\t\t} ) );\n\t}, [ records ] );\n\n\tconst fields = useMemo( () => {\n\t\tconst _fields = [ previewField, patternTitleField ];\n\n\t\tif ( postType === PATTERN_TYPES.user ) {\n\t\t\t_fields.push( patternStatusField );\n\t\t} else if ( postType === TEMPLATE_PART_POST_TYPE ) {\n\t\t\t_fields.push( {\n\t\t\t\t...templatePartAuthorField,\n\t\t\t\telements: authors,\n\t\t\t} );\n\t\t}\n\n\t\treturn _fields;\n\t}, [ postType, authors ] );\n\n\tconst { data, paginationInfo } = useMemo( () => {\n\t\t// Search is managed server-side as well as filters for patterns.\n\t\t// However, the author filter in template parts is done client-side.\n\t\tconst viewWithoutFilters = { ...view };\n\t\tdelete viewWithoutFilters.search;\n\t\tif ( postType !== TEMPLATE_PART_POST_TYPE ) {\n\t\t\tviewWithoutFilters.filters = [];\n\t\t}\n\t\treturn filterSortAndPaginate( patterns, viewWithoutFilters, fields );\n\t}, [ patterns, view, fields, postType ] );\n\n\tconst dataWithPermissions = useAugmentPatternsWithPermissions( data );\n\n\tconst templatePartActions = usePostActions( {\n\t\tpostType: TEMPLATE_PART_POST_TYPE,\n\t\tcontext: 'list',\n\t} );\n\tconst patternActions = usePostActions( {\n\t\tpostType: PATTERN_TYPES.user,\n\t\tcontext: 'list',\n\t} );\n\tconst editAction = useEditPostAction();\n\n\tconst actions = useMemo( () => {\n\t\tif ( postType === TEMPLATE_PART_POST_TYPE ) {\n\t\t\treturn [ editAction, ...templatePartActions ].filter( Boolean );\n\t\t}\n\t\treturn [ editAction, ...patternActions ].filter( Boolean );\n\t}, [ editAction, postType, templatePartActions, patternActions ] );\n\tconst settings = usePatternSettings();\n\tconst { title, description } = usePagePatternsHeader(\n\t\tpostType,\n\t\tcategoryId\n\t);\n\n\t// Wrap everything in a block editor provider.\n\t// This ensures 'styles' that are needed for the previews are synced\n\t// from the site editor store to the block editor store.\n\treturn (\n\t\t<ExperimentalBlockEditorProvider settings={ settings }>\n\t\t\t<Page\n\t\t\t\tclassName=\"edit-site-page-patterns-dataviews\"\n\t\t\t\ttitle={ title }\n\t\t\t\tsubTitle={ description }\n\t\t\t\tactions={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isModified && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tonClick={ resetToDefault }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Reset view' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<PatternsActions />\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<DataViews\n\t\t\t\t\tkey={ categoryId + postType }\n\t\t\t\t\tpaginationInfo={ paginationInfo }\n\t\t\t\t\tfields={ fields }\n\t\t\t\t\tactions={ actions }\n\t\t\t\t\tdata={ dataWithPermissions || EMPTY_ARRAY }\n\t\t\t\t\tgetItemId={ ( item ) => item.name ?? item.id }\n\t\t\t\t\tisLoading={ isResolving }\n\t\t\t\t\tisItemClickable={ ( item ) =>\n\t\t\t\t\t\titem.type !== PATTERN_TYPES.theme\n\t\t\t\t\t}\n\t\t\t\t\tonClickItem={ ( item ) => {\n\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t`/${ item.type }/${\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\tPATTERN_TYPES.user,\n\t\t\t\t\t\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t\t\t\t\t].includes( item.type )\n\t\t\t\t\t\t\t\t\t? item.id\n\t\t\t\t\t\t\t\t\t: item.name\n\t\t\t\t\t\t\t}?canvas=edit`\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t\tview={ view }\n\t\t\t\t\tonChangeView={ updateView }\n\t\t\t\t\tdefaultLayouts={ defaultLayouts }\n\t\t\t\t/>\n\t\t\t</Page>\n\t\t</ExperimentalBlockEditorProvider>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { ReactNode, ComponentProps, ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { useEffect, useMemo, useRef, useState } from '@wordpress/element';\nimport { useResizeObserver, throttle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport { VIEW_LAYOUTS } from '../../dataviews-layouts';\nimport {\n\tFilters,\n\tFiltersToggled,\n\tuseFilters,\n\tFiltersToggle,\n} from '../dataviews-filters';\nimport DataViewsLayout from '../dataviews-layout';\nimport DataViewsFooter from '../dataviews-footer';\nimport DataViewsSearch from '../dataviews-search';\nimport { BulkActionsFooter } from '../dataviews-bulk-actions';\nimport { DataViewsPagination } from '../dataviews-pagination';\nimport DataViewsViewConfig, {\n\tDataviewsViewConfigDropdown,\n\tViewTypeMenu,\n} from '../dataviews-view-config';\nimport normalizeFields from '../../utils/normalize-fields';\nimport type { Action, Field, View, SupportedLayouts } from '../../types';\nimport type { SelectionOrUpdater } from '../../types/private';\ntype ItemWithId = { id: string };\n\ntype DataViewsProps< Item > = {\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n\tfields: Field< Item >[];\n\tsearch?: boolean;\n\tsearchLabel?: string;\n\tactions?: Action< Item >[];\n\tdata: Item[];\n\tisLoading?: boolean;\n\tpaginationInfo: {\n\t\ttotalItems: number;\n\t\ttotalPages: number;\n\t\tinfiniteScrollHandler?: () => void;\n\t};\n\tdefaultLayouts: SupportedLayouts;\n\tselection?: string[];\n\tonChangeSelection?: ( items: string[] ) => void;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisItemClickable?: ( item: Item ) => boolean;\n\theader?: ReactNode;\n\tgetItemLevel?: ( item: Item ) => number;\n\tchildren?: ReactNode;\n\tconfig?: {\n\t\tperPageSizes: number[];\n\t};\n\tempty?: ReactNode;\n} & ( Item extends ItemWithId\n\t? { getItemId?: ( item: Item ) => string }\n\t: { getItemId: ( item: Item ) => string } );\n\nconst defaultGetItemId = ( item: ItemWithId ) => item.id;\nconst defaultIsItemClickable = () => true;\nconst EMPTY_ARRAY: any[] = [];\n\nconst dataViewsLayouts = VIEW_LAYOUTS.filter(\n\t( viewLayout ) => ! viewLayout.isPicker\n);\n\ntype DefaultUIProps = Pick<\n\tDataViewsProps< any >,\n\t'header' | 'search' | 'searchLabel'\n>;\n\nfunction DefaultUI( {\n\theader,\n\tsearch = true,\n\tsearchLabel = undefined,\n}: DefaultUIProps ) {\n\treturn (\n\t\t<>\n\t\t\t<HStack\n\t\t\t\talignment=\"top\"\n\t\t\t\tjustify=\"space-between\"\n\t\t\t\tclassName=\"dataviews__view-actions\"\n\t\t\t\tspacing={ 1 }\n\t\t\t>\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"start\"\n\t\t\t\t\texpanded={ false }\n\t\t\t\t\tclassName=\"dataviews__search\"\n\t\t\t\t>\n\t\t\t\t\t{ search && <DataViewsSearch label={ searchLabel } /> }\n\t\t\t\t\t<FiltersToggle />\n\t\t\t\t</HStack>\n\t\t\t\t<HStack\n\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\texpanded={ false }\n\t\t\t\t\tstyle={ { flexShrink: 0 } }\n\t\t\t\t>\n\t\t\t\t\t<DataViewsViewConfig />\n\t\t\t\t\t{ header }\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t\t<FiltersToggled className=\"dataviews-filters__container\" />\n\t\t\t<DataViewsLayout />\n\t\t\t<DataViewsFooter />\n\t\t</>\n\t);\n}\n\nfunction DataViews< Item >( {\n\tview,\n\tonChangeView,\n\tfields,\n\tsearch = true,\n\tsearchLabel = undefined,\n\tactions = EMPTY_ARRAY,\n\tdata,\n\tgetItemId = defaultGetItemId,\n\tgetItemLevel,\n\tisLoading = false,\n\tpaginationInfo,\n\tdefaultLayouts: defaultLayoutsProperty,\n\tselection: selectionProperty,\n\tonChangeSelection,\n\tonClickItem,\n\trenderItemLink,\n\tisItemClickable = defaultIsItemClickable,\n\theader,\n\tchildren,\n\tconfig = { perPageSizes: [ 10, 20, 50, 100 ] },\n\tempty,\n}: DataViewsProps< Item > ) {\n\tconst { infiniteScrollHandler } = paginationInfo;\n\tconst containerRef = useRef< HTMLDivElement | null >( null );\n\tconst [ containerWidth, setContainerWidth ] = useState( 0 );\n\tconst resizeObserverRef = useResizeObserver(\n\t\t( resizeObserverEntries: any ) => {\n\t\t\tsetContainerWidth(\n\t\t\t\tresizeObserverEntries[ 0 ].borderBoxSize[ 0 ].inlineSize\n\t\t\t);\n\t\t},\n\t\t{ box: 'border-box' }\n\t);\n\tconst [ selectionState, setSelectionState ] = useState< string[] >( [] );\n\tconst isUncontrolled =\n\t\tselectionProperty === undefined || onChangeSelection === undefined;\n\tconst selection = isUncontrolled ? selectionState : selectionProperty;\n\tconst [ openedFilter, setOpenedFilter ] = useState< string | null >( null );\n\tfunction setSelectionWithChange( value: SelectionOrUpdater ) {\n\t\tconst newValue =\n\t\t\ttypeof value === 'function' ? value( selection ) : value;\n\t\tif ( isUncontrolled ) {\n\t\t\tsetSelectionState( newValue );\n\t\t}\n\t\tif ( onChangeSelection ) {\n\t\t\tonChangeSelection( newValue );\n\t\t}\n\t}\n\tconst _fields = useMemo( () => normalizeFields( fields ), [ fields ] );\n\tconst _selection = useMemo( () => {\n\t\treturn selection.filter( ( id ) =>\n\t\t\tdata.some( ( item ) => getItemId( item ) === id )\n\t\t);\n\t}, [ selection, data, getItemId ] );\n\n\tconst filters = useFilters( _fields, view );\n\tconst hasPrimaryOrLockedFilters = useMemo(\n\t\t() =>\n\t\t\t( filters || [] ).some(\n\t\t\t\t( filter ) => filter.isPrimary || filter.isLocked\n\t\t\t),\n\t\t[ filters ]\n\t);\n\tconst [ isShowingFilter, setIsShowingFilter ] = useState< boolean >(\n\t\thasPrimaryOrLockedFilters\n\t);\n\n\tuseEffect( () => {\n\t\tif ( hasPrimaryOrLockedFilters && ! isShowingFilter ) {\n\t\t\tsetIsShowingFilter( true );\n\t\t}\n\t}, [ hasPrimaryOrLockedFilters, isShowingFilter ] );\n\n\t// Attach scroll event listener for infinite scroll\n\tuseEffect( () => {\n\t\tif ( ! view.infiniteScrollEnabled || ! containerRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleScroll = throttle( ( event: unknown ) => {\n\t\t\tconst target = ( event as Event ).target as HTMLElement;\n\t\t\tconst scrollTop = target.scrollTop;\n\t\t\tconst scrollHeight = target.scrollHeight;\n\t\t\tconst clientHeight = target.clientHeight;\n\n\t\t\t// Check if user has scrolled near the bottom\n\t\t\tif ( scrollTop + clientHeight >= scrollHeight - 100 ) {\n\t\t\t\tinfiniteScrollHandler?.();\n\t\t\t}\n\t\t}, 100 ); // Throttle to 100ms\n\n\t\tconst container = containerRef.current;\n\t\tcontainer.addEventListener( 'scroll', handleScroll );\n\n\t\treturn () => {\n\t\t\tcontainer.removeEventListener( 'scroll', handleScroll );\n\t\t\thandleScroll.cancel(); // Cancel any pending throttled calls\n\t\t};\n\t}, [ infiniteScrollHandler, view.infiniteScrollEnabled ] );\n\n\t// Filter out DataViewsPicker layouts.\n\tconst defaultLayouts = useMemo(\n\t\t() =>\n\t\t\tObject.fromEntries(\n\t\t\t\tObject.entries( defaultLayoutsProperty ).filter(\n\t\t\t\t\t( [ layoutType ] ) => {\n\t\t\t\t\t\treturn dataViewsLayouts.some(\n\t\t\t\t\t\t\t( viewLayout ) => viewLayout.type === layoutType\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t),\n\t\t[ defaultLayoutsProperty ]\n\t);\n\n\tif ( ! defaultLayouts[ view.type ] ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DataViewsContext.Provider\n\t\t\tvalue={ {\n\t\t\t\tview,\n\t\t\t\tonChangeView,\n\t\t\t\tfields: _fields,\n\t\t\t\tactions,\n\t\t\t\tdata,\n\t\t\t\tisLoading,\n\t\t\t\tpaginationInfo,\n\t\t\t\tselection: _selection,\n\t\t\t\tonChangeSelection: setSelectionWithChange,\n\t\t\t\topenedFilter,\n\t\t\t\tsetOpenedFilter,\n\t\t\t\tgetItemId,\n\t\t\t\tgetItemLevel,\n\t\t\t\tisItemClickable,\n\t\t\t\tonClickItem,\n\t\t\t\trenderItemLink,\n\t\t\t\tcontainerWidth,\n\t\t\t\tcontainerRef,\n\t\t\t\tresizeObserverRef,\n\t\t\t\tdefaultLayouts,\n\t\t\t\tfilters,\n\t\t\t\tisShowingFilter,\n\t\t\t\tsetIsShowingFilter,\n\t\t\t\tconfig,\n\t\t\t\tempty,\n\t\t\t\thasInfiniteScrollHandler: !! infiniteScrollHandler,\n\t\t\t} }\n\t\t>\n\t\t\t<div className=\"dataviews-wrapper\" ref={ containerRef }>\n\t\t\t\t{ children ?? (\n\t\t\t\t\t<DefaultUI\n\t\t\t\t\t\theader={ header }\n\t\t\t\t\t\tsearch={ search }\n\t\t\t\t\t\tsearchLabel={ searchLabel }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</DataViewsContext.Provider>\n\t);\n}\n\n// Populate the DataViews sub components\nconst DataViewsSubComponents = DataViews as typeof DataViews & {\n\tBulkActionToolbar: typeof BulkActionsFooter;\n\tFilters: typeof Filters;\n\tFiltersToggle: typeof FiltersToggle;\n\tFiltersToggled: typeof FiltersToggled;\n\tLayout: typeof DataViewsLayout;\n\tLayoutSwitcher: typeof ViewTypeMenu;\n\tPagination: typeof DataViewsPagination;\n\tSearch: typeof DataViewsSearch;\n\tViewConfig: typeof DataviewsViewConfigDropdown;\n\tFooter: typeof DataViewsFooter;\n};\n\nDataViewsSubComponents.BulkActionToolbar = BulkActionsFooter;\nDataViewsSubComponents.Filters = Filters;\nDataViewsSubComponents.FiltersToggled = FiltersToggled;\nDataViewsSubComponents.FiltersToggle = FiltersToggle;\nDataViewsSubComponents.Layout = DataViewsLayout;\nDataViewsSubComponents.LayoutSwitcher = ViewTypeMenu;\nDataViewsSubComponents.Pagination = DataViewsPagination;\nDataViewsSubComponents.Search = DataViewsSearch;\nDataViewsSubComponents.ViewConfig = DataviewsViewConfigDropdown;\nDataViewsSubComponents.Footer = DataViewsFooter;\n\nexport default DataViewsSubComponents;\n", "/**\n * External dependencies\n */\nimport type { ComponentProps, ReactElement, ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, createRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tView,\n\tAction,\n\tNormalizedField,\n\tSupportedLayouts,\n\tNormalizedFilter,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport { LAYOUT_TABLE } from '../../constants';\n\ntype DataViewsContextType< Item > = {\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n\tfields: NormalizedField< Item >[];\n\tactions?: Action< Item >[];\n\tdata: Item[];\n\tisLoading?: boolean;\n\tpaginationInfo: {\n\t\ttotalItems: number;\n\t\ttotalPages: number;\n\t};\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\topenedFilter: string | null;\n\tsetOpenedFilter: ( openedFilter: string | null ) => void;\n\tgetItemId: ( item: Item ) => string;\n\tgetItemLevel?: ( item: Item ) => number;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisItemClickable: ( item: Item ) => boolean;\n\tcontainerWidth: number;\n\tcontainerRef: React.MutableRefObject< HTMLDivElement | null >;\n\tresizeObserverRef:\n\t\t| ( ( element?: HTMLDivElement | null ) => void )\n\t\t| React.RefObject< HTMLDivElement >;\n\tdefaultLayouts: SupportedLayouts;\n\tfilters: NormalizedFilter[];\n\tisShowingFilter: boolean;\n\tsetIsShowingFilter: ( value: boolean ) => void;\n\tconfig: { perPageSizes: number[] };\n\tempty?: ReactNode;\n\thasInfiniteScrollHandler: boolean;\n\titemListLabel?: string;\n};\n\nconst DataViewsContext = createContext< DataViewsContextType< any > >( {\n\tview: { type: LAYOUT_TABLE },\n\tonChangeView: () => {},\n\tfields: [],\n\tdata: [],\n\tpaginationInfo: {\n\t\ttotalItems: 0,\n\t\ttotalPages: 0,\n\t},\n\tselection: [],\n\tonChangeSelection: () => {},\n\tsetOpenedFilter: () => {},\n\topenedFilter: null,\n\tgetItemId: ( item ) => item.id,\n\tisItemClickable: () => true,\n\trenderItemLink: undefined,\n\tcontainerWidth: 0,\n\tcontainerRef: createRef(),\n\tresizeObserverRef: () => {},\n\tdefaultLayouts: { list: {}, grid: {}, table: {} },\n\tfilters: [],\n\tisShowingFilter: false,\n\tsetIsShowingFilter: () => {},\n\thasInfiniteScrollHandler: false,\n\tconfig: {\n\t\tperPageSizes: [],\n\t},\n} );\n\nDataViewsContext.displayName = 'DataViewsContext';\n\nexport default DataViewsContext;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { arrowDown, arrowUp } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { Operator } from './types';\n\n// Filter operators.\nexport const OPERATOR_IS = 'is';\nexport const OPERATOR_IS_NOT = 'isNot';\nexport const OPERATOR_IS_ANY = 'isAny';\nexport const OPERATOR_IS_NONE = 'isNone';\nexport const OPERATOR_IS_ALL = 'isAll';\nexport const OPERATOR_IS_NOT_ALL = 'isNotAll';\nexport const OPERATOR_LESS_THAN = 'lessThan';\nexport const OPERATOR_GREATER_THAN = 'greaterThan';\nexport const OPERATOR_LESS_THAN_OR_EQUAL = 'lessThanOrEqual';\nexport const OPERATOR_GREATER_THAN_OR_EQUAL = 'greaterThanOrEqual';\nexport const OPERATOR_BEFORE = 'before';\nexport const OPERATOR_AFTER = 'after';\nexport const OPERATOR_BEFORE_INC = 'beforeInc';\nexport const OPERATOR_AFTER_INC = 'afterInc';\nexport const OPERATOR_CONTAINS = 'contains';\nexport const OPERATOR_NOT_CONTAINS = 'notContains';\nexport const OPERATOR_STARTS_WITH = 'startsWith';\nexport const OPERATOR_BETWEEN = 'between';\nexport const OPERATOR_ON = 'on';\nexport const OPERATOR_NOT_ON = 'notOn';\nexport const OPERATOR_IN_THE_PAST = 'inThePast';\nexport const OPERATOR_OVER = 'over';\n\nexport const ALL_OPERATORS: Operator[] = [\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n\tOPERATOR_BETWEEN,\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n];\n\nexport const SINGLE_SELECTION_OPERATORS: Operator[] = [\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n];\n\nexport const OPERATORS: Record< Operator, { key: string; label: string } > = {\n\t[ OPERATOR_IS ]: {\n\t\tkey: 'is-filter',\n\t\tlabel: __( 'Is' ),\n\t},\n\t[ OPERATOR_IS_NOT ]: {\n\t\tkey: 'is-not-filter',\n\t\tlabel: __( 'Is not' ),\n\t},\n\t[ OPERATOR_IS_ANY ]: {\n\t\tkey: 'is-any-filter',\n\t\tlabel: __( 'Is any' ),\n\t},\n\t[ OPERATOR_IS_NONE ]: {\n\t\tkey: 'is-none-filter',\n\t\tlabel: __( 'Is none' ),\n\t},\n\t[ OPERATOR_IS_ALL ]: {\n\t\tkey: 'is-all-filter',\n\t\tlabel: __( 'Is all' ),\n\t},\n\t[ OPERATOR_IS_NOT_ALL ]: {\n\t\tkey: 'is-not-all-filter',\n\t\tlabel: __( 'Is not all' ),\n\t},\n\t[ OPERATOR_LESS_THAN ]: {\n\t\tkey: 'less-than-filter',\n\t\tlabel: __( 'Less than' ),\n\t},\n\t[ OPERATOR_GREATER_THAN ]: {\n\t\tkey: 'greater-than-filter',\n\t\tlabel: __( 'Greater than' ),\n\t},\n\t[ OPERATOR_LESS_THAN_OR_EQUAL ]: {\n\t\tkey: 'less-than-or-equal-filter',\n\t\tlabel: __( 'Less than or equal' ),\n\t},\n\t[ OPERATOR_GREATER_THAN_OR_EQUAL ]: {\n\t\tkey: 'greater-than-or-equal-filter',\n\t\tlabel: __( 'Greater than or equal' ),\n\t},\n\t[ OPERATOR_BEFORE ]: {\n\t\tkey: 'before-filter',\n\t\tlabel: __( 'Before' ),\n\t},\n\t[ OPERATOR_AFTER ]: {\n\t\tkey: 'after-filter',\n\t\tlabel: __( 'After' ),\n\t},\n\t[ OPERATOR_BEFORE_INC ]: {\n\t\tkey: 'before-inc-filter',\n\t\tlabel: __( 'Before (inc)' ),\n\t},\n\t[ OPERATOR_AFTER_INC ]: {\n\t\tkey: 'after-inc-filter',\n\t\tlabel: __( 'After (inc)' ),\n\t},\n\t[ OPERATOR_CONTAINS ]: {\n\t\tkey: 'contains-filter',\n\t\tlabel: __( 'Contains' ),\n\t},\n\t[ OPERATOR_NOT_CONTAINS ]: {\n\t\tkey: 'not-contains-filter',\n\t\tlabel: __( \"Doesn't contain\" ),\n\t},\n\t[ OPERATOR_STARTS_WITH ]: {\n\t\tkey: 'starts-with-filter',\n\t\tlabel: __( 'Starts with' ),\n\t},\n\t[ OPERATOR_BETWEEN ]: {\n\t\tkey: 'between-filter',\n\t\tlabel: __( 'Between (inc)' ),\n\t},\n\t[ OPERATOR_ON ]: {\n\t\tkey: 'on-filter',\n\t\tlabel: __( 'On' ),\n\t},\n\t[ OPERATOR_NOT_ON ]: {\n\t\tkey: 'not-on-filter',\n\t\tlabel: __( 'Not on' ),\n\t},\n\t[ OPERATOR_IN_THE_PAST ]: {\n\t\tkey: 'in-the-past-filter',\n\t\tlabel: __( 'In the past' ),\n\t},\n\t[ OPERATOR_OVER ]: {\n\t\tkey: 'over-filter',\n\t\tlabel: __( 'Over' ),\n\t},\n};\n\nexport const SORTING_DIRECTIONS = [ 'asc', 'desc' ] as const;\nexport const sortArrows = { asc: '\u2191', desc: '\u2193' };\nexport const sortValues = { asc: 'ascending', desc: 'descending' } as const;\nexport const sortLabels = {\n\tasc: __( 'Sort ascending' ),\n\tdesc: __( 'Sort descending' ),\n};\nexport const sortIcons = {\n\tasc: arrowUp,\n\tdesc: arrowDown,\n};\n\n// View layouts.\nexport const LAYOUT_TABLE = 'table';\nexport const LAYOUT_GRID = 'grid';\nexport const LAYOUT_LIST = 'list';\n\n// Picker view layouts.\nexport const LAYOUT_PICKER_GRID = 'pickerGrid';\nexport const LAYOUT_PICKER_TABLE = 'pickerTable';\n", "/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport {\n\tblockTable,\n\tcategory,\n\tformatListBullets,\n\tformatListBulletsRTL,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ViewTable from './table';\nimport ViewGrid from './grid';\nimport ViewList from './list';\nimport ViewPickerGrid from './picker-grid';\nimport ViewPickerTable from './picker-table';\nimport {\n\tLAYOUT_GRID,\n\tLAYOUT_LIST,\n\tLAYOUT_TABLE,\n\tLAYOUT_PICKER_GRID,\n\tLAYOUT_PICKER_TABLE,\n} from '../constants';\nimport PreviewSizePicker from './utils/preview-size-picker';\nimport DensityPicker from './table/density-picker';\n\nexport const VIEW_LAYOUTS = [\n\t{\n\t\ttype: LAYOUT_TABLE,\n\t\tlabel: __( 'Table' ),\n\t\tcomponent: ViewTable,\n\t\ticon: blockTable,\n\t\tviewConfigOptions: DensityPicker,\n\t},\n\t{\n\t\ttype: LAYOUT_GRID,\n\t\tlabel: __( 'Grid' ),\n\t\tcomponent: ViewGrid,\n\t\ticon: category,\n\t\tviewConfigOptions: PreviewSizePicker,\n\t},\n\t{\n\t\ttype: LAYOUT_LIST,\n\t\tlabel: __( 'List' ),\n\t\tcomponent: ViewList,\n\t\ticon: isRTL() ? formatListBulletsRTL : formatListBullets,\n\t},\n\t{\n\t\ttype: LAYOUT_PICKER_GRID,\n\t\tlabel: __( 'Grid' ),\n\t\tcomponent: ViewPickerGrid,\n\t\ticon: category,\n\t\tviewConfigOptions: PreviewSizePicker,\n\t\tisPicker: true,\n\t},\n\t{\n\t\ttype: LAYOUT_PICKER_TABLE,\n\t\tlabel: __( 'Table' ),\n\t\tcomponent: ViewPickerTable,\n\t\ticon: blockTable,\n\t\tviewConfigOptions: DensityPicker,\n\t\tisPicker: true,\n\t},\n];\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ComponentProps, ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Spinner, Popover } from '@wordpress/components';\nimport {\n\tuseContext,\n\tuseEffect,\n\tuseId,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport ItemActions from '../../components/dataviews-item-actions';\nimport { sortValues } from '../../constants';\nimport {\n\tuseSomeItemHasAPossibleBulkAction,\n\tuseHasAPossibleBulkAction,\n\tBulkSelectionCheckbox,\n} from '../../components/dataviews-bulk-actions';\nimport type {\n\tAction,\n\tNormalizedField,\n\tViewTable as ViewTableType,\n\tViewTableProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport ColumnHeaderMenu from './column-header-menu';\nimport ColumnPrimary from './column-primary';\nimport { useIsHorizontalScrollEnd } from './use-is-horizontal-scroll-end';\nimport getDataByGroup from '../utils/get-data-by-group';\nimport { PropertiesSection } from '../../components/dataviews-view-config/properties-section';\n\ninterface TableColumnFieldProps< Item > {\n\tfields: NormalizedField< Item >[];\n\tcolumn: string;\n\titem: Item;\n\talign?: 'start' | 'center' | 'end';\n}\n\ninterface TableRowProps< Item > {\n\thasBulkActions: boolean;\n\titem: Item;\n\tlevel?: number;\n\tactions: Action< Item >[];\n\tfields: NormalizedField< Item >[];\n\tid: string;\n\tview: ViewTableType;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tselection: string[];\n\tgetItemId: ( item: Item ) => string;\n\tonChangeSelection: SetSelection;\n\tisItemClickable: ( item: Item ) => boolean;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisActionsColumnSticky?: boolean;\n\tposinset?: number;\n}\n\nfunction TableColumnField< Item >( {\n\titem,\n\tfields,\n\tcolumn,\n\talign,\n}: TableColumnFieldProps< Item > ) {\n\tconst field = fields.find( ( f ) => f.id === column );\n\n\tif ( ! field ) {\n\t\treturn null;\n\t}\n\n\tconst className = clsx( 'dataviews-view-table__cell-content-wrapper', {\n\t\t'dataviews-view-table__cell-align-end': align === 'end',\n\t\t'dataviews-view-table__cell-align-center': align === 'center',\n\t} );\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<field.render item={ item } field={ field } />\n\t\t</div>\n\t);\n}\n\nfunction TableRow< Item >( {\n\thasBulkActions,\n\titem,\n\tlevel,\n\tactions,\n\tfields,\n\tid,\n\tview,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tselection,\n\tgetItemId,\n\tisItemClickable,\n\tonClickItem,\n\trenderItemLink,\n\tonChangeSelection,\n\tisActionsColumnSticky,\n\tposinset,\n}: TableRowProps< Item > ) {\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\tconst hasPossibleBulkAction = useHasAPossibleBulkAction( actions, item );\n\tconst isSelected = hasPossibleBulkAction && selection.includes( id );\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst handleMouseEnter = () => {\n\t\tsetIsHovered( true );\n\t};\n\tconst handleMouseLeave = () => {\n\t\tsetIsHovered( false );\n\t};\n\n\t// Will be set to true if `onTouchStart` fires. This happens before\n\t// `onClick` and can be used to exclude touchscreen devices from certain\n\t// behaviours.\n\tconst isTouchDeviceRef = useRef( false );\n\tconst columns = view.fields ?? [];\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\n\treturn (\n\t\t<tr\n\t\t\tclassName={ clsx( 'dataviews-view-table__row', {\n\t\t\t\t'is-selected': hasPossibleBulkAction && isSelected,\n\t\t\t\t'is-hovered': isHovered,\n\t\t\t\t'has-bulk-actions': hasPossibleBulkAction,\n\t\t\t} ) }\n\t\t\tonMouseEnter={ handleMouseEnter }\n\t\t\tonMouseLeave={ handleMouseLeave }\n\t\t\tonTouchStart={ () => {\n\t\t\t\tisTouchDeviceRef.current = true;\n\t\t\t} }\n\t\t\taria-setsize={\n\t\t\t\tinfiniteScrollEnabled ? paginationInfo.totalItems : undefined\n\t\t\t}\n\t\t\taria-posinset={ posinset }\n\t\t\trole={ infiniteScrollEnabled ? 'article' : undefined }\n\t\t\tonClick={ ( event ) => {\n\t\t\t\tif ( ! hasPossibleBulkAction ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t! isTouchDeviceRef.current &&\n\t\t\t\t\tdocument.getSelection()?.type !== 'Range'\n\t\t\t\t) {\n\t\t\t\t\tif ( isAppleOS() ? event.metaKey : event.ctrlKey ) {\n\t\t\t\t\t\t// Handle non-consecutive selection.\n\t\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t\t\t? selection.filter(\n\t\t\t\t\t\t\t\t\t\t( itemId ) => id !== itemId\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: [ ...selection, id ]\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Handle single selection\n\t\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t\t\t? selection.filter(\n\t\t\t\t\t\t\t\t\t\t( itemId ) => id !== itemId\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: [ id ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} }\n\t\t>\n\t\t\t{ hasBulkActions && (\n\t\t\t\t<td className=\"dataviews-view-table__checkbox-column\">\n\t\t\t\t\t<div className=\"dataviews-view-table__cell-content-wrapper\">\n\t\t\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\tdisabled={ ! hasPossibleBulkAction }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t) }\n\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t<td>\n\t\t\t\t\t<ColumnPrimary\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tlevel={ level }\n\t\t\t\t\t\ttitleField={ showTitle ? titleField : undefined }\n\t\t\t\t\t\tmediaField={ showMedia ? mediaField : undefined }\n\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\tshowDescription ? descriptionField : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t/>\n\t\t\t\t</td>\n\t\t\t) }\n\t\t\t{ columns.map( ( column: string ) => {\n\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\n\t\t\t\treturn (\n\t\t\t\t\t<td\n\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableColumnField\n\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tcolumn={ column }\n\t\t\t\t\t\t\talign={ align }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ !! actions?.length && (\n\t\t\t\t// Disable reason: we are not making the element interactive,\n\t\t\t\t// but preventing any click events from bubbling up to the\n\t\t\t\t// table row. This allows us to add a click handler to the row\n\t\t\t\t// itself (to toggle row selection) without erroneously\n\t\t\t\t// intercepting click events from ItemActions.\n\n\t\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t\t\t<td\n\t\t\t\t\tclassName={ clsx( 'dataviews-view-table__actions-column', {\n\t\t\t\t\t\t'dataviews-view-table__actions-column--sticky': true,\n\t\t\t\t\t\t'dataviews-view-table__actions-column--stuck':\n\t\t\t\t\t\t\tisActionsColumnSticky,\n\t\t\t\t\t} ) }\n\t\t\t\t\tonClick={ ( e ) => e.stopPropagation() }\n\t\t\t\t>\n\t\t\t\t\t<ItemActions item={ item } actions={ actions } />\n\t\t\t\t</td>\n\t\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t\t) }\n\t\t</tr>\n\t);\n}\n\nfunction ViewTable< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tgetItemLevel,\n\tisLoading = false,\n\tonChangeView,\n\tonChangeSelection,\n\tselection,\n\tsetOpenedFilter,\n\tonClickItem,\n\tisItemClickable,\n\trenderItemLink,\n\tview,\n\tclassName,\n\tempty,\n}: ViewTableProps< Item > ) {\n\tconst { containerRef } = useContext( DataViewsContext );\n\tconst headerMenuRefs = useRef<\n\t\tMap< string, { node: HTMLButtonElement; fallback: string } >\n\t>( new Map() );\n\tconst headerMenuToFocusRef = useRef< HTMLButtonElement >();\n\tconst [ nextHeaderMenuToFocus, setNextHeaderMenuToFocus ] =\n\t\tuseState< HTMLButtonElement >();\n\tconst hasBulkActions = useSomeItemHasAPossibleBulkAction( actions, data );\n\tconst [ contextMenuAnchor, setContextMenuAnchor ] = useState< {\n\t\tgetBoundingClientRect: () => DOMRect;\n\t} | null >( null );\n\n\tuseEffect( () => {\n\t\tif ( headerMenuToFocusRef.current ) {\n\t\t\theaderMenuToFocusRef.current.focus();\n\t\t\theaderMenuToFocusRef.current = undefined;\n\t\t}\n\t} );\n\n\tconst tableNoticeId = useId();\n\n\tconst isHorizontalScrollEnd = useIsHorizontalScrollEnd( {\n\t\tscrollContainerRef: containerRef,\n\t\tenabled: !! actions?.length,\n\t} );\n\n\tif ( nextHeaderMenuToFocus ) {\n\t\t// If we need to force focus, we short-circuit rendering here\n\t\t// to prevent any additional work while we handle that.\n\t\t// Clearing out the focus directive is necessary to make sure\n\t\t// future renders don't cause unexpected focus jumps.\n\t\theaderMenuToFocusRef.current = nextHeaderMenuToFocus;\n\t\tsetNextHeaderMenuToFocus( undefined );\n\t\treturn;\n\t}\n\n\tconst onHide = ( field: NormalizedField< Item > ) => {\n\t\tconst hidden = headerMenuRefs.current.get( field.id );\n\t\tconst fallback = hidden\n\t\t\t? headerMenuRefs.current.get( hidden.fallback )\n\t\t\t: undefined;\n\t\tsetNextHeaderMenuToFocus( fallback?.node );\n\t};\n\n\tconst handleHeaderContextMenu = ( event: React.MouseEvent ) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tconst virtualAnchor = {\n\t\t\tgetBoundingClientRect: () => ( {\n\t\t\t\tx: event.clientX,\n\t\t\t\ty: event.clientY,\n\t\t\t\ttop: event.clientY,\n\t\t\t\tleft: event.clientX,\n\t\t\t\tright: event.clientX,\n\t\t\t\tbottom: event.clientY,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\ttoJSON: () => ( {} ),\n\t\t\t} ),\n\t\t};\n\t\twindow.requestAnimationFrame( () => {\n\t\t\tsetContextMenuAnchor( virtualAnchor );\n\t\t} );\n\t};\n\n\tconst hasData = !! data?.length;\n\n\tconst titleField = fields.find( ( field ) => field.id === view.titleField );\n\tconst mediaField = fields.find( ( field ) => field.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view.descriptionField\n\t);\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\tconst { showTitle = true, showMedia = true, showDescription = true } = view;\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\tconst columns = view.fields ?? [];\n\tconst headerMenuRef =\n\t\t( column: string, index: number ) => ( node: HTMLButtonElement ) => {\n\t\t\tif ( node ) {\n\t\t\t\theaderMenuRefs.current.set( column, {\n\t\t\t\t\tnode,\n\t\t\t\t\tfallback: columns[ index > 0 ? index - 1 : 1 ],\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\theaderMenuRefs.current.delete( column );\n\t\t\t}\n\t\t};\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\treturn (\n\t\t<>\n\t\t\t<table\n\t\t\t\tclassName={ clsx( 'dataviews-view-table', className, {\n\t\t\t\t\t[ `has-${ view.layout?.density }-density` ]:\n\t\t\t\t\t\tview.layout?.density &&\n\t\t\t\t\t\t[ 'compact', 'comfortable' ].includes(\n\t\t\t\t\t\t\tview.layout.density\n\t\t\t\t\t\t),\n\t\t\t\t} ) }\n\t\t\t\taria-busy={ isLoading }\n\t\t\t\taria-describedby={ tableNoticeId }\n\t\t\t\trole={ isInfiniteScroll ? 'feed' : undefined }\n\t\t\t>\n\t\t\t\t<colgroup>\n\t\t\t\t\t{ hasBulkActions && (\n\t\t\t\t\t\t<col className=\"dataviews-view-table__col-checkbox\" />\n\t\t\t\t\t) }\n\t\t\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t\t\t<col className=\"dataviews-view-table__col-primary\" />\n\t\t\t\t\t) }\n\t\t\t\t\t{ columns.map( ( column ) => (\n\t\t\t\t\t\t<col\n\t\t\t\t\t\t\tkey={ `col-${ column }` }\n\t\t\t\t\t\t\tclassName={ `dataviews-view-table__col-${ column }` }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t\t{ !! actions?.length && (\n\t\t\t\t\t\t<col className=\"dataviews-view-table__col-actions\" />\n\t\t\t\t\t) }\n\t\t\t\t</colgroup>\n\t\t\t\t{ contextMenuAnchor && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tanchor={ contextMenuAnchor }\n\t\t\t\t\t\tonClose={ () => setContextMenuAnchor( null ) }\n\t\t\t\t\t\tplacement=\"bottom-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<PropertiesSection showLabel={ false } />\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t\t<thead onContextMenu={ handleHeaderContextMenu }>\n\t\t\t\t\t<tr className=\"dataviews-view-table__row\">\n\t\t\t\t\t\t{ hasBulkActions && (\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__checkbox-column\"\n\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\tonContextMenu={ handleHeaderContextMenu }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BulkSelectionCheckbox\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ titleField && (\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef(\n\t\t\t\t\t\t\t\t\t\t\ttitleField.id,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ titleField.id }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={ false }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ columns.map( ( column, index ) => {\n\t\t\t\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t\t\t\t\ttextAlign: align,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\taria-sort={\n\t\t\t\t\t\t\t\t\t\tview.sort?.direction &&\n\t\t\t\t\t\t\t\t\t\tview.sort?.field === column\n\t\t\t\t\t\t\t\t\t\t\t? sortValues[ view.sort.direction ]\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef( column, index ) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ column }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={\n\t\t\t\t\t\t\t\t\t\t\tview.layout?.enableMoving ?? true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t{ !! actions?.length && (\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t'dataviews-view-table__actions-column',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'dataviews-view-table__actions-column--sticky':\n\t\t\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\t\t'dataviews-view-table__actions-column--stuck':\n\t\t\t\t\t\t\t\t\t\t\t! isHorizontalScrollEnd,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"dataviews-view-table-header\">\n\t\t\t\t\t\t\t\t\t{ __( 'Actions' ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t{ /* Render grouped data if groupByField is specified */ }\n\t\t\t\t{ hasData && groupField && dataByGroup ? (\n\t\t\t\t\tArray.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t<tbody key={ `group-${ groupName }` }>\n\t\t\t\t\t\t\t\t<tr className=\"dataviews-view-table__group-header-row\">\n\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\tcolumns.length +\n\t\t\t\t\t\t\t\t\t\t\t( hasPrimaryColumn ? 1 : 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t( hasBulkActions ? 1 : 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t( actions?.length ? 1 : 0 )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__group-header-cell\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{ groupItems.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tlevel={\n\t\t\t\t\t\t\t\t\t\t\tview.showLevels &&\n\t\t\t\t\t\t\t\t\t\t\ttypeof getItemLevel === 'function'\n\t\t\t\t\t\t\t\t\t\t\t\t? getItemLevel( item )\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thasBulkActions={ hasBulkActions }\n\t\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\t\t\tgetItemId( item ) ||\n\t\t\t\t\t\t\t\t\t\t\tindex.toString()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\t\t\t\t\tisActionsColumnSticky={\n\t\t\t\t\t\t\t\t\t\t\t! isHorizontalScrollEnd\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{ hasData &&\n\t\t\t\t\t\t\tdata.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tlevel={\n\t\t\t\t\t\t\t\t\t\tview.showLevels &&\n\t\t\t\t\t\t\t\t\t\ttypeof getItemLevel === 'function'\n\t\t\t\t\t\t\t\t\t\t\t? getItemLevel( item )\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thasBulkActions={ hasBulkActions }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\tid={ getItemId( item ) || index.toString() }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\t\t\t\tisActionsColumnSticky={\n\t\t\t\t\t\t\t\t\t\t! isHorizontalScrollEnd\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tposinset={\n\t\t\t\t\t\t\t\t\t\tisInfiniteScroll ? index + 1 : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</tbody>\n\t\t\t\t) }\n\t\t\t</table>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t'dataviews-no-results': ! hasData && ! isLoading,\n\t\t\t\t} ) }\n\t\t\t\tid={ tableNoticeId }\n\t\t\t>\n\t\t\t\t{ ! hasData &&\n\t\t\t\t\t( isLoading ? (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tempty\n\t\t\t\t\t) ) }\n\t\t\t\t{ hasData && isLoading && (\n\t\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ViewTable;\n", "/**\n * WordPress dependencies\n */\nimport { CheckboxControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { SetSelection } from '../../types/private';\nimport type { NormalizedField } from '../../types';\n\ninterface DataViewsSelectionCheckboxProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\titem: Item;\n\tgetItemId: ( item: Item ) => string;\n\ttitleField?: NormalizedField< Item >;\n\tdisabled: boolean;\n\ttabIndex?: number;\n}\n\nexport default function DataViewsSelectionCheckbox< Item >( {\n\tselection,\n\tonChangeSelection,\n\titem,\n\tgetItemId,\n\ttitleField,\n\tdisabled,\n\t...extraProps\n}: DataViewsSelectionCheckboxProps< Item > ) {\n\tconst id = getItemId( item );\n\tconst checked = ! disabled && selection.includes( id );\n\n\t// Fallback label to ensure accessibility\n\tconst selectionLabel =\n\t\ttitleField?.getValue?.( { item } ) || __( '(no title)' );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"dataviews-selection-checkbox\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\taria-label={ selectionLabel }\n\t\t\taria-disabled={ disabled }\n\t\t\tchecked={ checked }\n\t\t\tonChange={ () => {\n\t\t\t\tif ( disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tonChangeSelection(\n\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t? selection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t\t: [ ...selection, id ]\n\t\t\t\t);\n\t\t\t} }\n\t\t\t{ ...extraProps }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { MouseEventHandler } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalHStack as HStack,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMemo, useState } from '@wordpress/element';\nimport { moreVertical } from '@wordpress/icons';\nimport { useRegistry } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport type { Action, ActionModal as ActionModalType } from '../../types';\n\nconst { Menu, kebabCase } = unlock( componentsPrivateApis );\n\nexport interface ActionTriggerProps< Item > {\n\taction: Action< Item >;\n\tonClick: MouseEventHandler;\n\tisBusy?: boolean;\n\titems: Item[];\n}\n\nexport interface ActionModalProps< Item > {\n\taction: ActionModalType< Item >;\n\titems: Item[];\n\tcloseModal: () => void;\n}\n\ninterface ActionsMenuGroupProps< Item > {\n\tactions: Action< Item >[];\n\titem: Item;\n\tregistry: ReturnType< typeof useRegistry >;\n\tsetActiveModalAction: ( action: ActionModalType< Item > | null ) => void;\n}\n\ninterface ItemActionsProps< Item > {\n\titem: Item;\n\tactions: Action< Item >[];\n\tisCompact?: boolean;\n}\n\ninterface CompactItemActionsProps< Item > {\n\titem: Item;\n\tactions: Action< Item >[];\n\tisSmall?: boolean;\n\tregistry: ReturnType< typeof useRegistry >;\n}\n\ninterface PrimaryActionsProps< Item > {\n\titem: Item;\n\tactions: Action< Item >[];\n\tregistry: ReturnType< typeof useRegistry >;\n}\n\nfunction ButtonTrigger< Item >( {\n\taction,\n\tonClick,\n\titems,\n}: ActionTriggerProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<Button\n\t\t\tdisabled={ !! action.disabled }\n\t\t\taccessibleWhenDisabled\n\t\t\tsize=\"compact\"\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n\nfunction MenuItemTrigger< Item >( {\n\taction,\n\tonClick,\n\titems,\n}: ActionTriggerProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<Menu.Item disabled={ action.disabled } onClick={ onClick }>\n\t\t\t<Menu.ItemLabel>{ label }</Menu.ItemLabel>\n\t\t</Menu.Item>\n\t);\n}\n\nexport function ActionModal< Item >( {\n\taction,\n\titems,\n\tcloseModal,\n}: ActionModalProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\n\tconst modalHeader =\n\t\ttypeof action.modalHeader === 'function'\n\t\t\t? action.modalHeader( items )\n\t\t\t: action.modalHeader;\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ modalHeader || label }\n\t\t\t__experimentalHideHeader={ !! action.hideModalHeader }\n\t\t\tonRequestClose={ closeModal }\n\t\t\tfocusOnMount={ action.modalFocusOnMount ?? true }\n\t\t\tsize={ action.modalSize || 'medium' }\n\t\t\toverlayClassName={ `dataviews-action-modal dataviews-action-modal__${ kebabCase(\n\t\t\t\taction.id\n\t\t\t) }` }\n\t\t>\n\t\t\t<action.RenderModal items={ items } closeModal={ closeModal } />\n\t\t</Modal>\n\t);\n}\n\nexport function ActionsMenuGroup< Item >( {\n\tactions,\n\titem,\n\tregistry,\n\tsetActiveModalAction,\n}: ActionsMenuGroupProps< Item > ) {\n\tconst { primaryActions, regularActions } = useMemo( () => {\n\t\treturn actions.reduce(\n\t\t\t( acc, action ) => {\n\t\t\t\t( action.isPrimary\n\t\t\t\t\t? acc.primaryActions\n\t\t\t\t\t: acc.regularActions\n\t\t\t\t).push( action );\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{\n\t\t\t\tprimaryActions: [] as Action< Item >[],\n\t\t\t\tregularActions: [] as Action< Item >[],\n\t\t\t}\n\t\t);\n\t}, [ actions ] );\n\n\tconst renderActionGroup = ( actionList: Action< Item >[] ) =>\n\t\tactionList.map( ( action ) => (\n\t\t\t<MenuItemTrigger\n\t\t\t\tkey={ action.id }\n\t\t\t\taction={ action }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tif ( 'RenderModal' in action ) {\n\t\t\t\t\t\tsetActiveModalAction( action );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\taction.callback( [ item ], { registry } );\n\t\t\t\t} }\n\t\t\t\titems={ [ item ] }\n\t\t\t/>\n\t\t) );\n\n\treturn (\n\t\t<Menu.Group>\n\t\t\t{ renderActionGroup( primaryActions ) }\n\t\t\t{ primaryActions.length > 0 && regularActions.length > 0 && (\n\t\t\t\t<Menu.Separator />\n\t\t\t) }\n\t\t\t{ renderActionGroup( regularActions ) }\n\t\t</Menu.Group>\n\t);\n}\n\nexport default function ItemActions< Item >( {\n\titem,\n\tactions,\n\tisCompact,\n}: ItemActionsProps< Item > ) {\n\tconst registry = useRegistry();\n\tconst { primaryActions, eligibleActions } = useMemo( () => {\n\t\t// If an action is eligible for all items, doesn't need\n\t\t// to provide the `isEligible` function.\n\t\tconst _eligibleActions = actions.filter(\n\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\n\t\t);\n\t\tconst _primaryActions = _eligibleActions.filter(\n\t\t\t( action ) => action.isPrimary\n\t\t);\n\t\treturn {\n\t\t\tprimaryActions: _primaryActions,\n\t\t\teligibleActions: _eligibleActions,\n\t\t};\n\t}, [ actions, item ] );\n\n\tif ( isCompact ) {\n\t\treturn (\n\t\t\t<CompactItemActions\n\t\t\t\titem={ item }\n\t\t\t\tactions={ eligibleActions }\n\t\t\t\tisSmall\n\t\t\t\tregistry={ registry }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<HStack\n\t\t\tspacing={ 0 }\n\t\t\tjustify=\"flex-end\"\n\t\t\tclassName=\"dataviews-item-actions\"\n\t\t\tstyle={ {\n\t\t\t\tflexShrink: 0,\n\t\t\t\twidth: 'auto',\n\t\t\t} }\n\t\t>\n\t\t\t<PrimaryActions\n\t\t\t\titem={ item }\n\t\t\t\tactions={ primaryActions }\n\t\t\t\tregistry={ registry }\n\t\t\t/>\n\t\t\t{ primaryActions.length < eligibleActions.length && (\n\t\t\t\t<CompactItemActions\n\t\t\t\t\titem={ item }\n\t\t\t\t\tactions={ eligibleActions }\n\t\t\t\t\tregistry={ registry }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</HStack>\n\t);\n}\n\nfunction CompactItemActions< Item >( {\n\titem,\n\tactions,\n\tisSmall,\n\tregistry,\n}: CompactItemActionsProps< Item > ) {\n\tconst [ activeModalAction, setActiveModalAction ] = useState(\n\t\tnull as ActionModalType< Item > | null\n\t);\n\treturn (\n\t\t<>\n\t\t\t<Menu placement=\"bottom-end\">\n\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\trender={\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize={ isSmall ? 'small' : 'compact' }\n\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\tdisabled={ ! actions.length }\n\t\t\t\t\t\t\tclassName=\"dataviews-all-actions-button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Menu.Popover>\n\t\t\t\t\t<ActionsMenuGroup\n\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tregistry={ registry }\n\t\t\t\t\t\tsetActiveModalAction={ setActiveModalAction }\n\t\t\t\t\t/>\n\t\t\t\t</Menu.Popover>\n\t\t\t</Menu>\n\t\t\t{ !! activeModalAction && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ activeModalAction }\n\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\tcloseModal={ () => setActiveModalAction( null ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction PrimaryActions< Item >( {\n\titem,\n\tactions,\n\tregistry,\n}: PrimaryActionsProps< Item > ) {\n\tconst [ activeModalAction, setActiveModalAction ] = useState( null as any );\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\n\tif ( isMobileViewport ) {\n\t\treturn null;\n\t}\n\n\tif ( ! Array.isArray( actions ) || actions.length === 0 ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t{ actions.map( ( action ) => (\n\t\t\t\t<ButtonTrigger\n\t\t\t\t\tkey={ action.id }\n\t\t\t\t\taction={ action }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tif ( 'RenderModal' in action ) {\n\t\t\t\t\t\t\tsetActiveModalAction( action );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction.callback( [ item ], { registry } );\n\t\t\t\t\t} }\n\t\t\t\t\titems={ [ item ] }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t\t{ !! activeModalAction && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ activeModalAction }\n\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\tcloseModal={ () => setActiveModalAction( null ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/dataviews'\n\t);\n", "/**\n * External dependencies\n */\nimport type { ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport { useMemo, useState, useRef, useContext } from '@wordpress/element';\nimport { useRegistry } from '@wordpress/data';\nimport { closeSmall } from '@wordpress/icons';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport { ActionModal } from '../dataviews-item-actions';\nimport type { Action, ActionModal as ActionModalType } from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport type { ActionTriggerProps } from '../dataviews-item-actions';\n\ninterface ActionWithModalProps< Item > {\n\taction: ActionModalType< Item >;\n\titems: Item[];\n\tActionTriggerComponent: (\n\t\tprops: ActionTriggerProps< Item >\n\t) => ReactElement;\n}\n\nfunction ActionWithModal< Item >( {\n\taction,\n\titems,\n\tActionTriggerComponent,\n}: ActionWithModalProps< Item > ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst actionTriggerProps = {\n\t\taction,\n\t\tonClick: () => {\n\t\t\tsetIsModalOpen( true );\n\t\t},\n\t\titems,\n\t};\n\treturn (\n\t\t<>\n\t\t\t<ActionTriggerComponent { ...actionTriggerProps } />\n\t\t\t{ isModalOpen && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ action }\n\t\t\t\t\titems={ items }\n\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport function useHasAPossibleBulkAction< Item >(\n\tactions: Action< Item >[],\n\titem: Item\n) {\n\treturn useMemo( () => {\n\t\treturn actions.some( ( action ) => {\n\t\t\treturn (\n\t\t\t\taction.supportsBulk &&\n\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t);\n\t\t} );\n\t}, [ actions, item ] );\n}\n\nexport function useSomeItemHasAPossibleBulkAction< Item >(\n\tactions: Action< Item >[],\n\tdata: Item[]\n) {\n\treturn useMemo( () => {\n\t\treturn data.some( ( item ) => {\n\t\t\treturn actions.some( ( action ) => {\n\t\t\t\treturn (\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t\t);\n\t\t\t} );\n\t\t} );\n\t}, [ actions, data ] );\n}\n\ninterface BulkSelectionCheckboxProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tactions: Action< Item >[];\n\tgetItemId: ( item: Item ) => string;\n}\n\nexport function BulkSelectionCheckbox< Item >( {\n\tselection,\n\tonChangeSelection,\n\tdata,\n\tactions,\n\tgetItemId,\n}: BulkSelectionCheckboxProps< Item > ) {\n\tconst selectableItems = useMemo( () => {\n\t\treturn data.filter( ( item ) => {\n\t\t\treturn actions.some(\n\t\t\t\t( action ) =>\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t);\n\t\t} );\n\t}, [ data, actions ] );\n\tconst selectedItems = data.filter(\n\t\t( item ) =>\n\t\t\tselection.includes( getItemId( item ) ) &&\n\t\t\tselectableItems.includes( item )\n\t);\n\tconst areAllSelected = selectedItems.length === selectableItems.length;\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"dataviews-view-table-selection-checkbox\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tchecked={ areAllSelected }\n\t\t\tindeterminate={ ! areAllSelected && !! selectedItems.length }\n\t\t\tonChange={ () => {\n\t\t\t\tif ( areAllSelected ) {\n\t\t\t\t\tonChangeSelection( [] );\n\t\t\t\t} else {\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselectableItems.map( ( item ) => getItemId( item ) )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t\taria-label={\n\t\t\t\tareAllSelected ? __( 'Deselect all' ) : __( 'Select all' )\n\t\t\t}\n\t\t/>\n\t);\n}\n\ninterface ActionButtonProps< Item > {\n\taction: Action< Item >;\n\tselectedItems: Item[];\n\tactionInProgress: string | null;\n\tsetActionInProgress: ( actionId: string | null ) => void;\n}\n\ninterface ToolbarContentProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tactions: Action< Item >[];\n\tgetItemId: ( item: Item ) => string;\n}\n\nfunction ActionTrigger< Item >( {\n\taction,\n\tonClick,\n\tisBusy,\n\titems,\n}: ActionTriggerProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\n\tif ( isMobile ) {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tdisabled={ isBusy }\n\t\t\t\taccessibleWhenDisabled\n\t\t\t\tlabel={ label }\n\t\t\t\ticon={ action.icon }\n\t\t\t\tsize=\"compact\"\n\t\t\t\tonClick={ onClick }\n\t\t\t\tisBusy={ isBusy }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tdisabled={ isBusy }\n\t\t\taccessibleWhenDisabled\n\t\t\tsize=\"compact\"\n\t\t\tonClick={ onClick }\n\t\t\tisBusy={ isBusy }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n\nconst EMPTY_ARRAY: [] = [];\n\nfunction ActionButton< Item >( {\n\taction,\n\tselectedItems,\n\tactionInProgress,\n\tsetActionInProgress,\n}: ActionButtonProps< Item > ) {\n\tconst registry = useRegistry();\n\tconst selectedEligibleItems = useMemo( () => {\n\t\treturn selectedItems.filter( ( item ) => {\n\t\t\treturn ! action.isEligible || action.isEligible( item );\n\t\t} );\n\t}, [ action, selectedItems ] );\n\tif ( 'RenderModal' in action ) {\n\t\treturn (\n\t\t\t<ActionWithModal\n\t\t\t\tkey={ action.id }\n\t\t\t\taction={ action }\n\t\t\t\titems={ selectedEligibleItems }\n\t\t\t\tActionTriggerComponent={ ActionTrigger }\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<ActionTrigger\n\t\t\tkey={ action.id }\n\t\t\taction={ action }\n\t\t\tonClick={ async () => {\n\t\t\t\tsetActionInProgress( action.id );\n\t\t\t\tawait action.callback( selectedItems, {\n\t\t\t\t\tregistry,\n\t\t\t\t} );\n\t\t\t\tsetActionInProgress( null );\n\t\t\t} }\n\t\t\titems={ selectedEligibleItems }\n\t\t\tisBusy={ actionInProgress === action.id }\n\t\t/>\n\t);\n}\n\nfunction renderFooterContent< Item >(\n\tdata: Item[],\n\tactions: Action< Item >[],\n\tgetItemId: ( item: Item ) => string,\n\tselection: string[],\n\tactionsToShow: Action< Item >[],\n\tselectedItems: Item[],\n\tactionInProgress: string | null,\n\tsetActionInProgress: ( actionId: string | null ) => void,\n\tonChangeSelection: SetSelection\n) {\n\tconst message =\n\t\tselectedItems.length > 0\n\t\t\t? sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n(\n\t\t\t\t\t\t'%d Item selected',\n\t\t\t\t\t\t'%d Items selected',\n\t\t\t\t\t\tselectedItems.length\n\t\t\t\t\t),\n\t\t\t\t\tselectedItems.length\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n( '%d Item', '%d Items', data.length ),\n\t\t\t\t\tdata.length\n\t\t\t  );\n\treturn (\n\t\t<HStack\n\t\t\texpanded={ false }\n\t\t\tclassName=\"dataviews-bulk-actions-footer__container\"\n\t\t\tspacing={ 3 }\n\t\t>\n\t\t\t<BulkSelectionCheckbox\n\t\t\t\tselection={ selection }\n\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\tdata={ data }\n\t\t\t\tactions={ actions }\n\t\t\t\tgetItemId={ getItemId }\n\t\t\t/>\n\t\t\t<span className=\"dataviews-bulk-actions-footer__item-count\">\n\t\t\t\t{ message }\n\t\t\t</span>\n\t\t\t<HStack\n\t\t\t\tclassName=\"dataviews-bulk-actions-footer__action-buttons\"\n\t\t\t\texpanded={ false }\n\t\t\t\tspacing={ 1 }\n\t\t\t>\n\t\t\t\t{ actionsToShow.map( ( action ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t\tkey={ action.id }\n\t\t\t\t\t\t\taction={ action }\n\t\t\t\t\t\t\tselectedItems={ selectedItems }\n\t\t\t\t\t\t\tactionInProgress={ actionInProgress }\n\t\t\t\t\t\t\tsetActionInProgress={ setActionInProgress }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t\t{ selectedItems.length > 0 && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tlabel={ __( 'Cancel' ) }\n\t\t\t\t\t\tdisabled={ !! actionInProgress }\n\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonChangeSelection( EMPTY_ARRAY );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t</HStack>\n\t);\n}\n\nfunction FooterContent< Item >( {\n\tselection,\n\tactions,\n\tonChangeSelection,\n\tdata,\n\tgetItemId,\n}: ToolbarContentProps< Item > ) {\n\tconst [ actionInProgress, setActionInProgress ] = useState< string | null >(\n\t\tnull\n\t);\n\tconst footerContentRef = useRef< JSX.Element | null >( null );\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\n\tconst bulkActions = useMemo(\n\t\t() => actions.filter( ( action ) => action.supportsBulk ),\n\t\t[ actions ]\n\t);\n\tconst selectableItems = useMemo( () => {\n\t\treturn data.filter( ( item ) => {\n\t\t\treturn bulkActions.some(\n\t\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\n\t\t\t);\n\t\t} );\n\t}, [ data, bulkActions ] );\n\n\tconst selectedItems = useMemo( () => {\n\t\treturn data.filter(\n\t\t\t( item ) =>\n\t\t\t\tselection.includes( getItemId( item ) ) &&\n\t\t\t\tselectableItems.includes( item )\n\t\t);\n\t}, [ selection, data, getItemId, selectableItems ] );\n\n\tconst actionsToShow = useMemo(\n\t\t() =>\n\t\t\tactions.filter( ( action ) => {\n\t\t\t\treturn (\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! isMobile || action.icon ) &&\n\t\t\t\t\tselectedItems.some(\n\t\t\t\t\t\t( item ) =>\n\t\t\t\t\t\t\t! action.isEligible || action.isEligible( item )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} ),\n\t\t[ actions, selectedItems, isMobile ]\n\t);\n\tif ( ! actionInProgress ) {\n\t\tif ( footerContentRef.current ) {\n\t\t\tfooterContentRef.current = null;\n\t\t}\n\t\treturn renderFooterContent(\n\t\t\tdata,\n\t\t\tactions,\n\t\t\tgetItemId,\n\t\t\tselection,\n\t\t\tactionsToShow,\n\t\t\tselectedItems,\n\t\t\tactionInProgress,\n\t\t\tsetActionInProgress,\n\t\t\tonChangeSelection\n\t\t);\n\t} else if ( ! footerContentRef.current ) {\n\t\tfooterContentRef.current = renderFooterContent(\n\t\t\tdata,\n\t\t\tactions,\n\t\t\tgetItemId,\n\t\t\tselection,\n\t\t\tactionsToShow,\n\t\t\tselectedItems,\n\t\t\tactionInProgress,\n\t\t\tsetActionInProgress,\n\t\t\tonChangeSelection\n\t\t);\n\t}\n\treturn footerContentRef.current;\n}\n\nexport function BulkActionsFooter() {\n\tconst {\n\t\tdata,\n\t\tselection,\n\t\tactions = EMPTY_ARRAY,\n\t\tonChangeSelection,\n\t\tgetItemId,\n\t} = useContext( DataViewsContext );\n\treturn (\n\t\t<FooterContent\n\t\t\tselection={ selection }\n\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\tdata={ data }\n\t\t\tactions={ actions }\n\t\t\tgetItemId={ getItemId }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { ReactNode, Ref, PropsWithoutRef, RefAttributes } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { arrowLeft, arrowRight, unseen, funnel } from '@wordpress/icons';\nimport {\n\tButton,\n\tIcon,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { forwardRef, Children, Fragment } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { SORTING_DIRECTIONS, sortArrows, sortLabels } from '../../constants';\nimport type {\n\tNormalizedField,\n\tSortDirection,\n\tViewTable as ViewTableType,\n\tViewPickerTable as ViewPickerTableType,\n\tOperator,\n} from '../../types';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\ninterface HeaderMenuProps< Item > {\n\tfieldId: string;\n\tview: ViewTableType | ViewPickerTableType;\n\tfields: NormalizedField< Item >[];\n\tonChangeView: ( view: ViewTableType | ViewPickerTableType ) => void;\n\tonHide: ( field: NormalizedField< Item > ) => void;\n\tsetOpenedFilter: ( fieldId: string ) => void;\n\tcanMove?: boolean;\n}\n\nfunction WithMenuSeparators( { children }: { children: ReactNode } ) {\n\treturn Children.toArray( children )\n\t\t.filter( Boolean )\n\t\t.map( ( child, i ) => (\n\t\t\t<Fragment key={ i }>\n\t\t\t\t{ i > 0 && <Menu.Separator /> }\n\t\t\t\t{ child }\n\t\t\t</Fragment>\n\t\t) );\n}\n\nconst _HeaderMenu = forwardRef( function HeaderMenu< Item >(\n\t{\n\t\tfieldId,\n\t\tview,\n\t\tfields,\n\t\tonChangeView,\n\t\tonHide,\n\t\tsetOpenedFilter,\n\t\tcanMove = true,\n\t}: HeaderMenuProps< Item >,\n\tref: Ref< HTMLButtonElement >\n) {\n\tconst visibleFieldIds = view.fields ?? [];\n\tconst index = visibleFieldIds?.indexOf( fieldId ) as number;\n\tconst isSorted = view.sort?.field === fieldId;\n\tlet isHidable = false;\n\tlet isSortable = false;\n\tlet canAddFilter = false;\n\tlet operators: Operator[] = [];\n\tconst field = fields.find( ( f ) => f.id === fieldId );\n\n\tif ( ! field ) {\n\t\t// No combined or regular field found.\n\t\treturn null;\n\t}\n\n\tisHidable = field.enableHiding !== false;\n\tisSortable = field.enableSorting !== false;\n\tconst header = field.header;\n\n\toperators = ( !! field.filterBy && field.filterBy?.operators ) || [];\n\n\t// Filter can be added if:\n\t//\n\t// 1. The field is not already part of a view's filters.\n\t// 2. The field has elements or Edit property.\n\t// 3. The field does not opt-out of filtering.\n\t// 4. The filter is not primary (if it is, it is already visible).\n\tcanAddFilter =\n\t\t! view.filters?.some( ( _filter ) => fieldId === _filter.field ) &&\n\t\t!! ( field.hasElements || field.Edit ) &&\n\t\tfield.filterBy !== false &&\n\t\t! field.filterBy?.isPrimary;\n\n\tif ( ! isSortable && ! canMove && ! isHidable && ! canAddFilter ) {\n\t\treturn header;\n\t}\n\n\treturn (\n\t\t<Menu>\n\t\t\t<Menu.TriggerButton\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tclassName=\"dataviews-view-table-header-button\"\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ header }\n\t\t\t\t{ view.sort && isSorted && (\n\t\t\t\t\t<span aria-hidden=\"true\">\n\t\t\t\t\t\t{ sortArrows[ view.sort.direction ] }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t</Menu.TriggerButton>\n\t\t\t<Menu.Popover style={ { minWidth: '240px' } }>\n\t\t\t\t<WithMenuSeparators>\n\t\t\t\t\t{ isSortable && (\n\t\t\t\t\t\t<Menu.Group>\n\t\t\t\t\t\t\t{ SORTING_DIRECTIONS.map(\n\t\t\t\t\t\t\t\t( direction: SortDirection ) => {\n\t\t\t\t\t\t\t\t\tconst isChecked =\n\t\t\t\t\t\t\t\t\t\tview.sort &&\n\t\t\t\t\t\t\t\t\t\tisSorted &&\n\t\t\t\t\t\t\t\t\t\tview.sort.direction === direction;\n\n\t\t\t\t\t\t\t\t\tconst value = `${ fieldId }-${ direction }`;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Menu.RadioItem\n\t\t\t\t\t\t\t\t\t\t\tkey={ value }\n\t\t\t\t\t\t\t\t\t\t\t// All sorting radio items share the same name, so that\n\t\t\t\t\t\t\t\t\t\t\t// selecting a sorting option automatically deselects the\n\t\t\t\t\t\t\t\t\t\t\t// previously selected one, even if it is displayed in\n\t\t\t\t\t\t\t\t\t\t\t// another submenu. The field and direction are passed via\n\t\t\t\t\t\t\t\t\t\t\t// the `value` prop.\n\t\t\t\t\t\t\t\t\t\t\tname=\"view-table-sorting\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\t\tchecked={ isChecked }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsort: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield: fieldId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirection,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowLevels: false,\n\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{ sortLabels[ direction ] }\n\t\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t</Menu.RadioItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Menu.Group>\n\t\t\t\t\t) }\n\t\t\t\t\t{ canAddFilter && (\n\t\t\t\t\t\t<Menu.Group>\n\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\tprefix={ <Icon icon={ funnel } /> }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetOpenedFilter( fieldId );\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\t\tfilters: [\n\t\t\t\t\t\t\t\t\t\t\t...( view.filters || [] ),\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tfield: fieldId,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\toperator: operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t{ __( 'Add filter' ) }\n\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t</Menu.Group>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ( canMove || isHidable ) && field && (\n\t\t\t\t\t\t<Menu.Group>\n\t\t\t\t\t\t\t{ canMove && (\n\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\tprefix={ <Icon icon={ arrowLeft } /> }\n\t\t\t\t\t\t\t\t\tdisabled={ index < 1 }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex - 1\n\t\t\t\t\t\t\t\t\t\t\t\t) ?? [] ),\n\t\t\t\t\t\t\t\t\t\t\t\tfieldId,\n\t\t\t\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index - 1 ],\n\t\t\t\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 1\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Move left' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ canMove && (\n\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\tprefix={ <Icon icon={ arrowRight } /> }\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\tindex >= visibleFieldIds.length - 1\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t) ?? [] ),\n\t\t\t\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index + 1 ],\n\t\t\t\t\t\t\t\t\t\t\t\tfieldId,\n\t\t\t\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 2\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Move right' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ isHidable && field && (\n\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\tprefix={ <Icon icon={ unseen } /> }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonHide( field );\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tfields: visibleFieldIds.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t( id ) => id !== fieldId\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Hide column' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Menu.Group>\n\t\t\t\t\t) }\n\t\t\t\t</WithMenuSeparators>\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n} );\n\n// @ts-expect-error Lift the `Item` type argument through the forwardRef.\nconst ColumnHeaderMenu: < Item >(\n\tprops: PropsWithoutRef< HeaderMenuProps< Item > > &\n\t\tRefAttributes< HTMLButtonElement >\n) => ReturnType< typeof _HeaderMenu > = _HeaderMenu;\n\nexport default ColumnHeaderMenu;\n", "/**\n * External dependencies\n */\nimport type { ComponentProps, ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\nimport { ItemClickWrapper } from '../utils/item-click-wrapper';\n\nfunction ColumnPrimary< Item >( {\n\titem,\n\tlevel,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tonClickItem,\n\trenderItemLink,\n\tisItemClickable,\n}: {\n\titem: Item;\n\tlevel?: number;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisItemClickable: ( item: Item ) => boolean;\n} ) {\n\treturn (\n\t\t<HStack spacing={ 3 } justify=\"flex-start\">\n\t\t\t{ mediaField && (\n\t\t\t\t<ItemClickWrapper\n\t\t\t\t\titem={ item }\n\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\tclassName=\"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media\"\n\t\t\t\t\taria-label={\n\t\t\t\t\t\tisItemClickable( item ) &&\n\t\t\t\t\t\t( !! onClickItem || !! renderItemLink ) &&\n\t\t\t\t\t\t!! titleField\n\t\t\t\t\t\t\t? titleField.getValue?.( { item } )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<mediaField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ mediaField }\n\t\t\t\t\t\tconfig={ { sizes: '32px' } }\n\t\t\t\t\t/>\n\t\t\t\t</ItemClickWrapper>\n\t\t\t) }\n\t\t\t<VStack\n\t\t\t\tspacing={ 0 }\n\t\t\t\talignment=\"flex-start\"\n\t\t\t\tclassName=\"dataviews-view-table__primary-column-content\"\n\t\t\t>\n\t\t\t\t{ titleField && (\n\t\t\t\t\t<ItemClickWrapper\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\tclassName=\"dataviews-view-table__cell-content-wrapper dataviews-title-field\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ level !== undefined && level > 0 && (\n\t\t\t\t\t\t\t<span className=\"dataviews-view-table__level\">\n\t\t\t\t\t\t\t\t{ '\u2014'.repeat( level ) }&nbsp;\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t\t\t\t</ItemClickWrapper>\n\t\t\t\t) }\n\t\t\t\t{ descriptionField && (\n\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</HStack>\n\t);\n}\n\nexport default ColumnPrimary;\n", "/**\n * External dependencies\n */\nimport type { ReactNode, ReactElement, ComponentProps } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\nfunction getClickableItemProps< Item >( {\n\titem,\n\tisItemClickable,\n\tonClickItem,\n\tclassName,\n}: {\n\titem: Item;\n\tisItemClickable: ( item: Item ) => boolean;\n\tonClickItem?: ( item: Item ) => void;\n\tclassName?: string;\n} ) {\n\tif ( ! isItemClickable( item ) || ! onClickItem ) {\n\t\treturn { className };\n\t}\n\n\treturn {\n\t\tclassName: className\n\t\t\t? `${ className } ${ className }--clickable`\n\t\t\t: undefined,\n\t\trole: 'button',\n\t\ttabIndex: 0,\n\t\tonClick: ( event: React.MouseEvent ) => {\n\t\t\t// Prevents onChangeSelection from triggering.\n\t\t\tevent.stopPropagation();\n\t\t\tonClickItem( item );\n\t\t},\n\t\tonKeyDown: ( event: React.KeyboardEvent ) => {\n\t\t\tif (\n\t\t\t\tevent.key === 'Enter' ||\n\t\t\t\tevent.key === '' ||\n\t\t\t\tevent.key === ' '\n\t\t\t) {\n\t\t\t\t// Prevents onChangeSelection from triggering.\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tonClickItem( item );\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport function ItemClickWrapper< Item >( {\n\titem,\n\tisItemClickable,\n\tonClickItem,\n\trenderItemLink,\n\tclassName,\n\tchildren,\n\t...extraProps\n}: {\n\titem: Item;\n\tisItemClickable: ( item: Item ) => boolean;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tclassName?: string;\n\tchildren: ReactNode;\n} ) {\n\t// Always render a wrapper element so layout and styling relying on the wrapper\n\t// still works even if the item is not clickable.\n\tif ( ! isItemClickable( item ) ) {\n\t\treturn (\n\t\t\t<div className={ className } { ...extraProps }>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// If we have a renderItemLink, use it\n\tif ( renderItemLink ) {\n\t\tconst renderedElement = renderItemLink( {\n\t\t\titem,\n\t\t\tclassName: `${ className } ${ className }--clickable`,\n\t\t\t...extraProps,\n\t\t\tchildren,\n\t\t} );\n\n\t\t// Clone the element and enhance onClick to stop propagation\n\t\treturn cloneElement( renderedElement, {\n\t\t\tonClick: ( event: React.MouseEvent ) => {\n\t\t\t\t// Always stop propagation to prevent selection\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t// If consumer provided an onClick, call it\n\t\t\t\tif ( renderedElement.props.onClick ) {\n\t\t\t\t\trenderedElement.props.onClick( event );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonKeyDown: ( event: React.KeyboardEvent ) => {\n\t\t\t\tif (\n\t\t\t\t\tevent.key === 'Enter' ||\n\t\t\t\t\tevent.key === '' ||\n\t\t\t\t\tevent.key === ' '\n\t\t\t\t) {\n\t\t\t\t\t// Prevents onChangeSelection from triggering.\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t// If consumer provided an onKeyDown, call it\n\t\t\t\t\tif ( renderedElement.props.onKeyDown ) {\n\t\t\t\t\t\trenderedElement.props.onKeyDown( event );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t} );\n\t}\n\n\t// Otherwise use the classic click handler approach\n\tconst clickProps = getClickableItemProps( {\n\t\titem,\n\t\tisItemClickable,\n\t\tonClickItem,\n\t\tclassName,\n\t} );\n\n\treturn (\n\t\t<div { ...clickProps } { ...extraProps }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { MutableRefObject } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useDebounce } from '@wordpress/compose';\nimport { useCallback, useEffect, useState } from '@wordpress/element';\nimport { isRTL } from '@wordpress/i18n';\n\nconst isScrolledToEnd = ( element: Element ) => {\n\tif ( isRTL() ) {\n\t\tconst scrollLeft = Math.abs( element.scrollLeft );\n\t\treturn scrollLeft <= 1;\n\t}\n\n\treturn element.scrollLeft + element.clientWidth >= element.scrollWidth - 1;\n};\n\n/**\n * A hook to check if a given scroll container has reached the horizontal scroll end.\n *\n * The current way receives \"refs\" as arguments, but it lacks a mechanism to detect when a ref has changed.\n * As a result, when the \"ref\" is updated and attached to a new div, the computation should trigger again.\n * However, this isn't possible in the current setup because the hook is unaware that the ref has changed.\n *\n * See https://github.com/Automattic/wp-calypso/pull/103005#discussion_r2077567912.\n *\n * @param {Object}                                  params                    The parameters for the hook.\n * @param {MutableRefObject<HTMLDivElement | null>} params.scrollContainerRef The ref to the scroll container element.\n * @param {boolean}                                 [params.enabled=false]    Whether the hook is enabled.\n * @return {boolean} - Returns true if the scroll container is scrolled to the end or false otherwise.\n */\nexport function useIsHorizontalScrollEnd( {\n\tscrollContainerRef,\n\tenabled = false,\n}: {\n\tscrollContainerRef: React.MutableRefObject< HTMLDivElement | null >;\n\tenabled?: boolean;\n} ): boolean {\n\tconst [ isHorizontalScrollEnd, setIsHorizontalScrollEnd ] =\n\t\tuseState( false );\n\n\tconst handleIsHorizontalScrollEnd = useDebounce(\n\t\tuseCallback( () => {\n\t\t\tconst scrollContainer = scrollContainerRef.current;\n\t\t\tif ( scrollContainer ) {\n\t\t\t\tsetIsHorizontalScrollEnd( isScrolledToEnd( scrollContainer ) );\n\t\t\t}\n\t\t}, [ scrollContainerRef, setIsHorizontalScrollEnd ] ),\n\t\t200\n\t);\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\ttypeof window === 'undefined' ||\n\t\t\t! enabled ||\n\t\t\t! scrollContainerRef.current\n\t\t) {\n\t\t\treturn () => {};\n\t\t}\n\n\t\thandleIsHorizontalScrollEnd();\n\t\tscrollContainerRef.current.addEventListener(\n\t\t\t'scroll',\n\t\t\thandleIsHorizontalScrollEnd\n\t\t);\n\t\twindow.addEventListener( 'resize', handleIsHorizontalScrollEnd );\n\n\t\treturn () => {\n\t\t\tscrollContainerRef.current?.removeEventListener(\n\t\t\t\t'scroll',\n\t\t\t\thandleIsHorizontalScrollEnd\n\t\t\t);\n\t\t\twindow.removeEventListener( 'resize', handleIsHorizontalScrollEnd );\n\t\t};\n\t}, [ scrollContainerRef, enabled ] );\n\n\treturn isHorizontalScrollEnd;\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function getDataByGroup< Item >(\n\tdata: any[],\n\tgroupByField: NormalizedField< Item >\n): Map< string, any[] > {\n\treturn data.reduce( ( groups: Map< string, typeof data >, item ) => {\n\t\tconst groupName = groupByField.getValue( { item } );\n\t\tif ( ! groups.has( groupName ) ) {\n\t\t\tgroups.set( groupName, [] );\n\t\t}\n\t\tgroups.get( groupName )?.push( item );\n\t\treturn groups;\n\t}, new Map< string, typeof data >() );\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tBaseControl,\n\tIcon,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\nimport { check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\nimport DataViewsContext from '../dataviews-context';\n\nfunction FieldItem( {\n\tfield,\n\tisVisible,\n\tonToggleVisibility,\n}: {\n\tfield: NormalizedField< any >;\n\tisVisible: boolean;\n\tonToggleVisibility?: () => void;\n} ) {\n\treturn (\n\t\t<Item onClick={ field.enableHiding ? onToggleVisibility : undefined }>\n\t\t\t<HStack expanded justify=\"flex-start\" alignment=\"center\">\n\t\t\t\t<div style={ { height: 24, width: 24 } }>\n\t\t\t\t\t{ isVisible && <Icon icon={ check } /> }\n\t\t\t\t</div>\n\t\t\t\t<span className=\"dataviews-view-config__label\">\n\t\t\t\t\t{ field.label }\n\t\t\t\t</span>\n\t\t\t</HStack>\n\t\t</Item>\n\t);\n}\n\nfunction isDefined< T >( item: T | undefined ): item is T {\n\treturn !! item;\n}\n\nexport function PropertiesSection( {\n\tshowLabel = true,\n}: {\n\tshowLabel?: boolean;\n} ) {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\n\tconst togglableFields = [\n\t\tview?.titleField,\n\t\tview?.mediaField,\n\t\tview?.descriptionField,\n\t].filter( Boolean );\n\n\t// Get all regular fields (non-locked) in their original order from fields prop\n\tconst regularFields = fields.filter(\n\t\t( f ) =>\n\t\t\t! togglableFields.includes( f.id ) &&\n\t\t\tf.type !== 'media' &&\n\t\t\tf.enableHiding !== false\n\t);\n\n\tif ( ! regularFields?.length ) {\n\t\treturn null;\n\t}\n\tconst titleField = fields.find( ( f ) => f.id === view.titleField );\n\tconst previewField = fields.find( ( f ) => f.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( f ) => f.id === view.descriptionField\n\t);\n\n\tconst lockedFields = [\n\t\t{\n\t\t\tfield: titleField,\n\t\t\tisVisibleFlag: 'showTitle',\n\t\t},\n\t\t{\n\t\t\tfield: previewField,\n\t\t\tisVisibleFlag: 'showMedia',\n\t\t},\n\t\t{\n\t\t\tfield: descriptionField,\n\t\t\tisVisibleFlag: 'showDescription',\n\t\t},\n\t].filter( ( { field } ) => isDefined( field ) );\n\tconst visibleFieldIds = view.fields ?? [];\n\tconst visibleRegularFieldsCount = regularFields.filter( ( f ) =>\n\t\tvisibleFieldIds.includes( f.id )\n\t).length;\n\n\tlet visibleLockedFields = lockedFields.filter(\n\t\t( { field, isVisibleFlag } ) =>\n\t\t\t// @ts-expect-error\n\t\t\tisDefined( field ) && ( view[ isVisibleFlag ] ?? true )\n\t) as Array< {\n\t\tfield: NormalizedField< any >;\n\t\tisVisibleFlag: string;\n\t} >;\n\n\t// If only one field (locked or regular) is visible, prevent it from being hidden\n\tconst totalVisibleFields =\n\t\tvisibleLockedFields.length + visibleRegularFieldsCount;\n\tif ( totalVisibleFields === 1 ) {\n\t\tif ( visibleLockedFields.length === 1 ) {\n\t\t\tvisibleLockedFields = visibleLockedFields.map( ( locked ) => ( {\n\t\t\t\t...locked,\n\t\t\t\tfield: { ...locked.field, enableHiding: false },\n\t\t\t} ) );\n\t\t}\n\t}\n\n\tconst hiddenLockedFields = lockedFields.filter(\n\t\t( { field, isVisibleFlag } ) =>\n\t\t\t// @ts-expect-error\n\t\t\tisDefined( field ) && ! ( view[ isVisibleFlag ] ?? true )\n\t) as Array< {\n\t\tfield: NormalizedField< any >;\n\t\tisVisibleFlag: string;\n\t} >;\n\n\treturn (\n\t\t<VStack className=\"dataviews-field-control\" spacing={ 0 }>\n\t\t\t{ showLabel && (\n\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t{ __( 'Properties' ) }\n\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t) }\n\t\t\t<VStack className=\"dataviews-view-config__properties\" spacing={ 0 }>\n\t\t\t\t<ItemGroup isBordered isSeparated size=\"medium\">\n\t\t\t\t\t{ visibleLockedFields.map( ( { field, isVisibleFlag } ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t[ isVisibleFlag ]: false,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\n\t\t\t\t\t{ hiddenLockedFields.map( ( { field, isVisibleFlag } ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\tisVisible={ false }\n\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t[ isVisibleFlag ]: true,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\n\t\t\t\t\t{ regularFields.map( ( field ) => {\n\t\t\t\t\t\t// Check if this is the last visible field to prevent hiding\n\t\t\t\t\t\tconst isVisible = visibleFieldIds.includes( field.id );\n\t\t\t\t\t\tconst isLastVisible =\n\t\t\t\t\t\t\ttotalVisibleFields === 1 && isVisible;\n\t\t\t\t\t\tconst fieldToRender = isLastVisible\n\t\t\t\t\t\t\t? { ...field, enableHiding: false }\n\t\t\t\t\t\t\t: field;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tfield={ fieldToRender }\n\t\t\t\t\t\t\t\tisVisible={ isVisible }\n\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\tfields: isVisible\n\t\t\t\t\t\t\t\t\t\t\t? visibleFieldIds.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t( fieldId ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldId !== field.id\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: [ ...visibleFieldIds, field.id ],\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ItemGroup>\n\t\t\t</VStack>\n\t\t</VStack>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ComponentProps, ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tSpinner,\n\tFlex,\n\tFlexItem,\n\tTooltip,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { isAppleOS } from '@wordpress/keycodes';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport ItemActions from '../../components/dataviews-item-actions';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport DataViewsContext from '../../components/dataviews-context';\nimport {\n\tuseHasAPossibleBulkAction,\n\tuseSomeItemHasAPossibleBulkAction,\n} from '../../components/dataviews-bulk-actions';\nimport type {\n\tAction,\n\tNormalizedField,\n\tViewGrid as ViewGridType,\n\tViewGridProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport { ItemClickWrapper } from '../utils/item-click-wrapper';\nimport { GridItems } from '../utils/grid-items';\nconst { Badge } = unlock( componentsPrivateApis );\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface GridItemProps< Item > {\n\tview: ViewGridType;\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tgetItemId: ( item: Item ) => string;\n\tonClickItem?: ( item: Item ) => void;\n\trenderItemLink?: (\n\t\tprops: {\n\t\t\titem: Item;\n\t\t} & ComponentProps< 'a' >\n\t) => ReactElement;\n\tisItemClickable: ( item: Item ) => boolean;\n\titem: Item;\n\tactions: Action< Item >[];\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tregularFields: NormalizedField< Item >[];\n\tbadgeFields: NormalizedField< Item >[];\n\thasBulkActions: boolean;\n\tconfig: {\n\t\tsizes: string;\n\t};\n\tposinset?: number;\n}\n\nfunction GridItem< Item >( {\n\tview,\n\tselection,\n\tonChangeSelection,\n\tonClickItem,\n\tisItemClickable,\n\trenderItemLink,\n\tgetItemId,\n\titem,\n\tactions,\n\tmediaField,\n\ttitleField,\n\tdescriptionField,\n\tregularFields,\n\tbadgeFields,\n\thasBulkActions,\n\tconfig,\n\tposinset,\n}: GridItemProps< Item > ) {\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst hasBulkAction = useHasAPossibleBulkAction( actions, item );\n\tconst id = getItemId( item );\n\tconst instanceId = useInstanceId( GridItem );\n\tconst isSelected = selection.includes( id );\n\tconst renderedMediaField = mediaField?.render ? (\n\t\t<mediaField.render\n\t\t\titem={ item }\n\t\t\tfield={ mediaField }\n\t\t\tconfig={ config }\n\t\t/>\n\t) : null;\n\tconst renderedTitleField =\n\t\tshowTitle && titleField?.render ? (\n\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t) : null;\n\tconst shouldRenderMedia = showMedia && renderedMediaField;\n\n\tlet mediaA11yProps;\n\tlet titleA11yProps;\n\tif ( isItemClickable( item ) && onClickItem ) {\n\t\tif ( renderedTitleField ) {\n\t\t\tmediaA11yProps = {\n\t\t\t\t'aria-labelledby': `dataviews-view-grid__title-field-${ instanceId }`,\n\t\t\t};\n\t\t\ttitleA11yProps = {\n\t\t\t\tid: `dataviews-view-grid__title-field-${ instanceId }`,\n\t\t\t};\n\t\t} else {\n\t\t\tmediaA11yProps = {\n\t\t\t\t'aria-label': __( 'Navigate to item' ),\n\t\t\t};\n\t\t}\n\t}\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\n\treturn (\n\t\t<VStack\n\t\t\tspacing={ 0 }\n\t\t\tkey={ id }\n\t\t\tclassName={ clsx( 'dataviews-view-grid__card', {\n\t\t\t\t'is-selected': hasBulkAction && isSelected,\n\t\t\t} ) }\n\t\t\tonClickCapture={ ( event ) => {\n\t\t\t\tif ( isAppleOS() ? event.metaKey : event.ctrlKey ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif ( ! hasBulkAction ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.includes( id )\n\t\t\t\t\t\t\t? selection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t\t\t: [ ...selection, id ]\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t\trole={ infiniteScrollEnabled ? 'article' : undefined }\n\t\t\taria-setsize={\n\t\t\t\tinfiniteScrollEnabled ? paginationInfo.totalItems : undefined\n\t\t\t}\n\t\t\taria-posinset={ posinset }\n\t\t>\n\t\t\t{ shouldRenderMedia && (\n\t\t\t\t<ItemClickWrapper\n\t\t\t\t\titem={ item }\n\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\tclassName=\"dataviews-view-grid__media\"\n\t\t\t\t\t{ ...mediaA11yProps }\n\t\t\t\t>\n\t\t\t\t\t{ renderedMediaField }\n\t\t\t\t</ItemClickWrapper>\n\t\t\t) }\n\t\t\t{ hasBulkActions && shouldRenderMedia && (\n\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\titem={ item }\n\t\t\t\t\tselection={ selection }\n\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\tdisabled={ ! hasBulkAction }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! showTitle && shouldRenderMedia && !! actions?.length && (\n\t\t\t\t<div className=\"dataviews-view-grid__media-actions\">\n\t\t\t\t\t<ItemActions item={ item } actions={ actions } isCompact />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ showTitle && (\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\tclassName=\"dataviews-view-grid__title-actions\"\n\t\t\t\t>\n\t\t\t\t\t<ItemClickWrapper\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\tclassName=\"dataviews-view-grid__title-field dataviews-title-field\"\n\t\t\t\t\t\t{ ...titleA11yProps }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ renderedTitleField }\n\t\t\t\t\t</ItemClickWrapper>\n\t\t\t\t\t{ !! actions?.length && (\n\t\t\t\t\t\t<ItemActions\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\tisCompact\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t{ showDescription && descriptionField?.render && (\n\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ !! badgeFields?.length && (\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"dataviews-view-grid__badge-fields\"\n\t\t\t\t\t\tspacing={ 2 }\n\t\t\t\t\t\twrap\n\t\t\t\t\t\talignment=\"top\"\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ badgeFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-grid__field-value\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t) }\n\t\t\t\t{ !! regularFields?.length && (\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tclassName=\"dataviews-view-grid__fields\"\n\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ regularFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-grid__field\"\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tgap={ 1 }\n\t\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\t\texpanded\n\t\t\t\t\t\t\t\t\tstyle={ { height: 'auto' } }\n\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Tooltip text={ field.label }>\n\t\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"dataviews-view-grid__field-name\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ field.header }\n\t\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-grid__field-value\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={ { maxHeight: 'none' } }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</VStack>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</VStack>\n\t);\n}\n\nfunction ViewGrid< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tisLoading,\n\tonChangeSelection,\n\tonClickItem,\n\tisItemClickable,\n\trenderItemLink,\n\tselection,\n\tview,\n\tclassName,\n\tempty,\n}: ViewGridProps< Item > ) {\n\tconst { resizeObserverRef } = useContext( DataViewsContext );\n\tconst titleField = fields.find(\n\t\t( field ) => field.id === view?.titleField\n\t);\n\tconst mediaField = fields.find(\n\t\t( field ) => field.id === view?.mediaField\n\t);\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view?.descriptionField\n\t);\n\tconst otherFields = view.fields ?? [];\n\tconst { regularFields, badgeFields } = otherFields.reduce(\n\t\t(\n\t\t\taccumulator: Record< string, NormalizedField< Item >[] >,\n\t\t\tfieldId\n\t\t) => {\n\t\t\tconst field = fields.find( ( f ) => f.id === fieldId );\n\t\t\tif ( ! field ) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\t\t\t// If the field is a badge field, add it to the badgeFields array\n\t\t\t// otherwise add it to the rest visibleFields array.\n\t\t\tconst key = view.layout?.badgeFields?.includes( fieldId )\n\t\t\t\t? 'badgeFields'\n\t\t\t\t: 'regularFields';\n\t\t\taccumulator[ key ].push( field );\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ regularFields: [], badgeFields: [] }\n\t);\n\tconst hasData = !! data?.length;\n\tconst hasBulkActions = useSomeItemHasAPossibleBulkAction( actions, data );\n\tconst usedPreviewSize = view.layout?.previewSize;\n\t/*\n\t * This is the maximum width that an image can achieve in the grid. The reasoning is:\n\t * The biggest min image width available is 430px (see /dataviews-layouts/grid/preview-size-picker.tsx).\n\t * Because the grid is responsive, once there is room for another column, the images shrink to accommodate it.\n\t * So each image will never grow past 2*430px plus a little more to account for the gaps.\n\t */\n\tconst size = '900px';\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\t// Render multiple groups.\n\t\t\t\thasData && groupField && dataByGroup && (\n\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t{ Array.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t\t<VStack key={ groupName } spacing={ 2 }>\n\t\t\t\t\t\t\t\t\t<h3 className=\"dataviews-view-grid__group-header\">\n\t\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<GridItems\n\t\t\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t\t\t'dataviews-view-grid',\n\t\t\t\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\t\t\t\t\tref={ resizeObserverRef }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ groupItems.map( ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\t\t\t\t\tisItemClickable={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisItemClickable\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderItemLink={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderItemLink\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\t\t\t\t\thasBulkActions={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thasBulkActions\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t</GridItems>\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// Render a single grid with all data.\n\t\t\t\thasData && ! dataByGroup && (\n\t\t\t\t\t<GridItems\n\t\t\t\t\t\tclassName={ clsx( 'dataviews-view-grid', className ) }\n\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\tref={ resizeObserverRef }\n\t\t\t\t\t\trole={ isInfiniteScroll ? 'feed' : undefined }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ data.map( ( item, index ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tonClickItem={ onClickItem }\n\t\t\t\t\t\t\t\t\tisItemClickable={ isItemClickable }\n\t\t\t\t\t\t\t\t\trenderItemLink={ renderItemLink }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tregularFields={ regularFields }\n\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\thasBulkActions={ hasBulkActions }\n\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tposinset={\n\t\t\t\t\t\t\t\t\t\tisInfiniteScroll ? index + 1 : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</GridItems>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\t// Render empty state.\n\t\t\t\t! hasData && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t\t\t'dataviews-no-results': ! isLoading,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isLoading ? (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tempty\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{ hasData && isLoading && (\n\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ViewGrid;\n", "/**\n * External dependencies\n */\nimport type { ComponentPropsWithoutRef } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\nexport const GridItems = forwardRef<\n\tHTMLDivElement,\n\t{\n\t\tclassName?: string;\n\t\tpreviewSize: number | undefined;\n\t} & ComponentPropsWithoutRef< 'div' >\n>( ( { className, previewSize, ...props }, ref ) => {\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ clsx( 'dataviews-view-grid-items', className ) }\n\t\t\tstyle={ {\n\t\t\t\tgridTemplateColumns:\n\t\t\t\t\tpreviewSize &&\n\t\t\t\t\t`repeat(auto-fill, minmax(${ previewSize }px, 1fr))`,\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n} );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId, usePrevious } from '@wordpress/compose';\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tButton,\n\tprivateApis as componentsPrivateApis,\n\tSpinner,\n\tVisuallyHidden,\n\tComposite,\n} from '@wordpress/components';\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n\tuseContext,\n} from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { moreVertical } from '@wordpress/icons';\nimport { useRegistry } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport {\n\tActionsMenuGroup,\n\tActionModal,\n} from '../../components/dataviews-item-actions';\nimport DataViewsContext from '../../components/dataviews-context';\nimport type {\n\tAction,\n\tNormalizedField,\n\tViewList as ViewListType,\n\tViewListProps,\n\tActionModal as ActionModalType,\n} from '../../types';\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface ListViewItemProps< Item > {\n\tview: ViewListType;\n\tactions: Action< Item >[];\n\tidPrefix: string;\n\tisSelected: boolean;\n\titem: Item;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tonSelect: ( item: Item ) => void;\n\totherFields: NormalizedField< Item >[];\n\tonDropdownTriggerKeyDown: React.KeyboardEventHandler< HTMLButtonElement >;\n\tposinset?: number;\n}\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nfunction generateItemWrapperCompositeId( idPrefix: string ) {\n\treturn `${ idPrefix }-item-wrapper`;\n}\nfunction generatePrimaryActionCompositeId(\n\tidPrefix: string,\n\tprimaryActionId: string\n) {\n\treturn `${ idPrefix }-primary-action-${ primaryActionId }`;\n}\nfunction generateDropdownTriggerCompositeId( idPrefix: string ) {\n\treturn `${ idPrefix }-dropdown`;\n}\n\nfunction PrimaryActionGridCell< Item >( {\n\tidPrefix,\n\tprimaryAction,\n\titem,\n}: {\n\tidPrefix: string;\n\tprimaryAction: Action< Item >;\n\titem: Item;\n} ) {\n\tconst registry = useRegistry();\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\tconst compositeItemId = generatePrimaryActionCompositeId(\n\t\tidPrefix,\n\t\tprimaryAction.id\n\t);\n\n\tconst label =\n\t\ttypeof primaryAction.label === 'string'\n\t\t\t? primaryAction.label\n\t\t\t: primaryAction.label( [ item ] );\n\n\treturn 'RenderModal' in primaryAction ? (\n\t\t<div role=\"gridcell\" key={ primaryAction.id }>\n\t\t\t<Composite.Item\n\t\t\t\tid={ compositeItemId }\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled={ !! primaryAction.disabled }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\ttext={ label }\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={ () => setIsModalOpen( true ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ isModalOpen && (\n\t\t\t\t\t<ActionModal< Item >\n\t\t\t\t\t\taction={ primaryAction }\n\t\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Composite.Item>\n\t\t</div>\n\t) : (\n\t\t<div role=\"gridcell\" key={ primaryAction.id }>\n\t\t\t<Composite.Item\n\t\t\t\tid={ compositeItemId }\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled={ !! primaryAction.disabled }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tprimaryAction.callback( [ item ], { registry } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label }\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nfunction ListItem< Item >( {\n\tview,\n\tactions,\n\tidPrefix,\n\tisSelected,\n\titem,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tonSelect,\n\totherFields,\n\tonDropdownTriggerKeyDown,\n\tposinset,\n}: ListViewItemProps< Item > ) {\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst itemRef = useRef< HTMLDivElement >( null );\n\tconst labelId = `${ idPrefix }-label`;\n\tconst descriptionId = `${ idPrefix }-description`;\n\n\tconst registry = useRegistry();\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst [ activeModalAction, setActiveModalAction ] = useState(\n\t\tnull as ActionModalType< Item > | null\n\t);\n\tconst handleHover: React.MouseEventHandler = ( { type } ) => {\n\t\tconst isHover = type === 'mouseenter';\n\t\tsetIsHovered( isHover );\n\t};\n\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\tuseEffect( () => {\n\t\tif ( isSelected ) {\n\t\t\titemRef.current?.scrollIntoView( {\n\t\t\t\tbehavior: 'auto',\n\t\t\t\tblock: 'nearest',\n\t\t\t\tinline: 'nearest',\n\t\t\t} );\n\t\t}\n\t}, [ isSelected ] );\n\n\tconst { primaryAction, eligibleActions } = useMemo( () => {\n\t\t// If an action is eligible for all items, doesn't need\n\t\t// to provide the `isEligible` function.\n\t\tconst _eligibleActions = actions.filter(\n\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\n\t\t);\n\t\tconst _primaryActions = _eligibleActions.filter(\n\t\t\t( action ) => action.isPrimary\n\t\t);\n\t\treturn {\n\t\t\tprimaryAction: _primaryActions[ 0 ],\n\t\t\teligibleActions: _eligibleActions,\n\t\t};\n\t}, [ actions, item ] );\n\n\tconst hasOnlyOnePrimaryAction = primaryAction && actions.length === 1;\n\n\tconst renderedMediaField =\n\t\tshowMedia && mediaField?.render ? (\n\t\t\t<div className=\"dataviews-view-list__media-wrapper\">\n\t\t\t\t<mediaField.render\n\t\t\t\t\titem={ item }\n\t\t\t\t\tfield={ mediaField }\n\t\t\t\t\tconfig={ { sizes: '52px' } }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t) : null;\n\n\tconst renderedTitleField =\n\t\tshowTitle && titleField?.render ? (\n\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t) : null;\n\n\tconst usedActions = eligibleActions?.length > 0 && (\n\t\t<HStack spacing={ 3 } className=\"dataviews-view-list__item-actions\">\n\t\t\t{ primaryAction && (\n\t\t\t\t<PrimaryActionGridCell\n\t\t\t\t\tidPrefix={ idPrefix }\n\t\t\t\t\tprimaryAction={ primaryAction }\n\t\t\t\t\titem={ item }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasOnlyOnePrimaryAction && (\n\t\t\t\t<div role=\"gridcell\">\n\t\t\t\t\t<Menu placement=\"bottom-end\">\n\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\t\t\t\tid={ generateDropdownTriggerCompositeId(\n\t\t\t\t\t\t\t\t\t\tidPrefix\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\t\t\tdisabled={ ! actions.length }\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={\n\t\t\t\t\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t<ActionsMenuGroup\n\t\t\t\t\t\t\t\tactions={ eligibleActions }\n\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\tregistry={ registry }\n\t\t\t\t\t\t\t\tsetActiveModalAction={ setActiveModalAction }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t</Menu>\n\t\t\t\t\t{ !! activeModalAction && (\n\t\t\t\t\t\t<ActionModal\n\t\t\t\t\t\t\taction={ activeModalAction }\n\t\t\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\t\t\tcloseModal={ () => setActiveModalAction( null ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</HStack>\n\t);\n\n\treturn (\n\t\t<Composite.Row\n\t\t\tref={ itemRef }\n\t\t\trender={\n\t\t\t\t/* aria-posinset breaks Composite.Row if passed to it directly. */\n\t\t\t\t<div\n\t\t\t\t\taria-posinset={ posinset }\n\t\t\t\t\taria-setsize={\n\t\t\t\t\t\tinfiniteScrollEnabled\n\t\t\t\t\t\t\t? paginationInfo.totalItems\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t}\n\t\t\trole={ infiniteScrollEnabled ? 'article' : 'row' }\n\t\t\tclassName={ clsx( {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t\t'is-hovered': isHovered,\n\t\t\t} ) }\n\t\t\tonMouseEnter={ handleHover }\n\t\t\tonMouseLeave={ handleHover }\n\t\t>\n\t\t\t<HStack className=\"dataviews-view-list__item-wrapper\" spacing={ 0 }>\n\t\t\t\t<div role=\"gridcell\">\n\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\tid={ generateItemWrapperCompositeId( idPrefix ) }\n\t\t\t\t\t\taria-pressed={ isSelected }\n\t\t\t\t\t\taria-labelledby={ labelId }\n\t\t\t\t\t\taria-describedby={ descriptionId }\n\t\t\t\t\t\tclassName=\"dataviews-view-list__item\"\n\t\t\t\t\t\tonClick={ () => onSelect( item ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<HStack spacing={ 3 } justify=\"start\" alignment=\"flex-start\">\n\t\t\t\t\t{ renderedMediaField }\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t\tclassName=\"dataviews-view-list__field-wrapper\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<HStack spacing={ 0 }>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"dataviews-title-field\"\n\t\t\t\t\t\t\t\tid={ labelId }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ renderedTitleField }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ usedActions }\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t{ showDescription && descriptionField?.render && (\n\t\t\t\t\t\t\t<div className=\"dataviews-view-list__field\">\n\t\t\t\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"dataviews-view-list__fields\"\n\t\t\t\t\t\t\tid={ descriptionId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ otherFields.map( ( field ) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-list__field\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-list__field-label\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t\t\t<span className=\"dataviews-view-list__field-value\">\n\t\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</VStack>\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t</Composite.Row>\n\t);\n}\n\nfunction isDefined< T >( item: T | undefined ): item is T {\n\treturn !! item;\n}\n\nexport default function ViewList< Item >( props: ViewListProps< Item > ) {\n\tconst {\n\t\tactions,\n\t\tdata,\n\t\tfields,\n\t\tgetItemId,\n\t\tisLoading,\n\t\tonChangeSelection,\n\t\tselection,\n\t\tview,\n\t\tclassName,\n\t\tempty,\n\t} = props;\n\tconst baseId = useInstanceId( ViewList, 'view-list' );\n\n\tconst selectedItem = data?.findLast( ( item ) =>\n\t\tselection.includes( getItemId( item ) )\n\t);\n\tconst titleField = fields.find( ( field ) => field.id === view.titleField );\n\tconst mediaField = fields.find( ( field ) => field.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view.descriptionField\n\t);\n\tconst otherFields = ( view?.fields ?? [] )\n\t\t.map( ( fieldId ) => fields.find( ( f ) => fieldId === f.id ) )\n\t\t.filter( isDefined );\n\n\tconst onSelect = ( item: Item ) =>\n\t\tonChangeSelection( [ getItemId( item ) ] );\n\n\tconst generateCompositeItemIdPrefix = useCallback(\n\t\t( item: Item ) => `${ baseId }-${ getItemId( item ) }`,\n\t\t[ baseId, getItemId ]\n\t);\n\n\tconst isActiveCompositeItem = useCallback(\n\t\t( item: Item, idToCheck: string ) => {\n\t\t\t// All composite items use the same prefix in their IDs.\n\t\t\treturn idToCheck.startsWith(\n\t\t\t\tgenerateCompositeItemIdPrefix( item )\n\t\t\t);\n\t\t},\n\t\t[ generateCompositeItemIdPrefix ]\n\t);\n\n\t// Controlled state for the active composite item.\n\tconst [ activeCompositeId, setActiveCompositeId ] = useState<\n\t\tstring | null | undefined\n\t>( undefined );\n\n\t// Update the active composite item when the selected item changes.\n\tuseEffect( () => {\n\t\tif ( selectedItem ) {\n\t\t\tsetActiveCompositeId(\n\t\t\t\tgenerateItemWrapperCompositeId(\n\t\t\t\t\tgenerateCompositeItemIdPrefix( selectedItem )\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}, [ selectedItem, generateCompositeItemIdPrefix ] );\n\n\tconst activeItemIndex = data.findIndex( ( item ) =>\n\t\tisActiveCompositeItem( item, activeCompositeId ?? '' )\n\t);\n\tconst previousActiveItemIndex = usePrevious( activeItemIndex );\n\tconst isActiveIdInList = activeItemIndex !== -1;\n\n\tconst selectCompositeItem = useCallback(\n\t\t(\n\t\t\ttargetIndex: number,\n\t\t\t// Allows invokers to specify a custom function to generate the\n\t\t\t// target composite item ID\n\t\t\tgenerateCompositeId: ( idPrefix: string ) => string\n\t\t) => {\n\t\t\t// Clamping between 0 and data.length - 1 to avoid out of bounds.\n\t\t\tconst clampedIndex = Math.min(\n\t\t\t\tdata.length - 1,\n\t\t\t\tMath.max( 0, targetIndex )\n\t\t\t);\n\t\t\tif ( ! data[ clampedIndex ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst itemIdPrefix = generateCompositeItemIdPrefix(\n\t\t\t\tdata[ clampedIndex ]\n\t\t\t);\n\t\t\tconst targetCompositeItemId = generateCompositeId( itemIdPrefix );\n\n\t\t\tsetActiveCompositeId( targetCompositeItemId );\n\t\t\tdocument.getElementById( targetCompositeItemId )?.focus();\n\t\t},\n\t\t[ data, generateCompositeItemIdPrefix ]\n\t);\n\n\t// Select a new active composite item when the current active item\n\t// is removed from the list.\n\tuseEffect( () => {\n\t\tconst wasActiveIdInList =\n\t\t\tpreviousActiveItemIndex !== undefined &&\n\t\t\tpreviousActiveItemIndex !== -1;\n\t\tif ( ! isActiveIdInList && wasActiveIdInList ) {\n\t\t\t// By picking `previousActiveItemIndex` as the next item index, we are\n\t\t\t// basically picking the item that would have been after the deleted one.\n\t\t\t// If the previously active (and removed) item was the last of the list,\n\t\t\t// we will select the item before it \u2014 which is the new last item.\n\t\t\tselectCompositeItem(\n\t\t\t\tpreviousActiveItemIndex,\n\t\t\t\tgenerateItemWrapperCompositeId\n\t\t\t);\n\t\t}\n\t}, [ isActiveIdInList, selectCompositeItem, previousActiveItemIndex ] );\n\n\t// Prevent the default behavior (open dropdown menu) and instead select the\n\t// dropdown menu trigger on the previous/next row.\n\t// https://github.com/ariakit/ariakit/issues/3768\n\tconst onDropdownTriggerKeyDown = useCallback(\n\t\t( event: React.KeyboardEvent< HTMLButtonElement > ) => {\n\t\t\tif ( event.key === 'ArrowDown' ) {\n\t\t\t\t// Select the dropdown menu trigger item in the next row.\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselectCompositeItem(\n\t\t\t\t\tactiveItemIndex + 1,\n\t\t\t\t\tgenerateDropdownTriggerCompositeId\n\t\t\t\t);\n\t\t\t}\n\t\t\tif ( event.key === 'ArrowUp' ) {\n\t\t\t\t// Select the dropdown menu trigger item in the previous row.\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselectCompositeItem(\n\t\t\t\t\tactiveItemIndex - 1,\n\t\t\t\t\tgenerateDropdownTriggerCompositeId\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ selectCompositeItem, activeItemIndex ]\n\t);\n\n\tconst hasData = data?.length;\n\tif ( ! hasData ) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t'dataviews-no-results': ! hasData && ! isLoading,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ ! hasData &&\n\t\t\t\t\t( isLoading ? (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tempty\n\t\t\t\t\t) ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( field ) => field.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\n\t// Render data grouped by field\n\tif ( hasData && groupField && dataByGroup ) {\n\t\treturn (\n\t\t\t<Composite\n\t\t\t\tid={ `${ baseId }` }\n\t\t\t\trender={ <div /> }\n\t\t\t\tclassName=\"dataviews-view-list__group\"\n\t\t\t\trole=\"grid\"\n\t\t\t\tactiveId={ activeCompositeId }\n\t\t\t\tsetActiveId={ setActiveCompositeId }\n\t\t\t>\n\t\t\t\t<VStack\n\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\tclassName={ clsx( 'dataviews-view-list', className ) }\n\t\t\t\t>\n\t\t\t\t\t{ Array.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t<VStack key={ groupName } spacing={ 2 }>\n\t\t\t\t\t\t\t\t<h3 className=\"dataviews-view-list__group-header\">\n\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t{ groupItems.map( ( item ) => {\n\t\t\t\t\t\t\t\t\tconst id =\n\t\t\t\t\t\t\t\t\t\tgenerateCompositeItemIdPrefix( item );\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\t\tidPrefix={ id }\n\t\t\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\tisSelected={ item === selectedItem }\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\totherFields={ otherFields }\n\t\t\t\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown={\n\t\t\t\t\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t)\n\t\t\t\t\t) }\n\t\t\t\t</VStack>\n\t\t\t</Composite>\n\t\t);\n\t}\n\n\t// Render ungrouped data\n\treturn (\n\t\t<>\n\t\t\t<Composite\n\t\t\t\tid={ baseId }\n\t\t\t\trender={ <div /> }\n\t\t\t\tclassName={ clsx( 'dataviews-view-list', className ) }\n\t\t\t\trole={ view.infiniteScrollEnabled ? 'feed' : 'grid' }\n\t\t\t\tactiveId={ activeCompositeId }\n\t\t\t\tsetActiveId={ setActiveCompositeId }\n\t\t\t>\n\t\t\t\t{ data.map( ( item, index ) => {\n\t\t\t\t\tconst id = generateCompositeItemIdPrefix( item );\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\tidPrefix={ id }\n\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tisSelected={ item === selectedItem }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\totherFields={ otherFields }\n\t\t\t\t\t\t\tonDropdownTriggerKeyDown={\n\t\t\t\t\t\t\t\tonDropdownTriggerKeyDown\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tposinset={\n\t\t\t\t\t\t\t\tview.infiniteScrollEnabled\n\t\t\t\t\t\t\t\t\t? index + 1\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Composite>\n\t\t\t{ hasData && isLoading && (\n\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tSpinner,\n\tFlex,\n\tFlexItem,\n\tprivateApis as componentsPrivateApis,\n\tComposite,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport DataViewsContext from '../../components/dataviews-context';\nimport { useIsMultiselectPicker } from '../../components/dataviews-picker/footer';\nimport type {\n\tNormalizedField,\n\tViewPickerGrid as ViewPickerGridType,\n\tViewPickerGridProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport { GridItems } from '../utils/grid-items';\nconst { Badge } = unlock( componentsPrivateApis );\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface GridItemProps< Item > {\n\tview: ViewPickerGridType;\n\tmultiselect?: boolean;\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tgetItemId: ( item: Item ) => string;\n\titem: Item;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tregularFields: NormalizedField< Item >[];\n\tbadgeFields: NormalizedField< Item >[];\n\tconfig: {\n\t\tsizes: string;\n\t};\n\tposinset?: number;\n\tsetsize?: number;\n}\n\nfunction GridItem< Item >( {\n\tview,\n\tmultiselect,\n\tselection,\n\tonChangeSelection,\n\tgetItemId,\n\titem,\n\tmediaField,\n\ttitleField,\n\tdescriptionField,\n\tregularFields,\n\tbadgeFields,\n\tconfig,\n\tposinset,\n\tsetsize,\n}: GridItemProps< Item > ) {\n\tconst { showTitle = true, showMedia = true, showDescription = true } = view;\n\tconst id = getItemId( item );\n\tconst isSelected = selection.includes( id );\n\tconst renderedMediaField = mediaField?.render ? (\n\t\t<mediaField.render\n\t\t\titem={ item }\n\t\t\tfield={ mediaField }\n\t\t\tconfig={ config }\n\t\t/>\n\t) : null;\n\tconst renderedTitleField =\n\t\tshowTitle && titleField?.render ? (\n\t\t\t<titleField.render item={ item } field={ titleField } />\n\t\t) : null;\n\n\treturn (\n\t\t<Composite.Item\n\t\t\taria-label={\n\t\t\t\ttitleField\n\t\t\t\t\t? titleField.getValue( { item } ) || __( '(no title)' )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tkey={ id }\n\t\t\trender={ ( { children, ...props } ) => (\n\t\t\t\t<VStack spacing={ 0 } children={ children } { ...props } />\n\t\t\t) }\n\t\t\trole=\"option\"\n\t\t\taria-posinset={ posinset }\n\t\t\taria-setsize={ setsize }\n\t\t\tclassName={ clsx( 'dataviews-view-picker-grid__card', {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t} ) }\n\t\t\taria-selected={ isSelected }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconst newSelection = multiselect\n\t\t\t\t\t\t? [ ...selection, id ]\n\t\t\t\t\t\t: [ id ];\n\t\t\t\t\tonChangeSelection( newSelection );\n\t\t\t\t}\n\t\t\t} }\n\t\t>\n\t\t\t{ showMedia && renderedMediaField && (\n\t\t\t\t<div className=\"dataviews-view-picker-grid__media\">\n\t\t\t\t\t{ renderedMediaField }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ showMedia && renderedMediaField && (\n\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\titem={ item }\n\t\t\t\t\tselection={ selection }\n\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\tdisabled={ false }\n\t\t\t\t\taria-hidden\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showTitle && (\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\tclassName=\"dataviews-view-picker-grid__title-actions\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"dataviews-view-picker-grid__title-field dataviews-title-field\">\n\t\t\t\t\t\t{ renderedTitleField }\n\t\t\t\t\t</div>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t{ showDescription && descriptionField?.render && (\n\t\t\t\t\t<descriptionField.render\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tfield={ descriptionField }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ !! badgeFields?.length && (\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__badge-fields\"\n\t\t\t\t\t\tspacing={ 2 }\n\t\t\t\t\t\twrap\n\t\t\t\t\t\talignment=\"top\"\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ badgeFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__field-value\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t) }\n\t\t\t\t{ !! regularFields?.length && (\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__fields\"\n\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ regularFields.map( ( field ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__field\"\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tgap={ 1 }\n\t\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\t\texpanded\n\t\t\t\t\t\t\t\t\tstyle={ { height: 'auto' } }\n\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"dataviews-view-picker-grid__field-name\">\n\t\t\t\t\t\t\t\t\t\t\t{ field.header }\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-picker-grid__field-value\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={ { maxHeight: 'none' } }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<field.render\n\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</VStack>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</Composite.Item>\n\t);\n}\n\nfunction GridGroup< Item >( {\n\tgroupName,\n\tgroupField,\n\tchildren,\n}: {\n\tgroupName: string;\n\tgroupField: NormalizedField< Item >;\n\tchildren: ReactNode;\n} ) {\n\tconst headerId = useInstanceId(\n\t\tGridGroup,\n\t\t'dataviews-view-picker-grid-group__header'\n\t);\n\treturn (\n\t\t<VStack\n\t\t\tkey={ groupName }\n\t\t\tspacing={ 2 }\n\t\t\trole=\"group\"\n\t\t\taria-labelledby={ headerId }\n\t\t>\n\t\t\t<h3\n\t\t\t\tclassName=\"dataviews-view-picker-grid-group__header\"\n\t\t\t\tid={ headerId }\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\tgroupField.label,\n\t\t\t\t\tgroupName\n\t\t\t\t) }\n\t\t\t</h3>\n\t\t\t{ children }\n\t\t</VStack>\n\t);\n}\n\nfunction ViewPickerGrid< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tisLoading,\n\tonChangeSelection,\n\tselection,\n\tview,\n\tclassName,\n\tempty,\n}: ViewPickerGridProps< Item > ) {\n\tconst { resizeObserverRef, paginationInfo, itemListLabel } =\n\t\tuseContext( DataViewsContext );\n\tconst titleField = fields.find(\n\t\t( field ) => field.id === view?.titleField\n\t);\n\tconst mediaField = fields.find(\n\t\t( field ) => field.id === view?.mediaField\n\t);\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view?.descriptionField\n\t);\n\tconst otherFields = view.fields ?? [];\n\tconst { regularFields, badgeFields } = otherFields.reduce(\n\t\t(\n\t\t\taccumulator: Record< string, NormalizedField< Item >[] >,\n\t\t\tfieldId\n\t\t) => {\n\t\t\tconst field = fields.find( ( f ) => f.id === fieldId );\n\t\t\tif ( ! field ) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\t\t\t// If the field is a badge field, add it to the badgeFields array\n\t\t\t// otherwise add it to the rest visibleFields array.\n\t\t\tconst key = view.layout?.badgeFields?.includes( fieldId )\n\t\t\t\t? 'badgeFields'\n\t\t\t\t: 'regularFields';\n\t\t\taccumulator[ key ].push( field );\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ regularFields: [], badgeFields: [] }\n\t);\n\tconst hasData = !! data?.length;\n\tconst usedPreviewSize = view.layout?.previewSize;\n\tconst isMultiselect = useIsMultiselectPicker( actions );\n\n\t/*\n\t * This is the maximum width that an image can achieve in the grid. The reasoning is:\n\t * The biggest min image width available is 430px (see /dataviews-layouts/grid/preview-size-picker.tsx).\n\t * Because the grid is responsive, once there is room for another column, the images shrink to accommodate it.\n\t * So each image will never grow past 2*430px plus a little more to account for the gaps.\n\t */\n\tconst size = '900px';\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\tconst currentPage = view?.page ?? 1;\n\tconst perPage = view?.perPage ?? 0;\n\tconst setSize = isInfiniteScroll ? paginationInfo?.totalItems : undefined;\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\t// Render multiple groups.\n\t\t\t\thasData && groupField && dataByGroup && (\n\t\t\t\t\t<Composite\n\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-multiselectable={ isMultiselect }\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'dataviews-view-picker-grid',\n\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t) }\n\t\t\t\t\t\taria-label={ itemListLabel }\n\t\t\t\t\t\trender={ ( { children, ...props } ) => (\n\t\t\t\t\t\t\t<VStack\n\t\t\t\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\t\t\t\tchildren={ children }\n\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ Array.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t\t<GridGroup\n\t\t\t\t\t\t\t\t\tkey={ groupName }\n\t\t\t\t\t\t\t\t\tgroupName={ groupName }\n\t\t\t\t\t\t\t\t\tgroupField={ groupField }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<GridItems\n\t\t\t\t\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\tgridTemplateColumns:\n\t\t\t\t\t\t\t\t\t\t\t\tusedPreviewSize &&\n\t\t\t\t\t\t\t\t\t\t\t\t`repeat(auto-fill, minmax(${ usedPreviewSize }px, 1fr))`,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\t\t\t\t\tref={\n\t\t\t\t\t\t\t\t\t\t\tresizeObserverRef as React.RefObject< HTMLDivElement >\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ groupItems.map( ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst posInSet =\n\t\t\t\t\t\t\t\t\t\t\t\t( currentPage - 1 ) * perPage +\n\t\t\t\t\t\t\t\t\t\t\t\tdata.indexOf( item ) +\n\t\t\t\t\t\t\t\t\t\t\t\t1;\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiselect={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMultiselect\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeSelection\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescriptionField\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tregularFields\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\tposinset={ posInSet }\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetsize={ setSize }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t</GridItems>\n\t\t\t\t\t\t\t\t</GridGroup>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Composite>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// Render a single grid with all data.\n\t\t\t\thasData && ! dataByGroup && (\n\t\t\t\t\t<Composite\n\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t<GridItems\n\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t'dataviews-view-picker-grid',\n\t\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tpreviewSize={ usedPreviewSize }\n\t\t\t\t\t\t\t\taria-busy={ isLoading }\n\t\t\t\t\t\t\t\tref={\n\t\t\t\t\t\t\t\t\tresizeObserverRef as React.RefObject< HTMLDivElement >\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-multiselectable={ isMultiselect }\n\t\t\t\t\t\taria-label={ itemListLabel }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ data.map( ( item, index ) => {\n\t\t\t\t\t\t\tlet posinset = isInfiniteScroll\n\t\t\t\t\t\t\t\t? index + 1\n\t\t\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\t\t\tif ( ! isInfiniteScroll ) {\n\t\t\t\t\t\t\t\t// When infinite scroll isn't active, take pagination into account\n\t\t\t\t\t\t\t\t// when calculating the posinset.\n\t\t\t\t\t\t\t\tposinset =\n\t\t\t\t\t\t\t\t\t( currentPage - 1 ) * perPage + index + 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\tmultiselect={ isMultiselect }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tregularFields={ regularFields }\n\t\t\t\t\t\t\t\t\tbadgeFields={ badgeFields }\n\t\t\t\t\t\t\t\t\tconfig={ {\n\t\t\t\t\t\t\t\t\t\tsizes: size,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tposinset={ posinset }\n\t\t\t\t\t\t\t\t\tsetsize={ setSize }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</Composite>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\t// Render empty state.\n\t\t\t\t! hasData && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t\t\t'dataviews-no-results': ! isLoading,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isLoading ? (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tempty\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{ hasData && isLoading && (\n\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ViewPickerGrid;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useRegistry } from '@wordpress/data';\nimport { useContext, useMemo, useState } from '@wordpress/element';\nimport { __, sprintf, _n } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport DataViewsPagination from '../dataviews-pagination';\nimport DataViewsContext from '../dataviews-context';\nimport type { SetSelection } from '../../types/private';\nimport type { Action } from '../../types';\n\nconst EMPTY_ARRAY: [] = [];\n\nexport function useIsMultiselectPicker< Item >(\n\tactions: Action< Item >[] | undefined\n) {\n\treturn useMemo( () => {\n\t\treturn actions?.every( ( action ) => action.supportsBulk );\n\t}, [ actions ] );\n}\n\nfunction BulkSelectionCheckbox< Item >( {\n\tselection,\n\tselectedItems,\n\tonChangeSelection,\n\tdata,\n\tgetItemId,\n}: {\n\tselection: string[];\n\tselectedItems: Item[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tgetItemId: ( item: Item ) => string;\n} ) {\n\tconst areAllSelected = selectedItems.length === data.length;\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"dataviews-view-table-selection-checkbox\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tchecked={ areAllSelected }\n\t\t\tindeterminate={ ! areAllSelected && !! selectedItems.length }\n\t\t\tonChange={ () => {\n\t\t\t\tif ( areAllSelected ) {\n\t\t\t\t\t// Deselect all - remove the current page from the total selection.\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.filter(\n\t\t\t\t\t\t\t( id ) =>\n\t\t\t\t\t\t\t\t! data.some(\n\t\t\t\t\t\t\t\t\t( item ) => id === getItemId( item )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// Select all - merge the current page into the total selection.\n\t\t\t\t\tconst selectionSet = new Set( [\n\t\t\t\t\t\t...selection,\n\t\t\t\t\t\t...data.map( ( item ) => getItemId( item ) ),\n\t\t\t\t\t] );\n\t\t\t\t\tonChangeSelection( Array.from( selectionSet ) );\n\t\t\t\t}\n\t\t\t} }\n\t\t\taria-label={\n\t\t\t\tareAllSelected ? __( 'Deselect all' ) : __( 'Select all' )\n\t\t\t}\n\t\t/>\n\t);\n}\n\nfunction ActionButtons< Item >( {\n\tactions,\n\titems,\n\tselection,\n}: {\n\tactions: Action< Item >[];\n\titems: Item[];\n\tselection: string[];\n} ) {\n\tconst registry = useRegistry();\n\tconst [ actionInProgress, setActionInProgress ] = useState< string | null >(\n\t\tnull\n\t);\n\n\treturn (\n\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t{ actions.map( ( action ) => {\n\t\t\t\t// Only support actions with callbacks for DataViewsPicker.\n\t\t\t\t// This is because many use cases of the picker will be already within modals.\n\t\t\t\tif ( ! ( 'callback' in action ) ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst { id, label, icon, isPrimary, callback } = action;\n\n\t\t\t\tconst _label =\n\t\t\t\t\ttypeof label === 'string' ? label : label( items );\n\t\t\t\tconst variant = isPrimary ? 'primary' : 'tertiary';\n\t\t\t\tconst isInProgress = id === actionInProgress;\n\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tdisabled={ isInProgress || ! selection?.length }\n\t\t\t\t\t\tisBusy={ isInProgress }\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetActionInProgress( id );\n\t\t\t\t\t\t\tawait callback( items, {\n\t\t\t\t\t\t\t\tregistry,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tsetActionInProgress( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant={ variant }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _label }\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</HStack>\n\t);\n}\n\nexport function DataViewsPickerFooter() {\n\tconst {\n\t\tdata,\n\t\tselection,\n\t\tonChangeSelection,\n\t\tgetItemId,\n\t\tactions = EMPTY_ARRAY,\n\t} = useContext( DataViewsContext );\n\n\tconst selectionCount = selection.length;\n\tconst isMultiselect = useIsMultiselectPicker( actions );\n\n\tconst message =\n\t\tselectionCount > 0\n\t\t\t? sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n(\n\t\t\t\t\t\t'%d Item selected',\n\t\t\t\t\t\t'%d Items selected',\n\t\t\t\t\t\tselectionCount\n\t\t\t\t\t),\n\t\t\t\t\tselectionCount\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n( '%d Item', '%d Items', data.length ),\n\t\t\t\t\tdata.length\n\t\t\t  );\n\n\tconst selectedItems = useMemo(\n\t\t() =>\n\t\t\tdata.filter( ( item ) => selection.includes( getItemId( item ) ) ),\n\t\t[ selection, getItemId, data ]\n\t);\n\n\treturn (\n\t\t<HStack\n\t\t\texpanded={ false }\n\t\t\tjustify=\"space-between\"\n\t\t\tclassName=\"dataviews-footer\"\n\t\t>\n\t\t\t<HStack\n\t\t\t\tclassName=\"dataviews-picker-footer__bulk-selection\"\n\t\t\t\texpanded={ false }\n\t\t\t\tspacing={ 3 }\n\t\t\t>\n\t\t\t\t{ isMultiselect && (\n\t\t\t\t\t<BulkSelectionCheckbox\n\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\tselectedItems={ selectedItems }\n\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<span className=\"dataviews-bulk-actions-footer__item-count\">\n\t\t\t\t\t{ message }\n\t\t\t\t</span>\n\t\t\t</HStack>\n\t\t\t<DataViewsPagination />\n\t\t\t{ Boolean( actions?.length ) && (\n\t\t\t\t<div className=\"dataviews-picker-footer__actions\">\n\t\t\t\t\t<ActionButtons\n\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\titems={ selectedItems }\n\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\tSelectControl,\n} from '@wordpress/components';\nimport { createInterpolateElement, memo, useContext } from '@wordpress/element';\nimport { sprintf, __, _x, isRTL } from '@wordpress/i18n';\nimport { next, previous } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\n\nexport function DataViewsPagination() {\n\tconst {\n\t\tview,\n\t\tonChangeView,\n\t\tpaginationInfo: { totalItems = 0, totalPages },\n\t} = useContext( DataViewsContext );\n\n\tif ( ! totalItems || ! totalPages || view.infiniteScrollEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst currentPage = view.page ?? 1;\n\tconst pageSelectOptions = Array.from( Array( totalPages ) ).map(\n\t\t( _, i ) => {\n\t\t\tconst page = i + 1;\n\t\t\treturn {\n\t\t\t\tvalue: page.toString(),\n\t\t\t\tlabel: page.toString(),\n\t\t\t\t'aria-label':\n\t\t\t\t\tcurrentPage === page\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: 1: current page number. 2: total number of pages.\n\t\t\t\t\t\t\t\t__( 'Page %1$d of %2$d' ),\n\t\t\t\t\t\t\t\tcurrentPage,\n\t\t\t\t\t\t\t\ttotalPages\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: page.toString(),\n\t\t\t};\n\t\t}\n\t);\n\n\treturn (\n\t\t!! totalItems &&\n\t\ttotalPages !== 1 && (\n\t\t\t<HStack\n\t\t\t\texpanded={ false }\n\t\t\t\tclassName=\"dataviews-pagination\"\n\t\t\t\tjustify=\"end\"\n\t\t\t\tspacing={ 6 }\n\t\t\t>\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\texpanded={ false }\n\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\tclassName=\"dataviews-pagination__page-select\"\n\t\t\t\t>\n\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t// translators: 1: Current page number, 2: Total number of pages.\n\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t'<div>Page</div>%1$s<div>of %2$d</div>',\n\t\t\t\t\t\t\t\t'paging'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'<CurrentPage />',\n\t\t\t\t\t\t\ttotalPages\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdiv: <div aria-hidden />,\n\t\t\t\t\t\t\tCurrentPage: (\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\taria-label={ __( 'Current page' ) }\n\t\t\t\t\t\t\t\t\tvalue={ currentPage.toString() }\n\t\t\t\t\t\t\t\t\toptions={ pageSelectOptions }\n\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\tpage: +newValue,\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tvariant=\"minimal\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\tpage: currentPage - 1,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={ currentPage === 1 }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tlabel={ __( 'Previous page' ) }\n\t\t\t\t\t\ticon={ isRTL() ? next : previous }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\tonChangeView( { ...view, page: currentPage + 1 } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={ currentPage >= totalPages }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tlabel={ __( 'Next page' ) }\n\t\t\t\t\t\ticon={ isRTL() ? previous : next }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t)\n\t);\n}\n\nexport default memo( DataViewsPagination );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Spinner, Composite } from '@wordpress/components';\nimport {\n\tuseContext,\n\tuseEffect,\n\tuseId,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport DataViewsSelectionCheckbox from '../../components/dataviews-selection-checkbox';\nimport { useIsMultiselectPicker } from '../../components/dataviews-picker/footer';\nimport { BulkSelectionCheckbox } from '../../components/dataviews-bulk-actions';\nimport { sortValues } from '../../constants';\nimport type {\n\tNormalizedField,\n\tViewPickerTable as ViewPickerTableType,\n\tViewPickerTableProps,\n} from '../../types';\nimport type { SetSelection } from '../../types/private';\nimport ColumnHeaderMenu from '../table/column-header-menu';\nimport ColumnPrimary from '../table/column-primary';\nimport getDataByGroup from '../utils/get-data-by-group';\n\ninterface TableColumnFieldProps< Item > {\n\tfields: NormalizedField< Item >[];\n\tcolumn: string;\n\titem: Item;\n\talign?: 'start' | 'center' | 'end';\n}\n\ninterface TableRowProps< Item > {\n\titem: Item;\n\tfields: NormalizedField< Item >[];\n\tid: string;\n\tview: ViewPickerTableType;\n\ttitleField?: NormalizedField< Item >;\n\tmediaField?: NormalizedField< Item >;\n\tdescriptionField?: NormalizedField< Item >;\n\tselection: string[];\n\tgetItemId: ( item: Item ) => string;\n\tonChangeSelection: SetSelection;\n\tmultiselect: boolean;\n\tposinset?: number;\n}\n\nfunction TableColumnField< Item >( {\n\titem,\n\tfields,\n\tcolumn,\n\talign,\n}: TableColumnFieldProps< Item > ) {\n\tconst field = fields.find( ( f ) => f.id === column );\n\n\tif ( ! field ) {\n\t\treturn null;\n\t}\n\n\tconst className = clsx( 'dataviews-view-table__cell-content-wrapper', {\n\t\t'dataviews-view-table__cell-align-end': align === 'end',\n\t\t'dataviews-view-table__cell-align-center': align === 'center',\n\t} );\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<field.render item={ item } field={ field } />\n\t\t</div>\n\t);\n}\n\nfunction TableRow< Item >( {\n\titem,\n\tfields,\n\tid,\n\tview,\n\ttitleField,\n\tmediaField,\n\tdescriptionField,\n\tselection,\n\tgetItemId,\n\tonChangeSelection,\n\tmultiselect,\n\tposinset,\n}: TableRowProps< Item > ) {\n\tconst { paginationInfo } = useContext( DataViewsContext );\n\tconst isSelected = selection.includes( id );\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst {\n\t\tshowTitle = true,\n\t\tshowMedia = true,\n\t\tshowDescription = true,\n\t\tinfiniteScrollEnabled,\n\t} = view;\n\tconst handleMouseEnter = () => {\n\t\tsetIsHovered( true );\n\t};\n\tconst handleMouseLeave = () => {\n\t\tsetIsHovered( false );\n\t};\n\n\tconst columns = view.fields ?? [];\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\n\treturn (\n\t\t<Composite.Item\n\t\t\tkey={ id }\n\t\t\trender={ ( { children, ...props } ) => (\n\t\t\t\t<tr\n\t\t\t\t\tclassName={ clsx( 'dataviews-view-table__row', {\n\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t'is-hovered': isHovered,\n\t\t\t\t\t} ) }\n\t\t\t\t\tonMouseEnter={ handleMouseEnter }\n\t\t\t\t\tonMouseLeave={ handleMouseLeave }\n\t\t\t\t\tchildren={ children }\n\t\t\t\t\t{ ...props }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\taria-selected={ isSelected }\n\t\t\taria-setsize={ paginationInfo.totalItems || undefined }\n\t\t\taria-posinset={ posinset }\n\t\t\trole={ infiniteScrollEnabled ? 'article' : 'option' }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselection.filter( ( itemId ) => id !== itemId )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconst newSelection = multiselect\n\t\t\t\t\t\t? [ ...selection, id ]\n\t\t\t\t\t\t: [ id ];\n\t\t\t\t\tonChangeSelection( newSelection );\n\t\t\t\t}\n\t\t\t} }\n\t\t>\n\t\t\t<td\n\t\t\t\tclassName=\"dataviews-view-table__checkbox-column\"\n\t\t\t\trole=\"presentation\"\n\t\t\t>\n\t\t\t\t<div className=\"dataviews-view-table__cell-content-wrapper\">\n\t\t\t\t\t<DataViewsSelectionCheckbox\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\tdisabled={ false }\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</td>\n\n\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t<td role=\"presentation\">\n\t\t\t\t\t<ColumnPrimary\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\ttitleField={ showTitle ? titleField : undefined }\n\t\t\t\t\t\tmediaField={ showMedia ? mediaField : undefined }\n\t\t\t\t\t\tdescriptionField={\n\t\t\t\t\t\t\tshowDescription ? descriptionField : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisItemClickable={ () => false }\n\t\t\t\t\t/>\n\t\t\t\t</td>\n\t\t\t) }\n\t\t\t{ columns.map( ( column: string ) => {\n\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\n\t\t\t\treturn (\n\t\t\t\t\t<td\n\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableColumnField\n\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tcolumn={ column }\n\t\t\t\t\t\t\talign={ align }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite.Item>\n\t);\n}\n\nfunction ViewPickerTable< Item >( {\n\tactions,\n\tdata,\n\tfields,\n\tgetItemId,\n\tisLoading = false,\n\tonChangeView,\n\tonChangeSelection,\n\tselection,\n\tsetOpenedFilter,\n\tview,\n\tclassName,\n\tempty,\n}: ViewPickerTableProps< Item > ) {\n\tconst headerMenuRefs = useRef<\n\t\tMap< string, { node: HTMLButtonElement; fallback: string } >\n\t>( new Map() );\n\tconst headerMenuToFocusRef = useRef< HTMLButtonElement >();\n\tconst [ nextHeaderMenuToFocus, setNextHeaderMenuToFocus ] =\n\t\tuseState< HTMLButtonElement >();\n\tconst isMultiselect = useIsMultiselectPicker( actions ) ?? false;\n\n\tuseEffect( () => {\n\t\tif ( headerMenuToFocusRef.current ) {\n\t\t\theaderMenuToFocusRef.current.focus();\n\t\t\theaderMenuToFocusRef.current = undefined;\n\t\t}\n\t} );\n\n\tconst tableNoticeId = useId();\n\n\tif ( nextHeaderMenuToFocus ) {\n\t\t// If we need to force focus, we short-circuit rendering here\n\t\t// to prevent any additional work while we handle that.\n\t\t// Clearing out the focus directive is necessary to make sure\n\t\t// future renders don't cause unexpected focus jumps.\n\t\theaderMenuToFocusRef.current = nextHeaderMenuToFocus;\n\t\tsetNextHeaderMenuToFocus( undefined );\n\t\treturn;\n\t}\n\n\tconst onHide = ( field: NormalizedField< Item > ) => {\n\t\tconst hidden = headerMenuRefs.current.get( field.id );\n\t\tconst fallback = hidden\n\t\t\t? headerMenuRefs.current.get( hidden.fallback )\n\t\t\t: undefined;\n\t\tsetNextHeaderMenuToFocus( fallback?.node );\n\t};\n\n\tconst hasData = !! data?.length;\n\n\tconst titleField = fields.find( ( field ) => field.id === view.titleField );\n\tconst mediaField = fields.find( ( field ) => field.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( field ) => field.id === view.descriptionField\n\t);\n\n\tconst groupField = view.groupByField\n\t\t? fields.find( ( f ) => f.id === view.groupByField )\n\t\t: null;\n\tconst dataByGroup = groupField ? getDataByGroup( data, groupField ) : null;\n\tconst { showTitle = true, showMedia = true, showDescription = true } = view;\n\tconst hasPrimaryColumn =\n\t\t( titleField && showTitle ) ||\n\t\t( mediaField && showMedia ) ||\n\t\t( descriptionField && showDescription );\n\tconst columns = view.fields ?? [];\n\tconst headerMenuRef =\n\t\t( column: string, index: number ) => ( node: HTMLButtonElement ) => {\n\t\t\tif ( node ) {\n\t\t\t\theaderMenuRefs.current.set( column, {\n\t\t\t\t\tnode,\n\t\t\t\t\tfallback: columns[ index > 0 ? index - 1 : 1 ],\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\theaderMenuRefs.current.delete( column );\n\t\t\t}\n\t\t};\n\tconst isInfiniteScroll = view.infiniteScrollEnabled && ! dataByGroup;\n\n\treturn (\n\t\t<>\n\t\t\t<table\n\t\t\t\tclassName={ clsx(\n\t\t\t\t\t'dataviews-view-table',\n\t\t\t\t\t'dataviews-view-picker-table',\n\t\t\t\t\tclassName,\n\t\t\t\t\t{\n\t\t\t\t\t\t[ `has-${ view.layout?.density }-density` ]:\n\t\t\t\t\t\t\tview.layout?.density &&\n\t\t\t\t\t\t\t[ 'compact', 'comfortable' ].includes(\n\t\t\t\t\t\t\t\tview.layout.density\n\t\t\t\t\t\t\t),\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\taria-busy={ isLoading }\n\t\t\t\taria-describedby={ tableNoticeId }\n\t\t\t\trole={ isInfiniteScroll ? 'feed' : 'listbox' }\n\t\t\t>\n\t\t\t\t<thead role=\"presentation\">\n\t\t\t\t\t<tr\n\t\t\t\t\t\tclassName=\"dataviews-view-table__row\"\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<th className=\"dataviews-view-table__checkbox-column\">\n\t\t\t\t\t\t\t{ isMultiselect && (\n\t\t\t\t\t\t\t\t<BulkSelectionCheckbox\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t{ hasPrimaryColumn && (\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t{ titleField && (\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef(\n\t\t\t\t\t\t\t\t\t\t\ttitleField.id,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ titleField.id }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={ false }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ columns.map( ( column, index ) => {\n\t\t\t\t\t\t\t// Explicit picks the supported styles.\n\t\t\t\t\t\t\tconst { width, maxWidth, minWidth, align } =\n\t\t\t\t\t\t\t\tview.layout?.styles?.[ column ] ?? {};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tkey={ column }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\t\t\tminWidth,\n\t\t\t\t\t\t\t\t\t\ttextAlign: align,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\taria-sort={\n\t\t\t\t\t\t\t\t\t\tview.sort?.direction &&\n\t\t\t\t\t\t\t\t\t\tview.sort?.field === column\n\t\t\t\t\t\t\t\t\t\t\t? sortValues[ view.sort.direction ]\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ColumnHeaderMenu\n\t\t\t\t\t\t\t\t\t\tref={ headerMenuRef( column, index ) }\n\t\t\t\t\t\t\t\t\t\tfieldId={ column }\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t\t\tonHide={ onHide }\n\t\t\t\t\t\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\t\t\t\t\t\tcanMove={\n\t\t\t\t\t\t\t\t\t\t\tview.layout?.enableMoving ?? true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t{ /* Render grouped data if groupByField is specified */ }\n\t\t\t\t{ hasData && groupField && dataByGroup ? (\n\t\t\t\t\tArray.from( dataByGroup.entries() ).map(\n\t\t\t\t\t\t( [ groupName, groupItems ] ) => (\n\t\t\t\t\t\t\t<Composite\n\t\t\t\t\t\t\t\tkey={ `group-${ groupName }` }\n\t\t\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\trender={ <tbody role=\"group\" /> }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__group-header-row\"\n\t\t\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\tcolumns.length +\n\t\t\t\t\t\t\t\t\t\t\t( hasPrimaryColumn ? 1 : 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"dataviews-view-table__group-header-cell\"\n\t\t\t\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t// translators: 1: The label of the field e.g. \"Date\". 2: The value of the field, e.g.: \"May 2022\".\n\t\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\t\tgroupField.label,\n\t\t\t\t\t\t\t\t\t\t\tgroupName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{ groupItems.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\t\t\tgetItemId( item ) ||\n\t\t\t\t\t\t\t\t\t\t\tindex.toString()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\t\tmultiselect={ isMultiselect }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</Composite>\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Composite\n\t\t\t\t\t\trender={ <tbody role=\"presentation\" /> }\n\t\t\t\t\t\tvirtualFocus\n\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ hasData &&\n\t\t\t\t\t\t\tdata.map( ( item, index ) => (\n\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\tkey={ getItemId( item ) }\n\t\t\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\tid={ getItemId( item ) || index.toString() }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\ttitleField={ titleField }\n\t\t\t\t\t\t\t\t\tmediaField={ mediaField }\n\t\t\t\t\t\t\t\t\tdescriptionField={ descriptionField }\n\t\t\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\t\t\tgetItemId={ getItemId }\n\t\t\t\t\t\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\t\t\t\t\t\tmultiselect={ isMultiselect }\n\t\t\t\t\t\t\t\t\tposinset={ index + 1 }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Composite>\n\t\t\t\t) }\n\t\t\t</table>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'dataviews-loading': isLoading,\n\t\t\t\t\t'dataviews-no-results': ! hasData && ! isLoading,\n\t\t\t\t} ) }\n\t\t\t\tid={ tableNoticeId }\n\t\t\t>\n\t\t\t\t{ ! hasData &&\n\t\t\t\t\t( isLoading ? (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tempty\n\t\t\t\t\t) ) }\n\t\t\t\t{ hasData && isLoading && (\n\t\t\t\t\t<p className=\"dataviews-loading-more\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ViewPickerTable;\n", "/**\n * WordPress dependencies\n */\nimport { RangeControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport type { ViewGrid } from '../../types';\n\nconst imageSizes = [\n\t{\n\t\tvalue: 120,\n\t\tbreakpoint: 1,\n\t},\n\t{\n\t\tvalue: 170,\n\t\tbreakpoint: 1,\n\t},\n\t{\n\t\tvalue: 230,\n\t\tbreakpoint: 1,\n\t},\n\t{\n\t\tvalue: 290,\n\t\tbreakpoint: 1112, // at minimum image width, 4 images display at this container size\n\t},\n\t{\n\t\tvalue: 350,\n\t\tbreakpoint: 1636, // at minimum image width, 6 images display at this container size\n\t},\n\t{\n\t\tvalue: 430,\n\t\tbreakpoint: 588, // at minimum image width, 2 images display at this container size\n\t},\n];\n\nexport default function PreviewSizePicker() {\n\tconst context = useContext( DataViewsContext );\n\tconst view = context.view as ViewGrid;\n\n\tconst breakValues = imageSizes.filter( ( size ) => {\n\t\treturn context.containerWidth >= size.breakpoint;\n\t} );\n\n\tconst layoutPreviewSize = view.layout?.previewSize ?? 230; // Default to the third smallest size if no preview size is set.\n\t// If the container has resized and the set preview size is no longer available,\n\t// we reset it to the next smallest size, or the smallest available size.\n\tconst previewSizeToUse =\n\t\tbreakValues\n\t\t\t.map( ( size, index ) => ( { ...size, index } ) )\n\t\t\t.filter( ( size ) => size.value <= layoutPreviewSize )\n\t\t\t.sort( ( a, b ) => b.value - a.value )[ 0 ]?.index ?? 0;\n\n\tconst marks = breakValues.map( ( size, index ) => {\n\t\treturn {\n\t\t\tvalue: index,\n\t\t};\n\t} );\n\n\treturn (\n\t\t<RangeControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tshowTooltip={ false }\n\t\t\tlabel={ __( 'Preview size' ) }\n\t\t\tvalue={ previewSizeToUse }\n\t\t\tmin={ 0 }\n\t\t\tmax={ breakValues.length - 1 }\n\t\t\twithInputField={ false }\n\t\t\tonChange={ ( value = 0 ) => {\n\t\t\t\tcontext.onChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\t...view.layout,\n\t\t\t\t\t\tpreviewSize: breakValues[ value ].value,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tstep={ 1 }\n\t\t\tmarks={ marks }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../../components/dataviews-context';\nimport type { ViewTable, Density } from '../../types';\n\nexport default function DensityPicker() {\n\tconst context = useContext( DataViewsContext );\n\tconst view = context.view as ViewTable;\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tsize=\"__unstable-large\"\n\t\t\tlabel={ __( 'Density' ) }\n\t\t\tvalue={ view.layout?.density || 'balanced' }\n\t\t\tonChange={ ( value ) => {\n\t\t\t\tcontext.onChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\t...view.layout,\n\t\t\t\t\t\tdensity: value as Density,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tisBlock\n\t\t>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"comfortable\"\n\t\t\t\tvalue=\"comfortable\"\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Comfortable',\n\t\t\t\t\t'Density option for DataView layout'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"balanced\"\n\t\t\t\tvalue=\"balanced\"\n\t\t\t\tlabel={ _x( 'Balanced', 'Density option for DataView layout' ) }\n\t\t\t/>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"compact\"\n\t\t\t\tvalue=\"compact\"\n\t\t\t\tlabel={ _x( 'Compact', 'Density option for DataView layout' ) }\n\t\t\t/>\n\t\t</ToggleGroupControl>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { memo, useContext, useRef } from '@wordpress/element';\nimport { __experimentalHStack as HStack } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport Filter from './filter';\nimport { default as AddFilter } from './add-filter';\nimport ResetFilters from './reset-filters';\nimport useFilters from './use-filters';\nimport DataViewsContext from '../dataviews-context';\n\nfunction Filters( { className }: { className?: string } ) {\n\tconst { fields, view, onChangeView, openedFilter, setOpenedFilter } =\n\t\tuseContext( DataViewsContext );\n\tconst addFilterRef = useRef< HTMLButtonElement >( null );\n\tconst filters = useFilters( fields, view );\n\tconst addFilter = (\n\t\t<AddFilter\n\t\t\tkey=\"add-filter\"\n\t\t\tfilters={ filters }\n\t\t\tview={ view }\n\t\t\tonChangeView={ onChangeView }\n\t\t\tref={ addFilterRef }\n\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t/>\n\t);\n\tconst visibleFilters = filters.filter( ( filter ) => filter.isVisible );\n\tif ( visibleFilters.length === 0 ) {\n\t\treturn null;\n\t}\n\tconst filterComponents = [\n\t\t...visibleFilters.map( ( filter ) => {\n\t\t\treturn (\n\t\t\t\t<Filter\n\t\t\t\t\tkey={ filter.field }\n\t\t\t\t\tfilter={ filter }\n\t\t\t\t\tview={ view }\n\t\t\t\t\tfields={ fields }\n\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\taddFilterRef={ addFilterRef }\n\t\t\t\t\topenedFilter={ openedFilter }\n\t\t\t\t/>\n\t\t\t);\n\t\t} ),\n\t\taddFilter,\n\t];\n\n\tfilterComponents.push(\n\t\t<ResetFilters\n\t\t\tkey=\"reset-filters\"\n\t\t\tfilters={ filters }\n\t\t\tview={ view }\n\t\t\tonChangeView={ onChangeView }\n\t\t/>\n\t);\n\n\treturn (\n\t\t<HStack\n\t\t\tjustify=\"flex-start\"\n\t\t\tstyle={ { width: 'fit-content' } }\n\t\t\twrap\n\t\t\tclassName={ className }\n\t\t>\n\t\t\t{ filterComponents }\n\t\t</HStack>\n\t);\n}\n\nexport default memo( Filters );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { RefObject } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n\tSelectControl,\n\tTooltip,\n\tIcon,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef, createInterpolateElement } from '@wordpress/element';\nimport { closeSmall } from '@wordpress/icons';\n\nconst ENTER = 'Enter';\nconst SPACE = ' ';\n\n/**\n * Internal dependencies\n */\nimport SearchWidget from './search-widget';\nimport InputWidget from './input-widget';\nimport {\n\tOPERATORS,\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_BETWEEN,\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n} from '../../constants';\nimport type {\n\tFilter,\n\tNormalizedField,\n\tNormalizedFilter,\n\tOperator,\n\tOption,\n\tView,\n} from '../../types';\nimport useElements from '../../hooks/use-elements';\nimport parseDateTime from '../../field-types/utils/parse-date-time';\n\ninterface FilterTextProps {\n\tactiveElements: Option[];\n\tfilterInView?: Filter;\n\tfilter: NormalizedFilter;\n}\n\ninterface OperatorSelectorProps {\n\tfilter: NormalizedFilter;\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n}\n\ninterface FilterProps extends OperatorSelectorProps {\n\taddFilterRef: RefObject< HTMLButtonElement >;\n\topenedFilter: string | null;\n\tfields: NormalizedField< any >[];\n}\n\nconst FilterText = ( {\n\tactiveElements,\n\tfilterInView,\n\tfilter,\n}: FilterTextProps ) => {\n\tif ( activeElements === undefined || activeElements.length === 0 ) {\n\t\treturn filter.name;\n\t}\n\n\tconst filterTextWrappers = {\n\t\tName: <span className=\"dataviews-filters__summary-filter-text-name\" />,\n\t\tValue: (\n\t\t\t<span className=\"dataviews-filters__summary-filter-text-value\" />\n\t\t),\n\t};\n\n\tif ( filterInView?.operator === OPERATOR_IS_ANY ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is any: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is any: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_NONE ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is none: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is none: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_ALL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is all: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is all: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_NOT_ALL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is not all: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is not all: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is: Admin\". */\n\t\t\t\t__( '<Name>%1$s is: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IS_NOT ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Author is not: Admin\". */\n\t\t\t\t__( '<Name>%1$s is not: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_LESS_THAN ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is less than: 10\". */\n\t\t\t\t__( '<Name>%1$s is less than: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_GREATER_THAN ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is greater than: 10\". */\n\t\t\t\t__( '<Name>%1$s is greater than: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_LESS_THAN_OR_EQUAL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is less than or equal to: 10\". */\n\t\t\t\t__(\n\t\t\t\t\t'<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>'\n\t\t\t\t),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_GREATER_THAN_OR_EQUAL ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Price is greater than or equal to: 10\". */\n\t\t\t\t__(\n\t\t\t\t\t'<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>'\n\t\t\t\t),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_CONTAINS ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Title contains: Mars\". */\n\t\t\t\t__( '<Name>%1$s contains: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_NOT_CONTAINS ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Description doesn't contain: photo\". */\n\t\t\t\t__( \"<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>\" ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_STARTS_WITH ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Title starts with: Mar\". */\n\t\t\t\t__( '<Name>%1$s starts with: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_BEFORE ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is before: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is before: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_AFTER ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is after: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is after: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_BEFORE_INC ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is on or before: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is on or before: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_AFTER_INC ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is on or after: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is on or after: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_BETWEEN ) {\n\t\tconst { label } = activeElements[ 0 ];\n\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: \"Item count between (inc): 10 and 180\". */\n\t\t\t\t__(\n\t\t\t\t\t'<Name>%1$s between (inc): </Name><Value>%2$s and %3$s</Value>'\n\t\t\t\t),\n\t\t\t\tfilter.name,\n\t\t\t\tlabel[ 0 ],\n\t\t\t\tlabel[ 1 ]\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_ON ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_NOT_ON ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is not: 2024-01-01\". */\n\t\t\t\t__( '<Name>%1$s is not: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements[ 0 ].label\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_IN_THE_PAST ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is in the past: 1 days\". */\n\t\t\t\t__( '<Name>%1$s is in the past: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\t`${ activeElements[ 0 ].value.value } ${ activeElements[ 0 ].value.unit }`\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\n\tif ( filterInView?.operator === OPERATOR_OVER ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name. 2: Filter value. e.g.: \"Date is over: 1 days ago\". */\n\t\t\t\t__( '<Name>%1$s is over: </Name><Value>%2$s</Value> ago' ),\n\t\t\t\tfilter.name,\n\t\t\t\t`${ activeElements[ 0 ].value.value } ${ activeElements[ 0 ].value.unit }`\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t);\n\t}\n\treturn sprintf(\n\t\t/* translators: 1: Filter name e.g.: \"Unknown status for Author\". */\n\t\t__( 'Unknown status for %1$s' ),\n\t\tfilter.name\n\t);\n};\n\nfunction OperatorSelector( {\n\tfilter,\n\tview,\n\tonChangeView,\n}: OperatorSelectorProps ) {\n\tconst operatorOptions = filter.operators?.map( ( operator ) => ( {\n\t\tvalue: operator,\n\t\tlabel: OPERATORS[ operator ]?.label,\n\t} ) );\n\tconst currentFilter = view.filters?.find(\n\t\t( _filter ) => _filter.field === filter.field\n\t);\n\tconst value = currentFilter?.operator || filter.operators[ 0 ];\n\treturn (\n\t\toperatorOptions.length > 1 && (\n\t\t\t<HStack\n\t\t\t\tspacing={ 2 }\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t\tclassName=\"dataviews-filters__summary-operators-container\"\n\t\t\t>\n\t\t\t\t<FlexItem className=\"dataviews-filters__summary-operators-filter-name\">\n\t\t\t\t\t{ filter.name }\n\t\t\t\t</FlexItem>\n\n\t\t\t\t<SelectControl\n\t\t\t\t\tclassName=\"dataviews-filters__summary-operators-filter-select\"\n\t\t\t\t\tlabel={ __( 'Conditions' ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\toptions={ operatorOptions }\n\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\tconst operator = newValue as Operator;\n\t\t\t\t\t\tconst currentOperator = currentFilter?.operator;\n\t\t\t\t\t\tconst newFilters = currentFilter\n\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ).map(\n\t\t\t\t\t\t\t\t\t\t( _filter ) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t_filter.field === filter.field\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Reset the value only when switching between operators that have different value types.\n\t\t\t\t\t\t\t\t\t\t\t\tconst OPERATORS_SHOULD_RESET_VALUE =\n\t\t\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATOR_BETWEEN,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATOR_OVER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\tconst shouldResetValue =\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentOperator &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t( OPERATORS_SHOULD_RESET_VALUE.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentOperator\n\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPERATORS_SHOULD_RESET_VALUE.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toperator\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) );\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: shouldResetValue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: _filter.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\toperator,\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn _filter;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\t\t\toperator,\n\t\t\t\t\t\t\t\t\t\tvalue: undefined,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t  ];\n\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\tfilters: newFilters,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"minimal\"\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t)\n\t);\n}\n\nexport default function Filter( {\n\taddFilterRef,\n\topenedFilter,\n\tfields,\n\t...commonProps\n}: FilterProps ) {\n\tconst toggleRef = useRef< HTMLDivElement >( null );\n\tconst { filter, view, onChangeView } = commonProps;\n\tconst filterInView = view.filters?.find(\n\t\t( f ) => f.field === filter.field\n\t);\n\n\tlet activeElements: Option[] = [];\n\n\tconst { elements } = useElements( {\n\t\telements: filter.elements,\n\t\tgetElements: filter.getElements,\n\t} );\n\n\tif ( elements.length > 0 ) {\n\t\tactiveElements = elements.filter( ( element ) => {\n\t\t\tif ( filter.singleSelection ) {\n\t\t\t\treturn element.value === filterInView?.value;\n\t\t\t}\n\t\t\treturn filterInView?.value?.includes( element.value );\n\t\t} );\n\t} else if ( filterInView?.value !== undefined ) {\n\t\tconst field = fields.find( ( f ) => f.id === filter.field );\n\t\tlet label = filterInView.value;\n\n\t\tif ( field?.type === 'datetime' && typeof label === 'string' ) {\n\t\t\ttry {\n\t\t\t\tconst dateValue = parseDateTime( label );\n\t\t\t\tif ( dateValue !== null ) {\n\t\t\t\t\tlabel = dateValue.toLocaleString();\n\t\t\t\t}\n\t\t\t} catch ( e ) {\n\t\t\t\tlabel = filterInView.value;\n\t\t\t}\n\t\t}\n\n\t\tactiveElements = [\n\t\t\t{\n\t\t\t\tvalue: filterInView.value,\n\t\t\t\tlabel,\n\t\t\t},\n\t\t];\n\t}\n\n\tconst isPrimary = filter.isPrimary;\n\tconst isLocked = filterInView?.isLocked;\n\tconst hasValues = ! isLocked && filterInView?.value !== undefined;\n\tconst canResetOrRemove = ! isLocked && ( ! isPrimary || hasValues );\n\treturn (\n\t\t<Dropdown\n\t\t\tdefaultOpen={ openedFilter === filter.field }\n\t\t\tcontentClassName=\"dataviews-filters__summary-popover\"\n\t\t\tpopoverProps={ { placement: 'bottom-start', role: 'dialog' } }\n\t\t\tonClose={ () => {\n\t\t\t\ttoggleRef.current?.focus();\n\t\t\t} }\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<div className=\"dataviews-filters__summary-chip-container\">\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttext={ sprintf(\n\t\t\t\t\t\t\t/* translators: 1: Filter name. */\n\t\t\t\t\t\t\t__( 'Filter by: %1$s' ),\n\t\t\t\t\t\t\tfilter.name.toLowerCase()\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t'dataviews-filters__summary-chip',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'has-reset': canResetOrRemove,\n\t\t\t\t\t\t\t\t\t'has-values': hasValues,\n\t\t\t\t\t\t\t\t\t'is-not-clickable': isLocked,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\ttabIndex={ isLocked ? -1 : 0 }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tif ( ! isLocked ) {\n\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t! isLocked &&\n\t\t\t\t\t\t\t\t\t[ ENTER, SPACE ].includes( event.key )\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\taria-disabled={ isLocked }\n\t\t\t\t\t\t\taria-pressed={ isOpen }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\tref={ toggleRef }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FilterText\n\t\t\t\t\t\t\t\tactiveElements={ activeElements }\n\t\t\t\t\t\t\t\tfilterInView={ filterInView }\n\t\t\t\t\t\t\t\tfilter={ filter }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{ canResetOrRemove && (\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttext={ isPrimary ? __( 'Reset' ) : __( 'Remove' ) }\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t'dataviews-filters__summary-chip-remove',\n\t\t\t\t\t\t\t\t\t{ 'has-values': hasValues }\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\t\tfilters: view.filters?.filter(\n\t\t\t\t\t\t\t\t\t\t\t( _filter ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t_filter.field !== filter.field\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t// If the filter is not primary and can be removed, it will be added\n\t\t\t\t\t\t\t\t\t// back to the available filters from `Add filter` component.\n\t\t\t\t\t\t\t\t\tif ( ! isPrimary ) {\n\t\t\t\t\t\t\t\t\t\taddFilterRef.current?.focus();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// If is primary, focus the toggle button.\n\t\t\t\t\t\t\t\t\t\ttoggleRef.current?.focus();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon icon={ closeSmall } />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\trenderContent={ () => {\n\t\t\t\treturn (\n\t\t\t\t\t<VStack spacing={ 0 } justify=\"flex-start\">\n\t\t\t\t\t\t<OperatorSelector { ...commonProps } />\n\t\t\t\t\t\t{ commonProps.filter.hasElements ? (\n\t\t\t\t\t\t\t<SearchWidget\n\t\t\t\t\t\t\t\t{ ...commonProps }\n\t\t\t\t\t\t\t\tfilter={ {\n\t\t\t\t\t\t\t\t\t...commonProps.filter,\n\t\t\t\t\t\t\t\t\telements,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<InputWidget { ...commonProps } fields={ fields } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t);\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\nexport {\n  __spreadValues,\n  __spreadProps,\n  __objRest\n};\n", "\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\nexport {\n  __spreadValues,\n  __spreadProps,\n  __objRest\n};\n", "\"use client\";\nimport {\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/misc.ts\nfunction noop(..._) {\n}\nfunction shallowEqual(a, b) {\n  if (a === b) return true;\n  if (!a) return false;\n  if (!b) return false;\n  if (typeof a !== \"object\") return false;\n  if (typeof b !== \"object\") return false;\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n  const { length } = aKeys;\n  if (bKeys.length !== length) return false;\n  for (const key of aKeys) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction applyState(argument, currentValue) {\n  if (isUpdater(argument)) {\n    const value = isLazyValue(currentValue) ? currentValue() : currentValue;\n    return argument(value);\n  }\n  return argument;\n}\nfunction isUpdater(argument) {\n  return typeof argument === \"function\";\n}\nfunction isLazyValue(value) {\n  return typeof value === \"function\";\n}\nfunction isObject(arg) {\n  return typeof arg === \"object\" && arg != null;\n}\nfunction isEmpty(arg) {\n  if (Array.isArray(arg)) return !arg.length;\n  if (isObject(arg)) return !Object.keys(arg).length;\n  if (arg == null) return true;\n  if (arg === \"\") return true;\n  return false;\n}\nfunction isInteger(arg) {\n  if (typeof arg === \"number\") {\n    return Math.floor(arg) === arg;\n  }\n  return String(Math.floor(Number(arg))) === arg;\n}\nfunction hasOwnProperty(object, prop) {\n  if (typeof Object.hasOwn === \"function\") {\n    return Object.hasOwn(object, prop);\n  }\n  return Object.prototype.hasOwnProperty.call(object, prop);\n}\nfunction chain(...fns) {\n  return (...args) => {\n    for (const fn of fns) {\n      if (typeof fn === \"function\") {\n        fn(...args);\n      }\n    }\n  };\n}\nfunction cx(...args) {\n  return args.filter(Boolean).join(\" \") || void 0;\n}\nfunction normalizeString(str) {\n  return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\nfunction omit(object, keys) {\n  const result = __spreadValues({}, object);\n  for (const key of keys) {\n    if (hasOwnProperty(result, key)) {\n      delete result[key];\n    }\n  }\n  return result;\n}\nfunction pick(object, paths) {\n  const result = {};\n  for (const key of paths) {\n    if (hasOwnProperty(object, key)) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\nfunction identity(value) {\n  return value;\n}\nfunction beforePaint(cb = noop) {\n  const raf = requestAnimationFrame(cb);\n  return () => cancelAnimationFrame(raf);\n}\nfunction afterPaint(cb = noop) {\n  let raf = requestAnimationFrame(() => {\n    raf = requestAnimationFrame(cb);\n  });\n  return () => cancelAnimationFrame(raf);\n}\nfunction invariant(condition, message) {\n  if (condition) return;\n  if (typeof message !== \"string\") throw new Error(\"Invariant failed\");\n  throw new Error(message);\n}\nfunction getKeys(obj) {\n  return Object.keys(obj);\n}\nfunction isFalsyBooleanCallback(booleanOrCallback, ...args) {\n  const result = typeof booleanOrCallback === \"function\" ? booleanOrCallback(...args) : booleanOrCallback;\n  if (result == null) return false;\n  return !result;\n}\nfunction disabledFromProps(props) {\n  return props.disabled || props[\"aria-disabled\"] === true || props[\"aria-disabled\"] === \"true\";\n}\nfunction removeUndefinedValues(obj) {\n  const result = {};\n  for (const key in obj) {\n    if (obj[key] !== void 0) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\nfunction defaultValue(...values) {\n  for (const value of values) {\n    if (value !== void 0) return value;\n  }\n  return void 0;\n}\n\nexport {\n  noop,\n  shallowEqual,\n  applyState,\n  isObject,\n  isEmpty,\n  isInteger,\n  hasOwnProperty,\n  chain,\n  cx,\n  normalizeString,\n  omit,\n  pick,\n  identity,\n  beforePaint,\n  afterPaint,\n  invariant,\n  getKeys,\n  isFalsyBooleanCallback,\n  disabledFromProps,\n  removeUndefinedValues,\n  defaultValue\n};\n", "\"use client\";\nimport {\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/misc.ts\nimport { hasOwnProperty } from \"@ariakit/core/utils/misc\";\nimport { isValidElement } from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\nfunction isValidElementWithRef(element) {\n  if (!element) return false;\n  if (!isValidElement(element)) return false;\n  if (\"ref\" in element.props) return true;\n  if (\"ref\" in element) return true;\n  return false;\n}\nfunction getRefProperty(element) {\n  if (!isValidElementWithRef(element)) return null;\n  const props = __spreadValues({}, element.props);\n  return props.ref || element.ref;\n}\nfunction mergeProps(base, overrides) {\n  const props = __spreadValues({}, base);\n  for (const key in overrides) {\n    if (!hasOwnProperty(overrides, key)) continue;\n    if (key === \"className\") {\n      const prop = \"className\";\n      props[prop] = base[prop] ? `${base[prop]} ${overrides[prop]}` : overrides[prop];\n      continue;\n    }\n    if (key === \"style\") {\n      const prop = \"style\";\n      props[prop] = base[prop] ? __spreadValues(__spreadValues({}, base[prop]), overrides[prop]) : overrides[prop];\n      continue;\n    }\n    const overrideValue = overrides[key];\n    if (typeof overrideValue === \"function\" && key.startsWith(\"on\")) {\n      const baseValue = base[key];\n      if (typeof baseValue === \"function\") {\n        props[key] = (...args) => {\n          overrideValue(...args);\n          baseValue(...args);\n        };\n        continue;\n      }\n    }\n    props[key] = overrideValue;\n  }\n  return props;\n}\n\nexport {\n  setRef,\n  isValidElementWithRef,\n  getRefProperty,\n  mergeProps\n};\n", "\"use client\";\n\n// src/utils/dom.ts\nvar canUseDOM = checkIsBrowser();\nfunction checkIsBrowser() {\n  var _a;\n  return typeof window !== \"undefined\" && !!((_a = window.document) == null ? void 0 : _a.createElement);\n}\nfunction getDocument(node) {\n  if (!node) return document;\n  if (\"self\" in node) return node.document;\n  return node.ownerDocument || document;\n}\nfunction getWindow(node) {\n  if (!node) return self;\n  if (\"self\" in node) return node.self;\n  return getDocument(node).defaultView || window;\n}\nfunction getActiveElement(node, activeDescendant = false) {\n  const { activeElement } = getDocument(node);\n  if (!(activeElement == null ? void 0 : activeElement.nodeName)) {\n    return null;\n  }\n  if (isFrame(activeElement) && activeElement.contentDocument) {\n    return getActiveElement(\n      activeElement.contentDocument.body,\n      activeDescendant\n    );\n  }\n  if (activeDescendant) {\n    const id = activeElement.getAttribute(\"aria-activedescendant\");\n    if (id) {\n      const element = getDocument(activeElement).getElementById(id);\n      if (element) {\n        return element;\n      }\n    }\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  return parent === child || parent.contains(child);\n}\nfunction isFrame(element) {\n  return element.tagName === \"IFRAME\";\n}\nfunction isButton(element) {\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"button\") return true;\n  if (tagName === \"input\" && element.type) {\n    return buttonInputTypes.indexOf(element.type) !== -1;\n  }\n  return false;\n}\nvar buttonInputTypes = [\n  \"button\",\n  \"color\",\n  \"file\",\n  \"image\",\n  \"reset\",\n  \"submit\"\n];\nfunction isVisible(element) {\n  if (typeof element.checkVisibility === \"function\") {\n    return element.checkVisibility();\n  }\n  const htmlElement = element;\n  return htmlElement.offsetWidth > 0 || htmlElement.offsetHeight > 0 || element.getClientRects().length > 0;\n}\nfunction isTextField(element) {\n  try {\n    const isTextInput = element instanceof HTMLInputElement && element.selectionStart !== null;\n    const isTextArea = element.tagName === \"TEXTAREA\";\n    return isTextInput || isTextArea || false;\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTextbox(element) {\n  return element.isContentEditable || isTextField(element);\n}\nfunction getTextboxValue(element) {\n  if (isTextField(element)) {\n    return element.value;\n  }\n  if (element.isContentEditable) {\n    const range = getDocument(element).createRange();\n    range.selectNodeContents(element);\n    return range.toString();\n  }\n  return \"\";\n}\nfunction getTextboxSelection(element) {\n  let start = 0;\n  let end = 0;\n  if (isTextField(element)) {\n    start = element.selectionStart || 0;\n    end = element.selectionEnd || 0;\n  } else if (element.isContentEditable) {\n    const selection = getDocument(element).getSelection();\n    if ((selection == null ? void 0 : selection.rangeCount) && selection.anchorNode && contains(element, selection.anchorNode) && selection.focusNode && contains(element, selection.focusNode)) {\n      const range = selection.getRangeAt(0);\n      const nextRange = range.cloneRange();\n      nextRange.selectNodeContents(element);\n      nextRange.setEnd(range.startContainer, range.startOffset);\n      start = nextRange.toString().length;\n      nextRange.setEnd(range.endContainer, range.endOffset);\n      end = nextRange.toString().length;\n    }\n  }\n  return { start, end };\n}\nfunction getPopupRole(element, fallback) {\n  const allowedPopupRoles = [\"dialog\", \"menu\", \"listbox\", \"tree\", \"grid\"];\n  const role = element == null ? void 0 : element.getAttribute(\"role\");\n  if (role && allowedPopupRoles.indexOf(role) !== -1) {\n    return role;\n  }\n  return fallback;\n}\nfunction getPopupItemRole(element, fallback) {\n  var _a;\n  const itemRoleByPopupRole = {\n    menu: \"menuitem\",\n    listbox: \"option\",\n    tree: \"treeitem\"\n  };\n  const popupRole = getPopupRole(element);\n  if (!popupRole) return fallback;\n  const key = popupRole;\n  return (_a = itemRoleByPopupRole[key]) != null ? _a : fallback;\n}\nfunction scrollIntoViewIfNeeded(element, arg) {\n  if (isPartiallyHidden(element) && \"scrollIntoView\" in element) {\n    element.scrollIntoView(arg);\n  }\n}\nfunction getScrollingElement(element) {\n  if (!element) return null;\n  const isScrollableOverflow = (overflow) => {\n    if (overflow === \"auto\") return true;\n    if (overflow === \"scroll\") return true;\n    return false;\n  };\n  if (element.clientHeight && element.scrollHeight > element.clientHeight) {\n    const { overflowY } = getComputedStyle(element);\n    if (isScrollableOverflow(overflowY)) return element;\n  } else if (element.clientWidth && element.scrollWidth > element.clientWidth) {\n    const { overflowX } = getComputedStyle(element);\n    if (isScrollableOverflow(overflowX)) return element;\n  }\n  return getScrollingElement(element.parentElement) || document.scrollingElement || document.body;\n}\nfunction isPartiallyHidden(element) {\n  const elementRect = element.getBoundingClientRect();\n  const scroller = getScrollingElement(element);\n  if (!scroller) return false;\n  const scrollerRect = scroller.getBoundingClientRect();\n  const isHTML = scroller.tagName === \"HTML\";\n  const scrollerTop = isHTML ? scrollerRect.top + scroller.scrollTop : scrollerRect.top;\n  const scrollerBottom = isHTML ? scroller.clientHeight : scrollerRect.bottom;\n  const scrollerLeft = isHTML ? scrollerRect.left + scroller.scrollLeft : scrollerRect.left;\n  const scrollerRight = isHTML ? scroller.clientWidth : scrollerRect.right;\n  const top = elementRect.top < scrollerTop;\n  const left = elementRect.left < scrollerLeft;\n  const bottom = elementRect.bottom > scrollerBottom;\n  const right = elementRect.right > scrollerRight;\n  return top || left || bottom || right;\n}\nfunction setSelectionRange(element, ...args) {\n  if (/text|search|password|tel|url/i.test(element.type)) {\n    element.setSelectionRange(...args);\n  }\n}\nfunction sortBasedOnDOMPosition(items, getElement) {\n  const pairs = items.map((item, index) => [index, item]);\n  let isOrderDifferent = false;\n  pairs.sort(([indexA, a], [indexB, b]) => {\n    const elementA = getElement(a);\n    const elementB = getElement(b);\n    if (elementA === elementB) return 0;\n    if (!elementA || !elementB) return 0;\n    if (isElementPreceding(elementA, elementB)) {\n      if (indexA > indexB) {\n        isOrderDifferent = true;\n      }\n      return -1;\n    }\n    if (indexA < indexB) {\n      isOrderDifferent = true;\n    }\n    return 1;\n  });\n  if (isOrderDifferent) {\n    return pairs.map(([_, item]) => item);\n  }\n  return items;\n}\nfunction isElementPreceding(a, b) {\n  return Boolean(\n    b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING\n  );\n}\n\nexport {\n  canUseDOM,\n  getDocument,\n  getWindow,\n  getActiveElement,\n  contains,\n  isFrame,\n  isButton,\n  isVisible,\n  isTextField,\n  isTextbox,\n  getTextboxValue,\n  getTextboxSelection,\n  getPopupRole,\n  getPopupItemRole,\n  scrollIntoViewIfNeeded,\n  getScrollingElement,\n  isPartiallyHidden,\n  setSelectionRange,\n  sortBasedOnDOMPosition\n};\n", "\"use client\";\nimport {\n  canUseDOM\n} from \"./DTR5TSDJ.js\";\n\n// src/utils/platform.ts\nfunction isTouchDevice() {\n  return canUseDOM && !!navigator.maxTouchPoints;\n}\nfunction isApple() {\n  if (!canUseDOM) return false;\n  return /mac|iphone|ipad|ipod/i.test(navigator.platform);\n}\nfunction isSafari() {\n  return canUseDOM && isApple() && /apple/i.test(navigator.vendor);\n}\nfunction isFirefox() {\n  return canUseDOM && /firefox\\//i.test(navigator.userAgent);\n}\nfunction isMac() {\n  return canUseDOM && navigator.platform.startsWith(\"Mac\") && !isTouchDevice();\n}\n\nexport {\n  isTouchDevice,\n  isApple,\n  isSafari,\n  isFirefox,\n  isMac\n};\n", "\"use client\";\nimport {\n  isApple\n} from \"../__chunks/QAGXQEUG.js\";\nimport {\n  contains\n} from \"../__chunks/DTR5TSDJ.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/utils/events.ts\nfunction isPortalEvent(event) {\n  return Boolean(\n    event.currentTarget && !contains(event.currentTarget, event.target)\n  );\n}\nfunction isSelfTarget(event) {\n  return event.target === event.currentTarget;\n}\nfunction isOpeningInNewTab(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const isAppleDevice = isApple();\n  if (isAppleDevice && !event.metaKey) return false;\n  if (!isAppleDevice && !event.ctrlKey) return false;\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"a\") return true;\n  if (tagName === \"button\" && element.type === \"submit\") return true;\n  if (tagName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isDownloading(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const tagName = element.tagName.toLowerCase();\n  if (!event.altKey) return false;\n  if (tagName === \"a\") return true;\n  if (tagName === \"button\" && element.type === \"submit\") return true;\n  if (tagName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction fireEvent(element, type, eventInit) {\n  const event = new Event(type, eventInit);\n  return element.dispatchEvent(event);\n}\nfunction fireBlurEvent(element, eventInit) {\n  const event = new FocusEvent(\"blur\", eventInit);\n  const defaultAllowed = element.dispatchEvent(event);\n  const bubbleInit = __spreadProps(__spreadValues({}, eventInit), { bubbles: true });\n  element.dispatchEvent(new FocusEvent(\"focusout\", bubbleInit));\n  return defaultAllowed;\n}\nfunction fireFocusEvent(element, eventInit) {\n  const event = new FocusEvent(\"focus\", eventInit);\n  const defaultAllowed = element.dispatchEvent(event);\n  const bubbleInit = __spreadProps(__spreadValues({}, eventInit), { bubbles: true });\n  element.dispatchEvent(new FocusEvent(\"focusin\", bubbleInit));\n  return defaultAllowed;\n}\nfunction fireKeyboardEvent(element, type, eventInit) {\n  const event = new KeyboardEvent(type, eventInit);\n  return element.dispatchEvent(event);\n}\nfunction fireClickEvent(element, eventInit) {\n  const event = new MouseEvent(\"click\", eventInit);\n  return element.dispatchEvent(event);\n}\nfunction isFocusEventOutside(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction getInputType(event) {\n  const nativeEvent = \"nativeEvent\" in event ? event.nativeEvent : event;\n  if (!nativeEvent) return;\n  if (!(\"inputType\" in nativeEvent)) return;\n  if (typeof nativeEvent.inputType !== \"string\") return;\n  return nativeEvent.inputType;\n}\nfunction queueBeforeEvent(element, type, callback, timeout) {\n  const createTimer = (callback2) => {\n    if (timeout) {\n      const timerId2 = setTimeout(callback2, timeout);\n      return () => clearTimeout(timerId2);\n    }\n    const timerId = requestAnimationFrame(callback2);\n    return () => cancelAnimationFrame(timerId);\n  };\n  const cancelTimer = createTimer(() => {\n    element.removeEventListener(type, callSync, true);\n    callback();\n  });\n  const callSync = () => {\n    cancelTimer();\n    callback();\n  };\n  element.addEventListener(type, callSync, { once: true, capture: true });\n  return cancelTimer;\n}\nfunction addGlobalEventListener(type, listener, options, scope = window) {\n  const children = [];\n  try {\n    scope.document.addEventListener(type, listener, options);\n    for (const frame of Array.from(scope.frames)) {\n      children.push(addGlobalEventListener(type, listener, options, frame));\n    }\n  } catch (e) {\n  }\n  const removeEventListener = () => {\n    try {\n      scope.document.removeEventListener(type, listener, options);\n    } catch (e) {\n    }\n    for (const remove of children) {\n      remove();\n    }\n  };\n  return removeEventListener;\n}\nexport {\n  addGlobalEventListener,\n  fireBlurEvent,\n  fireClickEvent,\n  fireEvent,\n  fireFocusEvent,\n  fireKeyboardEvent,\n  getInputType,\n  isDownloading,\n  isFocusEventOutside,\n  isOpeningInNewTab,\n  isPortalEvent,\n  isSelfTarget,\n  queueBeforeEvent\n};\n", "\"use client\";\nimport {\n  setRef\n} from \"./SK3NAZA3.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/hooks.ts\nimport { canUseDOM } from \"@ariakit/core/utils/dom\";\nimport { addGlobalEventListener } from \"@ariakit/core/utils/events\";\nimport {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState\n} from \"react\";\nimport * as React from \"react\";\nvar _React = __spreadValues({}, React);\nvar useReactId = _React.useId;\nvar useReactDeferredValue = _React.useDeferredValue;\nvar useReactInsertionEffect = _React.useInsertionEffect;\nvar useSafeLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\nfunction useInitialValue(value) {\n  const [initialValue] = useState(value);\n  return initialValue;\n}\nfunction useLazyValue(init) {\n  const ref = useRef();\n  if (ref.current === void 0) {\n    ref.current = init();\n  }\n  return ref.current;\n}\nfunction useLiveRef(value) {\n  const ref = useRef(value);\n  useSafeLayoutEffect(() => {\n    ref.current = value;\n  });\n  return ref;\n}\nfunction usePreviousValue(value) {\n  const [previousValue, setPreviousValue] = useState(value);\n  if (value !== previousValue) {\n    setPreviousValue(value);\n  }\n  return previousValue;\n}\nfunction useEvent(callback) {\n  const ref = useRef(() => {\n    throw new Error(\"Cannot call an event handler while rendering.\");\n  });\n  if (useReactInsertionEffect) {\n    useReactInsertionEffect(() => {\n      ref.current = callback;\n    });\n  } else {\n    ref.current = callback;\n  }\n  return useCallback((...args) => {\n    var _a;\n    return (_a = ref.current) == null ? void 0 : _a.call(ref, ...args);\n  }, []);\n}\nfunction useTransactionState(callback) {\n  const [state, setState] = useState(null);\n  useSafeLayoutEffect(() => {\n    if (state == null) return;\n    if (!callback) return;\n    let prevState = null;\n    callback((prev) => {\n      prevState = prev;\n      return state;\n    });\n    return () => {\n      callback(prevState);\n    };\n  }, [state, callback]);\n  return [state, setState];\n}\nfunction useMergeRefs(...refs) {\n  return useMemo(() => {\n    if (!refs.some(Boolean)) return;\n    return (value) => {\n      for (const ref of refs) {\n        setRef(ref, value);\n      }\n    };\n  }, refs);\n}\nfunction useId(defaultId) {\n  if (useReactId) {\n    const reactId = useReactId();\n    if (defaultId) return defaultId;\n    return reactId;\n  }\n  const [id, setId] = useState(defaultId);\n  useSafeLayoutEffect(() => {\n    if (defaultId || id) return;\n    const random = Math.random().toString(36).slice(2, 8);\n    setId(`id-${random}`);\n  }, [defaultId, id]);\n  return defaultId || id;\n}\nfunction useDeferredValue(value) {\n  if (useReactDeferredValue) {\n    return useReactDeferredValue(value);\n  }\n  const [deferredValue, setDeferredValue] = useState(value);\n  useEffect(() => {\n    const raf = requestAnimationFrame(() => setDeferredValue(value));\n    return () => cancelAnimationFrame(raf);\n  }, [value]);\n  return deferredValue;\n}\nfunction useTagName(refOrElement, type) {\n  const stringOrUndefined = (type2) => {\n    if (typeof type2 !== \"string\") return;\n    return type2;\n  };\n  const [tagName, setTagName] = useState(() => stringOrUndefined(type));\n  useSafeLayoutEffect(() => {\n    const element = refOrElement && \"current\" in refOrElement ? refOrElement.current : refOrElement;\n    setTagName((element == null ? void 0 : element.tagName.toLowerCase()) || stringOrUndefined(type));\n  }, [refOrElement, type]);\n  return tagName;\n}\nfunction useAttribute(refOrElement, attributeName, defaultValue) {\n  const initialValue = useInitialValue(defaultValue);\n  const [attribute, setAttribute] = useState(initialValue);\n  useEffect(() => {\n    const element = refOrElement && \"current\" in refOrElement ? refOrElement.current : refOrElement;\n    if (!element) return;\n    const callback = () => {\n      const value = element.getAttribute(attributeName);\n      setAttribute(value == null ? initialValue : value);\n    };\n    const observer = new MutationObserver(callback);\n    observer.observe(element, { attributeFilter: [attributeName] });\n    callback();\n    return () => observer.disconnect();\n  }, [refOrElement, attributeName, initialValue]);\n  return attribute;\n}\nfunction useUpdateEffect(effect, deps) {\n  const mounted = useRef(false);\n  useEffect(() => {\n    if (mounted.current) {\n      return effect();\n    }\n    mounted.current = true;\n  }, deps);\n  useEffect(\n    () => () => {\n      mounted.current = false;\n    },\n    []\n  );\n}\nfunction useUpdateLayoutEffect(effect, deps) {\n  const mounted = useRef(false);\n  useSafeLayoutEffect(() => {\n    if (mounted.current) {\n      return effect();\n    }\n    mounted.current = true;\n  }, deps);\n  useSafeLayoutEffect(\n    () => () => {\n      mounted.current = false;\n    },\n    []\n  );\n}\nfunction useForceUpdate() {\n  return useReducer(() => [], []);\n}\nfunction useBooleanEvent(booleanOrCallback) {\n  return useEvent(\n    typeof booleanOrCallback === \"function\" ? booleanOrCallback : () => booleanOrCallback\n  );\n}\nfunction useWrapElement(props, callback, deps = []) {\n  const wrapElement = useCallback(\n    (element) => {\n      if (props.wrapElement) {\n        element = props.wrapElement(element);\n      }\n      return callback(element);\n    },\n    [...deps, props.wrapElement]\n  );\n  return __spreadProps(__spreadValues({}, props), { wrapElement });\n}\nfunction usePortalRef(portalProp = false, portalRefProp) {\n  const [portalNode, setPortalNode] = useState(null);\n  const portalRef = useMergeRefs(setPortalNode, portalRefProp);\n  const domReady = !portalProp || portalNode;\n  return { portalRef, portalNode, domReady };\n}\nfunction useMetadataProps(props, key, value) {\n  const parent = props.onLoadedMetadataCapture;\n  const onLoadedMetadataCapture = useMemo(() => {\n    return Object.assign(() => {\n    }, __spreadProps(__spreadValues({}, parent), { [key]: value }));\n  }, [parent, key, value]);\n  return [parent == null ? void 0 : parent[key], { onLoadedMetadataCapture }];\n}\nfunction useIsMouseMoving() {\n  useEffect(() => {\n    addGlobalEventListener(\"mousemove\", setMouseMoving, true);\n    addGlobalEventListener(\"mousedown\", resetMouseMoving, true);\n    addGlobalEventListener(\"mouseup\", resetMouseMoving, true);\n    addGlobalEventListener(\"keydown\", resetMouseMoving, true);\n    addGlobalEventListener(\"scroll\", resetMouseMoving, true);\n  }, []);\n  const isMouseMoving = useEvent(() => mouseMoving);\n  return isMouseMoving;\n}\nvar mouseMoving = false;\nvar previousScreenX = 0;\nvar previousScreenY = 0;\nfunction hasMouseMovement(event) {\n  const movementX = event.movementX || event.screenX - previousScreenX;\n  const movementY = event.movementY || event.screenY - previousScreenY;\n  previousScreenX = event.screenX;\n  previousScreenY = event.screenY;\n  return movementX || movementY || process.env.NODE_ENV === \"test\";\n}\nfunction setMouseMoving(event) {\n  if (!hasMouseMovement(event)) return;\n  mouseMoving = true;\n}\nfunction resetMouseMoving() {\n  mouseMoving = false;\n}\n\nexport {\n  useSafeLayoutEffect,\n  useInitialValue,\n  useLazyValue,\n  useLiveRef,\n  usePreviousValue,\n  useEvent,\n  useTransactionState,\n  useMergeRefs,\n  useId,\n  useDeferredValue,\n  useTagName,\n  useAttribute,\n  useUpdateEffect,\n  useUpdateLayoutEffect,\n  useForceUpdate,\n  useBooleanEvent,\n  useWrapElement,\n  usePortalRef,\n  useMetadataProps,\n  useIsMouseMoving\n};\n", "\"use client\";\nimport {\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  getRefProperty,\n  mergeProps\n} from \"./SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/system.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction forwardRef2(render) {\n  const Role = React.forwardRef((props, ref) => render(__spreadProps(__spreadValues({}, props), { ref })));\n  Role.displayName = render.displayName || render.name;\n  return Role;\n}\nfunction memo2(Component, propsAreEqual) {\n  return React.memo(Component, propsAreEqual);\n}\nfunction createElement(Type, props) {\n  const _a = props, { wrapElement, render } = _a, rest = __objRest(_a, [\"wrapElement\", \"render\"]);\n  const mergedRef = useMergeRefs(props.ref, getRefProperty(render));\n  let element;\n  if (React.isValidElement(render)) {\n    const renderProps = __spreadProps(__spreadValues({}, render.props), { ref: mergedRef });\n    element = React.cloneElement(render, mergeProps(rest, renderProps));\n  } else if (render) {\n    element = render(rest);\n  } else {\n    element = /* @__PURE__ */ jsx(Type, __spreadValues({}, rest));\n  }\n  if (wrapElement) {\n    return wrapElement(element);\n  }\n  return element;\n}\nfunction createHook(useProps) {\n  const useRole = (props = {}) => {\n    return useProps(props);\n  };\n  useRole.displayName = useProps.name;\n  return useRole;\n}\nfunction createStoreContext(providers = [], scopedProviders = []) {\n  const context = React.createContext(void 0);\n  const scopedContext = React.createContext(void 0);\n  const useContext2 = () => React.useContext(context);\n  const useScopedContext = (onlyScoped = false) => {\n    const scoped = React.useContext(scopedContext);\n    const store = useContext2();\n    if (onlyScoped) return scoped;\n    return scoped || store;\n  };\n  const useProviderContext = () => {\n    const scoped = React.useContext(scopedContext);\n    const store = useContext2();\n    if (scoped && scoped === store) return;\n    return store;\n  };\n  const ContextProvider = (props) => {\n    return providers.reduceRight(\n      (children, Provider) => /* @__PURE__ */ jsx(Provider, __spreadProps(__spreadValues({}, props), { children })),\n      /* @__PURE__ */ jsx(context.Provider, __spreadValues({}, props))\n    );\n  };\n  const ScopedContextProvider = (props) => {\n    return /* @__PURE__ */ jsx(ContextProvider, __spreadProps(__spreadValues({}, props), { children: scopedProviders.reduceRight(\n      (children, Provider) => /* @__PURE__ */ jsx(Provider, __spreadProps(__spreadValues({}, props), { children })),\n      /* @__PURE__ */ jsx(scopedContext.Provider, __spreadValues({}, props))\n    ) }));\n  };\n  return {\n    context,\n    scopedContext,\n    useContext: useContext2,\n    useScopedContext,\n    useProviderContext,\n    ContextProvider,\n    ScopedContextProvider\n  };\n}\n\nexport {\n  forwardRef2 as forwardRef,\n  memo2 as memo,\n  createElement,\n  createHook,\n  createStoreContext\n};\n", "\"use client\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/collection/collection-context.tsx\nvar ctx = createStoreContext();\nvar useCollectionContext = ctx.useContext;\nvar useCollectionScopedContext = ctx.useScopedContext;\nvar useCollectionProviderContext = ctx.useProviderContext;\nvar CollectionContextProvider = ctx.ContextProvider;\nvar CollectionScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  useCollectionContext,\n  useCollectionScopedContext,\n  useCollectionProviderContext,\n  CollectionContextProvider,\n  CollectionScopedContextProvider\n};\n", "\"use client\";\nimport {\n  CollectionContextProvider,\n  CollectionScopedContextProvider\n} from \"./VDHZ5F7K.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/composite/composite-context.tsx\nimport { createContext } from \"react\";\nvar ctx = createStoreContext(\n  [CollectionContextProvider],\n  [CollectionScopedContextProvider]\n);\nvar useCompositeContext = ctx.useContext;\nvar useCompositeScopedContext = ctx.useScopedContext;\nvar useCompositeProviderContext = ctx.useProviderContext;\nvar CompositeContextProvider = ctx.ContextProvider;\nvar CompositeScopedContextProvider = ctx.ScopedContextProvider;\nvar CompositeItemContext = createContext(\n  void 0\n);\nvar CompositeRowContext = createContext(\n  void 0\n);\n\nexport {\n  useCompositeContext,\n  useCompositeScopedContext,\n  useCompositeProviderContext,\n  CompositeContextProvider,\n  CompositeScopedContextProvider,\n  CompositeItemContext,\n  CompositeRowContext\n};\n", "\"use client\";\nimport {\n  CompositeContextProvider,\n  CompositeScopedContextProvider\n} from \"./P7GR5CS5.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/tag/tag-context.tsx\nimport { createContext } from \"react\";\nvar TagValueContext = createContext(null);\nvar TagRemoveIdContext = createContext(\n  null\n);\nvar ctx = createStoreContext(\n  [CompositeContextProvider],\n  [CompositeScopedContextProvider]\n);\nvar useTagContext = ctx.useContext;\nvar useTagScopedContext = ctx.useScopedContext;\nvar useTagProviderContext = ctx.useProviderContext;\nvar TagContextProvider = ctx.ContextProvider;\nvar TagScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  TagValueContext,\n  TagRemoveIdContext,\n  useTagContext,\n  useTagScopedContext,\n  useTagProviderContext,\n  TagContextProvider,\n  TagScopedContextProvider\n};\n", "\"use client\";\nimport {\n  applyState,\n  chain,\n  getKeys,\n  hasOwnProperty,\n  invariant,\n  noop,\n  omit,\n  pick\n} from \"./PBFD2E7P.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/store.ts\nfunction getInternal(store, key) {\n  const internals = store.__unstableInternals;\n  invariant(internals, \"Invalid store\");\n  return internals[key];\n}\nfunction createStore(initialState, ...stores) {\n  let state = initialState;\n  let prevStateBatch = state;\n  let lastUpdate = Symbol();\n  let destroy = noop;\n  const instances = /* @__PURE__ */ new Set();\n  const updatedKeys = /* @__PURE__ */ new Set();\n  const setups = /* @__PURE__ */ new Set();\n  const listeners = /* @__PURE__ */ new Set();\n  const batchListeners = /* @__PURE__ */ new Set();\n  const disposables = /* @__PURE__ */ new WeakMap();\n  const listenerKeys = /* @__PURE__ */ new WeakMap();\n  const storeSetup = (callback) => {\n    setups.add(callback);\n    return () => setups.delete(callback);\n  };\n  const storeInit = () => {\n    const initialized = instances.size;\n    const instance = Symbol();\n    instances.add(instance);\n    const maybeDestroy = () => {\n      instances.delete(instance);\n      if (instances.size) return;\n      destroy();\n    };\n    if (initialized) return maybeDestroy;\n    const desyncs = getKeys(state).map(\n      (key) => chain(\n        ...stores.map((store) => {\n          var _a;\n          const storeState = (_a = store == null ? void 0 : store.getState) == null ? void 0 : _a.call(store);\n          if (!storeState) return;\n          if (!hasOwnProperty(storeState, key)) return;\n          return sync(store, [key], (state2) => {\n            setState(\n              key,\n              state2[key],\n              // @ts-expect-error - Not public API. This is just to prevent\n              // infinite loops.\n              true\n            );\n          });\n        })\n      )\n    );\n    const teardowns = [];\n    for (const setup2 of setups) {\n      teardowns.push(setup2());\n    }\n    const cleanups = stores.map(init);\n    destroy = chain(...desyncs, ...teardowns, ...cleanups);\n    return maybeDestroy;\n  };\n  const sub = (keys, listener, set = listeners) => {\n    set.add(listener);\n    listenerKeys.set(listener, keys);\n    return () => {\n      var _a;\n      (_a = disposables.get(listener)) == null ? void 0 : _a();\n      disposables.delete(listener);\n      listenerKeys.delete(listener);\n      set.delete(listener);\n    };\n  };\n  const storeSubscribe = (keys, listener) => sub(keys, listener);\n  const storeSync = (keys, listener) => {\n    disposables.set(listener, listener(state, state));\n    return sub(keys, listener);\n  };\n  const storeBatch = (keys, listener) => {\n    disposables.set(listener, listener(state, prevStateBatch));\n    return sub(keys, listener, batchListeners);\n  };\n  const storePick = (keys) => createStore(pick(state, keys), finalStore);\n  const storeOmit = (keys) => createStore(omit(state, keys), finalStore);\n  const getState = () => state;\n  const setState = (key, value, fromStores = false) => {\n    var _a;\n    if (!hasOwnProperty(state, key)) return;\n    const nextValue = applyState(value, state[key]);\n    if (nextValue === state[key]) return;\n    if (!fromStores) {\n      for (const store of stores) {\n        (_a = store == null ? void 0 : store.setState) == null ? void 0 : _a.call(store, key, nextValue);\n      }\n    }\n    const prevState = state;\n    state = __spreadProps(__spreadValues({}, state), { [key]: nextValue });\n    const thisUpdate = Symbol();\n    lastUpdate = thisUpdate;\n    updatedKeys.add(key);\n    const run = (listener, prev, uKeys) => {\n      var _a2;\n      const keys = listenerKeys.get(listener);\n      const updated = (k) => uKeys ? uKeys.has(k) : k === key;\n      if (!keys || keys.some(updated)) {\n        (_a2 = disposables.get(listener)) == null ? void 0 : _a2();\n        disposables.set(listener, listener(state, prev));\n      }\n    };\n    for (const listener of listeners) {\n      run(listener, prevState);\n    }\n    queueMicrotask(() => {\n      if (lastUpdate !== thisUpdate) return;\n      const snapshot = state;\n      for (const listener of batchListeners) {\n        run(listener, prevStateBatch, updatedKeys);\n      }\n      prevStateBatch = snapshot;\n      updatedKeys.clear();\n    });\n  };\n  const finalStore = {\n    getState,\n    setState,\n    __unstableInternals: {\n      setup: storeSetup,\n      init: storeInit,\n      subscribe: storeSubscribe,\n      sync: storeSync,\n      batch: storeBatch,\n      pick: storePick,\n      omit: storeOmit\n    }\n  };\n  return finalStore;\n}\nfunction setup(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"setup\")(...args);\n}\nfunction init(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"init\")(...args);\n}\nfunction subscribe(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"subscribe\")(...args);\n}\nfunction sync(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"sync\")(...args);\n}\nfunction batch(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"batch\")(...args);\n}\nfunction omit2(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"omit\")(...args);\n}\nfunction pick2(store, ...args) {\n  if (!store) return;\n  return getInternal(store, \"pick\")(...args);\n}\nfunction mergeStore(...stores) {\n  const initialState = stores.reduce((state, store2) => {\n    var _a;\n    const nextState = (_a = store2 == null ? void 0 : store2.getState) == null ? void 0 : _a.call(store2);\n    if (!nextState) return state;\n    return Object.assign(state, nextState);\n  }, {});\n  const store = createStore(initialState, ...stores);\n  return Object.assign({}, ...stores, store);\n}\nfunction throwOnConflictingProps(props, store) {\n  if (process.env.NODE_ENV === \"production\") return;\n  if (!store) return;\n  const defaultKeys = Object.entries(props).filter(([key, value]) => key.startsWith(\"default\") && value !== void 0).map(([key]) => {\n    var _a;\n    const stateKey = key.replace(\"default\", \"\");\n    return `${((_a = stateKey[0]) == null ? void 0 : _a.toLowerCase()) || \"\"}${stateKey.slice(1)}`;\n  });\n  if (!defaultKeys.length) return;\n  const storeState = store.getState();\n  const conflictingProps = defaultKeys.filter(\n    (key) => hasOwnProperty(storeState, key)\n  );\n  if (!conflictingProps.length) return;\n  throw new Error(\n    `Passing a store prop in conjunction with a default state is not supported.\n\nconst store = useSelectStore();\n<SelectProvider store={store} defaultValue=\"Apple\" />\n                ^             ^\n\nInstead, pass the default state to the topmost store:\n\nconst store = useSelectStore({ defaultValue: \"Apple\" });\n<SelectProvider store={store} />\n\nSee https://github.com/ariakit/ariakit/pull/2745 for more details.\n\nIf there's a particular need for this, please submit a feature request at https://github.com/ariakit/ariakit\n`\n  );\n}\n\nexport {\n  createStore,\n  setup,\n  init,\n  subscribe,\n  sync,\n  batch,\n  omit2 as omit,\n  pick2 as pick,\n  mergeStore,\n  throwOnConflictingProps\n};\n", "\"use client\";\nimport {\n  useEvent,\n  useLiveRef,\n  useSafeLayoutEffect\n} from \"./ABQUS43J.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/utils/store.tsx\nimport { hasOwnProperty, identity } from \"@ariakit/core/utils/misc\";\nimport { batch, init, subscribe, sync } from \"@ariakit/core/utils/store\";\nimport * as React from \"react\";\nimport useSyncExternalStoreExports from \"use-sync-external-store/shim/index.js\";\nvar { useSyncExternalStore } = useSyncExternalStoreExports;\nvar noopSubscribe = () => () => {\n};\nfunction useStoreState(store, keyOrSelector = identity) {\n  const storeSubscribe = React.useCallback(\n    (callback) => {\n      if (!store) return noopSubscribe();\n      return subscribe(store, null, callback);\n    },\n    [store]\n  );\n  const getSnapshot = () => {\n    const key = typeof keyOrSelector === \"string\" ? keyOrSelector : null;\n    const selector = typeof keyOrSelector === \"function\" ? keyOrSelector : null;\n    const state = store == null ? void 0 : store.getState();\n    if (selector) return selector(state);\n    if (!state) return;\n    if (!key) return;\n    if (!hasOwnProperty(state, key)) return;\n    return state[key];\n  };\n  return useSyncExternalStore(storeSubscribe, getSnapshot, getSnapshot);\n}\nfunction useStoreStateObject(store, object) {\n  const objRef = React.useRef(\n    {}\n  );\n  const storeSubscribe = React.useCallback(\n    (callback) => {\n      if (!store) return noopSubscribe();\n      return subscribe(store, null, callback);\n    },\n    [store]\n  );\n  const getSnapshot = () => {\n    const state = store == null ? void 0 : store.getState();\n    let updated = false;\n    const obj = objRef.current;\n    for (const prop in object) {\n      const keyOrSelector = object[prop];\n      if (typeof keyOrSelector === \"function\") {\n        const value = keyOrSelector(state);\n        if (value !== obj[prop]) {\n          obj[prop] = value;\n          updated = true;\n        }\n      }\n      if (typeof keyOrSelector === \"string\") {\n        if (!state) continue;\n        if (!hasOwnProperty(state, keyOrSelector)) continue;\n        const value = state[keyOrSelector];\n        if (value !== obj[prop]) {\n          obj[prop] = value;\n          updated = true;\n        }\n      }\n    }\n    if (updated) {\n      objRef.current = __spreadValues({}, obj);\n    }\n    return objRef.current;\n  };\n  return useSyncExternalStore(storeSubscribe, getSnapshot, getSnapshot);\n}\nfunction useStoreProps(store, props, key, setKey) {\n  const value = hasOwnProperty(props, key) ? props[key] : void 0;\n  const setValue = setKey ? props[setKey] : void 0;\n  const propsRef = useLiveRef({ value, setValue });\n  useSafeLayoutEffect(() => {\n    return sync(store, [key], (state, prev) => {\n      const { value: value2, setValue: setValue2 } = propsRef.current;\n      if (!setValue2) return;\n      if (state[key] === prev[key]) return;\n      if (state[key] === value2) return;\n      setValue2(state[key]);\n    });\n  }, [store, key]);\n  useSafeLayoutEffect(() => {\n    if (value === void 0) return;\n    store.setState(key, value);\n    return batch(store, [key], () => {\n      if (value === void 0) return;\n      store.setState(key, value);\n    });\n  });\n}\nfunction useStore(createStore, props) {\n  const [store, setStore] = React.useState(() => createStore(props));\n  useSafeLayoutEffect(() => init(store), [store]);\n  const useState2 = React.useCallback(\n    (keyOrSelector) => useStoreState(store, keyOrSelector),\n    [store]\n  );\n  const memoizedStore = React.useMemo(\n    () => __spreadProps(__spreadValues({}, store), { useState: useState2 }),\n    [store, useState2]\n  );\n  const updateStore = useEvent(() => {\n    setStore((store2) => createStore(__spreadValues(__spreadValues({}, props), store2.getState())));\n  });\n  return [memoizedStore, updateStore];\n}\n\nexport {\n  useStoreState,\n  useStoreStateObject,\n  useStoreProps,\n  useStore\n};\n", "\"use client\";\nimport {\n  batch,\n  createStore,\n  init,\n  setup,\n  throwOnConflictingProps\n} from \"./BCALMBPZ.js\";\nimport {\n  chain,\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  getDocument,\n  sortBasedOnDOMPosition\n} from \"./DTR5TSDJ.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/collection/collection-store.ts\nfunction getCommonParent(items) {\n  var _a;\n  const firstItem = items.find((item) => !!item.element);\n  const lastItem = [...items].reverse().find((item) => !!item.element);\n  let parentElement = (_a = firstItem == null ? void 0 : firstItem.element) == null ? void 0 : _a.parentElement;\n  while (parentElement && (lastItem == null ? void 0 : lastItem.element)) {\n    const parent = parentElement;\n    if (lastItem && parent.contains(lastItem.element)) {\n      return parentElement;\n    }\n    parentElement = parentElement.parentElement;\n  }\n  return getDocument(parentElement).body;\n}\nfunction getPrivateStore(store) {\n  return store == null ? void 0 : store.__unstablePrivateStore;\n}\nfunction createCollectionStore(props = {}) {\n  var _a;\n  throwOnConflictingProps(props, props.store);\n  const syncState = (_a = props.store) == null ? void 0 : _a.getState();\n  const items = defaultValue(\n    props.items,\n    syncState == null ? void 0 : syncState.items,\n    props.defaultItems,\n    []\n  );\n  const itemsMap = new Map(items.map((item) => [item.id, item]));\n  const initialState = {\n    items,\n    renderedItems: defaultValue(syncState == null ? void 0 : syncState.renderedItems, [])\n  };\n  const syncPrivateStore = getPrivateStore(props.store);\n  const privateStore = createStore(\n    { items, renderedItems: initialState.renderedItems },\n    syncPrivateStore\n  );\n  const collection = createStore(initialState, props.store);\n  const sortItems = (renderedItems) => {\n    const sortedItems = sortBasedOnDOMPosition(renderedItems, (i) => i.element);\n    privateStore.setState(\"renderedItems\", sortedItems);\n    collection.setState(\"renderedItems\", sortedItems);\n  };\n  setup(collection, () => init(privateStore));\n  setup(privateStore, () => {\n    return batch(privateStore, [\"items\"], (state) => {\n      collection.setState(\"items\", state.items);\n    });\n  });\n  setup(privateStore, () => {\n    return batch(privateStore, [\"renderedItems\"], (state) => {\n      let firstRun = true;\n      let raf = requestAnimationFrame(() => {\n        const { renderedItems } = collection.getState();\n        if (state.renderedItems === renderedItems) return;\n        sortItems(state.renderedItems);\n      });\n      if (typeof IntersectionObserver !== \"function\") {\n        return () => cancelAnimationFrame(raf);\n      }\n      const ioCallback = () => {\n        if (firstRun) {\n          firstRun = false;\n          return;\n        }\n        cancelAnimationFrame(raf);\n        raf = requestAnimationFrame(() => sortItems(state.renderedItems));\n      };\n      const root = getCommonParent(state.renderedItems);\n      const observer = new IntersectionObserver(ioCallback, { root });\n      for (const item of state.renderedItems) {\n        if (!item.element) continue;\n        observer.observe(item.element);\n      }\n      return () => {\n        cancelAnimationFrame(raf);\n        observer.disconnect();\n      };\n    });\n  });\n  const mergeItem = (item, setItems, canDeleteFromMap = false) => {\n    let prevItem;\n    setItems((items2) => {\n      const index = items2.findIndex(({ id }) => id === item.id);\n      const nextItems = items2.slice();\n      if (index !== -1) {\n        prevItem = items2[index];\n        const nextItem = __spreadValues(__spreadValues({}, prevItem), item);\n        nextItems[index] = nextItem;\n        itemsMap.set(item.id, nextItem);\n      } else {\n        nextItems.push(item);\n        itemsMap.set(item.id, item);\n      }\n      return nextItems;\n    });\n    const unmergeItem = () => {\n      setItems((items2) => {\n        if (!prevItem) {\n          if (canDeleteFromMap) {\n            itemsMap.delete(item.id);\n          }\n          return items2.filter(({ id }) => id !== item.id);\n        }\n        const index = items2.findIndex(({ id }) => id === item.id);\n        if (index === -1) return items2;\n        const nextItems = items2.slice();\n        nextItems[index] = prevItem;\n        itemsMap.set(item.id, prevItem);\n        return nextItems;\n      });\n    };\n    return unmergeItem;\n  };\n  const registerItem = (item) => mergeItem(\n    item,\n    (getItems) => privateStore.setState(\"items\", getItems),\n    true\n  );\n  return __spreadProps(__spreadValues({}, collection), {\n    registerItem,\n    renderItem: (item) => chain(\n      registerItem(item),\n      mergeItem(\n        item,\n        (getItems) => privateStore.setState(\"renderedItems\", getItems)\n      )\n    ),\n    item: (id) => {\n      if (!id) return null;\n      let item = itemsMap.get(id);\n      if (!item) {\n        const { items: items2 } = privateStore.getState();\n        item = items2.find((item2) => item2.id === id);\n        if (item) {\n          itemsMap.set(id, item);\n        }\n      }\n      return item || null;\n    },\n    // @ts-expect-error Internal\n    __unstablePrivateStore: privateStore\n  });\n}\n\nexport {\n  createCollectionStore\n};\n", "\"use client\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\n\n// src/collection/collection-store.ts\nimport * as Core from \"@ariakit/core/collection/collection-store\";\nfunction useCollectionStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.store]);\n  useStoreProps(store, props, \"items\", \"setItems\");\n  return store;\n}\nfunction useCollectionStore(props = {}) {\n  const [store, update] = useStore(Core.createCollectionStore, props);\n  return useCollectionStoreProps(store, update, props);\n}\n\nexport {\n  useCollectionStoreProps,\n  useCollectionStore\n};\n", "\"use client\";\n\n// src/utils/array.ts\nfunction toArray(arg) {\n  if (Array.isArray(arg)) {\n    return arg;\n  }\n  return typeof arg !== \"undefined\" ? [arg] : [];\n}\nfunction addItemToArray(array, item, index = -1) {\n  if (!(index in array)) {\n    return [...array, item];\n  }\n  return [...array.slice(0, index), item, ...array.slice(index)];\n}\nfunction flatten2DArray(array) {\n  const flattened = [];\n  for (const row of array) {\n    flattened.push(...row);\n  }\n  return flattened;\n}\nfunction reverseArray(array) {\n  return array.slice().reverse();\n}\n\nexport {\n  toArray,\n  addItemToArray,\n  flatten2DArray,\n  reverseArray\n};\n", "\"use client\";\nimport {\n  createCollectionStore\n} from \"./CYQWQL4J.js\";\nimport {\n  flatten2DArray,\n  reverseArray\n} from \"./7PRQYBBV.js\";\nimport {\n  createStore,\n  setup,\n  sync\n} from \"./BCALMBPZ.js\";\nimport {\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-store.ts\nvar NULL_ITEM = { id: null };\nfunction findFirstEnabledItem(items, excludeId) {\n  return items.find((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getEnabledItems(items, excludeId) {\n  return items.filter((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getItemsInRow(items, rowId) {\n  return items.filter((item) => item.rowId === rowId);\n}\nfunction flipItems(items, activeId, shouldInsertNullItem = false) {\n  const index = items.findIndex((item) => item.id === activeId);\n  return [\n    ...items.slice(index + 1),\n    ...shouldInsertNullItem ? [NULL_ITEM] : [],\n    ...items.slice(0, index)\n  ];\n}\nfunction groupItemsByRows(items) {\n  const rows = [];\n  for (const item of items) {\n    const row = rows.find((currentRow) => {\n      var _a;\n      return ((_a = currentRow[0]) == null ? void 0 : _a.rowId) === item.rowId;\n    });\n    if (row) {\n      row.push(item);\n    } else {\n      rows.push([item]);\n    }\n  }\n  return rows;\n}\nfunction getMaxRowLength(array) {\n  let maxLength = 0;\n  for (const { length } of array) {\n    if (length > maxLength) {\n      maxLength = length;\n    }\n  }\n  return maxLength;\n}\nfunction createEmptyItem(rowId) {\n  return {\n    id: \"__EMPTY_ITEM__\",\n    disabled: true,\n    rowId\n  };\n}\nfunction normalizeRows(rows, activeId, focusShift) {\n  const maxLength = getMaxRowLength(rows);\n  for (const row of rows) {\n    for (let i = 0; i < maxLength; i += 1) {\n      const item = row[i];\n      if (!item || focusShift && item.disabled) {\n        const isFirst = i === 0;\n        const previousItem = isFirst && focusShift ? findFirstEnabledItem(row) : row[i - 1];\n        row[i] = previousItem && activeId !== previousItem.id && focusShift ? previousItem : createEmptyItem(previousItem == null ? void 0 : previousItem.rowId);\n      }\n    }\n  }\n  return rows;\n}\nfunction verticalizeItems(items) {\n  const rows = groupItemsByRows(items);\n  const maxLength = getMaxRowLength(rows);\n  const verticalized = [];\n  for (let i = 0; i < maxLength; i += 1) {\n    for (const row of rows) {\n      const item = row[i];\n      if (item) {\n        verticalized.push(__spreadProps(__spreadValues({}, item), {\n          // If there's no rowId, it means that it's not a grid composite, but\n          // a single row instead. So, instead of verticalizing it, that is,\n          // assigning a different rowId based on the column index, we keep it\n          // undefined so they will be part of the same row. This is useful\n          // when using up/down on one-dimensional composites.\n          rowId: item.rowId ? `${i}` : void 0\n        }));\n      }\n    }\n  }\n  return verticalized;\n}\nfunction createCompositeStore(props = {}) {\n  var _a;\n  const syncState = (_a = props.store) == null ? void 0 : _a.getState();\n  const collection = createCollectionStore(props);\n  const activeId = defaultValue(\n    props.activeId,\n    syncState == null ? void 0 : syncState.activeId,\n    props.defaultActiveId\n  );\n  const initialState = __spreadProps(__spreadValues({}, collection.getState()), {\n    id: defaultValue(\n      props.id,\n      syncState == null ? void 0 : syncState.id,\n      `id-${Math.random().toString(36).slice(2, 8)}`\n    ),\n    activeId,\n    baseElement: defaultValue(syncState == null ? void 0 : syncState.baseElement, null),\n    includesBaseElement: defaultValue(\n      props.includesBaseElement,\n      syncState == null ? void 0 : syncState.includesBaseElement,\n      activeId === null\n    ),\n    moves: defaultValue(syncState == null ? void 0 : syncState.moves, 0),\n    orientation: defaultValue(\n      props.orientation,\n      syncState == null ? void 0 : syncState.orientation,\n      \"both\"\n    ),\n    rtl: defaultValue(props.rtl, syncState == null ? void 0 : syncState.rtl, false),\n    virtualFocus: defaultValue(\n      props.virtualFocus,\n      syncState == null ? void 0 : syncState.virtualFocus,\n      false\n    ),\n    focusLoop: defaultValue(props.focusLoop, syncState == null ? void 0 : syncState.focusLoop, false),\n    focusWrap: defaultValue(props.focusWrap, syncState == null ? void 0 : syncState.focusWrap, false),\n    focusShift: defaultValue(props.focusShift, syncState == null ? void 0 : syncState.focusShift, false)\n  });\n  const composite = createStore(initialState, collection, props.store);\n  setup(\n    composite,\n    () => sync(composite, [\"renderedItems\", \"activeId\"], (state) => {\n      composite.setState(\"activeId\", (activeId2) => {\n        var _a2;\n        if (activeId2 !== void 0) return activeId2;\n        return (_a2 = findFirstEnabledItem(state.renderedItems)) == null ? void 0 : _a2.id;\n      });\n    })\n  );\n  const getNextId = (direction = \"next\", options = {}) => {\n    var _a2, _b;\n    const defaultState = composite.getState();\n    const {\n      skip = 0,\n      activeId: activeId2 = defaultState.activeId,\n      focusShift = defaultState.focusShift,\n      focusLoop = defaultState.focusLoop,\n      focusWrap = defaultState.focusWrap,\n      includesBaseElement = defaultState.includesBaseElement,\n      renderedItems = defaultState.renderedItems,\n      rtl = defaultState.rtl\n    } = options;\n    const isVerticalDirection = direction === \"up\" || direction === \"down\";\n    const isNextDirection = direction === \"next\" || direction === \"down\";\n    const canReverse = isNextDirection ? rtl && !isVerticalDirection : !rtl || isVerticalDirection;\n    const canShift = focusShift && !skip;\n    let items = !isVerticalDirection ? renderedItems : flatten2DArray(\n      normalizeRows(groupItemsByRows(renderedItems), activeId2, canShift)\n    );\n    items = canReverse ? reverseArray(items) : items;\n    items = isVerticalDirection ? verticalizeItems(items) : items;\n    if (activeId2 == null) {\n      return (_a2 = findFirstEnabledItem(items)) == null ? void 0 : _a2.id;\n    }\n    const activeItem = items.find((item) => item.id === activeId2);\n    if (!activeItem) {\n      return (_b = findFirstEnabledItem(items)) == null ? void 0 : _b.id;\n    }\n    const isGrid = items.some((item) => item.rowId);\n    const activeIndex = items.indexOf(activeItem);\n    const nextItems = items.slice(activeIndex + 1);\n    const nextItemsInRow = getItemsInRow(nextItems, activeItem.rowId);\n    if (skip) {\n      const nextEnabledItemsInRow = getEnabledItems(nextItemsInRow, activeId2);\n      const nextItem2 = nextEnabledItemsInRow.slice(skip)[0] || // If we can't find an item, just return the last one.\n      nextEnabledItemsInRow[nextEnabledItemsInRow.length - 1];\n      return nextItem2 == null ? void 0 : nextItem2.id;\n    }\n    const canLoop = focusLoop && (isVerticalDirection ? focusLoop !== \"horizontal\" : focusLoop !== \"vertical\");\n    const canWrap = isGrid && focusWrap && (isVerticalDirection ? focusWrap !== \"horizontal\" : focusWrap !== \"vertical\");\n    const hasNullItem = isNextDirection ? (!isGrid || isVerticalDirection) && canLoop && includesBaseElement : isVerticalDirection ? includesBaseElement : false;\n    if (canLoop) {\n      const loopItems = canWrap && !hasNullItem ? items : getItemsInRow(items, activeItem.rowId);\n      const sortedItems = flipItems(loopItems, activeId2, hasNullItem);\n      const nextItem2 = findFirstEnabledItem(sortedItems, activeId2);\n      return nextItem2 == null ? void 0 : nextItem2.id;\n    }\n    if (canWrap) {\n      const nextItem2 = findFirstEnabledItem(\n        // We can use nextItems, which contains all the next items, including\n        // items from other rows, to wrap between rows. However, if there is a\n        // null item (the composite container), we'll only use the next items in\n        // the row. So moving next from the last item will focus on the\n        // composite container. On grid composites, horizontal navigation never\n        // focuses on the composite container, only vertical.\n        hasNullItem ? nextItemsInRow : nextItems,\n        activeId2\n      );\n      const nextId = hasNullItem ? (nextItem2 == null ? void 0 : nextItem2.id) || null : nextItem2 == null ? void 0 : nextItem2.id;\n      return nextId;\n    }\n    const nextItem = findFirstEnabledItem(nextItemsInRow, activeId2);\n    if (!nextItem && hasNullItem) {\n      return null;\n    }\n    return nextItem == null ? void 0 : nextItem.id;\n  };\n  return __spreadProps(__spreadValues(__spreadValues({}, collection), composite), {\n    setBaseElement: (element) => composite.setState(\"baseElement\", element),\n    setActiveId: (id) => composite.setState(\"activeId\", id),\n    move: (id) => {\n      if (id === void 0) return;\n      composite.setState(\"activeId\", id);\n      composite.setState(\"moves\", (moves) => moves + 1);\n    },\n    first: () => {\n      var _a2;\n      return (_a2 = findFirstEnabledItem(composite.getState().renderedItems)) == null ? void 0 : _a2.id;\n    },\n    last: () => {\n      var _a2;\n      return (_a2 = findFirstEnabledItem(reverseArray(composite.getState().renderedItems))) == null ? void 0 : _a2.id;\n    },\n    next: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"next\", options);\n    },\n    previous: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"previous\", options);\n    },\n    down: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"down\", options);\n    },\n    up: (options) => {\n      if (options !== void 0 && typeof options === \"number\") {\n        options = { skip: options };\n      }\n      return getNextId(\"up\", options);\n    }\n  });\n}\n\nexport {\n  createCompositeStore\n};\n", "\"use client\";\nimport {\n  useCollectionStoreProps\n} from \"./C3IKGW5T.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useId\n} from \"./ABQUS43J.js\";\nimport {\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-store.ts\nimport * as Core from \"@ariakit/core/composite/composite-store\";\nfunction useCompositeStoreOptions(props) {\n  const id = useId(props.id);\n  return __spreadValues({ id }, props);\n}\nfunction useCompositeStoreProps(store, update, props) {\n  store = useCollectionStoreProps(store, update, props);\n  useStoreProps(store, props, \"activeId\", \"setActiveId\");\n  useStoreProps(store, props, \"includesBaseElement\");\n  useStoreProps(store, props, \"virtualFocus\");\n  useStoreProps(store, props, \"orientation\");\n  useStoreProps(store, props, \"rtl\");\n  useStoreProps(store, props, \"focusLoop\");\n  useStoreProps(store, props, \"focusWrap\");\n  useStoreProps(store, props, \"focusShift\");\n  return store;\n}\nfunction useCompositeStore(props = {}) {\n  props = useCompositeStoreOptions(props);\n  const [store, update] = useStore(Core.createCompositeStore, props);\n  return useCompositeStoreProps(store, update, props);\n}\n\nexport {\n  useCompositeStoreOptions,\n  useCompositeStoreProps,\n  useCompositeStore\n};\n", "\"use client\";\nimport {\n  createStore,\n  mergeStore,\n  omit,\n  setup,\n  subscribe,\n  sync,\n  throwOnConflictingProps\n} from \"./BCALMBPZ.js\";\nimport {\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/disclosure/disclosure-store.ts\nfunction createDisclosureStore(props = {}) {\n  const store = mergeStore(\n    props.store,\n    omit(props.disclosure, [\"contentElement\", \"disclosureElement\"])\n  );\n  throwOnConflictingProps(props, store);\n  const syncState = store == null ? void 0 : store.getState();\n  const open = defaultValue(\n    props.open,\n    syncState == null ? void 0 : syncState.open,\n    props.defaultOpen,\n    false\n  );\n  const animated = defaultValue(props.animated, syncState == null ? void 0 : syncState.animated, false);\n  const initialState = {\n    open,\n    animated,\n    animating: !!animated && open,\n    mounted: open,\n    contentElement: defaultValue(syncState == null ? void 0 : syncState.contentElement, null),\n    disclosureElement: defaultValue(syncState == null ? void 0 : syncState.disclosureElement, null)\n  };\n  const disclosure = createStore(initialState, store);\n  setup(\n    disclosure,\n    () => sync(disclosure, [\"animated\", \"animating\"], (state) => {\n      if (state.animated) return;\n      disclosure.setState(\"animating\", false);\n    })\n  );\n  setup(\n    disclosure,\n    () => subscribe(disclosure, [\"open\"], () => {\n      if (!disclosure.getState().animated) return;\n      disclosure.setState(\"animating\", true);\n    })\n  );\n  setup(\n    disclosure,\n    () => sync(disclosure, [\"open\", \"animating\"], (state) => {\n      disclosure.setState(\"mounted\", state.open || state.animating);\n    })\n  );\n  return __spreadProps(__spreadValues({}, disclosure), {\n    disclosure: props.disclosure,\n    setOpen: (value) => disclosure.setState(\"open\", value),\n    show: () => disclosure.setState(\"open\", true),\n    hide: () => disclosure.setState(\"open\", false),\n    toggle: () => disclosure.setState(\"open\", (open2) => !open2),\n    stopAnimation: () => disclosure.setState(\"animating\", false),\n    setContentElement: (value) => disclosure.setState(\"contentElement\", value),\n    setDisclosureElement: (value) => disclosure.setState(\"disclosureElement\", value)\n  });\n}\n\nexport {\n  createDisclosureStore\n};\n", "\"use client\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\n\n// src/disclosure/disclosure-store.ts\nimport * as Core from \"@ariakit/core/disclosure/disclosure-store\";\nfunction useDisclosureStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.store, props.disclosure]);\n  useStoreProps(store, props, \"open\", \"setOpen\");\n  useStoreProps(store, props, \"mounted\", \"setMounted\");\n  useStoreProps(store, props, \"animated\");\n  return Object.assign(store, { disclosure: props.disclosure });\n}\nfunction useDisclosureStore(props = {}) {\n  const [store, update] = useStore(Core.createDisclosureStore, props);\n  return useDisclosureStoreProps(store, update, props);\n}\n\nexport {\n  useDisclosureStoreProps,\n  useDisclosureStore\n};\n", "\"use client\";\nimport {\n  createDisclosureStore\n} from \"./RCQ5P4YE.js\";\n\n// src/dialog/dialog-store.ts\nfunction createDialogStore(props = {}) {\n  return createDisclosureStore(props);\n}\n\nexport {\n  createDialogStore\n};\n", "\"use client\";\nimport {\n  useDisclosureStoreProps\n} from \"./WYCIER3C.js\";\nimport {\n  useStore\n} from \"./YV4JVR4I.js\";\n\n// src/dialog/dialog-store.ts\nimport * as Core from \"@ariakit/core/dialog/dialog-store\";\nfunction useDialogStoreProps(store, update, props) {\n  return useDisclosureStoreProps(store, update, props);\n}\nfunction useDialogStore(props = {}) {\n  const [store, update] = useStore(Core.createDialogStore, props);\n  return useDialogStoreProps(store, update, props);\n}\n\nexport {\n  useDialogStoreProps,\n  useDialogStore\n};\n", "\"use client\";\nimport {\n  createDialogStore\n} from \"./FZZ2AVHF.js\";\nimport {\n  createStore,\n  mergeStore,\n  omit,\n  throwOnConflictingProps\n} from \"./BCALMBPZ.js\";\nimport {\n  defaultValue\n} from \"./PBFD2E7P.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/popover/popover-store.ts\nfunction createPopoverStore(_a = {}) {\n  var _b = _a, {\n    popover: otherPopover\n  } = _b, props = __objRest(_b, [\n    \"popover\"\n  ]);\n  const store = mergeStore(\n    props.store,\n    omit(otherPopover, [\n      \"arrowElement\",\n      \"anchorElement\",\n      \"contentElement\",\n      \"popoverElement\",\n      \"disclosureElement\"\n    ])\n  );\n  throwOnConflictingProps(props, store);\n  const syncState = store == null ? void 0 : store.getState();\n  const dialog = createDialogStore(__spreadProps(__spreadValues({}, props), { store }));\n  const placement = defaultValue(\n    props.placement,\n    syncState == null ? void 0 : syncState.placement,\n    \"bottom\"\n  );\n  const initialState = __spreadProps(__spreadValues({}, dialog.getState()), {\n    placement,\n    currentPlacement: placement,\n    anchorElement: defaultValue(syncState == null ? void 0 : syncState.anchorElement, null),\n    popoverElement: defaultValue(syncState == null ? void 0 : syncState.popoverElement, null),\n    arrowElement: defaultValue(syncState == null ? void 0 : syncState.arrowElement, null),\n    rendered: Symbol(\"rendered\")\n  });\n  const popover = createStore(initialState, dialog, store);\n  return __spreadProps(__spreadValues(__spreadValues({}, dialog), popover), {\n    setAnchorElement: (element) => popover.setState(\"anchorElement\", element),\n    setPopoverElement: (element) => popover.setState(\"popoverElement\", element),\n    setArrowElement: (element) => popover.setState(\"arrowElement\", element),\n    render: () => popover.setState(\"rendered\", Symbol(\"rendered\"))\n  });\n}\n\nexport {\n  createPopoverStore\n};\n", "\"use client\";\nimport {\n  useDialogStoreProps\n} from \"./BM6PGYQY.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\n\n// src/popover/popover-store.ts\nimport * as Core from \"@ariakit/core/popover/popover-store\";\nfunction usePopoverStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.popover]);\n  useStoreProps(store, props, \"placement\");\n  return useDialogStoreProps(store, update, props);\n}\nfunction usePopoverStore(props = {}) {\n  const [store, update] = useStore(Core.createPopoverStore, props);\n  return usePopoverStoreProps(store, update, props);\n}\n\nexport {\n  usePopoverStoreProps,\n  usePopoverStore\n};\n", "\"use client\";\nimport {\n  createCompositeStore\n} from \"../__chunks/AJZ4BYF3.js\";\nimport \"../__chunks/CYQWQL4J.js\";\nimport \"../__chunks/7PRQYBBV.js\";\nimport {\n  createPopoverStore\n} from \"../__chunks/ME2CUF3F.js\";\nimport \"../__chunks/FZZ2AVHF.js\";\nimport \"../__chunks/RCQ5P4YE.js\";\nimport {\n  batch,\n  createStore,\n  mergeStore,\n  pick,\n  setup,\n  sync,\n  throwOnConflictingProps\n} from \"../__chunks/BCALMBPZ.js\";\nimport {\n  chain,\n  defaultValue\n} from \"../__chunks/PBFD2E7P.js\";\nimport {\n  isSafari,\n  isTouchDevice\n} from \"../__chunks/QAGXQEUG.js\";\nimport \"../__chunks/DTR5TSDJ.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-store.ts\nvar isTouchSafari = isSafari() && isTouchDevice();\nfunction createComboboxStore(_a = {}) {\n  var _b = _a, {\n    tag\n  } = _b, props = __objRest(_b, [\n    \"tag\"\n  ]);\n  const store = mergeStore(props.store, pick(tag, [\"value\", \"rtl\"]));\n  throwOnConflictingProps(props, store);\n  const tagState = tag == null ? void 0 : tag.getState();\n  const syncState = store == null ? void 0 : store.getState();\n  const activeId = defaultValue(\n    props.activeId,\n    syncState == null ? void 0 : syncState.activeId,\n    props.defaultActiveId,\n    null\n  );\n  const composite = createCompositeStore(__spreadProps(__spreadValues({}, props), {\n    activeId,\n    includesBaseElement: defaultValue(\n      props.includesBaseElement,\n      syncState == null ? void 0 : syncState.includesBaseElement,\n      true\n    ),\n    orientation: defaultValue(\n      props.orientation,\n      syncState == null ? void 0 : syncState.orientation,\n      \"vertical\"\n    ),\n    focusLoop: defaultValue(props.focusLoop, syncState == null ? void 0 : syncState.focusLoop, true),\n    focusWrap: defaultValue(props.focusWrap, syncState == null ? void 0 : syncState.focusWrap, true),\n    virtualFocus: defaultValue(\n      props.virtualFocus,\n      syncState == null ? void 0 : syncState.virtualFocus,\n      true\n    )\n  }));\n  const popover = createPopoverStore(__spreadProps(__spreadValues({}, props), {\n    placement: defaultValue(\n      props.placement,\n      syncState == null ? void 0 : syncState.placement,\n      \"bottom-start\"\n    )\n  }));\n  const value = defaultValue(\n    props.value,\n    syncState == null ? void 0 : syncState.value,\n    props.defaultValue,\n    \"\"\n  );\n  const selectedValue = defaultValue(\n    props.selectedValue,\n    syncState == null ? void 0 : syncState.selectedValue,\n    tagState == null ? void 0 : tagState.values,\n    props.defaultSelectedValue,\n    \"\"\n  );\n  const multiSelectable = Array.isArray(selectedValue);\n  const initialState = __spreadProps(__spreadValues(__spreadValues({}, composite.getState()), popover.getState()), {\n    value,\n    selectedValue,\n    resetValueOnSelect: defaultValue(\n      props.resetValueOnSelect,\n      syncState == null ? void 0 : syncState.resetValueOnSelect,\n      multiSelectable\n    ),\n    resetValueOnHide: defaultValue(\n      props.resetValueOnHide,\n      syncState == null ? void 0 : syncState.resetValueOnHide,\n      multiSelectable && !tag\n    ),\n    activeValue: syncState == null ? void 0 : syncState.activeValue\n  });\n  const combobox = createStore(initialState, composite, popover, store);\n  if (isTouchSafari) {\n    setup(\n      combobox,\n      () => sync(combobox, [\"virtualFocus\"], () => {\n        combobox.setState(\"virtualFocus\", false);\n      })\n    );\n  }\n  setup(combobox, () => {\n    if (!tag) return;\n    return chain(\n      sync(combobox, [\"selectedValue\"], (state) => {\n        if (!Array.isArray(state.selectedValue)) return;\n        tag.setValues(state.selectedValue);\n      }),\n      sync(tag, [\"values\"], (state) => {\n        combobox.setState(\"selectedValue\", state.values);\n      })\n    );\n  });\n  setup(\n    combobox,\n    () => sync(combobox, [\"resetValueOnHide\", \"mounted\"], (state) => {\n      if (!state.resetValueOnHide) return;\n      if (state.mounted) return;\n      combobox.setState(\"value\", value);\n    })\n  );\n  setup(\n    combobox,\n    () => sync(combobox, [\"open\"], (state) => {\n      if (state.open) return;\n      combobox.setState(\"activeId\", activeId);\n      combobox.setState(\"moves\", 0);\n    })\n  );\n  setup(\n    combobox,\n    () => sync(combobox, [\"moves\", \"activeId\"], (state, prevState) => {\n      if (state.moves === prevState.moves) {\n        combobox.setState(\"activeValue\", void 0);\n      }\n    })\n  );\n  setup(\n    combobox,\n    () => batch(combobox, [\"moves\", \"renderedItems\"], (state, prev) => {\n      if (state.moves === prev.moves) return;\n      const { activeId: activeId2 } = combobox.getState();\n      const activeItem = composite.item(activeId2);\n      combobox.setState(\"activeValue\", activeItem == null ? void 0 : activeItem.value);\n    })\n  );\n  return __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, popover), composite), combobox), {\n    tag,\n    setValue: (value2) => combobox.setState(\"value\", value2),\n    resetValue: () => combobox.setState(\"value\", initialState.value),\n    setSelectedValue: (selectedValue2) => combobox.setState(\"selectedValue\", selectedValue2)\n  });\n}\nexport {\n  createComboboxStore\n};\n", "\"use client\";\nimport {\n  useTagContext\n} from \"./3XAVFTCA.js\";\nimport {\n  useCompositeStoreOptions,\n  useCompositeStoreProps\n} from \"./4CMBR7SL.js\";\nimport {\n  usePopoverStoreProps\n} from \"./O2PQ2652.js\";\nimport {\n  useStore,\n  useStoreProps\n} from \"./YV4JVR4I.js\";\nimport {\n  useUpdateEffect\n} from \"./ABQUS43J.js\";\nimport {\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/combobox/combobox-store.ts\nimport * as Core from \"@ariakit/core/combobox/combobox-store\";\nfunction useComboboxStoreOptions(props) {\n  const tag = useTagContext();\n  props = __spreadProps(__spreadValues({}, props), {\n    tag: props.tag !== void 0 ? props.tag : tag\n  });\n  return useCompositeStoreOptions(props);\n}\nfunction useComboboxStoreProps(store, update, props) {\n  useUpdateEffect(update, [props.tag]);\n  useStoreProps(store, props, \"value\", \"setValue\");\n  useStoreProps(store, props, \"selectedValue\", \"setSelectedValue\");\n  useStoreProps(store, props, \"resetValueOnHide\");\n  useStoreProps(store, props, \"resetValueOnSelect\");\n  return Object.assign(\n    useCompositeStoreProps(\n      usePopoverStoreProps(store, update, props),\n      update,\n      props\n    ),\n    { tag: props.tag }\n  );\n}\nfunction useComboboxStore(props = {}) {\n  props = useComboboxStoreOptions(props);\n  const [store, update] = useStore(Core.createComboboxStore, props);\n  return useComboboxStoreProps(store, update, props);\n}\n\nexport {\n  useComboboxStoreOptions,\n  useComboboxStoreProps,\n  useComboboxStore\n};\n", "\"use client\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/disclosure/disclosure-context.tsx\nvar ctx = createStoreContext();\nvar useDisclosureContext = ctx.useContext;\nvar useDisclosureScopedContext = ctx.useScopedContext;\nvar useDisclosureProviderContext = ctx.useProviderContext;\nvar DisclosureContextProvider = ctx.ContextProvider;\nvar DisclosureScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  useDisclosureContext,\n  useDisclosureScopedContext,\n  useDisclosureProviderContext,\n  DisclosureContextProvider,\n  DisclosureScopedContextProvider\n};\n", "\"use client\";\nimport {\n  DisclosureContextProvider,\n  DisclosureScopedContextProvider\n} from \"./S6EF7IVO.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/dialog/dialog-context.tsx\nimport { createContext } from \"react\";\nvar ctx = createStoreContext(\n  [DisclosureContextProvider],\n  [DisclosureScopedContextProvider]\n);\nvar useDialogContext = ctx.useContext;\nvar useDialogScopedContext = ctx.useScopedContext;\nvar useDialogProviderContext = ctx.useProviderContext;\nvar DialogContextProvider = ctx.ContextProvider;\nvar DialogScopedContextProvider = ctx.ScopedContextProvider;\nvar DialogHeadingContext = createContext(void 0);\nvar DialogDescriptionContext = createContext(void 0);\n\nexport {\n  useDialogContext,\n  useDialogScopedContext,\n  useDialogProviderContext,\n  DialogContextProvider,\n  DialogScopedContextProvider,\n  DialogHeadingContext,\n  DialogDescriptionContext\n};\n", "\"use client\";\nimport {\n  DialogContextProvider,\n  DialogScopedContextProvider\n} from \"./RS7LB2H4.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/popover/popover-context.tsx\nvar ctx = createStoreContext(\n  [DialogContextProvider],\n  [DialogScopedContextProvider]\n);\nvar usePopoverContext = ctx.useContext;\nvar usePopoverScopedContext = ctx.useScopedContext;\nvar usePopoverProviderContext = ctx.useProviderContext;\nvar PopoverContextProvider = ctx.ContextProvider;\nvar PopoverScopedContextProvider = ctx.ScopedContextProvider;\n\nexport {\n  usePopoverContext,\n  usePopoverScopedContext,\n  usePopoverProviderContext,\n  PopoverContextProvider,\n  PopoverScopedContextProvider\n};\n", "\"use client\";\nimport {\n  CompositeContextProvider,\n  CompositeScopedContextProvider\n} from \"./P7GR5CS5.js\";\nimport {\n  PopoverContextProvider,\n  PopoverScopedContextProvider\n} from \"./MTZPJQMC.js\";\nimport {\n  createStoreContext\n} from \"./LMDWO4NN.js\";\n\n// src/combobox/combobox-context.tsx\nimport { createContext } from \"react\";\nvar ComboboxListRoleContext = createContext(\n  void 0\n);\nvar ctx = createStoreContext(\n  [PopoverContextProvider, CompositeContextProvider],\n  [PopoverScopedContextProvider, CompositeScopedContextProvider]\n);\nvar useComboboxContext = ctx.useContext;\nvar useComboboxScopedContext = ctx.useScopedContext;\nvar useComboboxProviderContext = ctx.useProviderContext;\nvar ComboboxContextProvider = ctx.ContextProvider;\nvar ComboboxScopedContextProvider = ctx.ScopedContextProvider;\nvar ComboboxItemValueContext = createContext(\n  void 0\n);\nvar ComboboxItemCheckedContext = createContext(false);\n\nexport {\n  ComboboxListRoleContext,\n  useComboboxContext,\n  useComboboxScopedContext,\n  useComboboxProviderContext,\n  ComboboxContextProvider,\n  ComboboxScopedContextProvider,\n  ComboboxItemValueContext,\n  ComboboxItemCheckedContext\n};\n", "\"use client\";\nimport {\n  usePopoverProviderContext\n} from \"./MTZPJQMC.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/popover/popover-anchor.tsx\nvar TagName = \"div\";\nvar usePopoverAnchor = createHook(\n  function usePopoverAnchor2(_a) {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    const context = usePopoverProviderContext();\n    store = store || context;\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(store == null ? void 0 : store.setAnchorElement, props.ref)\n    });\n    return props;\n  }\n);\nvar PopoverAnchor = forwardRef(function PopoverAnchor2(props) {\n  const htmlProps = usePopoverAnchor(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  usePopoverAnchor,\n  PopoverAnchor\n};\n", "\"use client\";\n\n// src/composite/utils.ts\nimport { getDocument, isTextField } from \"@ariakit/core/utils/dom\";\nvar NULL_ITEM = { id: null };\nfunction flipItems(items, activeId, shouldInsertNullItem = false) {\n  const index = items.findIndex((item) => item.id === activeId);\n  return [\n    ...items.slice(index + 1),\n    ...shouldInsertNullItem ? [NULL_ITEM] : [],\n    ...items.slice(0, index)\n  ];\n}\nfunction findFirstEnabledItem(items, excludeId) {\n  return items.find((item) => {\n    if (excludeId) {\n      return !item.disabled && item.id !== excludeId;\n    }\n    return !item.disabled;\n  });\n}\nfunction getEnabledItem(store, id) {\n  if (!id) return null;\n  return store.item(id) || null;\n}\nfunction groupItemsByRows(items) {\n  const rows = [];\n  for (const item of items) {\n    const row = rows.find((currentRow) => {\n      var _a;\n      return ((_a = currentRow[0]) == null ? void 0 : _a.rowId) === item.rowId;\n    });\n    if (row) {\n      row.push(item);\n    } else {\n      rows.push([item]);\n    }\n  }\n  return rows;\n}\nfunction selectTextField(element, collapseToEnd = false) {\n  if (isTextField(element)) {\n    element.setSelectionRange(\n      collapseToEnd ? element.value.length : 0,\n      element.value.length\n    );\n  } else if (element.isContentEditable) {\n    const selection = getDocument(element).getSelection();\n    selection == null ? void 0 : selection.selectAllChildren(element);\n    if (collapseToEnd) {\n      selection == null ? void 0 : selection.collapseToEnd();\n    }\n  }\n}\nvar FOCUS_SILENTLY = Symbol(\"FOCUS_SILENTLY\");\nfunction focusSilently(element) {\n  element[FOCUS_SILENTLY] = true;\n  element.focus({ preventScroll: true });\n}\nfunction silentlyFocused(element) {\n  const isSilentlyFocused = element[FOCUS_SILENTLY];\n  delete element[FOCUS_SILENTLY];\n  return isSilentlyFocused;\n}\nfunction isItem(store, element, exclude) {\n  if (!element) return false;\n  if (element === exclude) return false;\n  const item = store.item(element.id);\n  if (!item) return false;\n  if (exclude && item.element === exclude) return false;\n  return true;\n}\n\nexport {\n  flipItems,\n  findFirstEnabledItem,\n  getEnabledItem,\n  groupItemsByRows,\n  selectTextField,\n  focusSilently,\n  silentlyFocused,\n  isItem\n};\n", "\"use client\";\n\n// src/focusable/focusable-context.tsx\nimport { createContext } from \"react\";\nvar FocusableContext = createContext(true);\n\nexport {\n  FocusableContext\n};\n", "\"use client\";\nimport {\n  contains,\n  getActiveElement,\n  isFrame,\n  isVisible\n} from \"../__chunks/DTR5TSDJ.js\";\nimport {\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/utils/focus.ts\nvar selector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])\";\nfunction hasNegativeTabIndex(element) {\n  const tabIndex = Number.parseInt(element.getAttribute(\"tabindex\") || \"0\", 10);\n  return tabIndex < 0;\n}\nfunction isFocusable(element) {\n  if (!element.matches(selector)) return false;\n  if (!isVisible(element)) return false;\n  if (element.closest(\"[inert]\")) return false;\n  return true;\n}\nfunction isTabbable(element) {\n  if (!isFocusable(element)) return false;\n  if (hasNegativeTabIndex(element)) return false;\n  if (!(\"form\" in element)) return true;\n  if (!element.form) return true;\n  if (element.checked) return true;\n  if (element.type !== \"radio\") return true;\n  const radioGroup = element.form.elements.namedItem(element.name);\n  if (!radioGroup) return true;\n  if (!(\"length\" in radioGroup)) return true;\n  const activeElement = getActiveElement(element);\n  if (!activeElement) return true;\n  if (activeElement === element) return true;\n  if (!(\"form\" in activeElement)) return true;\n  if (activeElement.form !== element.form) return true;\n  if (activeElement.name !== element.name) return true;\n  return false;\n}\nfunction getAllFocusableIn(container, includeContainer) {\n  const elements = Array.from(\n    container.querySelectorAll(selector)\n  );\n  if (includeContainer) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getAllFocusableIn(frameBody));\n    }\n  });\n  return focusableElements;\n}\nfunction getAllFocusable(includeBody) {\n  return getAllFocusableIn(document.body, includeBody);\n}\nfunction getFirstFocusableIn(container, includeContainer) {\n  const [first] = getAllFocusableIn(container, includeContainer);\n  return first || null;\n}\nfunction getFirstFocusable(includeBody) {\n  return getFirstFocusableIn(document.body, includeBody);\n}\nfunction getAllTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const elements = Array.from(\n    container.querySelectorAll(selector)\n  );\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getAllTabbableIn(\n        frameBody,\n        false,\n        fallbackToFocusable\n      );\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && fallbackToFocusable) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction getAllTabbable(fallbackToFocusable) {\n  return getAllTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getFirstTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const [first] = getAllTabbableIn(\n    container,\n    includeContainer,\n    fallbackToFocusable\n  );\n  return first || null;\n}\nfunction getFirstTabbable(fallbackToFocusable) {\n  return getFirstTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getLastTabbableIn(container, includeContainer, fallbackToFocusable) {\n  const allTabbable = getAllTabbableIn(\n    container,\n    includeContainer,\n    fallbackToFocusable\n  );\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getLastTabbable(fallbackToFocusable) {\n  return getLastTabbableIn(document.body, false, fallbackToFocusable);\n}\nfunction getNextTabbableIn(container, includeContainer, fallbackToFirst, fallbackToFocusable) {\n  const activeElement = getActiveElement(container);\n  const allFocusable = getAllFocusableIn(container, includeContainer);\n  const activeIndex = allFocusable.indexOf(activeElement);\n  const nextFocusableElements = allFocusable.slice(activeIndex + 1);\n  return nextFocusableElements.find(isTabbable) || (fallbackToFirst ? allFocusable.find(isTabbable) : null) || (fallbackToFocusable ? nextFocusableElements[0] : null) || null;\n}\nfunction getNextTabbable(fallbackToFirst, fallbackToFocusable) {\n  return getNextTabbableIn(\n    document.body,\n    false,\n    fallbackToFirst,\n    fallbackToFocusable\n  );\n}\nfunction getPreviousTabbableIn(container, includeContainer, fallbackToLast, fallbackToFocusable) {\n  const activeElement = getActiveElement(container);\n  const allFocusable = getAllFocusableIn(container, includeContainer).reverse();\n  const activeIndex = allFocusable.indexOf(activeElement);\n  const previousFocusableElements = allFocusable.slice(activeIndex + 1);\n  return previousFocusableElements.find(isTabbable) || (fallbackToLast ? allFocusable.find(isTabbable) : null) || (fallbackToFocusable ? previousFocusableElements[0] : null) || null;\n}\nfunction getPreviousTabbable(fallbackToFirst, fallbackToFocusable) {\n  return getPreviousTabbableIn(\n    document.body,\n    false,\n    fallbackToFirst,\n    fallbackToFocusable\n  );\n}\nfunction getClosestFocusable(element) {\n  while (element && !isFocusable(element)) {\n    element = element.closest(selector);\n  }\n  return element || null;\n}\nfunction hasFocus(element) {\n  const activeElement = getActiveElement(element);\n  if (!activeElement) return false;\n  if (activeElement === element) return true;\n  const activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n  if (!activeDescendant) return false;\n  return activeDescendant === element.id;\n}\nfunction hasFocusWithin(element) {\n  const activeElement = getActiveElement(element);\n  if (!activeElement) return false;\n  if (contains(element, activeElement)) return true;\n  const activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n  if (!activeDescendant) return false;\n  if (!(\"id\" in element)) return false;\n  if (activeDescendant === element.id) return true;\n  return !!element.querySelector(`#${CSS.escape(activeDescendant)}`);\n}\nfunction focusIfNeeded(element) {\n  if (!hasFocusWithin(element) && isFocusable(element)) {\n    element.focus();\n  }\n}\nfunction disableFocus(element) {\n  var _a;\n  const currentTabindex = (_a = element.getAttribute(\"tabindex\")) != null ? _a : \"\";\n  element.setAttribute(\"data-tabindex\", currentTabindex);\n  element.setAttribute(\"tabindex\", \"-1\");\n}\nfunction disableFocusIn(container, includeContainer) {\n  const tabbableElements = getAllTabbableIn(container, includeContainer);\n  for (const element of tabbableElements) {\n    disableFocus(element);\n  }\n}\nfunction restoreFocusIn(container) {\n  const elements = container.querySelectorAll(\"[data-tabindex]\");\n  const restoreTabIndex = (element) => {\n    const tabindex = element.getAttribute(\"data-tabindex\");\n    element.removeAttribute(\"data-tabindex\");\n    if (tabindex) {\n      element.setAttribute(\"tabindex\", tabindex);\n    } else {\n      element.removeAttribute(\"tabindex\");\n    }\n  };\n  if (container.hasAttribute(\"data-tabindex\")) {\n    restoreTabIndex(container);\n  }\n  for (const element of elements) {\n    restoreTabIndex(element);\n  }\n}\nfunction focusIntoView(element, options) {\n  if (!(\"scrollIntoView\" in element)) {\n    element.focus();\n  } else {\n    element.focus({ preventScroll: true });\n    element.scrollIntoView(__spreadValues({ block: \"nearest\", inline: \"nearest\" }, options));\n  }\n}\nexport {\n  disableFocus,\n  disableFocusIn,\n  focusIfNeeded,\n  focusIntoView,\n  getAllFocusable,\n  getAllFocusableIn,\n  getAllTabbable,\n  getAllTabbableIn,\n  getClosestFocusable,\n  getFirstFocusable,\n  getFirstFocusableIn,\n  getFirstTabbable,\n  getFirstTabbableIn,\n  getLastTabbable,\n  getLastTabbableIn,\n  getNextTabbable,\n  getNextTabbableIn,\n  getPreviousTabbable,\n  getPreviousTabbableIn,\n  hasFocus,\n  hasFocusWithin,\n  isFocusable,\n  isTabbable,\n  restoreFocusIn\n};\n", "\"use client\";\nimport {\n  FocusableContext\n} from \"./SWN3JYXT.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useEvent,\n  useMergeRefs,\n  useTagName\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/focusable/focusable.tsx\nimport { isButton } from \"@ariakit/core/utils/dom\";\nimport {\n  addGlobalEventListener,\n  isFocusEventOutside,\n  isPortalEvent,\n  isSelfTarget,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport {\n  focusIfNeeded,\n  getClosestFocusable,\n  hasFocus,\n  isFocusable\n} from \"@ariakit/core/utils/focus\";\nimport {\n  disabledFromProps,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { isSafari } from \"@ariakit/core/utils/platform\";\nimport { useContext, useEffect, useMemo, useRef, useState } from \"react\";\nvar TagName = \"div\";\nvar isSafariBrowser = isSafari();\nvar alwaysFocusVisibleInputTypes = [\n  \"text\",\n  \"search\",\n  \"url\",\n  \"tel\",\n  \"email\",\n  \"password\",\n  \"number\",\n  \"date\",\n  \"month\",\n  \"week\",\n  \"time\",\n  \"datetime\",\n  \"datetime-local\"\n];\nvar safariFocusAncestorSymbol = Symbol(\"safariFocusAncestor\");\nfunction isSafariFocusAncestor(element) {\n  if (!element) return false;\n  return !!element[safariFocusAncestorSymbol];\n}\nfunction markSafariFocusAncestor(element, value) {\n  if (!element) return;\n  element[safariFocusAncestorSymbol] = value;\n}\nfunction isAlwaysFocusVisible(element) {\n  const { tagName, readOnly, type } = element;\n  if (tagName === \"TEXTAREA\" && !readOnly) return true;\n  if (tagName === \"SELECT\" && !readOnly) return true;\n  if (tagName === \"INPUT\" && !readOnly) {\n    return alwaysFocusVisibleInputTypes.includes(type);\n  }\n  if (element.isContentEditable) return true;\n  const role = element.getAttribute(\"role\");\n  if (role === \"combobox\" && element.dataset.name) {\n    return true;\n  }\n  return false;\n}\nfunction getLabels(element) {\n  if (\"labels\" in element) {\n    return element.labels;\n  }\n  return null;\n}\nfunction isNativeCheckboxOrRadio(element) {\n  const tagName = element.tagName.toLowerCase();\n  if (tagName === \"input\" && element.type) {\n    return element.type === \"radio\" || element.type === \"checkbox\";\n  }\n  return false;\n}\nfunction isNativeTabbable(tagName) {\n  if (!tagName) return true;\n  return tagName === \"button\" || tagName === \"summary\" || tagName === \"input\" || tagName === \"select\" || tagName === \"textarea\" || tagName === \"a\";\n}\nfunction supportsDisabledAttribute(tagName) {\n  if (!tagName) return true;\n  return tagName === \"button\" || tagName === \"input\" || tagName === \"select\" || tagName === \"textarea\";\n}\nfunction getTabIndex(focusable, trulyDisabled, nativeTabbable, supportsDisabled, tabIndexProp) {\n  if (!focusable) {\n    return tabIndexProp;\n  }\n  if (trulyDisabled) {\n    if (nativeTabbable && !supportsDisabled) {\n      return -1;\n    }\n    return;\n  }\n  if (nativeTabbable) {\n    return tabIndexProp;\n  }\n  return tabIndexProp || 0;\n}\nfunction useDisableEvent(onEvent, disabled) {\n  return useEvent((event) => {\n    onEvent == null ? void 0 : onEvent(event);\n    if (event.defaultPrevented) return;\n    if (disabled) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  });\n}\nvar isKeyboardModality = true;\nfunction onGlobalMouseDown(event) {\n  const target = event.target;\n  if (target && \"hasAttribute\" in target) {\n    if (!target.hasAttribute(\"data-focus-visible\")) {\n      isKeyboardModality = false;\n    }\n  }\n}\nfunction onGlobalKeyDown(event) {\n  if (event.metaKey) return;\n  if (event.ctrlKey) return;\n  if (event.altKey) return;\n  isKeyboardModality = true;\n}\nvar useFocusable = createHook(\n  function useFocusable2(_a) {\n    var _b = _a, {\n      focusable = true,\n      accessibleWhenDisabled,\n      autoFocus,\n      onFocusVisible\n    } = _b, props = __objRest(_b, [\n      \"focusable\",\n      \"accessibleWhenDisabled\",\n      \"autoFocus\",\n      \"onFocusVisible\"\n    ]);\n    const ref = useRef(null);\n    useEffect(() => {\n      if (!focusable) return;\n      addGlobalEventListener(\"mousedown\", onGlobalMouseDown, true);\n      addGlobalEventListener(\"keydown\", onGlobalKeyDown, true);\n    }, [focusable]);\n    if (isSafariBrowser) {\n      useEffect(() => {\n        if (!focusable) return;\n        const element = ref.current;\n        if (!element) return;\n        if (!isNativeCheckboxOrRadio(element)) return;\n        const labels = getLabels(element);\n        if (!labels) return;\n        const onMouseUp = () => queueMicrotask(() => element.focus());\n        for (const label of labels) {\n          label.addEventListener(\"mouseup\", onMouseUp);\n        }\n        return () => {\n          for (const label of labels) {\n            label.removeEventListener(\"mouseup\", onMouseUp);\n          }\n        };\n      }, [focusable]);\n    }\n    const disabled = focusable && disabledFromProps(props);\n    const trulyDisabled = !!disabled && !accessibleWhenDisabled;\n    const [focusVisible, setFocusVisible] = useState(false);\n    useEffect(() => {\n      if (!focusable) return;\n      if (trulyDisabled && focusVisible) {\n        setFocusVisible(false);\n      }\n    }, [focusable, trulyDisabled, focusVisible]);\n    useEffect(() => {\n      if (!focusable) return;\n      if (!focusVisible) return;\n      const element = ref.current;\n      if (!element) return;\n      if (typeof IntersectionObserver === \"undefined\") return;\n      const observer = new IntersectionObserver(() => {\n        if (!isFocusable(element)) {\n          setFocusVisible(false);\n        }\n      });\n      observer.observe(element);\n      return () => observer.disconnect();\n    }, [focusable, focusVisible]);\n    const onKeyPressCapture = useDisableEvent(\n      props.onKeyPressCapture,\n      disabled\n    );\n    const onMouseDownCapture = useDisableEvent(\n      props.onMouseDownCapture,\n      disabled\n    );\n    const onClickCapture = useDisableEvent(props.onClickCapture, disabled);\n    const onMouseDownProp = props.onMouseDown;\n    const onMouseDown = useEvent((event) => {\n      onMouseDownProp == null ? void 0 : onMouseDownProp(event);\n      if (event.defaultPrevented) return;\n      if (!focusable) return;\n      const element = event.currentTarget;\n      if (!isSafariBrowser) return;\n      if (isPortalEvent(event)) return;\n      if (!isButton(element) && !isNativeCheckboxOrRadio(element)) return;\n      let receivedFocus = false;\n      const onFocus = () => {\n        receivedFocus = true;\n      };\n      const options = { capture: true, once: true };\n      element.addEventListener(\"focusin\", onFocus, options);\n      const focusableContainer = getClosestFocusable(element.parentElement);\n      markSafariFocusAncestor(focusableContainer, true);\n      queueBeforeEvent(element, \"mouseup\", () => {\n        element.removeEventListener(\"focusin\", onFocus, true);\n        markSafariFocusAncestor(focusableContainer, false);\n        if (receivedFocus) return;\n        focusIfNeeded(element);\n      });\n    });\n    const handleFocusVisible = (event, currentTarget) => {\n      if (currentTarget) {\n        event.currentTarget = currentTarget;\n      }\n      if (!focusable) return;\n      const element = event.currentTarget;\n      if (!element) return;\n      if (!hasFocus(element)) return;\n      onFocusVisible == null ? void 0 : onFocusVisible(event);\n      if (event.defaultPrevented) return;\n      element.dataset.focusVisible = \"true\";\n      setFocusVisible(true);\n    };\n    const onKeyDownCaptureProp = props.onKeyDownCapture;\n    const onKeyDownCapture = useEvent((event) => {\n      onKeyDownCaptureProp == null ? void 0 : onKeyDownCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!focusable) return;\n      if (focusVisible) return;\n      if (event.metaKey) return;\n      if (event.altKey) return;\n      if (event.ctrlKey) return;\n      if (!isSelfTarget(event)) return;\n      const element = event.currentTarget;\n      const applyFocusVisible = () => handleFocusVisible(event, element);\n      queueBeforeEvent(element, \"focusout\", applyFocusVisible);\n    });\n    const onFocusCaptureProp = props.onFocusCapture;\n    const onFocusCapture = useEvent((event) => {\n      onFocusCaptureProp == null ? void 0 : onFocusCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!focusable) return;\n      if (!isSelfTarget(event)) {\n        setFocusVisible(false);\n        return;\n      }\n      const element = event.currentTarget;\n      const applyFocusVisible = () => handleFocusVisible(event, element);\n      if (isKeyboardModality || isAlwaysFocusVisible(event.target)) {\n        queueBeforeEvent(event.target, \"focusout\", applyFocusVisible);\n      } else {\n        setFocusVisible(false);\n      }\n    });\n    const onBlurProp = props.onBlur;\n    const onBlur = useEvent((event) => {\n      onBlurProp == null ? void 0 : onBlurProp(event);\n      if (!focusable) return;\n      if (!isFocusEventOutside(event)) return;\n      setFocusVisible(false);\n    });\n    const autoFocusOnShow = useContext(FocusableContext);\n    const autoFocusRef = useEvent((element) => {\n      if (!focusable) return;\n      if (!autoFocus) return;\n      if (!element) return;\n      if (!autoFocusOnShow) return;\n      queueMicrotask(() => {\n        if (hasFocus(element)) return;\n        if (!isFocusable(element)) return;\n        element.focus();\n      });\n    });\n    const tagName = useTagName(ref);\n    const nativeTabbable = focusable && isNativeTabbable(tagName);\n    const supportsDisabled = focusable && supportsDisabledAttribute(tagName);\n    const styleProp = props.style;\n    const style = useMemo(() => {\n      if (trulyDisabled) {\n        return __spreadValues({ pointerEvents: \"none\" }, styleProp);\n      }\n      return styleProp;\n    }, [trulyDisabled, styleProp]);\n    props = __spreadProps(__spreadValues({\n      \"data-focus-visible\": focusable && focusVisible || void 0,\n      \"data-autofocus\": autoFocus || void 0,\n      \"aria-disabled\": disabled || void 0\n    }, props), {\n      ref: useMergeRefs(ref, autoFocusRef, props.ref),\n      style,\n      tabIndex: getTabIndex(\n        focusable,\n        trulyDisabled,\n        nativeTabbable,\n        supportsDisabled,\n        props.tabIndex\n      ),\n      disabled: supportsDisabled && trulyDisabled ? true : void 0,\n      // TODO: Test Focusable contentEditable.\n      contentEditable: disabled ? void 0 : props.contentEditable,\n      onKeyPressCapture,\n      onClickCapture,\n      onMouseDownCapture,\n      onMouseDown,\n      onKeyDownCapture,\n      onFocusCapture,\n      onBlur\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar Focusable = forwardRef(function Focusable2(props) {\n  const htmlProps = useFocusable(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  isSafariFocusAncestor,\n  useFocusable,\n  Focusable\n};\n", "\"use client\";\nimport {\n  findFirstEnabledItem,\n  getEnabledItem,\n  groupItemsByRows,\n  isItem,\n  silentlyFocused\n} from \"./5VQZOHHZ.js\";\nimport {\n  CompositeContextProvider,\n  useCompositeProviderContext\n} from \"./P7GR5CS5.js\";\nimport {\n  useFocusable\n} from \"./LVA2YJMS.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useTransactionState,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite.tsx\nimport { flatten2DArray, reverseArray } from \"@ariakit/core/utils/array\";\nimport { getActiveElement, isTextField } from \"@ariakit/core/utils/dom\";\nimport {\n  fireBlurEvent,\n  fireKeyboardEvent,\n  isSelfTarget\n} from \"@ariakit/core/utils/events\";\nimport { focusIntoView, hasFocus } from \"@ariakit/core/utils/focus\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nfunction isGrid(items) {\n  return items.some((item) => !!item.rowId);\n}\nfunction isPrintableKey(event) {\n  const target = event.target;\n  if (target && !isTextField(target)) return false;\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\nfunction isModifierKey(event) {\n  return event.key === \"Shift\" || event.key === \"Control\" || event.key === \"Alt\" || event.key === \"Meta\";\n}\nfunction useKeyboardEventProxy(store, onKeyboardEvent, previousElementRef) {\n  return useEvent((event) => {\n    var _a;\n    onKeyboardEvent == null ? void 0 : onKeyboardEvent(event);\n    if (event.defaultPrevented) return;\n    if (event.isPropagationStopped()) return;\n    if (!isSelfTarget(event)) return;\n    if (isModifierKey(event)) return;\n    if (isPrintableKey(event)) return;\n    const state = store.getState();\n    const activeElement = (_a = getEnabledItem(store, state.activeId)) == null ? void 0 : _a.element;\n    if (!activeElement) return;\n    const _b = event, { view } = _b, eventInit = __objRest(_b, [\"view\"]);\n    const previousElement = previousElementRef == null ? void 0 : previousElementRef.current;\n    if (activeElement !== previousElement) {\n      activeElement.focus();\n    }\n    if (!fireKeyboardEvent(activeElement, event.type, eventInit)) {\n      event.preventDefault();\n    }\n    if (event.currentTarget.contains(activeElement)) {\n      event.stopPropagation();\n    }\n  });\n}\nfunction findFirstEnabledItemInTheLastRow(items) {\n  return findFirstEnabledItem(\n    flatten2DArray(reverseArray(groupItemsByRows(items)))\n  );\n}\nfunction useScheduleFocus(store) {\n  const [scheduled, setScheduled] = useState(false);\n  const schedule = useCallback(() => setScheduled(true), []);\n  const activeItem = store.useState(\n    (state) => getEnabledItem(store, state.activeId)\n  );\n  useEffect(() => {\n    const activeElement = activeItem == null ? void 0 : activeItem.element;\n    if (!scheduled) return;\n    if (!activeElement) return;\n    setScheduled(false);\n    activeElement.focus({ preventScroll: true });\n  }, [activeItem, scheduled]);\n  return schedule;\n}\nvar useComposite = createHook(\n  function useComposite2(_a) {\n    var _b = _a, {\n      store,\n      composite = true,\n      focusOnMove = composite,\n      moveOnKeyPress = true\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"composite\",\n      \"focusOnMove\",\n      \"moveOnKeyPress\"\n    ]);\n    const context = useCompositeProviderContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"Composite must receive a `store` prop or be wrapped in a CompositeProvider component.\"\n    );\n    const ref = useRef(null);\n    const previousElementRef = useRef(null);\n    const scheduleFocus = useScheduleFocus(store);\n    const moves = store.useState(\"moves\");\n    const [, setBaseElement] = useTransactionState(\n      composite ? store.setBaseElement : null\n    );\n    useEffect(() => {\n      var _a2;\n      if (!store) return;\n      if (!moves) return;\n      if (!composite) return;\n      if (!focusOnMove) return;\n      const { activeId: activeId2 } = store.getState();\n      const itemElement = (_a2 = getEnabledItem(store, activeId2)) == null ? void 0 : _a2.element;\n      if (!itemElement) return;\n      focusIntoView(itemElement);\n    }, [store, moves, composite, focusOnMove]);\n    useSafeLayoutEffect(() => {\n      if (!store) return;\n      if (!moves) return;\n      if (!composite) return;\n      const { baseElement, activeId: activeId2 } = store.getState();\n      const isSelfAcive = activeId2 === null;\n      if (!isSelfAcive) return;\n      if (!baseElement) return;\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (previousElement) {\n        fireBlurEvent(previousElement, { relatedTarget: baseElement });\n      }\n      if (!hasFocus(baseElement)) {\n        baseElement.focus();\n      }\n    }, [store, moves, composite]);\n    const activeId = store.useState(\"activeId\");\n    const virtualFocus = store.useState(\"virtualFocus\");\n    useSafeLayoutEffect(() => {\n      var _a2;\n      if (!store) return;\n      if (!composite) return;\n      if (!virtualFocus) return;\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (!previousElement) return;\n      const activeElement = (_a2 = getEnabledItem(store, activeId)) == null ? void 0 : _a2.element;\n      const relatedTarget = activeElement || getActiveElement(previousElement);\n      if (relatedTarget === previousElement) return;\n      fireBlurEvent(previousElement, { relatedTarget });\n    }, [store, activeId, virtualFocus, composite]);\n    const onKeyDownCapture = useKeyboardEventProxy(\n      store,\n      props.onKeyDownCapture,\n      previousElementRef\n    );\n    const onKeyUpCapture = useKeyboardEventProxy(\n      store,\n      props.onKeyUpCapture,\n      previousElementRef\n    );\n    const onFocusCaptureProp = props.onFocusCapture;\n    const onFocusCapture = useEvent((event) => {\n      onFocusCaptureProp == null ? void 0 : onFocusCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      const { virtualFocus: virtualFocus2 } = store.getState();\n      if (!virtualFocus2) return;\n      const previousActiveElement = event.relatedTarget;\n      const isSilentlyFocused = silentlyFocused(event.currentTarget);\n      if (isSelfTarget(event) && isSilentlyFocused) {\n        event.stopPropagation();\n        previousElementRef.current = previousActiveElement;\n      }\n    });\n    const onFocusProp = props.onFocus;\n    const onFocus = useEvent((event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (event.defaultPrevented) return;\n      if (!composite) return;\n      if (!store) return;\n      const { relatedTarget } = event;\n      const { virtualFocus: virtualFocus2 } = store.getState();\n      if (virtualFocus2) {\n        if (isSelfTarget(event) && !isItem(store, relatedTarget)) {\n          queueMicrotask(scheduleFocus);\n        }\n      } else if (isSelfTarget(event)) {\n        store.setActiveId(null);\n      }\n    });\n    const onBlurCaptureProp = props.onBlurCapture;\n    const onBlurCapture = useEvent((event) => {\n      var _a2;\n      onBlurCaptureProp == null ? void 0 : onBlurCaptureProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      const { virtualFocus: virtualFocus2, activeId: activeId2 } = store.getState();\n      if (!virtualFocus2) return;\n      const activeElement = (_a2 = getEnabledItem(store, activeId2)) == null ? void 0 : _a2.element;\n      const nextActiveElement = event.relatedTarget;\n      const nextActiveElementIsItem = isItem(store, nextActiveElement);\n      const previousElement = previousElementRef.current;\n      previousElementRef.current = null;\n      if (isSelfTarget(event) && nextActiveElementIsItem) {\n        if (nextActiveElement === activeElement) {\n          if (previousElement && previousElement !== nextActiveElement) {\n            fireBlurEvent(previousElement, event);\n          }\n        } else if (activeElement) {\n          fireBlurEvent(activeElement, event);\n        } else if (previousElement) {\n          fireBlurEvent(previousElement, event);\n        }\n        event.stopPropagation();\n      } else {\n        const targetIsItem = isItem(store, event.target);\n        if (!targetIsItem && activeElement) {\n          fireBlurEvent(activeElement, event);\n        }\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    const onKeyDown = useEvent((event) => {\n      var _a2;\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      if (!isSelfTarget(event)) return;\n      const { orientation, renderedItems, activeId: activeId2 } = store.getState();\n      const activeItem = getEnabledItem(store, activeId2);\n      if ((_a2 = activeItem == null ? void 0 : activeItem.element) == null ? void 0 : _a2.isConnected) return;\n      const isVertical = orientation !== \"horizontal\";\n      const isHorizontal = orientation !== \"vertical\";\n      const grid = isGrid(renderedItems);\n      const isHorizontalKey = event.key === \"ArrowLeft\" || event.key === \"ArrowRight\" || event.key === \"Home\" || event.key === \"End\";\n      if (isHorizontalKey && isTextField(event.currentTarget)) return;\n      const up = () => {\n        if (grid) {\n          const item = findFirstEnabledItemInTheLastRow(renderedItems);\n          return item == null ? void 0 : item.id;\n        }\n        return store == null ? void 0 : store.last();\n      };\n      const keyMap = {\n        ArrowUp: (grid || isVertical) && up,\n        ArrowRight: (grid || isHorizontal) && store.first,\n        ArrowDown: (grid || isVertical) && store.first,\n        ArrowLeft: (grid || isHorizontal) && store.last,\n        Home: store.first,\n        End: store.last,\n        PageUp: store.first,\n        PageDown: store.last\n      };\n      const action = keyMap[event.key];\n      if (action) {\n        const id = action();\n        if (id !== void 0) {\n          if (!moveOnKeyPressProp(event)) return;\n          event.preventDefault();\n          store.move(id);\n        }\n      }\n    });\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(CompositeContextProvider, { value: store, children: element }),\n      [store]\n    );\n    const activeDescendant = store.useState((state) => {\n      var _a2;\n      if (!store) return;\n      if (!composite) return;\n      if (!state.virtualFocus) return;\n      return (_a2 = getEnabledItem(store, state.activeId)) == null ? void 0 : _a2.id;\n    });\n    props = __spreadProps(__spreadValues({\n      \"aria-activedescendant\": activeDescendant\n    }, props), {\n      ref: useMergeRefs(ref, setBaseElement, props.ref),\n      onKeyDownCapture,\n      onKeyUpCapture,\n      onFocusCapture,\n      onFocus,\n      onBlurCapture,\n      onKeyDown\n    });\n    const focusable = store.useState(\n      (state) => composite && (state.virtualFocus || state.activeId === null)\n    );\n    props = useFocusable(__spreadValues({ focusable }, props));\n    return props;\n  }\n);\nvar Composite = forwardRef(function Composite2(props) {\n  const htmlProps = useComposite(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useComposite,\n  Composite\n};\n", "\"use client\";\nimport {\n  useComboboxProviderContext\n} from \"../__chunks/VEVQD5MH.js\";\nimport {\n  usePopoverAnchor\n} from \"../__chunks/OMU7RWRV.js\";\nimport {\n  useComposite\n} from \"../__chunks/ITI7HKP4.js\";\nimport \"../__chunks/5VQZOHHZ.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport \"../__chunks/LVA2YJMS.js\";\nimport \"../__chunks/SWN3JYXT.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"../__chunks/LMDWO4NN.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useForceUpdate,\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useUpdateEffect,\n  useUpdateLayoutEffect\n} from \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox.tsx\nimport {\n  getPopupRole,\n  getScrollingElement,\n  getTextboxSelection,\n  setSelectionRange\n} from \"@ariakit/core/utils/dom\";\nimport {\n  isFocusEventOutside,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport { hasFocus } from \"@ariakit/core/utils/focus\";\nimport {\n  invariant,\n  isFalsyBooleanCallback,\n  noop,\n  normalizeString\n} from \"@ariakit/core/utils/misc\";\nimport { sync } from \"@ariakit/core/utils/store\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nvar TagName = \"input\";\nfunction isFirstItemAutoSelected(items, activeValue, autoSelect) {\n  if (!autoSelect) return false;\n  const firstItem = items.find((item) => !item.disabled && item.value);\n  return (firstItem == null ? void 0 : firstItem.value) === activeValue;\n}\nfunction hasCompletionString(value, activeValue) {\n  if (!activeValue) return false;\n  if (value == null) return false;\n  value = normalizeString(value);\n  return activeValue.length > value.length && activeValue.toLowerCase().indexOf(value.toLowerCase()) === 0;\n}\nfunction isInputEvent(event) {\n  return event.type === \"input\";\n}\nfunction isAriaAutoCompleteValue(value) {\n  return value === \"inline\" || value === \"list\" || value === \"both\" || value === \"none\";\n}\nfunction getDefaultAutoSelectId(items) {\n  const item = items.find((item2) => {\n    var _a;\n    if (item2.disabled) return false;\n    return ((_a = item2.element) == null ? void 0 : _a.getAttribute(\"role\")) !== \"tab\";\n  });\n  return item == null ? void 0 : item.id;\n}\nvar useCombobox = createHook(\n  function useCombobox2(_a) {\n    var _b = _a, {\n      store,\n      focusable = true,\n      autoSelect: autoSelectProp = false,\n      getAutoSelectId,\n      setValueOnChange,\n      showMinLength = 0,\n      showOnChange,\n      showOnMouseDown,\n      showOnClick = showOnMouseDown,\n      showOnKeyDown,\n      showOnKeyPress = showOnKeyDown,\n      blurActiveItemOnClick,\n      setValueOnClick = true,\n      moveOnKeyPress = true,\n      autoComplete = \"list\"\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"focusable\",\n      \"autoSelect\",\n      \"getAutoSelectId\",\n      \"setValueOnChange\",\n      \"showMinLength\",\n      \"showOnChange\",\n      \"showOnMouseDown\",\n      \"showOnClick\",\n      \"showOnKeyDown\",\n      \"showOnKeyPress\",\n      \"blurActiveItemOnClick\",\n      \"setValueOnClick\",\n      \"moveOnKeyPress\",\n      \"autoComplete\"\n    ]);\n    const context = useComboboxProviderContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"Combobox must receive a `store` prop or be wrapped in a ComboboxProvider component.\"\n    );\n    const ref = useRef(null);\n    const [valueUpdated, forceValueUpdate] = useForceUpdate();\n    const canAutoSelectRef = useRef(false);\n    const composingRef = useRef(false);\n    const autoSelect = store.useState(\n      (state) => state.virtualFocus && autoSelectProp\n    );\n    const inline = autoComplete === \"inline\" || autoComplete === \"both\";\n    const [canInline, setCanInline] = useState(inline);\n    useUpdateLayoutEffect(() => {\n      if (!inline) return;\n      setCanInline(true);\n    }, [inline]);\n    const storeValue = store.useState(\"value\");\n    const prevSelectedValueRef = useRef();\n    useEffect(() => {\n      return sync(store, [\"selectedValue\", \"activeId\"], (_, prev) => {\n        prevSelectedValueRef.current = prev.selectedValue;\n      });\n    }, []);\n    const inlineActiveValue = store.useState((state) => {\n      var _a2;\n      if (!inline) return;\n      if (!canInline) return;\n      if (state.activeValue && Array.isArray(state.selectedValue)) {\n        if (state.selectedValue.includes(state.activeValue)) return;\n        if ((_a2 = prevSelectedValueRef.current) == null ? void 0 : _a2.includes(state.activeValue)) return;\n      }\n      return state.activeValue;\n    });\n    const items = store.useState(\"renderedItems\");\n    const open = store.useState(\"open\");\n    const contentElement = store.useState(\"contentElement\");\n    const value = useMemo(() => {\n      if (!inline) return storeValue;\n      if (!canInline) return storeValue;\n      const firstItemAutoSelected = isFirstItemAutoSelected(\n        items,\n        inlineActiveValue,\n        autoSelect\n      );\n      if (firstItemAutoSelected) {\n        if (hasCompletionString(storeValue, inlineActiveValue)) {\n          const slice = (inlineActiveValue == null ? void 0 : inlineActiveValue.slice(storeValue.length)) || \"\";\n          return storeValue + slice;\n        }\n        return storeValue;\n      }\n      return inlineActiveValue || storeValue;\n    }, [inline, canInline, items, inlineActiveValue, autoSelect, storeValue]);\n    useEffect(() => {\n      const element = ref.current;\n      if (!element) return;\n      const onCompositeItemMove = () => setCanInline(true);\n      element.addEventListener(\"combobox-item-move\", onCompositeItemMove);\n      return () => {\n        element.removeEventListener(\"combobox-item-move\", onCompositeItemMove);\n      };\n    }, []);\n    useEffect(() => {\n      if (!inline) return;\n      if (!canInline) return;\n      if (!inlineActiveValue) return;\n      const firstItemAutoSelected = isFirstItemAutoSelected(\n        items,\n        inlineActiveValue,\n        autoSelect\n      );\n      if (!firstItemAutoSelected) return;\n      if (!hasCompletionString(storeValue, inlineActiveValue)) return;\n      let cleanup = noop;\n      queueMicrotask(() => {\n        const element = ref.current;\n        if (!element) return;\n        const { start: prevStart, end: prevEnd } = getTextboxSelection(element);\n        const nextStart = storeValue.length;\n        const nextEnd = inlineActiveValue.length;\n        setSelectionRange(element, nextStart, nextEnd);\n        cleanup = () => {\n          if (!hasFocus(element)) return;\n          const { start, end } = getTextboxSelection(element);\n          if (start !== nextStart) return;\n          if (end !== nextEnd) return;\n          setSelectionRange(element, prevStart, prevEnd);\n        };\n      });\n      return () => cleanup();\n    }, [\n      valueUpdated,\n      inline,\n      canInline,\n      inlineActiveValue,\n      items,\n      autoSelect,\n      storeValue\n    ]);\n    const scrollingElementRef = useRef(null);\n    const getAutoSelectIdProp = useEvent(getAutoSelectId);\n    const autoSelectIdRef = useRef(null);\n    useEffect(() => {\n      if (!open) return;\n      if (!contentElement) return;\n      const scrollingElement = getScrollingElement(contentElement);\n      if (!scrollingElement) return;\n      scrollingElementRef.current = scrollingElement;\n      const onUserScroll = () => {\n        canAutoSelectRef.current = false;\n      };\n      const onScroll = () => {\n        if (!store) return;\n        if (!canAutoSelectRef.current) return;\n        const { activeId } = store.getState();\n        if (activeId === null) return;\n        if (activeId === autoSelectIdRef.current) return;\n        canAutoSelectRef.current = false;\n      };\n      const options = { passive: true, capture: true };\n      scrollingElement.addEventListener(\"wheel\", onUserScroll, options);\n      scrollingElement.addEventListener(\"touchmove\", onUserScroll, options);\n      scrollingElement.addEventListener(\"scroll\", onScroll, options);\n      return () => {\n        scrollingElement.removeEventListener(\"wheel\", onUserScroll, true);\n        scrollingElement.removeEventListener(\"touchmove\", onUserScroll, true);\n        scrollingElement.removeEventListener(\"scroll\", onScroll, true);\n      };\n    }, [open, contentElement, store]);\n    useSafeLayoutEffect(() => {\n      if (!storeValue) return;\n      if (composingRef.current) return;\n      canAutoSelectRef.current = true;\n    }, [storeValue]);\n    useSafeLayoutEffect(() => {\n      if (autoSelect !== \"always\" && open) return;\n      canAutoSelectRef.current = open;\n    }, [autoSelect, open]);\n    const resetValueOnSelect = store.useState(\"resetValueOnSelect\");\n    useUpdateEffect(() => {\n      var _a2, _b2;\n      const canAutoSelect = canAutoSelectRef.current;\n      if (!store) return;\n      if (!open) return;\n      if (!canAutoSelect && !resetValueOnSelect) return;\n      const { baseElement, contentElement: contentElement2, activeId } = store.getState();\n      if (baseElement && !hasFocus(baseElement)) return;\n      if (contentElement2 == null ? void 0 : contentElement2.hasAttribute(\"data-placing\")) {\n        const observer = new MutationObserver(forceValueUpdate);\n        observer.observe(contentElement2, { attributeFilter: [\"data-placing\"] });\n        return () => observer.disconnect();\n      }\n      if (autoSelect && canAutoSelect) {\n        const userAutoSelectId = getAutoSelectIdProp(items);\n        const autoSelectId = userAutoSelectId !== void 0 ? userAutoSelectId : (_a2 = getDefaultAutoSelectId(items)) != null ? _a2 : store.first();\n        autoSelectIdRef.current = autoSelectId;\n        store.move(autoSelectId != null ? autoSelectId : null);\n      } else {\n        const element = (_b2 = store.item(activeId || store.first())) == null ? void 0 : _b2.element;\n        if (element && \"scrollIntoView\" in element) {\n          element.scrollIntoView({ block: \"nearest\", inline: \"nearest\" });\n        }\n      }\n      return;\n    }, [\n      store,\n      open,\n      valueUpdated,\n      storeValue,\n      autoSelect,\n      resetValueOnSelect,\n      getAutoSelectIdProp,\n      items\n    ]);\n    useEffect(() => {\n      if (!inline) return;\n      const combobox = ref.current;\n      if (!combobox) return;\n      const elements = [combobox, contentElement].filter(\n        (value2) => !!value2\n      );\n      const onBlur2 = (event) => {\n        if (elements.every((el) => isFocusEventOutside(event, el))) {\n          store == null ? void 0 : store.setValue(value);\n        }\n      };\n      for (const element of elements) {\n        element.addEventListener(\"focusout\", onBlur2);\n      }\n      return () => {\n        for (const element of elements) {\n          element.removeEventListener(\"focusout\", onBlur2);\n        }\n      };\n    }, [inline, contentElement, store, value]);\n    const canShow = (event) => {\n      const currentTarget = event.currentTarget;\n      return currentTarget.value.length >= showMinLength;\n    };\n    const onChangeProp = props.onChange;\n    const showOnChangeProp = useBooleanEvent(showOnChange != null ? showOnChange : canShow);\n    const setValueOnChangeProp = useBooleanEvent(\n      // If the combobox is combined with tags, the value will be set by the tag\n      // input component.\n      setValueOnChange != null ? setValueOnChange : !store.tag\n    );\n    const onChange = useEvent((event) => {\n      onChangeProp == null ? void 0 : onChangeProp(event);\n      if (event.defaultPrevented) return;\n      if (!store) return;\n      const currentTarget = event.currentTarget;\n      const { value: value2, selectionStart, selectionEnd } = currentTarget;\n      const nativeEvent = event.nativeEvent;\n      canAutoSelectRef.current = true;\n      if (isInputEvent(nativeEvent)) {\n        if (nativeEvent.isComposing) {\n          canAutoSelectRef.current = false;\n          composingRef.current = true;\n        }\n        if (inline) {\n          const textInserted = nativeEvent.inputType === \"insertText\" || nativeEvent.inputType === \"insertCompositionText\";\n          const caretAtEnd = selectionStart === value2.length;\n          setCanInline(textInserted && caretAtEnd);\n        }\n      }\n      if (setValueOnChangeProp(event)) {\n        const isSameValue = value2 === store.getState().value;\n        store.setValue(value2);\n        queueMicrotask(() => {\n          setSelectionRange(currentTarget, selectionStart, selectionEnd);\n        });\n        if (inline && autoSelect && isSameValue) {\n          forceValueUpdate();\n        }\n      }\n      if (showOnChangeProp(event)) {\n        store.show();\n      }\n      if (!autoSelect || !canAutoSelectRef.current) {\n        store.setActiveId(null);\n      }\n    });\n    const onCompositionEndProp = props.onCompositionEnd;\n    const onCompositionEnd = useEvent((event) => {\n      canAutoSelectRef.current = true;\n      composingRef.current = false;\n      onCompositionEndProp == null ? void 0 : onCompositionEndProp(event);\n      if (event.defaultPrevented) return;\n      if (!autoSelect) return;\n      forceValueUpdate();\n    });\n    const onMouseDownProp = props.onMouseDown;\n    const blurActiveItemOnClickProp = useBooleanEvent(\n      blurActiveItemOnClick != null ? blurActiveItemOnClick : () => !!(store == null ? void 0 : store.getState().includesBaseElement)\n    );\n    const setValueOnClickProp = useBooleanEvent(setValueOnClick);\n    const showOnClickProp = useBooleanEvent(showOnClick != null ? showOnClick : canShow);\n    const onMouseDown = useEvent((event) => {\n      onMouseDownProp == null ? void 0 : onMouseDownProp(event);\n      if (event.defaultPrevented) return;\n      if (event.button) return;\n      if (event.ctrlKey) return;\n      if (!store) return;\n      if (blurActiveItemOnClickProp(event)) {\n        store.setActiveId(null);\n      }\n      if (setValueOnClickProp(event)) {\n        store.setValue(value);\n      }\n      if (showOnClickProp(event)) {\n        queueBeforeEvent(event.currentTarget, \"mouseup\", store.show);\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const showOnKeyPressProp = useBooleanEvent(showOnKeyPress != null ? showOnKeyPress : canShow);\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (!event.repeat) {\n        canAutoSelectRef.current = false;\n      }\n      if (event.defaultPrevented) return;\n      if (event.ctrlKey) return;\n      if (event.altKey) return;\n      if (event.shiftKey) return;\n      if (event.metaKey) return;\n      if (!store) return;\n      const { open: open2 } = store.getState();\n      if (open2) return;\n      if (event.key === \"ArrowUp\" || event.key === \"ArrowDown\") {\n        if (showOnKeyPressProp(event)) {\n          event.preventDefault();\n          store.show();\n        }\n      }\n    });\n    const onBlurProp = props.onBlur;\n    const onBlur = useEvent((event) => {\n      canAutoSelectRef.current = false;\n      onBlurProp == null ? void 0 : onBlurProp(event);\n      if (event.defaultPrevented) return;\n    });\n    const id = useId(props.id);\n    const ariaAutoComplete = isAriaAutoCompleteValue(autoComplete) ? autoComplete : void 0;\n    const isActiveItem = store.useState((state) => state.activeId === null);\n    props = __spreadProps(__spreadValues({\n      id,\n      role: \"combobox\",\n      \"aria-autocomplete\": ariaAutoComplete,\n      \"aria-haspopup\": getPopupRole(contentElement, \"listbox\"),\n      \"aria-expanded\": open,\n      \"aria-controls\": contentElement == null ? void 0 : contentElement.id,\n      \"data-active-item\": isActiveItem || void 0,\n      value\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onChange,\n      onCompositionEnd,\n      onMouseDown,\n      onKeyDown,\n      onBlur\n    });\n    props = useComposite(__spreadProps(__spreadValues({\n      store,\n      focusable\n    }, props), {\n      // Enable inline autocomplete when the user moves from the combobox input\n      // to an item.\n      moveOnKeyPress: (event) => {\n        if (isFalsyBooleanCallback(moveOnKeyPress, event)) return false;\n        if (inline) setCanInline(true);\n        return true;\n      }\n    }));\n    props = usePopoverAnchor(__spreadValues({ store }, props));\n    return __spreadValues({ autoComplete: \"off\" }, props);\n  }\n);\nvar Combobox = forwardRef(function Combobox2(props) {\n  const htmlProps = useCombobox(props);\n  return createElement(TagName, htmlProps);\n});\nexport {\n  Combobox,\n  useCombobox\n};\n", "\"use client\";\nimport {\n  useComboboxStore\n} from \"../__chunks/FEOFMWBY.js\";\nimport {\n  ComboboxContextProvider\n} from \"../__chunks/VEVQD5MH.js\";\nimport \"../__chunks/3XAVFTCA.js\";\nimport \"../__chunks/4CMBR7SL.js\";\nimport \"../__chunks/C3IKGW5T.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport \"../__chunks/LMDWO4NN.js\";\nimport \"../__chunks/O2PQ2652.js\";\nimport \"../__chunks/BM6PGYQY.js\";\nimport \"../__chunks/WYCIER3C.js\";\nimport \"../__chunks/YV4JVR4I.js\";\nimport \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-provider.tsx\nimport { jsx } from \"react/jsx-runtime\";\nfunction ComboboxProvider(props = {}) {\n  const store = useComboboxStore(props);\n  return /* @__PURE__ */ jsx(ComboboxContextProvider, { value: store, children: props.children });\n}\nexport {\n  ComboboxProvider\n};\n", "\"use client\";\nimport {\n  useFocusable\n} from \"./LVA2YJMS.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useEvent,\n  useMergeRefs,\n  useMetadataProps\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/command/command.tsx\nimport { isButton, isTextField } from \"@ariakit/core/utils/dom\";\nimport {\n  fireClickEvent,\n  isSelfTarget,\n  queueBeforeEvent\n} from \"@ariakit/core/utils/events\";\nimport { disabledFromProps } from \"@ariakit/core/utils/misc\";\nimport { isFirefox } from \"@ariakit/core/utils/platform\";\nimport { useEffect, useRef, useState } from \"react\";\nvar TagName = \"button\";\nfunction isNativeClick(event) {\n  if (!event.isTrusted) return false;\n  const element = event.currentTarget;\n  if (event.key === \"Enter\") {\n    return isButton(element) || element.tagName === \"SUMMARY\" || element.tagName === \"A\";\n  }\n  if (event.key === \" \") {\n    return isButton(element) || element.tagName === \"SUMMARY\" || element.tagName === \"INPUT\" || element.tagName === \"SELECT\";\n  }\n  return false;\n}\nvar symbol = Symbol(\"command\");\nvar useCommand = createHook(\n  function useCommand2(_a) {\n    var _b = _a, { clickOnEnter = true, clickOnSpace = true } = _b, props = __objRest(_b, [\"clickOnEnter\", \"clickOnSpace\"]);\n    const ref = useRef(null);\n    const [isNativeButton, setIsNativeButton] = useState(false);\n    useEffect(() => {\n      if (!ref.current) return;\n      setIsNativeButton(isButton(ref.current));\n    }, []);\n    const [active, setActive] = useState(false);\n    const activeRef = useRef(false);\n    const disabled = disabledFromProps(props);\n    const [isDuplicate, metadataProps] = useMetadataProps(props, symbol, true);\n    const onKeyDownProp = props.onKeyDown;\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      const element = event.currentTarget;\n      if (event.defaultPrevented) return;\n      if (isDuplicate) return;\n      if (disabled) return;\n      if (!isSelfTarget(event)) return;\n      if (isTextField(element)) return;\n      if (element.isContentEditable) return;\n      const isEnter = clickOnEnter && event.key === \"Enter\";\n      const isSpace = clickOnSpace && event.key === \" \";\n      const shouldPreventEnter = event.key === \"Enter\" && !clickOnEnter;\n      const shouldPreventSpace = event.key === \" \" && !clickOnSpace;\n      if (shouldPreventEnter || shouldPreventSpace) {\n        event.preventDefault();\n        return;\n      }\n      if (isEnter || isSpace) {\n        const nativeClick = isNativeClick(event);\n        if (isEnter) {\n          if (!nativeClick) {\n            event.preventDefault();\n            const _a2 = event, { view } = _a2, eventInit = __objRest(_a2, [\"view\"]);\n            const click = () => fireClickEvent(element, eventInit);\n            if (isFirefox()) {\n              queueBeforeEvent(element, \"keyup\", click);\n            } else {\n              queueMicrotask(click);\n            }\n          }\n        } else if (isSpace) {\n          activeRef.current = true;\n          if (!nativeClick) {\n            event.preventDefault();\n            setActive(true);\n          }\n        }\n      }\n    });\n    const onKeyUpProp = props.onKeyUp;\n    const onKeyUp = useEvent((event) => {\n      onKeyUpProp == null ? void 0 : onKeyUpProp(event);\n      if (event.defaultPrevented) return;\n      if (isDuplicate) return;\n      if (disabled) return;\n      if (event.metaKey) return;\n      const isSpace = clickOnSpace && event.key === \" \";\n      if (activeRef.current && isSpace) {\n        activeRef.current = false;\n        if (!isNativeClick(event)) {\n          event.preventDefault();\n          setActive(false);\n          const element = event.currentTarget;\n          const _a2 = event, { view } = _a2, eventInit = __objRest(_a2, [\"view\"]);\n          queueMicrotask(() => fireClickEvent(element, eventInit));\n        }\n      }\n    });\n    props = __spreadProps(__spreadValues(__spreadValues({\n      \"data-active\": active || void 0,\n      type: isNativeButton ? \"button\" : void 0\n    }, metadataProps), props), {\n      ref: useMergeRefs(ref, props.ref),\n      onKeyDown,\n      onKeyUp\n    });\n    props = useFocusable(props);\n    return props;\n  }\n);\nvar Command = forwardRef(function Command2(props) {\n  const htmlProps = useCommand(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useCommand,\n  Command\n};\n", "\"use client\";\nimport {\n  ComboboxItemValueContext,\n  useComboboxScopedContext\n} from \"../__chunks/VEVQD5MH.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"../__chunks/LMDWO4NN.js\";\nimport {\n  useStoreState\n} from \"../__chunks/YV4JVR4I.js\";\nimport \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-item-value.tsx\nimport { toArray } from \"@ariakit/core/utils/array\";\nimport {\n  normalizeString,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { useContext, useMemo } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"span\";\nfunction normalizeValue(value) {\n  return normalizeString(value).toLowerCase();\n}\nfunction getOffsets(string, values) {\n  const offsets = [];\n  for (const value of values) {\n    let pos = 0;\n    const length = value.length;\n    while (string.indexOf(value, pos) !== -1) {\n      const index = string.indexOf(value, pos);\n      if (index !== -1) {\n        offsets.push([index, length]);\n      }\n      pos = index + 1;\n    }\n  }\n  return offsets;\n}\nfunction filterOverlappingOffsets(offsets) {\n  return offsets.filter(([offset, length], i, arr) => {\n    return !arr.some(\n      ([o, l], j) => j !== i && o <= offset && o + l >= offset + length\n    );\n  });\n}\nfunction sortOffsets(offsets) {\n  return offsets.sort(([a], [b]) => a - b);\n}\nfunction splitValue(itemValue, userValue) {\n  if (!itemValue) return itemValue;\n  if (!userValue) return itemValue;\n  const userValues = toArray(userValue).filter(Boolean).map(normalizeValue);\n  const parts = [];\n  const span = (value, autocomplete = false) => /* @__PURE__ */ jsx(\n    \"span\",\n    {\n      \"data-autocomplete-value\": autocomplete ? \"\" : void 0,\n      \"data-user-value\": autocomplete ? void 0 : \"\",\n      children: value\n    },\n    parts.length\n  );\n  const offsets = sortOffsets(\n    filterOverlappingOffsets(\n      // Convert userValues into a set to avoid duplicates\n      getOffsets(normalizeValue(itemValue), new Set(userValues))\n    )\n  );\n  if (!offsets.length) {\n    parts.push(span(itemValue, true));\n    return parts;\n  }\n  const [firstOffset] = offsets[0];\n  const values = [\n    itemValue.slice(0, firstOffset),\n    ...offsets.flatMap(([offset, length], i) => {\n      var _a;\n      const value = itemValue.slice(offset, offset + length);\n      const nextOffset = (_a = offsets[i + 1]) == null ? void 0 : _a[0];\n      const nextValue = itemValue.slice(offset + length, nextOffset);\n      return [value, nextValue];\n    })\n  ];\n  values.forEach((value, i) => {\n    if (!value) return;\n    parts.push(span(value, i % 2 === 0));\n  });\n  return parts;\n}\nvar useComboboxItemValue = createHook(function useComboboxItemValue2(_a) {\n  var _b = _a, { store, value, userValue } = _b, props = __objRest(_b, [\"store\", \"value\", \"userValue\"]);\n  const context = useComboboxScopedContext();\n  store = store || context;\n  const itemContext = useContext(ComboboxItemValueContext);\n  const itemValue = value != null ? value : itemContext;\n  const inputValue = useStoreState(store, (state) => userValue != null ? userValue : state == null ? void 0 : state.value);\n  const children = useMemo(() => {\n    if (!itemValue) return;\n    if (!inputValue) return itemValue;\n    return splitValue(itemValue, inputValue);\n  }, [itemValue, inputValue]);\n  props = __spreadValues({\n    children\n  }, props);\n  return removeUndefinedValues(props);\n});\nvar ComboboxItemValue = forwardRef(function ComboboxItemValue2(props) {\n  const htmlProps = useComboboxItemValue(props);\n  return createElement(TagName, htmlProps);\n});\nexport {\n  ComboboxItemValue,\n  useComboboxItemValue\n};\n", "\"use client\";\nimport {\n  useCompositeContext\n} from \"./P7GR5CS5.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"./LMDWO4NN.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useIsMouseMoving,\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-hover.tsx\nimport { contains } from \"@ariakit/core/utils/dom\";\nimport { hasFocus, hasFocusWithin } from \"@ariakit/core/utils/focus\";\nimport {\n  hasOwnProperty,\n  invariant,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { useCallback } from \"react\";\nvar TagName = \"div\";\nfunction getMouseDestination(event) {\n  const relatedTarget = event.relatedTarget;\n  if ((relatedTarget == null ? void 0 : relatedTarget.nodeType) === Node.ELEMENT_NODE) {\n    return relatedTarget;\n  }\n  return null;\n}\nfunction hoveringInside(event) {\n  const nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  return contains(event.currentTarget, nextElement);\n}\nvar symbol = Symbol(\"composite-hover\");\nfunction movingToAnotherItem(event) {\n  let dest = getMouseDestination(event);\n  if (!dest) return false;\n  do {\n    if (hasOwnProperty(dest, symbol) && dest[symbol]) return true;\n    dest = dest.parentElement;\n  } while (dest);\n  return false;\n}\nvar useCompositeHover = createHook(\n  function useCompositeHover2(_a) {\n    var _b = _a, {\n      store,\n      focusOnHover = true,\n      blurOnHoverEnd = !!focusOnHover\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"focusOnHover\",\n      \"blurOnHoverEnd\"\n    ]);\n    const context = useCompositeContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"CompositeHover must be wrapped in a Composite component.\"\n    );\n    const isMouseMoving = useIsMouseMoving();\n    const onMouseMoveProp = props.onMouseMove;\n    const focusOnHoverProp = useBooleanEvent(focusOnHover);\n    const onMouseMove = useEvent((event) => {\n      onMouseMoveProp == null ? void 0 : onMouseMoveProp(event);\n      if (event.defaultPrevented) return;\n      if (!isMouseMoving()) return;\n      if (!focusOnHoverProp(event)) return;\n      if (!hasFocusWithin(event.currentTarget)) {\n        const baseElement = store == null ? void 0 : store.getState().baseElement;\n        if (baseElement && !hasFocus(baseElement)) {\n          baseElement.focus();\n        }\n      }\n      store == null ? void 0 : store.setActiveId(event.currentTarget.id);\n    });\n    const onMouseLeaveProp = props.onMouseLeave;\n    const blurOnHoverEndProp = useBooleanEvent(blurOnHoverEnd);\n    const onMouseLeave = useEvent((event) => {\n      var _a2;\n      onMouseLeaveProp == null ? void 0 : onMouseLeaveProp(event);\n      if (event.defaultPrevented) return;\n      if (!isMouseMoving()) return;\n      if (hoveringInside(event)) return;\n      if (movingToAnotherItem(event)) return;\n      if (!focusOnHoverProp(event)) return;\n      if (!blurOnHoverEndProp(event)) return;\n      store == null ? void 0 : store.setActiveId(null);\n      (_a2 = store == null ? void 0 : store.getState().baseElement) == null ? void 0 : _a2.focus();\n    });\n    const ref = useCallback((element) => {\n      if (!element) return;\n      element[symbol] = true;\n    }, []);\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(ref, props.ref),\n      onMouseMove,\n      onMouseLeave\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar CompositeHover = memo(\n  forwardRef(function CompositeHover2(props) {\n    const htmlProps = useCompositeHover(props);\n    return createElement(TagName, htmlProps);\n  })\n);\n\nexport {\n  useCompositeHover,\n  CompositeHover\n};\n", "\"use client\";\nimport {\n  useCollectionContext\n} from \"./VDHZ5F7K.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useId,\n  useMergeRefs\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/collection/collection-item.tsx\nimport { identity, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nimport { useEffect, useRef } from \"react\";\nvar TagName = \"div\";\nvar useCollectionItem = createHook(\n  function useCollectionItem2(_a) {\n    var _b = _a, {\n      store,\n      shouldRegisterItem = true,\n      getItem = identity,\n      element: element\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"shouldRegisterItem\",\n      \"getItem\",\n      // @ts-expect-error This prop may come from a collection renderer.\n      \"element\"\n    ]);\n    const context = useCollectionContext();\n    store = store || context;\n    const id = useId(props.id);\n    const ref = useRef(element);\n    useEffect(() => {\n      const element2 = ref.current;\n      if (!id) return;\n      if (!element2) return;\n      if (!shouldRegisterItem) return;\n      const item = getItem({ id, element: element2 });\n      return store == null ? void 0 : store.renderItem(item);\n    }, [id, shouldRegisterItem, getItem, store]);\n    props = __spreadProps(__spreadValues({}, props), {\n      ref: useMergeRefs(ref, props.ref)\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar CollectionItem = forwardRef(function CollectionItem2(props) {\n  const htmlProps = useCollectionItem(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useCollectionItem,\n  CollectionItem\n};\n", "\"use client\";\nimport {\n  useCollectionItem\n} from \"./RZ4GPYOB.js\";\nimport {\n  useCommand\n} from \"./KUU7WJ55.js\";\nimport {\n  focusSilently,\n  getEnabledItem,\n  isItem,\n  selectTextField\n} from \"./5VQZOHHZ.js\";\nimport {\n  CompositeItemContext,\n  CompositeRowContext,\n  useCompositeContext\n} from \"./P7GR5CS5.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"./LMDWO4NN.js\";\nimport {\n  useStoreStateObject\n} from \"./YV4JVR4I.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useId,\n  useMergeRefs,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/composite/composite-item.tsx\nimport {\n  getScrollingElement,\n  getTextboxSelection,\n  getTextboxValue,\n  isButton,\n  isTextField,\n  isTextbox\n} from \"@ariakit/core/utils/dom\";\nimport { isPortalEvent, isSelfTarget } from \"@ariakit/core/utils/events\";\nimport {\n  disabledFromProps,\n  removeUndefinedValues\n} from \"@ariakit/core/utils/misc\";\nimport { isSafari } from \"@ariakit/core/utils/platform\";\nimport { useCallback, useContext, useMemo, useRef } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"button\";\nfunction isEditableElement(element) {\n  if (isTextbox(element)) return true;\n  return element.tagName === \"INPUT\" && !isButton(element);\n}\nfunction getNextPageOffset(scrollingElement, pageUp = false) {\n  const height = scrollingElement.clientHeight;\n  const { top } = scrollingElement.getBoundingClientRect();\n  const pageSize = Math.max(height * 0.875, height - 40) * 1.5;\n  const pageOffset = pageUp ? height - pageSize + top : pageSize + top;\n  if (scrollingElement.tagName === \"HTML\") {\n    return pageOffset + scrollingElement.scrollTop;\n  }\n  return pageOffset;\n}\nfunction getItemOffset(itemElement, pageUp = false) {\n  const { top } = itemElement.getBoundingClientRect();\n  if (pageUp) {\n    return top + itemElement.clientHeight;\n  }\n  return top;\n}\nfunction findNextPageItemId(element, store, next, pageUp = false) {\n  var _a;\n  if (!store) return;\n  if (!next) return;\n  const { renderedItems } = store.getState();\n  const scrollingElement = getScrollingElement(element);\n  if (!scrollingElement) return;\n  const nextPageOffset = getNextPageOffset(scrollingElement, pageUp);\n  let id;\n  let prevDifference;\n  for (let i = 0; i < renderedItems.length; i += 1) {\n    const previousId = id;\n    id = next(i);\n    if (!id) break;\n    if (id === previousId) continue;\n    const itemElement = (_a = getEnabledItem(store, id)) == null ? void 0 : _a.element;\n    if (!itemElement) continue;\n    const itemOffset = getItemOffset(itemElement, pageUp);\n    const difference = itemOffset - nextPageOffset;\n    const absDifference = Math.abs(difference);\n    if (pageUp && difference <= 0 || !pageUp && difference >= 0) {\n      if (prevDifference !== void 0 && prevDifference < absDifference) {\n        id = previousId;\n      }\n      break;\n    }\n    prevDifference = absDifference;\n  }\n  return id;\n}\nfunction targetIsAnotherItem(event, store) {\n  if (isSelfTarget(event)) return false;\n  return isItem(store, event.target);\n}\nvar useCompositeItem = createHook(\n  function useCompositeItem2(_a) {\n    var _b = _a, {\n      store,\n      rowId: rowIdProp,\n      preventScrollOnKeyDown = false,\n      moveOnKeyPress = true,\n      tabbable = false,\n      getItem: getItemProp,\n      \"aria-setsize\": ariaSetSizeProp,\n      \"aria-posinset\": ariaPosInSetProp\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"rowId\",\n      \"preventScrollOnKeyDown\",\n      \"moveOnKeyPress\",\n      \"tabbable\",\n      \"getItem\",\n      \"aria-setsize\",\n      \"aria-posinset\"\n    ]);\n    const context = useCompositeContext();\n    store = store || context;\n    const id = useId(props.id);\n    const ref = useRef(null);\n    const row = useContext(CompositeRowContext);\n    const disabled = disabledFromProps(props);\n    const trulyDisabled = disabled && !props.accessibleWhenDisabled;\n    const {\n      rowId,\n      baseElement,\n      isActiveItem,\n      ariaSetSize,\n      ariaPosInSet,\n      isTabbable\n    } = useStoreStateObject(store, {\n      rowId(state) {\n        if (rowIdProp) return rowIdProp;\n        if (!state) return;\n        if (!(row == null ? void 0 : row.baseElement)) return;\n        if (row.baseElement !== state.baseElement) return;\n        return row.id;\n      },\n      baseElement(state) {\n        return (state == null ? void 0 : state.baseElement) || void 0;\n      },\n      isActiveItem(state) {\n        return !!state && state.activeId === id;\n      },\n      ariaSetSize(state) {\n        if (ariaSetSizeProp != null) return ariaSetSizeProp;\n        if (!state) return;\n        if (!(row == null ? void 0 : row.ariaSetSize)) return;\n        if (row.baseElement !== state.baseElement) return;\n        return row.ariaSetSize;\n      },\n      ariaPosInSet(state) {\n        if (ariaPosInSetProp != null) return ariaPosInSetProp;\n        if (!state) return;\n        if (!(row == null ? void 0 : row.ariaPosInSet)) return;\n        if (row.baseElement !== state.baseElement) return;\n        const itemsInRow = state.renderedItems.filter(\n          (item) => item.rowId === rowId\n        );\n        return row.ariaPosInSet + itemsInRow.findIndex((item) => item.id === id);\n      },\n      isTabbable(state) {\n        if (!(state == null ? void 0 : state.renderedItems.length)) return true;\n        if (state.virtualFocus) return false;\n        if (tabbable) return true;\n        if (state.activeId === null) return false;\n        const item = store == null ? void 0 : store.item(state.activeId);\n        if (item == null ? void 0 : item.disabled) return true;\n        if (!(item == null ? void 0 : item.element)) return true;\n        return state.activeId === id;\n      }\n    });\n    const getItem = useCallback(\n      (item) => {\n        var _a2;\n        const nextItem = __spreadProps(__spreadValues({}, item), {\n          id: id || item.id,\n          rowId,\n          disabled: !!trulyDisabled,\n          children: (_a2 = item.element) == null ? void 0 : _a2.textContent\n        });\n        if (getItemProp) {\n          return getItemProp(nextItem);\n        }\n        return nextItem;\n      },\n      [id, rowId, trulyDisabled, getItemProp]\n    );\n    const onFocusProp = props.onFocus;\n    const hasFocusedComposite = useRef(false);\n    const onFocus = useEvent((event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (event.defaultPrevented) return;\n      if (isPortalEvent(event)) return;\n      if (!id) return;\n      if (!store) return;\n      if (targetIsAnotherItem(event, store)) return;\n      const { virtualFocus, baseElement: baseElement2 } = store.getState();\n      store.setActiveId(id);\n      if (isTextbox(event.currentTarget)) {\n        selectTextField(event.currentTarget);\n      }\n      if (!virtualFocus) return;\n      if (!isSelfTarget(event)) return;\n      if (isEditableElement(event.currentTarget)) return;\n      if (!(baseElement2 == null ? void 0 : baseElement2.isConnected)) return;\n      if (isSafari() && event.currentTarget.hasAttribute(\"data-autofocus\")) {\n        event.currentTarget.scrollIntoView({\n          block: \"nearest\",\n          inline: \"nearest\"\n        });\n      }\n      hasFocusedComposite.current = true;\n      const fromComposite = event.relatedTarget === baseElement2 || isItem(store, event.relatedTarget);\n      if (fromComposite) {\n        focusSilently(baseElement2);\n      } else {\n        baseElement2.focus();\n      }\n    });\n    const onBlurCaptureProp = props.onBlurCapture;\n    const onBlurCapture = useEvent((event) => {\n      onBlurCaptureProp == null ? void 0 : onBlurCaptureProp(event);\n      if (event.defaultPrevented) return;\n      const state = store == null ? void 0 : store.getState();\n      if ((state == null ? void 0 : state.virtualFocus) && hasFocusedComposite.current) {\n        hasFocusedComposite.current = false;\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const preventScrollOnKeyDownProp = useBooleanEvent(preventScrollOnKeyDown);\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented) return;\n      if (!isSelfTarget(event)) return;\n      if (!store) return;\n      const { currentTarget } = event;\n      const state = store.getState();\n      const item = store.item(id);\n      const isGrid = !!(item == null ? void 0 : item.rowId);\n      const isVertical = state.orientation !== \"horizontal\";\n      const isHorizontal = state.orientation !== \"vertical\";\n      const canHomeEnd = () => {\n        if (isGrid) return true;\n        if (isHorizontal) return true;\n        if (!state.baseElement) return true;\n        if (!isTextField(state.baseElement)) return true;\n        return false;\n      };\n      const keyMap = {\n        ArrowUp: (isGrid || isVertical) && store.up,\n        ArrowRight: (isGrid || isHorizontal) && store.next,\n        ArrowDown: (isGrid || isVertical) && store.down,\n        ArrowLeft: (isGrid || isHorizontal) && store.previous,\n        Home: () => {\n          if (!canHomeEnd()) return;\n          if (!isGrid || event.ctrlKey) {\n            return store == null ? void 0 : store.first();\n          }\n          return store == null ? void 0 : store.previous(-1);\n        },\n        End: () => {\n          if (!canHomeEnd()) return;\n          if (!isGrid || event.ctrlKey) {\n            return store == null ? void 0 : store.last();\n          }\n          return store == null ? void 0 : store.next(-1);\n        },\n        PageUp: () => {\n          return findNextPageItemId(currentTarget, store, store == null ? void 0 : store.up, true);\n        },\n        PageDown: () => {\n          return findNextPageItemId(currentTarget, store, store == null ? void 0 : store.down);\n        }\n      };\n      const action = keyMap[event.key];\n      if (action) {\n        if (isTextbox(currentTarget)) {\n          const selection = getTextboxSelection(currentTarget);\n          const isLeft = isHorizontal && event.key === \"ArrowLeft\";\n          const isRight = isHorizontal && event.key === \"ArrowRight\";\n          const isUp = isVertical && event.key === \"ArrowUp\";\n          const isDown = isVertical && event.key === \"ArrowDown\";\n          if (isRight || isDown) {\n            const { length: valueLength } = getTextboxValue(currentTarget);\n            if (selection.end !== valueLength) return;\n          } else if ((isLeft || isUp) && selection.start !== 0) return;\n        }\n        const nextId = action();\n        if (preventScrollOnKeyDownProp(event) || nextId !== void 0) {\n          if (!moveOnKeyPressProp(event)) return;\n          event.preventDefault();\n          store.move(nextId);\n        }\n      }\n    });\n    const providerValue = useMemo(\n      () => ({ id, baseElement }),\n      [id, baseElement]\n    );\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(CompositeItemContext.Provider, { value: providerValue, children: element }),\n      [providerValue]\n    );\n    props = __spreadProps(__spreadValues({\n      id,\n      \"data-active-item\": isActiveItem || void 0\n    }, props), {\n      ref: useMergeRefs(ref, props.ref),\n      tabIndex: isTabbable ? props.tabIndex : -1,\n      onFocus,\n      onBlurCapture,\n      onKeyDown\n    });\n    props = useCommand(props);\n    props = useCollectionItem(__spreadProps(__spreadValues({\n      store\n    }, props), {\n      getItem,\n      shouldRegisterItem: id ? props.shouldRegisterItem : false\n    }));\n    return removeUndefinedValues(__spreadProps(__spreadValues({}, props), {\n      \"aria-setsize\": ariaSetSize,\n      \"aria-posinset\": ariaPosInSet\n    }));\n  }\n);\nvar CompositeItem = memo(\n  forwardRef(function CompositeItem2(props) {\n    const htmlProps = useCompositeItem(props);\n    return createElement(TagName, htmlProps);\n  })\n);\n\nexport {\n  useCompositeItem,\n  CompositeItem\n};\n", "\"use client\";\nimport {\n  useCompositeHover\n} from \"./UQQRIHDV.js\";\nimport {\n  ComboboxItemCheckedContext,\n  ComboboxItemValueContext,\n  ComboboxListRoleContext,\n  useComboboxScopedContext\n} from \"./VEVQD5MH.js\";\nimport {\n  useCompositeItem\n} from \"./P2CTZE2T.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"./LMDWO4NN.js\";\nimport {\n  useStoreStateObject\n} from \"./YV4JVR4I.js\";\nimport {\n  useBooleanEvent,\n  useEvent,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/combobox/combobox-item.tsx\nimport { isTextField } from \"@ariakit/core/utils/dom\";\nimport { isDownloading, isOpeningInNewTab } from \"@ariakit/core/utils/events\";\nimport { hasFocus } from \"@ariakit/core/utils/focus\";\nimport { invariant } from \"@ariakit/core/utils/misc\";\nimport { useCallback, useContext } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nfunction isSelected(storeValue, itemValue) {\n  if (itemValue == null) return;\n  if (storeValue == null) return false;\n  if (Array.isArray(storeValue)) {\n    return storeValue.includes(itemValue);\n  }\n  return storeValue === itemValue;\n}\nfunction getItemRole(popupRole) {\n  var _a;\n  const itemRoleByPopupRole = {\n    menu: \"menuitem\",\n    listbox: \"option\",\n    tree: \"treeitem\"\n  };\n  const key = popupRole;\n  return (_a = itemRoleByPopupRole[key]) != null ? _a : \"option\";\n}\nvar useComboboxItem = createHook(\n  function useComboboxItem2(_a) {\n    var _b = _a, {\n      store,\n      value,\n      hideOnClick,\n      setValueOnClick,\n      selectValueOnClick = true,\n      resetValueOnSelect,\n      focusOnHover = false,\n      moveOnKeyPress = true,\n      getItem: getItemProp\n    } = _b, props = __objRest(_b, [\n      \"store\",\n      \"value\",\n      \"hideOnClick\",\n      \"setValueOnClick\",\n      \"selectValueOnClick\",\n      \"resetValueOnSelect\",\n      \"focusOnHover\",\n      \"moveOnKeyPress\",\n      \"getItem\"\n    ]);\n    var _a2;\n    const context = useComboboxScopedContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"ComboboxItem must be wrapped in a ComboboxList or ComboboxPopover component.\"\n    );\n    const { resetValueOnSelectState, multiSelectable, selected } = useStoreStateObject(store, {\n      resetValueOnSelectState: \"resetValueOnSelect\",\n      multiSelectable(state) {\n        return Array.isArray(state.selectedValue);\n      },\n      selected(state) {\n        return isSelected(state.selectedValue, value);\n      }\n    });\n    const getItem = useCallback(\n      (item) => {\n        const nextItem = __spreadProps(__spreadValues({}, item), { value });\n        if (getItemProp) {\n          return getItemProp(nextItem);\n        }\n        return nextItem;\n      },\n      [value, getItemProp]\n    );\n    setValueOnClick = setValueOnClick != null ? setValueOnClick : !multiSelectable;\n    hideOnClick = hideOnClick != null ? hideOnClick : value != null && !multiSelectable;\n    const onClickProp = props.onClick;\n    const setValueOnClickProp = useBooleanEvent(setValueOnClick);\n    const selectValueOnClickProp = useBooleanEvent(selectValueOnClick);\n    const resetValueOnSelectProp = useBooleanEvent(\n      (_a2 = resetValueOnSelect != null ? resetValueOnSelect : resetValueOnSelectState) != null ? _a2 : multiSelectable\n    );\n    const hideOnClickProp = useBooleanEvent(hideOnClick);\n    const onClick = useEvent((event) => {\n      onClickProp == null ? void 0 : onClickProp(event);\n      if (event.defaultPrevented) return;\n      if (isDownloading(event)) return;\n      if (isOpeningInNewTab(event)) return;\n      if (value != null) {\n        if (selectValueOnClickProp(event)) {\n          if (resetValueOnSelectProp(event)) {\n            store == null ? void 0 : store.resetValue();\n          }\n          store == null ? void 0 : store.setSelectedValue((prevValue) => {\n            if (!Array.isArray(prevValue)) return value;\n            if (prevValue.includes(value)) {\n              return prevValue.filter((v) => v !== value);\n            }\n            return [...prevValue, value];\n          });\n        }\n        if (setValueOnClickProp(event)) {\n          store == null ? void 0 : store.setValue(value);\n        }\n      }\n      if (hideOnClickProp(event)) {\n        store == null ? void 0 : store.hide();\n      }\n    });\n    const onKeyDownProp = props.onKeyDown;\n    const onKeyDown = useEvent((event) => {\n      onKeyDownProp == null ? void 0 : onKeyDownProp(event);\n      if (event.defaultPrevented) return;\n      const baseElement = store == null ? void 0 : store.getState().baseElement;\n      if (!baseElement) return;\n      if (hasFocus(baseElement)) return;\n      const printable = event.key.length === 1;\n      if (printable || event.key === \"Backspace\" || event.key === \"Delete\") {\n        queueMicrotask(() => baseElement.focus());\n        if (isTextField(baseElement)) {\n          store == null ? void 0 : store.setValue(baseElement.value);\n        }\n      }\n    });\n    if (multiSelectable && selected != null) {\n      props = __spreadValues({\n        \"aria-selected\": selected\n      }, props);\n    }\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(ComboboxItemValueContext.Provider, { value, children: /* @__PURE__ */ jsx(ComboboxItemCheckedContext.Provider, { value: selected != null ? selected : false, children: element }) }),\n      [value, selected]\n    );\n    const popupRole = useContext(ComboboxListRoleContext);\n    props = __spreadProps(__spreadValues({\n      role: getItemRole(popupRole),\n      children: value\n    }, props), {\n      onClick,\n      onKeyDown\n    });\n    const moveOnKeyPressProp = useBooleanEvent(moveOnKeyPress);\n    props = useCompositeItem(__spreadProps(__spreadValues({\n      store\n    }, props), {\n      getItem,\n      // Dispatch a custom event on the combobox input when moving to an item\n      // with the keyboard so the Combobox component can enable inline\n      // autocompletion.\n      moveOnKeyPress: (event) => {\n        if (!moveOnKeyPressProp(event)) return false;\n        const moveEvent = new Event(\"combobox-item-move\");\n        const baseElement = store == null ? void 0 : store.getState().baseElement;\n        baseElement == null ? void 0 : baseElement.dispatchEvent(moveEvent);\n        return true;\n      }\n    }));\n    props = useCompositeHover(__spreadValues({ store, focusOnHover }, props));\n    return props;\n  }\n);\nvar ComboboxItem = memo(\n  forwardRef(function ComboboxItem2(props) {\n    const htmlProps = useComboboxItem(props);\n    return createElement(TagName, htmlProps);\n  })\n);\n\nexport {\n  useComboboxItem,\n  ComboboxItem\n};\n", "\"use client\";\nimport {\n  useComboboxProviderContext\n} from \"../__chunks/VEVQD5MH.js\";\nimport \"../__chunks/P7GR5CS5.js\";\nimport \"../__chunks/VDHZ5F7K.js\";\nimport \"../__chunks/MTZPJQMC.js\";\nimport \"../__chunks/RS7LB2H4.js\";\nimport \"../__chunks/S6EF7IVO.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef,\n  memo\n} from \"../__chunks/LMDWO4NN.js\";\nimport \"../__chunks/ABQUS43J.js\";\nimport \"../__chunks/SK3NAZA3.js\";\nimport {\n  __objRest,\n  __spreadValues\n} from \"../__chunks/3YLGPPWQ.js\";\n\n// src/combobox/combobox-label.tsx\nimport { invariant, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nvar TagName = \"label\";\nvar useComboboxLabel = createHook(\n  function useComboboxLabel2(_a) {\n    var _b = _a, { store } = _b, props = __objRest(_b, [\"store\"]);\n    const context = useComboboxProviderContext();\n    store = store || context;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"ComboboxLabel must receive a `store` prop or be wrapped in a ComboboxProvider component.\"\n    );\n    const comboboxId = store.useState((state) => {\n      var _a2;\n      return (_a2 = state.baseElement) == null ? void 0 : _a2.id;\n    });\n    props = __spreadValues({\n      htmlFor: comboboxId\n    }, props);\n    return removeUndefinedValues(props);\n  }\n);\nvar ComboboxLabel = memo(\n  forwardRef(function ComboboxLabel2(props) {\n    const htmlProps = useComboboxLabel(props);\n    return createElement(TagName, htmlProps);\n  })\n);\nexport {\n  ComboboxLabel,\n  useComboboxLabel\n};\n", "\"use client\";\nimport {\n  DialogScopedContextProvider\n} from \"./RS7LB2H4.js\";\nimport {\n  useDisclosureProviderContext\n} from \"./S6EF7IVO.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useStoreState\n} from \"./YV4JVR4I.js\";\nimport {\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/disclosure/disclosure-content.tsx\nimport { invariant, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nimport { useMemo, useRef, useState } from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nfunction afterTimeout(timeoutMs, cb) {\n  const timeoutId = setTimeout(cb, timeoutMs);\n  return () => clearTimeout(timeoutId);\n}\nfunction afterPaint(cb) {\n  let raf = requestAnimationFrame(() => {\n    raf = requestAnimationFrame(cb);\n  });\n  return () => cancelAnimationFrame(raf);\n}\nfunction parseCSSTime(...times) {\n  return times.join(\", \").split(\", \").reduce((longestTime, currentTimeString) => {\n    const multiplier = currentTimeString.endsWith(\"ms\") ? 1 : 1e3;\n    const currentTime = Number.parseFloat(currentTimeString || \"0s\") * multiplier;\n    if (currentTime > longestTime) return currentTime;\n    return longestTime;\n  }, 0);\n}\nfunction isHidden(mounted, hidden, alwaysVisible) {\n  return !alwaysVisible && hidden !== false && (!mounted || !!hidden);\n}\nvar useDisclosureContent = createHook(function useDisclosureContent2(_a) {\n  var _b = _a, { store, alwaysVisible } = _b, props = __objRest(_b, [\"store\", \"alwaysVisible\"]);\n  const context = useDisclosureProviderContext();\n  store = store || context;\n  invariant(\n    store,\n    process.env.NODE_ENV !== \"production\" && \"DisclosureContent must receive a `store` prop or be wrapped in a DisclosureProvider component.\"\n  );\n  const ref = useRef(null);\n  const id = useId(props.id);\n  const [transition, setTransition] = useState(null);\n  const open = store.useState(\"open\");\n  const mounted = store.useState(\"mounted\");\n  const animated = store.useState(\"animated\");\n  const contentElement = store.useState(\"contentElement\");\n  const otherElement = useStoreState(store.disclosure, \"contentElement\");\n  useSafeLayoutEffect(() => {\n    if (!ref.current) return;\n    store == null ? void 0 : store.setContentElement(ref.current);\n  }, [store]);\n  useSafeLayoutEffect(() => {\n    let previousAnimated;\n    store == null ? void 0 : store.setState(\"animated\", (animated2) => {\n      previousAnimated = animated2;\n      return true;\n    });\n    return () => {\n      if (previousAnimated === void 0) return;\n      store == null ? void 0 : store.setState(\"animated\", previousAnimated);\n    };\n  }, [store]);\n  useSafeLayoutEffect(() => {\n    if (!animated) return;\n    if (!(contentElement == null ? void 0 : contentElement.isConnected)) {\n      setTransition(null);\n      return;\n    }\n    return afterPaint(() => {\n      setTransition(open ? \"enter\" : mounted ? \"leave\" : null);\n    });\n  }, [animated, contentElement, open, mounted]);\n  useSafeLayoutEffect(() => {\n    if (!store) return;\n    if (!animated) return;\n    if (!transition) return;\n    if (!contentElement) return;\n    const stopAnimation = () => store == null ? void 0 : store.setState(\"animating\", false);\n    const stopAnimationSync = () => flushSync(stopAnimation);\n    if (transition === \"leave\" && open) return;\n    if (transition === \"enter\" && !open) return;\n    if (typeof animated === \"number\") {\n      const timeout2 = animated;\n      return afterTimeout(timeout2, stopAnimationSync);\n    }\n    const {\n      transitionDuration,\n      animationDuration,\n      transitionDelay,\n      animationDelay\n    } = getComputedStyle(contentElement);\n    const {\n      transitionDuration: transitionDuration2 = \"0\",\n      animationDuration: animationDuration2 = \"0\",\n      transitionDelay: transitionDelay2 = \"0\",\n      animationDelay: animationDelay2 = \"0\"\n    } = otherElement ? getComputedStyle(otherElement) : {};\n    const delay = parseCSSTime(\n      transitionDelay,\n      animationDelay,\n      transitionDelay2,\n      animationDelay2\n    );\n    const duration = parseCSSTime(\n      transitionDuration,\n      animationDuration,\n      transitionDuration2,\n      animationDuration2\n    );\n    const timeout = delay + duration;\n    if (!timeout) {\n      if (transition === \"enter\") {\n        store.setState(\"animated\", false);\n      }\n      stopAnimation();\n      return;\n    }\n    const frameRate = 1e3 / 60;\n    const maxTimeout = Math.max(timeout - frameRate, 0);\n    return afterTimeout(maxTimeout, stopAnimationSync);\n  }, [store, animated, contentElement, otherElement, open, transition]);\n  props = useWrapElement(\n    props,\n    (element) => /* @__PURE__ */ jsx(DialogScopedContextProvider, { value: store, children: element }),\n    [store]\n  );\n  const hidden = isHidden(mounted, props.hidden, alwaysVisible);\n  const styleProp = props.style;\n  const style = useMemo(() => {\n    if (hidden) {\n      return __spreadProps(__spreadValues({}, styleProp), { display: \"none\" });\n    }\n    return styleProp;\n  }, [hidden, styleProp]);\n  props = __spreadProps(__spreadValues({\n    id,\n    \"data-open\": open || void 0,\n    \"data-enter\": transition === \"enter\" || void 0,\n    \"data-leave\": transition === \"leave\" || void 0,\n    hidden\n  }, props), {\n    ref: useMergeRefs(id ? store.setContentElement : null, ref, props.ref),\n    style\n  });\n  return removeUndefinedValues(props);\n});\nvar DisclosureContentImpl = forwardRef(function DisclosureContentImpl2(props) {\n  const htmlProps = useDisclosureContent(props);\n  return createElement(TagName, htmlProps);\n});\nvar DisclosureContent = forwardRef(function DisclosureContent2(_a) {\n  var _b = _a, {\n    unmountOnHide\n  } = _b, props = __objRest(_b, [\n    \"unmountOnHide\"\n  ]);\n  const context = useDisclosureProviderContext();\n  const store = props.store || context;\n  const mounted = useStoreState(\n    store,\n    (state) => !unmountOnHide || (state == null ? void 0 : state.mounted)\n  );\n  if (mounted === false) return null;\n  return /* @__PURE__ */ jsx(DisclosureContentImpl, __spreadValues({}, props));\n});\n\nexport {\n  isHidden,\n  useDisclosureContent,\n  DisclosureContent\n};\n", "\"use client\";\nimport {\n  ComboboxListRoleContext,\n  ComboboxScopedContextProvider,\n  useComboboxContext,\n  useComboboxScopedContext\n} from \"./VEVQD5MH.js\";\nimport {\n  isHidden\n} from \"./VGCJ63VH.js\";\nimport {\n  createElement,\n  createHook,\n  forwardRef\n} from \"./LMDWO4NN.js\";\nimport {\n  useAttribute,\n  useId,\n  useMergeRefs,\n  useSafeLayoutEffect,\n  useWrapElement\n} from \"./ABQUS43J.js\";\nimport {\n  __objRest,\n  __spreadProps,\n  __spreadValues\n} from \"./3YLGPPWQ.js\";\n\n// src/combobox/combobox-list.tsx\nimport { invariant, removeUndefinedValues } from \"@ariakit/core/utils/misc\";\nimport { useRef, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TagName = \"div\";\nvar useComboboxList = createHook(\n  function useComboboxList2(_a) {\n    var _b = _a, { store, alwaysVisible } = _b, props = __objRest(_b, [\"store\", \"alwaysVisible\"]);\n    const scopedContext = useComboboxScopedContext(true);\n    const context = useComboboxContext();\n    store = store || context;\n    const scopedContextSameStore = !!store && store === scopedContext;\n    invariant(\n      store,\n      process.env.NODE_ENV !== \"production\" && \"ComboboxList must receive a `store` prop or be wrapped in a ComboboxProvider component.\"\n    );\n    const ref = useRef(null);\n    const id = useId(props.id);\n    const mounted = store.useState(\"mounted\");\n    const hidden = isHidden(mounted, props.hidden, alwaysVisible);\n    const style = hidden ? __spreadProps(__spreadValues({}, props.style), { display: \"none\" }) : props.style;\n    const multiSelectable = store.useState(\n      (state) => Array.isArray(state.selectedValue)\n    );\n    const role = useAttribute(ref, \"role\", props.role);\n    const isCompositeRole = role === \"listbox\" || role === \"tree\" || role === \"grid\";\n    const ariaMultiSelectable = isCompositeRole ? multiSelectable || void 0 : void 0;\n    const [hasListboxInside, setHasListboxInside] = useState(false);\n    const contentElement = store.useState(\"contentElement\");\n    useSafeLayoutEffect(() => {\n      if (!mounted) return;\n      const element = ref.current;\n      if (!element) return;\n      if (contentElement !== element) return;\n      const callback = () => {\n        setHasListboxInside(!!element.querySelector(\"[role='listbox']\"));\n      };\n      const observer = new MutationObserver(callback);\n      observer.observe(element, {\n        subtree: true,\n        childList: true,\n        attributeFilter: [\"role\"]\n      });\n      callback();\n      return () => observer.disconnect();\n    }, [mounted, contentElement]);\n    if (!hasListboxInside) {\n      props = __spreadValues({\n        role: \"listbox\",\n        \"aria-multiselectable\": ariaMultiSelectable\n      }, props);\n    }\n    props = useWrapElement(\n      props,\n      (element) => /* @__PURE__ */ jsx(ComboboxScopedContextProvider, { value: store, children: /* @__PURE__ */ jsx(ComboboxListRoleContext.Provider, { value: role, children: element }) }),\n      [store, role]\n    );\n    const setContentElement = id && (!scopedContext || !scopedContextSameStore) ? store.setContentElement : null;\n    props = __spreadProps(__spreadValues({\n      id,\n      hidden\n    }, props), {\n      ref: useMergeRefs(setContentElement, ref, props.ref),\n      style\n    });\n    return removeUndefinedValues(props);\n  }\n);\nvar ComboboxList = forwardRef(function ComboboxList2(props) {\n  const htmlProps = useComboboxList(props);\n  return createElement(TagName, htmlProps);\n});\n\nexport {\n  useComboboxList,\n  ComboboxList\n};\n", "/**\n * External dependencies\n */\n// eslint-disable-next-line no-restricted-imports\nimport * as Ariakit from '@ariakit/react';\nimport removeAccents from 'remove-accents';\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useMemo, useDeferredValue } from '@wordpress/element';\nimport {\n\tVisuallyHidden,\n\tIcon,\n\tComposite,\n\tSpinner,\n} from '@wordpress/components';\nimport { search, check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getCurrentValue } from './utils';\nimport type { Filter, NormalizedFilter, View, Option } from '../../types';\nimport useElements from '../../hooks/use-elements';\n\ninterface SearchWidgetProps {\n\tview: View;\n\tfilter: NormalizedFilter & {\n\t\telements: Option[];\n\t};\n\tonChangeView: ( view: View ) => void;\n}\n\nfunction normalizeSearchInput( input = '' ) {\n\treturn removeAccents( input.trim().toLowerCase() );\n}\n\nconst getNewValue = (\n\tfilterDefinition: NormalizedFilter,\n\tcurrentFilter: Filter | undefined,\n\tvalue: any\n) => {\n\tif ( filterDefinition.singleSelection ) {\n\t\treturn value;\n\t}\n\n\tif ( Array.isArray( currentFilter?.value ) ) {\n\t\treturn currentFilter.value.includes( value )\n\t\t\t? currentFilter.value.filter( ( v ) => v !== value )\n\t\t\t: [ ...currentFilter.value, value ];\n\t}\n\n\treturn [ value ];\n};\n\nfunction generateFilterElementCompositeItemId(\n\tprefix: string,\n\tfilterElementValue: string\n) {\n\treturn `${ prefix }-${ filterElementValue }`;\n}\n\nconst MultiSelectionOption = ( { selected }: { selected: boolean } ) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={ clsx(\n\t\t\t\t'dataviews-filters__search-widget-listitem-multi-selection',\n\t\t\t\t{ 'is-selected': selected }\n\t\t\t) }\n\t\t>\n\t\t\t{ selected && <Icon icon={ check } /> }\n\t\t</span>\n\t);\n};\n\nconst SingleSelectionOption = ( { selected }: { selected: boolean } ) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={ clsx(\n\t\t\t\t'dataviews-filters__search-widget-listitem-single-selection',\n\t\t\t\t{ 'is-selected': selected }\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nfunction ListBox( { view, filter, onChangeView }: SearchWidgetProps ) {\n\tconst baseId = useInstanceId( ListBox, 'dataviews-filter-list-box' );\n\n\tconst [ activeCompositeId, setActiveCompositeId ] = useState<\n\t\tstring | null | undefined\n\t>(\n\t\t// When there are one or less operators, the first item is set as active\n\t\t// (by setting the initial `activeId` to `undefined`).\n\t\t// With 2 or more operators, the focus is moved on the operators control\n\t\t// (by setting the initial `activeId` to `null`), meaning that there won't\n\t\t// be an active item initially. Focus is then managed via the\n\t\t// `onFocusVisible` callback.\n\t\tfilter.operators?.length === 1 ? undefined : null\n\t);\n\tconst currentFilter = view.filters?.find(\n\t\t( f ) => f.field === filter.field\n\t);\n\tconst currentValue = getCurrentValue( filter, currentFilter );\n\treturn (\n\t\t<Composite\n\t\t\tvirtualFocus\n\t\t\tfocusLoop\n\t\t\tactiveId={ activeCompositeId }\n\t\t\tsetActiveId={ setActiveCompositeId }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"dataviews-filters__search-widget-listbox\"\n\t\t\taria-label={ sprintf(\n\t\t\t\t/* translators: List of items for a filter. 1: Filter name. e.g.: \"List of: Author\". */\n\t\t\t\t__( 'List of: %1$s' ),\n\t\t\t\tfilter.name\n\t\t\t) }\n\t\t\tonFocusVisible={ () => {\n\t\t\t\t// `onFocusVisible` needs the `Composite` component to be focusable,\n\t\t\t\t// which is implicitly achieved via the `virtualFocus` prop.\n\t\t\t\tif ( ! activeCompositeId && filter.elements.length ) {\n\t\t\t\t\tsetActiveCompositeId(\n\t\t\t\t\t\tgenerateFilterElementCompositeItemId(\n\t\t\t\t\t\t\tbaseId,\n\t\t\t\t\t\t\tfilter.elements[ 0 ].value\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t\trender={ <Composite.Typeahead /> }\n\t\t>\n\t\t\t{ filter.elements.map( ( element ) => (\n\t\t\t\t<Composite.Hover\n\t\t\t\t\tkey={ element.value }\n\t\t\t\t\trender={\n\t\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\t\tid={ generateFilterElementCompositeItemId(\n\t\t\t\t\t\t\t\tbaseId,\n\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\taria-label={ element.label }\n\t\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-filters__search-widget-listitem\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tconst newFilters = currentFilter\n\t\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ).map(\n\t\t\t\t\t\t\t\t\t\t\t\t( _filter ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_filter.field ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter.field\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toperator:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentFilter.operator ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: getNewValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentFilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _filter;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t\t\t...( view.filters ?? [] ),\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\t\t\t\t\toperator: filter.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: getNewValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\tfilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentFilter,\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t  ];\n\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\tfilters: newFilters,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ filter.singleSelection && (\n\t\t\t\t\t\t<SingleSelectionOption\n\t\t\t\t\t\t\tselected={ currentValue === element.value }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! filter.singleSelection && (\n\t\t\t\t\t\t<MultiSelectionOption\n\t\t\t\t\t\t\tselected={ currentValue.includes( element.value ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<span>{ element.label }</span>\n\t\t\t\t</Composite.Hover>\n\t\t\t) ) }\n\t\t</Composite>\n\t);\n}\n\nfunction ComboboxList( { view, filter, onChangeView }: SearchWidgetProps ) {\n\tconst [ searchValue, setSearchValue ] = useState( '' );\n\tconst deferredSearchValue = useDeferredValue( searchValue );\n\tconst currentFilter = view.filters?.find(\n\t\t( _filter ) => _filter.field === filter.field\n\t);\n\tconst currentValue = getCurrentValue( filter, currentFilter );\n\tconst matches = useMemo( () => {\n\t\tconst normalizedSearch = normalizeSearchInput( deferredSearchValue );\n\t\treturn filter.elements.filter( ( item ) =>\n\t\t\tnormalizeSearchInput( item.label ).includes( normalizedSearch )\n\t\t);\n\t}, [ filter.elements, deferredSearchValue ] );\n\treturn (\n\t\t<Ariakit.ComboboxProvider\n\t\t\tselectedValue={ currentValue }\n\t\t\tsetSelectedValue={ ( value ) => {\n\t\t\t\tconst newFilters = currentFilter\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t...( view.filters ?? [] ).map( ( _filter ) => {\n\t\t\t\t\t\t\t\tif ( _filter.field === filter.field ) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\t\t\t\toperator:\n\t\t\t\t\t\t\t\t\t\t\tcurrentFilter.operator ||\n\t\t\t\t\t\t\t\t\t\t\tfilter.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn _filter;\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t  ]\n\t\t\t\t\t: [\n\t\t\t\t\t\t\t...( view.filters ?? [] ),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\toperator: filter.operators[ 0 ],\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  ];\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tfilters: newFilters,\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tsetValue={ setSearchValue }\n\t\t>\n\t\t\t<div className=\"dataviews-filters__search-widget-filter-combobox__wrapper\">\n\t\t\t\t<Ariakit.ComboboxLabel\n\t\t\t\t\trender={\n\t\t\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t\t\t{ __( 'Search items' ) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Search items' ) }\n\t\t\t\t</Ariakit.ComboboxLabel>\n\t\t\t\t<Ariakit.Combobox\n\t\t\t\t\tautoSelect=\"always\"\n\t\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t\t\tclassName=\"dataviews-filters__search-widget-filter-combobox__input\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"dataviews-filters__search-widget-filter-combobox__icon\">\n\t\t\t\t\t<Icon icon={ search } />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Ariakit.ComboboxList\n\t\t\t\tclassName=\"dataviews-filters__search-widget-filter-combobox-list\"\n\t\t\t\talwaysVisible\n\t\t\t>\n\t\t\t\t{ matches.map( ( element ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Ariakit.ComboboxItem\n\t\t\t\t\t\t\tresetValueOnSelect={ false }\n\t\t\t\t\t\t\tkey={ element.value }\n\t\t\t\t\t\t\tvalue={ element.value }\n\t\t\t\t\t\t\tclassName=\"dataviews-filters__search-widget-listitem\"\n\t\t\t\t\t\t\thideOnClick={ false }\n\t\t\t\t\t\t\tsetValueOnClick={ false }\n\t\t\t\t\t\t\tfocusOnHover\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ filter.singleSelection && (\n\t\t\t\t\t\t\t\t<SingleSelectionOption\n\t\t\t\t\t\t\t\t\tselected={ currentValue === element.value }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ! filter.singleSelection && (\n\t\t\t\t\t\t\t\t<MultiSelectionOption\n\t\t\t\t\t\t\t\t\tselected={ currentValue.includes(\n\t\t\t\t\t\t\t\t\t\telement.value\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Ariakit.ComboboxItemValue\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-filters__search-widget-filter-combobox-item-value\"\n\t\t\t\t\t\t\t\t\tvalue={ element.label }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ !! element.description && (\n\t\t\t\t\t\t\t\t\t<span className=\"dataviews-filters__search-widget-listitem-description\">\n\t\t\t\t\t\t\t\t\t\t{ element.description }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Ariakit.ComboboxItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t\t{ ! matches.length && <p>{ __( 'No results found' ) }</p> }\n\t\t\t</Ariakit.ComboboxList>\n\t\t</Ariakit.ComboboxProvider>\n\t);\n}\n\nexport default function SearchWidget( props: SearchWidgetProps ) {\n\tconst { elements, isLoading } = useElements( {\n\t\telements: props.filter.elements,\n\t\tgetElements: props.filter.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<div className=\"dataviews-filters__search-widget-no-elements\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn (\n\t\t\t<div className=\"dataviews-filters__search-widget-no-elements\">\n\t\t\t\t{ __( 'No elements found' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst Widget = elements.length > 10 ? ComboboxList : ListBox;\n\treturn <Widget { ...props } filter={ { ...props.filter, elements } } />;\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedFilter, Filter } from '../../types';\n\nconst EMPTY_ARRAY: [] = [];\n\nexport const getCurrentValue = (\n\tfilterDefinition: NormalizedFilter,\n\tcurrentFilter?: Filter\n) => {\n\tif ( filterDefinition.singleSelection ) {\n\t\treturn currentFilter?.value;\n\t}\n\n\tif ( Array.isArray( currentFilter?.value ) ) {\n\t\treturn currentFilter.value;\n\t}\n\n\tif ( ! Array.isArray( currentFilter?.value ) && !! currentFilter?.value ) {\n\t\treturn [ currentFilter.value ];\n\t}\n\n\treturn EMPTY_ARRAY;\n};\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { Option } from '../types';\n\nconst EMPTY_ARRAY: Option[] = [];\n\nexport default function useElements( {\n\telements,\n\tgetElements,\n}: {\n\telements?: Option[];\n\tgetElements?: () => Promise< Option[] >;\n} ) {\n\tconst staticElements =\n\t\tArray.isArray( elements ) && elements.length > 0\n\t\t\t? elements\n\t\t\t: EMPTY_ARRAY;\n\tconst [ records, setRecords ] = useState< Option[] >( staticElements );\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\n\tuseEffect( () => {\n\t\tif ( ! getElements ) {\n\t\t\tsetRecords( staticElements );\n\t\t\treturn;\n\t\t}\n\n\t\tlet cancelled = false;\n\t\tsetIsLoading( true );\n\t\tgetElements()\n\t\t\t.then( ( fetchedElements ) => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tconst dynamicElements =\n\t\t\t\t\t\tArray.isArray( fetchedElements ) &&\n\t\t\t\t\t\tfetchedElements.length > 0\n\t\t\t\t\t\t\t? fetchedElements\n\t\t\t\t\t\t\t: staticElements;\n\t\t\t\t\tsetRecords( dynamicElements );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tsetRecords( staticElements );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.finally( () => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tsetIsLoading( false );\n\t\t\t\t}\n\t\t\t} );\n\n\t\treturn () => {\n\t\t\tcancelled = true;\n\t\t};\n\t}, [ getElements, staticElements ] );\n\n\treturn {\n\t\telements: records,\n\t\tisLoading,\n\t};\n}\n", "/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { useEvent } from '@wordpress/compose';\nimport { useMemo } from '@wordpress/element';\nimport { Flex } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { View, NormalizedFilter, NormalizedField } from '../../types';\nimport { getCurrentValue } from './utils';\n\ninterface UserInputWidgetProps {\n\tview: View;\n\tfilter: NormalizedFilter;\n\tonChangeView: ( view: View ) => void;\n\tfields: NormalizedField< any >[];\n}\n\nexport default function InputWidget( {\n\tfilter,\n\tview,\n\tonChangeView,\n\tfields,\n}: UserInputWidgetProps ) {\n\tconst currentFilter = view.filters?.find(\n\t\t( f ) => f.field === filter.field\n\t);\n\tconst currentValue = getCurrentValue( filter, currentFilter );\n\n\t/*\n\t * We are reusing the field.Edit component for filters. By doing so,\n\t * we get for free a filter control specific to the field type\n\t * and other aspects of the field API (Edit control configuration, etc.).\n\t *\n\t * This approach comes with an issue: the field.Edit controls work with getValue\n\t * and setValue methods, which take an item (Item) as parameter. But, at this point,\n\t * we don't have an item and we don't know how to create one, either.\n\t *\n\t * So, what we do is to prepare the data and the relevant field configuration\n\t * as if Item was a plain object whose keys are the field ids:\n\t *\n\t * {\n\t *   [ fieldOne.id ]: value,\n\t *   [ fieldTwo.id ]: value,\n\t * }\n\t *\n\t */\n\tconst field = useMemo( () => {\n\t\tconst currentField = fields.find( ( f ) => f.id === filter.field );\n\t\tif ( currentField ) {\n\t\t\treturn {\n\t\t\t\t...currentField,\n\t\t\t\t// Deactivate validation for filters.\n\t\t\t\tisValid: {\n\t\t\t\t\trequired: false,\n\t\t\t\t\tcustom: () => null,\n\t\t\t\t},\n\t\t\t\t// Configure getValue/setValue as if Item was a plain object.\n\t\t\t\tgetValue: ( { item }: { item: any } ) =>\n\t\t\t\t\titem[ currentField.id ],\n\t\t\t\tsetValue: ( { value }: { value: any } ) => ( {\n\t\t\t\t\t[ currentField.id ]: value,\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\t\treturn currentField;\n\t}, [ fields, filter.field ] );\n\n\tconst data = useMemo( () => {\n\t\treturn ( view.filters ?? [] ).reduce(\n\t\t\t( acc, activeFilter ) => {\n\t\t\t\t// We can now assume the field is stored as a Item prop.\n\t\t\t\tacc[ activeFilter.field ] = activeFilter.value;\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{} as Record< string, any >\n\t\t);\n\t}, [ view.filters ] );\n\n\tconst handleChange = useEvent( ( updatedData: Record< string, any > ) => {\n\t\tif ( ! field || ! currentFilter ) {\n\t\t\treturn;\n\t\t}\n\t\tconst nextValue = field.getValue( { item: updatedData } );\n\t\tif ( fastDeepEqual( nextValue, currentValue ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tonChangeView( {\n\t\t\t...view,\n\t\t\tfilters: ( view.filters ?? [] ).map( ( _filter ) =>\n\t\t\t\t_filter.field === filter.field\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t..._filter,\n\t\t\t\t\t\t\toperator:\n\t\t\t\t\t\t\t\tcurrentFilter.operator || filter.operators[ 0 ],\n\t\t\t\t\t\t\t// Consider empty strings as undefined:\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// - undefined as value means the filter is unset: the filter widget displays no value and the search returns all records\n\t\t\t\t\t\t\t// - empty string as value means \"search empty string\": returns only the records that have an empty string as value\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// In practice, this means the filter will not be able to find an empty string as the value.\n\t\t\t\t\t\t\tvalue: nextValue === '' ? undefined : nextValue,\n\t\t\t\t\t  }\n\t\t\t\t\t: _filter\n\t\t\t),\n\t\t} );\n\t} );\n\n\tif ( ! field || ! field.Edit || ! currentFilter ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Flex\n\t\t\tclassName=\"dataviews-filters__user-input-widget\"\n\t\t\tgap={ 2.5 }\n\t\t\tdirection=\"column\"\n\t\t>\n\t\t\t<field.Edit\n\t\t\t\thideLabelFromVision\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\toperator={ currentFilter.operator }\n\t\t\t\tonChange={ handleChange }\n\t\t\t/>\n\t\t</Flex>\n\t);\n}\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n", "import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n", "import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n", "let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n", "import { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfISOWeek} function options.\n */\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeekYear} function options.\n */\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n", "import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n", "import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n", "import { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInDay } from \"./constants.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link differenceInCalendarDays} function options.\n */\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - The options object\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n\n  const laterTimestamp =\n    +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp =\n    +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\n\n/**\n * The {@link startOfISOWeekYear} function options.\n */\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n", "import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link addWeeks} function options.\n */\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of weeks to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n * @param options - An object with options\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount, options) {\n  return addDays(date, amount * 7, options);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The {@link addYears} function options.\n */\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n * @param options - The options\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount, options) {\n  return addMonths(date, amount * 12, options);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n", "/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n", "import { isDate } from \"./isDate.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertible into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  return !((!isDate(date) && typeof date !== \"number\") || isNaN(+toDate(date)));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfYear} function options.\n */\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n", "const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n", "export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n", "/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n", "export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n", "export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\nimport { startOfYear } from \"./startOfYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDayOfYear} function options.\n */\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeek} function options.\n */\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getWeekYear } from \"./getWeekYear.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(options?.in || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\nexport function getWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n", "export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n", "import { addLeadingZeros } from \"../addLeadingZeros.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n", "import { getDayOfYear } from \"../../getDayOfYear.js\";\nimport { getISOWeek } from \"../../getISOWeek.js\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.js\";\nimport { getWeek } from \"../../getWeek.js\";\nimport { getWeekYear } from \"../../getWeekYear.js\";\n\nimport { addLeadingZeros } from \"../addLeadingZeros.js\";\nimport { lightFormatters } from \"./lightFormatters.js\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n", "const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n", "const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n", "import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { formatters } from \"./_lib/format/formatters.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { isValid } from \"./isValid.js\";\nimport { toDate } from \"./toDate.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date, options?.in);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n", "import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link subDays} function options.\n */\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount, options) {\n  return addDays(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The subMonths function options.\n */\n\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function subMonths(date, amount, options) {\n  return addMonths(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subMonths;\n", "import { addWeeks } from \"./addWeeks.js\";\n\n/**\n * The {@link subWeeks} function options.\n */\n\n/**\n * @name subWeeks\n * @category Week Helpers\n * @summary Subtract the specified number of weeks from the given date.\n *\n * @description\n * Subtract the specified number of weeks from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the weeks subtracted\n *\n * @example\n * // Subtract 4 weeks from 1 September 2014:\n * const result = subWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Aug 04 2014 00:00:00\n */\nexport function subWeeks(date, amount, options) {\n  return addWeeks(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subWeeks;\n", "import { addYears } from \"./addYears.js\";\n\n/**\n * The {@link subYears} function options.\n */\n\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the years subtracted\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\nexport function subYears(date, amount, options) {\n  return addYears(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subYears;\n", "/**\n * External dependencies\n */\nimport { isValid as isValidDate } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { getDate } from '@wordpress/date';\n\nexport default function parseDateTime( dateTimeString?: string ): Date | null {\n\tif ( ! dateTimeString ) {\n\t\treturn null;\n\t}\n\tconst parsed = getDate( dateTimeString );\n\treturn parsed && isValidDate( parsed ) ? parsed : null;\n}\n", "/**\n * External dependencies\n */\nimport type { Ref } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis as componentsPrivateApis,\n\tButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport type { NormalizedFilter, View } from '../../types';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\ninterface AddFilterProps {\n\tfilters: NormalizedFilter[];\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n\tsetOpenedFilter: ( filter: string | null ) => void;\n}\n\nexport function AddFilterMenu( {\n\tfilters,\n\tview,\n\tonChangeView,\n\tsetOpenedFilter,\n\ttriggerProps,\n}: AddFilterProps & {\n\ttriggerProps: React.ComponentProps< typeof Menu.TriggerButton >;\n} ) {\n\tconst inactiveFilters = filters.filter( ( filter ) => ! filter.isVisible );\n\treturn (\n\t\t<Menu>\n\t\t\t<Menu.TriggerButton { ...triggerProps } />\n\t\t\t<Menu.Popover>\n\t\t\t\t{ inactiveFilters.map( ( filter ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\tkey={ filter.field }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetOpenedFilter( filter.field );\n\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\t\t\tfilters: [\n\t\t\t\t\t\t\t\t\t\t...( view.filters || [] ),\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfield: filter.field,\n\t\t\t\t\t\t\t\t\t\t\tvalue: undefined,\n\t\t\t\t\t\t\t\t\t\t\toperator: filter.operators[ 0 ],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Menu.ItemLabel>{ filter.name }</Menu.ItemLabel>\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n}\n\nfunction AddFilter(\n\t{ filters, view, onChangeView, setOpenedFilter }: AddFilterProps,\n\tref: Ref< HTMLButtonElement >\n) {\n\tif ( ! filters.length || filters.every( ( { isPrimary } ) => isPrimary ) ) {\n\t\treturn null;\n\t}\n\tconst inactiveFilters = filters.filter( ( filter ) => ! filter.isVisible );\n\treturn (\n\t\t<AddFilterMenu\n\t\t\ttriggerProps={ {\n\t\t\t\trender: (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tclassName=\"dataviews-filters-button\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tdisabled={ ! inactiveFilters.length }\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tchildren: __( 'Add filter' ),\n\t\t\t} }\n\t\t\t{ ...{ filters, view, onChangeView, setOpenedFilter } }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( AddFilter );\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedFilter, View } from '../../types';\n\ninterface ResetFilterProps {\n\tfilters: NormalizedFilter[];\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n}\n\nexport default function ResetFilter( {\n\tfilters,\n\tview,\n\tonChangeView,\n}: ResetFilterProps ) {\n\tconst isPrimary = ( field: string ) =>\n\t\tfilters.some(\n\t\t\t( _filter ) => _filter.field === field && _filter.isPrimary\n\t\t);\n\tconst isDisabled =\n\t\t! view.search &&\n\t\t! view.filters?.some(\n\t\t\t( _filter ) =>\n\t\t\t\t! _filter.isLocked &&\n\t\t\t\t( _filter.value !== undefined || ! isPrimary( _filter.field ) )\n\t\t);\n\treturn (\n\t\t<Button\n\t\t\tdisabled={ isDisabled }\n\t\t\taccessibleWhenDisabled\n\t\t\tsize=\"compact\"\n\t\t\tvariant=\"tertiary\"\n\t\t\tclassName=\"dataviews-filters__reset-button\"\n\t\t\tonClick={ () => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tsearch: '',\n\t\t\t\t\tfilters:\n\t\t\t\t\t\tview.filters?.filter( ( f ) => !! f.isLocked ) || [],\n\t\t\t\t} );\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Reset' ) }\n\t\t</Button>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ALL_OPERATORS, SINGLE_SELECTION_OPERATORS } from '../../constants';\nimport type { NormalizedFilter, NormalizedField, View } from '../../types';\n\nfunction useFilters( fields: NormalizedField< any >[], view: View ) {\n\treturn useMemo( () => {\n\t\tconst filters: NormalizedFilter[] = [];\n\t\tfields.forEach( ( field ) => {\n\t\t\tif (\n\t\t\t\tfield.filterBy === false ||\n\t\t\t\t( ! field.hasElements && ! field.Edit )\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst operators = field.filterBy.operators;\n\t\t\tconst isPrimary = !! field.filterBy?.isPrimary;\n\t\t\tconst isLocked =\n\t\t\t\tview.filters?.some(\n\t\t\t\t\t( f ) => f.field === field.id && !! f.isLocked\n\t\t\t\t) ?? false;\n\t\t\tfilters.push( {\n\t\t\t\tfield: field.id,\n\t\t\t\tname: field.label,\n\t\t\t\telements: field.elements,\n\t\t\t\tgetElements: field.getElements,\n\t\t\t\thasElements: field.hasElements,\n\t\t\t\tsingleSelection: operators.some( ( op ) =>\n\t\t\t\t\tSINGLE_SELECTION_OPERATORS.includes( op )\n\t\t\t\t),\n\t\t\t\toperators,\n\t\t\t\tisVisible:\n\t\t\t\t\tisLocked ||\n\t\t\t\t\tisPrimary ||\n\t\t\t\t\t!! view.filters?.some(\n\t\t\t\t\t\t( f ) =>\n\t\t\t\t\t\t\tf.field === field.id &&\n\t\t\t\t\t\t\tALL_OPERATORS.includes( f.operator )\n\t\t\t\t\t),\n\t\t\t\tisPrimary,\n\t\t\t\tisLocked,\n\t\t\t} );\n\t\t} );\n\n\t\t// Sort filters by:\n\t\t// - locked filters go first\n\t\t// - primary filters go next\n\t\t// - then, sort by name\n\t\tfilters.sort( ( a, b ) => {\n\t\t\tif ( a.isLocked && ! b.isLocked ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( ! a.isLocked && b.isLocked ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ( a.isPrimary && ! b.isPrimary ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( ! a.isPrimary && b.isPrimary ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn a.name.localeCompare( b.name );\n\t\t} );\n\t\treturn filters;\n\t}, [ fields, view ] );\n}\n\nexport default useFilters;\n", "/**\n * WordPress dependencies\n */\nimport { useContext, useRef, useCallback, useEffect } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\nimport { funnel } from '@wordpress/icons';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { AddFilterMenu } from './add-filter';\nimport DataViewsContext from '../dataviews-context';\nimport type { View } from '../../types';\n\nfunction FiltersToggle() {\n\tconst {\n\t\tfilters,\n\t\tview,\n\t\tonChangeView,\n\t\tsetOpenedFilter,\n\t\tisShowingFilter,\n\t\tsetIsShowingFilter,\n\t} = useContext( DataViewsContext );\n\n\tconst buttonRef = useRef< HTMLButtonElement >( null );\n\tconst onChangeViewWithFilterVisibility = useCallback(\n\t\t( _view: View ) => {\n\t\t\tonChangeView( _view );\n\t\t\tsetIsShowingFilter( true );\n\t\t},\n\t\t[ onChangeView, setIsShowingFilter ]\n\t);\n\tconst visibleFilters = filters.filter( ( filter ) => filter.isVisible );\n\n\tconst hasVisibleFilters = !! visibleFilters.length;\n\tif ( filters.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst addFilterButtonProps = {\n\t\tlabel: __( 'Add filter' ),\n\t\t'aria-expanded': false,\n\t\tisPressed: false,\n\t};\n\tconst toggleFiltersButtonProps = {\n\t\tlabel: _x( 'Filter', 'verb' ),\n\t\t'aria-expanded': isShowingFilter,\n\t\tisPressed: isShowingFilter,\n\t\tonClick: () => {\n\t\t\tif ( ! isShowingFilter ) {\n\t\t\t\tsetOpenedFilter( null );\n\t\t\t}\n\t\t\tsetIsShowingFilter( ! isShowingFilter );\n\t\t},\n\t};\n\tconst buttonComponent = (\n\t\t<Button\n\t\t\tref={ buttonRef }\n\t\t\tclassName=\"dataviews-filters__visibility-toggle\"\n\t\t\tsize=\"compact\"\n\t\t\ticon={ funnel }\n\t\t\t{ ...( hasVisibleFilters\n\t\t\t\t? toggleFiltersButtonProps\n\t\t\t\t: addFilterButtonProps ) }\n\t\t/>\n\t);\n\treturn (\n\t\t<div className=\"dataviews-filters__container-visibility-toggle\">\n\t\t\t{ ! hasVisibleFilters ? (\n\t\t\t\t<AddFilterMenu\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tview={ view }\n\t\t\t\t\tonChangeView={ onChangeViewWithFilterVisibility }\n\t\t\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\t\t\ttriggerProps={ { render: buttonComponent } }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<FilterVisibilityToggle\n\t\t\t\t\tbuttonRef={ buttonRef }\n\t\t\t\t\tfiltersCount={ view.filters?.length }\n\t\t\t\t>\n\t\t\t\t\t{ buttonComponent }\n\t\t\t\t</FilterVisibilityToggle>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction FilterVisibilityToggle( {\n\tbuttonRef,\n\tfiltersCount,\n\tchildren,\n}: {\n\tbuttonRef: React.RefObject< HTMLButtonElement >;\n\tfiltersCount?: number;\n\tchildren: React.ReactNode;\n} ) {\n\t// Focus the `add filter` button when unmounts.\n\tuseEffect(\n\t\t() => () => {\n\t\t\tbuttonRef.current?.focus();\n\t\t},\n\t\t[ buttonRef ]\n\t);\n\treturn (\n\t\t<>\n\t\t\t{ children }\n\t\t\t{ !! filtersCount && (\n\t\t\t\t<span className=\"dataviews-filters-toggle__count\">\n\t\t\t\t\t{ filtersCount }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default FiltersToggle;\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport Filters from './filters';\n\nfunction FiltersToggled( props: { className?: string } ) {\n\tconst { isShowingFilter } = useContext( DataViewsContext );\n\tif ( ! isShowingFilter ) {\n\t\treturn null;\n\t}\n\treturn <Filters { ...props } />;\n}\n\nexport default FiltersToggled;\n", "/**\n * External dependencies\n */\nimport type { ComponentType } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport { VIEW_LAYOUTS } from '../../dataviews-layouts';\nimport type { ViewBaseProps } from '../../types';\n\ntype DataViewsLayoutProps = {\n\tclassName?: string;\n};\n\nexport default function DataViewsLayout( { className }: DataViewsLayoutProps ) {\n\tconst {\n\t\tactions = [],\n\t\tdata,\n\t\tfields,\n\t\tgetItemId,\n\t\tgetItemLevel,\n\t\tisLoading,\n\t\tview,\n\t\tonChangeView,\n\t\tselection,\n\t\tonChangeSelection,\n\t\tsetOpenedFilter,\n\t\tonClickItem,\n\t\tisItemClickable,\n\t\trenderItemLink,\n\t\tdefaultLayouts,\n\t\tempty = <p>{ __( 'No results' ) }</p>,\n\t} = useContext( DataViewsContext );\n\n\tconst ViewComponent = VIEW_LAYOUTS.find(\n\t\t( v ) => v.type === view.type && defaultLayouts[ v.type ]\n\t)?.component as ComponentType< ViewBaseProps< any > >;\n\n\treturn (\n\t\t<ViewComponent\n\t\t\tclassName={ className }\n\t\t\tactions={ actions }\n\t\t\tdata={ data }\n\t\t\tfields={ fields }\n\t\t\tgetItemId={ getItemId }\n\t\t\tgetItemLevel={ getItemLevel }\n\t\t\tisLoading={ isLoading }\n\t\t\tonChangeView={ onChangeView }\n\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\tselection={ selection }\n\t\t\tsetOpenedFilter={ setOpenedFilter }\n\t\t\tonClickItem={ onClickItem }\n\t\t\trenderItemLink={ renderItemLink }\n\t\t\tisItemClickable={ isItemClickable }\n\t\t\tview={ view }\n\t\t\tempty={ empty }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport DataViewsPagination from '../dataviews-pagination';\nimport {\n\tBulkActionsFooter,\n\tuseSomeItemHasAPossibleBulkAction,\n} from '../dataviews-bulk-actions';\nimport { LAYOUT_GRID, LAYOUT_TABLE } from '../../constants';\n\nconst EMPTY_ARRAY: [] = [];\n\nexport default function DataViewsFooter() {\n\tconst {\n\t\tview,\n\t\tpaginationInfo: { totalItems = 0, totalPages },\n\t\tdata,\n\t\tactions = EMPTY_ARRAY,\n\t} = useContext( DataViewsContext );\n\tconst hasBulkActions =\n\t\tuseSomeItemHasAPossibleBulkAction( actions, data ) &&\n\t\t[ LAYOUT_TABLE, LAYOUT_GRID ].includes( view.type );\n\n\tif (\n\t\t! totalItems ||\n\t\t! totalPages ||\n\t\t( totalPages <= 1 && ! hasBulkActions )\n\t) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t!! totalItems && (\n\t\t\t<HStack\n\t\t\t\texpanded={ false }\n\t\t\t\tjustify=\"end\"\n\t\t\t\tclassName=\"dataviews-footer\"\n\t\t\t>\n\t\t\t\t{ hasBulkActions && <BulkActionsFooter /> }\n\t\t\t\t<DataViewsPagination />\n\t\t\t</HStack>\n\t\t)\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef, memo, useContext } from '@wordpress/element';\nimport { SearchControl } from '@wordpress/components';\nimport { useDebouncedInput } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\n\ninterface SearchProps {\n\tlabel?: string;\n}\n\nconst DataViewsSearch = memo( function Search( { label }: SearchProps ) {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput(\n\t\tview.search\n\t);\n\tuseEffect( () => {\n\t\tsetSearch( view.search ?? '' );\n\t}, [ view.search, setSearch ] );\n\tconst onChangeViewRef = useRef( onChangeView );\n\tconst viewRef = useRef( view );\n\tuseEffect( () => {\n\t\tonChangeViewRef.current = onChangeView;\n\t\tviewRef.current = view;\n\t}, [ onChangeView, view ] );\n\tuseEffect( () => {\n\t\tif ( debouncedSearch !== viewRef.current?.search ) {\n\t\t\tonChangeViewRef.current( {\n\t\t\t\t...viewRef.current,\n\t\t\t\tpage: 1,\n\t\t\t\tsearch: debouncedSearch,\n\t\t\t} );\n\t\t}\n\t}, [ debouncedSearch ] );\n\tconst searchLabel = label || __( 'Search' );\n\treturn (\n\t\t<SearchControl\n\t\t\tclassName=\"dataviews-search\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tonChange={ setSearch }\n\t\t\tvalue={ search }\n\t\t\tlabel={ searchLabel }\n\t\t\tplaceholder={ searchLabel }\n\t\t\tsize=\"compact\"\n\t\t/>\n\t);\n} );\n\nexport default DataViewsSearch;\n", "/**\n * External dependencies\n */\nimport type { ChangeEvent } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\tDropdown,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\tSelectControl,\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\t__experimentalText as Text,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { memo, useContext, useMemo } from '@wordpress/element';\nimport { cog } from '@wordpress/icons';\nimport warning from '@wordpress/warning';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { SORTING_DIRECTIONS, sortIcons, sortLabels } from '../../constants';\nimport { VIEW_LAYOUTS } from '../../dataviews-layouts';\nimport type { View } from '../../types';\nimport DataViewsContext from '../dataviews-context';\nimport InfiniteScrollToggle from './infinite-scroll-toggle';\nimport { PropertiesSection } from './properties-section';\nimport { unlock } from '../../lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nconst DATAVIEWS_CONFIG_POPOVER_PROPS = {\n\tclassName: 'dataviews-config__popover',\n\tplacement: 'bottom-end',\n\toffset: 9,\n};\n\nexport function ViewTypeMenu() {\n\tconst { view, onChangeView, defaultLayouts } =\n\t\tuseContext( DataViewsContext );\n\tconst availableLayouts = Object.keys( defaultLayouts );\n\tif ( availableLayouts.length <= 1 ) {\n\t\treturn null;\n\t}\n\tconst activeView = VIEW_LAYOUTS.find( ( v ) => view.type === v.type );\n\treturn (\n\t\t<Menu>\n\t\t\t<Menu.TriggerButton\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ticon={ activeView?.icon }\n\t\t\t\t\t\tlabel={ __( 'Layout' ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Menu.Popover>\n\t\t\t\t{ availableLayouts.map( ( layout ) => {\n\t\t\t\t\tconst config = VIEW_LAYOUTS.find(\n\t\t\t\t\t\t( v ) => v.type === layout\n\t\t\t\t\t);\n\t\t\t\t\tif ( ! config ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu.RadioItem\n\t\t\t\t\t\t\tkey={ layout }\n\t\t\t\t\t\t\tvalue={ layout }\n\t\t\t\t\t\t\tname=\"view-actions-available-view\"\n\t\t\t\t\t\t\tchecked={ layout === view.type }\n\t\t\t\t\t\t\thideOnClick\n\t\t\t\t\t\t\tonChange={ (\n\t\t\t\t\t\t\t\te: ChangeEvent< HTMLInputElement >\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tswitch ( e.target.value ) {\n\t\t\t\t\t\t\t\t\tcase 'list':\n\t\t\t\t\t\t\t\t\tcase 'grid':\n\t\t\t\t\t\t\t\t\tcase 'table':\n\t\t\t\t\t\t\t\t\tcase 'pickerGrid':\n\t\t\t\t\t\t\t\t\tcase 'pickerTable':\n\t\t\t\t\t\t\t\t\t\tconst viewWithoutLayout = { ...view };\n\t\t\t\t\t\t\t\t\t\tif ( 'layout' in viewWithoutLayout ) {\n\t\t\t\t\t\t\t\t\t\t\tdelete viewWithoutLayout.layout;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn onChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...viewWithoutLayout,\n\t\t\t\t\t\t\t\t\t\t\ttype: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t...defaultLayouts[ e.target.value ],\n\t\t\t\t\t\t\t\t\t\t} as View );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twarning( 'Invalid dataview' );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Menu.ItemLabel>{ config.label }</Menu.ItemLabel>\n\t\t\t\t\t\t</Menu.RadioItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n}\n\nfunction SortFieldControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\tconst orderOptions = useMemo( () => {\n\t\tconst sortableFields = fields.filter(\n\t\t\t( field ) => field.enableSorting !== false\n\t\t);\n\t\treturn sortableFields.map( ( field ) => {\n\t\t\treturn {\n\t\t\t\tlabel: field.label,\n\t\t\t\tvalue: field.id,\n\t\t\t};\n\t\t} );\n\t}, [ fields ] );\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Sort by' ) }\n\t\t\tvalue={ view.sort?.field }\n\t\t\toptions={ orderOptions }\n\t\t\tonChange={ ( value: string ) => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tsort: {\n\t\t\t\t\t\tdirection: view?.sort?.direction || 'desc',\n\t\t\t\t\t\tfield: value,\n\t\t\t\t\t},\n\t\t\t\t\tshowLevels: false,\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction SortDirectionControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\n\tconst sortableFields = fields.filter(\n\t\t( field ) => field.enableSorting !== false\n\t);\n\tif ( sortableFields.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tlet value = view.sort?.direction;\n\tif ( ! value && view.sort?.field ) {\n\t\tvalue = 'desc';\n\t}\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\tclassName=\"dataviews-view-config__sort-direction\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Order' ) }\n\t\t\tvalue={ value }\n\t\t\tonChange={ ( newDirection ) => {\n\t\t\t\tif ( newDirection === 'asc' || newDirection === 'desc' ) {\n\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t...view,\n\t\t\t\t\t\tsort: {\n\t\t\t\t\t\t\tdirection: newDirection,\n\t\t\t\t\t\t\tfield:\n\t\t\t\t\t\t\t\tview.sort?.field ||\n\t\t\t\t\t\t\t\t// If there is no field assigned as the sorting field assign the first sortable field.\n\t\t\t\t\t\t\t\tfields.find(\n\t\t\t\t\t\t\t\t\t( field ) => field.enableSorting !== false\n\t\t\t\t\t\t\t\t)?.id ||\n\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshowLevels: false,\n\t\t\t\t\t} );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twarning( 'Invalid direction' );\n\t\t\t} }\n\t\t>\n\t\t\t{ SORTING_DIRECTIONS.map( ( direction ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\tkey={ direction }\n\t\t\t\t\t\tvalue={ direction }\n\t\t\t\t\t\ticon={ sortIcons[ direction ] }\n\t\t\t\t\t\tlabel={ sortLabels[ direction ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nfunction ItemsPerPageControl() {\n\tconst { view, config, onChangeView } = useContext( DataViewsContext );\n\tconst { infiniteScrollEnabled } = view;\n\tif (\n\t\t! config ||\n\t\t! config.perPageSizes ||\n\t\tconfig.perPageSizes.length < 2 ||\n\t\tconfig.perPageSizes.length > 6 ||\n\t\tinfiniteScrollEnabled\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Items per page' ) }\n\t\t\tvalue={ view.perPage || 10 }\n\t\t\tdisabled={ ! view?.sort?.field }\n\t\t\tonChange={ ( newItemsPerPage ) => {\n\t\t\t\tconst newItemsPerPageNumber =\n\t\t\t\t\ttypeof newItemsPerPage === 'number' ||\n\t\t\t\t\tnewItemsPerPage === undefined\n\t\t\t\t\t\t? newItemsPerPage\n\t\t\t\t\t\t: parseInt( newItemsPerPage, 10 );\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tperPage: newItemsPerPageNumber,\n\t\t\t\t\tpage: 1,\n\t\t\t\t} );\n\t\t\t} }\n\t\t>\n\t\t\t{ config.perPageSizes.map( ( value ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tkey={ value }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tlabel={ value.toString() }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nfunction SettingsSection( {\n\ttitle,\n\tdescription,\n\tchildren,\n}: {\n\ttitle: string;\n\tdescription?: string;\n\tchildren: React.ReactNode;\n} ) {\n\treturn (\n\t\t<Grid columns={ 12 } className=\"dataviews-settings-section\" gap={ 4 }>\n\t\t\t<div className=\"dataviews-settings-section__sidebar\">\n\t\t\t\t<Heading\n\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\tclassName=\"dataviews-settings-section__title\"\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t\t{ description && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tvariant=\"muted\"\n\t\t\t\t\t\tclassName=\"dataviews-settings-section__description\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ description }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<Grid\n\t\t\t\tcolumns={ 8 }\n\t\t\t\tgap={ 4 }\n\t\t\t\tclassName=\"dataviews-settings-section__content\"\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport function DataviewsViewConfigDropdown() {\n\tconst { view } = useContext( DataViewsContext );\n\tconst popoverId = useInstanceId(\n\t\t_DataViewsViewConfig,\n\t\t'dataviews-view-config-dropdown'\n\t);\n\tconst activeLayout = VIEW_LAYOUTS.find(\n\t\t( layout ) => layout.type === view.type\n\t);\n\treturn (\n\t\t<Dropdown\n\t\t\texpandOnMobile\n\t\t\tpopoverProps={ {\n\t\t\t\t...DATAVIEWS_CONFIG_POPOVER_PROPS,\n\t\t\t\tid: popoverId,\n\t\t\t} }\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ticon={ cog }\n\t\t\t\t\t\tlabel={ _x( 'View options', 'View is used as a noun' ) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\taria-expanded={ isOpen ? 'true' : 'false' }\n\t\t\t\t\t\taria-controls={ popoverId }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trenderContent={ () => (\n\t\t\t\t<DropdownContentWrapper\n\t\t\t\t\tpaddingSize=\"medium\"\n\t\t\t\t\tclassName=\"dataviews-config__popover-content-wrapper\"\n\t\t\t\t>\n\t\t\t\t\t<VStack className=\"dataviews-view-config\" spacing={ 6 }>\n\t\t\t\t\t\t<SettingsSection title={ __( 'Appearance' ) }>\n\t\t\t\t\t\t\t<HStack expanded className=\"is-divided-in-two\">\n\t\t\t\t\t\t\t\t<SortFieldControl />\n\t\t\t\t\t\t\t\t<SortDirectionControl />\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t{ !! activeLayout?.viewConfigOptions && (\n\t\t\t\t\t\t\t\t<activeLayout.viewConfigOptions />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<InfiniteScrollToggle />\n\t\t\t\t\t\t\t<ItemsPerPageControl />\n\t\t\t\t\t\t\t<PropertiesSection />\n\t\t\t\t\t\t</SettingsSection>\n\t\t\t\t\t</VStack>\n\t\t\t\t</DropdownContentWrapper>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nfunction _DataViewsViewConfig() {\n\treturn (\n\t\t<>\n\t\t\t<ViewTypeMenu />\n\t\t\t<DataviewsViewConfigDropdown />\n\t\t</>\n\t);\n}\n\nconst DataViewsViewConfig = memo( _DataViewsViewConfig );\n\nexport default DataViewsViewConfig;\n", "/**\n * WordPress dependencies\n */\nimport { ToggleControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\n\nexport default function InfiniteScrollToggle() {\n\tconst context = useContext( DataViewsContext );\n\tconst { view, onChangeView } = context;\n\tconst infiniteScrollEnabled = view.infiniteScrollEnabled ?? false;\n\n\t// Only render the toggle if an infinite scroll handler is available\n\tif ( ! context.hasInfiniteScrollHandler ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ToggleControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Enable infinite scroll' ) }\n\t\t\thelp={ __(\n\t\t\t\t'Automatically load more content as you scroll, instead of showing pagination links.'\n\t\t\t) }\n\t\t\tchecked={ infiniteScrollEnabled }\n\t\t\tonChange={ ( newValue ) => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tinfiniteScrollEnabled: newValue,\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\n// Email validation regex based on HTML5 spec\n// https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address\nconst emailRegex =\n\t/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! emailRegex.test( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be a valid email address.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'email',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type { DataViewRenderFieldProps } from '../../types';\nimport useElements from '../../hooks/use-elements';\n\nexport default function RenderFromElements< Item >( {\n\titem,\n\tfield,\n}: DataViewRenderFieldProps< Item > ) {\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tconst value = field.getValue( { item } );\n\tif ( isLoading ) {\n\t\treturn value;\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn value;\n\t}\n\n\treturn (\n\t\telements?.find( ( element ) => element.value === value )?.label ||\n\t\tfield.getValue( { item } )\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_BETWEEN,\n} from '../constants';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\treturn direction === 'asc' ? a - b : b - a;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! Number.isInteger( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be an integer.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'integer',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t\tvalidOperators: [\n\t\t\t// Single-selection\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t\t// Multiple-selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_BETWEEN,\n} from '../constants';\nimport RenderFromElements from './utils/render-from-elements';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\treturn direction === 'asc' ? a - b : b - a;\n}\n\nfunction isEmpty( value: unknown ): value is '' | undefined | null {\n\treturn value === '' || value === undefined || value === null;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif ( ! isEmpty( value ) && ! Number.isFinite( value ) ) {\n\t\t\t\treturn __( 'Value must be a number.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'number',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\t<RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\t\tif ( ! [ null, undefined ].includes( value ) ) {\n\t\t\treturn Number( value ).toFixed( 2 );\n\t\t}\n\n\t\treturn null;\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t\tvalidOperators: [\n\t\t\t// Single-selection\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_LESS_THAN,\n\t\t\tOPERATOR_GREATER_THAN,\n\t\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t\tOPERATOR_BETWEEN,\n\t\t\t// Multiple-selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_CONTAINS,\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'text',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\t// Single selection\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport parseDateTime from './utils/parse-date-time';\nimport {\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n} from '../constants';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\tconst timeA = new Date( a ).getTime();\n\tconst timeB = new Date( b ).getTime();\n\n\treturn direction === 'asc' ? timeA - timeB : timeB - timeA;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'datetime',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.elements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\t\tif ( [ '', undefined, null ].includes( value ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\ttry {\n\t\t\tconst dateValue = parseDateTime( value );\n\t\t\treturn dateValue?.toLocaleString();\n\t\t} catch ( error ) {\n\t\t\treturn null;\n\t\t}\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { dateI18n, getDate, getSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n\tOPERATOR_BETWEEN,\n} from '../constants';\n\nconst getFormattedDate = ( dateToDisplay: string | null ) =>\n\tdateI18n( getSettings().formats.date, getDate( dateToDisplay ) );\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\tconst timeA = new Date( a ).getTime();\n\tconst timeB = new Date( b ).getTime();\n\n\treturn direction === 'asc' ? timeA - timeB : timeB - timeA;\n}\n\nexport default {\n\tsort,\n\tEdit: 'date',\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\t\tif ( ! value ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn getFormattedDate( value );\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_ON,\n\t\t\tOPERATOR_NOT_ON,\n\t\t\tOPERATOR_BEFORE,\n\t\t\tOPERATOR_AFTER,\n\t\t\tOPERATOR_BEFORE_INC,\n\t\t\tOPERATOR_AFTER_INC,\n\t\t\tOPERATOR_IN_THE_PAST,\n\t\t\tOPERATOR_OVER,\n\t\t\tOPERATOR_BETWEEN,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n\tNormalizedField,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport { OPERATOR_IS, OPERATOR_IS_NOT } from '../constants';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\tconst boolA = Boolean( a );\n\tconst boolB = Boolean( b );\n\n\tif ( boolA === boolB ) {\n\t\treturn 0;\n\t}\n\n\t// In ascending order, false comes before true\n\tif ( direction === 'asc' ) {\n\t\treturn boolA ? 1 : -1;\n\t}\n\n\t// In descending order, true comes before false\n\treturn boolA ? -1 : 1;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! [ true, false ].includes( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be true, false, or undefined' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'checkbox',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tif ( field.getValue( { item } ) === true ) {\n\t\t\treturn __( 'True' );\n\t\t}\n\n\t\tif ( field.getValue( { item } ) === false ) {\n\t\t\treturn __( 'False' );\n\t\t}\n\n\t\treturn null;\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t\tvalidOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type { FieldTypeDefinition } from '../types';\n\nfunction sort() {\n\treturn 0;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: null,\n\trender: () => null,\n\tenableSorting: false,\n\tfilterBy: false,\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n\tNormalizedField,\n} from '../types';\nimport {\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT_ALL,\n} from '../constants';\n\n// Sort arrays by length, then alphabetically by joined string\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\tconst arrA = Array.isArray( valueA ) ? valueA : [];\n\tconst arrB = Array.isArray( valueB ) ? valueB : [];\n\tif ( arrA.length !== arrB.length ) {\n\t\treturn direction === 'asc'\n\t\t\t? arrA.length - arrB.length\n\t\t\t: arrB.length - arrA.length;\n\t}\n\n\tconst joinedA = arrA.join( ',' );\n\tconst joinedB = arrB.join( ',' );\n\treturn direction === 'asc'\n\t\t? joinedA.localeCompare( joinedB )\n\t\t: joinedB.localeCompare( joinedA );\n}\n\nfunction render( { item, field }: DataViewRenderFieldProps< any > ) {\n\tconst value = field.getValue( { item } ) || [];\n\treturn value.join( ', ' );\n}\n\nconst arrayFieldType: FieldTypeDefinition< any > = {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! Array.isArray( value )\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be an array.' );\n\t\t\t}\n\n\t\t\t// Only allow strings for now. Can be extended to other types in the future.\n\t\t\tif ( ! value.every( ( v: any ) => typeof v === 'string' ) ) {\n\t\t\t\treturn __( 'Every value must be a string.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'array', // Use array control\n\trender,\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n};\n\nexport default arrayFieldType;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\n\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\t// Passwords should not be sortable for security reasons\n\treturn 0;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'password',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\t'\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022'\n\t\t);\n\t},\n\tenableSorting: false,\n\tfilterBy: false,\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'telephone',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * External dependencies\n */\nimport { colord } from 'colord';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tNormalizedField,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\t// Convert colors to HSL for better sorting\n\tconst colorA = colord( valueA );\n\tconst colorB = colord( valueB );\n\n\tif ( ! colorA.isValid() && ! colorB.isValid() ) {\n\t\treturn 0;\n\t}\n\tif ( ! colorA.isValid() ) {\n\t\treturn direction === 'asc' ? 1 : -1;\n\t}\n\tif ( ! colorB.isValid() ) {\n\t\treturn direction === 'asc' ? -1 : 1;\n\t}\n\n\t// Sort by hue, then saturation, then lightness\n\tconst hslA = colorA.toHsl();\n\tconst hslB = colorB.toHsl();\n\n\tif ( hslA.h !== hslB.h ) {\n\t\treturn direction === 'asc' ? hslA.h - hslB.h : hslB.h - hslA.h;\n\t}\n\tif ( hslA.s !== hslB.s ) {\n\t\treturn direction === 'asc' ? hslA.s - hslB.s : hslB.s - hslA.s;\n\t}\n\treturn direction === 'asc' ? hslA.l - hslB.l : hslB.l - hslA.l;\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: ( item: any, field: NormalizedField< any > ) => {\n\t\t\tconst value = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t\t\t! colord( value ).isValid()\n\t\t\t) {\n\t\t\t\treturn __( 'Value must be a valid color.' );\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t},\n\tEdit: 'color',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\tif ( field.hasElements ) {\n\t\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t\t}\n\n\t\tconst value = field.getValue( { item } );\n\n\t\tif ( ! value || ! colord( value ).isValid() ) {\n\t\t\treturn value;\n\t\t}\n\n\t\t// Render color with visual preview\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={ { display: 'flex', alignItems: 'center', gap: '8px' } }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\twidth: '16px',\n\t\t\t\t\t\theight: '16px',\n\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\tbackgroundColor: value,\n\t\t\t\t\t\tborder: '1px solid #ddd',\n\t\t\t\t\t\tflexShrink: 0,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<span>{ value }</span>\n\t\t\t</div>\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tSortDirection,\n\tFieldTypeDefinition,\n} from '../types';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\nexport default {\n\tsort,\n\tisValid: {\n\t\telements: true,\n\t\tcustom: () => null,\n\t},\n\tEdit: 'url',\n\trender: ( { item, field }: DataViewRenderFieldProps< any > ) => {\n\t\treturn field.hasElements ? (\n\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t) : (\n\t\t\tfield.getValue( { item } )\n\t\t);\n\t},\n\tenableSorting: true,\n\tfilterBy: {\n\t\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\t\tvalidOperators: [\n\t\t\tOPERATOR_IS,\n\t\t\tOPERATOR_IS_NOT,\n\t\t\tOPERATOR_CONTAINS,\n\t\t\tOPERATOR_NOT_CONTAINS,\n\t\t\tOPERATOR_STARTS_WITH,\n\t\t\t// Multiple selection\n\t\t\tOPERATOR_IS_ANY,\n\t\t\tOPERATOR_IS_NONE,\n\t\t\tOPERATOR_IS_ALL,\n\t\t\tOPERATOR_IS_NOT_ALL,\n\t\t],\n\t},\n} satisfies FieldTypeDefinition< any >;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tFieldType,\n\tFieldTypeDefinition,\n\tSortDirection,\n} from '../types';\nimport { default as email } from './email';\nimport { default as integer } from './integer';\nimport { default as number } from './number';\nimport { default as text } from './text';\nimport { default as datetime } from './datetime';\nimport { default as date } from './date';\nimport { default as boolean } from './boolean';\nimport { default as media } from './media';\nimport { default as array } from './array';\nimport { default as password } from './password';\nimport { default as telephone } from './telephone';\nimport { default as color } from './color';\nimport { default as url } from './url';\nimport RenderFromElements from './utils/render-from-elements';\nimport { ALL_OPERATORS, OPERATOR_IS, OPERATOR_IS_NOT } from '../constants';\n\n/**\n *\n * @param {FieldType} type The field type definition to get.\n *\n * @return A field type definition.\n */\nexport default function getFieldTypeDefinition< Item >(\n\ttype?: FieldType\n): FieldTypeDefinition< Item > {\n\tif ( 'email' === type ) {\n\t\treturn email;\n\t}\n\n\tif ( 'integer' === type ) {\n\t\treturn integer;\n\t}\n\n\tif ( 'number' === type ) {\n\t\treturn number;\n\t}\n\n\tif ( 'text' === type ) {\n\t\treturn text;\n\t}\n\n\tif ( 'datetime' === type ) {\n\t\treturn datetime;\n\t}\n\n\tif ( 'date' === type ) {\n\t\treturn date;\n\t}\n\n\tif ( 'boolean' === type ) {\n\t\treturn boolean;\n\t}\n\n\tif ( 'media' === type ) {\n\t\treturn media;\n\t}\n\n\tif ( 'array' === type ) {\n\t\treturn array;\n\t}\n\n\tif ( 'password' === type ) {\n\t\treturn password;\n\t}\n\n\tif ( 'telephone' === type ) {\n\t\treturn telephone;\n\t}\n\n\tif ( 'color' === type ) {\n\t\treturn color;\n\t}\n\n\tif ( 'url' === type ) {\n\t\treturn url;\n\t}\n\n\t// This is a fallback for fields that don't provide a type.\n\t// It can be removed when the field.type is mandatory.\n\treturn {\n\t\tsort: ( a: any, b: any, direction: SortDirection ) => {\n\t\t\tif ( typeof a === 'number' && typeof b === 'number' ) {\n\t\t\t\treturn direction === 'asc' ? a - b : b - a;\n\t\t\t}\n\n\t\t\treturn direction === 'asc'\n\t\t\t\t? a.localeCompare( b )\n\t\t\t\t: b.localeCompare( a );\n\t\t},\n\t\tisValid: {\n\t\t\telements: true,\n\t\t\tcustom: () => null,\n\t\t},\n\t\tEdit: null,\n\t\trender: ( { item, field }: DataViewRenderFieldProps< Item > ) => {\n\t\t\treturn field.hasElements ? (\n\t\t\t\t<RenderFromElements item={ item } field={ field } />\n\t\t\t) : (\n\t\t\t\tfield.getValue( { item } )\n\t\t\t);\n\t\t},\n\t\tenableSorting: true,\n\t\tfilterBy: {\n\t\t\tdefaultOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\t\t\tvalidOperators: ALL_OPERATORS,\n\t\t},\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedCheckboxControl } = unlock( privateApis );\n\nexport default function Checkbox< Item >( {\n\tfield,\n\tonChange,\n\tdata,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { getValue, setValue, label, description, isValid } = field;\n\n\tconst onChangeControl = useCallback( () => {\n\t\tonChange(\n\t\t\tsetValue( { item: data, value: ! getValue( { item: data } ) } )\n\t\t);\n\t}, [ data, getValue, onChange, setValue ] );\n\n\treturn (\n\t\t<ValidatedCheckboxControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\thidden={ hideLabelFromVision }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tchecked={ getValue( { item: data } ) }\n\t\t\tonChange={ onChangeControl }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { Rules, FieldValidity } from '../../types';\n\nexport default function getCustomValidity< Item >(\n\tisValid: Rules< Item >,\n\tvalidity: FieldValidity | undefined\n) {\n\tlet customValidity;\n\tif ( isValid?.required && validity?.required ) {\n\t\t// If the consumer provides a message for required,\n\t\t// use it instead of the native built-in message.\n\t\tcustomValidity = validity?.required?.message\n\t\t\t? validity.required\n\t\t\t: undefined;\n\t} else if ( isValid?.elements && validity?.elements ) {\n\t\tcustomValidity = validity.elements;\n\t} else if ( validity?.custom ) {\n\t\tcustomValidity = validity.custom;\n\t}\n\n\treturn customValidity;\n}\n", "/**\n * External dependencies\n */\nimport { format } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tprivateApis as componentsPrivateApis,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { OPERATOR_IN_THE_PAST, OPERATOR_OVER } from '../constants';\nimport RelativeDateControl from './utils/relative-date-control';\nimport getCustomValidity from './utils/get-custom-validity';\nimport parseDateTime from '../field-types/utils/parse-date-time';\nimport { unlock } from '../lock-unlock';\n\nconst { DateCalendar, ValidatedInputControl } = unlock( componentsPrivateApis );\n\nconst formatDateTime = ( date?: Date | string ): string => {\n\tif ( ! date ) {\n\t\treturn '';\n\t}\n\tif ( typeof date === 'string' ) {\n\t\treturn date;\n\t}\n\t// Format as datetime-local input expects: YYYY-MM-DDTHH:mm\n\treturn format( date, \"yyyy-MM-dd'T'HH:mm\" );\n};\n\nfunction CalendarDateTimeControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, description, setValue, getValue, isValid } = field;\n\tconst fieldValue = getValue( { item: data } );\n\tconst value = typeof fieldValue === 'string' ? fieldValue : undefined;\n\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\tconst parsedDate = parseDateTime( value );\n\t\treturn parsedDate || new Date(); // Default to current month\n\t} );\n\n\tconst inputControlRef = useRef< HTMLInputElement >( null );\n\tconst validationTimeoutRef = useRef< ReturnType< typeof setTimeout > >();\n\tconst previousFocusRef = useRef< Element | null >( null );\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\t// Cleanup timeout on unmount\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( validationTimeoutRef.current ) {\n\t\t\t\tclearTimeout( validationTimeoutRef.current );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tconst onSelectDate = useCallback(\n\t\t( newDate: Date | undefined | null ) => {\n\t\t\tlet dateTimeValue: string | undefined;\n\t\t\tif ( newDate ) {\n\t\t\t\t// Preserve time if it exists in current value, otherwise use current time\n\t\t\t\tlet finalDateTime = newDate;\n\n\t\t\t\tif ( value ) {\n\t\t\t\t\tconst currentDateTime = parseDateTime( value );\n\t\t\t\t\tif ( currentDateTime ) {\n\t\t\t\t\t\t// Preserve the time part\n\t\t\t\t\t\tfinalDateTime = new Date( newDate );\n\t\t\t\t\t\tfinalDateTime.setHours( currentDateTime.getHours() );\n\t\t\t\t\t\tfinalDateTime.setMinutes(\n\t\t\t\t\t\t\tcurrentDateTime.getMinutes()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdateTimeValue = finalDateTime.toISOString();\n\t\t\t\tonChangeCallback( dateTimeValue );\n\n\t\t\t\t// Clear any existing timeout\n\t\t\t\tif ( validationTimeoutRef.current ) {\n\t\t\t\t\tclearTimeout( validationTimeoutRef.current );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t\t// Save the currently focused element\n\t\t\tpreviousFocusRef.current =\n\t\t\t\tinputControlRef.current &&\n\t\t\t\tinputControlRef.current.ownerDocument.activeElement;\n\n\t\t\t// Trigger validation display by simulating focus, blur, and changes.\n\t\t\t// Use a timeout to ensure it runs after the value update.\n\t\t\tvalidationTimeoutRef.current = setTimeout( () => {\n\t\t\t\tif ( inputControlRef.current ) {\n\t\t\t\t\tinputControlRef.current.focus();\n\t\t\t\t\tinputControlRef.current.blur();\n\t\t\t\t\tonChangeCallback( dateTimeValue );\n\n\t\t\t\t\t// Restore focus to the previously focused element\n\t\t\t\t\tif (\n\t\t\t\t\t\tpreviousFocusRef.current &&\n\t\t\t\t\t\tpreviousFocusRef.current instanceof HTMLElement\n\t\t\t\t\t) {\n\t\t\t\t\t\tpreviousFocusRef.current.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t},\n\t\t[ onChangeCallback, value ]\n\t);\n\n\tconst handleManualDateTimeChange = useCallback(\n\t\t( newValue?: string ) => {\n\t\t\tif ( newValue ) {\n\t\t\t\t// Convert from datetime-local format to ISO string\n\t\t\t\tconst dateTime = new Date( newValue );\n\t\t\t\tonChangeCallback( dateTime.toISOString() );\n\n\t\t\t\t// Update calendar month to match\n\t\t\t\tconst parsedDate = parseDateTime( dateTime.toISOString() );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst {\n\t\ttimezone: { string: timezoneString },\n\t\tl10n: { startOfWeek },\n\t} = getSettings();\n\n\tconst displayLabel =\n\t\tisValid?.required && ! hideLabelFromVision\n\t\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t\t: label;\n\n\treturn (\n\t\t<BaseControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tid={ id }\n\t\t\tlabel={ displayLabel }\n\t\t\thelp={ description }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t{ /* Calendar widget */ }\n\t\t\t\t<DateCalendar\n\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\tselected={\n\t\t\t\t\t\tvalue ? parseDateTime( value ) || undefined : undefined\n\t\t\t\t\t}\n\t\t\t\t\tonSelect={ onSelectDate }\n\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\ttimeZone={ timezoneString || undefined }\n\t\t\t\t\tweekStartsOn={ startOfWeek }\n\t\t\t\t/>\n\t\t\t\t{ /* Manual datetime input */ }\n\t\t\t\t<ValidatedInputControl\n\t\t\t\t\tref={ inputControlRef }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\trequired={ !! isValid?.required }\n\t\t\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\tlabel={ __( 'Date time' ) }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t? formatDateTime(\n\t\t\t\t\t\t\t\t\tparseDateTime( value ) || undefined\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tonChange={ handleManualDateTimeChange }\n\t\t\t\t/>\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n\nexport default function DateTime< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tif ( operator === OPERATOR_IN_THE_PAST || operator === OPERATOR_OVER ) {\n\t\treturn (\n\t\t\t<RelativeDateControl\n\t\t\t\tclassName=\"dataviews-controls__datetime\"\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\toperator={ operator }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CalendarDateTimeControl\n\t\t\tdata={ data }\n\t\t\tfield={ field }\n\t\t\tonChange={ onChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tvalidity={ validity }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tSelectControl,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { OPERATOR_IN_THE_PAST, OPERATOR_OVER } from '../../constants';\nimport type { DataFormControlProps } from '../../types';\n\ntype VALID_OPERATORS = 'inThePast' | 'over';\n\ninterface TimeUnitOption {\n\tvalue: string;\n\tlabel: string;\n}\n\nconst TIME_UNITS_OPTIONS: Record< VALID_OPERATORS, TimeUnitOption[] > = {\n\t[ OPERATOR_IN_THE_PAST ]: [\n\t\t{ value: 'days', label: __( 'Days' ) },\n\t\t{ value: 'weeks', label: __( 'Weeks' ) },\n\t\t{ value: 'months', label: __( 'Months' ) },\n\t\t{ value: 'years', label: __( 'Years' ) },\n\t],\n\t[ OPERATOR_OVER ]: [\n\t\t{ value: 'days', label: __( 'Days ago' ) },\n\t\t{ value: 'weeks', label: __( 'Weeks ago' ) },\n\t\t{ value: 'months', label: __( 'Months ago' ) },\n\t\t{ value: 'years', label: __( 'Years ago' ) },\n\t],\n};\n\nexport default function RelativeDateControl< Item >( {\n\tclassName,\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n}: DataFormControlProps< Item > & {\n\tclassName: string;\n} ) {\n\tconst options: TimeUnitOption[] =\n\t\tTIME_UNITS_OPTIONS[\n\t\t\toperator === OPERATOR_IN_THE_PAST ? 'inThePast' : 'over'\n\t\t];\n\n\tconst { id, label, getValue, setValue } = field;\n\tconst fieldValue = getValue( { item: data } );\n\tconst { value: relValue = '', unit = options[ 0 ].value } =\n\t\tfieldValue && typeof fieldValue === 'object' ? fieldValue : {};\n\n\tconst onChangeValue = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: { value: Number( newValue ), unit },\n\t\t\t\t} )\n\t\t\t),\n\t\t[ onChange, setValue, data, unit ]\n\t);\n\n\tconst onChangeUnit = useCallback(\n\t\t( newUnit: string | undefined ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: { value: relValue, unit: newUnit },\n\t\t\t\t} )\n\t\t\t),\n\t\t[ onChange, setValue, data, relValue ]\n\t);\n\n\treturn (\n\t\t<BaseControl\n\t\t\tid={ id }\n\t\t\t__nextHasNoMarginBottom\n\t\t\tclassName={ clsx( className, 'dataviews-controls__relative-date' ) }\n\t\t\tlabel={ label }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t<HStack spacing={ 2.5 }>\n\t\t\t\t<NumberControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tclassName=\"dataviews-controls__relative-date-number\"\n\t\t\t\t\tspinControls=\"none\"\n\t\t\t\t\tmin={ 1 }\n\t\t\t\t\tstep={ 1 }\n\t\t\t\t\tvalue={ relValue }\n\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t/>\n\t\t\t\t<SelectControl\n\t\t\t\t\tclassName=\"dataviews-controls__relative-date-unit\"\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Unit' ) }\n\t\t\t\t\tvalue={ unit }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ onChangeUnit }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t</BaseControl>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport {\n\tformat,\n\tisValid as isValidDate,\n\tsubMonths,\n\tsubDays,\n\tsubYears,\n\tstartOfMonth,\n\tstartOfYear,\n} from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tButton,\n\tIcon,\n\tprivateApis as componentsPrivateApis,\n\t__experimentalInputControl as InputControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getDate, getSettings } from '@wordpress/date';\nimport { error as errorIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport RelativeDateControl from './utils/relative-date-control';\nimport {\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n\tOPERATOR_BETWEEN,\n} from '../constants';\nimport { unlock } from '../lock-unlock';\nimport type {\n\tDataFormControlProps,\n\tFieldValidity,\n\tNormalizedField,\n} from '../types';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { DateCalendar, DateRangeCalendar } = unlock( componentsPrivateApis );\n\ntype DateRange = [ string, string ] | undefined;\n\nconst DATE_PRESETS: {\n\tid: string;\n\tlabel: string;\n\tgetValue: () => Date;\n}[] = [\n\t{\n\t\tid: 'today',\n\t\tlabel: __( 'Today' ),\n\t\tgetValue: () => getDate( null ),\n\t},\n\t{\n\t\tid: 'yesterday',\n\t\tlabel: __( 'Yesterday' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subDays( today, 1 );\n\t\t},\n\t},\n\t{\n\t\tid: 'past-week',\n\t\tlabel: __( 'Past week' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subDays( today, 7 );\n\t\t},\n\t},\n\t{\n\t\tid: 'past-month',\n\t\tlabel: __( 'Past month' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subMonths( today, 1 );\n\t\t},\n\t},\n];\n\nconst DATE_RANGE_PRESETS = [\n\t{\n\t\tid: 'last-7-days',\n\t\tlabel: __( 'Last 7 days' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subDays( today, 7 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'last-30-days',\n\t\tlabel: __( 'Last 30 days' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subDays( today, 30 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'month-to-date',\n\t\tlabel: __( 'Month to date' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ startOfMonth( today ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'last-year',\n\t\tlabel: __( 'Last year' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subYears( today, 1 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'year-to-date',\n\t\tlabel: __( 'Year to date' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ startOfYear( today ), today ];\n\t\t},\n\t},\n];\n\nconst parseDate = ( dateString?: string ): Date | null => {\n\tif ( ! dateString ) {\n\t\treturn null;\n\t}\n\tconst parsed = getDate( dateString );\n\treturn parsed && isValidDate( parsed ) ? parsed : null;\n};\n\nconst formatDate = ( date?: Date | string ): string => {\n\tif ( ! date ) {\n\t\treturn '';\n\t}\n\treturn typeof date === 'string' ? date : format( date, 'yyyy-MM-dd' );\n};\n\nfunction ValidatedDateControl< Item >( {\n\tfield,\n\tvalidity,\n\tinputRefs,\n\tisTouched,\n\tsetIsTouched,\n\tchildren,\n}: {\n\tfield: NormalizedField< Item >;\n\tvalidity?: FieldValidity;\n\tinputRefs:\n\t\t| React.RefObject< HTMLInputElement >\n\t\t| React.RefObject< HTMLInputElement >[];\n\tisTouched: boolean;\n\tsetIsTouched: ( touched: boolean ) => void;\n\tchildren: React.ReactNode;\n} ) {\n\tconst { isValid } = field;\n\tconst [ customValidity, setCustomValidity ] = useState<\n\t\t| { type: 'valid' | 'validating' | 'invalid'; message?: string }\n\t\t| undefined\n\t>( undefined );\n\n\tconst validateRefs = useCallback( () => {\n\t\t// Check HTML5 validity on all refs\n\t\tconst refs = Array.isArray( inputRefs ) ? inputRefs : [ inputRefs ];\n\t\tfor ( const ref of refs ) {\n\t\t\tconst input = ref.current;\n\t\t\tif ( input && ! input.validity.valid ) {\n\t\t\t\tsetCustomValidity( {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: input.validationMessage,\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// No errors\n\t\tsetCustomValidity( undefined );\n\t}, [ inputRefs ] );\n\n\tuseEffect( () => {\n\t\tif ( isTouched ) {\n\t\t\tconst timeoutId = setTimeout( () => {\n\t\t\t\tif ( validity ) {\n\t\t\t\t\tsetCustomValidity( getCustomValidity( isValid, validity ) );\n\t\t\t\t} else {\n\t\t\t\t\tvalidateRefs();\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t\treturn () => clearTimeout( timeoutId );\n\t\t}\n\t\treturn undefined;\n\t}, [ isTouched, isValid, validity, validateRefs ] );\n\n\tconst onBlur = ( event: React.FocusEvent< HTMLDivElement > ) => {\n\t\tif ( isTouched ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only consider \"blurred from the component\" if focus has fully left the wrapping div.\n\t\t// This prevents unnecessary blurs from components with multiple focusable elements.\n\t\tif (\n\t\t\t! event.relatedTarget ||\n\t\t\t! event.currentTarget.contains( event.relatedTarget )\n\t\t) {\n\t\t\tsetIsTouched( true );\n\t\t}\n\t};\n\n\treturn (\n\t\t<div onBlur={ onBlur }>\n\t\t\t{ children }\n\t\t\t<div aria-live=\"polite\">\n\t\t\t\t{ customValidity && (\n\t\t\t\t\t<p\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'components-validated-control__indicator',\n\t\t\t\t\t\t\tcustomValidity.type === 'invalid'\n\t\t\t\t\t\t\t\t? 'is-invalid'\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\tcustomValidity.type === 'valid'\n\t\t\t\t\t\t\t\t? 'is-valid'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName=\"components-validated-control__indicator-icon\"\n\t\t\t\t\t\t\ticon={ errorIcon }\n\t\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ customValidity.message }\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction CalendarDateControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, setValue, getValue, isValid } = field;\n\tconst [ selectedPresetId, setSelectedPresetId ] = useState< string | null >(\n\t\tnull\n\t);\n\n\tconst fieldValue = getValue( { item: data } );\n\tconst value = typeof fieldValue === 'string' ? fieldValue : undefined;\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\tconst parsedDate = parseDate( value );\n\t\treturn parsedDate || new Date(); // Default to current month\n\t} );\n\n\tconst [ isTouched, setIsTouched ] = useState( false );\n\tconst validityTargetRef = useRef< HTMLInputElement >( null );\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst onSelectDate = useCallback(\n\t\t( newDate: Date | undefined | null ) => {\n\t\t\tconst dateValue = newDate\n\t\t\t\t? format( newDate, 'yyyy-MM-dd' )\n\t\t\t\t: undefined;\n\t\t\tonChangeCallback( dateValue );\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst handlePresetClick = useCallback(\n\t\t( preset: ( typeof DATE_PRESETS )[ 0 ] ) => {\n\t\t\tconst presetDate = preset.getValue();\n\t\t\tconst dateValue = formatDate( presetDate );\n\n\t\t\tsetCalendarMonth( presetDate );\n\t\t\tonChangeCallback( dateValue );\n\t\t\tsetSelectedPresetId( preset.id );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst handleManualDateChange = useCallback(\n\t\t( newValue?: string ) => {\n\t\t\tonChangeCallback( newValue );\n\t\t\tif ( newValue ) {\n\t\t\t\tconst parsedDate = parseDate( newValue );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst {\n\t\ttimezone: { string: timezoneString },\n\t\tl10n: { startOfWeek },\n\t} = getSettings();\n\n\tconst displayLabel = isValid?.required\n\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t: label;\n\n\treturn (\n\t\t<ValidatedDateControl\n\t\t\tfield={ field }\n\t\t\tvalidity={ validity }\n\t\t\tinputRefs={ validityTargetRef }\n\t\t\tisTouched={ isTouched }\n\t\t\tsetIsTouched={ setIsTouched }\n\t\t>\n\t\t\t<BaseControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tid={ id }\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tlabel={ displayLabel }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t{ /* Preset buttons */ }\n\t\t\t\t\t<HStack spacing={ 2 } wrap justify=\"flex-start\">\n\t\t\t\t\t\t{ DATE_PRESETS.map( ( preset ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedPresetId === preset.id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\t\t\tkey={ preset.id }\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tisPressed={ isSelected }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandlePresetClick( preset )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tisPressed={ ! selectedPresetId }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tdisabled={ !! selectedPresetId }\n\t\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\n\t\t\t\t\t{ /* Manual date input */ }\n\t\t\t\t\t<InputControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tref={ validityTargetRef }\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tlabel={ __( 'Date' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleManualDateChange }\n\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ /* Calendar widget */ }\n\t\t\t\t\t<DateCalendar\n\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\tvalue ? parseDate( value ) || undefined : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={ onSelectDate }\n\t\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\t\ttimeZone={ timezoneString || undefined }\n\t\t\t\t\t\tweekStartsOn={ startOfWeek }\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t</BaseControl>\n\t\t</ValidatedDateControl>\n\t);\n}\n\nfunction CalendarDateRangeControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, getValue, setValue } = field;\n\tlet value: DateRange;\n\tconst fieldValue = getValue( { item: data } );\n\tif (\n\t\tArray.isArray( fieldValue ) &&\n\t\tfieldValue.length === 2 &&\n\t\tfieldValue.every( ( date ) => typeof date === 'string' )\n\t) {\n\t\tvalue = fieldValue as DateRange;\n\t}\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: DateRange ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst [ selectedPresetId, setSelectedPresetId ] = useState< string | null >(\n\t\tnull\n\t);\n\n\tconst selectedRange = useMemo( () => {\n\t\tif ( ! value ) {\n\t\t\treturn { from: undefined, to: undefined };\n\t\t}\n\n\t\tconst [ from, to ] = value;\n\t\treturn {\n\t\t\tfrom: parseDate( from ) || undefined,\n\t\t\tto: parseDate( to ) || undefined,\n\t\t};\n\t}, [ value ] );\n\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\treturn selectedRange.from || new Date();\n\t} );\n\n\tconst [ isTouched, setIsTouched ] = useState( false );\n\tconst fromInputRef = useRef< HTMLInputElement >( null );\n\tconst toInputRef = useRef< HTMLInputElement >( null );\n\n\tconst updateDateRange = useCallback(\n\t\t( fromDate?: Date | string, toDate?: Date | string ) => {\n\t\t\tif ( fromDate && toDate ) {\n\t\t\t\tonChangeCallback( [\n\t\t\t\t\tformatDate( fromDate ),\n\t\t\t\t\tformatDate( toDate ),\n\t\t\t\t] );\n\t\t\t} else if ( ! fromDate && ! toDate ) {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t\t// Do nothing if only one date is set - wait for both\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst onSelectCalendarRange = useCallback(\n\t\t(\n\t\t\tnewRange:\n\t\t\t\t| { from: Date | undefined; to?: Date | undefined }\n\t\t\t\t| undefined\n\t\t) => {\n\t\t\tupdateDateRange( newRange?.from, newRange?.to );\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ updateDateRange ]\n\t);\n\n\tconst handlePresetClick = useCallback(\n\t\t( preset: ( typeof DATE_RANGE_PRESETS )[ 0 ] ) => {\n\t\t\tconst [ startDate, endDate ] = preset.getValue();\n\t\t\tsetCalendarMonth( startDate );\n\t\t\tupdateDateRange( startDate, endDate );\n\t\t\tsetSelectedPresetId( preset.id );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ updateDateRange ]\n\t);\n\n\tconst handleManualDateChange = useCallback(\n\t\t( fromOrTo: 'from' | 'to', newValue?: string ) => {\n\t\t\tconst [ currentFrom, currentTo ] = value || [\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t];\n\t\t\tconst updatedFrom = fromOrTo === 'from' ? newValue : currentFrom;\n\t\t\tconst updatedTo = fromOrTo === 'to' ? newValue : currentTo;\n\n\t\t\tupdateDateRange( updatedFrom, updatedTo );\n\n\t\t\tif ( newValue ) {\n\t\t\t\tconst parsedDate = parseDate( newValue );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ value, updateDateRange ]\n\t);\n\n\tconst { timezone, l10n } = getSettings();\n\n\tconst displayLabel = field.isValid?.required\n\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t: label;\n\n\treturn (\n\t\t<ValidatedDateControl\n\t\t\tfield={ field }\n\t\t\tvalidity={ validity }\n\t\t\tinputRefs={ [ fromInputRef, toInputRef ] }\n\t\t\tisTouched={ isTouched }\n\t\t\tsetIsTouched={ setIsTouched }\n\t\t>\n\t\t\t<BaseControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tid={ id }\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tlabel={ displayLabel }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t{ /* Preset buttons */ }\n\t\t\t\t\t<HStack spacing={ 2 } wrap justify=\"flex-start\">\n\t\t\t\t\t\t{ DATE_RANGE_PRESETS.map( ( preset ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedPresetId === preset.id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\t\t\tkey={ preset.id }\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tisPressed={ isSelected }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandlePresetClick( preset )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tisPressed={ ! selectedPresetId }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\t\tdisabled={ !! selectedPresetId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\n\t\t\t\t\t{ /* Manual date range inputs */ }\n\t\t\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ fromInputRef }\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tlabel={ __( 'From' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ value?.[ 0 ] }\n\t\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\t\thandleManualDateChange( 'from', newValue )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ toInputRef }\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tlabel={ __( 'To' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ value?.[ 1 ] }\n\t\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\t\thandleManualDateChange( 'to', newValue )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</HStack>\n\n\t\t\t\t\t<DateRangeCalendar\n\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\tselected={ selectedRange }\n\t\t\t\t\t\tonSelect={ onSelectCalendarRange }\n\t\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\t\ttimeZone={ timezone.string || undefined }\n\t\t\t\t\t\tweekStartsOn={ l10n.startOfWeek }\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t</BaseControl>\n\t\t</ValidatedDateControl>\n\t);\n}\n\nexport default function DateControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tif ( operator === OPERATOR_IN_THE_PAST || operator === OPERATOR_OVER ) {\n\t\treturn (\n\t\t\t<RelativeDateControl\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\toperator={ operator }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( operator === OPERATOR_BETWEEN ) {\n\t\treturn (\n\t\t\t<CalendarDateRangeControl\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tvalidity={ validity }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CalendarDateControl\n\t\t\tdata={ data }\n\t\t\tfield={ field }\n\t\t\tonChange={ onChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tvalidity={ validity }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { atSymbol } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Email< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'email',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ atSymbol } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './get-custom-validity';\n\nconst { ValidatedInputControl } = unlock( privateApis );\n\nexport type DataFormValidatedTextControlProps< Item > =\n\tDataFormControlProps< Item > & {\n\t\t/**\n\t\t * The input type of the control.\n\t\t */\n\t\ttype?: 'text' | 'email' | 'tel' | 'url' | 'password';\n\t\t/**\n\t\t * Optional prefix element to display before the input.\n\t\t */\n\t\tprefix?: React.ReactElement;\n\t\t/**\n\t\t * Optional suffix element to display after the input.\n\t\t */\n\t\tsuffix?: React.ReactElement;\n\t};\n\nexport default function ValidatedText< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\ttype,\n\tprefix,\n\tsuffix,\n\tvalidity,\n}: DataFormValidatedTextControlProps< Item > ) {\n\tconst { label, placeholder, description, getValue, setValue, isValid } =\n\t\tfield;\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t),\n\t\t[ data, setValue, onChange ]\n\t);\n\n\treturn (\n\t\t<ValidatedInputControl\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value ?? '' }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\ttype={ type }\n\t\t\tprefix={ prefix }\n\t\t\tsuffix={ suffix }\n\t\t\t__next40pxDefaultSize\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { mobile } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Telephone< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'tel',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ mobile } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { link } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Url< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'url',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ link } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tFlex,\n\tBaseControl,\n\t__experimentalNumberControl as NumberControl,\n\tprivateApis,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { OPERATOR_BETWEEN } from '../../constants';\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './get-custom-validity';\n\nconst { ValidatedNumberControl } = unlock( privateApis );\n\ntype NumberBetween = [ number | string, number | string ];\n\nfunction toNumberOrEmpty( value?: string ) {\n\tif ( value === '' || value === undefined ) {\n\t\treturn '';\n\t}\n\tconst number = Number( value );\n\treturn Number.isFinite( number ) ? number : '';\n}\n\nfunction BetweenControls( {\n\tvalue,\n\tonChange,\n\thideLabelFromVision,\n\tstep,\n}: {\n\tvalue: NumberBetween;\n\tonChange: ( [ min, max ]: NumberBetween ) => void;\n\thideLabelFromVision?: boolean;\n\tstep: number;\n} ) {\n\tconst [ min = '', max = '' ] = value;\n\n\tconst onChangeMin = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( [ toNumberOrEmpty( newValue ), max ] ),\n\t\t[ onChange, max ]\n\t);\n\n\tconst onChangeMax = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( [ min, toNumberOrEmpty( newValue ) ] ),\n\t\t[ onChange, min ]\n\t);\n\n\treturn (\n\t\t<BaseControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\thelp={ __( 'The max. value must be greater than the min. value.' ) }\n\t\t>\n\t\t\t<Flex direction=\"row\" gap={ 4 }>\n\t\t\t\t<NumberControl\n\t\t\t\t\tlabel={ __( 'Min.' ) }\n\t\t\t\t\tvalue={ min }\n\t\t\t\t\tmax={ max ? Number( max ) - step : undefined }\n\t\t\t\t\tonChange={ onChangeMin }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\tstep={ step }\n\t\t\t\t/>\n\t\t\t\t<NumberControl\n\t\t\t\t\tlabel={ __( 'Max.' ) }\n\t\t\t\t\tvalue={ max }\n\t\t\t\t\tmin={ min ? Number( min ) + step : undefined }\n\t\t\t\t\tonChange={ onChangeMax }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\tstep={ step }\n\t\t\t\t/>\n\t\t\t</Flex>\n\t\t</BaseControl>\n\t);\n}\n\nexport type DataFormValidatedNumberControlProps< Item > =\n\tDataFormControlProps< Item > & {\n\t\t/**\n\t\t * Number of decimals, acceps non-negative integer.\n\t\t */\n\t\tdecimals: number;\n\t};\n\nexport default function ValidatedNumber< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tdecimals,\n\tvalidity,\n}: DataFormValidatedNumberControlProps< Item > ) {\n\tconst step = Math.pow( 10, Math.abs( decimals ) * -1 );\n\tconst { label, description, getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } ) ?? '';\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | undefined ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\t// Do not convert an empty string or undefined to a number,\n\t\t\t\t\t// otherwise there's a mismatch between the UI control (empty)\n\t\t\t\t\t// and the data relied by onChange (0).\n\t\t\t\t\tvalue: [ '', undefined ].includes( newValue )\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: Number( newValue ),\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst onChangeBetweenControls = useCallback(\n\t\t( newValue: NumberBetween ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tif ( operator === OPERATOR_BETWEEN ) {\n\t\tlet valueBetween: NumberBetween = [ '', '' ];\n\t\tif (\n\t\t\tArray.isArray( value ) &&\n\t\t\tvalue.length === 2 &&\n\t\t\tvalue.every(\n\t\t\t\t( element ) => typeof element === 'number' || element === ''\n\t\t\t)\n\t\t) {\n\t\t\tvalueBetween = value as NumberBetween;\n\t\t}\n\t\treturn (\n\t\t\t<BetweenControls\n\t\t\t\tvalue={ valueBetween }\n\t\t\t\tonChange={ onChangeBetweenControls }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tstep={ step }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ValidatedNumberControl\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tstep={ step }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedNumber from './utils/validated-number';\n\nexport default function Number< Item >( props: DataFormControlProps< Item > ) {\n\treturn <ValidatedNumber { ...props } decimals={ 0 } />;\n}\n", "/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedNumber from './utils/validated-number';\n\nexport default function Number< Item >( props: DataFormControlProps< Item > ) {\n\t// TODO: remove this hardcoded value when the decimal number is configurable\n\treturn <ValidatedNumber { ...props } decimals={ 2 } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../hooks/use-elements';\n\nconst { ValidatedRadioControl } = unlock( privateApis );\n\nexport default function Radio< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, description, getValue, setValue, isValid } = field;\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedRadioControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\toptions={ elements }\n\t\t\tselected={ value }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport useElements from '../hooks/use-elements';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedSelectControl } = unlock( privateApis );\n\nexport default function Select< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { type, label, description, getValue, setValue, isValid } = field;\n\n\tconst isMultiple = type === 'array';\n\tconst value = getValue( { item: data } ) ?? ( isMultiple ? [] : '' );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: any ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedSelectControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tvalue={ value }\n\t\t\thelp={ description }\n\t\t\toptions={ elements }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tmultiple={ isMultiple }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Text< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tconfig,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { prefix, suffix } = config || {};\n\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\tprefix: prefix ? createElement( prefix ) : undefined,\n\t\t\t\tsuffix: suffix ? createElement( suffix ) : undefined,\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedToggleControl } = unlock( privateApis );\n\nexport default function Toggle< Item >( {\n\tfield,\n\tonChange,\n\tdata,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, description, getValue, setValue, isValid } = field;\n\n\tconst onChangeControl = useCallback( () => {\n\t\tonChange(\n\t\t\tsetValue( { item: data, value: ! getValue( { item: data } ) } )\n\t\t);\n\t}, [ onChange, setValue, data, getValue ] );\n\n\treturn (\n\t\t<ValidatedToggleControl\n\t\t\trequired={ !! isValid.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\thidden={ hideLabelFromVision }\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tchecked={ getValue( { item: data } ) }\n\t\t\tonChange={ onChangeControl }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedTextareaControl } = unlock( privateApis );\n\nexport default function Textarea< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tconfig,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { rows = 4 } = config || {};\n\tconst { label, placeholder, description, setValue, isValid } = field;\n\tconst value = field.getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\treturn (\n\t\t<ValidatedTextareaControl\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value ?? '' }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\trows={ rows }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tSpinner,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../hooks/use-elements';\n\nconst { ValidatedToggleGroupControl } = unlock( privateApis );\n\nexport default function ToggleGroup< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | number | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst selectedOption = elements.find( ( el ) => el.value === value );\n\treturn (\n\t\t<ValidatedToggleGroupControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\tisBlock\n\t\t\tlabel={ field.label }\n\t\t\thelp={ selectedOption?.description || field.description }\n\t\t\tonChange={ onChangeControl }\n\t\t\tvalue={ value }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t{ elements.map( ( el ) => (\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tkey={ el.value }\n\t\t\t\t\tlabel={ el.label }\n\t\t\t\t\tvalue={ el.value }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</ValidatedToggleGroupControl>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../hooks/use-elements';\n\nconst { ValidatedFormTokenField } = unlock( privateApis );\n\nexport default function ArrayControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, placeholder, getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } );\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\t// Convert stored values to element objects for the token field\n\tconst arrayValueAsElements = useMemo(\n\t\t() =>\n\t\t\tArray.isArray( value )\n\t\t\t\t? value.map( ( token ) => {\n\t\t\t\t\t\tconst element = elements?.find(\n\t\t\t\t\t\t\t( suggestion ) => suggestion.value === token\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn element || { value: token, label: token };\n\t\t\t\t  } )\n\t\t\t\t: [],\n\t\t[ value, elements ]\n\t);\n\n\tconst onChangeControl = useCallback(\n\t\t( tokens: ( string | { value: string; label?: string } )[] ) => {\n\t\t\tconst valueTokens = tokens.map( ( token ) => {\n\t\t\t\tif ( typeof token === 'object' && 'value' in token ) {\n\t\t\t\t\treturn token.value;\n\t\t\t\t}\n\t\t\t\t// If it's a string, it's either a new suggestion value or user input\n\t\t\t\treturn token;\n\t\t\t} );\n\n\t\t\tonChange( setValue( { item: data, value: valueTokens } ) );\n\t\t},\n\t\t[ onChange, setValue, data ]\n\t);\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedFormTokenField\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ hideLabelFromVision ? undefined : label }\n\t\t\tvalue={ arrayValueAsElements }\n\t\t\tonChange={ onChangeControl }\n\t\t\tplaceholder={ placeholder }\n\t\t\tsuggestions={ elements?.map( ( element ) => element.value ) }\n\t\t\t__experimentalValidateInput={ ( token: string ) => {\n\t\t\t\t// If elements validation is required, check if token is valid\n\t\t\t\tif ( field.isValid?.elements && elements ) {\n\t\t\t\t\treturn elements.some(\n\t\t\t\t\t\t( element ) =>\n\t\t\t\t\t\t\telement.value === token || element.label === token\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// For non-elements validation, allow all tokens\n\t\t\t\treturn true;\n\t\t\t} }\n\t\t\t__experimentalExpandOnFocus={ elements && elements.length > 0 }\n\t\t\t__experimentalShowHowTo={ ! field.isValid?.elements }\n\t\t\tdisplayTransform={ ( token: any ) => {\n\t\t\t\t// For existing tokens (element objects), display their label\n\t\t\t\tif ( typeof token === 'object' && 'label' in token ) {\n\t\t\t\t\treturn token.label;\n\t\t\t\t}\n\t\t\t\t// For suggestions (value strings), find the corresponding element and show its label\n\t\t\t\tif ( typeof token === 'string' && elements ) {\n\t\t\t\t\tconst element = elements.find(\n\t\t\t\t\t\t( el ) => el.value === token\n\t\t\t\t\t);\n\t\t\t\t\treturn element?.label || token;\n\t\t\t\t}\n\t\t\t\treturn token;\n\t\t\t} }\n\t\t\t__experimentalRenderItem={ ( { item }: { item: any } ) => {\n\t\t\t\t// Custom rendering for suggestion items (item is a value string)\n\t\t\t\tif ( typeof item === 'string' && elements ) {\n\t\t\t\t\tconst element = elements.find(\n\t\t\t\t\t\t( el ) => el.value === item\n\t\t\t\t\t);\n\t\t\t\t\treturn <span>{ element?.label || item }</span>;\n\t\t\t\t}\n\t\t\t\treturn <span>{ item }</span>;\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { colord } from 'colord';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\tprivateApis,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\nimport { unlock } from '../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedInputControl, Picker } = unlock( privateApis );\n\nconst ColorPicker = ( {\n\tcolor,\n\tonColorChange,\n}: {\n\tcolor: string;\n\tonColorChange: ( colorObject: any ) => void;\n} ) => {\n\tconst validColor = color && colord( color ).isValid() ? color : '#ffffff';\n\n\treturn (\n\t\t<Dropdown\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth: '24px',\n\t\t\t\t\t\t\theight: '24px',\n\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\tbackgroundColor: validColor,\n\t\t\t\t\t\t\tborder: '1px solid #ddd',\n\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\toutline: isOpen ? '2px solid #007cba' : 'none',\n\t\t\t\t\t\t\toutlineOffset: '2px',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-label=\"Open color picker\"\n\t\t\t\t\t/>\n\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t) }\n\t\t\trenderContent={ () => (\n\t\t\t\t<div style={ { padding: '16px' } }>\n\t\t\t\t\t<Picker\n\t\t\t\t\t\tcolor={ colord( validColor ) }\n\t\t\t\t\t\tonChange={ onColorChange }\n\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nexport default function Color< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, placeholder, description, setValue, isValid } = field;\n\tconst value = field.getValue( { item: data } ) || '';\n\n\tconst handleColorChange = useCallback(\n\t\t( colorObject: any ) => {\n\t\t\tonChange( setValue( { item: data, value: colorObject.toHex() } ) );\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst handleInputChange = useCallback(\n\t\t( newValue: string | undefined ) => {\n\t\t\tonChange( setValue( { item: data, value: newValue || '' } ) );\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\treturn (\n\t\t<ValidatedInputControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value }\n\t\t\thelp={ description }\n\t\t\tonChange={ handleInputChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\ttype=\"text\"\n\t\t\tprefix={\n\t\t\t\t<ColorPicker\n\t\t\t\t\tcolor={ value }\n\t\t\t\t\tonColorChange={ handleColorChange }\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n\tButton,\n} from '@wordpress/components';\nimport { useCallback, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { seen, unseen } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport ValidatedText from './utils/validated-input';\nimport type { DataFormControlProps } from '../types';\n\nexport default function Password< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst [ isVisible, setIsVisible ] = useState( false );\n\n\tconst toggleVisibility = useCallback( () => {\n\t\tsetIsVisible( ( prev ) => ! prev );\n\t}, [] );\n\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: isVisible ? 'text' : 'password',\n\t\t\t\tsuffix: (\n\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ isVisible ? unseen : seen }\n\t\t\t\t\t\t\tonClick={ toggleVisibility }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\t\t? __( 'Hide password' )\n\t\t\t\t\t\t\t\t\t: __( 'Show password' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { Field } from '../types/field-api';\n\nexport default function hasElements< Item >( field: Field< Item > ): boolean {\n\treturn (\n\t\t( Array.isArray( field.elements ) && field.elements.length > 0 ) ||\n\t\ttypeof field.getElements === 'function'\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { ComponentType } from 'react';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataFormControlProps,\n\tField,\n\tFieldTypeDefinition,\n\tEditConfig,\n} from '../types';\nimport checkbox from './checkbox';\nimport datetime from './datetime';\nimport date from './date';\nimport email from './email';\nimport telephone from './telephone';\nimport url from './url';\nimport integer from './integer';\nimport number from './number';\nimport radio from './radio';\nimport select from './select';\nimport text from './text';\nimport toggle from './toggle';\nimport textarea from './textarea';\nimport toggleGroup from './toggle-group';\nimport array from './array';\nimport color from './color';\nimport password from './password';\nimport hasElements from '../utils/has-elements';\n\ninterface FormControls {\n\t[ key: string ]: ComponentType< DataFormControlProps< any > >;\n}\n\nconst FORM_CONTROLS: FormControls = {\n\tarray,\n\tcheckbox,\n\tcolor,\n\tdatetime,\n\tdate,\n\temail,\n\ttelephone,\n\turl,\n\tinteger,\n\tnumber,\n\tpassword,\n\tradio,\n\tselect,\n\ttext,\n\ttoggle,\n\ttextarea,\n\ttoggleGroup,\n};\n\nfunction isEditConfig( value: any ): value is EditConfig {\n\treturn (\n\t\tvalue && typeof value === 'object' && typeof value.control === 'string'\n\t);\n}\n\nfunction createConfiguredControl( config: EditConfig ) {\n\tconst { control, ...controlConfig } = config;\n\tconst BaseControlType = getControlByType( control );\n\n\treturn function ConfiguredControl< Item >(\n\t\tprops: DataFormControlProps< Item >\n\t) {\n\t\treturn <BaseControlType { ...props } config={ controlConfig } />;\n\t};\n}\n\nexport function getControl< Item >(\n\tfield: Field< Item >,\n\tfieldTypeDefinition: FieldTypeDefinition< Item >\n) {\n\tif ( typeof field.Edit === 'function' ) {\n\t\treturn field.Edit;\n\t}\n\n\tif ( typeof field.Edit === 'string' ) {\n\t\treturn getControlByType( field.Edit );\n\t}\n\n\tif ( isEditConfig( field.Edit ) ) {\n\t\treturn createConfiguredControl( field.Edit );\n\t}\n\n\tif ( hasElements( field ) && field.type !== 'array' ) {\n\t\treturn getControlByType( 'select' );\n\t}\n\n\tif ( typeof fieldTypeDefinition.Edit === 'string' ) {\n\t\treturn getControlByType( fieldTypeDefinition.Edit );\n\t}\n\n\tif ( isEditConfig( fieldTypeDefinition.Edit ) ) {\n\t\treturn createConfiguredControl( fieldTypeDefinition.Edit );\n\t}\n\n\treturn fieldTypeDefinition.Edit;\n}\n\nexport function getControlByType( type: string ) {\n\tif ( Object.keys( FORM_CONTROLS ).includes( type ) ) {\n\t\treturn FORM_CONTROLS[ type ];\n\t}\n\n\tthrow 'Control ' + type + ' not found';\n}\n", "/**\n * External dependencies\n */\nimport type { FunctionComponent } from 'react';\n\n/**\n * Internal dependencies\n */\nimport getFieldTypeDefinition from '../field-types';\nimport type {\n\tDataViewRenderFieldProps,\n\tField,\n\tFieldTypeDefinition,\n\tNormalizedFilterByConfig,\n\tNormalizedField,\n} from '../types';\nimport { getControl } from '../dataform-controls';\nimport {\n\tALL_OPERATORS,\n\tOPERATOR_BETWEEN,\n\tSINGLE_SELECTION_OPERATORS,\n} from '../constants';\nimport hasElements from './has-elements';\n\nconst getValueFromId =\n\t( id: string ) =>\n\t( { item }: { item: any } ) => {\n\t\tconst path = id.split( '.' );\n\t\tlet value = item;\n\t\tfor ( const segment of path ) {\n\t\t\tif ( value.hasOwnProperty( segment ) ) {\n\t\t\t\tvalue = value[ segment ];\n\t\t\t} else {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t};\n\nconst setValueFromId =\n\t( id: string ) =>\n\t( { value }: { value: any } ) => {\n\t\tconst path = id.split( '.' );\n\t\tconst result: any = {};\n\t\tlet current = result;\n\n\t\tfor ( const segment of path.slice( 0, -1 ) ) {\n\t\t\tcurrent[ segment ] = {};\n\t\t\tcurrent = current[ segment ];\n\t\t}\n\n\t\tcurrent[ path.at( -1 )! ] = value;\n\t\treturn result;\n\t};\n\nfunction getFilterBy< Item >(\n\tfield: Field< Item >,\n\tfieldTypeDefinition: FieldTypeDefinition< Item >\n): NormalizedFilterByConfig | false {\n\tif ( field.filterBy === false ) {\n\t\treturn false;\n\t}\n\n\tif ( typeof field.filterBy === 'object' ) {\n\t\tlet operators = field.filterBy.operators;\n\n\t\t// Assign default values if no operator was provided.\n\t\tif ( ! operators || ! Array.isArray( operators ) ) {\n\t\t\toperators = !! fieldTypeDefinition.filterBy\n\t\t\t\t? fieldTypeDefinition.filterBy.defaultOperators\n\t\t\t\t: [];\n\t\t}\n\n\t\t// Make sure only valid operators are included.\n\t\tlet validOperators = ALL_OPERATORS;\n\t\tif ( typeof fieldTypeDefinition.filterBy === 'object' ) {\n\t\t\tvalidOperators = fieldTypeDefinition.filterBy.validOperators;\n\t\t}\n\t\toperators = operators.filter( ( operator ) =>\n\t\t\tvalidOperators.includes( operator )\n\t\t);\n\n\t\t// The `between` operator is not supported when elements are provided.\n\t\tif ( hasElements( field ) && operators.includes( OPERATOR_BETWEEN ) ) {\n\t\t\toperators = operators.filter(\n\t\t\t\t( operator ) => operator !== OPERATOR_BETWEEN\n\t\t\t);\n\t\t}\n\n\t\t// Do not allow mixing single & multiselection operators.\n\t\t// Remove multiselection operators if any of the single selection ones is present.\n\t\tconst hasSingleSelectionOperator = operators.some( ( operator ) =>\n\t\t\tSINGLE_SELECTION_OPERATORS.includes( operator )\n\t\t);\n\t\tif ( hasSingleSelectionOperator ) {\n\t\t\toperators = operators.filter( ( operator ) =>\n\t\t\t\t// The 'Between' operator is unique as it can be combined with single selection operators.\n\t\t\t\t[ ...SINGLE_SELECTION_OPERATORS, OPERATOR_BETWEEN ].includes(\n\t\t\t\t\toperator\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t// If no operators are left at this point,\n\t\t// the filters should be disabled.\n\t\tif ( operators.length === 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tisPrimary: !! field.filterBy.isPrimary,\n\t\t\toperators,\n\t\t};\n\t}\n\n\tif ( fieldTypeDefinition.filterBy === false ) {\n\t\treturn false;\n\t}\n\n\tlet defaultOperators = fieldTypeDefinition.filterBy.defaultOperators;\n\t// The `between` operator is not supported when elements are provided.\n\tif (\n\t\thasElements( field ) &&\n\t\tdefaultOperators.includes( OPERATOR_BETWEEN )\n\t) {\n\t\tdefaultOperators = defaultOperators.filter(\n\t\t\t( operator ) => operator !== OPERATOR_BETWEEN\n\t\t);\n\t}\n\n\treturn {\n\t\toperators: defaultOperators,\n\t};\n}\n\n/**\n * Apply default values and normalize the fields config.\n *\n * @param fields Fields config.\n * @return Normalized fields config.\n */\nexport default function normalizeFields< Item >(\n\tfields: Field< Item >[]\n): NormalizedField< Item >[] {\n\treturn fields.map( ( field ) => {\n\t\tconst fieldTypeDefinition = getFieldTypeDefinition< Item >(\n\t\t\tfield.type\n\t\t);\n\t\tconst getValue = field.getValue || getValueFromId( field.id );\n\t\tconst setValue = field.setValue || setValueFromId( field.id );\n\n\t\tconst sort =\n\t\t\tfield.sort ??\n\t\t\tfunction sort( a, b, direction ) {\n\t\t\t\treturn fieldTypeDefinition.sort(\n\t\t\t\t\tgetValue( { item: a } ),\n\t\t\t\t\tgetValue( { item: b } ),\n\t\t\t\t\tdirection\n\t\t\t\t);\n\t\t\t};\n\n\t\tconst isValid = {\n\t\t\t...fieldTypeDefinition.isValid,\n\t\t\t...field.isValid,\n\t\t};\n\n\t\tconst Edit = getControl( field, fieldTypeDefinition );\n\n\t\tconst render =\n\t\t\tfield.render ??\n\t\t\tfunction render( {\n\t\t\t\titem,\n\t\t\t\tfield: renderedField,\n\t\t\t}: DataViewRenderFieldProps< Item > ) {\n\t\t\t\treturn (\n\t\t\t\t\tfieldTypeDefinition.render as FunctionComponent<\n\t\t\t\t\t\tDataViewRenderFieldProps< Item >\n\t\t\t\t\t>\n\t\t\t\t )( { item, field: renderedField } );\n\t\t\t};\n\n\t\tconst filterBy = getFilterBy( field, fieldTypeDefinition );\n\n\t\treturn {\n\t\t\t...field,\n\t\t\tlabel: field.label || field.id,\n\t\t\theader: field.header || field.label || field.id,\n\t\t\tgetValue,\n\t\t\tsetValue,\n\t\t\trender,\n\t\t\tsort,\n\t\t\tisValid,\n\t\t\tEdit,\n\t\t\thasElements: hasElements( field ),\n\t\t\tenableHiding: field.enableHiding ?? true,\n\t\t\tenableSorting:\n\t\t\t\tfield.enableSorting ??\n\t\t\t\tfieldTypeDefinition.enableSorting ??\n\t\t\t\ttrue,\n\t\t\tfilterBy,\n\t\t\treadOnly: field.readOnly ?? fieldTypeDefinition.readOnly ?? false,\n\t\t};\n\t} );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormProps } from '../../types';\nimport { DataFormProvider } from '../dataform-context';\nimport normalizeFields from '../../utils/normalize-fields';\nimport { DataFormLayout } from '../../dataform-layouts/data-form-layout';\nimport normalizeForm from '../../dataform-layouts/normalize-form';\n\nexport default function DataForm< Item >( {\n\tdata,\n\tform,\n\tfields,\n\tonChange,\n\tvalidity,\n}: DataFormProps< Item > ) {\n\tconst normalizedForm = useMemo( () => normalizeForm( form ), [ form ] );\n\tconst normalizedFields = useMemo(\n\t\t() => normalizeFields( fields ),\n\t\t[ fields ]\n\t);\n\n\tif ( ! form.fields ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DataFormProvider fields={ normalizedFields }>\n\t\t\t<DataFormLayout\n\t\t\t\tdata={ data }\n\t\t\t\tform={ normalizedForm }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tvalidity={ validity }\n\t\t\t/>\n\t\t</DataFormProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\ntype DataFormContextType< Item > = {\n\tfields: NormalizedField< Item >[];\n};\n\nconst DataFormContext = createContext< DataFormContextType< any > >( {\n\tfields: [],\n} );\nDataFormContext.displayName = 'DataFormContext';\n\nexport function DataFormProvider< Item >( {\n\tfields,\n\tchildren,\n}: React.PropsWithChildren< {\n\tfields: NormalizedField< Item >[];\n} > ) {\n\treturn (\n\t\t<DataFormContext.Provider value={ { fields } }>\n\t\t\t{ children }\n\t\t</DataFormContext.Provider>\n\t);\n}\n\nexport default DataFormContext;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalVStack as VStack } from '@wordpress/components';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldValidity,\n\tFormValidity,\n\tNormalizedForm,\n\tNormalizedFormField,\n} from '../types';\nimport { getFormFieldLayout } from './index';\nimport DataFormContext from '../components/dataform-context';\n\nconst DEFAULT_WRAPPER = ( { children }: { children: React.ReactNode } ) => (\n\t<VStack className=\"dataforms-layouts__wrapper\" spacing={ 4 }>\n\t\t{ children }\n\t</VStack>\n);\n\nexport function DataFormLayout< Item >( {\n\tdata,\n\tform,\n\tonChange,\n\tvalidity,\n\tchildren,\n\tas,\n}: {\n\tdata: Item;\n\tform: NormalizedForm;\n\tonChange: ( value: any ) => void;\n\tvalidity?: FormValidity;\n\tchildren?: (\n\t\tFieldLayout: ( props: {\n\t\t\tdata: Item;\n\t\t\tfield: NormalizedFormField;\n\t\t\tonChange: ( value: any ) => void;\n\t\t\thideLabelFromVision?: boolean;\n\t\t\tvalidity?: FieldValidity;\n\t\t} ) => React.JSX.Element | null,\n\t\tchildField: NormalizedFormField,\n\t\tchildFieldValidity?: FieldValidity\n\t) => React.JSX.Element;\n\tas?: React.ComponentType< { children: React.ReactNode } >;\n} ) {\n\tconst { fields: fieldDefinitions } = useContext( DataFormContext );\n\n\tfunction getFieldDefinition( field: NormalizedFormField ) {\n\t\treturn fieldDefinitions.find(\n\t\t\t( fieldDefinition ) => fieldDefinition.id === field.id\n\t\t);\n\t}\n\n\tconst Wrapper =\n\t\tas ??\n\t\tgetFormFieldLayout( form.layout.type )?.wrapper ??\n\t\tDEFAULT_WRAPPER;\n\n\treturn (\n\t\t<Wrapper layout={ form.layout }>\n\t\t\t{ form.fields.map( ( formField ) => {\n\t\t\t\tconst FieldLayout = getFormFieldLayout( formField.layout.type )\n\t\t\t\t\t?.component;\n\n\t\t\t\tif ( ! FieldLayout ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst fieldDefinition = ! formField.children\n\t\t\t\t\t? getFieldDefinition( formField )\n\t\t\t\t\t: undefined;\n\n\t\t\t\tif (\n\t\t\t\t\tfieldDefinition &&\n\t\t\t\t\tfieldDefinition.isVisible &&\n\t\t\t\t\t! fieldDefinition.isVisible( data )\n\t\t\t\t) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif ( children ) {\n\t\t\t\t\treturn children(\n\t\t\t\t\t\tFieldLayout,\n\t\t\t\t\t\tformField,\n\t\t\t\t\t\tvalidity?.[ formField.id ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\tkey={ formField.id }\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tfield={ formField }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tvalidity={ validity?.[ formField.id ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Wrapper>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedLayout, NormalizedRowLayout } from '../types';\nimport FormRegularField from './regular';\nimport FormPanelField from './panel';\nimport FormCardField from './card';\nimport FormRowField from './row';\nimport FormDetailsField from './details';\n\nconst FORM_FIELD_LAYOUTS = [\n\t{\n\t\ttype: 'regular',\n\t\tcomponent: FormRegularField,\n\t\twrapper: ( { children }: { children: React.ReactNode } ) => (\n\t\t\t<VStack className=\"dataforms-layouts__wrapper\" spacing={ 4 }>\n\t\t\t\t{ children }\n\t\t\t</VStack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'panel',\n\t\tcomponent: FormPanelField,\n\t\twrapper: ( { children }: { children: React.ReactNode } ) => (\n\t\t\t<VStack className=\"dataforms-layouts__wrapper\" spacing={ 2 }>\n\t\t\t\t{ children }\n\t\t\t</VStack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'card',\n\t\tcomponent: FormCardField,\n\t\twrapper: ( { children }: { children: React.ReactNode } ) => (\n\t\t\t<VStack className=\"dataforms-layouts__wrapper\" spacing={ 6 }>\n\t\t\t\t{ children }\n\t\t\t</VStack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'row',\n\t\tcomponent: FormRowField,\n\t\twrapper: ( {\n\t\t\tchildren,\n\t\t\tlayout,\n\t\t}: {\n\t\t\tchildren: React.ReactNode;\n\t\t\tlayout: NormalizedLayout;\n\t\t} ) => (\n\t\t\t<VStack className=\"dataforms-layouts__wrapper\" spacing={ 4 }>\n\t\t\t\t<div className=\"dataforms-layouts-row__field\">\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\t\talignment={\n\t\t\t\t\t\t\t( layout as NormalizedRowLayout ).alignment\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t</HStack>\n\t\t\t\t</div>\n\t\t\t</VStack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'details',\n\t\tcomponent: FormDetailsField,\n\t},\n];\n\nexport function getFormFieldLayout( type: string ) {\n\treturn FORM_FIELD_LAYOUTS.find( ( layout ) => layout.type === type );\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useContext, useMemo } from '@wordpress/element';\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalHeading as Heading,\n\t__experimentalSpacer as Spacer,\n\tBaseControl,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldLayoutProps,\n\tNormalizedForm,\n\tNormalizedRegularLayout,\n} from '../../types';\nimport DataFormContext from '../../components/dataform-context';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\n\nfunction Header( { title }: { title: string } ) {\n\treturn (\n\t\t<VStack className=\"dataforms-layouts-regular__header\" spacing={ 4 }>\n\t\t\t<HStack alignment=\"center\">\n\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t\t<Spacer />\n\t\t\t</HStack>\n\t\t</VStack>\n\t);\n}\n\nexport default function FormRegularField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst layout = field.layout as NormalizedRegularLayout;\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: !! field.children ? field.children : [],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\tif ( !! field.children ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ ! hideLabelFromVision && field.label && (\n\t\t\t\t\t<Header title={ field.label } />\n\t\t\t\t) }\n\t\t\t\t<DataFormLayout\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tform={ form }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tvalidity={ validity?.children }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst labelPosition = layout.labelPosition;\n\tconst fieldDefinition = fields.find(\n\t\t( fieldDef ) => fieldDef.id === field.id\n\t);\n\n\tif ( ! fieldDefinition || ! fieldDefinition.Edit ) {\n\t\treturn null;\n\t}\n\n\tif ( labelPosition === 'side' ) {\n\t\treturn (\n\t\t\t<HStack className=\"dataforms-layouts-regular__field\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t'dataforms-layouts-regular__field-label',\n\t\t\t\t\t\t`dataforms-layouts-regular__field-label--label-position-${ labelPosition }`\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ fieldDefinition.label }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"dataforms-layouts-regular__field-control\">\n\t\t\t\t\t{ fieldDefinition.readOnly === true ? (\n\t\t\t\t\t\t<fieldDefinition.render\n\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<fieldDefinition.Edit\n\t\t\t\t\t\t\tkey={ fieldDefinition.id }\n\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalidity={ validity }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</HStack>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"dataforms-layouts-regular__field\">\n\t\t\t{ fieldDefinition.readOnly === true ? (\n\t\t\t\t<>\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ! hideLabelFromVision && labelPosition !== 'none' && (\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ fieldDefinition.label }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<fieldDefinition.render\n\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<fieldDefinition.Edit\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\thideLabelFromVision={\n\t\t\t\t\t\tlabelPosition === 'none' ? true : hideLabelFromVision\n\t\t\t\t\t}\n\t\t\t\t\tvalidity={ validity }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type {\n\tForm,\n\tLayout,\n\tNormalizedForm,\n\tNormalizedFormField,\n\tNormalizedLayout,\n\tNormalizedRegularLayout,\n\tNormalizedPanelLayout,\n\tNormalizedCardLayout,\n\tNormalizedRowLayout,\n\tNormalizedDetailsLayout,\n\tNormalizedCardSummaryField,\n\tCardSummaryField,\n} from '../types';\n\nexport const DEFAULT_LAYOUT: NormalizedLayout = {\n\ttype: 'regular',\n\tlabelPosition: 'top',\n} as NormalizedRegularLayout;\n\nconst normalizeCardSummaryField = (\n\tsum: CardSummaryField\n): NormalizedCardSummaryField => {\n\tif ( typeof sum === 'string' ) {\n\t\treturn [ { id: sum, visibility: 'when-collapsed' } ];\n\t}\n\treturn sum.map( ( item ) => {\n\t\tif ( typeof item === 'string' ) {\n\t\t\treturn { id: item, visibility: 'when-collapsed' };\n\t\t}\n\t\treturn { id: item.id, visibility: item.visibility };\n\t} );\n};\n\n/**\n * Normalizes a layout configuration based on its type.\n *\n * @param layout The layout object to normalize.\n * @return The normalized layout object.\n */\nfunction normalizeLayout( layout?: Layout ): NormalizedLayout {\n\tlet normalizedLayout = DEFAULT_LAYOUT;\n\n\tif ( layout?.type === 'regular' ) {\n\t\tnormalizedLayout = {\n\t\t\ttype: 'regular',\n\t\t\tlabelPosition: layout?.labelPosition ?? 'top',\n\t\t} satisfies NormalizedRegularLayout;\n\t} else if ( layout?.type === 'panel' ) {\n\t\tconst summary = layout.summary ?? [];\n\t\tconst normalizedSummary = Array.isArray( summary )\n\t\t\t? summary\n\t\t\t: [ summary ];\n\n\t\tnormalizedLayout = {\n\t\t\ttype: 'panel',\n\t\t\tlabelPosition: layout?.labelPosition ?? 'side',\n\t\t\topenAs: layout?.openAs ?? 'dropdown',\n\t\t\tsummary: normalizedSummary,\n\t\t} satisfies NormalizedPanelLayout;\n\t} else if ( layout?.type === 'card' ) {\n\t\tif ( layout.withHeader === false ) {\n\t\t\t// Don't let isOpened be false if withHeader is false.\n\t\t\t// Otherwise, the card will not be visible.\n\t\t\tnormalizedLayout = {\n\t\t\t\ttype: 'card',\n\t\t\t\twithHeader: false,\n\t\t\t\tisOpened: true,\n\t\t\t\tsummary: [],\n\t\t\t\tisCollapsible: false,\n\t\t\t} satisfies NormalizedCardLayout;\n\t\t} else {\n\t\t\tconst summary = layout.summary ?? [];\n\n\t\t\tnormalizedLayout = {\n\t\t\t\ttype: 'card',\n\t\t\t\twithHeader: true,\n\t\t\t\tisOpened:\n\t\t\t\t\ttypeof layout.isOpened === 'boolean'\n\t\t\t\t\t\t? layout.isOpened\n\t\t\t\t\t\t: true,\n\t\t\t\tsummary: normalizeCardSummaryField( summary ),\n\t\t\t\tisCollapsible:\n\t\t\t\t\tlayout.isCollapsible === undefined\n\t\t\t\t\t\t? true\n\t\t\t\t\t\t: layout.isCollapsible,\n\t\t\t} satisfies NormalizedCardLayout;\n\t\t}\n\t} else if ( layout?.type === 'row' ) {\n\t\tnormalizedLayout = {\n\t\t\ttype: 'row',\n\t\t\talignment: layout?.alignment ?? 'center',\n\t\t\tstyles: layout?.styles ?? {},\n\t\t} satisfies NormalizedRowLayout;\n\t} else if ( layout?.type === 'details' ) {\n\t\tnormalizedLayout = {\n\t\t\ttype: 'details',\n\t\t\tsummary: layout?.summary ?? '',\n\t\t} satisfies NormalizedDetailsLayout;\n\t}\n\n\treturn normalizedLayout;\n}\n\nfunction normalizeForm( form: Form ): NormalizedForm {\n\tconst normalizedFormLayout = normalizeLayout( form?.layout );\n\n\tconst normalizedFields: NormalizedFormField[] = ( form.fields ?? [] ).map(\n\t\t( field ) => {\n\t\t\tif ( typeof field === 'string' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: field,\n\t\t\t\t\tlayout: normalizedFormLayout,\n\t\t\t\t} satisfies NormalizedFormField;\n\t\t\t}\n\n\t\t\tconst fieldLayout = field.layout\n\t\t\t\t? normalizeLayout( field.layout )\n\t\t\t\t: normalizedFormLayout;\n\n\t\t\treturn {\n\t\t\t\tid: field.id,\n\t\t\t\tlayout: fieldLayout,\n\t\t\t\t...( !! field.label && { label: field.label } ),\n\t\t\t\t...( !! field.description && {\n\t\t\t\t\tdescription: field.description,\n\t\t\t\t} ),\n\t\t\t\t...( 'children' in field &&\n\t\t\t\t\tArray.isArray( field.children ) && {\n\t\t\t\t\t\tchildren: normalizeForm( {\n\t\t\t\t\t\t\tfields: field.children,\n\t\t\t\t\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\t\t\t\t} ).fields,\n\t\t\t\t\t} ),\n\t\t\t} satisfies NormalizedFormField;\n\t\t}\n\t);\n\n\treturn {\n\t\tlayout: normalizedFormLayout,\n\t\tfields: normalizedFields,\n\t};\n}\n\nexport default normalizeForm;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useState, useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldLayoutProps,\n\tNormalizedField,\n\tNormalizedFormField,\n\tNormalizedPanelLayout,\n} from '../../types';\nimport DataFormContext from '../../components/dataform-context';\nimport PanelDropdown from './dropdown';\nimport PanelModal from './modal';\nimport { getSummaryFields } from '../get-summary-fields';\n\nconst getFieldDefinition = < Item, >(\n\tfield: NormalizedFormField,\n\tfields: NormalizedField< Item >[]\n) => {\n\tconst fieldDefinition = fields.find( ( _field ) => _field.id === field.id );\n\n\tif ( ! fieldDefinition ) {\n\t\treturn fields.find( ( _field ) => {\n\t\t\tif ( !! field.children ) {\n\t\t\t\tconst simpleChildren = field.children.filter(\n\t\t\t\t\t( child ) => ! child.children\n\t\t\t\t);\n\n\t\t\t\tif ( simpleChildren.length === 0 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn _field.id === simpleChildren[ 0 ].id;\n\t\t\t}\n\n\t\t\treturn _field.id === field.id;\n\t\t} );\n\t}\n\n\treturn fieldDefinition;\n};\n\n/**\n * Determines the field definition and summary fields for a panel layout.\n *\n * Summary fields are determined with the following priority:\n * 1. Use layout.summary fields if they exist\n * 2. Fall back to the field definition that matches the form field's id\n * 3. If the form field id doesn't exist, pick the first child field\n * 4. If no field definition is found, return empty summary fields\n *\n * @param layout - The normalized panel layout configuration\n * @param field  - The form field to get definition for\n * @param fields - Array of normalized field definitions\n * @return Object containing fieldDefinition and summaryFields\n */\nconst getFieldDefinitionAndSummaryFields = < Item, >(\n\tlayout: NormalizedPanelLayout,\n\tfield: NormalizedFormField,\n\tfields: NormalizedField< Item >[]\n) => {\n\tconst summaryFields = getSummaryFields( layout.summary, fields );\n\tconst fieldDefinition = getFieldDefinition( field, fields );\n\n\tif ( summaryFields.length === 0 ) {\n\t\treturn {\n\t\t\tsummaryFields: fieldDefinition ? [ fieldDefinition ] : [],\n\t\t\tfieldDefinition,\n\t\t};\n\t}\n\n\treturn {\n\t\tsummaryFields,\n\t\tfieldDefinition,\n\t};\n};\n\nexport default function FormPanelField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst layout = field.layout as NormalizedPanelLayout;\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState< HTMLElement | null >(\n\t\tnull\n\t);\n\n\tconst { fieldDefinition, summaryFields } =\n\t\tgetFieldDefinitionAndSummaryFields( layout, field, fields );\n\n\tif ( ! fieldDefinition ) {\n\t\treturn null;\n\t}\n\n\tconst labelPosition = layout.labelPosition;\n\tconst labelClassName = clsx(\n\t\t'dataforms-layouts-panel__field-label',\n\t\t`dataforms-layouts-panel__field-label--label-position-${ labelPosition }`\n\t);\n\tconst fieldLabel = !! field.children ? field.label : fieldDefinition?.label;\n\n\tconst renderedControl =\n\t\tlayout.openAs === 'modal' ? (\n\t\t\t<PanelModal\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\tfieldDefinition={ fieldDefinition }\n\t\t\t/>\n\t\t) : (\n\t\t\t<PanelDropdown\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tvalidity={ validity }\n\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\tfieldDefinition={ fieldDefinition }\n\t\t\t\tpopoverAnchor={ popoverAnchor }\n\t\t\t/>\n\t\t);\n\n\tif ( labelPosition === 'top' ) {\n\t\treturn (\n\t\t\t<VStack className=\"dataforms-layouts-panel__field\" spacing={ 0 }>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ labelClassName }\n\t\t\t\t\tstyle={ { paddingBottom: 0 } }\n\t\t\t\t>\n\t\t\t\t\t{ fieldLabel }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"dataforms-layouts-panel__field-control\">\n\t\t\t\t\t{ renderedControl }\n\t\t\t\t</div>\n\t\t\t</VStack>\n\t\t);\n\t}\n\n\tif ( labelPosition === 'none' ) {\n\t\treturn (\n\t\t\t<div className=\"dataforms-layouts-panel__field\">\n\t\t\t\t{ renderedControl }\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Defaults to label position side.\n\treturn (\n\t\t<HStack\n\t\t\tref={ setPopoverAnchor }\n\t\t\tclassName=\"dataforms-layouts-panel__field\"\n\t\t>\n\t\t\t<div className={ labelClassName }>{ fieldLabel }</div>\n\t\t\t<div className=\"dataforms-layouts-panel__field-control\">\n\t\t\t\t{ renderedControl }\n\t\t\t</div>\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\t__experimentalSpacer as Spacer,\n\tDropdown,\n\tButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldValidity,\n\tNormalizedForm,\n\tNormalizedFormField,\n\tFormValidity,\n\tNormalizedField,\n} from '../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport SummaryButton from './summary-button';\n\nfunction DropdownHeader( {\n\ttitle,\n\tonClose,\n}: {\n\ttitle?: string;\n\tonClose: () => void;\n} ) {\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"dataforms-layouts-panel__dropdown-header\"\n\t\t\tspacing={ 4 }\n\t\t>\n\t\t\t<HStack alignment=\"center\">\n\t\t\t\t{ title && (\n\t\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</Heading>\n\t\t\t\t) }\n\t\t\t\t<Spacer />\n\t\t\t\t{ onClose && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t</VStack>\n\t);\n}\n\nfunction PanelDropdown< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tvalidity,\n\tlabelPosition = 'side',\n\tsummaryFields,\n\tfieldDefinition,\n\tpopoverAnchor,\n}: {\n\tdata: Item;\n\tfield: NormalizedFormField;\n\tonChange: ( value: any ) => void;\n\tvalidity?: FieldValidity;\n\tlabelPosition: 'side' | 'top' | 'none';\n\tsummaryFields: NormalizedField< Item >[];\n\tfieldDefinition: NormalizedField< Item >;\n\tpopoverAnchor: HTMLElement | null;\n} ) {\n\tconst fieldLabel = !! field.children ? field.label : fieldDefinition?.label;\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: !! field.children\n\t\t\t\t? field.children\n\t\t\t\t: // If not explicit children return the field id itself.\n\t\t\t\t  [ { id: field.id, layout: DEFAULT_LAYOUT } ],\n\t\t} ),\n\t\t[ field ]\n\t);\n\tconst formValidity = useMemo( (): FormValidity => {\n\t\tif ( validity === undefined ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif ( !! field.children ) {\n\t\t\treturn validity?.children;\n\t\t}\n\n\t\treturn { [ field.id ]: validity };\n\t}, [ validity, field ] );\n\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"dataforms-layouts-panel__field-dropdown\"\n\t\t\tpopoverProps={ popoverProps }\n\t\t\tfocusOnMount\n\t\t\ttoggleProps={ {\n\t\t\t\tsize: 'compact',\n\t\t\t\tvariant: 'tertiary',\n\t\t\t\ttooltipPosition: 'middle left',\n\t\t\t} }\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<SummaryButton\n\t\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\t\tfieldLabel={ fieldLabel }\n\t\t\t\t\tdisabled={ fieldDefinition.readOnly === true }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<DropdownHeader title={ fieldLabel } onClose={ onClose } />\n\t\t\t\t\t<DataFormLayout\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tform={ form }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tvalidity={ formValidity }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( FieldLayout, childField, childFieldValidity ) => (\n\t\t\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\t\t\tkey={ childField.id }\n\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\tfield={ childField }\n\t\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\t\thideLabelFromVision={\n\t\t\t\t\t\t\t\t\t( form?.fields ?? [] ).length < 2\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalidity={ childFieldValidity }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DataFormLayout>\n\t\t\t\t</>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default PanelDropdown;\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { sprintf, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nfunction SummaryButton< Item >( {\n\tsummaryFields,\n\tdata,\n\tlabelPosition,\n\tfieldLabel,\n\tdisabled,\n\tonClick,\n\t'aria-expanded': ariaExpanded,\n}: {\n\tsummaryFields: NormalizedField< Item >[];\n\tdata: Item;\n\tlabelPosition: 'side' | 'top' | 'none';\n\tfieldLabel?: string;\n\tdisabled?: boolean;\n\tonClick: () => void;\n\t'aria-expanded'?: boolean;\n} ) {\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"dataforms-layouts-panel__summary-button\"\n\t\t\tsize=\"compact\"\n\t\t\tvariant={\n\t\t\t\t[ 'none', 'top' ].includes( labelPosition )\n\t\t\t\t\t? 'link'\n\t\t\t\t\t: 'tertiary'\n\t\t\t}\n\t\t\taria-expanded={ ariaExpanded }\n\t\t\taria-label={ sprintf(\n\t\t\t\t// translators: %s: Field name.\n\t\t\t\t_x( 'Edit %s', 'field' ),\n\t\t\t\tfieldLabel || ''\n\t\t\t) }\n\t\t\tonClick={ onClick }\n\t\t\tdisabled={ disabled }\n\t\t\taccessibleWhenDisabled\n\t\t\tstyle={\n\t\t\t\tsummaryFields.length > 1\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tminHeight: 'auto',\n\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\talignItems: 'flex-start',\n\t\t\t\t\t  }\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t>\n\t\t\t{ summaryFields.length > 1 ? (\n\t\t\t\t<div\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'flex-start',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tgap: '2px',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ summaryFields.map( ( summaryField ) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) ) }\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\tsummaryFields.map( ( summaryField ) => (\n\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t/>\n\t\t\t\t) )\n\t\t\t) }\n\t\t</Button>\n\t);\n}\n\nexport default SummaryButton;\n", "/**\n * External dependencies\n */\nimport deepMerge from 'deepmerge';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\tButton,\n\tModal,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext, useState, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tField,\n\tNormalizedForm,\n\tNormalizedFormField,\n\tNormalizedField,\n} from '../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport SummaryButton from './summary-button';\nimport useFormValidity from '../../hooks/use-form-validity';\nimport DataFormContext from '../../components/dataform-context';\n\nfunction ModalContent< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tfieldLabel,\n\tonClose,\n}: {\n\tdata: Item;\n\tfield: NormalizedFormField;\n\tonChange: ( data: Partial< Item > ) => void;\n\tonClose: () => void;\n\tfieldLabel: string;\n} ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst [ changes, setChanges ] = useState< Partial< Item > >( {} );\n\tconst modalData = useMemo( () => {\n\t\treturn deepMerge( data, changes );\n\t}, [ data, changes ] );\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: !! field.children\n\t\t\t\t? field.children\n\t\t\t\t: // If not explicit children return the field id itself.\n\t\t\t\t  [ { id: field.id, layout: DEFAULT_LAYOUT } ],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\tconst { validity } = useFormValidity(\n\t\tmodalData,\n\t\tfields as Field< any >[],\n\t\tform\n\t);\n\n\tconst onApply = () => {\n\t\tonChange( changes );\n\t\tonClose();\n\t};\n\n\tconst handleOnChange = ( newValue: Partial< Item > ) => {\n\t\tsetChanges( ( prev ) => deepMerge( prev, newValue ) );\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"dataforms-layouts-panel__modal\"\n\t\t\tonRequestClose={ onClose }\n\t\t\tisFullScreen={ false }\n\t\t\ttitle={ fieldLabel }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<DataFormLayout\n\t\t\t\tdata={ modalData }\n\t\t\t\tform={ form }\n\t\t\t\tonChange={ handleOnChange }\n\t\t\t\tvalidity={ validity }\n\t\t\t>\n\t\t\t\t{ ( FieldLayout, childField, childFieldValidity ) => (\n\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\tkey={ childField.id }\n\t\t\t\t\t\tdata={ modalData }\n\t\t\t\t\t\tfield={ childField }\n\t\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\t\thideLabelFromVision={ form.fields.length < 2 }\n\t\t\t\t\t\tvalidity={ childFieldValidity }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</DataFormLayout>\n\t\t\t<HStack\n\t\t\t\tclassName=\"dataforms-layouts-panel__modal-footer\"\n\t\t\t\tspacing={ 3 }\n\t\t\t>\n\t\t\t\t<Spacer />\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tonClick={ onApply }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Apply' ) }\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t</Modal>\n\t);\n}\n\nfunction PanelModal< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tlabelPosition,\n\tsummaryFields,\n\tfieldDefinition,\n}: {\n\tdata: Item;\n\tfield: NormalizedFormField;\n\tonChange: ( value: any ) => void;\n\tlabelPosition: 'side' | 'top' | 'none';\n\tsummaryFields: NormalizedField< Item >[];\n\tfieldDefinition: NormalizedField< Item >;\n} ) {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\n\tconst fieldLabel = !! field.children ? field.label : fieldDefinition?.label;\n\n\treturn (\n\t\t<>\n\t\t\t<SummaryButton\n\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\tdata={ data }\n\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\tfieldLabel={ fieldLabel }\n\t\t\t\tdisabled={ fieldDefinition.readOnly === true }\n\t\t\t\tonClick={ () => setIsOpen( true ) }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t/>\n\t\t\t{ isOpen && (\n\t\t\t\t<ModalContent\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tfield={ field }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tfieldLabel={ fieldLabel ?? '' }\n\t\t\t\t\tonClose={ () => setIsOpen( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default PanelModal;\n", "/**\n * External dependencies\n */\nimport deepMerge from 'deepmerge';\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport normalizeFields from '../utils/normalize-fields';\nimport normalizeForm from '../dataform-layouts/normalize-form';\nimport type {\n\tField,\n\tFieldValidity,\n\tForm,\n\tFormValidity,\n\tNormalizedField,\n\tNormalizedFormField,\n} from '../types';\nconst isEmptyNullOrUndefined = ( value: any ) =>\n\t[ undefined, '', null ].includes( value );\n\nconst isArrayOrElementsEmptyNullOrUndefined = ( value: any ) => {\n\treturn (\n\t\t! Array.isArray( value ) ||\n\t\tvalue.length === 0 ||\n\t\tvalue.every( ( element: any ) => isEmptyNullOrUndefined( element ) )\n\t);\n};\n\nfunction isInvalidForRequired( fieldType: string | undefined, value: any ) {\n\tif (\n\t\t( fieldType === undefined && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'text' && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'email' && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'url' && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'telephone' && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'password' && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'integer' && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'number' && isEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'array' &&\n\t\t\tisArrayOrElementsEmptyNullOrUndefined( value ) ) ||\n\t\t( fieldType === 'boolean' && value !== true )\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction isFormValid( formValidity: FormValidity | undefined ): boolean {\n\tif ( ! formValidity ) {\n\t\treturn true;\n\t}\n\n\treturn Object.values( formValidity ).every( ( fieldValidation ) => {\n\t\treturn Object.entries( fieldValidation ).every(\n\t\t\t( [ key, validation ] ) => {\n\t\t\t\tif (\n\t\t\t\t\tkey === 'children' &&\n\t\t\t\t\tvalidation &&\n\t\t\t\t\ttypeof validation === 'object'\n\t\t\t\t) {\n\t\t\t\t\t// Recursively check children validations\n\t\t\t\t\treturn isFormValid( validation as FormValidity );\n\t\t\t\t}\n\t\t\t\treturn validation.type === 'valid';\n\t\t\t}\n\t\t);\n\t} );\n}\n\ntype FormFieldToValidate< Item > = {\n\tid: string;\n\tchildren: FormFieldToValidate< Item >[];\n\tfield?: NormalizedField< Item >;\n};\n\nfunction getFormFieldsToValidate< Item >(\n\tform: Form,\n\tfields: Field< Item >[]\n): FormFieldToValidate< Item >[] {\n\tconst normalizedForm = normalizeForm( form );\n\tif ( normalizedForm.fields.length === 0 ) {\n\t\treturn [];\n\t}\n\n\t// Create a map of field IDs to Field definitions for fast lookup\n\tconst fieldsMap = new Map< string, Field< Item > >();\n\tfields.forEach( ( field ) => {\n\t\tfieldsMap.set( field.id, field );\n\t} );\n\n\t// Recursive function to process form fields and their children\n\tfunction processFormField(\n\t\tformField: NormalizedFormField\n\t): FormFieldToValidate< Item > | null {\n\t\t// Handle combined fields (fields with children)\n\t\tif ( 'children' in formField && Array.isArray( formField.children ) ) {\n\t\t\tconst processedChildren = formField.children\n\t\t\t\t.map( processFormField )\n\t\t\t\t.filter( ( child ) => child !== null );\n\n\t\t\tif ( processedChildren.length === 0 ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst fieldDef = fieldsMap.get( formField.id );\n\t\t\tif ( fieldDef ) {\n\t\t\t\tconst [ normalizedField ] = normalizeFields< Item >( [\n\t\t\t\t\tfieldDef,\n\t\t\t\t] );\n\n\t\t\t\treturn {\n\t\t\t\t\tid: formField.id,\n\t\t\t\t\tchildren: processedChildren,\n\t\t\t\t\tfield: normalizedField,\n\t\t\t\t} satisfies FormFieldToValidate< Item >;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: formField.id,\n\t\t\t\tchildren: processedChildren,\n\t\t\t} satisfies FormFieldToValidate< Item >;\n\t\t}\n\n\t\t// Handle leaf fields (fields without children)\n\t\tconst fieldDef = fieldsMap.get( formField.id );\n\t\tif ( ! fieldDef ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst [ normalizedField ] = normalizeFields< Item >( [ fieldDef ] );\n\t\treturn {\n\t\t\tid: formField.id,\n\t\t\tchildren: [],\n\t\t\tfield: normalizedField,\n\t\t} as FormFieldToValidate< Item >;\n\t}\n\n\tconst toValidate = normalizedForm.fields\n\t\t.map( processFormField )\n\t\t.filter( ( field ) => field !== null );\n\n\treturn toValidate;\n}\n\nfunction setValidityAtPath(\n\tformValidity: FormValidity | undefined,\n\tfieldValidity: FieldValidity,\n\tpath: string[]\n): FormValidity {\n\t// Handle empty validity or empty path\n\tif ( ! formValidity ) {\n\t\tformValidity = {};\n\t}\n\n\tif ( path.length === 0 ) {\n\t\treturn formValidity;\n\t}\n\n\t// Clone the root to avoid mutations\n\tconst result = { ...formValidity };\n\n\t// Navigate through the result tree,\n\t// setting up empty paths if they don't exist.\n\tlet current: any = result;\n\tfor ( let i = 0; i < path.length - 1; i++ ) {\n\t\tconst segment = path[ i ];\n\t\tif ( ! current[ segment ] ) {\n\t\t\tcurrent[ segment ] = {};\n\t\t}\n\n\t\tcurrent = current[ segment ];\n\t}\n\n\t// At the final destination, merge the new validity with the existing.\n\tconst finalKey = path[ path.length - 1 ];\n\tcurrent[ finalKey ] = {\n\t\t...( current[ finalKey ] || {} ),\n\t\t...fieldValidity,\n\t};\n\n\treturn result;\n}\n\nfunction handleElementsValidationAsync< Item >(\n\tpromise: Promise< any >,\n\tformField: FormFieldToValidate< Item >,\n\tpromiseHandler: PromiseHandler< Item >\n) {\n\tconst { elementsCounterRef, setFormValidity, path, item } = promiseHandler;\n\tconst currentToken =\n\t\t( elementsCounterRef.current[ formField.id ] || 0 ) + 1;\n\telementsCounterRef.current[ formField.id ] = currentToken;\n\n\tpromise\n\t\t.then( ( result ) => {\n\t\t\tif ( currentToken !== elementsCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! Array.isArray( result ) ) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: __( 'Could not validate elements.' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst validValues = result.map( ( el ) => el.value );\n\t\t\tif (\n\t\t\t\t!! formField.field &&\n\t\t\t\tformField.field.type !== 'array' &&\n\t\t\t\t! validValues.includes( formField.field.getValue( { item } ) )\n\t\t\t) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: __(\n\t\t\t\t\t\t\t\t\t'Value must be one of the elements.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!! formField.field &&\n\t\t\t\tformField.field.type === 'array' &&\n\t\t\t\t! Array.isArray( formField.field.getValue( { item } ) )\n\t\t\t) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: __( 'Value must be an array.' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!! formField.field &&\n\t\t\t\tformField.field.type === 'array' &&\n\t\t\t\tformField.field\n\t\t\t\t\t.getValue( { item } )\n\t\t\t\t\t.some( ( v: any ) => ! validValues.includes( v ) )\n\t\t\t) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: __(\n\t\t\t\t\t\t\t\t\t'Value must be one of the elements.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t}\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\tif ( currentToken !== elementsCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet errorMessage;\n\t\t\tif ( error instanceof Error ) {\n\t\t\t\terrorMessage = error.message;\n\t\t\t} else {\n\t\t\t\terrorMessage =\n\t\t\t\t\tString( error ) ||\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Unknown error when running elements validation asynchronously.'\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\tprev,\n\t\t\t\t\t{\n\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t);\n\t\t\t\treturn newFormValidity;\n\t\t\t} );\n\t\t} );\n}\n\nfunction handleCustomValidationAsync< Item >(\n\tpromise: Promise< any >,\n\tformField: FormFieldToValidate< Item >,\n\tpromiseHandler: PromiseHandler< Item >\n) {\n\tconst { customCounterRef, setFormValidity, path } = promiseHandler;\n\tconst currentToken = ( customCounterRef.current[ formField.id ] || 0 ) + 1;\n\tcustomCounterRef.current[ formField.id ] = currentToken;\n\n\tpromise\n\t\t.then( ( result ) => {\n\t\t\tif ( currentToken !== customCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( result === null ) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcustom: {\n\t\t\t\t\t\t\t\ttype: 'valid',\n\t\t\t\t\t\t\t\tmessage: __( 'Valid' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( typeof result === 'string' ) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcustom: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: result,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\tprev,\n\t\t\t\t\t{\n\t\t\t\t\t\tcustom: {\n\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\tmessage: __( 'Validation could not be processed.' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t);\n\t\t\t\treturn newFormValidity;\n\t\t\t} );\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\tif ( currentToken !== customCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet errorMessage;\n\t\t\tif ( error instanceof Error ) {\n\t\t\t\terrorMessage = error.message;\n\t\t\t} else {\n\t\t\t\terrorMessage =\n\t\t\t\t\tString( error ) ||\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Unknown error when running custom validation asynchronously.'\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\tprev,\n\t\t\t\t\t{\n\t\t\t\t\t\tcustom: {\n\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t);\n\t\t\t\treturn newFormValidity;\n\t\t\t} );\n\t\t} );\n}\n\ntype PromiseHandler< Item > = {\n\tcustomCounterRef: React.MutableRefObject< Record< string, number > >;\n\telementsCounterRef: React.MutableRefObject< Record< string, number > >;\n\tsetFormValidity: React.Dispatch< React.SetStateAction< FormValidity > >;\n\tpath: string[];\n\titem: Item;\n};\n\nfunction validateFormField< Item >(\n\titem: Item,\n\tformField: FormFieldToValidate< Item >,\n\tpromiseHandler: PromiseHandler< Item >\n): FieldValidity | undefined {\n\t// Validate the field: isValid.required\n\tif (\n\t\t!! formField.field &&\n\t\tformField.field.isValid.required &&\n\t\tisInvalidForRequired(\n\t\t\tformField.field.type,\n\t\t\tformField.field.getValue( { item } )\n\t\t)\n\t) {\n\t\treturn {\n\t\t\trequired: { type: 'invalid' },\n\t\t};\n\t}\n\n\t// Validate the field: isValid.elements (static)\n\tif (\n\t\t!! formField.field &&\n\t\tformField.field.isValid.elements &&\n\t\tformField.field.hasElements &&\n\t\t! formField.field.getElements &&\n\t\tArray.isArray( formField.field.elements )\n\t) {\n\t\tconst value = formField.field.getValue( { item } );\n\t\tconst validValues = formField.field.elements.map( ( el ) => el.value );\n\n\t\tif (\n\t\t\tformField.field.type !== 'array' &&\n\t\t\t! validValues.includes( value )\n\t\t) {\n\t\t\treturn {\n\t\t\t\telements: {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: __( 'Value must be one of the elements.' ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tif ( formField.field.type === 'array' && ! Array.isArray( value ) ) {\n\t\t\treturn {\n\t\t\t\telements: {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: __( 'Value must be an array.' ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tif (\n\t\t\tformField.field.type === 'array' &&\n\t\t\tvalue.some( ( v: any ) => ! validValues.includes( v ) )\n\t\t) {\n\t\t\treturn {\n\t\t\t\telements: {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: __( 'Value must be one of the elements.' ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\t// Validate the field: isValid.elements (async)\n\tif (\n\t\t!! formField.field &&\n\t\tformField.field.isValid.elements &&\n\t\tformField.field.hasElements &&\n\t\ttypeof formField.field.getElements === 'function'\n\t) {\n\t\thandleElementsValidationAsync(\n\t\t\tformField.field.getElements(),\n\t\t\tformField,\n\t\t\tpromiseHandler\n\t\t);\n\n\t\treturn {\n\t\t\telements: {\n\t\t\t\ttype: 'validating',\n\t\t\t\tmessage: __( 'Validating\u2026' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.custom (sync)\n\tlet customError;\n\tif ( !! formField.field ) {\n\t\ttry {\n\t\t\tconst value = formField.field.getValue( { item } );\n\t\t\tcustomError = formField.field.isValid?.custom?.(\n\t\t\t\tdeepMerge(\n\t\t\t\t\titem,\n\t\t\t\t\tformField.field.setValue( {\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t} ) as Partial< Item >\n\t\t\t\t),\n\t\t\t\tformField.field\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tlet errorMessage;\n\t\t\tif ( error instanceof Error ) {\n\t\t\t\terrorMessage = error.message;\n\t\t\t} else {\n\t\t\t\terrorMessage =\n\t\t\t\t\tString( error ) ||\n\t\t\t\t\t__( 'Unknown error when running custom validation.' );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcustom: {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\tif ( typeof customError === 'string' ) {\n\t\treturn {\n\t\t\tcustom: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: customError,\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.custom (async)\n\tif ( customError instanceof Promise ) {\n\t\thandleCustomValidationAsync( customError, formField, promiseHandler );\n\n\t\treturn {\n\t\t\tcustom: {\n\t\t\t\ttype: 'validating',\n\t\t\t\tmessage: __( 'Validating\u2026' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate its children.\n\tif ( formField.children.length > 0 ) {\n\t\tconst result: Record< string, FieldValidity | undefined > = {};\n\t\tformField.children.forEach( ( child ) => {\n\t\t\tresult[ child.id ] = validateFormField( item, child, {\n\t\t\t\t...promiseHandler,\n\t\t\t\tpath: [ ...promiseHandler.path, formField.id, 'children' ],\n\t\t\t} );\n\t\t} );\n\n\t\tconst filteredResult: Record< string, FieldValidity > = {};\n\t\tObject.entries( result ).forEach( ( [ key, value ] ) => {\n\t\t\tif ( value !== undefined ) {\n\t\t\t\tfilteredResult[ key ] = value;\n\t\t\t}\n\t\t} );\n\n\t\tif ( Object.keys( filteredResult ).length === 0 ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tchildren: filteredResult,\n\t\t};\n\t}\n\n\t// No errors for this field or its children.\n\treturn undefined;\n}\n\nfunction getFormFieldValue< Item >(\n\tformField: FormFieldToValidate< Item >,\n\titem: Item\n): any {\n\tconst fieldValue = formField?.field?.getValue( { item } );\n\tif ( formField.children.length === 0 ) {\n\t\treturn fieldValue;\n\t}\n\n\tconst childrenValues = formField.children.map( ( child ) =>\n\t\tgetFormFieldValue( child, item )\n\t);\n\tif ( ! childrenValues ) {\n\t\treturn fieldValue;\n\t}\n\n\treturn {\n\t\tvalue: fieldValue,\n\t\tchildren: childrenValues,\n\t};\n}\n\n/**\n * Hook that validates a form item and returns an object with error messages for each field.\n *\n * @param item   The item to validate.\n * @param fields Fields config.\n * @param form   Form config.\n *\n * @return Record of field IDs to error messages (undefined means no error).\n */\nexport function useFormValidity< Item >(\n\titem: Item,\n\tfields: Field< Item >[],\n\tform: Form\n): { validity: FormValidity; isValid: boolean } {\n\tconst [ formValidity, setFormValidity ] = useState< FormValidity >();\n\tconst customCounterRef = useRef< Record< string, number > >( {} );\n\tconst elementsCounterRef = useRef< Record< string, number > >( {} );\n\tconst previousValuesRef = useRef< Record< string, any > >( {} );\n\n\tconst validate = useCallback( () => {\n\t\tconst promiseHandler = {\n\t\t\tcustomCounterRef,\n\t\t\telementsCounterRef,\n\t\t\tsetFormValidity,\n\t\t\tpath: [],\n\t\t\titem,\n\t\t};\n\n\t\tconst formFieldsToValidate = getFormFieldsToValidate( form, fields );\n\t\tif ( formFieldsToValidate.length === 0 ) {\n\t\t\tsetFormValidity( undefined );\n\t\t\treturn;\n\t\t}\n\n\t\tconst newFormValidity: FormValidity = {};\n\t\tconst untouchedFields: string[] = [];\n\t\tformFieldsToValidate.forEach( ( formField ) => {\n\t\t\t// Skip fields that did not change.\n\t\t\tconst value = getFormFieldValue< Item >( formField, item );\n\t\t\tif (\n\t\t\t\tpreviousValuesRef.current.hasOwnProperty( formField.id ) &&\n\t\t\t\tfastDeepEqual(\n\t\t\t\t\tpreviousValuesRef.current[ formField.id ],\n\t\t\t\t\tvalue\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tuntouchedFields.push( formField.id );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpreviousValuesRef.current[ formField.id ] = value;\n\n\t\t\t// Calculate validity for those fields that changed.\n\t\t\tconst fieldValidity = validateFormField(\n\t\t\t\titem,\n\t\t\t\tformField,\n\t\t\t\tpromiseHandler\n\t\t\t);\n\t\t\tif ( fieldValidity !== undefined ) {\n\t\t\t\tnewFormValidity[ formField.id ] = fieldValidity;\n\t\t\t}\n\t\t} );\n\n\t\tsetFormValidity( ( existingFormValidity ) => {\n\t\t\tlet validity: FormValidity = {\n\t\t\t\t...existingFormValidity,\n\t\t\t\t...newFormValidity,\n\t\t\t};\n\n\t\t\tconst fieldsToKeep = [\n\t\t\t\t...untouchedFields,\n\t\t\t\t...Object.keys( newFormValidity ),\n\t\t\t];\n\t\t\tObject.keys( validity ).forEach( ( key ) => {\n\t\t\t\tif ( validity && ! fieldsToKeep.includes( key ) ) {\n\t\t\t\t\tdelete validity[ key ];\n\t\t\t\t}\n\t\t\t} );\n\t\t\tif ( Object.keys( validity ).length === 0 ) {\n\t\t\t\tvalidity = undefined;\n\t\t\t}\n\n\t\t\tconst areEqual = fastDeepEqual( existingFormValidity, validity );\n\t\t\tif ( areEqual ) {\n\t\t\t\treturn existingFormValidity;\n\t\t\t}\n\n\t\t\treturn validity;\n\t\t} );\n\t}, [ item, fields, form ] );\n\n\tuseEffect( () => {\n\t\tvalidate();\n\t}, [ validate ] );\n\n\treturn {\n\t\tvalidity: formValidity,\n\t\tisValid: isFormValid( formValidity ),\n\t};\n}\n\nexport default useFormValidity;\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField, NormalizedSummaryField } from '../types';\n\n/**\n * Extracts field IDs from various summary field formats.\n *\n * @param summary The summary field configuration.\n * @return Array of field IDs.\n */\nfunction extractSummaryIds( summary: NormalizedSummaryField ): string[] {\n\tif ( Array.isArray( summary ) ) {\n\t\treturn summary.map( ( item ) =>\n\t\t\ttypeof item === 'string' ? item : item.id\n\t\t);\n\t}\n\n\treturn [];\n}\n\n/**\n * Returns the summary fields for a given field.\n * @param summaryField - The summary field configuration.\n * @param fields       - The fields to get the summary fields from.\n * @return The summary fields.\n */\nexport const getSummaryFields = < Item >(\n\tsummaryField: NormalizedSummaryField,\n\tfields: NormalizedField< Item >[]\n): NormalizedField< Item >[] => {\n\tif ( Array.isArray( summaryField ) && summaryField.length > 0 ) {\n\t\tconst summaryIds = extractSummaryIds( summaryField );\n\t\treturn summaryIds\n\t\t\t.map( ( summaryId ) =>\n\t\t\t\tfields.find( ( _field ) => _field.id === summaryId )\n\t\t\t)\n\t\t\t.filter( ( _field ) => _field !== undefined );\n\t}\n\n\treturn [];\n};\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCard,\n\tCardBody,\n\tCardHeader as OriginalCardHeader,\n} from '@wordpress/components';\nimport { useCallback, useContext, useMemo, useState } from '@wordpress/element';\nimport { chevronDown, chevronUp } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getFormFieldLayout } from '..';\nimport DataFormContext from '../../components/dataform-context';\nimport type {\n\tFieldLayoutProps,\n\tNormalizedCardLayout,\n\tNormalizedField,\n\tNormalizedForm,\n\tNormalizedLayout,\n} from '../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport { getSummaryFields } from '../get-summary-fields';\n\nconst NonCollapsibleCardHeader = ( {\n\tchildren,\n\t...props\n}: {\n\tchildren: React.ReactNode;\n} ) => (\n\t<OriginalCardHeader isBorderless { ...props }>\n\t\t<div\n\t\t\tstyle={ {\n\t\t\t\theight: '40px', // This is to match the chevron's __next40pxDefaultSize\n\t\t\t\twidth: '100%',\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\talignItems: 'center',\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</div>\n\t</OriginalCardHeader>\n);\n\nexport function useCardHeader( layout: NormalizedCardLayout ) {\n\tconst { isOpened, isCollapsible } = layout;\n\tconst [ isOpen, setIsOpen ] = useState( isOpened );\n\n\tconst toggle = useCallback( () => {\n\t\tsetIsOpen( ( prev ) => ! prev );\n\t}, [] );\n\n\tconst CollapsibleCardHeader = useCallback(\n\t\t( {\n\t\t\tchildren,\n\t\t\t...props\n\t\t}: {\n\t\t\tchildren: React.ReactNode;\n\t\t\t[ key: string ]: any;\n\t\t} ) => (\n\t\t\t<OriginalCardHeader\n\t\t\t\t{ ...props }\n\t\t\t\tonClick={ toggle }\n\t\t\t\tstyle={ {\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t...props.style,\n\t\t\t\t} }\n\t\t\t\tisBorderless\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\ticon={ isOpen ? chevronUp : chevronDown }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\taria-label={ isOpen ? 'Collapse' : 'Expand' }\n\t\t\t\t/>\n\t\t\t</OriginalCardHeader>\n\t\t),\n\t\t[ toggle, isOpen ]\n\t);\n\n\tconst effectiveIsOpen = isCollapsible ? isOpen : true;\n\tconst CardHeaderComponent = isCollapsible\n\t\t? CollapsibleCardHeader\n\t\t: NonCollapsibleCardHeader;\n\n\treturn { isOpen: effectiveIsOpen, CardHeader: CardHeaderComponent };\n}\n\nfunction isSummaryFieldVisible< Item >(\n\tsummaryField: NormalizedField< Item >,\n\tsummaryConfig: NormalizedCardLayout[ 'summary' ],\n\tisOpen: boolean\n) {\n\t// If no summary config, dont't show any fields\n\tif (\n\t\t! summaryConfig ||\n\t\t( Array.isArray( summaryConfig ) && summaryConfig.length === 0 )\n\t) {\n\t\treturn false;\n\t}\n\n\t// Convert to array for consistent handling\n\tconst summaryConfigArray = Array.isArray( summaryConfig )\n\t\t? summaryConfig\n\t\t: [ summaryConfig ];\n\n\t// Find the config for this specific field\n\tconst fieldConfig = summaryConfigArray.find( ( config ) => {\n\t\tif ( typeof config === 'string' ) {\n\t\t\treturn config === summaryField.id;\n\t\t}\n\t\tif ( typeof config === 'object' && 'id' in config ) {\n\t\t\treturn config.id === summaryField.id;\n\t\t}\n\t\treturn false;\n\t} );\n\n\t// If field is not in summary config, don't show it\n\tif ( ! fieldConfig ) {\n\t\treturn false;\n\t}\n\n\t// If it's a string, always show it\n\tif ( typeof fieldConfig === 'string' ) {\n\t\treturn true;\n\t}\n\n\t// If it has visibility rules, respect them\n\tif ( typeof fieldConfig === 'object' && 'visibility' in fieldConfig ) {\n\t\treturn (\n\t\t\tfieldConfig.visibility === 'always' ||\n\t\t\t( fieldConfig.visibility === 'when-collapsed' && ! isOpen )\n\t\t);\n\t}\n\n\t// Default to always show\n\treturn true;\n}\n\nexport default function FormCardField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst layout = field.layout as NormalizedCardLayout;\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT as NormalizedLayout,\n\t\t\tfields: field.children ?? [],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\tconst { isOpen, CardHeader } = useCardHeader( layout );\n\n\tconst summaryFields = getSummaryFields< Item >( layout.summary, fields );\n\n\tconst visibleSummaryFields = summaryFields.filter( ( summaryField ) =>\n\t\tisSummaryFieldVisible( summaryField, layout.summary, isOpen )\n\t);\n\n\tconst sizeCard = {\n\t\tblockStart: 'medium' as const,\n\t\tblockEnd: 'medium' as const,\n\t\tinlineStart: 'medium' as const,\n\t\tinlineEnd: 'medium' as const,\n\t};\n\n\tif ( !! field.children ) {\n\t\tconst withHeader = !! field.label && layout.withHeader;\n\n\t\tconst sizeCardBody = {\n\t\t\tblockStart: withHeader\n\t\t\t\t? ( 'none' as const )\n\t\t\t\t: ( 'medium' as const ),\n\t\t\tblockEnd: 'medium' as const,\n\t\t\tinlineStart: 'medium' as const,\n\t\t\tinlineEnd: 'medium' as const,\n\t\t};\n\n\t\treturn (\n\t\t\t<Card className=\"dataforms-layouts-card__field\" size={ sizeCard }>\n\t\t\t\t{ withHeader && (\n\t\t\t\t\t<CardHeader className=\"dataforms-layouts-card__field-header\">\n\t\t\t\t\t\t<span className=\"dataforms-layouts-card__field-header-label\">\n\t\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{ visibleSummaryFields.length > 0 &&\n\t\t\t\t\t\t\tlayout.withHeader && (\n\t\t\t\t\t\t\t\t<div className=\"dataforms-layouts-card__field-summary\">\n\t\t\t\t\t\t\t\t\t{ visibleSummaryFields.map(\n\t\t\t\t\t\t\t\t\t\t( summaryField ) => (\n\t\t\t\t\t\t\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</CardHeader>\n\t\t\t\t) }\n\t\t\t\t{ ( isOpen || ! withHeader ) && (\n\t\t\t\t\t// If it doesn't have a header, keep it open.\n\t\t\t\t\t// Otherwise, the card will not be visible.\n\t\t\t\t\t<CardBody\n\t\t\t\t\t\tsize={ sizeCardBody }\n\t\t\t\t\t\tclassName=\"dataforms-layouts-card__field-control\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ field.description && (\n\t\t\t\t\t\t\t<div className=\"dataforms-layouts-card__field-description\">\n\t\t\t\t\t\t\t\t{ field.description }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<DataFormLayout\n\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\tform={ form }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tvalidity={ validity?.children }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</CardBody>\n\t\t\t\t) }\n\t\t\t</Card>\n\t\t);\n\t}\n\n\tconst fieldDefinition = fields.find(\n\t\t( fieldDef ) => fieldDef.id === field.id\n\t);\n\n\tif ( ! fieldDefinition || ! fieldDefinition.Edit ) {\n\t\treturn null;\n\t}\n\n\tconst RegularLayout = getFormFieldLayout( 'regular' )?.component;\n\tif ( ! RegularLayout ) {\n\t\treturn null;\n\t}\n\tconst withHeader = !! fieldDefinition.label && layout.withHeader;\n\n\tconst sizeCardBody = {\n\t\tblockStart: withHeader ? ( 'none' as const ) : ( 'medium' as const ),\n\t\tblockEnd: 'medium' as const,\n\t\tinlineStart: 'medium' as const,\n\t\tinlineEnd: 'medium' as const,\n\t};\n\n\treturn (\n\t\t<Card className=\"dataforms-layouts-card__field\" size={ sizeCard }>\n\t\t\t{ withHeader && (\n\t\t\t\t<CardHeader className=\"dataforms-layouts-card__field-header\">\n\t\t\t\t\t<span className=\"dataforms-layouts-card__field-header-label\">\n\t\t\t\t\t\t{ fieldDefinition.label }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ visibleSummaryFields.length > 0 && layout.withHeader && (\n\t\t\t\t\t\t<div className=\"dataforms-layouts-card__field-summary\">\n\t\t\t\t\t\t\t{ visibleSummaryFields.map( ( summaryField ) => (\n\t\t\t\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</CardHeader>\n\t\t\t) }\n\t\t\t{ ( isOpen || ! withHeader ) && (\n\t\t\t\t// If it doesn't have a header, keep it open.\n\t\t\t\t// Otherwise, the card will not be visible.\n\t\t\t\t<CardBody\n\t\t\t\t\tsize={ sizeCardBody }\n\t\t\t\t\tclassName=\"dataforms-layouts-card__field-control\"\n\t\t\t\t>\n\t\t\t\t\t<RegularLayout\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\thideLabelFromVision={\n\t\t\t\t\t\t\thideLabelFromVision || withHeader\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidity={ validity }\n\t\t\t\t\t/>\n\t\t\t\t</CardBody>\n\t\t\t) }\n\t\t</Card>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalVStack as VStack,\n\t__experimentalHeading as Heading,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldLayoutProps,\n\tNormalizedForm,\n\tNormalizedLayout,\n\tNormalizedRowLayout,\n} from '../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport { getFormFieldLayout } from '..';\n\nfunction Header( { title }: { title: string } ) {\n\treturn (\n\t\t<VStack className=\"dataforms-layouts-row__header\" spacing={ 4 }>\n\t\t\t<HStack alignment=\"center\">\n\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t\t<Spacer />\n\t\t\t</HStack>\n\t\t</VStack>\n\t);\n}\n\nconst EMPTY_WRAPPER = ( { children }: { children: React.ReactNode } ) => (\n\t<>{ children }</>\n);\n\nexport default function FormRowField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst layout = field.layout as NormalizedRowLayout;\n\n\tif ( !! field.children ) {\n\t\tconst form: NormalizedForm = {\n\t\t\tlayout: DEFAULT_LAYOUT as NormalizedLayout,\n\t\t\tfields: field.children,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"dataforms-layouts-row__field\">\n\t\t\t\t{ ! hideLabelFromVision && field.label && (\n\t\t\t\t\t<Header title={ field.label } />\n\t\t\t\t) }\n\t\t\t\t<HStack alignment={ layout.alignment } spacing={ 4 }>\n\t\t\t\t\t<DataFormLayout\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tform={ form }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tvalidity={ validity?.children }\n\t\t\t\t\t\tas={ EMPTY_WRAPPER }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( FieldLayout, childField, childFieldValidity ) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={ childField.id }\n\t\t\t\t\t\t\t\tclassName=\"dataforms-layouts-row__field-control\"\n\t\t\t\t\t\t\t\tstyle={ layout.styles[ childField.id ] }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\t\tfield={ childField }\n\t\t\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\t\t\t\t\tvalidity={ childFieldValidity }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DataFormLayout>\n\t\t\t\t</HStack>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst RegularLayout = getFormFieldLayout( 'regular' )?.component;\n\tif ( ! RegularLayout ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"dataforms-layouts-row__field-control\">\n\t\t\t\t<RegularLayout\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tfield={ field }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tvalidity={ validity }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useContext, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tNormalizedForm,\n\tNormalizedDetailsLayout,\n\tFieldLayoutProps,\n} from '../../types';\nimport DataFormContext from '../../components/dataform-context';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\n\nexport default function FormDetailsField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: field.children ?? [],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\tif ( ! field.children ) {\n\t\treturn null;\n\t}\n\n\t// Find the summary field definition if specified\n\tconst summaryFieldId =\n\t\t( field.layout as NormalizedDetailsLayout ).summary ?? '';\n\tconst summaryField = summaryFieldId\n\t\t? fields.find( ( fieldDef ) => fieldDef.id === summaryFieldId )\n\t\t: undefined;\n\n\t// Render the summary content\n\tlet summaryContent;\n\tif ( summaryField && summaryField.render ) {\n\t\t// Use the field's render function to display the current value\n\t\tsummaryContent = (\n\t\t\t<summaryField.render item={ data } field={ summaryField } />\n\t\t);\n\t} else {\n\t\t// Fall back to the label\n\t\tsummaryContent = field.label || __( 'More details' );\n\t}\n\n\treturn (\n\t\t<details className=\"dataforms-layouts-details__details\">\n\t\t\t<summary className=\"dataforms-layouts-details__summary\">\n\t\t\t\t{ summaryContent }\n\t\t\t</summary>\n\t\t\t<div className=\"dataforms-layouts-details__content\">\n\t\t\t\t<DataFormLayout\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tform={ form }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</details>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport removeAccents from 'remove-accents';\nimport { subDays, subWeeks, subMonths, subYears } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { getDate } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n\tOPERATOR_BETWEEN,\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n} from '../constants';\nimport normalizeFields from './normalize-fields';\nimport type { Field, View } from '../types';\n\nfunction normalizeSearchInput( input = '' ) {\n\treturn removeAccents( input.trim().toLowerCase() );\n}\n\nconst EMPTY_ARRAY: [] = [];\n\n/**\n * Calculates a date offset from now.\n *\n * @param value Number of units to offset.\n * @param unit  Unit of time to offset.\n * @return      Date offset from now.\n */\nfunction getRelativeDate( value: number, unit: string ): Date {\n\tswitch ( unit ) {\n\t\tcase 'days':\n\t\t\treturn subDays( new Date(), value );\n\t\tcase 'weeks':\n\t\t\treturn subWeeks( new Date(), value );\n\t\tcase 'months':\n\t\t\treturn subMonths( new Date(), value );\n\t\tcase 'years':\n\t\t\treturn subYears( new Date(), value );\n\t\tdefault:\n\t\t\treturn new Date();\n\t}\n}\n\n/**\n * Applies the filtering, sorting and pagination to the raw data based on the view configuration.\n *\n * @param data   Raw data.\n * @param view   View config.\n * @param fields Fields config.\n *\n * @return Filtered, sorted and paginated data.\n */\nexport default function filterSortAndPaginate< Item >(\n\tdata: Item[],\n\tview: View,\n\tfields: Field< Item >[]\n): {\n\tdata: Item[];\n\tpaginationInfo: { totalItems: number; totalPages: number };\n} {\n\tif ( ! data ) {\n\t\treturn {\n\t\t\tdata: EMPTY_ARRAY,\n\t\t\tpaginationInfo: { totalItems: 0, totalPages: 0 },\n\t\t};\n\t}\n\tconst _fields = normalizeFields( fields );\n\tlet filteredData = [ ...data ];\n\t// Handle global search.\n\tif ( view.search ) {\n\t\tconst normalizedSearch = normalizeSearchInput( view.search );\n\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\treturn _fields\n\t\t\t\t.filter( ( field ) => field.enableGlobalSearch )\n\t\t\t\t.some( ( field ) => {\n\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\tconst values = Array.isArray( fieldValue )\n\t\t\t\t\t\t? fieldValue\n\t\t\t\t\t\t: [ fieldValue ];\n\t\t\t\t\treturn values.some( ( value ) =>\n\t\t\t\t\t\tnormalizeSearchInput( String( value ) ).includes(\n\t\t\t\t\t\t\tnormalizedSearch\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t} );\n\t}\n\n\tif ( view.filters && view.filters?.length > 0 ) {\n\t\tview.filters.forEach( ( filter ) => {\n\t\t\tconst field = _fields.find(\n\t\t\t\t( _field ) => _field.id === filter.field\n\t\t\t);\n\t\t\tif ( field ) {\n\t\t\t\tif (\n\t\t\t\t\tfilter.operator === OPERATOR_IS_ANY &&\n\t\t\t\t\tfilter?.value?.length > 0\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\tif ( Array.isArray( fieldValue ) ) {\n\t\t\t\t\t\t\treturn filter.value.some( ( filterValue: any ) =>\n\t\t\t\t\t\t\t\tfieldValue.includes( filterValue )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( typeof fieldValue === 'string' ) {\n\t\t\t\t\t\t\treturn filter.value.includes( fieldValue );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_IS_NONE &&\n\t\t\t\t\tfilter?.value?.length > 0\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\tif ( Array.isArray( fieldValue ) ) {\n\t\t\t\t\t\t\treturn ! filter.value.some( ( filterValue: any ) =>\n\t\t\t\t\t\t\t\tfieldValue.includes( filterValue )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( typeof fieldValue === 'string' ) {\n\t\t\t\t\t\t\treturn ! filter.value.includes( fieldValue );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_IS_ALL &&\n\t\t\t\t\tfilter?.value?.length > 0\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\treturn filter.value.every( ( value: any ) => {\n\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t.getValue( { item } )\n\t\t\t\t\t\t\t\t?.includes( value );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_IS_NOT_ALL &&\n\t\t\t\t\tfilter?.value?.length > 0\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\treturn filter.value.every( ( value: any ) => {\n\t\t\t\t\t\t\treturn ! field\n\t\t\t\t\t\t\t\t.getValue( { item } )\n\t\t\t\t\t\t\t\t?.includes( value );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t} else if ( filter.operator === OPERATOR_IS ) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tfilter.value === field.getValue( { item } ) ||\n\t\t\t\t\t\t\tfilter.value === undefined\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t} else if ( filter.operator === OPERATOR_IS_NOT ) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\treturn filter.value !== field.getValue( { item } );\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_ON &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst filterDate = getDate( filter.value );\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\t\t\t\t\t\treturn filterDate.getTime() === fieldDate.getTime();\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_NOT_ON &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst filterDate = getDate( filter.value );\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\t\t\t\t\t\treturn filterDate.getTime() !== fieldDate.getTime();\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_LESS_THAN &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\treturn fieldValue < filter.value;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_GREATER_THAN &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\treturn fieldValue > filter.value;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_LESS_THAN_OR_EQUAL &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\treturn fieldValue <= filter.value;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_GREATER_THAN_OR_EQUAL &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\treturn fieldValue >= filter.value;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_CONTAINS &&\n\t\t\t\t\tfilter?.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\ttypeof fieldValue === 'string' &&\n\t\t\t\t\t\t\tfilter.value &&\n\t\t\t\t\t\t\tfieldValue\n\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t.includes(\n\t\t\t\t\t\t\t\t\tString( filter.value ).toLowerCase()\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_NOT_CONTAINS &&\n\t\t\t\t\tfilter?.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\ttypeof fieldValue === 'string' &&\n\t\t\t\t\t\t\tfilter.value &&\n\t\t\t\t\t\t\t! fieldValue\n\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t.includes(\n\t\t\t\t\t\t\t\t\tString( filter.value ).toLowerCase()\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_STARTS_WITH &&\n\t\t\t\t\tfilter?.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\ttypeof fieldValue === 'string' &&\n\t\t\t\t\t\t\tfilter.value &&\n\t\t\t\t\t\t\tfieldValue\n\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t.startsWith(\n\t\t\t\t\t\t\t\t\tString( filter.value ).toLowerCase()\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_BEFORE &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst filterValue = getDate( filter.value );\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = getDate(\n\t\t\t\t\t\t\tfield.getValue( { item } )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn fieldValue < filterValue;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_AFTER &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst filterValue = getDate( filter.value );\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = getDate(\n\t\t\t\t\t\t\tfield.getValue( { item } )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn fieldValue > filterValue;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_BEFORE_INC &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst filterValue = getDate( filter.value );\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = getDate(\n\t\t\t\t\t\t\tfield.getValue( { item } )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn fieldValue <= filterValue;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_AFTER_INC &&\n\t\t\t\t\tfilter.value !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst filterValue = getDate( filter.value );\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = getDate(\n\t\t\t\t\t\t\tfield.getValue( { item } )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn fieldValue >= filterValue;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_BETWEEN &&\n\t\t\t\t\tArray.isArray( filter.value ) &&\n\t\t\t\t\tfilter.value.length === 2 &&\n\t\t\t\t\tfilter.value[ 0 ] !== undefined &&\n\t\t\t\t\tfilter.value[ 1 ] !== undefined\n\t\t\t\t) {\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = field.getValue( { item } );\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof fieldValue === 'number' ||\n\t\t\t\t\t\t\tfieldValue instanceof Date ||\n\t\t\t\t\t\t\ttypeof fieldValue === 'string'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tfieldValue >= filter.value[ 0 ] &&\n\t\t\t\t\t\t\t\tfieldValue <= filter.value[ 1 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_IN_THE_PAST &&\n\t\t\t\t\tfilter.value?.value !== undefined &&\n\t\t\t\t\tfilter.value?.unit !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst targetDate = getRelativeDate(\n\t\t\t\t\t\tfilter.value.value,\n\t\t\t\t\t\tfilter.value.unit\n\t\t\t\t\t);\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = getDate(\n\t\t\t\t\t\t\tfield.getValue( { item } )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tfieldValue >= targetDate && fieldValue <= new Date()\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t} else if (\n\t\t\t\t\tfilter.operator === OPERATOR_OVER &&\n\t\t\t\t\tfilter.value?.value !== undefined &&\n\t\t\t\t\tfilter.value?.unit !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst targetDate = getRelativeDate(\n\t\t\t\t\t\tfilter.value.value,\n\t\t\t\t\t\tfilter.value.unit\n\t\t\t\t\t);\n\t\t\t\t\tfilteredData = filteredData.filter( ( item ) => {\n\t\t\t\t\t\tconst fieldValue = getDate(\n\t\t\t\t\t\t\tfield.getValue( { item } )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn fieldValue < targetDate;\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Handle sorting.\n\tconst sortByField = view.sort?.field\n\t\t? _fields.find( ( field ) => {\n\t\t\t\treturn field.id === view.sort?.field;\n\t\t  } )\n\t\t: null;\n\tconst groupByField = view.groupByField\n\t\t? _fields.find( ( field ) => {\n\t\t\t\treturn field.id === view.groupByField;\n\t\t  } )\n\t\t: null;\n\tif ( sortByField || groupByField ) {\n\t\tfilteredData.sort( ( a, b ) => {\n\t\t\tif ( groupByField ) {\n\t\t\t\tconst groupCompare = groupByField.sort( a, b, 'asc' );\n\n\t\t\t\t// If items are in different groups, return the group comparison result.\n\t\t\t\t// Otherwise, fall back to sorting by the sort field.\n\t\t\t\tif ( groupCompare !== 0 ) {\n\t\t\t\t\treturn groupCompare;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( sortByField ) {\n\t\t\t\treturn sortByField.sort( a, b, view.sort?.direction ?? 'desc' );\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t} );\n\t}\n\n\t// Handle pagination.\n\tlet totalItems = filteredData.length;\n\tlet totalPages = 1;\n\tif ( view.page !== undefined && view.perPage !== undefined ) {\n\t\tconst start = ( view.page - 1 ) * view.perPage;\n\t\ttotalItems = filteredData?.length || 0;\n\t\ttotalPages = Math.ceil( totalItems / view.perPage );\n\t\tfilteredData = filteredData?.slice( start, start + view.perPage );\n\t}\n\n\treturn {\n\t\tdata: filteredData,\n\t\tpaginationInfo: {\n\t\t\ttotalItems,\n\t\t\ttotalPages,\n\t\t},\n\t};\n}\n", "var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n", "/**\n * Generates a unique preference key for a DataViews view.\n *\n * @param kind The entity kind (e.g., 'postType', 'root')\n * @param name The specific entity name (e.g., 'post', 'user', 'site')\n * @param slug The specific entity slug (e.g., 'category', 'post', 'all')\n * @return The preference key string\n */\nexport function generatePreferenceKey(\n\tkind: string,\n\tname: string,\n\tslug: string\n): string {\n\treturn `dataviews-${ kind }-${ name }-${ slug }`;\n}\n", "/**\n * External dependencies\n */\nimport { dequal } from 'dequal';\n\n/**\n * Internal dependencies\n */\nimport { generatePreferenceKey } from './preference-keys';\nimport type { ViewConfig } from './types';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useMemo } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport type { View } from '@wordpress/dataviews';\n// @ts-ignore - Preferences package is not typed\nimport { store as preferencesStore } from '@wordpress/preferences';\n\ninterface UseViewReturn {\n\tview: View;\n\tisModified: boolean;\n\tupdateView: ( newView: View ) => void;\n\tresetToDefault: () => void;\n}\n\nfunction omit< T extends object, K extends keyof T >(\n\tobj: T,\n\tkeys: K[]\n): Omit< T, K > {\n\tconst result = { ...obj };\n\tfor ( const key of keys ) {\n\t\tdelete result[ key ];\n\t}\n\treturn result;\n}\n\n/**\n * Hook for managing DataViews view state with local persistence.\n *\n * @param config                     Configuration object for loading the view.\n * @param config.kind                Entity kind (e.g., 'postType', 'taxonomy', 'root').\n * @param config.name                Specific entity name.\n * @param config.slug                View identifier.\n * @param config.defaultView         Default view configuration.\n * @param config.queryParams         Object with `page` and/or `search` from URL.\n * @param config.onChangeQueryParams Optional callback to update URL parameters.\n *\n * @return Object with current view, modification state, and update functions.\n */\nexport function useView( config: ViewConfig ): UseViewReturn {\n\tconst { kind, name, slug, defaultView, queryParams, onChangeQueryParams } =\n\t\tconfig;\n\n\tconst preferenceKey = generatePreferenceKey( kind, name, slug );\n\tconst persistedView: View | undefined = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( preferencesStore ).get(\n\t\t\t\t'core/views',\n\t\t\t\tpreferenceKey\n\t\t\t) as View | undefined;\n\t\t},\n\t\t[ preferenceKey ]\n\t);\n\tconst { set } = useDispatch( preferencesStore );\n\n\tconst baseView: View = persistedView ?? defaultView;\n\tconst page = Number( queryParams?.page ?? baseView.page ?? 1 );\n\tconst search = queryParams?.search ?? baseView.search ?? '';\n\n\t// Merge URL query parameters (page, search) into the view\n\tconst view: View = useMemo( () => {\n\t\treturn {\n\t\t\t...baseView,\n\t\t\tpage,\n\t\t\tsearch,\n\t\t};\n\t}, [ baseView, page, search ] );\n\n\tconst isModified = !! persistedView;\n\n\tconst updateView = useCallback(\n\t\t( newView: View ) => {\n\t\t\t// Extract URL params (page, search) from the new view\n\t\t\tconst urlParams: { page?: number; search?: string } = {\n\t\t\t\tpage: newView?.page,\n\t\t\t\tsearch: newView?.search,\n\t\t\t};\n\t\t\tconst preferenceView = omit( newView, [ 'page', 'search' ] );\n\n\t\t\t// If we have URL handling enabled, separate URL state from preference state\n\t\t\tif (\n\t\t\t\tonChangeQueryParams &&\n\t\t\t\t! dequal( urlParams, { page, search } )\n\t\t\t) {\n\t\t\t\tonChangeQueryParams( urlParams );\n\t\t\t}\n\n\t\t\t// Only persist non-URL preferences if different from baseView\n\t\t\tif ( ! dequal( baseView, preferenceView ) ) {\n\t\t\t\tif ( dequal( preferenceView, defaultView ) ) {\n\t\t\t\t\tset( 'core/views', preferenceKey, undefined );\n\t\t\t\t} else {\n\t\t\t\t\tset( 'core/views', preferenceKey, preferenceView );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tonChangeQueryParams,\n\t\t\tpage,\n\t\t\tsearch,\n\t\t\tbaseView,\n\t\t\tdefaultView,\n\t\t\tset,\n\t\t\tpreferenceKey,\n\t\t]\n\t);\n\n\tconst resetToDefault = useCallback( () => {\n\t\tset( 'core/views', preferenceKey, undefined );\n\t}, [ preferenceKey, set ] );\n\n\treturn {\n\t\tview,\n\t\tisModified,\n\t\tupdateView,\n\t\tresetToDefault,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\n// @ts-ignore - Preferences package is not typed\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport type { View } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { generatePreferenceKey } from './preference-keys';\nimport type { ViewConfig } from './types';\n\n/**\n * Async function for loading view state in route loaders with optional URL parameters.\n *\n * @example\n *\n * ```typescript\n * // In route loader\n * const view = await loadView( {\n * \tkind: 'taxonomy',\n * \tname: 'category',\n * \tslug: 'all',\n * \tdefaultView,\n * \tqueryParams: { page: search.page, search: search.search },\n * } );\n * ```\n *\n * @param config             Configuration object for loading the view.\n * @param config.kind        Entity kind (e.g., 'postType', 'taxonomy', 'root').\n * @param config.name        Specific entity name.\n * @param config.slug        View identifier.\n * @param config.defaultView Default view configuration.\n * @param config.queryParams Object with `page` and/or `search` from URL.\n *\n * @return Promise resolving to the loaded view object.\n */\nexport async function loadView( config: ViewConfig ) {\n\tconst { kind, name, slug, defaultView, queryParams } = config;\n\tconst preferenceKey = generatePreferenceKey( kind, name, slug );\n\tconst persistedView: View | undefined = select( preferencesStore ).get(\n\t\t'core/views',\n\t\tpreferenceKey\n\t) as View | undefined;\n\n\tconst baseView = persistedView ?? defaultView;\n\tconst page = queryParams?.page ?? 1;\n\tconst search = queryParams?.search ?? '';\n\n\treturn {\n\t\t...baseView,\n\t\tpage,\n\t\tsearch,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editSiteStore } from '../../store';\nimport { filterOutDuplicatesByName } from './utils';\n\nexport default function usePatternSettings() {\n\tconst storedSettings = useSelect( ( select ) => {\n\t\tconst { getSettings } = unlock( select( editSiteStore ) );\n\t\treturn getSettings();\n\t}, [] );\n\n\tconst settingsBlockPatterns =\n\t\tstoredSettings.__experimentalAdditionalBlockPatterns ?? // WP 6.0\n\t\tstoredSettings.__experimentalBlockPatterns; // WP 5.9\n\n\tconst restBlockPatterns = useSelect(\n\t\t( select ) => select( coreStore ).getBlockPatterns(),\n\t\t[]\n\t);\n\n\tconst blockPatterns = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatterns || [] ),\n\t\t\t\t...( restBlockPatterns || [] ),\n\t\t\t].filter( filterOutDuplicatesByName ),\n\t\t[ settingsBlockPatterns, restBlockPatterns ]\n\t);\n\n\tconst settings = useMemo( () => {\n\t\tconst { __experimentalAdditionalBlockPatterns, ...restStoredSettings } =\n\t\t\tstoredSettings;\n\n\t\treturn {\n\t\t\t...restStoredSettings,\n\t\t\t__experimentalBlockPatterns: blockPatterns,\n\t\t\tisPreviewMode: true,\n\t\t};\n\t}, [ storedSettings, blockPatterns ] );\n\n\treturn settings;\n}\n", "/**\n * WordPress dependencies\n */\nimport { DropdownMenu, MenuGroup } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { moreVertical } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport AddNewPattern from '../add-new-pattern';\nimport RenameCategoryMenuItem from './rename-category-menu-item';\nimport DeleteCategoryMenuItem from './delete-category-menu-item';\nimport usePatternCategories from '../sidebar-navigation-screen-patterns/use-pattern-categories';\nimport { PATTERN_TYPES } from '../../utils/constants';\n\nexport default function PatternsActions( { categoryId, type } ) {\n\tconst { patternCategories } = usePatternCategories();\n\tlet patternCategory;\n\tif ( type === PATTERN_TYPES.user && !! categoryId ) {\n\t\tpatternCategory = patternCategories.find(\n\t\t\t( category ) => category.name === categoryId\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<AddNewPattern />\n\t\t\t{ !! patternCategory?.id && (\n\t\t\t\t<DropdownMenu\n\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\ttoggleProps={ {\n\t\t\t\t\t\tclassName: 'edit-site-patterns__button',\n\t\t\t\t\t\tsize: 'compact',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<RenameCategoryMenuItem\n\t\t\t\t\t\t\t\tcategory={ patternCategory }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<DeleteCategoryMenuItem\n\t\t\t\t\t\t\t\tcategory={ patternCategory }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t</DropdownMenu>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { DropdownMenu } from '@wordpress/components';\nimport { useState, useRef } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { symbol, symbolFilled, upload } from '@wordpress/icons';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport {\n\tprivateApis as editPatternsPrivateApis,\n\tstore as patternsStore,\n} from '@wordpress/patterns';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport {\n\tPATTERN_TYPES,\n\tPATTERN_DEFAULT_CATEGORY,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../utils/constants';\n\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\nconst { CreatePatternModal, useAddPatternCategory } = unlock(\n\teditPatternsPrivateApis\n);\nconst { CreateTemplatePartModal } = unlock( editorPrivateApis );\n\nexport default function AddNewPattern() {\n\tconst history = useHistory();\n\tconst location = useLocation();\n\tconst [ showPatternModal, setShowPatternModal ] = useState( false );\n\tconst [ showTemplatePartModal, setShowTemplatePartModal ] =\n\t\tuseState( false );\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst { createPatternFromFile } = unlock( useDispatch( patternsStore ) );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst patternUploadInputRef = useRef();\n\tconst {\n\t\tisBlockBasedTheme,\n\t\taddNewPatternLabel,\n\t\taddNewTemplatePartLabel,\n\t\tcanCreatePattern,\n\t\tcanCreateTemplatePart,\n\t} = useSelect( ( select ) => {\n\t\tconst { getCurrentTheme, getPostType, canUser } = select( coreStore );\n\t\treturn {\n\t\t\tisBlockBasedTheme: getCurrentTheme()?.is_block_theme,\n\t\t\taddNewPatternLabel: getPostType( PATTERN_TYPES.user )?.labels\n\t\t\t\t?.add_new_item,\n\t\t\taddNewTemplatePartLabel: getPostType( TEMPLATE_PART_POST_TYPE )\n\t\t\t\t?.labels?.add_new_item,\n\t\t\t// Blocks refers to the wp_block post type, this checks the ability to create a post of that type.\n\t\t\tcanCreatePattern: canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: PATTERN_TYPES.user,\n\t\t\t} ),\n\t\t\tcanCreateTemplatePart: canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: TEMPLATE_PART_POST_TYPE,\n\t\t\t} ),\n\t\t};\n\t}, [] );\n\n\tfunction handleCreatePattern( { pattern } ) {\n\t\tsetShowPatternModal( false );\n\t\thistory.navigate(\n\t\t\t`/${ PATTERN_TYPES.user }/${ pattern.id }?canvas=edit`\n\t\t);\n\t}\n\n\tfunction handleCreateTemplatePart( templatePart ) {\n\t\tsetShowTemplatePartModal( false );\n\t\thistory.navigate(\n\t\t\t`/${ TEMPLATE_PART_POST_TYPE }/${ templatePart.id }?canvas=edit`\n\t\t);\n\t}\n\n\tfunction handleError() {\n\t\tsetShowPatternModal( false );\n\t\tsetShowTemplatePartModal( false );\n\t}\n\n\tconst controls = [];\n\tif ( canCreatePattern ) {\n\t\tcontrols.push( {\n\t\t\ticon: symbol,\n\t\t\tonClick: () => setShowPatternModal( true ),\n\t\t\ttitle: addNewPatternLabel,\n\t\t} );\n\t}\n\n\tif ( isBlockBasedTheme && canCreateTemplatePart ) {\n\t\tcontrols.push( {\n\t\t\ticon: symbolFilled,\n\t\t\tonClick: () => setShowTemplatePartModal( true ),\n\t\t\ttitle: addNewTemplatePartLabel,\n\t\t} );\n\t}\n\n\tif ( canCreatePattern ) {\n\t\tcontrols.push( {\n\t\t\ticon: upload,\n\t\t\tonClick: () => {\n\t\t\t\tpatternUploadInputRef.current.click();\n\t\t\t},\n\t\t\ttitle: __( 'Import pattern from JSON' ),\n\t\t} );\n\t}\n\n\tconst { categoryMap, findOrCreateTerm } = useAddPatternCategory();\n\tif ( controls.length === 0 ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t{ addNewPatternLabel && (\n\t\t\t\t<DropdownMenu\n\t\t\t\t\tcontrols={ controls }\n\t\t\t\t\ticon={ null }\n\t\t\t\t\ttoggleProps={ {\n\t\t\t\t\t\tvariant: 'primary',\n\t\t\t\t\t\tshowTooltip: false,\n\t\t\t\t\t\t__next40pxDefaultSize: true,\n\t\t\t\t\t} }\n\t\t\t\t\ttext={ addNewPatternLabel }\n\t\t\t\t\tlabel={ addNewPatternLabel }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showPatternModal && (\n\t\t\t\t<CreatePatternModal\n\t\t\t\t\tonClose={ () => setShowPatternModal( false ) }\n\t\t\t\t\tonSuccess={ handleCreatePattern }\n\t\t\t\t\tonError={ handleError }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showTemplatePartModal && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => setShowTemplatePartModal( false ) }\n\t\t\t\t\tblocks={ [] }\n\t\t\t\t\tonCreate={ handleCreateTemplatePart }\n\t\t\t\t\tonError={ handleError }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<input\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\".json\"\n\t\t\t\thidden\n\t\t\t\tref={ patternUploadInputRef }\n\t\t\t\tonChange={ async ( event ) => {\n\t\t\t\t\tconst file = event.target.files?.[ 0 ];\n\t\t\t\t\tif ( ! file ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet currentCategoryId;\n\t\t\t\t\t\t// When we're not handling template parts, we should\n\t\t\t\t\t\t// add or create the proper pattern category.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.query.postType !== TEMPLATE_PART_POST_TYPE\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t * categoryMap.values() returns an iterator.\n\t\t\t\t\t\t\t * Iterator.prototype.find() is not yet widely supported.\n\t\t\t\t\t\t\t * Convert to array to use the Array.prototype.find method.\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tconst currentCategory = Array.from(\n\t\t\t\t\t\t\t\tcategoryMap.values()\n\t\t\t\t\t\t\t).find(\n\t\t\t\t\t\t\t\t( term ) =>\n\t\t\t\t\t\t\t\t\tterm.name === location.query.categoryId\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( currentCategory ) {\n\t\t\t\t\t\t\t\tcurrentCategoryId =\n\t\t\t\t\t\t\t\t\tcurrentCategory.id ||\n\t\t\t\t\t\t\t\t\t( await findOrCreateTerm(\n\t\t\t\t\t\t\t\t\t\tcurrentCategory.label\n\t\t\t\t\t\t\t\t\t) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst pattern = await createPatternFromFile(\n\t\t\t\t\t\t\tfile,\n\t\t\t\t\t\t\tcurrentCategoryId\n\t\t\t\t\t\t\t\t? [ currentCategoryId ]\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Navigate to the All patterns category for the newly created pattern\n\t\t\t\t\t\t// if we're not on that page already and if we're not in the `my-patterns`\n\t\t\t\t\t\t// category.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! currentCategoryId &&\n\t\t\t\t\t\t\tlocation.query.categoryId !== 'my-patterns'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t\t`/pattern?categoryId=${ PATTERN_DEFAULT_CATEGORY }`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The imported pattern's title.\n\t\t\t\t\t\t\t\t__( 'Imported \"%s\" from JSON.' ),\n\t\t\t\t\t\t\t\tpattern.title.raw\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tid: 'import-pattern-success',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\tcreateErrorNotice( err.message, {\n\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\tid: 'import-pattern-error',\n\t\t\t\t\t\t} );\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tevent.target.value = '';\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\n/**\n * Internal dependencies\n */\nimport usePatternCategories from '../sidebar-navigation-screen-patterns/use-pattern-categories';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { RenamePatternCategoryModal } = unlock( patternsPrivateApis );\n\nexport default function RenameCategoryMenuItem( { category, onClose } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\treturn (\n\t\t<>\n\t\t\t<MenuItem onClick={ () => setIsModalOpen( true ) }>\n\t\t\t\t{ __( 'Rename' ) }\n\t\t\t</MenuItem>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<RenameModal\n\t\t\t\t\tcategory={ category }\n\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction RenameModal( { category, onClose } ) {\n\t// User created pattern categories have their properties updated when\n\t// retrieved via `getUserPatternCategories`. The rename modal expects an\n\t// object that will match the pattern category entity.\n\tconst normalizedCategory = {\n\t\tid: category.id,\n\t\tslug: category.slug,\n\t\tname: category.label,\n\t};\n\n\t// Optimization - only use pattern categories when the modal is open.\n\tconst existingCategories = usePatternCategories();\n\n\treturn (\n\t\t<RenamePatternCategoryModal\n\t\t\tcategory={ normalizedCategory }\n\t\t\texistingCategories={ existingCategories }\n\t\t\tonClose={ onClose }\n\t\t\toverlayClassName=\"edit-site-list__rename-modal\"\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"small\"\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tMenuItem,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { PATTERN_TYPES, PATTERN_DEFAULT_CATEGORY } from '../../utils/constants';\n\nconst { useHistory } = unlock( routerPrivateApis );\n\nexport default function DeleteCategoryMenuItem( { category, onClose } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst history = useHistory();\n\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { deleteEntityRecord, invalidateResolution } =\n\t\tuseDispatch( coreStore );\n\n\tconst onDelete = async () => {\n\t\ttry {\n\t\t\tawait deleteEntityRecord(\n\t\t\t\t'taxonomy',\n\t\t\t\t'wp_pattern_category',\n\t\t\t\tcategory.id,\n\t\t\t\t{ force: true },\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\t// Prevent the need to refresh the page to get up-to-date categories\n\t\t\t// and pattern categorization.\n\t\t\tinvalidateResolution( 'getUserPatternCategories' );\n\t\t\tinvalidateResolution( 'getEntityRecords', [\n\t\t\t\t'postType',\n\t\t\t\tPATTERN_TYPES.user,\n\t\t\t\t{ per_page: -1 },\n\t\t\t] );\n\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: The pattern category's name */\n\t\t\t\t\t_x( '\"%s\" deleted.', 'pattern category' ),\n\t\t\t\t\tcategory.label\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar', id: 'pattern-category-delete' }\n\t\t\t);\n\n\t\t\tonClose?.();\n\t\t\thistory.navigate(\n\t\t\t\t`/pattern?categoryId=${ PATTERN_DEFAULT_CATEGORY }`\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'An error occurred while deleting the pattern category.'\n\t\t\t\t\t  );\n\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tid: 'pattern-category-delete',\n\t\t\t} );\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<MenuItem isDestructive onClick={ () => setIsModalOpen( true ) }>\n\t\t\t\t{ __( 'Delete' ) }\n\t\t\t</MenuItem>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ isModalOpen }\n\t\t\t\tonConfirm={ onDelete }\n\t\t\t\tonCancel={ () => setIsModalOpen( false ) }\n\t\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\t\tclassName=\"edit-site-patterns__delete-modal\"\n\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t// translators: %s: The pattern category's name.\n\t\t\t\t\t_x( 'Delete \"%s\"?', 'pattern category' ),\n\t\t\t\t\tdecodeEntities( category.label )\n\t\t\t\t) }\n\t\t\t\tsize=\"medium\"\n\t\t\t\t__experimentalHideHeader={ false }\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %s: The pattern category's name.\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Are you sure you want to delete the category \"%s\"? The patterns will not be deleted.'\n\t\t\t\t\t),\n\t\t\t\t\tdecodeEntities( category.label )\n\t\t\t\t) }\n\t\t\t</ConfirmDialog>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { pencil } from '@wordpress/icons';\nimport { useMemo } from '@wordpress/element';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { PATTERN_TYPES } from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\n\nconst { useHistory } = unlock( routerPrivateApis );\n\nexport const useSetActiveTemplateAction = () => {\n\tconst activeTheme = useSelect( ( select ) =>\n\t\tselect( coreStore ).getCurrentTheme()\n\t);\n\tconst { getEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'set-active-template',\n\t\t\tlabel( items ) {\n\t\t\t\treturn items.some( ( item ) => item._isActive )\n\t\t\t\t\t? __( 'Deactivate' )\n\t\t\t\t\t: __( 'Activate' );\n\t\t\t},\n\t\t\tisPrimary: true,\n\t\t\ticon: pencil,\n\t\t\tisEligible( item ) {\n\t\t\t\tif ( item.theme !== activeTheme.stylesheet ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// If it's not a created template but a registered template,\n\t\t\t\t// only allow activating (so when it's inactive).\n\t\t\t\tif ( typeof item.id !== 'number' ) {\n\t\t\t\t\treturn item._isActive === false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tasync callback( items ) {\n\t\t\t\tconst deactivate = items.some( ( item ) => item._isActive );\n\t\t\t\t// current active templates\n\t\t\t\tconst activeTemplates = {\n\t\t\t\t\t...( ( await getEntityRecord( 'root', 'site' )\n\t\t\t\t\t\t.active_templates ) ?? {} ),\n\t\t\t\t};\n\t\t\t\tfor ( const item of items ) {\n\t\t\t\t\tif ( deactivate ) {\n\t\t\t\t\t\tdelete activeTemplates[ item.slug ];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveTemplates[ item.slug ] = item.id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tawait editEntityRecord( 'root', 'site', undefined, {\n\t\t\t\t\tactive_templates: activeTemplates,\n\t\t\t\t} );\n\t\t\t\tawait saveEditedEntityRecord( 'root', 'site' );\n\t\t\t},\n\t\t} ),\n\t\t[\n\t\t\teditEntityRecord,\n\t\t\tsaveEditedEntityRecord,\n\t\t\tgetEntityRecord,\n\t\t\tactiveTheme,\n\t\t]\n\t);\n};\n\nexport const useEditPostAction = () => {\n\tconst history = useHistory();\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'edit-post',\n\t\t\tlabel: __( 'Edit' ),\n\t\t\tisPrimary: true,\n\t\t\ticon: pencil,\n\t\t\tisEligible( post ) {\n\t\t\t\tif ( post.status === 'trash' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// It's eligible for all post types except theme patterns.\n\t\t\t\treturn post.type !== PATTERN_TYPES.theme;\n\t\t\t},\n\t\t\tcallback( items ) {\n\t\t\t\tconst post = items[ 0 ];\n\t\t\t\thistory.navigate( `/${ post.type }/${ post.id }?canvas=edit` );\n\t\t\t},\n\t\t} ),\n\t\t[ history ]\n\t);\n};\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useState, useMemo, useId } from '@wordpress/element';\nimport { BlockPreview } from '@wordpress/block-editor';\nimport { Icon } from '@wordpress/icons';\nimport { parse } from '@wordpress/blocks';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_SYNC_TYPES,\n\tOPERATOR_IS,\n} from '../../utils/constants';\nimport { useAddedBy } from '../page-templates/hooks';\nimport { unlock } from '../../lock-unlock';\n\nconst { useStyle } = unlock( editorPrivateApis );\n\nfunction PreviewField( { item } ) {\n\tconst descriptionId = useId();\n\tconst description = item.description || item?.excerpt?.raw;\n\tconst isTemplatePart = item.type === TEMPLATE_PART_POST_TYPE;\n\tconst backgroundColor = useStyle( 'color.background' );\n\tconst blocks = useMemo( () => {\n\t\treturn (\n\t\t\titem.blocks ??\n\t\t\tparse( item.content.raw, {\n\t\t\t\t__unstableSkipMigrationLogs: true,\n\t\t\t} )\n\t\t);\n\t}, [ item?.content?.raw, item.blocks ] );\n\tconst isEmpty = ! blocks?.length;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"page-patterns-preview-field\"\n\t\t\tstyle={ { backgroundColor } }\n\t\t\taria-describedby={ !! description ? descriptionId : undefined }\n\t\t>\n\t\t\t{ isEmpty && isTemplatePart && __( 'Empty template part' ) }\n\t\t\t{ isEmpty && ! isTemplatePart && __( 'Empty pattern' ) }\n\t\t\t{ ! isEmpty && (\n\t\t\t\t<BlockPreview.Async>\n\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\t\tviewportWidth={ item.viewportWidth }\n\t\t\t\t\t/>\n\t\t\t\t</BlockPreview.Async>\n\t\t\t) }\n\t\t\t{ !! description && (\n\t\t\t\t<div hidden id={ descriptionId }>\n\t\t\t\t\t{ description }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport const previewField = {\n\tlabel: __( 'Preview' ),\n\tid: 'preview',\n\trender: PreviewField,\n\tenableSorting: false,\n};\n\nconst SYNC_FILTERS = [\n\t{\n\t\tvalue: PATTERN_SYNC_TYPES.full,\n\t\tlabel: _x( 'Synced', 'pattern (singular)' ),\n\t\tdescription: __( 'Patterns that are kept in sync across the site.' ),\n\t},\n\t{\n\t\tvalue: PATTERN_SYNC_TYPES.unsynced,\n\t\tlabel: _x( 'Not synced', 'pattern (singular)' ),\n\t\tdescription: __(\n\t\t\t'Patterns that can be changed freely without affecting the site.'\n\t\t),\n\t},\n];\n\nexport const patternStatusField = {\n\tlabel: __( 'Sync status' ),\n\tid: 'sync-status',\n\trender: ( { item } ) => {\n\t\tconst syncStatus =\n\t\t\t'wp_pattern_sync_status' in item\n\t\t\t\t? item.wp_pattern_sync_status || PATTERN_SYNC_TYPES.full\n\t\t\t\t: PATTERN_SYNC_TYPES.unsynced;\n\t\t// User patterns can have their sync statuses checked directly.\n\t\t// Non-user patterns are all unsynced for the time being.\n\t\treturn (\n\t\t\t<span\n\t\t\t\tclassName={ `edit-site-patterns__field-sync-status-${ syncStatus }` }\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\tSYNC_FILTERS.find( ( { value } ) => value === syncStatus )\n\t\t\t\t\t\t.label\n\t\t\t\t}\n\t\t\t</span>\n\t\t);\n\t},\n\telements: SYNC_FILTERS,\n\tfilterBy: {\n\t\toperators: [ OPERATOR_IS ],\n\t\tisPrimary: true,\n\t},\n\tenableSorting: false,\n};\n\nfunction AuthorField( { item } ) {\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\n\tconst { text, icon, imageUrl } = useAddedBy( item.type, item.id );\n\n\treturn (\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\n\t\t\t{ imageUrl && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( 'page-templates-author-field__avatar', {\n\t\t\t\t\t\t'is-loaded': isImageLoaded,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ! imageUrl && (\n\t\t\t\t<div className=\"page-templates-author-field__icon\">\n\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<span className=\"page-templates-author-field__name\">{ text }</span>\n\t\t</HStack>\n\t);\n}\n\nexport const templatePartAuthorField = {\n\tlabel: __( 'Author' ),\n\tid: 'author',\n\tgetValue: ( { item } ) => item.author_text,\n\trender: AuthorField,\n\tfilterBy: {\n\t\tisPrimary: true,\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tcommentAuthorAvatar as authorIcon,\n\tlayout as themeIcon,\n\tplugins as pluginIcon,\n\tglobe as globeIcon,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_ORIGINS } from '../../utils/constants';\n\n/** @typedef {'wp_template'|'wp_template_part'} TemplateType */\n\n/**\n * @typedef {'theme'|'plugin'|'site'|'user'} AddedByType\n *\n * @typedef AddedByData\n * @type {Object}\n * @property {AddedByType}  type         The type of the data.\n * @property {JSX.Element}  icon         The icon to display.\n * @property {string}       [imageUrl]   The optional image URL to display.\n * @property {string}       [text]       The text to display.\n * @property {boolean}      isCustomized Whether the template has been customized.\n *\n * @param    {TemplateType} postType     The template post type.\n * @param    {number}       postId       The template post id.\n * @return {AddedByData} The added by object or null.\n */\nexport function useAddedBy( postType, postId ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, getUser, getEditedEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst template = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t);\n\t\t\tconst originalSource = template?.original_source;\n\t\t\tconst authorText = template?.author_text;\n\n\t\t\tswitch ( originalSource ) {\n\t\t\t\tcase 'theme': {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: originalSource,\n\t\t\t\t\t\ticon: themeIcon,\n\t\t\t\t\t\ttext: authorText,\n\t\t\t\t\t\tisCustomized:\n\t\t\t\t\t\t\ttemplate.source === TEMPLATE_ORIGINS.custom,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcase 'plugin': {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: originalSource,\n\t\t\t\t\t\ticon: pluginIcon,\n\t\t\t\t\t\ttext: authorText,\n\t\t\t\t\t\tisCustomized:\n\t\t\t\t\t\t\ttemplate.source === TEMPLATE_ORIGINS.custom,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcase 'site': {\n\t\t\t\t\tconst siteData = getEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'__unstableBase'\n\t\t\t\t\t);\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: originalSource,\n\t\t\t\t\t\ticon: globeIcon,\n\t\t\t\t\t\timageUrl: siteData?.site_logo\n\t\t\t\t\t\t\t? getEntityRecord(\n\t\t\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\t\t\t'attachment',\n\t\t\t\t\t\t\t\t\tsiteData.site_logo\n\t\t\t\t\t\t\t  )?.source_url\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\ttext: authorText,\n\t\t\t\t\t\tisCustomized: false,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tconst user = getUser( template.author );\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\ticon: authorIcon,\n\t\t\t\t\t\timageUrl: user?.avatar_urls?.[ 48 ],\n\t\t\t\t\t\ttext: authorText ?? user?.name,\n\t\t\t\t\t\tisCustomized: false,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[ postType, postId ]\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport SidebarNavigationScreenPatterns from '../sidebar-navigation-screen-patterns';\nimport PagePatterns from '../page-patterns';\nimport { isClassicThemeWithStyleBookSupport } from './utils';\n\nexport const patternsRoute = {\n\tname: 'patterns',\n\tpath: '/pattern',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\tconst backPath =\n\t\t\t\tisBlockTheme || isClassicThemeWithStyleBookSupport( siteData )\n\t\t\t\t\t? '/'\n\t\t\t\t\t: undefined;\n\t\t\treturn <SidebarNavigationScreenPatterns backPath={ backPath } />;\n\t\t},\n\t\tcontent: <PagePatterns />,\n\t\tmobile( { siteData, query } ) {\n\t\t\tconst { categoryId } = query;\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\tconst backPath =\n\t\t\t\tisBlockTheme || isClassicThemeWithStyleBookSupport( siteData )\n\t\t\t\t\t? '/'\n\t\t\t\t\t: undefined;\n\t\t\treturn !! categoryId ? (\n\t\t\t\t<PagePatterns />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenPatterns backPath={ backPath } />\n\t\t\t);\n\t\t},\n\t},\n};\n", "/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport SidebarNavigationScreenPatterns from '../sidebar-navigation-screen-patterns';\nimport { isClassicThemeWithStyleBookSupport } from './utils';\n\nexport const patternItemRoute = {\n\tname: 'pattern-item',\n\tpath: '/wp_block/:postId',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\tconst backPath =\n\t\t\t\tisBlockTheme || isClassicThemeWithStyleBookSupport( siteData )\n\t\t\t\t\t? '/'\n\t\t\t\t\t: undefined;\n\t\t\treturn <SidebarNavigationScreenPatterns backPath={ backPath } />;\n\t\t},\n\t\tmobile: <Editor />,\n\t\tpreview: <Editor />,\n\t},\n};\n", "/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport SidebarNavigationScreenPatterns from '../sidebar-navigation-screen-patterns';\n\nexport const templatePartItemRoute = {\n\tname: 'template-part-item',\n\tpath: '/wp_template_part/*postId',\n\tareas: {\n\t\tsidebar: <SidebarNavigationScreenPatterns backPath=\"/\" />,\n\t\tmobile: <Editor />,\n\t\tpreview: <Editor />,\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport DataviewsTemplatesSidebarContent from './content';\nimport DataviewsTemplatesSidebarContentLegacy from './content-legacy';\n\nexport default function SidebarNavigationScreenTemplatesBrowse( { backPath } ) {\n\treturn (\n\t\t<SidebarNavigationScreen\n\t\t\ttitle={ __( 'Templates' ) }\n\t\t\tdescription={ __(\n\t\t\t\t'Create new templates, or reset any customizations made to the templates supplied by your theme.'\n\t\t\t) }\n\t\t\tbackPath={ backPath }\n\t\t\tcontent={\n\t\t\t\twindow?.__experimentalTemplateActivate ? (\n\t\t\t\t\t<DataviewsTemplatesSidebarContent />\n\t\t\t\t) : (\n\t\t\t\t\t<DataviewsTemplatesSidebarContentLegacy />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationItem from '../sidebar-navigation-item';\nimport { useAddedBy } from '../page-templates/hooks';\nimport { commentAuthorAvatar, published } from '@wordpress/icons';\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nconst EMPTY_ARRAY = [];\n\nfunction TemplateDataviewItem( { template, isActive } ) {\n\tconst { text, icon } = useAddedBy( template.type, template.id );\n\n\treturn (\n\t\t<SidebarNavigationItem\n\t\t\tto={ addQueryArgs( '/template', { activeView: text } ) }\n\t\t\ticon={ icon }\n\t\t\taria-current={ isActive }\n\t\t>\n\t\t\t{ text }\n\t\t</SidebarNavigationItem>\n\t);\n}\n\nexport default function DataviewsTemplatesSidebarContent() {\n\tconst {\n\t\tquery: { activeView = 'active' },\n\t} = useLocation();\n\tconst { records } = useEntityRecords( 'root', 'registeredTemplate', {\n\t\t// This should not be needed, the endpoint returns all registered\n\t\t// templates, but it's not possible right now to turn off pagination for\n\t\t// entity configs.\n\t\tper_page: -1,\n\t} );\n\tconst firstItemPerAuthorText = useMemo( () => {\n\t\tconst firstItemPerAuthor = records?.reduce( ( acc, template ) => {\n\t\t\tconst author = template.author_text;\n\t\t\tif ( author && ! acc[ author ] ) {\n\t\t\t\tacc[ author ] = template;\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, {} );\n\t\treturn (\n\t\t\t( firstItemPerAuthor && Object.values( firstItemPerAuthor ) ) ??\n\t\t\tEMPTY_ARRAY\n\t\t);\n\t}, [ records ] );\n\n\treturn (\n\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-templates-browse\">\n\t\t\t<SidebarNavigationItem\n\t\t\t\tto=\"/template\"\n\t\t\t\ticon={ published }\n\t\t\t\taria-current={ activeView === 'active' }\n\t\t\t>\n\t\t\t\t{ __( 'Active templates' ) }\n\t\t\t</SidebarNavigationItem>\n\t\t\t<SidebarNavigationItem\n\t\t\t\tto={ addQueryArgs( '/template', { activeView: 'user' } ) }\n\t\t\t\ticon={ commentAuthorAvatar }\n\t\t\t\taria-current={ activeView === 'user' }\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\t// Let's avoid calling them \"custom templates\" to avoid\n\t\t\t\t\t// confusion. \"Created\" is closest to meaning database\n\t\t\t\t\t// templates, created by users.\n\t\t\t\t\t// https://developer.wordpress.org/themes/classic-themes/templates/page-template-files/#creating-custom-page-templates-for-global-use\n\t\t\t\t\t__( 'Created templates' )\n\t\t\t\t}\n\t\t\t</SidebarNavigationItem>\n\t\t\t{ firstItemPerAuthorText.map( ( template ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<TemplateDataviewItem\n\t\t\t\t\t\tkey={ template.author_text }\n\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\tisActive={ activeView === template.author_text }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ItemGroup>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationItem from '../sidebar-navigation-item';\nimport { useAddedBy } from '../page-templates/hooks';\nimport { layout } from '@wordpress/icons';\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nconst EMPTY_ARRAY = [];\n\nfunction TemplateDataviewItem( { template, isActive } ) {\n\tconst { text, icon } = useAddedBy( template.type, template.id );\n\n\treturn (\n\t\t<SidebarNavigationItem\n\t\t\tto={ addQueryArgs( '/template', { activeView: text } ) }\n\t\t\ticon={ icon }\n\t\t\taria-current={ isActive }\n\t\t>\n\t\t\t{ text }\n\t\t</SidebarNavigationItem>\n\t);\n}\n\nexport default function DataviewsTemplatesSidebarContent() {\n\tconst {\n\t\tquery: { activeView = 'all' },\n\t} = useLocation();\n\tconst { records } = useEntityRecords( 'postType', TEMPLATE_POST_TYPE, {\n\t\tper_page: -1,\n\t} );\n\tconst firstItemPerAuthorText = useMemo( () => {\n\t\tconst firstItemPerAuthor = records?.reduce( ( acc, template ) => {\n\t\t\tconst author = template.author_text;\n\t\t\tif ( author && ! acc[ author ] ) {\n\t\t\t\tacc[ author ] = template;\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, {} );\n\t\treturn (\n\t\t\t( firstItemPerAuthor && Object.values( firstItemPerAuthor ) ) ??\n\t\t\tEMPTY_ARRAY\n\t\t);\n\t}, [ records ] );\n\n\treturn (\n\t\t<ItemGroup className=\"edit-site-sidebar-navigation-screen-templates-browse\">\n\t\t\t<SidebarNavigationItem\n\t\t\t\tto=\"/template\"\n\t\t\t\ticon={ layout }\n\t\t\t\taria-current={ activeView === 'all' }\n\t\t\t>\n\t\t\t\t{ __( 'All templates' ) }\n\t\t\t</SidebarNavigationItem>\n\t\t\t{ firstItemPerAuthorText.map( ( template ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<TemplateDataviewItem\n\t\t\t\t\t\tkey={ template.author_text }\n\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\tisActive={ activeView === template.author_text }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ItemGroup>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Page } from '@wordpress/admin-ui';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useState, useMemo, useCallback } from '@wordpress/element';\nimport {\n\tprivateApis as corePrivateApis,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport { DataViews, filterSortAndPaginate } from '@wordpress/dataviews';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEvent } from '@wordpress/compose';\nimport { useView } from '@wordpress/views';\nimport { Button, Modal } from '@wordpress/components';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport AddNewTemplate from '../add-new-template';\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\nimport {\n\tuseEditPostAction,\n\tuseSetActiveTemplateAction,\n} from '../dataviews-actions';\nimport {\n\tauthorField,\n\tdescriptionField,\n\tpreviewField,\n\tactiveField,\n\tslugField,\n\tuseThemeField,\n} from './fields';\nimport { defaultLayouts, getDefaultView } from './view-utils';\n\nconst { usePostActions, usePostFields, templateTitleField } =\n\tunlock( editorPrivateApis );\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\nconst { useEntityRecordsWithPermissions } = unlock( corePrivateApis );\n\nexport default function PageTemplates() {\n\tconst { path, query } = useLocation();\n\tconst { activeView = 'active', postId } = query;\n\tconst [ selection, setSelection ] = useState( [ postId ] );\n\tconst [ selectedRegisteredTemplate, setSelectedRegisteredTemplate ] =\n\t\tuseState( false );\n\tconst defaultView = useMemo( () => {\n\t\treturn getDefaultView( activeView );\n\t}, [ activeView ] );\n\tconst { view, updateView, isModified, resetToDefault } = useView( {\n\t\tkind: 'postType',\n\t\tname: TEMPLATE_POST_TYPE,\n\t\tslug: activeView,\n\t\tdefaultView,\n\t\tqueryParams: {\n\t\t\tpage: query.pageNumber,\n\t\t\tsearch: query.search,\n\t\t},\n\t\tonChangeQueryParams: ( newQueryParams ) => {\n\t\t\thistory.navigate(\n\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t...query,\n\t\t\t\t\tpageNumber: newQueryParams.page,\n\t\t\t\t\tsearch: newQueryParams.search || undefined,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t} );\n\n\tconst { activeTemplatesOption, activeTheme, defaultTemplateTypes } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getEntityRecord, getCurrentTheme } = select( coreStore );\n\t\t\treturn {\n\t\t\t\tactiveTemplatesOption: getEntityRecord( 'root', 'site' )\n\t\t\t\t\t?.active_templates,\n\t\t\t\tactiveTheme: getCurrentTheme(),\n\t\t\t\tdefaultTemplateTypes:\n\t\t\t\t\tselect( coreStore ).getCurrentTheme()\n\t\t\t\t\t\t?.default_template_types,\n\t\t\t};\n\t\t} );\n\t// Todo: this will have to be better so that we're not fetching all the\n\t// records all the time. Active templates query will need to move server\n\t// side.\n\tconst { records: userRecords, isResolving: isLoadingUserRecords } =\n\t\tuseEntityRecordsWithPermissions( 'postType', TEMPLATE_POST_TYPE, {\n\t\t\tper_page: -1,\n\t\t\tcombinedTemplates: false,\n\t\t} );\n\tconst { records: staticRecords, isResolving: isLoadingStaticData } =\n\t\tuseEntityRecordsWithPermissions( 'root', 'registeredTemplate', {\n\t\t\t// This should not be needed, the endpoint returns all registered\n\t\t\t// templates, but it's not possible right now to turn off pagination\n\t\t\t// for entity configs.\n\t\t\tper_page: -1,\n\t\t} );\n\n\tconst activeTemplates = useMemo( () => {\n\t\tconst _active = [ ...staticRecords ];\n\t\tif ( activeTemplatesOption ) {\n\t\t\tfor ( const activeSlug in activeTemplatesOption ) {\n\t\t\t\tconst activeId = activeTemplatesOption[ activeSlug ];\n\t\t\t\t// Replace the template in the array.\n\t\t\t\tconst template = userRecords.find(\n\t\t\t\t\t( userRecord ) =>\n\t\t\t\t\t\tuserRecord.id === activeId &&\n\t\t\t\t\t\tuserRecord.theme === activeTheme.stylesheet\n\t\t\t\t);\n\t\t\t\tif ( template ) {\n\t\t\t\t\tconst index = _active.findIndex(\n\t\t\t\t\t\t( { slug } ) => slug === template.slug\n\t\t\t\t\t);\n\t\t\t\t\tif ( index !== -1 ) {\n\t\t\t\t\t\t_active[ index ] = template;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_active.push( template );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn _active;\n\t}, [ userRecords, staticRecords, activeTemplatesOption, activeTheme ] );\n\n\tlet isLoadingData;\n\tif ( activeView === 'active' ) {\n\t\tisLoadingData = isLoadingUserRecords || isLoadingStaticData;\n\t} else if ( activeView === 'user' ) {\n\t\tisLoadingData = isLoadingUserRecords;\n\t} else {\n\t\tisLoadingData = isLoadingStaticData;\n\t}\n\n\tconst records = useMemo( () => {\n\t\tfunction isCustom( record ) {\n\t\t\t// For registered templates, the is_custom field is defined.\n\t\t\treturn (\n\t\t\t\trecord.is_custom ??\n\t\t\t\t// For user templates it's custom if the is_wp_suggestion meta\n\t\t\t\t// field is not set and the slug is not found in the default\n\t\t\t\t// template types.\n\t\t\t\t( ! record.meta?.is_wp_suggestion &&\n\t\t\t\t\t! defaultTemplateTypes.some(\n\t\t\t\t\t\t( type ) => type.slug === record.slug\n\t\t\t\t\t) )\n\t\t\t);\n\t\t}\n\n\t\tlet _records;\n\t\tif ( activeView === 'active' ) {\n\t\t\t// Don't show active custom templates in the active view.\n\t\t\t_records = activeTemplates.filter(\n\t\t\t\t( record ) => ! isCustom( record )\n\t\t\t);\n\t\t} else if ( activeView === 'user' ) {\n\t\t\t_records = userRecords;\n\t\t} else {\n\t\t\t_records = staticRecords;\n\t\t}\n\t\treturn _records.map( ( record ) => ( {\n\t\t\t...record,\n\t\t\t_isActive: activeTemplates.some(\n\t\t\t\t( template ) => template.id === record.id\n\t\t\t),\n\t\t\t_isCustom: isCustom( record ),\n\t\t} ) );\n\t}, [\n\t\tactiveTemplates,\n\t\tdefaultTemplateTypes,\n\t\tuserRecords,\n\t\tstaticRecords,\n\t\tactiveView,\n\t] );\n\n\tconst users = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getUser } = select( coreStore );\n\t\t\treturn records.reduce( ( acc, record ) => {\n\t\t\t\tif ( record.author_text ) {\n\t\t\t\t\tif ( ! acc[ record.author_text ] ) {\n\t\t\t\t\t\tacc[ record.author_text ] = record.author_text;\n\t\t\t\t\t}\n\t\t\t\t} else if ( record.author ) {\n\t\t\t\t\tif ( ! acc[ record.author ] ) {\n\t\t\t\t\t\tacc[ record.author ] = getUser( record.author );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn acc;\n\t\t\t}, {} );\n\t\t},\n\t\t[ records ]\n\t);\n\n\tconst history = useHistory();\n\tconst onChangeSelection = useCallback(\n\t\t( items ) => {\n\t\t\tsetSelection( items );\n\t\t\tif ( view?.type === 'list' ) {\n\t\t\t\thistory.navigate(\n\t\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t\tpostId: items.length === 1 ? items[ 0 ] : undefined,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ history, path, view?.type ]\n\t);\n\n\tconst postTypeFields = usePostFields( {\n\t\tpostType: TEMPLATE_POST_TYPE,\n\t} );\n\tconst dateField = postTypeFields.find( ( field ) => field.id === 'date' );\n\tconst themeField = useThemeField();\n\tconst fields = useMemo( () => {\n\t\tconst _fields = [\n\t\t\tpreviewField,\n\t\t\ttemplateTitleField,\n\t\t\tdescriptionField,\n\t\t\tactiveField,\n\t\t\tslugField,\n\t\t];\n\t\tif ( activeView === 'user' ) {\n\t\t\t_fields.push( themeField );\n\t\t\tif ( dateField ) {\n\t\t\t\t_fields.push( dateField );\n\t\t\t}\n\t\t}\n\t\tconst elements = [];\n\t\tfor ( const author in users ) {\n\t\t\telements.push( {\n\t\t\t\tvalue: users[ author ]?.id ?? author,\n\t\t\t\tlabel: users[ author ]?.name ?? author,\n\t\t\t} );\n\t\t}\n\t\t_fields.push( {\n\t\t\t...authorField,\n\t\t\telements,\n\t\t} );\n\t\treturn _fields;\n\t}, [ users, activeView, themeField, dateField ] );\n\n\tconst { data, paginationInfo } = useMemo( () => {\n\t\treturn filterSortAndPaginate( records, view, fields );\n\t}, [ records, view, fields ] );\n\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst onActionPerformed = useCallback(\n\t\t( actionId, items ) => {\n\t\t\tswitch ( actionId ) {\n\t\t\t\tcase 'duplicate-post':\n\t\t\t\t\t{\n\t\t\t\t\t\tconst newItem = items[ 0 ];\n\t\t\t\t\t\tconst _title =\n\t\t\t\t\t\t\ttypeof newItem.title === 'string'\n\t\t\t\t\t\t\t\t? newItem.title\n\t\t\t\t\t\t\t\t: newItem.title?.rendered;\n\t\t\t\t\t\thistory.navigate( `/template?activeView=user` );\n\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Title of the created post or template, e.g: \"Hello world\".\n\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\t\t\tdecodeEntities( _title ) || __( '(no title)' )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit' ),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t\t\t\t\t\t`/${ newItem.type }/${ newItem.id }?canvas=edit`\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t[ history, createSuccessNotice ]\n\t);\n\tconst postTypeActions = usePostActions( {\n\t\tpostType: TEMPLATE_POST_TYPE,\n\t\tcontext: 'list',\n\t\tonActionPerformed,\n\t} );\n\tconst editAction = useEditPostAction();\n\tconst setActiveTemplateAction = useSetActiveTemplateAction();\n\tconst actions = useMemo(\n\t\t() =>\n\t\t\tactiveView === 'user'\n\t\t\t\t? [ setActiveTemplateAction, editAction, ...postTypeActions ]\n\t\t\t\t: [ setActiveTemplateAction, ...postTypeActions ],\n\t\t[ postTypeActions, setActiveTemplateAction, editAction, activeView ]\n\t);\n\n\tconst onChangeView = useEvent( ( newView ) => {\n\t\tif ( newView.type !== view.type ) {\n\t\t\t// Retrigger the routing areas resolution.\n\t\t\thistory.invalidate();\n\t\t}\n\t\tupdateView( newView );\n\t} );\n\n\tconst duplicateAction = actions.find(\n\t\t( action ) => action.id === 'duplicate-post'\n\t);\n\n\treturn (\n\t\t<Page\n\t\t\tclassName=\"edit-site-page-templates\"\n\t\t\ttitle={ __( 'Templates' ) }\n\t\t\tactions={\n\t\t\t\t<>\n\t\t\t\t\t{ isModified && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tresetToDefault();\n\t\t\t\t\t\t\t\thistory.invalidate();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Reset view' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\t<AddNewTemplate />\n\t\t\t\t</>\n\t\t\t}\n\t\t>\n\t\t\t<DataViews\n\t\t\t\tkey={ activeView }\n\t\t\t\tpaginationInfo={ paginationInfo }\n\t\t\t\tfields={ fields }\n\t\t\t\tactions={ actions }\n\t\t\t\tdata={ data }\n\t\t\t\tisLoading={ isLoadingData }\n\t\t\t\tview={ view }\n\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\tisItemClickable={ () => true }\n\t\t\t\tonClickItem={ ( item ) => {\n\t\t\t\t\tif ( typeof item.id === 'string' ) {\n\t\t\t\t\t\tsetSelectedRegisteredTemplate( item );\n\t\t\t\t\t} else {\n\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t`/${ item.type }/${ item.id }?canvas=edit`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tselection={ selection }\n\t\t\t\tdefaultLayouts={ defaultLayouts }\n\t\t\t/>\n\t\t\t{ selectedRegisteredTemplate && duplicateAction && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Duplicate' ) }\n\t\t\t\t\tonRequestClose={ () => setSelectedRegisteredTemplate() }\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t>\n\t\t\t\t\t<duplicateAction.RenderModal\n\t\t\t\t\t\titems={ [ selectedRegisteredTemplate ] }\n\t\t\t\t\t\tcloseModal={ () => setSelectedRegisteredTemplate() }\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</Page>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalGrid as Grid,\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n\tFlex,\n\tIcon,\n} from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useState, memo, useRef, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tarchive,\n\tblockMeta,\n\tcalendar,\n\tcategory,\n\tcommentAuthorAvatar,\n\tpencil,\n\thome,\n\tlayout,\n\tlist,\n\tmedia,\n\tnotFound,\n\tpage,\n\tpin,\n\tverse,\n\tsearch,\n\ttag,\n} from '@wordpress/icons';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { focus } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\n\n/**\n * Internal dependencies\n */\nimport AddCustomTemplateModalContent from './add-custom-template-modal-content';\nimport {\n\tuseDefaultTemplateTypes,\n\tuseTaxonomiesMenuItems,\n\tusePostTypeMenuItems,\n\tuseAuthorMenuItem,\n\tusePostTypeArchiveMenuItems,\n} from './utils';\nimport AddCustomGenericTemplateModalContent from './add-custom-generic-template-modal-content';\nimport { unlock } from '../../lock-unlock';\n\nconst { useHistory } = unlock( routerPrivateApis );\n\nconst DEFAULT_TEMPLATE_SLUGS = [\n\t'front-page',\n\t'home',\n\t'single',\n\t'page',\n\t'index',\n\t'archive',\n\t'author',\n\t'category',\n\t'date',\n\t'tag',\n\t'search',\n\t'404',\n];\n\nconst TEMPLATE_ICONS = {\n\t'front-page': home,\n\thome: verse,\n\tsingle: pin,\n\tpage,\n\tarchive,\n\tsearch,\n\t404: notFound,\n\tindex: list,\n\tcategory,\n\tauthor: commentAuthorAvatar,\n\ttaxonomy: blockMeta,\n\tdate: calendar,\n\ttag,\n\tattachment: media,\n};\n\nfunction TemplateListItem( {\n\ttitle,\n\tdirection,\n\tclassName,\n\tdescription,\n\ticon,\n\tonClick,\n\tchildren,\n} ) {\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\tclassName={ className }\n\t\t\tonClick={ onClick }\n\t\t\tlabel={ description }\n\t\t\tshowTooltip={ !! description }\n\t\t>\n\t\t\t<Flex\n\t\t\t\tas=\"span\"\n\t\t\t\tspacing={ 2 }\n\t\t\t\talign=\"center\"\n\t\t\t\tjustify=\"center\"\n\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\tdirection={ direction }\n\t\t\t>\n\t\t\t\t<div className=\"edit-site-add-new-template__template-icon\">\n\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t</div>\n\t\t\t\t<VStack\n\t\t\t\t\tclassName=\"edit-site-add-new-template__template-name\"\n\t\t\t\t\talignment=\"center\"\n\t\t\t\t\tspacing={ 0 }\n\t\t\t\t>\n\t\t\t\t\t<Text\n\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\tweight={ 500 }\n\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</Text>\n\t\t\t\t\t{ children }\n\t\t\t\t</VStack>\n\t\t\t</Flex>\n\t\t</Button>\n\t);\n}\n\nconst modalContentMap = {\n\ttemplatesList: 1,\n\tcustomTemplate: 2,\n\tcustomGenericTemplate: 3,\n};\n\nfunction NewTemplateModal( { onClose } ) {\n\tconst [ modalContent, setModalContent ] = useState(\n\t\tmodalContentMap.templatesList\n\t);\n\tconst [ entityForSuggestions, setEntityForSuggestions ] = useState( {} );\n\tconst [ isSubmitting, setIsSubmitting ] = useState( false );\n\tconst missingTemplates = useMissingTemplates( setEntityForSuggestions, () =>\n\t\tsetModalContent( modalContentMap.customTemplate )\n\t);\n\tconst history = useHistory();\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice, createSuccessNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst containerRef = useRef( null );\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\n\tconst homeUrl = useSelect( ( select ) => {\n\t\t// Site index.\n\t\treturn select( coreStore ).getEntityRecord( 'root', '__unstableBase' )\n\t\t\t?.home;\n\t}, [] );\n\n\tconst TEMPLATE_SHORT_DESCRIPTIONS = {\n\t\t'front-page': homeUrl,\n\t\tdate: sprintf(\n\t\t\t// translators: %s: The homepage url.\n\t\t\t__( 'E.g. %s' ),\n\t\t\thomeUrl + '/' + new Date().getFullYear()\n\t\t),\n\t};\n\n\tuseEffect( () => {\n\t\t// Focus the first focusable element when component mounts or UI changes\n\t\t// We don't want to focus on the other modals because they have their own focus management.\n\t\tif (\n\t\t\tcontainerRef.current &&\n\t\t\tmodalContent === modalContentMap.templatesList\n\t\t) {\n\t\t\tconst [ firstFocusable ] = focus.focusable.find(\n\t\t\t\tcontainerRef.current\n\t\t\t);\n\t\t\tfirstFocusable?.focus();\n\t\t}\n\t}, [ modalContent ] );\n\n\tasync function createTemplate( template, isWPSuggestion = true ) {\n\t\tif ( isSubmitting ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsSubmitting( true );\n\t\ttry {\n\t\t\tconst { title, description, slug } = template;\n\t\t\tconst newTemplate = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t{\n\t\t\t\t\tdescription,\n\t\t\t\t\t// Slugs need to be strings, so this is for template `404`\n\t\t\t\t\tslug: slug.toString(),\n\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\ttitle,\n\t\t\t\t\t// This adds a post meta field in template that is part of `is_custom` value calculation.\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tis_wp_suggestion: isWPSuggestion,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\t// Navigate to the created template editor.\n\t\t\thistory.navigate(\n\t\t\t\t`/${ TEMPLATE_POST_TYPE }/${ newTemplate.id }?canvas=edit`\n\t\t\t);\n\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Title of the created post or template, e.g: \"Hello world\".\n\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\tdecodeEntities( newTemplate.title?.rendered || title ) ||\n\t\t\t\t\t\t__( '(no title)' )\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the template.' );\n\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} finally {\n\t\t\tsetIsSubmitting( false );\n\t\t}\n\t}\n\tconst onModalClose = () => {\n\t\tonClose();\n\t\tsetModalContent( modalContentMap.templatesList );\n\t};\n\n\tlet modalTitle = __( 'Add template' );\n\tif ( modalContent === modalContentMap.customTemplate ) {\n\t\tmodalTitle = sprintf(\n\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t__( 'Add template: %s' ),\n\t\t\tentityForSuggestions.labels.singular_name\n\t\t);\n\t} else if ( modalContent === modalContentMap.customGenericTemplate ) {\n\t\tmodalTitle = __( 'Create custom template' );\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ modalTitle }\n\t\t\tclassName={ clsx( 'edit-site-add-new-template__modal', {\n\t\t\t\t'edit-site-add-new-template__modal_template_list':\n\t\t\t\t\tmodalContent === modalContentMap.templatesList,\n\t\t\t\t'edit-site-custom-template-modal':\n\t\t\t\t\tmodalContent === modalContentMap.customTemplate,\n\t\t\t} ) }\n\t\t\tonRequestClose={ onModalClose }\n\t\t\toverlayClassName={\n\t\t\t\tmodalContent === modalContentMap.customGenericTemplate\n\t\t\t\t\t? 'edit-site-custom-generic-template__modal'\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tref={ containerRef }\n\t\t>\n\t\t\t{ modalContent === modalContentMap.templatesList && (\n\t\t\t\t<Grid\n\t\t\t\t\tcolumns={ isMobile ? 2 : 3 }\n\t\t\t\t\tgap={ 4 }\n\t\t\t\t\talign=\"flex-start\"\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\tclassName=\"edit-site-add-new-template__template-list__contents\"\n\t\t\t\t>\n\t\t\t\t\t<Flex className=\"edit-site-add-new-template__template-list__prompt\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Select what the new template should apply to:'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Flex>\n\t\t\t\t\t{ missingTemplates.map( ( template ) => {\n\t\t\t\t\t\tconst { title, slug, onClick } = template;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TemplateListItem\n\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\t\tclassName=\"edit-site-add-new-template__template-button\"\n\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\tTEMPLATE_SHORT_DESCRIPTIONS[ slug ]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ticon={ TEMPLATE_ICONS[ slug ] || layout }\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tonClick\n\t\t\t\t\t\t\t\t\t\t? onClick( template )\n\t\t\t\t\t\t\t\t\t\t: createTemplate( template )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t\t<TemplateListItem\n\t\t\t\t\t\ttitle={ __( 'Custom template' ) }\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tclassName=\"edit-site-add-new-template__custom-template-button\"\n\t\t\t\t\t\ticon={ pencil }\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\tsetModalContent(\n\t\t\t\t\t\t\t\tmodalContentMap.customGenericTemplate\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'A custom template can be manually applied to any post or page.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</TemplateListItem>\n\t\t\t\t</Grid>\n\t\t\t) }\n\t\t\t{ modalContent === modalContentMap.customTemplate && (\n\t\t\t\t<AddCustomTemplateModalContent\n\t\t\t\t\tonSelect={ createTemplate }\n\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\tonBack={ () =>\n\t\t\t\t\t\tsetModalContent( modalContentMap.templatesList )\n\t\t\t\t\t}\n\t\t\t\t\tcontainerRef={ containerRef }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ modalContent === modalContentMap.customGenericTemplate && (\n\t\t\t\t<AddCustomGenericTemplateModalContent\n\t\t\t\t\tcreateTemplate={ createTemplate }\n\t\t\t\t\tonBack={ () =>\n\t\t\t\t\t\tsetModalContent( modalContentMap.templatesList )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</Modal>\n\t);\n}\n\nfunction NewTemplate() {\n\tconst [ showModal, setShowModal ] = useState( false );\n\n\tconst { postType } = useSelect( ( select ) => {\n\t\tconst { getPostType } = select( coreStore );\n\n\t\treturn {\n\t\t\tpostType: getPostType( TEMPLATE_POST_TYPE ),\n\t\t};\n\t}, [] );\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={ () => setShowModal( true ) }\n\t\t\t\tlabel={ postType.labels.add_new_item }\n\t\t\t\t__next40pxDefaultSize\n\t\t\t>\n\t\t\t\t{ postType.labels.add_new_item }\n\t\t\t</Button>\n\t\t\t{ showModal && (\n\t\t\t\t<NewTemplateModal onClose={ () => setShowModal( false ) } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction useMissingTemplates( setEntityForSuggestions, onClick ) {\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst missingDefaultTemplates = ( defaultTemplateTypes || [] ).filter(\n\t\t( template ) => DEFAULT_TEMPLATE_SLUGS.includes( template.slug )\n\t);\n\tconst onClickMenuItem = ( _entityForSuggestions ) => {\n\t\tonClick?.();\n\t\tsetEntityForSuggestions( _entityForSuggestions );\n\t};\n\t// We need to replace existing default template types with\n\t// the create specific template functionality. The original\n\t// info (title, description, etc.) is preserved in the\n\t// used hooks.\n\tconst enhancedMissingDefaultTemplateTypes = [ ...missingDefaultTemplates ];\n\tconst { defaultTaxonomiesMenuItems, taxonomiesMenuItems } =\n\t\tuseTaxonomiesMenuItems( onClickMenuItem );\n\tconst { defaultPostTypesMenuItems, postTypesMenuItems } =\n\t\tusePostTypeMenuItems( onClickMenuItem );\n\n\tconst authorMenuItem = useAuthorMenuItem( onClickMenuItem );\n\t[\n\t\t...defaultTaxonomiesMenuItems,\n\t\t...defaultPostTypesMenuItems,\n\t\tauthorMenuItem,\n\t].forEach( ( menuItem ) => {\n\t\tif ( ! menuItem ) {\n\t\t\treturn;\n\t\t}\n\t\tconst matchIndex = enhancedMissingDefaultTemplateTypes.findIndex(\n\t\t\t( template ) => template.slug === menuItem.slug\n\t\t);\n\t\t// Some default template types might have been filtered above from\n\t\t// `missingDefaultTemplates` because they only check for the general\n\t\t// template. So here we either replace or append the item, augmented\n\t\t// with the check if it has available specific item to create a\n\t\t// template for.\n\t\tif ( matchIndex > -1 ) {\n\t\t\tenhancedMissingDefaultTemplateTypes[ matchIndex ] = menuItem;\n\t\t} else {\n\t\t\tenhancedMissingDefaultTemplateTypes.push( menuItem );\n\t\t}\n\t} );\n\t// Update the sort order to match the DEFAULT_TEMPLATE_SLUGS order.\n\tenhancedMissingDefaultTemplateTypes?.sort( ( template1, template2 ) => {\n\t\treturn (\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template1.slug ) -\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template2.slug )\n\t\t);\n\t} );\n\tconst missingTemplates = [\n\t\t...enhancedMissingDefaultTemplateTypes,\n\t\t...usePostTypeArchiveMenuItems(),\n\t\t...postTypesMenuItems,\n\t\t...taxonomiesMenuItems,\n\t];\n\treturn missingTemplates;\n}\n\nexport default memo( NewTemplate );\n", "/**\n * WordPress dependencies\n */\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tSearchControl,\n\tTextHighlight,\n\tComposite,\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useDebouncedInput } from '@wordpress/compose';\nimport { focus } from '@wordpress/dom';\nimport { safeDecodeURI } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { mapToIHasNameAndId } from './utils';\n\nconst EMPTY_ARRAY = [];\n\nfunction SuggestionListItem( {\n\tsuggestion,\n\tsearch,\n\tonSelect,\n\tentityForSuggestions,\n} ) {\n\tconst baseCssClass =\n\t\t'edit-site-custom-template-modal__suggestions_list__list-item';\n\treturn (\n\t\t<Composite.Item\n\t\t\trender={\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\trole=\"option\"\n\t\t\t\t\tclassName={ baseCssClass }\n\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\tentityForSuggestions.config.getSpecificTemplate(\n\t\t\t\t\t\t\t\tsuggestion\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t<Text\n\t\t\t\tsize=\"body\"\n\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\tweight={ 500 }\n\t\t\t\tclassName={ `${ baseCssClass }__title` }\n\t\t\t>\n\t\t\t\t<TextHighlight\n\t\t\t\t\ttext={ decodeEntities( suggestion.name ) }\n\t\t\t\t\thighlight={ search }\n\t\t\t\t/>\n\t\t\t</Text>\n\t\t\t{ suggestion.link && (\n\t\t\t\t<Text\n\t\t\t\t\tsize=\"body\"\n\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\tclassName={ `${ baseCssClass }__info` }\n\t\t\t\t>\n\t\t\t\t\t{ safeDecodeURI( suggestion.link ) }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</Composite.Item>\n\t);\n}\n\nfunction useSearchSuggestions( entityForSuggestions, search ) {\n\tconst { config } = entityForSuggestions;\n\tconst query = useMemo(\n\t\t() => ( {\n\t\t\torder: 'asc',\n\t\t\tcontext: 'view',\n\t\t\tsearch,\n\t\t\tper_page: search ? 20 : 10,\n\t\t\t...config.queryArgs( search ),\n\t\t} ),\n\t\t[ search, config ]\n\t);\n\tconst { records: searchResults, hasResolved: searchHasResolved } =\n\t\tuseEntityRecords(\n\t\t\tentityForSuggestions.type,\n\t\t\tentityForSuggestions.slug,\n\t\t\tquery\n\t\t);\n\tconst [ suggestions, setSuggestions ] = useState( EMPTY_ARRAY );\n\tuseEffect( () => {\n\t\tif ( ! searchHasResolved ) {\n\t\t\treturn;\n\t\t}\n\t\tlet newSuggestions = EMPTY_ARRAY;\n\t\tif ( searchResults?.length ) {\n\t\t\tnewSuggestions = searchResults;\n\t\t\tif ( config.recordNamePath ) {\n\t\t\t\tnewSuggestions = mapToIHasNameAndId(\n\t\t\t\t\tnewSuggestions,\n\t\t\t\t\tconfig.recordNamePath\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// Update suggestions only when the query has resolved, so as to keep\n\t\t// the previous results in the UI.\n\t\tsetSuggestions( newSuggestions );\n\t}, [ searchResults, searchHasResolved ] );\n\treturn suggestions;\n}\n\nfunction SuggestionList( { entityForSuggestions, onSelect } ) {\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput();\n\tconst suggestions = useSearchSuggestions(\n\t\tentityForSuggestions,\n\t\tdebouncedSearch\n\t);\n\tconst { labels } = entityForSuggestions;\n\tconst [ showSearchControl, setShowSearchControl ] = useState( false );\n\tif ( ! showSearchControl && suggestions?.length > 9 ) {\n\t\tsetShowSearchControl( true );\n\t}\n\treturn (\n\t\t<>\n\t\t\t{ showSearchControl && (\n\t\t\t\t<SearchControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tonChange={ setSearch }\n\t\t\t\t\tvalue={ search }\n\t\t\t\t\tlabel={ labels.search_items }\n\t\t\t\t\tplaceholder={ labels.search_items }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! suggestions?.length && (\n\t\t\t\t<Composite\n\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\tclassName=\"edit-site-custom-template-modal__suggestions_list\"\n\t\t\t\t\taria-label={ __( 'Suggestions list' ) }\n\t\t\t\t>\n\t\t\t\t\t{ suggestions.map( ( suggestion ) => (\n\t\t\t\t\t\t<SuggestionListItem\n\t\t\t\t\t\t\tkey={ suggestion.slug }\n\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\tsearch={ debouncedSearch }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</Composite>\n\t\t\t) }\n\t\t\t{ debouncedSearch && ! suggestions?.length && (\n\t\t\t\t<Text\n\t\t\t\t\tas=\"p\"\n\t\t\t\t\tclassName=\"edit-site-custom-template-modal__no-results\"\n\t\t\t\t>\n\t\t\t\t\t{ labels.not_found }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction AddCustomTemplateModalContent( {\n\tonSelect,\n\tentityForSuggestions,\n\tonBack,\n\tcontainerRef,\n} ) {\n\tconst [ showSearchEntities, setShowSearchEntities ] = useState();\n\n\t// Focus on the first focusable element when the modal opens.\n\t// We handle focus management in the parent modal, just need to focus on the first focusable element.\n\tuseEffect( () => {\n\t\tif ( containerRef.current ) {\n\t\t\tconst [ firstFocusable ] = focus.focusable.find(\n\t\t\t\tcontainerRef.current\n\t\t\t);\n\t\t\tfirstFocusable?.focus();\n\t\t}\n\t}, [ showSearchEntities ] );\n\n\treturn (\n\t\t<VStack\n\t\t\tspacing={ 4 }\n\t\t\tclassName=\"edit-site-custom-template-modal__contents-wrapper\"\n\t\t\talignment=\"left\"\n\t\t>\n\t\t\t{ ! showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Select whether to create a single template for all items or a specific one.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tclassName=\"edit-site-custom-template-modal__contents\"\n\t\t\t\t\t\tgap=\"4\"\n\t\t\t\t\t\talign=\"initial\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} = entityForSuggestions.template;\n\t\t\t\t\t\t\t\tonSelect( {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tweight={ 500 }\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.all_items }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For all items' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetShowSearchEntities( true );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tweight={ 500 }\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.singular_name }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For a specific item' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onBack }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Flex>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'This template will be used only for the specific item chosen.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<SuggestionList\n\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t/>\n\t\t\t\t\t<Flex justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t// If general template exists, go directly back to main screen\n\t\t\t\t\t\t\t\t// instead of showing the choice screen\n\t\t\t\t\t\t\t\tif ( entityForSuggestions.hasGeneralTemplate ) {\n\t\t\t\t\t\t\t\t\tonBack();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetShowSearchEntities( false );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Flex>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport default AddCustomTemplateModalContent;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { blockMeta, post, archive } from '@wordpress/icons';\nimport { safeDecodeURI } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\n\nconst EMPTY_OBJECT = {};\n\n/**\n * @typedef IHasNameAndId\n * @property {string|number} id   The entity's id.\n * @property {string}        name The entity's name.\n */\n\nconst getValueFromObjectPath = ( object, path ) => {\n\tlet value = object;\n\tpath.split( '.' ).forEach( ( fieldName ) => {\n\t\tvalue = value?.[ fieldName ];\n\t} );\n\treturn value;\n};\n\n/**\n * Helper that adds a prefix to a post slug. The slug needs to be URL-decoded first,\n * so that we have raw Unicode characters there. The server will truncate the slug to\n * 200 characters, respecing Unicode char boundary. On the other hand, the server\n * doesn't detect urlencoded octet boundary and can possibly construct slugs that\n * are not valid urlencoded strings.\n * @param {string} prefix The prefix to add to the slug.\n * @param {string} slug   The slug to add the prefix to.\n * @return {string} The slug with the prefix.\n */\nfunction prefixSlug( prefix, slug ) {\n\treturn `${ prefix }-${ safeDecodeURI( slug ) }`;\n}\n\n/**\n * Helper util to map records to add a `name` prop from a\n * provided path, in order to handle all entities in the same\n * fashion(implementing`IHasNameAndId` interface).\n *\n * @param {Object[]} entities The array of entities.\n * @param {string}   path     The path to map a `name` property from the entity.\n * @return {IHasNameAndId[]} An array of entities that now implement the `IHasNameAndId` interface.\n */\nexport const mapToIHasNameAndId = ( entities, path ) => {\n\treturn ( entities || [] ).map( ( entity ) => ( {\n\t\t...entity,\n\t\tname: decodeEntities( getValueFromObjectPath( entity, path ) ),\n\t} ) );\n};\n\n/**\n * @typedef {Object} EntitiesInfo\n * @property {boolean}  hasEntities         If an entity has available records(posts, terms, etc..).\n * @property {number[]} existingEntitiesIds An array of the existing entities ids.\n */\n\nexport const useExistingTemplates = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords(\n\t\t\t\t'postType',\n\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t{\n\t\t\t\t\tper_page: -1,\n\t\t\t\t}\n\t\t\t),\n\t\t[]\n\t);\n};\n\nexport const useDefaultTemplateTypes = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getCurrentTheme()?.default_template_types || [],\n\t\t[]\n\t);\n};\n\nconst usePublicPostTypes = () => {\n\tconst postTypes = useSelect(\n\t\t( select ) => select( coreStore ).getPostTypes( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\tconst excludedPostTypes = [ 'attachment' ];\n\t\treturn postTypes\n\t\t\t?.filter(\n\t\t\t\t( { viewable, slug } ) =>\n\t\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\n\t\t\t)\n\t\t\t.sort( ( a, b ) => {\n\t\t\t\t// Sort post types alphabetically by name,\n\t\t\t\t// but exclude the built-in 'post' type from sorting.\n\t\t\t\tif ( a.slug === 'post' || b.slug === 'post' ) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn a.name.localeCompare( b.name );\n\t\t\t} );\n\t}, [ postTypes ] );\n};\n\nconst usePublicTaxonomies = () => {\n\tconst taxonomies = useSelect(\n\t\t( select ) => select( coreStore ).getTaxonomies( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\treturn taxonomies?.filter(\n\t\t\t( { visibility } ) => visibility?.publicly_queryable\n\t\t);\n\t}, [ taxonomies ] );\n};\n\nexport function usePostTypeArchiveMenuItems() {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst postTypesWithArchives = useMemo(\n\t\t() => publicPostTypes?.filter( ( postType ) => postType.has_archive ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst existingTemplates = useExistingTemplates();\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst postTypeLabels = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { labels } ) => {\n\t\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\t\taccumulator[ singularName ] =\n\t\t\t\t\t( accumulator[ singularName ] || 0 ) + 1;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst needsUniqueIdentifier = useCallback(\n\t\t( { labels, slug } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\treturn postTypeLabels[ singularName ] > 1 && singularName !== slug;\n\t\t},\n\t\t[ postTypeLabels ]\n\t);\n\treturn useMemo(\n\t\t() =>\n\t\t\tpostTypesWithArchives\n\t\t\t\t?.filter(\n\t\t\t\t\t( postType ) =>\n\t\t\t\t\t\t! ( existingTemplates || [] ).some(\n\t\t\t\t\t\t\t( existingTemplate ) =>\n\t\t\t\t\t\t\t\texistingTemplate.slug ===\n\t\t\t\t\t\t\t\t'archive-' + postType.slug\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.map( ( postType ) => {\n\t\t\t\t\tlet title;\n\t\t\t\t\tif ( needsUniqueIdentifier( postType ) ) {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %1s: Name of the post type e.g: \"Post\"; %2s: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t__( 'Archive: %1$s (%2$s)' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name,\n\t\t\t\t\t\t\tpostType.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Archive: %s' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tslug: 'archive-' + postType.slug,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Displays an archive with the latest posts of type: %s.'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\ttypeof postType.icon === 'string' &&\n\t\t\t\t\t\t\tpostType.icon.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t\t? postType.icon.slice( 10 )\n\t\t\t\t\t\t\t\t: archive,\n\t\t\t\t\t\ttemplatePrefix: 'archive',\n\t\t\t\t\t};\n\t\t\t\t} ) || [],\n\t\t[ postTypesWithArchives, existingTemplates, needsUniqueIdentifier ]\n\t);\n}\n\nexport const usePostTypeMenuItems = ( onClickMenuItem ) => {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst templateLabels = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { labels } ) => {\n\t\t\t\tconst templateName = (\n\t\t\t\t\tlabels.template_name || labels.singular_name\n\t\t\t\t).toLowerCase();\n\t\t\t\taccumulator[ templateName ] =\n\t\t\t\t\t( accumulator[ templateName ] || 0 ) + 1;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst needsUniqueIdentifier = useCallback(\n\t\t( { labels, slug } ) => {\n\t\t\tconst templateName = (\n\t\t\t\tlabels.template_name || labels.singular_name\n\t\t\t).toLowerCase();\n\t\t\treturn templateLabels[ templateName ] > 1 && templateName !== slug;\n\t\t},\n\t\t[ templateLabels ]\n\t);\n\n\t// `page`is a special case in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( slug !== 'page' ) {\n\t\t\t\t\tsuffix = `single-${ suffix }`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst postTypesInfo = useEntitiesInfo( 'postType', templatePrefixes );\n\tconst menuItems = ( publicPostTypes || [] ).reduce(\n\t\t( accumulator, postType ) => {\n\t\t\tconst { slug, labels, icon } = postType;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier( postType );\n\t\t\tlet menuItemTitle =\n\t\t\t\tlabels.template_name ||\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t__( 'Single item: %s' ),\n\t\t\t\t\tlabels.singular_name\n\t\t\t\t);\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = labels.template_name\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the template e.g: \"Single Item: Post\". 2: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t_x( '%1$s (%2$s)', 'post type menu label' ),\n\t\t\t\t\t\t\tlabels.template_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  )\n\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the post type e.g: \"Post\". 2: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t'Single item: %1$s (%2$s)',\n\t\t\t\t\t\t\t\t'post type menu label'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  );\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Displays a single item: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\ttypeof icon === 'string' &&\n\t\t\t\t\t\t\ticon.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t\t? icon.slice( 10 )\n\t\t\t\t\t\t\t\t: post,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = postTypesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'postType',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\trecordNamePath: 'title.rendered',\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,title,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'relevance' : 'modified',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\tpostTypesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = prefixSlug(\n\t\t\t\t\t\t\t\t\ttemplatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t\tsuggestion.slug\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default post types\n\t// and one for the rest.\n\tconst postTypesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, postType ) => {\n\t\t\t\t\tconst { slug } = postType;\n\t\t\t\t\tlet key = 'postTypesMenuItems';\n\t\t\t\t\tif ( slug === 'page' ) {\n\t\t\t\t\t\tkey = 'defaultPostTypesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( postType );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultPostTypesMenuItems: [], postTypesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn postTypesMenuItems;\n};\n\nexport const useTaxonomiesMenuItems = ( onClickMenuItem ) => {\n\tconst publicTaxonomies = usePublicTaxonomies();\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\t// `category` and `post_tag` are special cases in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicTaxonomies?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( ! [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\t\t\tsuffix = `taxonomy-${ suffix }`;\n\t\t\t\t}\n\t\t\t\tif ( slug === 'post_tag' ) {\n\t\t\t\t\tsuffix = `tag`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicTaxonomies ]\n\t);\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst taxonomyLabels = publicTaxonomies?.reduce(\n\t\t( accumulator, { labels } ) => {\n\t\t\tconst templateName = (\n\t\t\t\tlabels.template_name || labels.singular_name\n\t\t\t).toLowerCase();\n\t\t\taccumulator[ templateName ] =\n\t\t\t\t( accumulator[ templateName ] || 0 ) + 1;\n\t\t\treturn accumulator;\n\t\t},\n\t\t{}\n\t);\n\tconst needsUniqueIdentifier = ( labels, slug ) => {\n\t\tif ( [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst templateName = (\n\t\t\tlabels.template_name || labels.singular_name\n\t\t).toLowerCase();\n\t\treturn taxonomyLabels[ templateName ] > 1 && templateName !== slug;\n\t};\n\tconst taxonomiesInfo = useEntitiesInfo( 'taxonomy', templatePrefixes );\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst menuItems = ( publicTaxonomies || [] ).reduce(\n\t\t( accumulator, taxonomy ) => {\n\t\t\tconst { slug, labels } = taxonomy;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst hasGeneralTemplate =\n\t\t\t\texistingTemplateSlugs?.includes( generalTemplateSlug );\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier(\n\t\t\t\tlabels,\n\t\t\t\tslug\n\t\t\t);\n\t\t\tlet menuItemTitle = labels.template_name || labels.singular_name;\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = labels.template_name\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the template e.g: \"Products by Category\". 2: Slug of the taxonomy e.g: \"product_cat\".\n\t\t\t\t\t\t\t_x( '%1$s (%2$s)', 'taxonomy template menu label' ),\n\t\t\t\t\t\t\tlabels.template_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  )\n\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the taxonomy e.g: \"Category\". 2: Slug of the taxonomy e.g: \"product_cat\".\n\t\t\t\t\t\t\t_x( '%1$s (%2$s)', 'taxonomy menu label' ),\n\t\t\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  );\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the taxonomy e.g: \"Product Categories\".\n\t\t\t\t\t\t\t__( 'Displays taxonomy: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ticon: blockMeta,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = taxonomiesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'taxonomy',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'name' : 'count',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\ttaxonomiesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = prefixSlug(\n\t\t\t\t\t\t\t\t\ttemplatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t\tsuggestion.slug\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\thasGeneralTemplate,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no\n\t\t\t// entities and the general template exists.\n\t\t\tif ( ! hasGeneralTemplate || hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default taxonomies\n\t// and one for the rest.\n\tconst taxonomiesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, taxonomy ) => {\n\t\t\t\t\tconst { slug } = taxonomy;\n\t\t\t\t\tlet key = 'taxonomiesMenuItems';\n\t\t\t\t\tif ( [ 'category', 'tag' ].includes( slug ) ) {\n\t\t\t\t\t\tkey = 'defaultTaxonomiesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( taxonomy );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultTaxonomiesMenuItems: [], taxonomiesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn taxonomiesMenuItems;\n};\n\nconst USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX = { user: 'author' };\nconst USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS = { user: { who: 'authors' } };\nexport function useAuthorMenuItem( onClickMenuItem ) {\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst authorInfo = useEntitiesInfo(\n\t\t'root',\n\t\tUSE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX,\n\t\tUSE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS\n\t);\n\tlet authorMenuItem = defaultTemplateTypes?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( ! authorMenuItem ) {\n\t\tauthorMenuItem = {\n\t\t\tdescription: __(\n\t\t\t\t'Displays latest posts written by a single author.'\n\t\t\t),\n\t\t\tslug: 'author',\n\t\t\ttitle: 'Author',\n\t\t};\n\t}\n\tconst hasGeneralTemplate = !! existingTemplates?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( authorInfo.user?.hasEntities ) {\n\t\tauthorMenuItem = { ...authorMenuItem, templatePrefix: 'author' };\n\t\tauthorMenuItem.onClick = ( template ) => {\n\t\t\tonClickMenuItem( {\n\t\t\t\ttype: 'root',\n\t\t\t\tslug: 'user',\n\t\t\t\tconfig: {\n\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\torderBy: search ? 'name' : 'registered_date',\n\t\t\t\t\t\t\texclude: authorInfo.user.existingEntitiesIds,\n\t\t\t\t\t\t\twho: 'authors',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\tconst templateSlug = prefixSlug(\n\t\t\t\t\t\t\t'author',\n\t\t\t\t\t\t\tsuggestion.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttitle: sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Name of the author e.g: \"Admin\".\n\t\t\t\t\t\t\t\t__( 'Author: %s' ),\n\t\t\t\t\t\t\t\tsuggestion.name\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\ttemplatePrefix: 'author',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tlabels: {\n\t\t\t\t\tsingular_name: __( 'Author' ),\n\t\t\t\t\tsearch_items: __( 'Search Authors' ),\n\t\t\t\t\tnot_found: __( 'No authors found.' ),\n\t\t\t\t\tall_items: __( 'All Authors' ),\n\t\t\t\t},\n\t\t\t\thasGeneralTemplate,\n\t\t\t\ttemplate,\n\t\t\t} );\n\t\t};\n\t}\n\tif ( ! hasGeneralTemplate || authorInfo.user?.hasEntities ) {\n\t\treturn authorMenuItem;\n\t}\n}\n\n/**\n * Helper hook that returns information about an entity having\n * records that we can create a specific template for.\n *\n * For example we can search for `terms` in `taxonomy` entity or\n * `posts` in `postType` entity.\n *\n * First we need to find the existing records with an associated template,\n * to query afterwards for any remaining record, by excluding them.\n *\n * @param {string}                entityName                The entity's name.\n * @param {Record<string,string>} templatePrefixes          An object with the entity's slug as key and the template prefix as value.\n * @param {Record<string,Object>} additionalQueryParameters An object with the entity's slug as key and additional query parameters as value.\n * @return {Record<string,EntitiesInfo>} An object with the entity's slug as key and the EntitiesInfo as value.\n */\nconst useEntitiesInfo = (\n\tentityName,\n\ttemplatePrefixes,\n\tadditionalQueryParameters = EMPTY_OBJECT\n) => {\n\tconst entitiesHasRecords = useSelect(\n\t\t( select ) => {\n\t\t\treturn Object.keys( templatePrefixes || {} ).reduce(\n\t\t\t\t( accumulator, slug ) => {\n\t\t\t\t\taccumulator[ slug ] = !! select(\n\t\t\t\t\t\tcoreStore\n\t\t\t\t\t).getEntityRecords( entityName, slug, {\n\t\t\t\t\t\tper_page: 1,\n\t\t\t\t\t\t_fields: 'id',\n\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\t...additionalQueryParameters[ slug ],\n\t\t\t\t\t} )?.length;\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\t\t[ templatePrefixes, entityName, additionalQueryParameters ]\n\t);\n\tconst entitiesInfo = useMemo( () => {\n\t\treturn Object.keys( templatePrefixes || {} ).reduce(\n\t\t\t( accumulator, slug ) => {\n\t\t\t\taccumulator[ slug ] = {\n\t\t\t\t\thasEntities: entitiesHasRecords[ slug ],\n\t\t\t\t};\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\t}, [ templatePrefixes, entitiesHasRecords ] );\n\treturn entitiesInfo;\n};\n", "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n", "/**\n * Locale character mapping rules.\n */\ninterface Locale {\n  regexp: RegExp;\n  map: Record<string, string>;\n}\n\n/**\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n */\nconst SUPPORTED_LOCALE: Record<string, Locale> = {\n  tr: {\n    regexp: /\\u0130|\\u0049|\\u0049\\u0307/g,\n    map: {\n      : \"\\u0069\",\n      I: \"\\u0131\",\n      I: \"\\u0069\",\n    },\n  },\n  az: {\n    regexp: /\\u0130/g,\n    map: {\n      : \"\\u0069\",\n      I: \"\\u0131\",\n      I: \"\\u0069\",\n    },\n  },\n  lt: {\n    regexp: /\\u0049|\\u004A|\\u012E|\\u00CC|\\u00CD|\\u0128/g,\n    map: {\n      I: \"\\u0069\\u0307\",\n      J: \"\\u006A\\u0307\",\n      : \"\\u012F\\u0307\",\n      : \"\\u0069\\u0307\\u0300\",\n      : \"\\u0069\\u0307\\u0301\",\n      : \"\\u0069\\u0307\\u0303\",\n    },\n  },\n};\n\n/**\n * Localized lower case.\n */\nexport function localeLowerCase(str: string, locale: string) {\n  const lang = SUPPORTED_LOCALE[locale.toLowerCase()];\n  if (lang) return lowerCase(str.replace(lang.regexp, (m) => lang.map[m]));\n  return lowerCase(str);\n}\n\n/**\n * Lower case as a function.\n */\nexport function lowerCase(str: string) {\n  return str.toLowerCase();\n}\n", "import { lowerCase } from \"lower-case\";\n\nexport interface Options {\n  splitRegexp?: RegExp | RegExp[];\n  stripRegexp?: RegExp | RegExp[];\n  delimiter?: string;\n  transform?: (part: string, index: number, parts: string[]) => string;\n}\n\n// Support camel case (\"camelCase\" -> \"camel Case\" and \"CAMELCase\" -> \"CAMEL Case\").\nconst DEFAULT_SPLIT_REGEXP = [/([a-z0-9])([A-Z])/g, /([A-Z])([A-Z][a-z])/g];\n\n// Remove all non-word characters.\nconst DEFAULT_STRIP_REGEXP = /[^A-Z0-9]+/gi;\n\n/**\n * Normalize the string into something other libraries can manipulate easier.\n */\nexport function noCase(input: string, options: Options = {}) {\n  const {\n    splitRegexp = DEFAULT_SPLIT_REGEXP,\n    stripRegexp = DEFAULT_STRIP_REGEXP,\n    transform = lowerCase,\n    delimiter = \" \",\n  } = options;\n\n  let result = replace(\n    replace(input, splitRegexp, \"$1\\0$2\"),\n    stripRegexp,\n    \"\\0\"\n  );\n  let start = 0;\n  let end = result.length;\n\n  // Trim the delimiter from around the output string.\n  while (result.charAt(start) === \"\\0\") start++;\n  while (result.charAt(end - 1) === \"\\0\") end--;\n\n  // Transform each token independently.\n  return result.slice(start, end).split(\"\\0\").map(transform).join(delimiter);\n}\n\n/**\n * Replace `re` in the input string with the replacement value.\n */\nfunction replace(input: string, re: RegExp | RegExp[], value: string) {\n  if (re instanceof RegExp) return input.replace(re, value);\n  return re.reduce((input, re) => input.replace(re, value), input);\n}\n", "import { noCase, Options } from \"no-case\";\n\nexport { Options };\n\nexport function dotCase(input: string, options: Options = {}) {\n  return noCase(input, {\n    delimiter: \".\",\n    ...options,\n  });\n}\n", "import { dotCase, Options } from \"dot-case\";\n\nexport { Options };\n\nexport function paramCase(input: string, options: Options = {}) {\n  return dotCase(input, {\n    delimiter: \"-\",\n    ...options,\n  });\n}\n", "/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tTextControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\nfunction AddCustomGenericTemplateModalContent( { createTemplate, onBack } ) {\n\tconst [ title, setTitle ] = useState( '' );\n\tconst defaultTitle = __( 'Custom Template' );\n\tconst [ isBusy, setIsBusy ] = useState( false );\n\tconst inputRef = useRef();\n\n\t// Set focus to the name input when the component mounts\n\tuseEffect( () => {\n\t\tif ( inputRef.current ) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, [] );\n\n\tasync function onCreateTemplate( event ) {\n\t\tevent.preventDefault();\n\t\tif ( isBusy ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsBusy( true );\n\t\ttry {\n\t\t\tawait createTemplate(\n\t\t\t\t{\n\t\t\t\t\tslug:\n\t\t\t\t\t\tkebabCase( title || defaultTitle ) ||\n\t\t\t\t\t\t'wp-custom-template',\n\t\t\t\t\ttitle: title || defaultTitle,\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t} finally {\n\t\t\tsetIsBusy( false );\n\t\t}\n\t}\n\treturn (\n\t\t<form onSubmit={ onCreateTemplate }>\n\t\t\t<VStack spacing={ 6 }>\n\t\t\t\t<TextControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\tplaceholder={ defaultTitle }\n\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\tref={ inputRef }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t// eslint-disable-next-line no-restricted-syntax -- 'sidebar' is a common web design term for layouts\n\t\t\t\t\t\t'Describe the template, e.g. \"Post with sidebar\". A custom template can be manually applied to any post or page.'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t<HStack\n\t\t\t\t\tclassName=\"edit-site-custom-generic-template__modal-actions\"\n\t\t\t\t\tjustify=\"right\"\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ onBack }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\taria-disabled={ isBusy }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n\nexport default AddCustomGenericTemplateModalContent;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalHStack as HStack,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useState, useMemo } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { parse } from '@wordpress/blocks';\nimport { BlockPreview } from '@wordpress/block-editor';\nimport {\n\tEditorProvider,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport {\n\tprivateApis as corePrivateApis,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useAddedBy } from './hooks';\nimport { useDefaultTemplateTypes } from '../add-new-template/utils';\nimport usePatternSettings from '../page-patterns/use-pattern-settings';\nimport { unlock } from '../../lock-unlock';\n\nconst { Badge } = unlock( componentsPrivateApis );\nconst { useEntityRecordsWithPermissions } = unlock( corePrivateApis );\nconst { useStyle } = unlock( editorPrivateApis );\n\nfunction useAllDefaultTemplateTypes() {\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst { records: staticRecords } = useEntityRecordsWithPermissions(\n\t\t'root',\n\t\t'registeredTemplate'\n\t);\n\treturn [\n\t\t...defaultTemplateTypes,\n\t\t...staticRecords\n\t\t\t?.filter( ( record ) => ! record.is_custom )\n\t\t\t.map( ( record ) => {\n\t\t\t\treturn {\n\t\t\t\t\tslug: record.slug,\n\t\t\t\t\ttitle: record.title.rendered,\n\t\t\t\t\tdescription: record.description,\n\t\t\t\t};\n\t\t\t} ),\n\t];\n}\n\nfunction PreviewField( { item } ) {\n\tconst settings = usePatternSettings();\n\tconst backgroundColor = useStyle( 'color.background' ) ?? 'white';\n\tconst blocks = useMemo( () => {\n\t\treturn parse( item.content.raw );\n\t}, [ item.content.raw ] );\n\n\tconst isEmpty = ! blocks?.length;\n\t// Wrap everything in a block editor provider to ensure 'styles' that are needed\n\t// for the previews are synced between the site editor store and the block editor store.\n\t// Additionally we need to have the `__experimentalBlockPatterns` setting in order to\n\t// render patterns inside the previews.\n\t// TODO: Same approach is used in the patterns list and it becomes obvious that some of\n\t// the block editor settings are needed in context where we don't have the block editor.\n\t// Explore how we can solve this in a better way.\n\treturn (\n\t\t<EditorProvider post={ item } settings={ settings }>\n\t\t\t<div\n\t\t\t\tclassName=\"page-templates-preview-field\"\n\t\t\t\tstyle={ { backgroundColor } }\n\t\t\t>\n\t\t\t\t{ isEmpty && __( 'Empty template' ) }\n\t\t\t\t{ ! isEmpty && (\n\t\t\t\t\t<BlockPreview.Async>\n\t\t\t\t\t\t<BlockPreview blocks={ blocks } />\n\t\t\t\t\t</BlockPreview.Async>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</EditorProvider>\n\t);\n}\n\nexport const previewField = {\n\tlabel: __( 'Preview' ),\n\tid: 'preview',\n\trender: PreviewField,\n\tenableSorting: false,\n};\n\nexport const descriptionField = {\n\tlabel: __( 'Description' ),\n\tid: 'description',\n\trender: window?.__experimentalTemplateActivate\n\t\t? function RenderDescription( { item } ) {\n\t\t\t\tconst defaultTemplateTypes = useAllDefaultTemplateTypes();\n\t\t\t\tconst defaultTemplateType = defaultTemplateTypes.find(\n\t\t\t\t\t( type ) => type.slug === item.slug\n\t\t\t\t);\n\t\t\t\treturn item.description\n\t\t\t\t\t? decodeEntities( item.description )\n\t\t\t\t\t: defaultTemplateType?.description;\n\t\t  }\n\t\t: ( { item } ) => {\n\t\t\t\treturn item.description && decodeEntities( item.description );\n\t\t  },\n\tenableSorting: false,\n\tenableGlobalSearch: true,\n};\n\nfunction AuthorField( { item } ) {\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\n\tconst { text, icon, imageUrl } = useAddedBy( item.type, item.id );\n\n\treturn (\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\n\t\t\t{ imageUrl && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( 'page-templates-author-field__avatar', {\n\t\t\t\t\t\t'is-loaded': isImageLoaded,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ! imageUrl && (\n\t\t\t\t<div className=\"page-templates-author-field__icon\">\n\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<span className=\"page-templates-author-field__name\">{ text }</span>\n\t\t</HStack>\n\t);\n}\n\nexport const authorField = {\n\tlabel: __( 'Author' ),\n\tid: 'author',\n\tgetValue: ( { item } ) => item.author_text ?? item.author,\n\trender: AuthorField,\n};\n\nexport const activeField = {\n\tlabel: __( 'Status' ),\n\tid: 'active',\n\ttype: 'boolean',\n\tgetValue: ( { item } ) => item._isActive,\n\trender: function Render( { item } ) {\n\t\tconst activeLabel = item._isCustom\n\t\t\t? _x( 'Active when used', 'template' )\n\t\t\t: _x( 'Active', 'template' );\n\t\tconst activeIntent = item._isCustom ? 'info' : 'success';\n\t\tconst isActive = item._isActive;\n\t\treturn (\n\t\t\t<Badge intent={ isActive ? activeIntent : 'default' }>\n\t\t\t\t{ isActive ? activeLabel : _x( 'Inactive', 'template' ) }\n\t\t\t</Badge>\n\t\t);\n\t},\n};\n\nexport const useThemeField = () => {\n\tconst activeTheme = useSelect( ( select ) =>\n\t\tselect( coreStore ).getCurrentTheme()\n\t);\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tlabel: __( 'Compatible Theme' ),\n\t\t\tid: 'theme',\n\t\t\tgetValue: ( { item } ) => item.theme,\n\t\t\trender: function Render( { item } ) {\n\t\t\t\tif ( item.theme === activeTheme.stylesheet ) {\n\t\t\t\t\treturn <Badge intent=\"success\">{ item.theme }</Badge>;\n\t\t\t\t}\n\t\t\t\treturn <Badge intent=\"error\">{ item.theme }</Badge>;\n\t\t\t},\n\t\t} ),\n\t\t[ activeTheme ]\n\t);\n};\n\nexport const slugField = {\n\tlabel: __( 'Template Type' ),\n\tid: 'slug',\n\tgetValue: ( { item } ) => item.slug,\n\trender: function Render( { item } ) {\n\t\tconst defaultTemplateTypes = useAllDefaultTemplateTypes();\n\t\tconst defaultTemplateType = defaultTemplateTypes.find(\n\t\t\t( type ) => type.slug === item.slug\n\t\t);\n\t\treturn defaultTemplateType?.title || _x( 'Custom', 'template type' );\n\t},\n};\n", "export const defaultLayouts = {\n\ttable: {\n\t\tshowMedia: false,\n\t},\n\tgrid: {\n\t\tshowMedia: true,\n\t},\n\tlist: {\n\t\tshowMedia: false,\n\t},\n};\n\nconst DEFAULT_VIEW = {\n\ttype: 'grid',\n\tperPage: 20,\n\tsort: {\n\t\tfield: 'title',\n\t\tdirection: 'asc',\n\t},\n\ttitleField: 'title',\n\tdescriptionField: 'description',\n\tmediaField: 'preview',\n\tfields: [ 'author', 'active', 'slug', 'theme' ],\n\tfilters: [],\n\t...defaultLayouts.grid,\n};\n\nexport function getDefaultView( activeView ) {\n\treturn {\n\t\t...DEFAULT_VIEW,\n\t\tsort:\n\t\t\tactiveView === 'user'\n\t\t\t\t? {\n\t\t\t\t\t\tfield: 'date',\n\t\t\t\t\t\tdirection: 'desc',\n\t\t\t\t  }\n\t\t\t\t: DEFAULT_VIEW.sort,\n\t\tfilters: ! [ 'active', 'user' ].includes( activeView )\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'author',\n\t\t\t\t\t\toperator: 'isAny',\n\t\t\t\t\t\tvalue: [ activeView ],\n\t\t\t\t\t},\n\t\t\t  ]\n\t\t\t: [],\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { Page } from '@wordpress/admin-ui';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useMemo, useCallback } from '@wordpress/element';\nimport { privateApis as corePrivateApis } from '@wordpress/core-data';\nimport { DataViews, filterSortAndPaginate } from '@wordpress/dataviews';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useEvent } from '@wordpress/compose';\nimport { useView } from '@wordpress/views';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport AddNewTemplate from '../add-new-template-legacy';\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\nimport { unlock } from '../../lock-unlock';\nimport { useEditPostAction } from '../dataviews-actions';\nimport { authorField, descriptionField, previewField } from './fields';\nimport { defaultLayouts, getDefaultView } from './view-utils';\n\nconst { usePostActions, templateTitleField } = unlock( editorPrivateApis );\nconst { useHistory, useLocation } = unlock( routerPrivateApis );\nconst { useEntityRecordsWithPermissions } = unlock( corePrivateApis );\n\nexport default function PageTemplates() {\n\tconst { path, query } = useLocation();\n\tconst { activeView = 'active', postId } = query;\n\tconst [ selection, setSelection ] = useState( [ postId ] );\n\n\tconst defaultView = useMemo( () => {\n\t\treturn getDefaultView( activeView );\n\t}, [ activeView ] );\n\tconst { view, updateView, isModified, resetToDefault } = useView( {\n\t\tkind: 'postType',\n\t\tname: TEMPLATE_POST_TYPE,\n\t\tslug: activeView,\n\t\tdefaultView,\n\t\tqueryParams: {\n\t\t\tpage: query.pageNumber,\n\t\t\tsearch: query.search,\n\t\t},\n\t\tonChangeQueryParams: ( newQueryParams ) => {\n\t\t\thistory.navigate(\n\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t...query,\n\t\t\t\t\tpageNumber: newQueryParams.page,\n\t\t\t\t\tsearch: newQueryParams.search || undefined,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t} );\n\n\tconst { records, isResolving: isLoadingData } =\n\t\tuseEntityRecordsWithPermissions( 'postType', TEMPLATE_POST_TYPE, {\n\t\t\tper_page: -1,\n\t\t} );\n\tconst history = useHistory();\n\tconst onChangeSelection = useCallback(\n\t\t( items ) => {\n\t\t\tsetSelection( items );\n\t\t\tif ( view?.type === 'list' ) {\n\t\t\t\thistory.navigate(\n\t\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t\tpostId: items.length === 1 ? items[ 0 ] : undefined,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ history, path, view?.type ]\n\t);\n\n\tconst authors = useMemo( () => {\n\t\tif ( ! records ) {\n\t\t\treturn [];\n\t\t}\n\t\tconst authorsSet = new Set();\n\t\trecords.forEach( ( template ) => {\n\t\t\tauthorsSet.add( template.author_text );\n\t\t} );\n\t\treturn Array.from( authorsSet ).map( ( author ) => ( {\n\t\t\tvalue: author,\n\t\t\tlabel: author,\n\t\t} ) );\n\t}, [ records ] );\n\n\tconst fields = useMemo(\n\t\t() => [\n\t\t\tpreviewField,\n\t\t\ttemplateTitleField,\n\t\t\tdescriptionField,\n\t\t\t{\n\t\t\t\t...authorField,\n\t\t\t\telements: authors,\n\t\t\t},\n\t\t],\n\t\t[ authors ]\n\t);\n\n\tconst { data, paginationInfo } = useMemo( () => {\n\t\treturn filterSortAndPaginate( records, view, fields );\n\t}, [ records, view, fields ] );\n\n\tconst postTypeActions = usePostActions( {\n\t\tpostType: TEMPLATE_POST_TYPE,\n\t\tcontext: 'list',\n\t} );\n\tconst editAction = useEditPostAction();\n\tconst actions = useMemo(\n\t\t() => [ editAction, ...postTypeActions ],\n\t\t[ postTypeActions, editAction ]\n\t);\n\n\tconst onChangeView = useEvent( ( newView ) => {\n\t\tif ( newView.type !== view.type ) {\n\t\t\t// Retrigger the routing areas resolution.\n\t\t\thistory.invalidate();\n\t\t}\n\t\tupdateView( newView );\n\t} );\n\n\treturn (\n\t\t<Page\n\t\t\tclassName=\"edit-site-page-templates\"\n\t\t\ttitle={ __( 'Templates' ) }\n\t\t\tactions={\n\t\t\t\t<>\n\t\t\t\t\t{ isModified && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tresetToDefault();\n\t\t\t\t\t\t\t\thistory.invalidate();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Reset view' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\t<AddNewTemplate />\n\t\t\t\t</>\n\t\t\t}\n\t\t>\n\t\t\t<DataViews\n\t\t\t\tkey={ activeView }\n\t\t\t\tpaginationInfo={ paginationInfo }\n\t\t\t\tfields={ fields }\n\t\t\t\tactions={ actions }\n\t\t\t\tdata={ data }\n\t\t\t\tisLoading={ isLoadingData }\n\t\t\t\tview={ view }\n\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\tisItemClickable={ () => true }\n\t\t\t\tonClickItem={ ( { id } ) => {\n\t\t\t\t\thistory.navigate( `/wp_template/${ id }?canvas=edit` );\n\t\t\t\t} }\n\t\t\t\tselection={ selection }\n\t\t\t\tdefaultLayouts={ defaultLayouts }\n\t\t\t/>\n\t\t</Page>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalGrid as Grid,\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n\tFlex,\n\tIcon,\n} from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useState, memo, useRef, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tarchive,\n\tblockMeta,\n\tcalendar,\n\tcategory,\n\tcommentAuthorAvatar,\n\tpencil,\n\thome,\n\tlayout,\n\tlist,\n\tmedia,\n\tnotFound,\n\tpage,\n\tpin,\n\tverse,\n\tsearch,\n\ttag,\n} from '@wordpress/icons';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { focus } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\n\n/**\n * Internal dependencies\n */\nimport AddCustomTemplateModalContent from './add-custom-template-modal-content';\nimport {\n\tuseExistingTemplates,\n\tuseDefaultTemplateTypes,\n\tuseTaxonomiesMenuItems,\n\tusePostTypeMenuItems,\n\tuseAuthorMenuItem,\n\tusePostTypeArchiveMenuItems,\n} from './utils';\nimport AddCustomGenericTemplateModalContent from './add-custom-generic-template-modal-content';\nimport { unlock } from '../../lock-unlock';\n\nconst { useHistory } = unlock( routerPrivateApis );\n\nconst DEFAULT_TEMPLATE_SLUGS = [\n\t'front-page',\n\t'home',\n\t'single',\n\t'page',\n\t'index',\n\t'archive',\n\t'author',\n\t'category',\n\t'date',\n\t'tag',\n\t'search',\n\t'404',\n];\n\nconst TEMPLATE_ICONS = {\n\t'front-page': home,\n\thome: verse,\n\tsingle: pin,\n\tpage,\n\tarchive,\n\tsearch,\n\t404: notFound,\n\tindex: list,\n\tcategory,\n\tauthor: commentAuthorAvatar,\n\ttaxonomy: blockMeta,\n\tdate: calendar,\n\ttag,\n\tattachment: media,\n};\n\nfunction TemplateListItem( {\n\ttitle,\n\tdirection,\n\tclassName,\n\tdescription,\n\ticon,\n\tonClick,\n\tchildren,\n} ) {\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\tclassName={ className }\n\t\t\tonClick={ onClick }\n\t\t\tlabel={ description }\n\t\t\tshowTooltip={ !! description }\n\t\t>\n\t\t\t<Flex\n\t\t\t\tas=\"span\"\n\t\t\t\tspacing={ 2 }\n\t\t\t\talign=\"center\"\n\t\t\t\tjustify=\"center\"\n\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\tdirection={ direction }\n\t\t\t>\n\t\t\t\t<div className=\"edit-site-add-new-template__template-icon\">\n\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t</div>\n\t\t\t\t<VStack\n\t\t\t\t\tclassName=\"edit-site-add-new-template__template-name\"\n\t\t\t\t\talignment=\"center\"\n\t\t\t\t\tspacing={ 0 }\n\t\t\t\t>\n\t\t\t\t\t<Text\n\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\tweight={ 500 }\n\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</Text>\n\t\t\t\t\t{ children }\n\t\t\t\t</VStack>\n\t\t\t</Flex>\n\t\t</Button>\n\t);\n}\n\nconst modalContentMap = {\n\ttemplatesList: 1,\n\tcustomTemplate: 2,\n\tcustomGenericTemplate: 3,\n};\n\nfunction NewTemplateModal( { onClose } ) {\n\tconst [ modalContent, setModalContent ] = useState(\n\t\tmodalContentMap.templatesList\n\t);\n\tconst [ entityForSuggestions, setEntityForSuggestions ] = useState( {} );\n\tconst [ isSubmitting, setIsSubmitting ] = useState( false );\n\tconst missingTemplates = useMissingTemplates( setEntityForSuggestions, () =>\n\t\tsetModalContent( modalContentMap.customTemplate )\n\t);\n\tconst history = useHistory();\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice, createSuccessNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst containerRef = useRef( null );\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\n\tconst homeUrl = useSelect( ( select ) => {\n\t\t// Site index.\n\t\treturn select( coreStore ).getEntityRecord( 'root', '__unstableBase' )\n\t\t\t?.home;\n\t}, [] );\n\n\tconst TEMPLATE_SHORT_DESCRIPTIONS = {\n\t\t'front-page': homeUrl,\n\t\tdate: sprintf(\n\t\t\t// translators: %s: The homepage url.\n\t\t\t__( 'E.g. %s' ),\n\t\t\thomeUrl + '/' + new Date().getFullYear()\n\t\t),\n\t};\n\n\tuseEffect( () => {\n\t\t// Focus the first focusable element when component mounts or UI changes\n\t\t// We don't want to focus on the other modals because they have their own focus management.\n\t\tif (\n\t\t\tcontainerRef.current &&\n\t\t\tmodalContent === modalContentMap.templatesList\n\t\t) {\n\t\t\tconst [ firstFocusable ] = focus.focusable.find(\n\t\t\t\tcontainerRef.current\n\t\t\t);\n\t\t\tfirstFocusable?.focus();\n\t\t}\n\t}, [ modalContent ] );\n\n\tasync function createTemplate( template, isWPSuggestion = true ) {\n\t\tif ( isSubmitting ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsSubmitting( true );\n\t\ttry {\n\t\t\tconst { title, description, slug } = template;\n\t\t\tconst newTemplate = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t{\n\t\t\t\t\tdescription,\n\t\t\t\t\t// Slugs need to be strings, so this is for template `404`\n\t\t\t\t\tslug: slug.toString(),\n\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\ttitle,\n\t\t\t\t\t// This adds a post meta field in template that is part of `is_custom` value calculation.\n\t\t\t\t\tis_wp_suggestion: isWPSuggestion,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\t// Navigate to the created template editor.\n\t\t\thistory.navigate(\n\t\t\t\t`/${ TEMPLATE_POST_TYPE }/${ newTemplate.id }?canvas=edit`\n\t\t\t);\n\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Title of the created post or template, e.g: \"Hello world\".\n\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\tdecodeEntities( newTemplate.title?.rendered || title ) ||\n\t\t\t\t\t\t__( '(no title)' )\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the template.' );\n\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} finally {\n\t\t\tsetIsSubmitting( false );\n\t\t}\n\t}\n\tconst onModalClose = () => {\n\t\tonClose();\n\t\tsetModalContent( modalContentMap.templatesList );\n\t};\n\n\tlet modalTitle = __( 'Add template' );\n\tif ( modalContent === modalContentMap.customTemplate ) {\n\t\tmodalTitle = sprintf(\n\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t__( 'Add template: %s' ),\n\t\t\tentityForSuggestions.labels.singular_name\n\t\t);\n\t} else if ( modalContent === modalContentMap.customGenericTemplate ) {\n\t\tmodalTitle = __( 'Create custom template' );\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ modalTitle }\n\t\t\tclassName={ clsx( 'edit-site-add-new-template__modal', {\n\t\t\t\t'edit-site-add-new-template__modal_template_list':\n\t\t\t\t\tmodalContent === modalContentMap.templatesList,\n\t\t\t\t'edit-site-custom-template-modal':\n\t\t\t\t\tmodalContent === modalContentMap.customTemplate,\n\t\t\t} ) }\n\t\t\tonRequestClose={ onModalClose }\n\t\t\toverlayClassName={\n\t\t\t\tmodalContent === modalContentMap.customGenericTemplate\n\t\t\t\t\t? 'edit-site-custom-generic-template__modal'\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tref={ containerRef }\n\t\t>\n\t\t\t{ modalContent === modalContentMap.templatesList && (\n\t\t\t\t<Grid\n\t\t\t\t\tcolumns={ isMobile ? 2 : 3 }\n\t\t\t\t\tgap={ 4 }\n\t\t\t\t\talign=\"flex-start\"\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\tclassName=\"edit-site-add-new-template__template-list__contents\"\n\t\t\t\t>\n\t\t\t\t\t<Flex className=\"edit-site-add-new-template__template-list__prompt\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Select what the new template should apply to:'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Flex>\n\t\t\t\t\t{ missingTemplates.map( ( template ) => {\n\t\t\t\t\t\tconst { title, slug, onClick } = template;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TemplateListItem\n\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\t\tclassName=\"edit-site-add-new-template__template-button\"\n\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\tTEMPLATE_SHORT_DESCRIPTIONS[ slug ]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ticon={ TEMPLATE_ICONS[ slug ] || layout }\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tonClick\n\t\t\t\t\t\t\t\t\t\t? onClick( template )\n\t\t\t\t\t\t\t\t\t\t: createTemplate( template )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t\t<TemplateListItem\n\t\t\t\t\t\ttitle={ __( 'Custom template' ) }\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tclassName=\"edit-site-add-new-template__custom-template-button\"\n\t\t\t\t\t\ticon={ pencil }\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\tsetModalContent(\n\t\t\t\t\t\t\t\tmodalContentMap.customGenericTemplate\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'A custom template can be manually applied to any post or page.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</TemplateListItem>\n\t\t\t\t</Grid>\n\t\t\t) }\n\t\t\t{ modalContent === modalContentMap.customTemplate && (\n\t\t\t\t<AddCustomTemplateModalContent\n\t\t\t\t\tonSelect={ createTemplate }\n\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\tonBack={ () =>\n\t\t\t\t\t\tsetModalContent( modalContentMap.templatesList )\n\t\t\t\t\t}\n\t\t\t\t\tcontainerRef={ containerRef }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ modalContent === modalContentMap.customGenericTemplate && (\n\t\t\t\t<AddCustomGenericTemplateModalContent\n\t\t\t\t\tcreateTemplate={ createTemplate }\n\t\t\t\t\tonBack={ () =>\n\t\t\t\t\t\tsetModalContent( modalContentMap.templatesList )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</Modal>\n\t);\n}\n\nfunction NewTemplate() {\n\tconst [ showModal, setShowModal ] = useState( false );\n\n\tconst { postType } = useSelect( ( select ) => {\n\t\tconst { getPostType } = select( coreStore );\n\n\t\treturn {\n\t\t\tpostType: getPostType( TEMPLATE_POST_TYPE ),\n\t\t};\n\t}, [] );\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={ () => setShowModal( true ) }\n\t\t\t\tlabel={ postType.labels.add_new_item }\n\t\t\t\t__next40pxDefaultSize\n\t\t\t>\n\t\t\t\t{ postType.labels.add_new_item }\n\t\t\t</Button>\n\t\t\t{ showModal && (\n\t\t\t\t<NewTemplateModal onClose={ () => setShowModal( false ) } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction useMissingTemplates( setEntityForSuggestions, onClick ) {\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst missingDefaultTemplates = ( defaultTemplateTypes || [] ).filter(\n\t\t( template ) =>\n\t\t\tDEFAULT_TEMPLATE_SLUGS.includes( template.slug ) &&\n\t\t\t! existingTemplateSlugs.includes( template.slug )\n\t);\n\tconst onClickMenuItem = ( _entityForSuggestions ) => {\n\t\tonClick?.();\n\t\tsetEntityForSuggestions( _entityForSuggestions );\n\t};\n\t// We need to replace existing default template types with\n\t// the create specific template functionality. The original\n\t// info (title, description, etc.) is preserved in the\n\t// used hooks.\n\tconst enhancedMissingDefaultTemplateTypes = [ ...missingDefaultTemplates ];\n\tconst { defaultTaxonomiesMenuItems, taxonomiesMenuItems } =\n\t\tuseTaxonomiesMenuItems( onClickMenuItem );\n\tconst { defaultPostTypesMenuItems, postTypesMenuItems } =\n\t\tusePostTypeMenuItems( onClickMenuItem );\n\n\tconst authorMenuItem = useAuthorMenuItem( onClickMenuItem );\n\t[\n\t\t...defaultTaxonomiesMenuItems,\n\t\t...defaultPostTypesMenuItems,\n\t\tauthorMenuItem,\n\t].forEach( ( menuItem ) => {\n\t\tif ( ! menuItem ) {\n\t\t\treturn;\n\t\t}\n\t\tconst matchIndex = enhancedMissingDefaultTemplateTypes.findIndex(\n\t\t\t( template ) => template.slug === menuItem.slug\n\t\t);\n\t\t// Some default template types might have been filtered above from\n\t\t// `missingDefaultTemplates` because they only check for the general\n\t\t// template. So here we either replace or append the item, augmented\n\t\t// with the check if it has available specific item to create a\n\t\t// template for.\n\t\tif ( matchIndex > -1 ) {\n\t\t\tenhancedMissingDefaultTemplateTypes[ matchIndex ] = menuItem;\n\t\t} else {\n\t\t\tenhancedMissingDefaultTemplateTypes.push( menuItem );\n\t\t}\n\t} );\n\t// Update the sort order to match the DEFAULT_TEMPLATE_SLUGS order.\n\tenhancedMissingDefaultTemplateTypes?.sort( ( template1, template2 ) => {\n\t\treturn (\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template1.slug ) -\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template2.slug )\n\t\t);\n\t} );\n\tconst missingTemplates = [\n\t\t...enhancedMissingDefaultTemplateTypes,\n\t\t...usePostTypeArchiveMenuItems(),\n\t\t...postTypesMenuItems,\n\t\t...taxonomiesMenuItems,\n\t];\n\treturn missingTemplates;\n}\n\nexport default memo( NewTemplate );\n", "/**\n * WordPress dependencies\n */\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tSearchControl,\n\tTextHighlight,\n\tComposite,\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useDebouncedInput } from '@wordpress/compose';\nimport { focus } from '@wordpress/dom';\nimport { safeDecodeURI } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { mapToIHasNameAndId } from './utils';\n\nconst EMPTY_ARRAY = [];\n\nfunction SuggestionListItem( {\n\tsuggestion,\n\tsearch,\n\tonSelect,\n\tentityForSuggestions,\n} ) {\n\tconst baseCssClass =\n\t\t'edit-site-custom-template-modal__suggestions_list__list-item';\n\treturn (\n\t\t<Composite.Item\n\t\t\trender={\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\trole=\"option\"\n\t\t\t\t\tclassName={ baseCssClass }\n\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\tentityForSuggestions.config.getSpecificTemplate(\n\t\t\t\t\t\t\t\tsuggestion\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t<Text\n\t\t\t\tsize=\"body\"\n\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\tweight={ 500 }\n\t\t\t\tclassName={ `${ baseCssClass }__title` }\n\t\t\t>\n\t\t\t\t<TextHighlight\n\t\t\t\t\ttext={ decodeEntities( suggestion.name ) }\n\t\t\t\t\thighlight={ search }\n\t\t\t\t/>\n\t\t\t</Text>\n\t\t\t{ suggestion.link && (\n\t\t\t\t<Text\n\t\t\t\t\tsize=\"body\"\n\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\tclassName={ `${ baseCssClass }__info` }\n\t\t\t\t>\n\t\t\t\t\t{ safeDecodeURI( suggestion.link ) }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</Composite.Item>\n\t);\n}\n\nfunction useSearchSuggestions( entityForSuggestions, search ) {\n\tconst { config } = entityForSuggestions;\n\tconst query = useMemo(\n\t\t() => ( {\n\t\t\torder: 'asc',\n\t\t\tcontext: 'view',\n\t\t\tsearch,\n\t\t\tper_page: search ? 20 : 10,\n\t\t\t...config.queryArgs( search ),\n\t\t} ),\n\t\t[ search, config ]\n\t);\n\tconst { records: searchResults, hasResolved: searchHasResolved } =\n\t\tuseEntityRecords(\n\t\t\tentityForSuggestions.type,\n\t\t\tentityForSuggestions.slug,\n\t\t\tquery\n\t\t);\n\tconst [ suggestions, setSuggestions ] = useState( EMPTY_ARRAY );\n\tuseEffect( () => {\n\t\tif ( ! searchHasResolved ) {\n\t\t\treturn;\n\t\t}\n\t\tlet newSuggestions = EMPTY_ARRAY;\n\t\tif ( searchResults?.length ) {\n\t\t\tnewSuggestions = searchResults;\n\t\t\tif ( config.recordNamePath ) {\n\t\t\t\tnewSuggestions = mapToIHasNameAndId(\n\t\t\t\t\tnewSuggestions,\n\t\t\t\t\tconfig.recordNamePath\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// Update suggestions only when the query has resolved, so as to keep\n\t\t// the previous results in the UI.\n\t\tsetSuggestions( newSuggestions );\n\t}, [ searchResults, searchHasResolved ] );\n\treturn suggestions;\n}\n\nfunction SuggestionList( { entityForSuggestions, onSelect } ) {\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput();\n\tconst suggestions = useSearchSuggestions(\n\t\tentityForSuggestions,\n\t\tdebouncedSearch\n\t);\n\tconst { labels } = entityForSuggestions;\n\tconst [ showSearchControl, setShowSearchControl ] = useState( false );\n\tif ( ! showSearchControl && suggestions?.length > 9 ) {\n\t\tsetShowSearchControl( true );\n\t}\n\treturn (\n\t\t<>\n\t\t\t{ showSearchControl && (\n\t\t\t\t<SearchControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tonChange={ setSearch }\n\t\t\t\t\tvalue={ search }\n\t\t\t\t\tlabel={ labels.search_items }\n\t\t\t\t\tplaceholder={ labels.search_items }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! suggestions?.length && (\n\t\t\t\t<Composite\n\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\tclassName=\"edit-site-custom-template-modal__suggestions_list\"\n\t\t\t\t\taria-label={ __( 'Suggestions list' ) }\n\t\t\t\t>\n\t\t\t\t\t{ suggestions.map( ( suggestion ) => (\n\t\t\t\t\t\t<SuggestionListItem\n\t\t\t\t\t\t\tkey={ suggestion.slug }\n\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\tsearch={ debouncedSearch }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</Composite>\n\t\t\t) }\n\t\t\t{ debouncedSearch && ! suggestions?.length && (\n\t\t\t\t<Text\n\t\t\t\t\tas=\"p\"\n\t\t\t\t\tclassName=\"edit-site-custom-template-modal__no-results\"\n\t\t\t\t>\n\t\t\t\t\t{ labels.not_found }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction AddCustomTemplateModalContent( {\n\tonSelect,\n\tentityForSuggestions,\n\tonBack,\n\tcontainerRef,\n} ) {\n\tconst [ showSearchEntities, setShowSearchEntities ] = useState(\n\t\tentityForSuggestions.hasGeneralTemplate\n\t);\n\n\t// Focus on the first focusable element when the modal opens.\n\t// We handle focus management in the parent modal, just need to focus on the first focusable element.\n\tuseEffect( () => {\n\t\tif ( containerRef.current ) {\n\t\t\tconst [ firstFocusable ] = focus.focusable.find(\n\t\t\t\tcontainerRef.current\n\t\t\t);\n\t\t\tfirstFocusable?.focus();\n\t\t}\n\t}, [ showSearchEntities ] );\n\n\treturn (\n\t\t<VStack\n\t\t\tspacing={ 4 }\n\t\t\tclassName=\"edit-site-custom-template-modal__contents-wrapper\"\n\t\t\talignment=\"left\"\n\t\t>\n\t\t\t{ ! showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Select whether to create a single template for all items or a specific one.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tclassName=\"edit-site-custom-template-modal__contents\"\n\t\t\t\t\t\tgap=\"4\"\n\t\t\t\t\t\talign=\"initial\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} = entityForSuggestions.template;\n\t\t\t\t\t\t\t\tonSelect( {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tweight={ 500 }\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.all_items }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For all items' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetShowSearchEntities( true );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tweight={ 500 }\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.singular_name }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\tlineHeight={ 1.53846153846 } // 20px\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For a specific item' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onBack }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Flex>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'This template will be used only for the specific item chosen.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<SuggestionList\n\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t/>\n\t\t\t\t\t<Flex justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t// If general template exists, go directly back to main screen\n\t\t\t\t\t\t\t\t// instead of showing the choice screen\n\t\t\t\t\t\t\t\tif ( entityForSuggestions.hasGeneralTemplate ) {\n\t\t\t\t\t\t\t\t\tonBack();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetShowSearchEntities( false );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Flex>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport default AddCustomTemplateModalContent;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { blockMeta, post, archive } from '@wordpress/icons';\nimport { safeDecodeURI } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../utils/constants';\n\nconst EMPTY_OBJECT = {};\n\n/**\n * @typedef IHasNameAndId\n * @property {string|number} id   The entity's id.\n * @property {string}        name The entity's name.\n */\n\nconst getValueFromObjectPath = ( object, path ) => {\n\tlet value = object;\n\tpath.split( '.' ).forEach( ( fieldName ) => {\n\t\tvalue = value?.[ fieldName ];\n\t} );\n\treturn value;\n};\n\n/**\n * Helper that adds a prefix to a post slug. The slug needs to be URL-decoded first,\n * so that we have raw Unicode characters there. The server will truncate the slug to\n * 200 characters, respecing Unicode char boundary. On the other hand, the server\n * doesn't detect urlencoded octet boundary and can possibly construct slugs that\n * are not valid urlencoded strings.\n * @param {string} prefix The prefix to add to the slug.\n * @param {string} slug   The slug to add the prefix to.\n * @return {string} The slug with the prefix.\n */\nfunction prefixSlug( prefix, slug ) {\n\treturn `${ prefix }-${ safeDecodeURI( slug ) }`;\n}\n\n/**\n * Helper util to map records to add a `name` prop from a\n * provided path, in order to handle all entities in the same\n * fashion(implementing`IHasNameAndId` interface).\n *\n * @param {Object[]} entities The array of entities.\n * @param {string}   path     The path to map a `name` property from the entity.\n * @return {IHasNameAndId[]} An array of entities that now implement the `IHasNameAndId` interface.\n */\nexport const mapToIHasNameAndId = ( entities, path ) => {\n\treturn ( entities || [] ).map( ( entity ) => ( {\n\t\t...entity,\n\t\tname: decodeEntities( getValueFromObjectPath( entity, path ) ),\n\t} ) );\n};\n\n/**\n * @typedef {Object} EntitiesInfo\n * @property {boolean}  hasEntities         If an entity has available records(posts, terms, etc..).\n * @property {number[]} existingEntitiesIds An array of the existing entities ids.\n */\n\nexport const useExistingTemplates = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords(\n\t\t\t\t'postType',\n\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t{\n\t\t\t\t\tper_page: -1,\n\t\t\t\t}\n\t\t\t),\n\t\t[]\n\t);\n};\n\nexport const useDefaultTemplateTypes = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getCurrentTheme()?.default_template_types || [],\n\t\t[]\n\t);\n};\n\nconst usePublicPostTypes = () => {\n\tconst postTypes = useSelect(\n\t\t( select ) => select( coreStore ).getPostTypes( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\tconst excludedPostTypes = [ 'attachment' ];\n\t\treturn postTypes\n\t\t\t?.filter(\n\t\t\t\t( { viewable, slug } ) =>\n\t\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\n\t\t\t)\n\t\t\t.sort( ( a, b ) => {\n\t\t\t\t// Sort post types alphabetically by name,\n\t\t\t\t// but exclude the built-in 'post' type from sorting.\n\t\t\t\tif ( a.slug === 'post' || b.slug === 'post' ) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn a.name.localeCompare( b.name );\n\t\t\t} );\n\t}, [ postTypes ] );\n};\n\nconst usePublicTaxonomies = () => {\n\tconst taxonomies = useSelect(\n\t\t( select ) => select( coreStore ).getTaxonomies( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\treturn taxonomies?.filter(\n\t\t\t( { visibility } ) => visibility?.publicly_queryable\n\t\t);\n\t}, [ taxonomies ] );\n};\n\nexport function usePostTypeArchiveMenuItems() {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst postTypesWithArchives = useMemo(\n\t\t() => publicPostTypes?.filter( ( postType ) => postType.has_archive ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst existingTemplates = useExistingTemplates();\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst postTypeLabels = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { labels } ) => {\n\t\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\t\taccumulator[ singularName ] =\n\t\t\t\t\t( accumulator[ singularName ] || 0 ) + 1;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst needsUniqueIdentifier = useCallback(\n\t\t( { labels, slug } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\treturn postTypeLabels[ singularName ] > 1 && singularName !== slug;\n\t\t},\n\t\t[ postTypeLabels ]\n\t);\n\treturn useMemo(\n\t\t() =>\n\t\t\tpostTypesWithArchives\n\t\t\t\t?.filter(\n\t\t\t\t\t( postType ) =>\n\t\t\t\t\t\t! ( existingTemplates || [] ).some(\n\t\t\t\t\t\t\t( existingTemplate ) =>\n\t\t\t\t\t\t\t\texistingTemplate.slug ===\n\t\t\t\t\t\t\t\t'archive-' + postType.slug\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.map( ( postType ) => {\n\t\t\t\t\tlet title;\n\t\t\t\t\tif ( needsUniqueIdentifier( postType ) ) {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %1s: Name of the post type e.g: \"Post\"; %2s: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t__( 'Archive: %1$s (%2$s)' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name,\n\t\t\t\t\t\t\tpostType.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Archive: %s' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tslug: 'archive-' + postType.slug,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Displays an archive with the latest posts of type: %s.'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\ttypeof postType.icon === 'string' &&\n\t\t\t\t\t\t\tpostType.icon.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t\t? postType.icon.slice( 10 )\n\t\t\t\t\t\t\t\t: archive,\n\t\t\t\t\t\ttemplatePrefix: 'archive',\n\t\t\t\t\t};\n\t\t\t\t} ) || [],\n\t\t[ postTypesWithArchives, existingTemplates, needsUniqueIdentifier ]\n\t);\n}\n\nexport const usePostTypeMenuItems = ( onClickMenuItem ) => {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst templateLabels = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { labels } ) => {\n\t\t\t\tconst templateName = (\n\t\t\t\t\tlabels.template_name || labels.singular_name\n\t\t\t\t).toLowerCase();\n\t\t\t\taccumulator[ templateName ] =\n\t\t\t\t\t( accumulator[ templateName ] || 0 ) + 1;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst needsUniqueIdentifier = useCallback(\n\t\t( { labels, slug } ) => {\n\t\t\tconst templateName = (\n\t\t\t\tlabels.template_name || labels.singular_name\n\t\t\t).toLowerCase();\n\t\t\treturn templateLabels[ templateName ] > 1 && templateName !== slug;\n\t\t},\n\t\t[ templateLabels ]\n\t);\n\n\t// `page`is a special case in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( slug !== 'page' ) {\n\t\t\t\t\tsuffix = `single-${ suffix }`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst postTypesInfo = useEntitiesInfo( 'postType', templatePrefixes );\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst menuItems = ( publicPostTypes || [] ).reduce(\n\t\t( accumulator, postType ) => {\n\t\t\tconst { slug, labels, icon } = postType;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst hasGeneralTemplate =\n\t\t\t\texistingTemplateSlugs?.includes( generalTemplateSlug );\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier( postType );\n\t\t\tlet menuItemTitle =\n\t\t\t\tlabels.template_name ||\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t__( 'Single item: %s' ),\n\t\t\t\t\tlabels.singular_name\n\t\t\t\t);\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = labels.template_name\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the template e.g: \"Single Item: Post\". 2: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t_x( '%1$s (%2$s)', 'post type menu label' ),\n\t\t\t\t\t\t\tlabels.template_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  )\n\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the post type e.g: \"Post\". 2: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t'Single item: %1$s (%2$s)',\n\t\t\t\t\t\t\t\t'post type menu label'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  );\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Displays a single item: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\ttypeof icon === 'string' &&\n\t\t\t\t\t\t\ticon.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t\t? icon.slice( 10 )\n\t\t\t\t\t\t\t\t: post,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = postTypesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'postType',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\trecordNamePath: 'title.rendered',\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,title,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'relevance' : 'modified',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\tpostTypesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = prefixSlug(\n\t\t\t\t\t\t\t\t\ttemplatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t\tsuggestion.slug\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\thasGeneralTemplate,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no\n\t\t\t// entities and the general template exists.\n\t\t\tif ( ! hasGeneralTemplate || hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default post types\n\t// and one for the rest.\n\tconst postTypesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, postType ) => {\n\t\t\t\t\tconst { slug } = postType;\n\t\t\t\t\tlet key = 'postTypesMenuItems';\n\t\t\t\t\tif ( slug === 'page' ) {\n\t\t\t\t\t\tkey = 'defaultPostTypesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( postType );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultPostTypesMenuItems: [], postTypesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn postTypesMenuItems;\n};\n\nexport const useTaxonomiesMenuItems = ( onClickMenuItem ) => {\n\tconst publicTaxonomies = usePublicTaxonomies();\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\t// `category` and `post_tag` are special cases in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicTaxonomies?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( ! [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\t\t\tsuffix = `taxonomy-${ suffix }`;\n\t\t\t\t}\n\t\t\t\tif ( slug === 'post_tag' ) {\n\t\t\t\t\tsuffix = `tag`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicTaxonomies ]\n\t);\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst taxonomyLabels = publicTaxonomies?.reduce(\n\t\t( accumulator, { labels } ) => {\n\t\t\tconst templateName = (\n\t\t\t\tlabels.template_name || labels.singular_name\n\t\t\t).toLowerCase();\n\t\t\taccumulator[ templateName ] =\n\t\t\t\t( accumulator[ templateName ] || 0 ) + 1;\n\t\t\treturn accumulator;\n\t\t},\n\t\t{}\n\t);\n\tconst needsUniqueIdentifier = ( labels, slug ) => {\n\t\tif ( [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst templateName = (\n\t\t\tlabels.template_name || labels.singular_name\n\t\t).toLowerCase();\n\t\treturn taxonomyLabels[ templateName ] > 1 && templateName !== slug;\n\t};\n\tconst taxonomiesInfo = useEntitiesInfo( 'taxonomy', templatePrefixes );\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst menuItems = ( publicTaxonomies || [] ).reduce(\n\t\t( accumulator, taxonomy ) => {\n\t\t\tconst { slug, labels } = taxonomy;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst hasGeneralTemplate =\n\t\t\t\texistingTemplateSlugs?.includes( generalTemplateSlug );\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier(\n\t\t\t\tlabels,\n\t\t\t\tslug\n\t\t\t);\n\t\t\tlet menuItemTitle = labels.template_name || labels.singular_name;\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = labels.template_name\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the template e.g: \"Products by Category\". 2: Slug of the taxonomy e.g: \"product_cat\".\n\t\t\t\t\t\t\t_x( '%1$s (%2$s)', 'taxonomy template menu label' ),\n\t\t\t\t\t\t\tlabels.template_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  )\n\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t// translators: 1: Name of the taxonomy e.g: \"Category\". 2: Slug of the taxonomy e.g: \"product_cat\".\n\t\t\t\t\t\t\t_x( '%1$s (%2$s)', 'taxonomy menu label' ),\n\t\t\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t  );\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the taxonomy e.g: \"Product Categories\".\n\t\t\t\t\t\t\t__( 'Displays taxonomy: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ticon: blockMeta,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = taxonomiesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'taxonomy',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'name' : 'count',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\ttaxonomiesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = prefixSlug(\n\t\t\t\t\t\t\t\t\ttemplatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t\tsuggestion.slug\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\thasGeneralTemplate,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no\n\t\t\t// entities and the general template exists.\n\t\t\tif ( ! hasGeneralTemplate || hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default taxonomies\n\t// and one for the rest.\n\tconst taxonomiesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, taxonomy ) => {\n\t\t\t\t\tconst { slug } = taxonomy;\n\t\t\t\t\tlet key = 'taxonomiesMenuItems';\n\t\t\t\t\tif ( [ 'category', 'tag' ].includes( slug ) ) {\n\t\t\t\t\t\tkey = 'defaultTaxonomiesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( taxonomy );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultTaxonomiesMenuItems: [], taxonomiesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn taxonomiesMenuItems;\n};\n\nconst USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX = { user: 'author' };\nconst USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS = { user: { who: 'authors' } };\nexport function useAuthorMenuItem( onClickMenuItem ) {\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst authorInfo = useEntitiesInfo(\n\t\t'root',\n\t\tUSE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX,\n\t\tUSE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS\n\t);\n\tlet authorMenuItem = defaultTemplateTypes?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( ! authorMenuItem ) {\n\t\tauthorMenuItem = {\n\t\t\tdescription: __(\n\t\t\t\t'Displays latest posts written by a single author.'\n\t\t\t),\n\t\t\tslug: 'author',\n\t\t\ttitle: 'Author',\n\t\t};\n\t}\n\tconst hasGeneralTemplate = !! existingTemplates?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( authorInfo.user?.hasEntities ) {\n\t\tauthorMenuItem = { ...authorMenuItem, templatePrefix: 'author' };\n\t\tauthorMenuItem.onClick = ( template ) => {\n\t\t\tonClickMenuItem( {\n\t\t\t\ttype: 'root',\n\t\t\t\tslug: 'user',\n\t\t\t\tconfig: {\n\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\torderBy: search ? 'name' : 'registered_date',\n\t\t\t\t\t\t\texclude: authorInfo.user.existingEntitiesIds,\n\t\t\t\t\t\t\twho: 'authors',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\tconst templateSlug = prefixSlug(\n\t\t\t\t\t\t\t'author',\n\t\t\t\t\t\t\tsuggestion.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\ttemplatePrefix: 'author',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tlabels: {\n\t\t\t\t\tsingular_name: __( 'Author' ),\n\t\t\t\t\tsearch_items: __( 'Search Authors' ),\n\t\t\t\t\tnot_found: __( 'No authors found.' ),\n\t\t\t\t\tall_items: __( 'All Authors' ),\n\t\t\t\t},\n\t\t\t\thasGeneralTemplate,\n\t\t\t\ttemplate,\n\t\t\t} );\n\t\t};\n\t}\n\tif ( ! hasGeneralTemplate || authorInfo.user?.hasEntities ) {\n\t\treturn authorMenuItem;\n\t}\n}\n\n/**\n * Helper hook that filters all the existing templates by the given\n * object with the entity's slug as key and the template prefix as value.\n *\n * Example:\n * `existingTemplates` is: [ { slug: 'tag-apple' }, { slug: 'page-about' }, { slug: 'tag' } ]\n * `templatePrefixes` is: { post_tag: 'tag' }\n * It will return: { post_tag: ['apple'] }\n *\n * Note: We append the `-` to the given template prefix in this function for our checks.\n *\n * @param {Record<string,string>} templatePrefixes An object with the entity's slug as key and the template prefix as value.\n * @return {Record<string,string[]>} An object with the entity's slug as key and an array with the existing template slugs as value.\n */\nconst useExistingTemplateSlugs = ( templatePrefixes ) => {\n\tconst existingTemplates = useExistingTemplates();\n\tconst existingSlugs = useMemo( () => {\n\t\treturn Object.entries( templatePrefixes || {} ).reduce(\n\t\t\t( accumulator, [ slug, prefix ] ) => {\n\t\t\t\tconst slugsWithTemplates = ( existingTemplates || [] ).reduce(\n\t\t\t\t\t( _accumulator, existingTemplate ) => {\n\t\t\t\t\t\tconst _prefix = `${ prefix }-`;\n\t\t\t\t\t\tif ( existingTemplate.slug.startsWith( _prefix ) ) {\n\t\t\t\t\t\t\t_accumulator.push(\n\t\t\t\t\t\t\t\texistingTemplate.slug.substring(\n\t\t\t\t\t\t\t\t\t_prefix.length\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn _accumulator;\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tif ( slugsWithTemplates.length ) {\n\t\t\t\t\taccumulator[ slug ] = slugsWithTemplates;\n\t\t\t\t}\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\t}, [ templatePrefixes, existingTemplates ] );\n\treturn existingSlugs;\n};\n\n/**\n * Helper hook that finds the existing records with an associated template,\n * as they need to be excluded from the template suggestions.\n *\n * @param {string}                entityName                The entity's name.\n * @param {Record<string,string>} templatePrefixes          An object with the entity's slug as key and the template prefix as value.\n * @param {Record<string,Object>} additionalQueryParameters An object with the entity's slug as key and additional query parameters as value.\n * @return {Record<string,EntitiesInfo>} An object with the entity's slug as key and the existing records as value.\n */\nconst useTemplatesToExclude = (\n\tentityName,\n\ttemplatePrefixes,\n\tadditionalQueryParameters = {}\n) => {\n\tconst slugsToExcludePerEntity =\n\t\tuseExistingTemplateSlugs( templatePrefixes );\n\tconst recordsToExcludePerEntity = useSelect(\n\t\t( select ) => {\n\t\t\treturn Object.entries( slugsToExcludePerEntity || {} ).reduce(\n\t\t\t\t( accumulator, [ slug, slugsWithTemplates ] ) => {\n\t\t\t\t\tconst entitiesWithTemplates = select(\n\t\t\t\t\t\tcoreStore\n\t\t\t\t\t).getEntityRecords( entityName, slug, {\n\t\t\t\t\t\t_fields: 'id',\n\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\tslug: slugsWithTemplates,\n\t\t\t\t\t\t...additionalQueryParameters[ slug ],\n\t\t\t\t\t} );\n\t\t\t\t\tif ( entitiesWithTemplates?.length ) {\n\t\t\t\t\t\taccumulator[ slug ] = entitiesWithTemplates;\n\t\t\t\t\t}\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\t\t[ slugsToExcludePerEntity ]\n\t);\n\treturn recordsToExcludePerEntity;\n};\n\n/**\n * Helper hook that returns information about an entity having\n * records that we can create a specific template for.\n *\n * For example we can search for `terms` in `taxonomy` entity or\n * `posts` in `postType` entity.\n *\n * First we need to find the existing records with an associated template,\n * to query afterwards for any remaining record, by excluding them.\n *\n * @param {string}                entityName                The entity's name.\n * @param {Record<string,string>} templatePrefixes          An object with the entity's slug as key and the template prefix as value.\n * @param {Record<string,Object>} additionalQueryParameters An object with the entity's slug as key and additional query parameters as value.\n * @return {Record<string,EntitiesInfo>} An object with the entity's slug as key and the EntitiesInfo as value.\n */\nconst useEntitiesInfo = (\n\tentityName,\n\ttemplatePrefixes,\n\tadditionalQueryParameters = EMPTY_OBJECT\n) => {\n\tconst recordsToExcludePerEntity = useTemplatesToExclude(\n\t\tentityName,\n\t\ttemplatePrefixes,\n\t\tadditionalQueryParameters\n\t);\n\tconst entitiesHasRecords = useSelect(\n\t\t( select ) => {\n\t\t\treturn Object.keys( templatePrefixes || {} ).reduce(\n\t\t\t\t( accumulator, slug ) => {\n\t\t\t\t\tconst existingEntitiesIds =\n\t\t\t\t\t\trecordsToExcludePerEntity?.[ slug ]?.map(\n\t\t\t\t\t\t\t( { id } ) => id\n\t\t\t\t\t\t) || [];\n\t\t\t\t\taccumulator[ slug ] = !! select(\n\t\t\t\t\t\tcoreStore\n\t\t\t\t\t).getEntityRecords( entityName, slug, {\n\t\t\t\t\t\tper_page: 1,\n\t\t\t\t\t\t_fields: 'id',\n\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\texclude: existingEntitiesIds,\n\t\t\t\t\t\t...additionalQueryParameters[ slug ],\n\t\t\t\t\t} )?.length;\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\t\t[\n\t\t\ttemplatePrefixes,\n\t\t\trecordsToExcludePerEntity,\n\t\t\tentityName,\n\t\t\tadditionalQueryParameters,\n\t\t]\n\t);\n\tconst entitiesInfo = useMemo( () => {\n\t\treturn Object.keys( templatePrefixes || {} ).reduce(\n\t\t\t( accumulator, slug ) => {\n\t\t\t\tconst existingEntitiesIds =\n\t\t\t\t\trecordsToExcludePerEntity?.[ slug ]?.map(\n\t\t\t\t\t\t( { id } ) => id\n\t\t\t\t\t) || [];\n\t\t\t\taccumulator[ slug ] = {\n\t\t\t\t\thasEntities: entitiesHasRecords[ slug ],\n\t\t\t\t\texistingEntitiesIds,\n\t\t\t\t};\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\t}, [ templatePrefixes, recordsToExcludePerEntity, entitiesHasRecords ] );\n\treturn entitiesInfo;\n};\n", "/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tTextControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\nfunction AddCustomGenericTemplateModalContent( { createTemplate, onBack } ) {\n\tconst [ title, setTitle ] = useState( '' );\n\tconst defaultTitle = __( 'Custom Template' );\n\tconst [ isBusy, setIsBusy ] = useState( false );\n\tconst inputRef = useRef();\n\n\t// Set focus to the name input when the component mounts\n\tuseEffect( () => {\n\t\tif ( inputRef.current ) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, [] );\n\n\tasync function onCreateTemplate( event ) {\n\t\tevent.preventDefault();\n\t\tif ( isBusy ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsBusy( true );\n\t\ttry {\n\t\t\tawait createTemplate(\n\t\t\t\t{\n\t\t\t\t\tslug:\n\t\t\t\t\t\tkebabCase( title || defaultTitle ) ||\n\t\t\t\t\t\t'wp-custom-template',\n\t\t\t\t\ttitle: title || defaultTitle,\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t} finally {\n\t\t\tsetIsBusy( false );\n\t\t}\n\t}\n\treturn (\n\t\t<form onSubmit={ onCreateTemplate }>\n\t\t\t<VStack spacing={ 6 }>\n\t\t\t\t<TextControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\tplaceholder={ defaultTitle }\n\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\tref={ inputRef }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t// eslint-disable-next-line no-restricted-syntax -- 'sidebar' is a common web design term for layouts\n\t\t\t\t\t\t'Describe the template, e.g. \"Post with sidebar\". A custom template can be manually applied to any post or page.'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t<HStack\n\t\t\t\t\tclassName=\"edit-site-custom-generic-template__modal-actions\"\n\t\t\t\t\tjustify=\"right\"\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ onBack }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\taria-disabled={ isBusy }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n\nexport default AddCustomGenericTemplateModalContent;\n", "/**\n * WordPress dependencies\n */\nimport { loadView } from '@wordpress/views';\n\n/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport SidebarNavigationScreenTemplatesBrowse from '../sidebar-navigation-screen-templates-browse';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\nimport PageTemplates from '../page-templates';\nimport PageTemplatesLegacy from '../page-templates/index-legacy';\nimport { getDefaultView } from '../page-templates/view-utils';\n\nasync function isTemplateListView( query ) {\n\tconst { activeView = 'active' } = query;\n\tconst view = await loadView( {\n\t\tkind: 'postType',\n\t\tname: 'wp_template',\n\t\tslug: activeView,\n\t\tdefaultView: getDefaultView( activeView ),\n\t} );\n\treturn view.type === 'list';\n}\n\nexport const templatesRoute = {\n\tname: 'templates',\n\tpath: '/template',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<SidebarNavigationScreenTemplatesBrowse backPath=\"/\" />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tcontent( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\tif ( ! isBlockTheme ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t// Use the new template activation system if experiment is enabled,\n\t\t\t// otherwise use the legacy simple template list.\n\t\t\treturn window?.__experimentalTemplateActivate ? (\n\t\t\t\t<PageTemplates />\n\t\t\t) : (\n\t\t\t\t<PageTemplatesLegacy />\n\t\t\t);\n\t\t},\n\t\tasync preview( { query, siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\tif ( ! isBlockTheme ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst isListView = await isTemplateListView( query );\n\t\t\treturn isListView ? <Editor /> : undefined;\n\t\t},\n\t\tmobile( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\tif ( ! isBlockTheme ) {\n\t\t\t\treturn <SidebarNavigationScreenUnsupported />;\n\t\t\t}\n\t\t\t// Check if the template activation experiment is enabled.\n\t\t\tconst isTemplateActivateEnabled =\n\t\t\t\ttypeof window !== 'undefined' &&\n\t\t\t\twindow.__experimentalTemplateActivate;\n\t\t\t// Use the new template activation system if experiment is enabled,\n\t\t\t// otherwise use the legacy simple template list.\n\t\t\treturn isTemplateActivateEnabled ? (\n\t\t\t\t<PageTemplates />\n\t\t\t) : (\n\t\t\t\t<PageTemplatesLegacy />\n\t\t\t);\n\t\t},\n\t},\n\twidths: {\n\t\tasync content( { query } ) {\n\t\t\tconst isListView = await isTemplateListView( query );\n\t\t\treturn isListView ? 380 : undefined;\n\t\t},\n\t},\n};\n", "/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport SidebarNavigationScreenTemplatesBrowse from '../sidebar-navigation-screen-templates-browse';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\n\nconst areas = {\n\tsidebar( { siteData } ) {\n\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\treturn isBlockTheme ? (\n\t\t\t<SidebarNavigationScreenTemplatesBrowse backPath=\"/\" />\n\t\t) : (\n\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t);\n\t},\n\tmobile( { siteData } ) {\n\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\treturn isBlockTheme ? (\n\t\t\t<Editor />\n\t\t) : (\n\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t);\n\t},\n\tpreview( { siteData } ) {\n\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\treturn isBlockTheme ? (\n\t\t\t<Editor />\n\t\t) : (\n\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t);\n\t},\n};\n\nexport const templateItemRoute = {\n\tname: 'template-item',\n\tpath: '/wp_template/*postId',\n\tareas,\n};\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { __ } from '@wordpress/i18n';\nimport { loadView } from '@wordpress/views';\nimport { resolveSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\nimport DataViewsSidebarContent from '../sidebar-dataviews';\nimport PostList from '../post-list';\nimport { unlock } from '../../lock-unlock';\nimport { PostEdit } from '../post-edit';\nimport { getDefaultView } from '../post-list/view-utils';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nasync function isListView( query ) {\n\tconst { activeView = 'all' } = query;\n\tconst postTypeObject =\n\t\tawait resolveSelect( coreStore ).getPostType( 'page' );\n\tconst view = await loadView( {\n\t\tkind: 'postType',\n\t\tname: 'page',\n\t\tslug: activeView,\n\t\tdefaultView: getDefaultView( postTypeObject, activeView ),\n\t} );\n\treturn view.type === 'list';\n}\n\nfunction MobilePagesView() {\n\tconst { query = {} } = useLocation();\n\tconst { canvas = 'view' } = query;\n\n\treturn canvas === 'edit' ? <Editor /> : <PostList postType=\"page\" />;\n}\n\nexport const pagesRoute = {\n\tname: 'pages',\n\tpath: '/page',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<SidebarNavigationScreen\n\t\t\t\t\ttitle={ __( 'Pages' ) }\n\t\t\t\t\tbackPath=\"/\"\n\t\t\t\t\tcontent={ <DataViewsSidebarContent postType=\"page\" /> }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tcontent( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? <PostList postType=\"page\" /> : undefined;\n\t\t},\n\t\tasync preview( { query, siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\tif ( ! isBlockTheme ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst isList = await isListView( query );\n\t\t\treturn isList ? <Editor /> : undefined;\n\t\t},\n\t\tmobile( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<MobilePagesView />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tasync edit( { query } ) {\n\t\t\tconst isList = await isListView( query );\n\t\t\tconst hasQuickEdit = ! isList && !! query.quickEdit;\n\t\t\treturn hasQuickEdit ? (\n\t\t\t\t<PostEdit postType=\"page\" postId={ query.postId } />\n\t\t\t) : undefined;\n\t\t},\n\t},\n\twidths: {\n\t\tasync content( { query } ) {\n\t\t\tconst isList = await isListView( query );\n\t\t\treturn isList ? 380 : undefined;\n\t\t},\n\t\tasync edit( { query } ) {\n\t\t\tconst isList = await isListView( query );\n\t\t\tconst hasQuickEdit = ! isList && !! query.quickEdit;\n\t\t\treturn hasQuickEdit ? 380 : undefined;\n\t\t},\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport DataViewItem from './dataview-item';\nimport { getDefaultViews } from '../post-list/view-utils';\n\nconst { useLocation } = unlock( routerPrivateApis );\n\nexport default function DataViewsSidebarContent( { postType } ) {\n\tconst {\n\t\tquery: { activeView = 'all' },\n\t} = useLocation();\n\tconst postTypeObject = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostType } = select( coreStore );\n\t\t\treturn getPostType( postType );\n\t\t},\n\t\t[ postType ]\n\t);\n\tconst defaultViews = useMemo(\n\t\t() => getDefaultViews( postTypeObject ),\n\t\t[ postTypeObject ]\n\t);\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ItemGroup className=\"edit-site-sidebar-dataviews\">\n\t\t\t\t{ defaultViews.map( ( dataview ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DataViewItem\n\t\t\t\t\t\t\tkey={ dataview.slug }\n\t\t\t\t\t\t\tslug={ dataview.slug }\n\t\t\t\t\t\t\ttitle={ dataview.title }\n\t\t\t\t\t\t\ticon={ dataview.icon }\n\t\t\t\t\t\t\ttype={ dataview.view.type }\n\t\t\t\t\t\t\tisActive={ dataview.slug === activeView }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ItemGroup>\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { VIEW_LAYOUTS } from '@wordpress/dataviews';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationItem from '../sidebar-navigation-item';\nimport { unlock } from '../../lock-unlock';\nconst { useLocation } = unlock( routerPrivateApis );\n\nexport default function DataViewItem( {\n\ttitle,\n\tslug,\n\ttype,\n\ticon,\n\tisActive,\n\tsuffix,\n} ) {\n\tconst { path } = useLocation();\n\n\tconst iconToUse =\n\t\ticon || VIEW_LAYOUTS.find( ( v ) => v.type === type ).icon;\n\n\tif ( slug === 'all' ) {\n\t\tslug = undefined;\n\t}\n\treturn (\n\t\t<HStack\n\t\t\tjustify=\"flex-start\"\n\t\t\tclassName={ clsx( 'edit-site-sidebar-dataviews-dataview-item', {\n\t\t\t\t'is-selected': isActive,\n\t\t\t} ) }\n\t\t>\n\t\t\t<SidebarNavigationItem\n\t\t\t\ticon={ iconToUse }\n\t\t\t\tto={ addQueryArgs( path, {\n\t\t\t\t\tactiveView: slug,\n\t\t\t\t} ) }\n\t\t\t\taria-current={ isActive ? 'true' : undefined }\n\t\t\t>\n\t\t\t\t{ title }\n\t\t\t</SidebarNavigationItem>\n\t\t\t{ suffix }\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nimport {\n\ttrash,\n\tpages,\n\tdrafts,\n\tpublished,\n\tscheduled,\n\tpending,\n\tnotAllowed,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { OPERATOR_IS_ANY } from '../../utils/constants';\n\nexport const defaultLayouts = {\n\ttable: {},\n\tgrid: {},\n\tlist: {},\n};\n\nconst DEFAULT_POST_BASE = {\n\ttype: 'list',\n\tfilters: [],\n\tperPage: 20,\n\tsort: {\n\t\tfield: 'title',\n\t\tdirection: 'asc',\n\t},\n\tshowLevels: true,\n\ttitleField: 'title',\n\tmediaField: 'featured_media',\n\tfields: [ 'author', 'status' ],\n\t...defaultLayouts.list,\n};\n\nexport function getDefaultViews( postType ) {\n\treturn [\n\t\t{\n\t\t\ttitle: postType?.labels?.all_items || __( 'All items' ),\n\t\t\tslug: 'all',\n\t\t\ticon: pages,\n\t\t\tview: DEFAULT_POST_BASE,\n\t\t},\n\t\t{\n\t\t\ttitle: __( 'Published' ),\n\t\t\tslug: 'published',\n\t\t\ticon: published,\n\t\t\tview: {\n\t\t\t\t...DEFAULT_POST_BASE,\n\t\t\t\tfilters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'status',\n\t\t\t\t\t\toperator: OPERATOR_IS_ANY,\n\t\t\t\t\t\tvalue: 'publish',\n\t\t\t\t\t\tisLocked: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: __( 'Scheduled' ),\n\t\t\tslug: 'future',\n\t\t\ticon: scheduled,\n\t\t\tview: {\n\t\t\t\t...DEFAULT_POST_BASE,\n\t\t\t\tfilters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'status',\n\t\t\t\t\t\toperator: OPERATOR_IS_ANY,\n\t\t\t\t\t\tvalue: 'future',\n\t\t\t\t\t\tisLocked: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: __( 'Drafts' ),\n\t\t\tslug: 'drafts',\n\t\t\ticon: drafts,\n\t\t\tview: {\n\t\t\t\t...DEFAULT_POST_BASE,\n\t\t\t\tfilters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'status',\n\t\t\t\t\t\toperator: OPERATOR_IS_ANY,\n\t\t\t\t\t\tvalue: 'draft',\n\t\t\t\t\t\tisLocked: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: __( 'Pending' ),\n\t\t\tslug: 'pending',\n\t\t\ticon: pending,\n\t\t\tview: {\n\t\t\t\t...DEFAULT_POST_BASE,\n\t\t\t\tfilters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'status',\n\t\t\t\t\t\toperator: OPERATOR_IS_ANY,\n\t\t\t\t\t\tvalue: 'pending',\n\t\t\t\t\t\tisLocked: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: __( 'Private' ),\n\t\t\tslug: 'private',\n\t\t\ticon: notAllowed,\n\t\t\tview: {\n\t\t\t\t...DEFAULT_POST_BASE,\n\t\t\t\tfilters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'status',\n\t\t\t\t\t\toperator: OPERATOR_IS_ANY,\n\t\t\t\t\t\tvalue: 'private',\n\t\t\t\t\t\tisLocked: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: __( 'Trash' ),\n\t\t\tslug: 'trash',\n\t\t\ticon: trash,\n\t\t\tview: {\n\t\t\t\t...DEFAULT_POST_BASE,\n\t\t\t\ttype: 'table',\n\t\t\t\tlayout: defaultLayouts.table.layout,\n\t\t\t\tfilters: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfield: 'status',\n\t\t\t\t\t\toperator: OPERATOR_IS_ANY,\n\t\t\t\t\t\tvalue: 'trash',\n\t\t\t\t\t\tisLocked: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t];\n}\n\nexport const getDefaultView = ( postType, activeView ) => {\n\treturn getDefaultViews( postType ).find(\n\t\t( { slug } ) => slug === activeView\n\t)?.view;\n};\n", "/**\n * WordPress dependencies\n */\nimport { Page } from '@wordpress/admin-ui';\nimport { Button } from '@wordpress/components';\nimport {\n\tstore as coreStore,\n\tprivateApis as coreDataPrivateApis,\n} from '@wordpress/core-data';\nimport { useState, useMemo, useCallback, useEffect } from '@wordpress/element';\nimport { privateApis as routerPrivateApis } from '@wordpress/router';\nimport { useSelect } from '@wordpress/data';\nimport { DataViews, filterSortAndPaginate } from '@wordpress/dataviews';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\nimport { drawerRight } from '@wordpress/icons';\nimport { useEvent, usePrevious } from '@wordpress/compose';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useView } from '@wordpress/views';\n\n/**\n * Internal dependencies\n */\nimport {\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tLAYOUT_LIST,\n} from '../../utils/constants';\n\nimport AddNewPostModal from '../add-new-post';\nimport { unlock } from '../../lock-unlock';\nimport { useEditPostAction } from '../dataviews-actions';\nimport { defaultLayouts, getDefaultView } from './view-utils';\n\nconst { usePostActions, usePostFields } = unlock( editorPrivateApis );\nconst { useLocation, useHistory } = unlock( routerPrivateApis );\nconst { useEntityRecordsWithPermissions } = unlock( coreDataPrivateApis );\nconst EMPTY_ARRAY = [];\n\nconst DEFAULT_STATUSES = 'draft,future,pending,private,publish'; // All but 'trash'.\n\nfunction getItemId( item ) {\n\treturn item.id.toString();\n}\n\nfunction getItemLevel( item ) {\n\treturn item.level;\n}\n\nexport default function PostList( { postType } ) {\n\tconst { path, query } = useLocation();\n\tconst { activeView = 'all', postId, quickEdit = false } = query;\n\tconst history = useHistory();\n\tconst postTypeObject = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostType } = select( coreStore );\n\t\t\treturn getPostType( postType );\n\t\t},\n\t\t[ postType ]\n\t);\n\tconst { view, updateView, isModified, resetToDefault } = useView( {\n\t\tkind: 'postType',\n\t\tname: postType,\n\t\tslug: activeView,\n\t\tqueryParams: {\n\t\t\tpage: query.pageNumber,\n\t\t\tsearch: query.search,\n\t\t},\n\t\tonChangeQueryParams: ( newQueryParams ) => {\n\t\t\thistory.navigate(\n\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t...query,\n\t\t\t\t\tpageNumber: newQueryParams.page,\n\t\t\t\t\tsearch: newQueryParams.search || undefined,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\tdefaultView: getDefaultView( postTypeObject, activeView ),\n\t} );\n\n\tconst onChangeView = useEvent( ( newView ) => {\n\t\tif ( newView.type !== view.type ) {\n\t\t\t// Retrigger the routing areas resolution.\n\t\t\thistory.invalidate();\n\t\t}\n\t\tupdateView( newView );\n\t} );\n\n\tconst [ selection, setSelection ] = useState( postId?.split( ',' ) ?? [] );\n\tconst onChangeSelection = useCallback(\n\t\t( items ) => {\n\t\t\tsetSelection( items );\n\t\t\thistory.navigate(\n\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\tpostId: items.join( ',' ),\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ path, history ]\n\t);\n\n\tconst fields = usePostFields( {\n\t\tpostType,\n\t} );\n\n\tconst queryArgs = useMemo( () => {\n\t\tconst filters = {};\n\t\tview.filters?.forEach( ( filter ) => {\n\t\t\tif (\n\t\t\t\tfilter.field === 'status' &&\n\t\t\t\tfilter.operator === OPERATOR_IS_ANY\n\t\t\t) {\n\t\t\t\tfilters.status = filter.value;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tfilter.field === 'author' &&\n\t\t\t\tfilter.operator === OPERATOR_IS_ANY\n\t\t\t) {\n\t\t\t\tfilters.author = filter.value;\n\t\t\t} else if (\n\t\t\t\tfilter.field === 'author' &&\n\t\t\t\tfilter.operator === OPERATOR_IS_NONE\n\t\t\t) {\n\t\t\t\tfilters.author_exclude = filter.value;\n\t\t\t}\n\t\t} );\n\n\t\t// We want to provide a different default item for the status filter\n\t\t// than the REST API provides.\n\t\tif ( ! filters.status || filters.status === '' ) {\n\t\t\tfilters.status = DEFAULT_STATUSES;\n\t\t}\n\n\t\treturn {\n\t\t\tper_page: view.perPage,\n\t\t\tpage: view.page,\n\t\t\t_embed: 'author,wp:featuredmedia',\n\t\t\torder: view.sort?.direction,\n\t\t\torderby: view.sort?.field,\n\t\t\torderby_hierarchy: !! view.showLevels,\n\t\t\tsearch: view.search,\n\t\t\t...filters,\n\t\t};\n\t}, [ view ] );\n\tconst {\n\t\trecords,\n\t\tisResolving: isLoadingData,\n\t\ttotalItems,\n\t\ttotalPages,\n\t} = useEntityRecordsWithPermissions( 'postType', postType, queryArgs );\n\n\t// The REST API sort the authors by ID, but we want to sort them by name.\n\tconst data = useMemo( () => {\n\t\tif ( view?.sort?.field === 'author' ) {\n\t\t\treturn filterSortAndPaginate(\n\t\t\t\trecords,\n\t\t\t\t{ sort: { ...view.sort } },\n\t\t\t\tfields\n\t\t\t).data;\n\t\t}\n\n\t\treturn records;\n\t}, [ records, fields, view?.sort ] );\n\n\tconst ids = data?.map( ( record ) => getItemId( record ) ) ?? [];\n\tconst prevIds = usePrevious( ids ) ?? [];\n\tconst deletedIds = prevIds.filter( ( id ) => ! ids.includes( id ) );\n\tconst postIdWasDeleted = deletedIds.includes( postId );\n\n\tuseEffect( () => {\n\t\tif ( postIdWasDeleted ) {\n\t\t\thistory.navigate(\n\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\tpostId: undefined,\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\t}, [ history, postIdWasDeleted, path ] );\n\n\tconst paginationInfo = useMemo(\n\t\t() => ( {\n\t\t\ttotalItems,\n\t\t\ttotalPages,\n\t\t} ),\n\t\t[ totalItems, totalPages ]\n\t);\n\n\tconst { labels, canCreateRecord } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostType, canUser } = select( coreStore );\n\t\t\treturn {\n\t\t\t\tlabels: getPostType( postType )?.labels,\n\t\t\t\tcanCreateRecord: canUser( 'create', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: postType,\n\t\t\t\t} ),\n\t\t\t};\n\t\t},\n\t\t[ postType ]\n\t);\n\n\tconst postTypeActions = usePostActions( {\n\t\tpostType,\n\t\tcontext: 'list',\n\t} );\n\tconst editAction = useEditPostAction();\n\tconst actions = useMemo(\n\t\t() => [ editAction, ...postTypeActions ],\n\t\t[ postTypeActions, editAction ]\n\t);\n\n\tconst [ showAddPostModal, setShowAddPostModal ] = useState( false );\n\n\tconst openModal = () => setShowAddPostModal( true );\n\tconst closeModal = () => setShowAddPostModal( false );\n\tconst handleNewPage = ( { type, id } ) => {\n\t\thistory.navigate( `/${ type }/${ id }?canvas=edit` );\n\t\tcloseModal();\n\t};\n\n\treturn (\n\t\t<Page\n\t\t\ttitle={ labels?.name }\n\t\t\tactions={\n\t\t\t\t<>\n\t\t\t\t\t{ isModified && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tresetToDefault();\n\t\t\t\t\t\t\t\thistory.invalidate();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Reset view' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\t{ labels?.add_new_item && canCreateRecord && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tonClick={ openModal }\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ labels.add_new_item }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{ showAddPostModal && (\n\t\t\t\t\t\t\t\t<AddNewPostModal\n\t\t\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\t\t\tonSave={ handleNewPage }\n\t\t\t\t\t\t\t\t\tonClose={ closeModal }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t}\n\t\t>\n\t\t\t<DataViews\n\t\t\t\tkey={ activeView }\n\t\t\t\tpaginationInfo={ paginationInfo }\n\t\t\t\tfields={ fields }\n\t\t\t\tactions={ actions }\n\t\t\t\tdata={ data || EMPTY_ARRAY }\n\t\t\t\tisLoading={ isLoadingData }\n\t\t\t\tview={ view }\n\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\tselection={ selection }\n\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\tisItemClickable={ ( item ) => item.status !== 'trash' }\n\t\t\t\tonClickItem={ ( { id } ) => {\n\t\t\t\t\thistory.navigate( `/${ postType }/${ id }?canvas=edit` );\n\t\t\t\t} }\n\t\t\t\tgetItemId={ getItemId }\n\t\t\t\tgetItemLevel={ getItemLevel }\n\t\t\t\tdefaultLayouts={ defaultLayouts }\n\t\t\t\theader={\n\t\t\t\t\twindow.__experimentalQuickEditDataViews &&\n\t\t\t\t\tview.type !== LAYOUT_LIST &&\n\t\t\t\t\tpostType === 'page' && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tisPressed={ quickEdit }\n\t\t\t\t\t\t\ticon={ drawerRight }\n\t\t\t\t\t\t\tlabel={ __( 'Details' ) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\thistory.navigate(\n\t\t\t\t\t\t\t\t\taddQueryArgs( path, {\n\t\t\t\t\t\t\t\t\t\tquickEdit: quickEdit ? undefined : true,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t</Page>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tTextControl,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useDispatch, useRegistry, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { serialize, synchronizeBlocksWithTemplate } from '@wordpress/blocks';\n\nexport default function AddNewPostModal( { postType, onSave, onClose } ) {\n\tconst labels = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( postType )?.labels,\n\t\t[ postType ]\n\t);\n\tconst [ isCreatingPost, setIsCreatingPost ] = useState( false );\n\tconst [ title, setTitle ] = useState( '' );\n\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice, createSuccessNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { resolveSelect } = useRegistry();\n\n\tasync function createPost( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( isCreatingPost ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsCreatingPost( true );\n\t\ttry {\n\t\t\tconst postTypeObject =\n\t\t\t\tawait resolveSelect( coreStore ).getPostType( postType );\n\t\t\tconst newPage = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\t{\n\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\ttitle,\n\t\t\t\t\tslug: title ?? undefined,\n\t\t\t\t\tcontent:\n\t\t\t\t\t\t!! postTypeObject.template &&\n\t\t\t\t\t\tpostTypeObject.template.length\n\t\t\t\t\t\t\t? serialize(\n\t\t\t\t\t\t\t\t\tsynchronizeBlocksWithTemplate(\n\t\t\t\t\t\t\t\t\t\t[],\n\t\t\t\t\t\t\t\t\t\tpostTypeObject.template\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\tonSave( newPage );\n\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Title of the created post or template, e.g: \"Hello world\".\n\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\tdecodeEntities( newPage.title?.rendered || title ) ||\n\t\t\t\t\t\t__( '(no title)' )\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the item.' );\n\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} finally {\n\t\t\tsetIsCreatingPost( false );\n\t\t}\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={\n\t\t\t\t// translators: %s: post type singular_name label e.g: \"Page\".\n\t\t\t\tsprintf( __( 'Draft new: %s' ), labels?.singular_name )\n\t\t\t}\n\t\t\tonRequestClose={ onClose }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form onSubmit={ createPost }>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Title' ) }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\tplaceholder={ __( 'No title' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack spacing={ 2 } justify=\"end\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isCreatingPost }\n\t\t\t\t\t\t\taria-disabled={ isCreatingPost }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create draft' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Page } from '@wordpress/admin-ui';\nimport { __ } from '@wordpress/i18n';\nimport { DataForm } from '@wordpress/dataviews';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport usePatternSettings from '../page-patterns/use-pattern-settings';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\nconst { usePostFields, PostCardPanel } = unlock( editorPrivateApis );\n\nconst fieldsWithBulkEditSupport = [\n\t'title',\n\t'status',\n\t'date',\n\t'author',\n\t'discussion',\n];\n\nfunction PostEditForm( { postType, postId } ) {\n\tconst ids = useMemo( () => postId.split( ',' ), [ postId ] );\n\tconst { record, hasFinishedResolution } = useSelect(\n\t\t( select ) => {\n\t\t\tconst args = [ 'postType', postType, ids[ 0 ] ];\n\n\t\t\tconst {\n\t\t\t\tgetEditedEntityRecord,\n\t\t\t\thasFinishedResolution: hasFinished,\n\t\t\t} = select( coreDataStore );\n\n\t\t\treturn {\n\t\t\t\trecord:\n\t\t\t\t\tids.length === 1 ? getEditedEntityRecord( ...args ) : null,\n\t\t\t\thasFinishedResolution: hasFinished(\n\t\t\t\t\t'getEditedEntityRecord',\n\t\t\t\t\targs\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ postType, ids ]\n\t);\n\tconst [ multiEdits, setMultiEdits ] = useState( {} );\n\tconst { editEntityRecord } = useDispatch( coreDataStore );\n\tconst _fields = usePostFields( { postType } );\n\tconst fields = useMemo(\n\t\t() =>\n\t\t\t_fields?.map( ( field ) => {\n\t\t\t\tif ( field.id === 'status' ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...field,\n\t\t\t\t\t\telements: field.elements.filter(\n\t\t\t\t\t\t\t( element ) => element.value !== 'trash'\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn field;\n\t\t\t} ),\n\t\t[ _fields ]\n\t);\n\n\tconst form = useMemo(\n\t\t() => ( {\n\t\t\tlayout: {\n\t\t\t\ttype: 'panel',\n\t\t\t},\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\tid: 'featured_media',\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'regular',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'status',\n\t\t\t\t\tlabel: __( 'Status & Visibility' ),\n\t\t\t\t\tchildren: [ 'status', 'password' ],\n\t\t\t\t},\n\t\t\t\t'author',\n\t\t\t\t'date',\n\t\t\t\t'slug',\n\t\t\t\t'parent',\n\t\t\t\t{\n\t\t\t\t\tid: 'discussion',\n\t\t\t\t\tlabel: __( 'Discussion' ),\n\t\t\t\t\tchildren: [ 'comment_status', 'ping_status' ],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Template' ),\n\t\t\t\t\tid: 'template',\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'regular',\n\t\t\t\t\t\tlabelPosition: 'side',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t].filter(\n\t\t\t\t( field ) =>\n\t\t\t\t\tids.length === 1 ||\n\t\t\t\t\tfieldsWithBulkEditSupport.includes(\n\t\t\t\t\t\ttypeof field === 'string' ? field : field.id\n\t\t\t\t\t)\n\t\t\t),\n\t\t} ),\n\t\t[ ids ]\n\t);\n\tconst onChange = ( edits ) => {\n\t\tfor ( const id of ids ) {\n\t\t\tif (\n\t\t\t\tedits.status &&\n\t\t\t\tedits.status !== 'future' &&\n\t\t\t\trecord?.status === 'future' &&\n\t\t\t\tnew Date( record.date ) > new Date()\n\t\t\t) {\n\t\t\t\tedits.date = null;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tedits.status &&\n\t\t\t\tedits.status === 'private' &&\n\t\t\t\trecord.password\n\t\t\t) {\n\t\t\t\tedits.password = '';\n\t\t\t}\n\t\t\teditEntityRecord( 'postType', postType, id, edits );\n\t\t\tif ( ids.length > 1 ) {\n\t\t\t\tsetMultiEdits( ( prev ) => ( {\n\t\t\t\t\t...prev,\n\t\t\t\t\t...edits,\n\t\t\t\t} ) );\n\t\t\t}\n\t\t}\n\t};\n\tuseEffect( () => {\n\t\tsetMultiEdits( {} );\n\t}, [ ids ] );\n\n\tconst { ExperimentalBlockEditorProvider } = unlock(\n\t\tblockEditorPrivateApis\n\t);\n\tconst settings = usePatternSettings();\n\n\t/**\n\t * The template field depends on the block editor settings.\n\t * This is a workaround to ensure that the block editor settings are available.\n\t * For more information, see: https://github.com/WordPress/gutenberg/issues/67521\n\t */\n\tconst fieldsWithDependency = useMemo( () => {\n\t\treturn fields.map( ( field ) => {\n\t\t\tif ( field.id === 'template' ) {\n\t\t\t\treturn {\n\t\t\t\t\t...field,\n\t\t\t\t\tEdit: ( data ) => (\n\t\t\t\t\t\t<ExperimentalBlockEditorProvider settings={ settings }>\n\t\t\t\t\t\t\t<field.Edit { ...data } />\n\t\t\t\t\t\t</ExperimentalBlockEditorProvider>\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn field;\n\t\t} );\n\t}, [ fields, settings ] );\n\n\treturn (\n\t\t<VStack spacing={ 4 }>\n\t\t\t<PostCardPanel postType={ postType } postId={ ids } />\n\t\t\t{ hasFinishedResolution && (\n\t\t\t\t<DataForm\n\t\t\t\t\tdata={ ids.length === 1 ? record : multiEdits }\n\t\t\t\t\tfields={ fieldsWithDependency }\n\t\t\t\t\tform={ form }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport function PostEdit( { postType, postId } ) {\n\treturn (\n\t\t<Page\n\t\t\tclassName={ clsx( 'edit-site-post-edit', {\n\t\t\t\t'is-empty': ! postId,\n\t\t\t} ) }\n\t\t\tlabel={ __( 'Post Edit' ) }\n\t\t>\n\t\t\t{ postId && (\n\t\t\t\t<PostEditForm postType={ postType } postId={ postId } />\n\t\t\t) }\n\t\t\t{ ! postId && <p>{ __( 'Select a page to edit' ) }</p> }\n\t\t</Page>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport Editor from '../editor';\nimport DataViewsSidebarContent from '../sidebar-dataviews';\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\n\nexport const pageItemRoute = {\n\tname: 'page-item',\n\tpath: '/page/:postId',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<SidebarNavigationScreen\n\t\t\t\t\ttitle={ __( 'Pages' ) }\n\t\t\t\t\tbackPath=\"/\"\n\t\t\t\t\tcontent={ <DataViewsSidebarContent postType=\"page\" /> }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tmobile( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<Editor />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tpreview( { siteData } ) {\n\t\t\tconst isBlockTheme = siteData.currentTheme?.is_block_theme;\n\t\t\treturn isBlockTheme ? (\n\t\t\t\t<Editor />\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { privateApis as editorPrivateApis } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport SidebarNavigationScreenUnsupported from '../sidebar-navigation-screen-unsupported';\nimport { unlock } from '../../lock-unlock';\nimport { isClassicThemeWithStyleBookSupport } from './utils';\n\nconst { StyleBookPreview } = unlock( editorPrivateApis );\n\nexport const stylebookRoute = {\n\tname: 'stylebook',\n\tpath: '/stylebook',\n\tareas: {\n\t\tsidebar( { siteData } ) {\n\t\t\treturn isClassicThemeWithStyleBookSupport( siteData ) ? (\n\t\t\t\t<SidebarNavigationScreen\n\t\t\t\t\ttitle={ __( 'Styles' ) }\n\t\t\t\t\tbackPath=\"/\"\n\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t`Preview your website's visual identity: colors, typography, and blocks.`\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<SidebarNavigationScreenUnsupported />\n\t\t\t);\n\t\t},\n\t\tpreview( { siteData } ) {\n\t\t\treturn isClassicThemeWithStyleBookSupport( siteData ) ? (\n\t\t\t\t<StyleBookPreview isStatic />\n\t\t\t) : undefined;\n\t\t},\n\t\tmobile( { siteData } ) {\n\t\t\treturn isClassicThemeWithStyleBookSupport( siteData ) ? (\n\t\t\t\t<StyleBookPreview isStatic />\n\t\t\t) : undefined;\n\t\t},\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { Notice, __experimentalSpacer as Spacer } from '@wordpress/components';\nimport SidebarNavigationScreenMain from '../sidebar-navigation-screen-main';\n\nfunction NotFoundError() {\n\treturn (\n\t\t<Notice status=\"error\" isDismissible={ false }>\n\t\t\t{ __(\n\t\t\t\t'The requested page could not be found. Please check the URL.'\n\t\t\t) }\n\t\t</Notice>\n\t);\n}\n\nexport const notFoundRoute = {\n\tname: 'notfound',\n\tpath: '*',\n\tareas: {\n\t\tsidebar: <SidebarNavigationScreenMain />,\n\t\tmobile: (\n\t\t\t<SidebarNavigationScreenMain\n\t\t\t\tcustomDescription={ <NotFoundError /> }\n\t\t\t/>\n\t\t),\n\t\tcontent: (\n\t\t\t<Spacer padding={ 2 }>\n\t\t\t\t<NotFoundError />\n\t\t\t</Spacer>\n\t\t),\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport {\n\tPluginMoreMenuItem as EditorPluginMoreMenuItem,\n\tPluginSidebar as EditorPluginSidebar,\n\tPluginSidebarMoreMenuItem as EditorPluginSidebarMoreMenuItem,\n} from '@wordpress/editor';\nimport { getPath } from '@wordpress/url';\nimport deprecated from '@wordpress/deprecated';\n\nconst isSiteEditor = getPath( window.location.href )?.includes(\n\t'site-editor.php'\n);\n\nconst deprecateSlot = ( name ) => {\n\tdeprecated( `wp.editPost.${ name }`, {\n\t\tsince: '6.6',\n\t\talternative: `wp.editor.${ name }`,\n\t} );\n};\n\n/* eslint-disable jsdoc/require-param */\n/**\n * @see PluginMoreMenuItem in @wordpress/editor package.\n */\nexport function PluginMoreMenuItem( props ) {\n\tif ( ! isSiteEditor ) {\n\t\treturn null;\n\t}\n\tdeprecateSlot( 'PluginMoreMenuItem' );\n\treturn <EditorPluginMoreMenuItem { ...props } />;\n}\n\n/**\n * @see PluginSidebar in @wordpress/editor package.\n */\nexport function PluginSidebar( props ) {\n\tif ( ! isSiteEditor ) {\n\t\treturn null;\n\t}\n\tdeprecateSlot( 'PluginSidebar' );\n\treturn <EditorPluginSidebar { ...props } />;\n}\n\n/**\n * @see PluginSidebarMoreMenuItem in @wordpress/editor package.\n */\nexport function PluginSidebarMoreMenuItem( props ) {\n\tif ( ! isSiteEditor ) {\n\t\treturn null;\n\t}\n\tdeprecateSlot( 'PluginSidebarMoreMenuItem' );\n\treturn <EditorPluginSidebarMoreMenuItem { ...props } />;\n}\n/* eslint-enable jsdoc/require-param */\n"],
  "mappings": "m6BAAA,IAAAA,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,SCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,eCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,OCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,aCA3B,IAAAC,EAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,UCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,SCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,cCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,UCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,WCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,cCA3B,IAAAC,EAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,OCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,WCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,cCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,SCA3B,IAAAC,EAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,kBCAxB,IAAAC,EAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,aCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,UCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,UCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,UCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,eCA3B,IAAAC,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,aCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,WCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,WCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,MCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,MCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,oBCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,QCAxB,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,WCAxB,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,WCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,cCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,cAQAA,GAAO,QAAU,SAASC,EAAMC,EAAGC,EAAG,CACpC,GAAID,IAAMC,EAAG,MAAO,GAEpB,GAAID,GAAKC,GAAK,OAAOD,GAAK,UAAY,OAAOC,GAAK,SAAU,CAC1D,GAAID,EAAE,cAAgBC,EAAE,YAAa,MAAO,GAE5C,IAAIC,EAAQC,EAAGC,EACf,GAAI,MAAM,QAAQJ,CAAC,EAAG,CAEpB,GADAE,EAASF,EAAE,OACPE,GAAUD,EAAE,OAAQ,MAAO,GAC/B,IAAKE,EAAID,EAAQC,MAAQ,GACvB,GAAI,CAACJ,EAAMC,EAAEG,CAAC,EAAGF,EAAEE,CAAC,CAAC,EAAG,MAAO,GACjC,MAAO,EACT,CAGA,GAAKH,aAAa,KAASC,aAAa,IAAM,CAC5C,GAAID,EAAE,OAASC,EAAE,KAAM,MAAO,GAC9B,IAAKE,KAAKH,EAAE,QAAQ,EAClB,GAAI,CAACC,EAAE,IAAIE,EAAE,CAAC,CAAC,EAAG,MAAO,GAC3B,IAAKA,KAAKH,EAAE,QAAQ,EAClB,GAAI,CAACD,EAAMI,EAAE,CAAC,EAAGF,EAAE,IAAIE,EAAE,CAAC,CAAC,CAAC,EAAG,MAAO,GACxC,MAAO,EACT,CAEA,GAAKH,aAAa,KAASC,aAAa,IAAM,CAC5C,GAAID,EAAE,OAASC,EAAE,KAAM,MAAO,GAC9B,IAAKE,KAAKH,EAAE,QAAQ,EAClB,GAAI,CAACC,EAAE,IAAIE,EAAE,CAAC,CAAC,EAAG,MAAO,GAC3B,MAAO,EACT,CAEA,GAAI,YAAY,OAAOH,CAAC,GAAK,YAAY,OAAOC,CAAC,EAAG,CAElD,GADAC,EAASF,EAAE,OACPE,GAAUD,EAAE,OAAQ,MAAO,GAC/B,IAAKE,EAAID,EAAQC,MAAQ,GACvB,GAAIH,EAAEG,CAAC,IAAMF,EAAEE,CAAC,EAAG,MAAO,GAC5B,MAAO,EACT,CAGA,GAAIH,EAAE,cAAgB,OAAQ,OAAOA,EAAE,SAAWC,EAAE,QAAUD,EAAE,QAAUC,EAAE,MAC5E,GAAID,EAAE,UAAY,OAAO,UAAU,QAAS,OAAOA,EAAE,QAAQ,IAAMC,EAAE,QAAQ,EAC7E,GAAID,EAAE,WAAa,OAAO,UAAU,SAAU,OAAOA,EAAE,SAAS,IAAMC,EAAE,SAAS,EAIjF,GAFAG,EAAO,OAAO,KAAKJ,CAAC,EACpBE,EAASE,EAAK,OACVF,IAAW,OAAO,KAAKD,CAAC,EAAE,OAAQ,MAAO,GAE7C,IAAKE,EAAID,EAAQC,MAAQ,GACvB,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKF,EAAGG,EAAKD,CAAC,CAAC,EAAG,MAAO,GAEhE,IAAKA,EAAID,EAAQC,MAAQ,GAAI,CAC3B,IAAIE,EAAMD,EAAKD,CAAC,EAEhB,GAAI,CAACJ,EAAMC,EAAEK,CAAG,EAAGJ,EAAEI,CAAG,CAAC,EAAG,MAAO,EACrC,CAEA,MAAO,EACT,CAGA,OAAOL,IAAIA,GAAKC,IAAIA,CACtB,ICvEA,IAAAK,GAAAC,GAAA,CAAAC,IAAAC,KAAA,cAEA,IAAIC,GAAoB,SAA2BC,EAAO,CACzD,OAAOC,GAAgBD,CAAK,GACxB,CAACE,GAAUF,CAAK,CACrB,EAEA,SAASC,GAAgBD,EAAO,CAC/B,MAAO,CAAC,CAACA,GAAS,OAAOA,GAAU,QACpC,CAEA,SAASE,GAAUF,EAAO,CACzB,IAAIG,EAAc,OAAO,UAAU,SAAS,KAAKH,CAAK,EAEtD,OAAOG,IAAgB,mBACnBA,IAAgB,iBAChBC,GAAeJ,CAAK,CACzB,CAGA,IAAIK,GAAe,OAAO,QAAW,YAAc,OAAO,IACtDC,GAAqBD,GAAe,OAAO,IAAI,eAAe,EAAI,MAEtE,SAASD,GAAeJ,EAAO,CAC9B,OAAOA,EAAM,WAAaM,EAC3B,CAEA,SAASC,GAAYC,EAAK,CACzB,OAAO,MAAM,QAAQA,CAAG,EAAI,CAAC,EAAI,CAAC,CACnC,CAEA,SAASC,GAA8BT,EAAOU,EAAS,CACtD,OAAQA,EAAQ,QAAU,IAASA,EAAQ,kBAAkBV,CAAK,EAC/DW,GAAUJ,GAAYP,CAAK,EAAGA,EAAOU,CAAO,EAC5CV,CACJ,CAEA,SAASY,GAAkBC,EAAQC,EAAQJ,EAAS,CACnD,OAAOG,EAAO,OAAOC,CAAM,EAAE,IAAI,SAASC,EAAS,CAClD,OAAON,GAA8BM,EAASL,CAAO,CACtD,CAAC,CACF,CAEA,SAASM,GAAiBC,EAAKP,EAAS,CACvC,GAAI,CAACA,EAAQ,YACZ,OAAOC,GAER,IAAIO,EAAcR,EAAQ,YAAYO,CAAG,EACzC,OAAO,OAAOC,GAAgB,WAAaA,EAAcP,EAC1D,CAEA,SAASQ,GAAgCN,EAAQ,CAChD,OAAO,OAAO,sBACX,OAAO,sBAAsBA,CAAM,EAAE,OAAO,SAASO,EAAQ,CAC9D,OAAO,OAAO,qBAAqB,KAAKP,EAAQO,CAAM,CACvD,CAAC,EACC,CAAC,CACL,CAEA,SAASC,GAAQR,EAAQ,CACxB,OAAO,OAAO,KAAKA,CAAM,EAAE,OAAOM,GAAgCN,CAAM,CAAC,CAC1E,CAEA,SAASS,GAAmBC,EAAQC,EAAU,CAC7C,GAAI,CACH,OAAOA,KAAYD,CACpB,MAAW,CACV,MAAO,EACR,CACD,CAGA,SAASE,GAAiBZ,EAAQI,EAAK,CACtC,OAAOK,GAAmBT,EAAQI,CAAG,GACjC,EAAE,OAAO,eAAe,KAAKJ,EAAQI,CAAG,GACvC,OAAO,qBAAqB,KAAKJ,EAAQI,CAAG,EAClD,CAEA,SAASS,GAAYb,EAAQC,EAAQJ,EAAS,CAC7C,IAAIiB,EAAc,CAAC,EACnB,OAAIjB,EAAQ,kBAAkBG,CAAM,GACnCQ,GAAQR,CAAM,EAAE,QAAQ,SAASI,EAAK,CACrCU,EAAYV,CAAG,EAAIR,GAA8BI,EAAOI,CAAG,EAAGP,CAAO,CACtE,CAAC,EAEFW,GAAQP,CAAM,EAAE,QAAQ,SAASG,EAAK,CACjCQ,GAAiBZ,EAAQI,CAAG,IAI5BK,GAAmBT,EAAQI,CAAG,GAAKP,EAAQ,kBAAkBI,EAAOG,CAAG,CAAC,EAC3EU,EAAYV,CAAG,EAAID,GAAiBC,EAAKP,CAAO,EAAEG,EAAOI,CAAG,EAAGH,EAAOG,CAAG,EAAGP,CAAO,EAEnFiB,EAAYV,CAAG,EAAIR,GAA8BK,EAAOG,CAAG,EAAGP,CAAO,EAEvE,CAAC,EACMiB,CACR,CAEA,SAAShB,GAAUE,EAAQC,EAAQJ,EAAS,CAC3CA,EAAUA,GAAW,CAAC,EACtBA,EAAQ,WAAaA,EAAQ,YAAcE,GAC3CF,EAAQ,kBAAoBA,EAAQ,mBAAqBX,GAGzDW,EAAQ,8BAAgCD,GAExC,IAAImB,EAAgB,MAAM,QAAQd,CAAM,EACpCe,EAAgB,MAAM,QAAQhB,CAAM,EACpCiB,EAA4BF,IAAkBC,EAElD,OAAKC,EAEMF,EACHlB,EAAQ,WAAWG,EAAQC,EAAQJ,CAAO,EAE1CgB,GAAYb,EAAQC,EAAQJ,CAAO,EAJnCD,GAA8BK,EAAQJ,CAAO,CAMtD,CAEAC,GAAU,IAAM,SAAsBoB,EAAOrB,EAAS,CACrD,GAAI,CAAC,MAAM,QAAQqB,CAAK,EACvB,MAAM,IAAI,MAAM,mCAAmC,EAGpD,OAAOA,EAAM,OAAO,SAASC,EAAMC,EAAM,CACxC,OAAOtB,GAAUqB,EAAMC,EAAMvB,CAAO,CACrC,EAAG,CAAC,CAAC,CACN,EAEA,IAAIwB,GAAcvB,GAElBb,GAAO,QAAUoC,KCpIjB,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,OCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,OCA3B,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,CAAAA,GAAO,QAAU,OAAO,GAAG,OCA3B,IAAAC,GAAAC,GAAAC,IAAA,cAWA,IAAIC,GAAQ,KACZ,SAASC,GAAGC,EAAGC,EAAG,CAChB,OAAQD,IAAMC,IAAYD,IAAN,GAAW,EAAIA,IAAM,EAAIC,IAAQD,IAAMA,GAAKC,IAAMA,CACxE,CACA,IAAIC,GAA0B,OAAO,OAAO,IAA7B,WAAkC,OAAO,GAAKH,GAC3DI,GAAWL,GAAM,SACjBM,GAAYN,GAAM,UAClBO,GAAkBP,GAAM,gBACxBQ,GAAgBR,GAAM,cACxB,SAASS,GAAuBC,EAAWC,EAAa,CACtD,IAAIC,EAAQD,EAAY,EACtBE,EAAYR,GAAS,CAAE,KAAM,CAAE,MAAOO,EAAO,YAAaD,CAAY,CAAE,CAAC,EACzEG,EAAOD,EAAU,CAAC,EAAE,KACpBE,EAAcF,EAAU,CAAC,EAC3B,OAAAN,GACE,UAAY,CACVO,EAAK,MAAQF,EACbE,EAAK,YAAcH,EACnBK,GAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAK,CAAC,CAC5D,EACA,CAACJ,EAAWE,EAAOD,CAAW,CAChC,EACAL,GACE,UAAY,CACV,OAAAU,GAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAK,CAAC,EACnDJ,EAAU,UAAY,CAC3BM,GAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAK,CAAC,CAC5D,CAAC,CACH,EACA,CAACJ,CAAS,CACZ,EACAF,GAAcI,CAAK,EACZA,CACT,CACA,SAASI,GAAuBF,EAAM,CACpC,IAAIG,EAAoBH,EAAK,YAC7BA,EAAOA,EAAK,MACZ,GAAI,CACF,IAAII,EAAYD,EAAkB,EAClC,MAAO,CAACb,GAASU,EAAMI,CAAS,CAClC,MAAgB,CACd,MAAO,EACT,CACF,CACA,SAASC,GAAuBT,EAAWC,EAAa,CACtD,OAAOA,EAAY,CACrB,CACA,IAAIS,GACc,OAAO,OAAvB,KACgB,OAAO,OAAO,SAA9B,KACgB,OAAO,OAAO,SAAS,cAAvC,IACID,GACAV,GACNV,GAAQ,qBACKC,GAAM,uBAAjB,OAAwCA,GAAM,qBAAuBoB,KCjEvE,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,cAGEA,GAAO,QAAU,OCHnB,IAAAC,GAAAC,GAAA,CAAAC,IAAAC,KAAA,KAAIC,GAAe,CAClB,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,SACL,OAAK,SACL,OAAK,SACL,OAAK,SACL,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,aAAM,IACN,aAAM,IACN,aAAM,IACN,aAAM,IACN,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,aAAM,IACN,aAAM,IACN,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,aAAM,IACN,aAAM,IACN,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,aAAM,IACN,aAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,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G,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAEZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAEvC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAA+B,EAAG,EAAG,EAAG,EAAG,EACpD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EACZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAExB,EACA,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GACrD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAEhD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAClD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACnD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACrD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAClD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAEhC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAClD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAE5B,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CACzB,CAAE,EAEFA,EAAQ,cAAgB,IAAI,YAAa,CAExC,KAAM,KAAyB,KAC/B,KAAyB,EAAG,IAC5B,IAAK,GACN,CAAE,CACH,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWgB,EAASf,EAAQD,EAAU,CAgBrC,IAAI+B,EAAcf,EAAS,WAAY,EAAE,YACrCgB,EAAehB,EAAS,WAAY,EAAE,aACtCK,EAAkBL,EAAS,cAAe,EAC1CiB,EAAmBjB,EAAS,cAAe,EAC3CkB,EAAclB,EAAS,WAAY,EAAE,YACrCmB,EACHnB,EAAS,WAAY,EAAE,wBACpBoB,EAAUpB,EAAS,WAAY,EAC/BqB,EAASrB,EAAS,UAAW,EAC7BsB,EAAYtB,EAAS,aAAc,EAEnCuB,EAAqB,EACrBC,EAAwB,GACxBC,EAAmB,IACnBC,EAAyB,IACzBC,EAAuB,GACvBC,EAAsB,EACtBC,EAAuB,EAEvBC,EAAqB,EACrBC,EAAqB,IAGrBC,EAAyB,KAEzBC,EAAoB,GACpBC,EAAuB,IAAI,WAAY,CAC1C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAClD,GAAI,EACL,CAAE,EAEEC,EAA2B,GAC3BC,EAAgC,IAAI,WAAY,CACnD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAC9C,CAAE,EAEEC,EAAgC,IAAI,UAAW,CAClD,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,CACpD,CAAE,EAEEC,EAAuB,IAAI,YAAa,CAC3C,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAClD,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KACnD,IACD,CAAE,EAEF,SAASC,EAAkBC,GAAK,CAC/B,IAAIjD,EACJ,OAAKiD,GAAG,SAAU,CAAE,IAAM,EAClB,IAGRjD,EAAIiD,GAAG,SAAU,CAAE,EACdjD,EAAI,EACD,GAAKA,GAGbA,EAAIiD,GAAG,SAAU,CAAE,EACdjD,EAAI,EACD,EAAIA,EAGL,IACR,CAGA,SAASkD,EAAmBD,GAAK,CAChC,GAAKA,GAAG,SAAU,CAAE,EAAI,CACvB,IAAIE,EAAQF,GAAG,SAAU,CAAE,EAC3B,OAAKE,IAAU,EACP,EAEAF,GAAG,SAAUE,CAAM,GAAM,GAAKA,EAEvC,CACA,MAAO,EACR,CAEA,SAASC,GAAkB,CAC1B,KAAK,kBAAoB,EACzB,KAAK,UAAY,EACjB,KAAK,gBAAkB,EACvB,KAAK,YAAc,EACpB,CAEA,SAASC,EAAuBJ,GAAK,CACpC,IAAIK,EAAM,IAAIF,EACVG,GACAC,EACArD,GAGJ,GADAmD,EAAI,UAAYL,GAAG,SAAU,CAAE,EAC1BK,EAAI,WAAaL,GAAG,SAAU,CAAE,EACpC,OAAOK,EAIR,GADAC,GAAeN,GAAG,SAAU,CAAE,EAAI,EAC7BM,KAAiB,EAAI,CAGzB,GAFAD,EAAI,YAAc,GAEbL,GAAG,SAAU,CAAE,IAAM,EACzB,MAAM,IAAI,MAAO,sBAAuB,EAGzC,GADAO,EAAaP,GAAG,SAAU,CAAE,EACvBO,IAAe,EAAI,OAAOF,EAE/B,IAAMnD,GAAI,EAAGA,GAAIqD,EAAYrD,KAAM,CAClC,IAAIsD,GAAYR,GAAG,SAAU,CAAE,EAC/B,GACC9C,GAAI,IAAMqD,GACVA,EAAa,GACbC,KAAc,EAEd,MAAM,IAAI,MAAO,mBAAoB,EAEtCH,EAAI,mBAAqBG,IAAetD,GAAI,CAC7C,CACD,KACC,KAAMA,GAAI,EAAGA,GAAIoD,GAAc,EAAEpD,GAAI,CACpC,IAAIuD,GAAcT,GAAG,SAAU,CAAE,EACjC,GACC9C,GAAI,IAAMoD,IACVA,GAAe,GACfG,KAAgB,EAEhB,MAAM,IAAI,MAAO,qBAAsB,EAExCJ,EAAI,mBACHI,IAAiBvD,GAAI,CACvB,CAGD,QAAEmD,EAAI,kBAED,CAAEA,EAAI,WAAa,CAAEA,EAAI,cAC7BA,EAAI,gBAAkBL,GAAG,SAAU,CAAE,GAG/BK,CACR,CAGA,SAASK,EAAYC,GAAOC,EAAOZ,GAAK,CACvC,IAAIa,EAAcD,EAEdV,GACJ,OAAAF,GAAG,cAAc,EACjBY,GACGZ,GAAG,OAASA,GAAG,SAAaT,EAC/BW,GAAQS,GAAOC,CAAM,EAAE,KAAOtB,EACzBY,GAAQ,IACZF,GAAG,UAAYV,EACfsB,GAASD,GAAOC,CAAM,EAAE,MACxBA,GACGZ,GAAG,OAASA,GAAG,UACb,GAAKE,IAAU,GAErBF,GAAG,UAAYW,GAAOC,CAAM,EAAE,KACvBD,GAAOC,CAAM,EAAE,KACvB,CAEA,SAASE,GACRC,GACAC,EACAC,GACAjB,EACC,CAQD,QAPIkB,GAAS,EACTC,GAAgBpC,EAChBqC,GAAS,EACTC,GAAkB,EAClBC,EAAQ,MAERX,GAAQ,CAAC,EACHzD,GAAI,EAAGA,GAAI,GAAIA,KACxByD,GAAM,KAAM,IAAIjC,EAAa,EAAG,CAAE,CAAE,EAUrC,IARAC,EACCgC,GACA,EACA,EACAI,GACAtB,CACD,EAEQyB,GAASF,GAAeM,EAAQ,GAAI,CAC3C,IAAI/D,GAAI,EACJgE,GAOJ,GALAvB,EAAG,cAAc,EACjBA,EAAG,cAAc,EACjBzC,IAAOyC,EAAG,OAASA,EAAG,SAAa,GACnCA,EAAG,UAAYW,GAAOpD,EAAE,EAAE,KAC1BgE,GAAWZ,GAAOpD,EAAE,EAAE,MAAQ,IACzBgE,GAAWvC,EACfoC,GAAS,EACTH,GAAcC,IAAS,EAAIK,GACtBA,KAAa,IACjBJ,GAAgBI,GAChBD,GAAS,OAASC,QAEb,CACN,IAAIC,GAAaD,GAAW,GACxBE,GACAC,GACAC,GAAU,EAed,GAdKJ,KAAavC,IACjB2C,GAAUR,IAENE,KAAoBM,KACxBP,GAAS,EACTC,GAAkBM,IAEnBF,GAAaL,GACRA,GAAS,IACbA,IAAU,EACVA,KAAWI,IAEZJ,IAAUpB,EAAG,SAAUwB,EAAW,EAAI,EACtCE,GAAeN,GAASK,GACnBP,GAASQ,GAAeV,EAC5B,MAAM,IAAI,MACT,8DACD,EAGD,QAAUY,GAAI,EAAGA,GAAIF,GAAcE,KAClCX,GAAcC,GAASU,EAAE,EACxBP,GAEFH,IAAUQ,GAELL,KAAoB,IACxBC,GACCI,IACE,GAAKL,GAEV,CACD,CACA,GAAKC,IAAU,EACd,MAAM,IAAI,MACT,oCAAsCA,CACvC,EAGD,KAAQJ,GAASF,EAAaE,KAC7BD,GAAcC,EAAO,EAAI,CAC3B,CAEA,SAASW,GACRC,GACAC,EACApB,GACAX,EACC,CACD,IAAIgC,GAAa,EACbC,GACAhB,GAAe,IAAI,WAAYa,EAAc,EAQjD,GANA9B,EAAG,cAAc,EAKjBiC,GAAsBjC,EAAG,SAAU,CAAE,EAChCiC,KAAwB,EAAI,CAOhC,QALI/E,GACAgF,EAAmBJ,GAAgB,EACnCK,GAAW,EACXC,GAAU,IAAI,WAAY,CAAE,EAC5BpB,GAAchB,EAAG,SAAU,CAAE,EAAI,EAC7BkC,GACPA,IAAqB,EACrB,EAAEC,GAGH,IAAMjF,GAAI,EAAGA,GAAI8D,GAAa,EAAE9D,GAC/BkF,GAASlF,EAAE,EACV8C,EAAG,SAAUmC,EAAS,EAAIL,GAC3Bb,GAAcmB,GAASlF,EAAE,CAAE,EAAI,EAGhC,OADA+D,GAAcmB,GAAS,CAAE,CAAE,EAAI,EACtBpB,GAAc,CACtB,IAAK,GACJ,MACD,IAAK,GACJ,GACCoB,GAAS,CAAE,IAAMA,GAAS,CAAE,GAC5BA,GAAS,CAAE,IAAMA,GAAS,CAAE,GAC5BA,GAAS,CAAE,IAAMA,GAAS,CAAE,EAE5B,MAAM,IAAI,MACT,mCACD,EAED,MACD,IAAK,GACJ,GAAKA,GAAS,CAAE,IAAMA,GAAS,CAAE,EAChC,MAAM,IAAI,MACT,mCACD,EAGDnB,GAAcmB,GAAS,CAAE,CAAE,EAAI,EAC/B,MACD,IAAK,GACJ,GACCA,GAAS,CAAE,IAAMA,GAAS,CAAE,GAC5BA,GAAS,CAAE,IAAMA,GAAS,CAAE,GAC5BA,GAAS,CAAE,IAAMA,GAAS,CAAE,GAC5BA,GAAS,CAAE,IAAMA,GAAS,CAAE,GAC5BA,GAAS,CAAE,IAAMA,GAAS,CAAE,GAC5BA,GAAS,CAAE,IAAMA,GAAS,CAAE,EAE5B,MAAM,IAAI,MACT,mCACD,EAGIpC,EAAG,SAAU,CAAE,GACnBiB,GAAcmB,GAAS,CAAE,CAAE,EAAI,EAC/BnB,GAAcmB,GAAS,CAAE,CAAE,EAAI,GAE/BnB,GAAcmB,GAAS,CAAE,CAAE,EAAI,EAEhC,KACF,CACD,KAAO,CAEN,IAAIlF,GACA6D,GAA2B,IAAI,WAClCtB,CACD,EACI6B,GAAQ,GACRe,GAAY,EAEZC,GAAO,CACV,IAAI5D,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,EACtB,IAAIA,EAAa,EAAG,CAAE,CACvB,EACA,IACCxB,GAAI+E,GACJ/E,GAAIuC,GAAqB6B,GAAQ,EACjC,EAAEpE,GACD,CACD,IAAIqF,GAAe7C,EAAsBxC,EAAE,EACvCK,GAAI,EACJiF,GACJxC,EAAG,cAAc,EACjBzC,IAAOyC,EAAG,OAASA,EAAG,SAAa,GACnCA,EAAG,UAAYsC,GAAM/E,EAAE,EAAE,KACzBiF,GAAIF,GAAM/E,EAAE,EAAE,MACdwD,GAA0BwB,EAAa,EAAIC,GACtCA,KAAM,IACVlB,IAAS,IAAMkB,GACf,EAAEH,GAEJ,CAEA,GAAK,EAAIA,KAAc,GAAKf,KAAU,GACrC,MAAM,IAAI,MACT,8CACD,EAEDR,GACCC,GACAe,GACAb,GACAjB,CACD,CACD,CAUA,GARAgC,GAAarD,EACZoD,EACApB,GACArB,EACA2B,GACAa,EACD,EAEKE,KAAe,EACnB,MAAM,IAAI,MACT,8CACD,EAGD,OAAOA,EACR,CAEA,SAASS,EAAiB9B,GAAOC,EAAOZ,GAAK,CAC5C,IAAI0C,EACAxC,GACJ,OAAAwC,EAAOhC,EAAYC,GAAOC,EAAOZ,EAAG,EACpCE,GAAQrB,EAAO,uBAAwB6D,CAAK,EAAE,MAE7C7D,EAAO,uBAAwB6D,CAAK,EAAE,OACtC1C,GAAG,SAAUE,EAAM,CAErB,CAEA,SAASyC,EAAqBD,GAAME,EAAYhC,GAAQ,CACvD,IAAI1C,EACJ,OAAKwE,GAAO/C,GACXiB,IAAShB,EAA+B8C,EAAK,EAC7C9B,IAAS,EACT1C,EACC0E,EAAYhC,EAAM,EAClBf,EAA+B6C,EAAK,GAErCxE,EAAMwE,GAAO/C,EAA2B,EAElCzB,CACR,CAEA,SAAS2E,GAAaL,GAAG5B,EAAQ,CAGhC,QAFIkC,GAAQN,GAAG5B,CAAM,EACjB1D,EAAI0D,EACA1D,EAAG,EAAEA,EAAIsF,GAAGtF,CAAE,EAAIsF,GAAGtF,EAAI,CAAE,EACnCsF,GAAG,CAAE,EAAIM,EACV,CAEA,SAASC,GAA6BP,GAAGQ,EAAQ,CAChD,IAAIC,GAAM,IAAI,WAAY,GAAI,EAC1B/F,EACJ,IAAMA,EAAI,EAAGA,EAAI,IAAK,EAAEA,EACvB+F,GAAK/F,CAAE,EAAIA,EAEZ,IAAMA,EAAI,EAAGA,EAAI8F,EAAO,EAAE9F,EAAI,CAC7B,IAAI0D,GAAQ4B,GAAGtF,CAAE,EACjBsF,GAAGtF,CAAE,EAAI+F,GAAKrC,EAAM,EACfA,IAAQiC,GAAaI,GAAKrC,EAAM,CACtC,CACD,CAGA,SAASsC,GAAkBpB,GAAeqB,EAAa,CACtD,KAAK,cAAgBrB,GACrB,KAAK,WAAaqB,EAClB,KAAK,MAAQ,IAAI,MAChBA,EACCA,EACCrD,EACGgC,GAAgB,KAAS,CAC5B,CACH,EACA,KAAK,OAAS,IAAI,YAAaqB,CAAW,CAC3C,CAEAD,GAAiB,UAAU,OAAS,SAAWlD,GAAK,CACnD,IAAI9C,EACA8E,GACAoB,EAAO,EACX,IAAMlG,EAAI,EAAGA,EAAI,KAAK,WAAY,EAAEA,EACnC,KAAK,OAAQA,CAAE,EAAIkG,EACnBpB,GAAaH,GACZ,KAAK,cACL,KAAK,MACLuB,EACApD,EACD,EACAoD,GAAQpB,EAEV,EAEA,SAASqB,GAAkBC,GAAkBtD,EAAK,CACjD,IAAIK,GAAM,CAAE,WAAY,KAAM,YAAa,IAAK,EAC5CkD,EACAC,GAAwB,EACxB7C,GACAzD,GAEJ8C,EAAG,cAAc,EACjB,IAAImD,GAAe9C,GAAI,WACtBJ,EAAmBD,CAAG,EAAI,EAEvByD,EAAgBpD,GAAI,YAAc,IAAI,WACzCiD,EACD,EACA,GAAKH,IAAc,EAClB,OAAO9C,GASR,IANAkD,EAAoBvD,EAAG,SAAU,CAAE,EAC9BuD,IACJC,GAAwBxD,EAAG,SAAU,CAAE,EAAI,GAG5CW,GAAQ,CAAC,EACHzD,GAAI,EAAGA,GAAIsC,EAAwBtC,KACxCyD,GAAOzD,EAAE,EAAI,IAAIwB,EAAa,EAAG,CAAE,EAUpC,IAPAmD,GACCsB,GAAaK,GACb7C,GACA,EACAX,CACD,EAEM9C,GAAI,EAAGA,GAAIoG,IAAqB,CACrC,IAAIZ,GAIJ,GAFA1C,EAAG,cAAc,EACjB0C,GAAOhC,EAAYC,GAAO,EAAGX,CAAG,EAC3B0C,KAAS,EACbe,EAAavG,EAAE,EAAI,EACnB,EAAEA,WACSwF,IAAQc,GAGnB,QAFIE,GACH,GAAM,GAAKhB,IAAS1C,EAAG,SAAU0C,EAAK,EAC/B,EAAEgB,IAAO,CAChB,GAAKxG,IAAKoG,GACT,MAAM,IAAI,MACT,0CACD,EAEDG,EAAavG,EAAE,EAAI,EACnB,EAAEA,EACH,MAEAuG,EAAavG,EAAE,EAAIwF,GAAOc,GAC1B,EAAEtG,EAEJ,CACA,OAAK8C,EAAG,SAAU,CAAE,GACnB+C,GACCU,EACAH,EACD,EAGMjD,EACR,CAEA,SAASsD,GACRC,GACAC,EACAC,GACAC,EACAC,GACAC,GACAjE,GACC,CACD,IAAI4C,GAAakB,GAAY,EACzBlD,EAAQkD,GACRI,GAAYxD,EACfmD,EACAC,GAAYtE,EACZQ,EACD,EACImE,GACCD,KAAc,EAClBC,GACCH,GACCpB,IAAeqB,GAASrD,CAAM,EAAI,EACnC,EACUsD,KAAc,EACzBC,GACCH,GACCpB,IACKqB,GAASrD,CAAM,EAAI,EAAM,EAC/B,EAAI,EAELuD,GAAaD,GAAY,EAErBC,IAAcP,KAClBO,IAAcP,IAEfG,EAAaD,EAAU,EAAIK,GAC3BH,GAAapB,IAAeqB,GAASrD,CAAM,EAAI,EAAI,EAClDuD,GACD,EAAEF,GAASrD,CAAM,CAClB,CAEA,SAASwD,GACRC,GACAC,EACAC,GACA3B,EACA4B,GACAxE,GACC,CACD,IAAIyE,GAAUD,GAAkB,EAC5BE,GAASH,GAAMC,GACfG,EAAS3E,GAAG,KAAOnC,EAAgB,UACnC+G,GAGJ,GACCN,EAAM,GACNtE,GAAG,UAAasE,GAAO,GAAMtE,GAAG,aAC/B,CACD,KAAQsE,KAAQ,GACftE,GAAG,cAAc,EACjB4C,EAAY8B,IAAS,EAAI1E,GAAG,SAAU,CAAE,EACnC0E,KAAWD,KACfJ,GAAO,MAAOzB,EAAY6B,EAAQ,EAClCC,GAAS,GAGX,MACD,CAEA,GAAK1E,GAAG,aAAe,GACtB,MAAM,IAAI,MACT,sDACD,EAID,KAAQA,GAAG,SAAW,IACrB4C,EAAY8B,EAAO,EAAI1E,GAAG,OAASA,GAAG,SACtCA,GAAG,UAAY,EACf,EAAE0E,GACF,EAAEJ,EAKH,GADAM,GAAW5E,GAAG,aAAeA,GAAG,UAAc,EACzC2E,EAASC,GAAS/G,EAAgB,UAAY,CAElD,QADIgH,GAAOhH,EAAgB,UAAY,EAAI8G,EACjC/C,GAAI,EAAGA,GAAIiD,GAAMjD,KAC1BgB,EAAY8B,GAAS9C,EAAE,EACtB5B,GAAG,KAAM2E,EAAS/C,EAAE,EAEtBgD,IAAUC,GACVH,IAAUG,GACVP,GAAOO,GACPF,EAAS,CACV,CAEA,QAAU/C,GAAI,EAAGA,GAAIgD,GAAQhD,KAC5BgB,EAAY8B,GAAS9C,EAAE,EAAI5B,GAAG,KAAM2E,EAAS/C,EAAE,EAOhD,GALA8C,IAAUE,GACVN,GAAOM,GAIFF,IAAUD,GAAU,CACxBJ,GAAO,MAAOzB,EAAY6B,EAAQ,EAClCC,IAAUD,GACV,QAAU7C,GAAI,EAAGA,GAAI8C,GAAQ9C,KAC5BgB,EAAYhB,EAAE,EAAIgB,EAAY6B,GAAU7C,EAAE,CAC5C,CAKA,KAAQ8C,GAASJ,GAAOG,IAAU,CAEjC,GADAG,GAASH,GAAUC,GAElB1E,GAAG,OAAO,KAAM4C,EAAY8B,GAAQE,EAAO,EAC3CA,GAEA,MAAM,IAAI,MACT,kDACD,EAEDP,GAAO,MAAOzB,EAAY6B,EAAQ,EAClCH,GAAOM,GACPF,GAAS,CACV,CAIA,GAAK1E,GAAG,OAAO,KAAM4C,EAAY8B,GAAQJ,CAAI,EAAIA,EAChD,MAAM,IAAI,MACT,kDACD,EAIDtE,GAAG,MAAM,CACV,CAIA,SAAS8E,GAAoB9E,GAAK,CACjC,IAAI+E,EAAgB/E,GAAG,SAAW,EAAM,GACpCgF,GAAWhF,GAAG,SAAU+E,EAAc/E,GAAG,QAAS,EACtD,OAAOgF,IAAY,CACpB,CAEA,SAASC,GAAwBC,GAAS,CACzC,IAAIpH,EAAQ,IAAIS,EAAa2G,EAAO,EAChClF,GAAK,IAAInC,EAAiBC,CAAM,EACpCiC,EAAkBC,EAAG,EACrB,IAAIK,EAAMD,EAAuBJ,EAAG,EACpC,OAAOK,EAAI,iBACZ,CAEA7D,EAAQ,uBAAyByI,GAEjC,SAASE,GAAwBD,GAAQE,EAAc,CACtD,IAAItH,GAAQ,IAAIS,EAAa2G,EAAO,EAE/BE,GAAe,OACnBA,EAAcH,GAAwBC,EAAO,GAG9C,IAAIG,EAAgB,IAAI,WAAYD,CAAY,EAC5Cf,GAAS,IAAI7F,EAAc6G,CAAc,EAE7C,OAAAC,GAAkBxH,GAAOuG,EAAO,EAE3BA,GAAO,IAAMA,GAAO,OAAO,SAC/BA,GAAO,OAASA,GAAO,OAAO,SAC7B,EACAA,GAAO,GACR,GAGMA,GAAO,MACf,CAEA7H,EAAQ,uBAAyB2I,GAEjC,SAASG,GAAkBxH,GAAOuG,EAAS,CAC1C,IAAInH,GACAqH,EAAM,EACNgB,GAAY,EACZC,GAAc,EACdC,GACAC,GAAe,EACfC,EACAnB,GACA5B,GACAgD,GAGAC,GAAU,CAAE,GAAI,GAAI,GAAI,CAAE,EAC1BC,GAAc,EAEdC,GAAa,EACbC,GAAa,EACbC,GAAS,CACZ,IAAI/C,GAAkB,EAAG,CAAE,EAC3B,IAAIA,GAAkB,EAAG,CAAE,EAC3B,IAAIA,GAAkB,EAAG,CAAE,CAC5B,EACIgD,GACAC,GACAnG,GAMAoG,GACH,IAAMvI,EAAgB,UAEvBmC,GAAK,IAAInC,EAAiBC,EAAM,EAGhC0H,GAAczF,EAAkBC,EAAG,EACnCyF,IAA0B,GAAKD,IAAgB,GAE/CG,EAAkB,GAAKH,GACvBhB,GAAkBmB,EAAkB,EACpC/C,GAAa,IAAI,WAChB+C,EACCS,GACA3H,EAAiB,uBACnB,EACAmH,GAAiBD,EAEjBO,GAAmB,CAAC,EACpBC,GAAkB,CAAC,EACnB,QAAUvE,GAAI,EAAGA,GAAI,EAAIpC,EAAwBoC,KAChDsE,GAAkBtE,EAAE,EAAI,IAAIlD,EAAa,EAAG,CAAE,EAC9CyH,GAAiBvE,EAAE,EAAI,IAAIlD,EAAa,EAAG,CAAE,EAG9C,KAAQ,CAAE6G,IAAY,CACrB,IAAIc,GAA2B,EAC3BC,GACAC,GAAe,CAAE,GAAK,GAAI,GAAK,GAAI,GAAK,EAAG,EAC3CpC,GAAa,CAAE,CAAE,EACjBqC,GAAkB,CAAE,EAAG,EAAG,CAAE,EAC5BC,EAAgB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,EACnCC,GAAsB,CAAE,CAAE,EAC1BC,EACAC,GACAC,GACAC,GACArD,GAAc,KACdsD,GAAgB,KAChBC,GACAC,EAAmB,KACnBC,EACAC,GAAiB,EACjBC,GAAoB,KACpBC,GAAsB,EACtBC,GAAsB,EACtBC,GAAyB,KACzBC,GAAmB,EACnBC,GAAyB,EACzBC,GAAyB,EACzBC,GACAC,GAEJ,IAAM1K,GAAI,EAAGA,GAAI,EAAG,EAAEA,GACrB+I,GAAQ/I,EAAE,EAAE,MAAQ,KACpB+I,GAAQ/I,EAAE,EAAE,OAAS,KAGtB8C,GAAG,cAAc,EAEjB,IAAI6H,GAAOzH,EAAuBJ,EAAG,EAErC,GADAqG,GAA2BwB,GAAK,kBAE/BtD,EAAM8B,GACNhC,EAAO,OAAO,OACb,CAED,IAAIyD,GAAM,IAAI,WACbvD,EAAM8B,EACP,EACAyB,GAAI,IAAKzD,EAAO,MAAO,EACvBA,EAAO,OAASyD,EACjB,CAIA,GAHAvC,GAAYsC,GAAK,UACjBvB,GAAkBuB,GAAK,gBAElBA,GAAK,YAAc,CAGvB,IAFA/C,GAAoB9E,EAAG,EAItBqG,GAA2B,EAC3B,EAAEA,GAEFrG,GAAG,cAAc,EAEjBA,GAAG,SAAU,CAAE,EAGhB,QACD,CAEA,GAAKqG,KAA6B,EAIlC,IAAKC,GAAkB,CACtBtG,GAAG,SAAaA,GAAG,SAAW,EAAM,GACpCoE,GACCC,EACAgC,GACA9B,EACA3B,GACA4B,GACAxE,EACD,EACAuE,GAAO8B,GACP,QACD,CAEA,IAAMnJ,GAAI,EAAGA,GAAI,EAAG,EAAEA,GACrBsJ,GAAiBtJ,EAAE,EAClB+C,EAAmBD,EAAG,EAAI,EACtBwG,GAAiBtJ,EAAE,GAAK,IAC5B2E,GACC2E,GAAiBtJ,EAAE,EAAI,EACvBgJ,GACAhJ,GAAIsC,EACJQ,EACD,EACA6B,GACC1C,EACAgH,GACAjJ,GAAIsC,EACJQ,EACD,EACAuG,GAAcrJ,EAAE,EAAIuF,EACnB0D,GACAjJ,GAAIsC,EACJQ,EACD,EACA0G,GAAqBxJ,EAAE,EAAI,GAmB7B,IAfA8C,GAAG,cAAc,EAEjB2G,EAAwB3G,GAAG,SAAU,CAAE,EACvC4G,GACCjH,GACEK,GAAG,SAAU,CAAE,GAAK2G,GACvBE,IACG,GAAKF,GAA0B,EAClCG,GACCF,IACE,IAAMD,GACTI,GAAgB,IAAI,WACnBP,GAAiB,CAAE,CACpB,EAEMtJ,GAAI,EAAGA,GAAIsJ,GAAiB,CAAE,EAAG,EAAEtJ,GACxC8C,GAAG,cAAc,EACjB+G,GAAe7J,EAAE,EAAI8C,GAAG,SAAU,CAAE,GAAK,EAG1C,IAAI+H,GAAM1E,GACTmD,GAAiB,CAAE,GAAKpH,EACxBY,EACD,EACAgH,GAAqBe,GAAI,WACzBtE,GAAcsE,GAAI,YAElB,IAAIC,GAAM3E,GACTmD,GAAiB,CAAE,GAAKnH,EACxBW,EACD,EAiBA,IAhBAkH,EAAkBc,GAAI,WACtBf,EAAmBe,GAAI,YAEvB/B,GAAQ,CAAE,EAAI,IAAI/C,GACjBjE,EACA+H,EACD,EACAf,GAAQ,CAAE,EAAI,IAAI/C,GACjBhE,EACAsH,GAAiB,CAAE,CACpB,EACAP,GAAQ,CAAE,EAAI,IAAI/C,GACjB4D,GACAI,CACD,EAEMhK,GAAI,EAAGA,GAAI,EAAG,EAAEA,GACrB+I,GAAQ/I,EAAE,EAAE,OAAQ8C,EAAG,EAYxB,IATAoH,GAAoB,EACpBG,GAAyB,EACzBI,GAAeZ,GAAe5C,GAAY,CAAE,CAAE,EAC9CsD,GACC7I,EAAQ,cAAe+I,EAAa,EACrCD,GACC9I,EAAQ,cAAe+I,GAAe,CAAE,EACzCC,GAAgB3B,GAAQ,CAAE,EAAE,OAAQ,CAAE,EAE9BI,GAA2B,GAAI,CACtC,IAAI4B,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GA8DJ,IA5DA3I,GAAG,cAAc,EAEZuG,GAAc,CAAE,IAAM,IAC1B5C,GACC6C,GAAiB,CAAE,EACnBN,GACA,EACA/B,GACAsC,EACAC,GACA1G,EACD,EACAuG,GAAc,CAAE,EAAI9D,EACnB0D,GACA3G,EACAQ,EACD,EACA4H,GACC3B,GAAQ,CAAE,EAAE,OAAQ9B,GAAY,CAAE,CAAE,GAEtC,EAAEoC,GAAc,CAAE,EAClB0B,GAAWvH,EACVuF,GAAQ,CAAE,EAAE,MACZ2B,GACA5H,EACD,EACAkI,GAAYD,IAAY,EACnBC,IAAa,GACjBA,IAAa,EACbK,GAAgB,IAEhBA,GAAgB,EAEjBJ,GACCtJ,EAAO,gBAAiBqJ,EAAU,GAC9BD,IAAY,EAAM,GACvBG,GACCvJ,EAAO,cAAeqJ,EAAU,GAC9BD,GAAW,GACdI,GACCxJ,EAAO,wBACNsJ,EACD,EAAE,OACFnI,GAAG,SACFnB,EAAO,wBACNsJ,EACD,EAAE,KACH,EACDG,GACCzJ,EAAO,sBAAuBuJ,EAAU,EACtC,OACFpI,GAAG,SACFnB,EAAO,sBACNuJ,EACD,EAAE,KACH,EACDrC,GACCnD,GAAc2B,EAAM,EAAMC,EAAgB,EAC3CwB,GACCpD,GAAc2B,EAAM,EAAMC,EAAgB,EACrCkE,GAAI,EAAGA,GAAIL,GAAe,EAAEK,GACjC1I,GAAG,cAAc,EAEZuG,GAAc,CAAE,IAAM,IAC1B5C,GACC6C,GAAiB,CAAE,EACnBN,GACA,EACA/B,GACAsC,EACAC,GACA1G,EACD,EACAuG,GAAc,CAAE,EAAI9D,EACnB0D,GACA,EACAnG,EACD,EACAmH,GACChD,GAAY,CAAE,GACd/E,EACDgI,GAAoBD,GACpBQ,GACCZ,GAAe5C,GAAY,CAAE,CAAE,EAChCsD,GACC7I,EAAQ,cACP+I,EACD,EACDD,GACC9I,EAAQ,cACP+I,GAAe,CAChB,GAEFc,GACC7J,EAAQ,OACP6I,GAAyB1B,EAC1B,EACAnH,EAAQ,OACP8I,GAAyB1B,EAC1B,EACDqB,GACC5D,GACC2D,GAAoBqB,EACrB,EACD,EAAElC,GAAc,CAAE,EAClBP,GAAaD,GACbA,GAAarF,EACZuF,GAAQ,CAAE,EAAE,MACZA,GAAQ,CAAE,EAAE,OACXoB,EACD,EACArH,EACD,EACA4C,GAAY2B,EAAMC,EAAgB,EACjCuB,IAEExB,EAAMC,MACRA,IAEAH,EAAO,MACNzB,GACA+C,CACD,EAED,EAAEpB,EAGH,GADA8B,IAA4BgC,GACvBhC,IAA4B,EAAI,MAErC,GAAKkC,GAAgB,EAAI,CACxB,IAAIE,GAsCJ,GApCAzI,GAAG,cAAc,EACZuG,GAAc,CAAE,IAAM,IAC1B5C,GACC6C,GAAiB,CAAE,EACnBN,GACA,EACA/B,GACAsC,EACAC,GACA1G,EACD,EACAuG,GAAc,CAAE,EAAI9D,EACnB0D,GACA,EAAI3G,EACJQ,EACD,EACAsH,GACCnD,GAAY,CAAE,GACd9E,EACDkI,GACCD,IAEF,EAAEf,GAAc,CAAE,EAClBkC,IACGH,GAAc,EACb,EACAA,GAAc,GAAM,IACxBd,GACCP,EACCM,GAAyBkB,EAC1B,EACDF,GAAgB7H,EACfuF,GAAQ,CAAE,EAAE,MACZA,GAAQ,CAAE,EAAE,OAAQuB,EAAiB,EACrCxH,EACD,EAECuI,IACA3B,GACC,CACD,IAAI1G,GACA0I,GACAC,GACJN,IACC3B,GACDgC,GACCL,GACA1B,GACD0B,KAAkB5B,EAClBzG,IAAUqI,IAAiB,GAAM,EACjCM,IACK,GAAMN,GAAgB,IACzBrI,IACD,EACDqI,GACC3B,IACIiC,GACH7I,GAAG,SAAUE,EAAM,GACnByG,GACDiC,EACF,CACD,CASA,GALAJ,GAAW7F,EACV4F,GACA1C,GACAC,EACD,EACK0C,GAAW,EACf,MAAM,IAAI,MACT,qCACD,EAcD,GAVCjE,EAAMkB,IACNC,KAAiBD,GAEjBC,GAAenB,EAEfmB,GAAeD,GAGhBkD,GAAWpE,EAAMC,GAEZgE,GAAW9C,GACf,GACC4C,IACC7J,EAAiB,yBAClB6J,IACC7J,EAAiB,wBACjB,CACD,IAAIoK,GACHpK,EAAiB,gBAChB6J,EACD,EACGQ,GACHN,GAAW9C,GAAe,EACvBqD,GACHtK,EAAiB,iBAChB6J,EACD,EACGU,IAAS,GAAKD,IAAU,EACxBE,GAAWH,GAAUE,GACrBE,GAAgBJ,IAAWC,GAE/B,GADAF,IAAUI,GAAWX,GAEpBY,GACApK,EAAU,eACT,CACD,IAAIwF,GACHxF,EAAU,wBACT8D,GACA+F,GACAE,GACAP,GACAY,EACD,EAID,GAHAP,IAAYrE,GACZC,GAAOD,GACP+B,IAA4B/B,GACvBqE,IAAY/C,GAAiB,CACjCvB,EAAO,MACNzB,GACA+C,CACD,EAEA,QACKwD,GAAK,EACTA,GACAR,GAAW/C,GACXuD,KAEAvG,GAAYuG,EAAG,EACdvG,GACCgD,GAAiBuD,EAClB,CACH,CACD,KACC,OAAM,IAAI,MACT,oCACC5E,EACA,cACAiE,GACA,SACAF,GACA,gBACAjC,EACF,CAEF,KACC,OAAM,IAAI,MACT,oCACC9B,EACA,cACAiE,GACA,SACAF,GACA,gBACAjC,EACF,MAEK,CAMN,GALKkC,GAAgB,IACpB1C,GAASC,GAAc,CAAE,EAAI0C,GAC7B,EAAE1C,IAIFwC,GAAcjC,GAEd,MAAM,IAAI,MACT,oCACC9B,EACA,cACAiE,GACA,SACAF,GACA,gBACAjC,EACF,EAGD,IAAMqC,GAAI,EAAGA,GAAIJ,GAAa,EAAEI,GAC/B9F,GAAY2B,EAAMC,EAAgB,EACjC5B,GACG2B,EAAMiE,GACPhE,EACF,GAEED,EAAMC,MACRA,IAEAH,EAAO,MACNzB,GACA+C,CACD,EAED,EAAEpB,EACF,EAAE8B,EAEJ,CAKAN,GACCnD,GAAc2B,EAAM,EAAMC,EAAgB,EAC3CwB,GACCpD,GAAc2B,EAAM,EAAMC,EAAgB,CAC5C,CAGAD,GAAO,WACR,CAEAF,EAAO,MAAOzB,GAAY2B,EAAMC,EAAgB,CACjD,CAEAhI,EAAQ,iBAAmB8I,GAE3B7G,EAAiB,KAAK,CACvB,EACA,CACC,eAAgB,EAChB,YAAa,EACb,eAAgB,EAChB,YAAa,EACb,WAAY,EACZ,YAAa,GACb,cAAe,EAChB,CACD,EACA,EAAG,CACF,SAAWjB,EAASf,EAAQD,EAAU,CACrC,IAAI4M,EAAS5L,EAAS,WAAY,EAUlChB,EAAQ,KAAO,UAAY,CAC1B,IAAI2I,EACH3H,EAAS,UAAW,EAAE,uBACnB6L,EAAaD,EAAO,YACvB5L,EAAS,qBAAsB,CAChC,EACA,OAAO2H,EAAwBkE,CAAW,CAC3C,CACD,EACA,CAAE,WAAY,EAAG,sBAAuB,EAAG,YAAa,CAAE,CAC3D,EACA,EAAG,CACF,SAAW7L,EAASf,EAAQD,EAAU,CACrCC,EAAO,QACN,04mEACF,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWe,EAASf,EAAQD,EAAU,CAkBrC,IAAI8M,EAAO9L,EAAS,sBAAuB,EAC3ChB,EAAQ,KAAO,UAAY,CAC1BA,EAAQ,WAAa8M,EAAK,KAAK,CAChC,EAEA9M,EAAQ,gBAAkB,IAAI,YAAa,CAC1C,EAAG,EAAG,EAAG,EAAG,EAAG,KAAM,KAAM,MAAO,MAAO,MAAO,MAChD,MAAO,MAAO,MAAO,MAAO,OAAQ,OAAQ,OAC5C,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MACjD,CAAE,EAEFA,EAAQ,iBAAmB,IAAI,WAAY,CAC1C,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CACzB,CAAE,EAEFA,EAAQ,wBAA0B,EAClCA,EAAQ,wBAA0B,EACnC,EACA,CAAE,uBAAwB,CAAE,CAC7B,EACA,EAAG,CACF,SAAWgB,EAASf,EAAQD,EAAU,CACrC,SAASkC,EAAa6K,EAAMzG,EAAQ,CACnC,KAAK,KACJyG,EACD,KAAK,MAAQzG,CACd,CAEAtG,EAAQ,YAAckC,EAEtB,IAAI8K,EAAa,GAIjB,SAASC,EAAYC,EAAKpF,EAAM,CAE/B,QADIqF,EAAO,GAAOrF,EAAM,EAChBoF,EAAMC,GACbA,IAAS,EAEV,OAASD,EAAQC,EAAO,GAAQA,CACjC,CAIA,SAASC,EAAgBjJ,EAAOzD,EAAGyM,EAAME,EAAKnH,EAAO,CACpD,GACCmH,GAAOF,EACPhJ,EAAOzD,EAAI2M,CAAI,EAAI,IAAInL,EACtBgE,EAAK,KACLA,EAAK,KACN,QACSmH,EAAM,EACjB,CAKA,SAASC,EAAkBC,EAAOzF,EAAK0F,EAAY,CAElD,QADIC,EAAO,GAAO3F,EAAM0F,EAChB1F,EAAMkF,IACbS,GAAQF,EAAOzF,CAAI,EACd,EAAA2F,GAAQ,KACb,EAAE3F,EACF2F,IAAS,EAEV,OAAO3F,EAAM0F,CACd,CAEAxN,EAAQ,wBAA0B,SACjC0N,EACAvJ,EACAqJ,EACA/I,EACAkJ,EACC,CACD,IAAIC,EAAczJ,EACd+B,EACA4B,EACApD,EACAwI,EACAC,EACAU,EACArB,EACAsB,EACAtI,EACAuI,EACAC,EACAT,EAAQ,IAAI,WACfP,EAAa,CACd,EACIX,EAAS,IAAI,WAChBW,EAAa,CACd,EAKA,IAHAgB,EAAS,IAAI,WAAYL,CAAkB,EAI1CjJ,EAAS,EACTA,EAASiJ,EACTjJ,IAEA6I,EAAO9I,EAAcC,CAAO,CAAE,IAK/B,IADA2H,EAAQ,CAAE,EAAI,EACRvE,EAAM,EAAGA,EAAMkF,EAAYlF,IAChCuE,EAAQvE,EAAM,CAAE,EAAIuE,EAAQvE,CAAI,EAAIyF,EAAOzF,CAAI,EAIhD,IACCpD,EAAS,EACTA,EAASiJ,EACTjJ,IAEKD,EAAcC,CAAO,IAAM,IAC/BsJ,EAAQ3B,EAAQ5H,EAAcC,CAAO,CAAE,GAAI,EAC1CA,GASH,GALAoJ,EAAaN,EACbhI,EAAa,GAAKsI,EAClBC,EAAavI,EAGR6G,EAAQW,CAAW,IAAM,EAAI,CACjC,IAAME,EAAM,EAAGA,EAAMa,EAAY,EAAEb,EAClCQ,EAAYvJ,EAAQ+I,CAAI,EAAI,IAAIhL,EAC/B,EACA8L,EAAQ,CAAE,EAAI,KACf,EAGD,OAAOD,CACR,CAKA,IAFAb,EAAM,EACNxI,EAAS,EAERoD,EAAM,EAAGqF,EAAO,EAChBrF,GAAO0F,EACP,EAAE1F,EAAKqF,IAAS,EAEhB,KAAQI,EAAOzF,CAAI,EAAI,EAAG,EAAEyF,EAAOzF,CAAI,EACtC5B,EAAO,IAAIhE,EACV4F,EAAM,IACNkG,EAAQtJ,GAAS,EAAI,KACtB,EACA0I,EACCM,EACAvJ,EAAQ+I,EACRC,EACA3H,EACAU,CACD,EACAgH,EAAMD,EAAYC,EAAKpF,CAAI,EAO7B,IAFA0E,EAAOuB,EAAa,EACpBF,EAAM,GAEL/F,EAAM0F,EAAY,EAAGL,EAAO,EAC5BrF,GAAOkF,EACP,EAAElF,EAAKqF,IAAS,EAEhB,KAAQI,EAAOzF,CAAI,EAAI,EAAG,EAAEyF,EAAOzF,CAAI,GAC/BoF,EAAMV,KAAWqB,IACvB1J,GAASqB,EACTsI,EAAaR,EACZC,EACAzF,EACA0F,CACD,EACAhI,EAAa,GAAKsI,EAClBC,GAAcvI,EACdqI,EAAMX,EAAMV,EACZkB,EAAYE,EAAcC,CAAI,EAC7B,IAAI3L,EACD4L,EAAaN,EAAc,IAC3BrJ,EAAQyJ,EAAcC,EACvB,KACF,GAEF3H,EAAO,IAAIhE,EACR4F,EAAM0F,EAAc,IACtBQ,EAAQtJ,GAAS,EAAI,KACtB,EACA0I,EACCM,EACAvJ,GAAU+I,GAAOM,GACjBL,EACA3H,EACAU,CACD,EACAgH,EAAMD,EAAYC,EAAKpF,CAAI,EAI7B,OAAOiG,CACR,CACD,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAW/M,EAASf,EAAQD,EAAU,CACrC,aAEAA,EAAQ,WAAaiO,EACrBjO,EAAQ,YAAckO,EACtBlO,EAAQ,cAAgBmO,EASxB,QAPIC,EAAS,CAAC,EACVC,EAAY,CAAC,EACbC,EACH,OAAO,WAAe,IAAc,WAAa,MAE9CpI,EACH,mEACSxF,EAAI,EAAGoH,EAAM5B,EAAK,OAAQxF,EAAIoH,EAAK,EAAEpH,EAC9C0N,EAAQ1N,CAAE,EAAIwF,EAAMxF,CAAE,EACtB2N,EAAWnI,EAAK,WAAYxF,CAAE,CAAE,EAAIA,EAKrC2N,EAAW,EAAoB,EAAI,GACnCA,EAAW,EAAoB,EAAI,GAEnC,SAASE,EAASC,EAAM,CACvB,IAAI1G,EAAM0G,EAAI,OAEd,GAAK1G,EAAM,EAAI,EACd,MAAM,IAAI,MACT,gDACD,EAKD,IAAI2G,EAAWD,EAAI,QAAS,GAAI,EAC3BC,IAAa,KAAKA,EAAW3G,GAElC,IAAI4G,EACHD,IAAa3G,EAAM,EAAI,EAAM2G,EAAW,EAEzC,MAAO,CAAEA,EAAUC,CAAgB,CACpC,CAGA,SAAST,EAAYO,EAAM,CAC1B,IAAIG,EAAOJ,EAASC,CAAI,EACpBC,EAAWE,EAAM,CAAE,EACnBD,EAAkBC,EAAM,CAAE,EAC9B,OACKF,EAAWC,GAAoB,EAAM,EACzCA,CAEF,CAEA,SAASE,EAAaJ,EAAKC,EAAUC,EAAkB,CACtD,OACKD,EAAWC,GAAoB,EAAM,EACzCA,CAEF,CAEA,SAASR,EAAaM,EAAM,CAe3B,QAdIlD,EACAqD,EAAOJ,EAASC,CAAI,EACpBC,EAAWE,EAAM,CAAE,EACnBD,EAAkBC,EAAM,CAAE,EAE1BE,EAAM,IAAIP,EACbM,EAAaJ,EAAKC,EAAUC,CAAgB,CAC7C,EAEII,EAAU,EAGVhH,EAAM4G,EAAkB,EAAID,EAAW,EAAIA,EAErC/N,EAAI,EAAGA,EAAIoH,EAAKpH,GAAK,EAC9B4K,EACG+C,EAAWG,EAAI,WAAY9N,CAAE,CAAE,GAAK,GACpC2N,EAAWG,EAAI,WAAY9N,EAAI,CAAE,CAAE,GAAK,GACxC2N,EAAWG,EAAI,WAAY9N,EAAI,CAAE,CAAE,GAAK,EAC1C2N,EAAWG,EAAI,WAAY9N,EAAI,CAAE,CAAE,EACpCmO,EAAKC,GAAU,EAAMxD,GAAO,GAAO,IACnCuD,EAAKC,GAAU,EAAMxD,GAAO,EAAM,IAClCuD,EAAKC,GAAU,EAAIxD,EAAM,IAG1B,OAAKoD,IAAoB,IACxBpD,EACG+C,EAAWG,EAAI,WAAY9N,CAAE,CAAE,GAAK,EACpC2N,EAAWG,EAAI,WAAY9N,EAAI,CAAE,CAAE,GAAK,EAC3CmO,EAAKC,GAAU,EAAIxD,EAAM,KAGrBoD,IAAoB,IACxBpD,EACG+C,EAAWG,EAAI,WAAY9N,CAAE,CAAE,GAAK,GACpC2N,EAAWG,EAAI,WAAY9N,EAAI,CAAE,CAAE,GAAK,EACxC2N,EAAWG,EAAI,WAAY9N,EAAI,CAAE,CAAE,GAAK,EAC3CmO,EAAKC,GAAU,EAAMxD,GAAO,EAAM,IAClCuD,EAAKC,GAAU,EAAIxD,EAAM,KAGnBuD,CACR,CAEA,SAASE,EAAiBC,EAAM,CAC/B,OACCZ,EAAUY,GAAO,GAAO,EAAK,EAC7BZ,EAAUY,GAAO,GAAO,EAAK,EAC7BZ,EAAUY,GAAO,EAAM,EAAK,EAC5BZ,EAAQY,EAAM,EAAK,CAErB,CAEA,SAASC,EAAaC,EAAOC,EAAO9B,EAAM,CAGzC,QAFI/B,EACAzD,EAAS,CAAC,EACJnH,EAAIyO,EAAOzO,EAAI2M,EAAK3M,GAAK,EAClC4K,GACK4D,EAAOxO,CAAE,GAAK,GAAO,WACrBwO,EAAOxO,EAAI,CAAE,GAAK,EAAM,QAC1BwO,EAAOxO,EAAI,CAAE,EAAI,KACpBmH,EAAO,KAAMkH,EAAiBzD,CAAI,CAAE,EAErC,OAAOzD,EAAO,KAAM,EAAG,CACxB,CAEA,SAASsG,EAAee,EAAQ,CAQ/B,QAPI5D,EACAxD,EAAMoH,EAAM,OACZE,EAAatH,EAAM,EACnBuH,EAAQ,CAAC,EACTC,EAAiB,MAIhB5O,EAAI,EAAG6O,EAAOzH,EAAMsH,EACxB1O,EAAI6O,EACJ7O,GAAK4O,EAELD,EAAM,KACLJ,EACCC,EACAxO,EACAA,EAAI4O,EAAiBC,EAClBA,EACA7O,EAAI4O,CACR,CACD,EAID,OAAKF,IAAe,GACnB9D,EAAM4D,EAAOpH,EAAM,CAAE,EACrBuH,EAAM,KACLjB,EAAQ9C,GAAO,CAAE,EAChB8C,EAAU9C,GAAO,EAAM,EAAK,EAC5B,IACF,GACW8D,IAAe,IAC1B9D,GAAQ4D,EAAOpH,EAAM,CAAE,GAAK,GAAMoH,EAAOpH,EAAM,CAAE,EACjDuH,EAAM,KACLjB,EAAQ9C,GAAO,EAAG,EACjB8C,EAAU9C,GAAO,EAAM,EAAK,EAC5B8C,EAAU9C,GAAO,EAAM,EAAK,EAC5B,GACF,GAGM+D,EAAM,KAAM,EAAG,CACvB,CACD,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWrO,EAASf,EAAQD,EAAU,CAqBrC,SAASwP,EAAiBnD,EAAQ3I,EAAQ,CACzC,KAAK,OAAS2I,EACd,KAAK,MAAQ3I,CACd,CAEA1D,EAAQ,uBAAyB,CAChC,IAAIwP,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,MAAO,EAAG,CAChC,EAEAxP,EAAQ,wBAA0B,CACjC,IAAIwP,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,MAAO,EAAG,CAChC,EAEAxP,EAAQ,sBAAwB,CAC/B,IAAIwP,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,EAAG,CAAE,EAC1B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,GAAI,CAAE,EAC3B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,IAAK,CAAE,EAC5B,IAAIA,EAAiB,KAAM,EAAG,EAC9B,IAAIA,EAAiB,KAAM,EAAG,CAC/B,EAEAxP,EAAQ,gBAAkB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAEzDA,EAAQ,cAAgB,CAAE,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,CACxD,EACA,CAAC,CACF,EACA,GAAI,CACH,SAAWgB,EAASf,EAAQD,EAAU,CACrC,SAAS+B,EAAa2G,EAAS,CAC9B,KAAK,OAASA,EACd,KAAK,IAAM,CACZ,CAEA3G,EAAY,UAAU,KAAO,SAAW0N,EAAK/O,EAAG6M,EAAQ,CAClD,KAAK,IAAMA,EAAQ,KAAK,OAAO,SACnCA,EAAQ,KAAK,OAAO,OAAS,KAAK,KAGnC,QAAUxM,EAAI,EAAGA,EAAIwM,EAAOxM,IAC3B0O,EAAK/O,EAAIK,CAAE,EAAI,KAAK,OAAQ,KAAK,IAAMA,CAAE,EAE1C,YAAK,KAAOwM,EACLA,CACR,EAEAvN,EAAQ,YAAc+B,EAEtB,SAASC,EAAcyN,EAAM,CAC5B,KAAK,OAASA,EACd,KAAK,IAAM,CACZ,CAEAzN,EAAa,UAAU,MAAQ,SAAWyN,EAAKlC,EAAQ,CACtD,GAAK,KAAK,IAAMA,EAAQ,KAAK,OAAO,OACnC,MAAM,IAAI,MACT,mCACD,EAED,YAAK,OAAO,IAAKkC,EAAI,SAAU,EAAGlC,CAAM,EAAG,KAAK,GAAI,EACpD,KAAK,KAAOA,EACLA,CACR,EAEAvN,EAAQ,aAAegC,CACxB,EACA,CAAC,CACF,EACA,GAAI,CACH,SAAWhB,EAASf,EAAQD,EAAU,CAkBrC,IAAIiC,EAAmBjB,EAAS,cAAe,EAE3C0O,EAAY,EACZC,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAkB,GAClBC,EAAgB,GAChBC,EAAc,GACdC,EAAc,GACdC,EAAc,GACdC,EAAc,GACdC,EAAc,GACdC,EAAc,GACdC,EAAc,GACdC,EAAc,GACdC,EAAc,GAElB,SAASxO,EAAWyO,EAAQC,EAAWC,EAAS,CAC/C,KAAK,OAAS,IAAI,WAAYF,EAAO,MAAO,EAC5C,KAAK,UAAYC,EACjB,KAAK,OAAS,IAAI,WAAYC,EAAO,MAAO,EAE5C,QAAUvQ,EAAI,EAAGA,EAAIqQ,EAAO,OAAQrQ,IACnC,KAAK,OAAQA,CAAE,EAAIqQ,EAAO,WAAYrQ,CAAE,EAEzC,QAAUA,EAAI,EAAGA,EAAIuQ,EAAO,OAAQvQ,IACnC,KAAK,OAAQA,CAAE,EAAIuQ,EAAO,WAAYvQ,CAAE,CAC1C,CAEA,IAAIwQ,EAAc,CACjB,IAAI5O,EAAW,GAAIoN,EAAW,EAAG,EACjC,IAAIpN,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,IAAKoN,EAAW,GAAI,EACnC,IAAIpN,EAAW,GAAIgO,EAAa,EAAG,EACnC,IAAIhO,EAAW,GAAI8N,EAAiB,GAAI,EACxC,IAAI9N,EAAW,GAAIoN,EAAW,OAAQ,EACtC,IAAIpN,EAAW,IAAKoN,EAAW,EAAG,EAClC,IAAIpN,EAAW,KAAMoN,EAAW,GAAI,EACpC,IAAIpN,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAI8N,EAAiB,EAAG,EACvC,IAAI9N,EAAW,GAAIoN,EAAW,OAAQ,EACtC,IAAIpN,EAAW,GAAIiO,EAAa,EAAG,EACnC,IAAIjO,EAAW,GAAIqN,EAAY,EAAG,EAClC,IAAIrN,EAAW,KAAMoN,EAAW,GAAI,EACpC,IAAIpN,EAAW,GAAIoN,EAAW,IAAK,EACnC,IAAIpN,EAAW,IAAK8N,EAAiB,GAAI,EACzC,IAAI9N,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,KAAMoN,EAAW,GAAI,EACpC,IAAIpN,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,GAAIoN,EAAW,IAAK,EACnC,IAAIpN,EAAW,GAAIoN,EAAW;CAAK,EACnC,IAAIpN,EAAW,GAAIuN,EAAY,EAAG,EAClC,IAAIvN,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,GAAIoN,EAAW,OAAQ,EACtC,IAAIpN,EAAW,GAAIkO,EAAa,EAAG,EACnC,IAAIlO,EAAW,GAAIsN,EAAY,EAAG,EAClC,IAAItN,EAAW,GAAIoN,EAAW,KAAM,EACpC,IAAIpN,EAAW,GAAIoN,EAAW,QAAS,EACvC,IAAIpN,EAAW,IAAK8N,EAAiB,EAAG,EACxC,IAAI9N,EAAW,GAAIoN,EAAW,IAAK,EACnC,IAAIpN,EAAW,IAAKoN,EAAW,EAAG,EAClC,IAAIpN,EAAW,IAAKoN,EAAW,IAAK,EACpC,IAAIpN,EAAW,GAAImO,EAAa,EAAG,EACnC,IAAInO,EAAW,GAAIoN,EAAW,QAAS,EACvC,IAAIpN,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,GAAIoN,EAAW,QAAS,EACvC,IAAIpN,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAIoO,EAAa,EAAG,EACnC,IAAIpO,EAAW,GAAIqO,EAAa,EAAG,EACnC,IAAIrO,EAAW,QAASoN,EAAW,EAAG,EACtC,IAAIpN,EAAW,GAAIwN,EAAY,EAAG,EAClC,IAAIxN,EAAW,GAAIoN,EAAW,QAAS,EACvC,IAAIpN,EAAW,GAAI+N,EAAe,EAAG,EACrC,IAAI/N,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAI2N,EAAY,EAAG,EAClC,IAAI3N,EAAW,GAAIqN,EAAY,MAAO,EACtC,IAAIrN,EAAW,GAAIoN,EAAW;EAAO,EACrC,IAAIpN,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,IAAKoN,EAAW,IAAK,EACpC,IAAIpN,EAAW,GAAIoN,EAAW,KAAM,EACpC,IAAIpN,EAAW,GAAIwO,EAAa,EAAG,EACnC,IAAIxO,EAAW,GAAIsO,EAAa,EAAG,EACnC,IAAItO,EAAW,GAAI0N,EAAY,EAAG,EAClC,IAAI1N,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,GAAI8N,EAAiB,IAAK,EACzC,IAAI9N,EAAW,GAAI4N,EAAY,EAAG,EAClC,IAAI5N,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAIoN,EAAW,KAAM,EACpC,IAAIpN,EAAW,QAASoN,EAAW,MAAO,EAC1C,IAAIpN,EAAW,GAAIyN,EAAY,EAAG,EAClC,IAAIzN,EAAW,GAAI6N,EAAY,EAAG,EAClC,IAAI7N,EAAW,IAAK8N,EAAiB,IAAK,EAC1C,IAAI9N,EAAW,GAAI8N,EAAiB,GAAI,EACxC,IAAI9N,EAAW,IAAKoN,EAAW,GAAI,EACnC,IAAIpN,EAAW,GAAI+N,EAAe,GAAI,EACtC,IAAI/N,EAAW,GAAI8N,EAAiB,IAAK,EACzC,IAAI9N,EAAW,GAAIoN,EAAW,IAAK,EACnC,IAAIpN,EAAW,IAAKoN,EAAW,GAAI,EACnC,IAAIpN,EAAW,QAASoN,EAAW,EAAG,EACtC,IAAIpN,EAAW,QAASoN,EAAW,UAAW,EAC9C,IAAIpN,EAAW,GAAI8N,EAAiB,GAAI,EACxC,IAAI9N,EAAW,GAAIoN,EAAW,SAAU,EACxC,IAAIpN,EAAW,GAAIoN,EAAW,GAAI,EAClC,IAAIpN,EAAW,IAAKoN,EAAW,GAAI,EACnC,IAAIpN,EAAW,GAAI8N,EAAiB,GAAI,EACxC,IAAI9N,EAAW,GAAI8N,EAAiB,GAAI,EACxC,IAAI9N,EAAW,GAAIoN,EAAW,OAAQ,EACtC,IAAIpN,EAAW,IAAKoN,EAAW,IAAK,EACpC,IAAIpN,EAAW,GAAIoN,EAAW,KAAM,EACpC,IAAIpN,EAAW,IAAK+N,EAAe,GAAI,EACvC,IAAI/N,EAAW,GAAIoN,EAAW,KAAM,EACpC,IAAIpN,EAAW,IAAK+N,EAAe,EAAG,EACtC,IAAI/N,EAAW,GAAIoN,EAAW,IAAK,EACnC,IAAIpN,EAAW,GAAI+N,EAAe,GAAI,EACtC,IAAI/N,EAAW,GAAI8N,EAAiB,IAAK,EACzC,IAAI9N,EAAW,IAAKoN,EAAW,GAAI,EACnC,IAAIpN,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,IAAK8N,EAAiB,IAAK,EAC1C,IAAI9N,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAIoN,EAAW,OAAQ,EACtC,IAAIpN,EAAW,GAAI+N,EAAe,GAAI,EACtC,IAAI/N,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,IAAK8N,EAAiB,GAAI,EACzC,IAAI9N,EAAW,GAAI+N,EAAe,IAAK,EACvC,IAAI/N,EAAW,IAAKoN,EAAW,IAAK,EACpC,IAAIpN,EAAW,GAAI8N,EAAiB,GAAI,EACxC,IAAI9N,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAI+N,EAAe,GAAI,EACtC,IAAI/N,EAAW,WAAYoN,EAAW,EAAG,EACzC,IAAIpN,EAAW,IAAKoN,EAAW,GAAI,EACnC,IAAIpN,EAAW,GAAI8N,EAAiB,IAAK,EACzC,IAAI9N,EAAW,GAAI+N,EAAe,IAAK,EACvC,IAAI/N,EAAW,GAAIoN,EAAW,MAAO,EACrC,IAAIpN,EAAW,GAAI+N,EAAe,IAAK,EACvC,IAAI/N,EAAW,GAAI8N,EAAiB,IAAK,EACzC,IAAI9N,EAAW,IAAK8N,EAAiB,GAAI,EACzC,IAAI9N,EAAW,IAAK+N,EAAe,IAAK,EACxC,IAAI/N,EAAW,IAAK+N,EAAe,IAAK,EACxC,IAAI/N,EAAW,GAAI+N,EAAe,GAAI,EACtC,IAAI/N,EAAW,GAAI+N,EAAe,GAAI,EACtC,IAAI/N,EAAW,GAAI+N,EAAe,IAAK,EACvC,IAAI/N,EAAW,IAAK+N,EAAe,GAAI,EACvC,IAAI/N,EAAW,GAAI+N,EAAe,IAAK,EACvC,IAAI/N,EAAW,IAAK+N,EAAe,IAAK,EACxC,IAAI/N,EAAW,IAAK8N,EAAiB,IAAK,EAC1C,IAAI9N,EAAW,IAAK+N,EAAe,IAAK,EACxC,IAAI/N,EAAW,IAAK8N,EAAiB,IAAK,CAC3C,EAEApQ,EAAQ,YAAckR,EACtBlR,EAAQ,eAAiBkR,EAAY,OAErC,SAASC,EAAapQ,EAAGL,EAAI,CAC5B,OAAKK,EAAGL,CAAE,EAAI,KACRK,EAAGL,CAAE,GAAK,IAAMK,EAAGL,CAAE,GAAK,MAC9BK,EAAGL,CAAE,GAAK,IAEJ,GAIHK,EAAGL,CAAE,EAAI,KACbK,EAAGL,EAAI,CAAE,GAAK,GACP,IAIRK,EAAGL,EAAI,CAAE,GAAK,EACP,EACR,CAEAV,EAAQ,wBAA0B,SACjCuB,EACA6P,EACAC,EACAvJ,EACAkJ,EACC,CACD,IAAID,GAASG,EAAaF,CAAU,EAAE,OAClCC,GAASC,EAAaF,CAAU,EAAE,OAClCxQ,EAAI0Q,EAAaF,CAAU,EAAE,UAC7BM,EACH9Q,EAAI8P,EAAc,EAAI9P,GAAM8P,EAAc,GACvC5P,GAAI,EACJ6Q,GAAYH,EACZI,GAECF,EAAOxJ,IACXwJ,EAAOxJ,GAIR,QADI2J,GAAa,EACTA,GAAaV,GAAO,QAC3BxP,EAAK6P,GAAM,EAAIL,GAAQU,IAAa,EAUrC,IAPAJ,GAAQC,EACRxJ,GAAOwJ,EAEF9Q,GAAK2P,IACTrI,GAAOtH,GAGFE,GAAI,EAAGA,GAAIoH,EAAKpH,KACrBa,EAAK6P,GAAM,EACVnP,EAAiB,WAAYoP,EAAO3Q,EAAE,EAKxC,GAFA8Q,GAAYJ,EAAMtJ,EAEbtH,IAAM4P,EACVe,EAAa5P,EAAKiQ,EAAU,UACjBhR,IAAM6P,EACjB,KAAQvI,EAAM,GAAI,CACjB,IAAIqF,GAAOgE,EAAa5P,EAAKiQ,EAAU,EACvCA,IAAarE,GACbrF,GAAOqF,EACR,CAID,QADIuE,GAAa,EACTA,GAAaT,GAAO,QAC3B1P,EAAK6P,GAAM,EAAIH,GAAQS,IAAa,EAGrC,OAAON,EAAMG,EACd,CACD,EACA,CAAE,eAAgB,CAAE,CACrB,EACA,GAAI,CACH,SAAWvQ,EAASf,EAAQD,EAAU,CACrCC,EAAO,QACNe,EAAS,cAAe,EAAE,sBAC5B,EACA,CAAE,eAAgB,CAAE,CACrB,CACD,EACA,CAAC,EACD,CAAE,EAAG,CACN,EAAG,EAAG,CACP,CAAE,CAAA,CAAA,CAAA,0VChpFF2Q,GAAAC,GAAA,CAAA,kEAAAC,EAAAC,EAAA,EAgCgC,SAAWC,EAAI,CAC9C,GAAK,OAAOF,GAAY,UAAY,OAAOC,EAAW,IACrDA,EAAO,QAAUC,EAAE,UACR,OAAO,QAAW,YAAc,OAAO,IAClD,OAAQ,CAAC,EAAGA,CAAE,MACR,CACN,IAAIC,EACC,OAAO,OAAW,IACtBA,EAAI,OACO,OAAO,OAAW,IAC7BA,EAAI,OACO,OAAO,KAAS,IAC3BA,EAAI,KAEJA,EAAI,KAELA,EAAE,KAAOD,EAAE,CACZ,CACD,GAAK,UAAY,CAChB,IAAIE,EAAQH,EAAQD,EACpB,OAAS,UAAY,CACpB,SAASK,EAAGC,EAAGC,EAAGC,EAAI,CACrB,SAASC,EAAGC,EAAGR,EAAI,CAClB,GAAK,CAAEK,EAAGG,CAAE,EAAI,CACf,GAAK,CAAEJ,EAAGI,CAAE,EAAI,CACf,IAAIC,EAAkB,OAAOC,IAArB,YAAgCA,GACxC,GAAK,CAAEV,GAAKS,EAAI,OAAOA,EAAGD,EAAG,EAAI,EACjC,GAAKG,EAAI,OAAOA,EAAGH,EAAG,EAAI,EAC1B,IAAII,EAAI,IAAI,MAAO,uBAAyBJ,EAAI,GAAI,EACpD,MAAUI,EAAE,KAAO,mBAAsBA,CAC1C,CACA,IAAIC,EAAMR,EAAGG,CAAE,EAAI,CAAE,QAAS,CAAC,CAAE,EACjCJ,EAAGI,CAAE,EAAG,CAAE,EAAE,KACXK,EAAE,QACF,SAAWV,EAAI,CACd,IAAIE,EAAID,EAAGI,CAAE,EAAG,CAAE,EAAGL,CAAE,EACvB,OAAOI,EAAGF,GAAKF,CAAE,CAClB,EACAU,EACAA,EAAE,QACFV,EACAC,EACAC,EACAC,CACD,CACD,CACA,OAAOD,EAAGG,CAAE,EAAE,OACf,CACA,QACKG,EAAkB,OAAOD,IAArB,YAAgCA,GAASF,EAAI,EACrDA,EAAIF,EAAE,OACNE,IAEAD,EAAGD,EAAGE,CAAE,CAAE,EACX,OAAOD,CACR,CACA,OAAOJ,CACR,GAAI,EACH,CACC,EAAG,CACF,SAAWW,EAASf,EAAQD,EAAU,CACrC,aAEA,IAAIiB,EACH,OAAO,WAAe,KACtB,OAAO,YAAgB,KACvB,OAAO,WAAe,IAEvB,SAASC,EAAMC,EAAKC,EAAM,CACzB,OAAO,OAAO,UAAU,eAAe,KAAMD,EAAKC,CAAI,CACvD,CAEApB,EAAQ,OAAS,SAChBmB,EACC,CAKD,QAJIE,EAAU,MAAM,UAAU,MAAM,KACnC,UACA,CACD,EACQA,EAAQ,QAAS,CACxB,IAAIC,EAASD,EAAQ,MAAM,EAC3B,GAAOC,EAIP,IAAK,OAAOA,GAAW,SACtB,MAAM,IAAI,UACTA,EAAS,oBACV,EAGD,QAAUP,KAAKO,EACTJ,EAAMI,EAAQP,CAAE,IACpBI,EAAKJ,CAAE,EAAIO,EAAQP,CAAE,GAGxB,CAEA,OAAOI,CACR,EAGAnB,EAAQ,UAAY,SAAWuB,EAAKC,EAAO,CAC1C,OAAKD,EAAI,SAAWC,EACZD,EAEHA,EAAI,SACDA,EAAI,SAAU,EAAGC,CAAK,GAE9BD,EAAI,OAASC,EACND,EACR,EAEA,IAAIE,EAAU,CACb,SAAU,SACTC,EACAC,EACAC,EACAC,EACAC,EACC,CACD,GAAKH,EAAI,UAAYD,EAAK,SAAW,CACpCA,EAAK,IACJC,EAAI,SAAUC,EAAUA,EAAWC,CAAI,EACvCC,CACD,EACA,MACD,CAEA,QAAUpB,EAAI,EAAGA,EAAImB,EAAKnB,IACzBgB,EAAMI,EAAYpB,CAAE,EAAIiB,EAAKC,EAAWlB,CAAE,CAE5C,EAEA,cAAe,SAAWqB,EAAS,CAClC,IAAIrB,EAAGsB,EAAGH,EAAKI,EAAKC,EAAOC,EAI3B,IADAN,EAAM,EACAnB,EAAI,EAAGsB,EAAID,EAAO,OAAQrB,EAAIsB,EAAGtB,IACtCmB,GAAOE,EAAQrB,CAAE,EAAE,OAMpB,IAFAyB,EAAS,IAAI,WAAYN,CAAI,EAC7BI,EAAM,EACAvB,EAAI,EAAGsB,EAAID,EAAO,OAAQrB,EAAIsB,EAAGtB,IACtCwB,EAAQH,EAAQrB,CAAE,EAClByB,EAAO,IAAKD,EAAOD,CAAI,EACvBA,GAAOC,EAAM,OAGd,OAAOC,CACR,CACD,EAEIC,EAAY,CACf,SAAU,SACTV,EACAC,EACAC,EACAC,EACAC,EACC,CACD,QAAUpB,EAAI,EAAGA,EAAImB,EAAKnB,IACzBgB,EAAMI,EAAYpB,CAAE,EAAIiB,EAAKC,EAAWlB,CAAE,CAE5C,EAEA,cAAe,SAAWqB,EAAS,CAClC,MAAO,CAAC,EAAE,OAAO,MAAO,CAAC,EAAGA,CAAO,CACpC,CACD,EAIA/B,EAAQ,SAAW,SAAWqC,EAAK,CAC7BA,GACJrC,EAAQ,KAAO,WACfA,EAAQ,MAAQ,YAChBA,EAAQ,MAAQ,WAChBA,EAAQ,OAAQA,EAASyB,CAAQ,IAEjCzB,EAAQ,KAAO,MACfA,EAAQ,MAAQ,MAChBA,EAAQ,MAAQ,MAChBA,EAAQ,OAAQA,EAASoC,CAAU,EAErC,EAEApC,EAAQ,SAAUiB,CAAS,CAC5B,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWD,EAASf,EAAQD,EAAU,CAErC,aAEA,IAAIsC,EAAQtB,EAAS,UAAW,EAO5BuB,EAAe,GACfC,EAAmB,GAEvB,GAAI,CACH,OAAO,aAAa,MAAO,KAAM,CAAE,CAAE,CAAE,CACxC,MAAe,CACdD,EAAe,EAChB,CACA,GAAI,CACH,OAAO,aAAa,MAAO,KAAM,IAAI,WAAY,CAAE,CAAE,CACtD,MAAe,CACdC,EAAmB,EACpB,CAMA,QADIC,EAAW,IAAIH,EAAM,KAAM,GAAI,EACzBI,EAAI,EAAGA,EAAI,IAAKA,IACzBD,EAAUC,CAAE,EACXA,GAAK,IACF,EACAA,GAAK,IACL,EACAA,GAAK,IACL,EACAA,GAAK,IACL,EACAA,GAAK,IACL,EACA,EAELD,EAAU,GAAI,EAAIA,EAAU,GAAI,EAAI,EAGpCzC,EAAQ,WAAa,SAAW2C,EAAM,CACrC,IAAIpB,EACHZ,EACAiC,EACAC,EACAnC,EACAoC,EAAUH,EAAI,OACdI,EAAU,EAGX,IAAMF,EAAQ,EAAGA,EAAQC,EAASD,IACjClC,EAAIgC,EAAI,WAAYE,CAAM,GAEvBlC,EAAI,SAAa,OACnBkC,EAAQ,EAAIC,IAEZF,EAAKD,EAAI,WAAYE,EAAQ,CAAE,GACxBD,EAAK,SAAa,QACxBjC,EACC,OACIA,EAAI,OAAY,KAClBiC,EAAK,OACRC,MAGFE,GACCpC,EAAI,IACD,EACAA,EAAI,KACJ,EACAA,EAAI,MACJ,EACA,EAOL,IAHAY,EAAM,IAAIe,EAAM,KAAMS,CAAQ,EAGxBrC,EAAI,EAAGmC,EAAQ,EAAGnC,EAAIqC,EAASF,IACpClC,EAAIgC,EAAI,WAAYE,CAAM,GAEvBlC,EAAI,SAAa,OACnBkC,EAAQ,EAAIC,IAEZF,EAAKD,EAAI,WAAYE,EAAQ,CAAE,GACxBD,EAAK,SAAa,QACxBjC,EACC,OACIA,EAAI,OAAY,KAClBiC,EAAK,OACRC,MAGGlC,EAAI,IAERY,EAAKb,GAAI,EAAIC,EACFA,EAAI,MAEfY,EAAKb,GAAI,EAAI,IAASC,IAAM,EAC5BY,EAAKb,GAAI,EAAI,IAASC,EAAI,IACfA,EAAI,OAEfY,EAAKb,GAAI,EAAI,IAASC,IAAM,GAC5BY,EAAKb,GAAI,EAAI,IAAWC,IAAM,EAAM,GACpCY,EAAKb,GAAI,EAAI,IAASC,EAAI,KAG1BY,EAAKb,GAAI,EAAI,IAASC,IAAM,GAC5BY,EAAKb,GAAI,EAAI,IAAWC,IAAM,GAAO,GACrCY,EAAKb,GAAI,EAAI,IAAWC,IAAM,EAAM,GACpCY,EAAKb,GAAI,EAAI,IAASC,EAAI,IAI5B,OAAOY,CACR,EAGA,SAASyB,EAAezB,EAAKM,EAAM,CAIlC,GAAKA,EAAM,QAEPN,EAAI,UAAYiB,GAChB,CAAEjB,EAAI,UAAYgB,GAEpB,OAAO,OAAO,aAAa,MAC1B,KACAD,EAAM,UAAWf,EAAKM,CAAI,CAC3B,EAKF,QADIM,EAAS,GACHzB,EAAI,EAAGA,EAAImB,EAAKnB,IACzByB,GAAU,OAAO,aAAcZ,EAAKb,CAAE,CAAE,EAEzC,OAAOyB,CACR,CAGAnC,EAAQ,cAAgB,SAAWuB,EAAM,CACxC,OAAOyB,EAAezB,EAAKA,EAAI,MAAO,CACvC,EAGAvB,EAAQ,cAAgB,SAAW2C,EAAM,CAExC,QADIpB,EAAM,IAAIe,EAAM,KAAMK,EAAI,MAAO,EAC3BjC,EAAI,EAAGmB,EAAMN,EAAI,OAAQb,EAAImB,EAAKnB,IAC3Ca,EAAKb,CAAE,EAAIiC,EAAI,WAAYjC,CAAE,EAE9B,OAAOa,CACR,EAGAvB,EAAQ,WAAa,SAAWuB,EAAK0B,EAAM,CAC1C,IAAIvC,EAAGwC,EAAKvC,EAAGwC,EACXtB,EAAMoB,GAAO1B,EAAI,OAKjB6B,EAAW,IAAI,MAAOvB,EAAM,CAAE,EAElC,IAAMqB,EAAM,EAAGxC,EAAI,EAAGA,EAAImB,GAAQ,CAGjC,GAFAlB,EAAIY,EAAKb,GAAI,EAERC,EAAI,IAAO,CACfyC,EAAUF,GAAM,EAAIvC,EACpB,QACD,CAIA,GAFAwC,EAAQV,EAAU9B,CAAE,EAEfwC,EAAQ,EAAI,CAChBC,EAAUF,GAAM,EAAI,MACpBxC,GAAKyC,EAAQ,EACb,QACD,CAKA,IAFAxC,GAAKwC,IAAU,EAAI,GAAOA,IAAU,EAAI,GAAO,EAEvCA,EAAQ,GAAKzC,EAAImB,GACxBlB,EAAMA,GAAK,EAAQY,EAAKb,GAAI,EAAI,GAChCyC,IAID,GAAKA,EAAQ,EAAI,CAChBC,EAAUF,GAAM,EAAI,MACpB,QACD,CAEKvC,EAAI,MACRyC,EAAUF,GAAM,EAAIvC,GAEpBA,GAAK,MACLyC,EAAUF,GAAM,EACf,MAAavC,GAAK,GAAO,KAC1ByC,EAAUF,GAAM,EAAI,MAAWvC,EAAI,KAErC,CAEA,OAAOqC,EAAeI,EAAUF,CAAI,CACrC,EAQAlD,EAAQ,WAAa,SAAWuB,EAAK0B,EAAM,CAC1C,IAAIhB,EASJ,IAPAgB,EAAMA,GAAO1B,EAAI,OACZ0B,EAAM1B,EAAI,SACd0B,EAAM1B,EAAI,QAIXU,EAAMgB,EAAM,EACJhB,GAAO,IAAOV,EAAKU,CAAI,EAAI,OAAW,KAC7CA,IAWD,OANKA,EAAM,GAMNA,IAAQ,EACLgB,EAGDhB,EAAMQ,EAAUlB,EAAKU,CAAI,CAAE,EAAIgB,EAAMhB,EAAMgB,CACnD,CACD,EACA,CAAE,WAAY,CAAE,CACjB,EACA,EAAG,CACF,SAAWjC,EAASf,EAAQD,EAAU,CACrC,aAyBA,SAASqD,EAASC,EAAO/B,EAAKM,EAAKI,EAAM,CAKxC,QAJIsB,EAAOD,EAAQ,MAAW,EAC7BE,EAASF,IAAU,GAAO,MAAW,EACrC/C,EAAI,EAEGsB,IAAQ,GAAI,CAInBtB,EAAIsB,EAAM,IAAO,IAAOA,EACxBA,GAAOtB,EAEP,GACCgD,EAAOA,EAAKhC,EAAKU,GAAM,EAAM,EAC7BuB,EAAOA,EAAKD,EAAO,QACV,EAAEhD,GAEZgD,GAAM,MACNC,GAAM,KACP,CAEA,OAAOD,EAAOC,GAAM,GAAO,CAC5B,CAEAvD,EAAO,QAAUoD,CAClB,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWrC,EAASf,EAAQD,EAAU,CACrC,aAqBAC,EAAO,QAAU,CAEhB,WAAY,EACZ,gBAAiB,EACjB,aAAc,EACd,aAAc,EACd,SAAU,EACV,QAAS,EACT,QAAS,EAKT,KAAM,EACN,aAAc,EACd,YAAa,EACb,QAAS,GACT,eAAgB,GAChB,aAAc,GAEd,YAAa,GAIb,iBAAkB,EAClB,aAAc,EACd,mBAAoB,EACpB,sBAAuB,GAEvB,WAAY,EACZ,eAAgB,EAChB,MAAO,EACP,QAAS,EACT,mBAAoB,EAGpB,SAAU,EACV,OAAQ,EAER,UAAW,EAGX,WAAY,CAEb,CACD,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWe,EAASf,EAAQD,EAAU,CACrC,aA0BA,SAASyD,GAAY,CAIpB,QAHI9C,EACH+C,EAAQ,CAAC,EAEAnD,EAAI,EAAGA,EAAI,IAAKA,IAAM,CAC/BI,EAAIJ,EACJ,QAAUoD,EAAI,EAAGA,EAAI,EAAGA,IACvBhD,EAAIA,EAAI,EAAI,WAAeA,IAAM,EAAMA,IAAM,EAE9C+C,EAAOnD,CAAE,EAAII,CACd,CAEA,OAAO+C,CACR,CAGA,IAAIE,EAAWH,EAAU,EAEzB,SAASI,EAAOC,EAAKvC,EAAKM,EAAKI,EAAM,CACpC,IAAIzB,EAAIoD,EACPG,EAAM9B,EAAMJ,EAEbiC,GAAO,GAEP,QAAUpD,EAAIuB,EAAKvB,EAAIqD,EAAKrD,IAC3BoD,EACGA,IAAQ,EAAMtD,GAAKsD,EAAMvC,EAAKb,CAAE,GAAM,GAAK,EAG/C,OAAOoD,EAAM,EACd,CAEA7D,EAAO,QAAU4D,CAClB,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAW7C,EAASf,EAAQD,EAAU,CACrC,aAqBA,SAASgE,GAAW,CAEnB,KAAK,KAAO,EAEZ,KAAK,KAAO,EAEZ,KAAK,OAAS,EAEd,KAAK,GAAK,EAEV,KAAK,MAAQ,KAEb,KAAK,UAAY,EAWjB,KAAK,KAAO,GAIZ,KAAK,QAAU,GAIf,KAAK,KAAO,EAEZ,KAAK,KAAO,EACb,CAEA/D,EAAO,QAAU+D,CAClB,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWhD,EAASf,EAAQD,EAAU,CACrC,aAsBA,IAAIiE,EAAM,GACNC,EAAO,GAqCXjE,EAAO,QAAU,SAAuBkE,EAAMC,EAAQ,CACrD,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAV,EAEAW,EAEAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAzD,EACA0D,EACAC,EACAC,EAEAC,EAAOC,EAGXtB,EAAQF,EAAK,MAEbG,EAAMH,EAAK,QACXuB,EAAQvB,EAAK,MACbI,EAAOD,GAAQH,EAAK,SAAW,GAC/BK,EAAOL,EAAK,SACZwB,EAASxB,EAAK,OACdM,EAAMD,GAASJ,EAAQD,EAAK,WAC5BJ,EAAMS,GAASL,EAAK,UAAY,KAEhCO,EAAOL,EAAM,KAEbM,EAAQN,EAAM,MACdO,EAAQP,EAAM,MACdQ,EAAQR,EAAM,MACdS,EAAWT,EAAM,OACjBU,EAAOV,EAAM,KACbW,EAAOX,EAAM,KACbY,EAAQZ,EAAM,QACda,EAAQb,EAAM,SACdc,GAAU,GAAKd,EAAM,SAAY,EACjCe,GAAU,GAAKf,EAAM,UAAa,EAKlCuB,EAAK,EAAG,CACFZ,EAAO,KACXD,GAAQW,EAAOpB,GAAM,GAAKU,EAC1BA,GAAQ,EACRD,GAAQW,EAAOpB,GAAM,GAAKU,EAC1BA,GAAQ,GAGTK,EAAOJ,EAAOF,EAAOI,CAAM,EAE3BU,EAAO,OAAS,CAMf,GAJAP,EAAKD,IAAS,GACdN,KAAUO,EACVN,GAAQM,EACRA,EAAOD,IAAS,GAAO,IAClBC,IAAO,EAKXK,EAAQnB,GAAO,EACda,EAAO,cACGC,EAAK,GAAK,CAErBzD,EAAMwD,EAAO,MACbC,GAAM,GACDA,IACCN,EAAOM,IACXP,GAAQW,EAAOpB,GAAM,GAAKU,EAC1BA,GAAQ,GAETnD,GAAOkD,GAAW,GAAKO,GAAO,EAC9BP,KAAUO,EACVN,GAAQM,GAGJN,EAAO,KACXD,GAAQW,EAAOpB,GAAM,GAAKU,EAC1BA,GAAQ,EACRD,GAAQW,EAAOpB,GAAM,GAAKU,EAC1BA,GAAQ,GAETK,EAAOH,EAAOH,EAAOK,CAAM,EAE3BU,EAAQ,OAAS,CAOhB,GALAR,EAAKD,IAAS,GACdN,KAAUO,EACVN,GAAQM,EACRA,EAAOD,IAAS,GAAO,IAElBC,EAAK,GAAK,CAed,GAbAC,EAAOF,EAAO,MACdC,GAAM,GACDN,EAAOM,IACXP,GAAQW,EAAOpB,GAAM,GAAKU,EAC1BA,GAAQ,EACHA,EAAOM,IACXP,GACCW,EAAOpB,GAAM,GAAKU,EACnBA,GAAQ,IAGVO,GAAQR,GAAW,GAAKO,GAAO,EAE1BC,EAAOb,EAAO,CAClBP,EAAK,IACJ,gCACDE,EAAM,KAAOJ,EACb,MAAM2B,CACP,CAQA,GANAb,KAAUO,EACVN,GAAQM,EAERA,EACCd,EACAC,EACIc,EAAOD,EAAK,CAKhB,GAHAA,EACCC,EACAD,EACIA,EAAKV,GACJP,EAAM,KAAO,CACjBF,EAAK,IACJ,gCACDE,EAAM,KAAOJ,EACb,MAAM2B,CACP,CA0BD,GAFAJ,EAAO,EACPC,EAAcX,EACTD,IAAU,GAGd,GADAW,GAAQb,EAAQW,EACXA,EAAKzD,EAAM,CAEfA,GAAOyD,EACP,GACCK,EAAQnB,GAAO,EACdM,EACCU,GACD,QACQ,EAAEF,GACZE,EACChB,EACAe,EACDE,EAAcE,CACf,UACWd,EAAQS,GAInB,GAFAE,GAAQb,EAAQE,EAAQS,EACxBA,GAAMT,EACDS,EAAKzD,EAAM,CAEfA,GAAOyD,EACP,GACCK,EAAQnB,GAAO,EACdM,EACCU,GACD,QACQ,EAAEF,GAEZ,GADAE,EAAO,EACFX,EAAQhD,EAAM,CAElByD,EAAKT,EACLhD,GAAOyD,EACP,GACCK,EACCnB,GACD,EACCM,EACCU,GACD,QACQ,EAAEF,GACZE,EACChB,EACAe,EACDE,EACCE,CACF,CACD,UAGAH,GAAQX,EAAQS,EACXA,EAAKzD,EAAM,CAEfA,GAAOyD,EACP,GACCK,EAAQnB,GAAO,EACdM,EACCU,GACD,QACQ,EAAEF,GACZE,EACChB,EACAe,EACDE,EAAcE,CACf,CAED,KAAQ9D,EAAM,GACb8D,EAAQnB,GAAO,EACdiB,EAAaD,GAAO,EACrBG,EAAQnB,GAAO,EACdiB,EAAaD,GAAO,EACrBG,EAAQnB,GAAO,EACdiB,EAAaD,GAAO,EACrB3D,GAAO,EAEHA,IACJ8D,EAAQnB,GAAO,EACdiB,EAAaD,GAAO,EAChB3D,EAAM,IACV8D,EAAQnB,GAAO,EACdiB,EACCD,GACD,GAGJ,KAAO,CACNA,EACChB,EACAe,EACD,GAECI,EAAQnB,GAAO,EACdmB,EAAQH,GAAO,EAChBG,EAAQnB,GAAO,EACdmB,EAAQH,GAAO,EAChBG,EAAQnB,GAAO,EACdmB,EAAQH,GAAO,EAChB3D,GAAO,QACEA,EAAM,GACXA,IACJ8D,EAAQnB,GAAO,EACdmB,EAAQH,GAAO,EACX3D,EAAM,IACV8D,EAAQnB,GAAO,EACdmB,EAAQH,GAAO,GAGnB,CACD,UAAcF,EAAK,MAAS,EAAI,CAE/BD,EACCH,GACGG,EACD,QACEN,GACG,GAAKO,GACR,EACJ,EACD,SAASQ,CACV,KAAO,CACN3B,EAAK,IAAM,wBACXE,EAAM,KAAOJ,EACb,MAAM2B,CACP,CAEA,KACD,CACD,UAAcN,EAAK,MAAS,EAAI,CAE/BD,EACCJ,GACGI,EAAO,QACNN,GAAW,GAAKO,GAAO,EAC3B,EACD,SAASO,CACV,SAAYP,EAAK,GAAK,CAGrBjB,EAAM,KAAOH,EACb,MAAM0B,CACP,KAAO,CACNzB,EAAK,IAAM,8BACXE,EAAM,KAAOJ,EACb,MAAM2B,CACP,CAEA,KACD,CACD,OAAUtB,EAAMC,GAAQC,EAAOT,GAG/BlC,EAAMmD,GAAQ,EACdV,GAAOzC,EACPmD,GAAQnD,GAAO,EACfkD,IAAU,GAAKC,GAAS,EAGxBb,EAAK,QAAUG,EACfH,EAAK,SAAWK,EAChBL,EAAK,SACJG,EAAMC,EACH,GAAMA,EAAOD,GACb,GAAMA,EAAMC,GAChBJ,EAAK,UACJK,EAAOT,EACJ,KAAQA,EAAMS,GACd,KAAQA,EAAOT,GACnBM,EAAM,KAAOU,EACbV,EAAM,KAAOW,CAEd,CACD,EACA,CAAC,CACF,EACA,EAAG,CACF,SAAWhE,EAASf,EAAQD,EAAU,CACrC,aAqBA,IAAIsC,EAAQtB,EAAS,iBAAkB,EACnCqC,EAAUrC,EAAS,WAAY,EAC/B6C,EAAQ7C,EAAS,SAAU,EAC3B+E,EAAe/E,EAAS,WAAY,EACpCgF,EAAgBhF,EAAS,YAAa,EAEtCiF,EAAQ,EACRC,EAAO,EACPC,EAAQ,EAURC,EAAW,EACXC,EAAU,EACVC,EAAU,EAKVC,EAAO,EACPC,EAAe,EACfC,EAAc,EAEdC,EAAiB,GACjBC,EAAe,GACfC,EAAc,GACdC,EAAc,GAIdC,EAAa,EAKbC,EAAO,EACPC,EAAQ,EACRC,EAAO,EACPC,EAAK,EACLC,EAAQ,EACRC,EAAQ,EACRC,EAAO,EACPC,EAAU,EACVC,EAAO,EACPC,EAAS,GACTC,EAAO,GACPvD,GAAO,GACPwD,GAAS,GACTC,EAAS,GACTC,EAAQ,GACRC,GAAO,GACPC,GAAQ,GACRC,GAAU,GACVC,GAAW,GACXC,GAAO,GACPC,GAAM,GACNC,GAAS,GACTC,GAAO,GACPC,GAAU,GACVC,GAAQ,GACRC,GAAM,GACNC,EAAQ,GACRC,GAAS,GACTC,EAAO,GACPzE,GAAM,GACN0E,GAAM,GACNC,GAAO,GAIPC,GAAc,IACdC,EAAe,IAGfC,GAAY,GAEZC,GAAYD,GAEhB,SAASE,GAASvG,EAAI,CACrB,OACKA,IAAM,GAAO,MACbA,IAAM,EAAM,SACZA,EAAI,QAAY,KAChBA,EAAI,MAAU,GAEpB,CAEA,SAASwG,IAAe,CACvB,KAAK,KAAO,EACZ,KAAK,KAAO,GACZ,KAAK,KAAO,EACZ,KAAK,SAAW,GAChB,KAAK,MAAQ,EACb,KAAK,KAAO,EACZ,KAAK,MAAQ,EACb,KAAK,MAAQ,EAEb,KAAK,KACJ,KAGD,KAAK,MAAQ,EACb,KAAK,MAAQ,EACb,KAAK,MAAQ,EACb,KAAK,MAAQ,EACb,KAAK,OACJ,KAGD,KAAK,KAAO,EACZ,KAAK,KAAO,EAGZ,KAAK,OAAS,EACd,KAAK,OAAS,EAGd,KAAK,MAAQ,EAGb,KAAK,QACJ,KACD,KAAK,SACJ,KACD,KAAK,QAAU,EACf,KAAK,SAAW,EAGhB,KAAK,MAAQ,EACb,KAAK,KAAO,EACZ,KAAK,MAAQ,EACb,KAAK,KAAO,EACZ,KAAK,KAAO,KAEZ,KAAK,KAAO,IAAI5G,EAAM,MACrB,GACD,EACA,KAAK,KAAO,IAAIA,EAAM,MACrB,GACD,EAOA,KAAK,OACJ,KACD,KAAK,QACJ,KACD,KAAK,KAAO,EACZ,KAAK,KAAO,EACZ,KAAK,IAAM,CACZ,CAEA,SAAS6G,GAAkBhF,EAAO,CACjC,IAAIE,GAEJ,MAAK,CAAEF,GAAQ,CAAEA,EAAK,MACduC,GAERrC,GAAQF,EAAK,MACbA,EAAK,SAAWA,EAAK,UAAYE,GAAM,MAAQ,EAC/CF,EAAK,IAAM,GACNE,GAAM,OAEVF,EAAK,MAAQE,GAAM,KAAO,GAE3BA,GAAM,KAAO0C,EACb1C,GAAM,KAAO,EACbA,GAAM,SAAW,EACjBA,GAAM,KAAO,MACbA,GAAM,KAAO,KACbA,GAAM,KAAO,EACbA,GAAM,KAAO,EAEbA,GAAM,QAAUA,GAAM,OAAS,IAAI/B,EAAM,MACxCuG,EACD,EACAxE,GAAM,SAAWA,GAAM,QAAU,IAAI/B,EAAM,MAC1CwG,CACD,EAEAzE,GAAM,KAAO,EACbA,GAAM,KAAO,GAENkC,EACR,CAEA,SAAS6C,GAAcjF,EAAO,CAC7B,IAAIE,GAEJ,MAAK,CAAEF,GAAQ,CAAEA,EAAK,MACduC,GAERrC,GAAQF,EAAK,MACbE,GAAM,MAAQ,EACdA,GAAM,MAAQ,EACdA,GAAM,MAAQ,EACP8E,GAAkBhF,CAAK,EAC/B,CAEA,SAASkF,GAAelF,EAAMmF,GAAa,CAC1C,IAAIC,EACAlF,GAoBJ,MAjBK,CAAEF,GAAQ,CAAEA,EAAK,QAGtBE,GAAQF,EAAK,MAGRmF,GAAa,GACjBC,EAAO,EACPD,GAAa,CAACA,KAEdC,GAASD,IAAc,GAAM,EACxBA,GAAa,KACjBA,IAAc,KAMfA,KACEA,GAAa,GAAKA,GAAa,KAE1B5C,GAGPrC,GAAM,SAAW,MACjBA,GAAM,QAAUiF,KAEhBjF,GAAM,OAAS,MAIhBA,GAAM,KAAOkF,EACblF,GAAM,MAAQiF,GACPF,GAAcjF,CAAK,EAC3B,CAEA,SAASqF,GAAcrF,EAAMmF,GAAa,CACzC,IAAIG,EACApF,GAEJ,OAAOF,GAKPE,GAAQ,IAAI6E,GAIZ/E,EAAK,MAAQE,GACbA,GAAM,OAAS,KACfoF,EAAMJ,GAAelF,EAAMmF,EAAW,EACjCG,IAAQlD,IACZpC,EAAK,MAAQ,MAEPsF,GAdC/C,CAeT,CAEA,SAASgD,GAAavF,EAAO,CAC5B,OAAOqF,GAAcrF,EAAM6E,EAAU,CACtC,CAYA,IAAIW,GAAS,GAETC,GAAQC,GAEZ,SAASC,GAAazF,EAAQ,CAE7B,GAAKsF,GAAS,CACb,IAAII,GAOJ,IALAH,GAAS,IAAItH,EAAM,MAAO,GAAI,EAC9BuH,GAAU,IAAIvH,EAAM,MAAO,EAAG,EAG9ByH,GAAM,EACEA,GAAM,KACb1F,EAAM,KAAM0F,IAAM,EAAI,EAEvB,KAAQA,GAAM,KACb1F,EAAM,KAAM0F,IAAM,EAAI,EAEvB,KAAQA,GAAM,KACb1F,EAAM,KAAM0F,IAAM,EAAI,EAEvB,KAAQA,GAAM,KACb1F,EAAM,KAAM0F,IAAM,EAAI,EAgBvB,IAbA/D,EACCE,EACA7B,EAAM,KACN,EACA,IACAuF,GACA,EACAvF,EAAM,KACN,CAAE,KAAM,CAAE,CACX,EAGA0F,GAAM,EACEA,GAAM,IACb1F,EAAM,KAAM0F,IAAM,EAAI,EAGvB/D,EACCG,EACA9B,EAAM,KACN,EACA,GACAwF,GACA,EACAxF,EAAM,KACN,CAAE,KAAM,CAAE,CACX,EAGAsF,GAAS,EACV,CAEAtF,EAAM,QAAUuF,GAChBvF,EAAM,QAAU,EAChBA,EAAM,SAAWwF,GACjBxF,EAAM,SAAW,CAClB,CAgBA,SAAS2F,GAAc7F,EAAMxC,GAAKoC,EAAKkG,GAAO,CAC7C,IAAI1E,GACAlB,GAAQF,EAAK,MAGjB,OAAKE,GAAM,SAAW,OACrBA,GAAM,MAAQ,GAAKA,GAAM,MACzBA,GAAM,MAAQ,EACdA,GAAM,MAAQ,EAEdA,GAAM,OAAS,IAAI/B,EAAM,KAAM+B,GAAM,KAAM,GAIvC4F,IAAQ5F,GAAM,OAClB/B,EAAM,SACL+B,GAAM,OACN1C,GACAoC,EAAMM,GAAM,MACZA,GAAM,MACN,CACD,EACAA,GAAM,MAAQ,EACdA,GAAM,MAAQA,GAAM,QAEpBkB,GAAOlB,GAAM,MAAQA,GAAM,MACtBkB,GAAO0E,KACX1E,GAAO0E,IAGR3H,EAAM,SACL+B,GAAM,OACN1C,GACAoC,EAAMkG,GACN1E,GACAlB,GAAM,KACP,EACA4F,IAAQ1E,GACH0E,IAEJ3H,EAAM,SACL+B,GAAM,OACN1C,GACAoC,EAAMkG,GACNA,GACA,CACD,EACA5F,GAAM,MAAQ4F,GACd5F,GAAM,MAAQA,GAAM,QAEpBA,GAAM,OAASkB,GACVlB,GAAM,QAAUA,GAAM,QAC1BA,GAAM,MAAQ,GAEVA,GAAM,MAAQA,GAAM,QACxBA,GAAM,OAASkB,MAIX,CACR,CAEA,SAAS2E,GAAS/F,EAAMgG,GAAQ,CAC/B,IAAI9F,EACAqB,GAAOC,GACPyE,GACAC,GACAC,GAAMC,GACNxF,EACAC,EACAV,GACHE,GACGyF,GACAzE,GACAC,GACAJ,GAAO,EACPmF,GAAWC,GAASC,GAEpBC,GAAWC,GAASC,GACpBhJ,GACA4H,GACAqB,GAAO,IAAIxI,EAAM,KACpB,CACD,EACIyI,GAEAxK,GAEAyK,GAEH,CACC,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAC7C,GAAI,EAAG,GAAI,EAAG,EACf,EAED,GACC,CAAE7G,GACF,CAAEA,EAAK,OACP,CAAEA,EAAK,QACL,CAAEA,EAAK,OAASA,EAAK,WAAa,EAEpC,OAAOuC,EAGRrC,EAAQF,EAAK,MACRE,EAAM,OAASH,KACnBG,EAAM,KAAOqD,IAId2C,GAAMlG,EAAK,SACXwB,GAASxB,EAAK,OACdoG,GAAOpG,EAAK,UACZiG,GAAOjG,EAAK,QACZuB,GAAQvB,EAAK,MACbmG,GAAOnG,EAAK,SACZY,EAAOV,EAAM,KACbW,EAAOX,EAAM,KAGbC,GAAMgG,GACN9F,GAAO+F,GACPd,GAAMlD,EAGN0E,EAAW,OACV,OAAS5G,EAAM,KAAO,CACrB,KAAK0C,EACJ,GAAK1C,EAAM,OAAS,EAAI,CACvBA,EAAM,KAAOqD,GACb,KACD,CAEA,KAAQ1C,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEA,GAAKX,EAAM,KAAO,GAAKU,IAAS,MAAS,CAExCV,EAAM,MAAQ,EAEdyG,GAAM,CAAE,EAAI/F,EAAO,IACnB+F,GAAM,CAAE,EAAM/F,IAAS,EAAM,IAC7BV,EAAM,MAAQR,EACbQ,EAAM,MACNyG,GACA,EACA,CACD,EAIA/F,EAAO,EACPC,EAAO,EAEPX,EAAM,KAAO2C,EACb,KACD,CAKA,GAJA3C,EAAM,MAAQ,EACTA,EAAM,OACVA,EAAM,KAAK,KAAO,IAGlB,EACCA,EAAM,KAAO,OAERU,EAAO,MAAsB,IAChCA,GAAQ,IACV,GACA,CACDZ,EAAK,IAAM,yBACXE,EAAM,KAAOJ,GACb,KACD,CACA,IACGc,EAAO,MACT+B,EACC,CACD3C,EAAK,IAAM,6BACXE,EAAM,KAAOJ,GACb,KACD,CAMA,GAJAc,KAAU,EACVC,GAAQ,EAERnD,IAAQkD,EAAO,IAAqB,EAC/BV,EAAM,QAAU,EACpBA,EAAM,MAAQxC,WACHA,GAAMwC,EAAM,MAAQ,CAC/BF,EAAK,IAAM,sBACXE,EAAM,KAAOJ,GACb,KACD,CACAI,EAAM,KAAO,GAAKxC,GAElBsC,EAAK,MACJE,EAAM,MAAQ,EACfA,EAAM,KAAOU,EAAO,IAAQyC,EAAStD,GAErCa,EAAO,EACPC,EAAO,EAEP,MACD,KAAKgC,EAEJ,KAAQhC,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAGA,GADAX,EAAM,MAAQU,GAEXV,EAAM,MAAQ,OAChByC,EACC,CACD3C,EAAK,IAAM,6BACXE,EAAM,KAAOJ,GACb,KACD,CACA,GAAKI,EAAM,MAAQ,MAAS,CAC3BF,EAAK,IAAM,2BACXE,EAAM,KAAOJ,GACb,KACD,CACKI,EAAM,OACVA,EAAM,KAAK,KAASU,GAAQ,EAAM,GAE9BV,EAAM,MAAQ,MAElByG,GAAM,CAAE,EAAI/F,EAAO,IACnB+F,GAAM,CAAE,EAAM/F,IAAS,EAAM,IAC7BV,EAAM,MAAQR,EACbQ,EAAM,MACNyG,GACA,EACA,CACD,GAID/F,EAAO,EACPC,EAAO,EAEPX,EAAM,KAAO4C,EAEd,KAAKA,EAEJ,KAAQjC,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEKX,EAAM,OACVA,EAAM,KAAK,KAAOU,GAEdV,EAAM,MAAQ,MAElByG,GAAM,CAAE,EAAI/F,EAAO,IACnB+F,GAAM,CAAE,EAAM/F,IAAS,EAAM,IAC7B+F,GAAM,CAAE,EAAM/F,IAAS,GAAO,IAC9B+F,GAAM,CAAE,EAAM/F,IAAS,GAAO,IAC9BV,EAAM,MAAQR,EACbQ,EAAM,MACNyG,GACA,EACA,CACD,GAID/F,EAAO,EACPC,EAAO,EAEPX,EAAM,KAAO6C,EAEd,KAAKA,EAEJ,KAAQlC,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEKX,EAAM,OACVA,EAAM,KAAK,OAASU,EAAO,IAC3BV,EAAM,KAAK,GAAKU,GAAQ,GAEpBV,EAAM,MAAQ,MAElByG,GAAM,CAAE,EAAI/F,EAAO,IACnB+F,GAAM,CAAE,EAAM/F,IAAS,EAAM,IAC7BV,EAAM,MAAQR,EACbQ,EAAM,MACNyG,GACA,EACA,CACD,GAID/F,EAAO,EACPC,EAAO,EAEPX,EAAM,KAAO8C,EAEd,KAAKA,EACJ,GAAK9C,EAAM,MAAQ,KAAS,CAE3B,KAAQW,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEAX,EAAM,OAASU,EACVV,EAAM,OACVA,EAAM,KAAK,UAAYU,GAEnBV,EAAM,MAAQ,MAElByG,GAAM,CAAE,EAAI/F,EAAO,IACnB+F,GAAM,CAAE,EAAM/F,IAAS,EAAM,IAC7BV,EAAM,MAAQR,EACbQ,EAAM,MACNyG,GACA,EACA,CACD,GAID/F,EAAO,EACPC,EAAO,CAER,MAAYX,EAAM,OACjBA,EAAM,KAAK,MAAQ,MAEpBA,EAAM,KAAO+C,EAEd,KAAKA,EACJ,GAAK/C,EAAM,MAAQ,OAClB4F,GAAO5F,EAAM,OACR4F,GAAOK,KACXL,GAAOK,IAEHL,KACC5F,EAAM,OACVxC,GACCwC,EAAM,KAAK,UACXA,EAAM,OACAA,EAAM,KAAK,QAEjBA,EAAM,KAAK,MACV,IAAI,MACHA,EAAM,KAAK,SACZ,GAEF/B,EAAM,SACL+B,EAAM,KAAK,MACXqB,GACA0E,GAGAH,GAEApI,EACD,GAKIwC,EAAM,MAAQ,MAClBA,EAAM,MAAQR,EACbQ,EAAM,MACNqB,GACAuE,GACAG,EACD,GAEDE,IAAQL,GACRG,IAAQH,GACR5F,EAAM,QAAU4F,IAEZ5F,EAAM,QACV,MAAM4G,EAGR5G,EAAM,OAAS,EACfA,EAAM,KAAOgD,EAEd,KAAKA,EACJ,GAAKhD,EAAM,MAAQ,KAAS,CAC3B,GAAKiG,KAAS,EACb,MAAMW,EAEPhB,GAAO,EACP,GAECpI,GAAM6D,GAAO0E,GAAOH,IAAO,EAG1B5F,EAAM,MACNxC,IACAwC,EAAM,OACL,QAEDA,EAAM,KAAK,MACV,OAAO,aAAcxC,EAAI,SAElBA,IAAOoI,GAAOK,IAYxB,GAVKjG,EAAM,MAAQ,MAClBA,EAAM,MAAQR,EACbQ,EAAM,MACNqB,GACAuE,GACAG,EACD,GAEDE,IAAQL,GACRG,IAAQH,GACHpI,GACJ,MAAMoJ,CAER,MAAY5G,EAAM,OACjBA,EAAM,KAAK,KAAO,MAEnBA,EAAM,OAAS,EACfA,EAAM,KAAOiD,EAEd,KAAKA,EACJ,GAAKjD,EAAM,MAAQ,KAAS,CAC3B,GAAKiG,KAAS,EACb,MAAMW,EAEPhB,GAAO,EACP,GACCpI,GAAM6D,GAAO0E,GAAOH,IAAO,EAG1B5F,EAAM,MACNxC,IACAwC,EAAM,OACL,QAEDA,EAAM,KAAK,SACV,OAAO,aAAcxC,EAAI,SAElBA,IAAOoI,GAAOK,IAWxB,GAVKjG,EAAM,MAAQ,MAClBA,EAAM,MAAQR,EACbQ,EAAM,MACNqB,GACAuE,GACAG,EACD,GAEDE,IAAQL,GACRG,IAAQH,GACHpI,GACJ,MAAMoJ,CAER,MAAY5G,EAAM,OACjBA,EAAM,KAAK,QAAU,MAEtBA,EAAM,KAAOkD,EAEd,KAAKA,EACJ,GAAKlD,EAAM,MAAQ,IAAS,CAE3B,KAAQW,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEA,GACCD,KACEV,EAAM,MAAQ,OACf,CACDF,EAAK,IAAM,sBACXE,EAAM,KAAOJ,GACb,KACD,CAEAc,EAAO,EACPC,EAAO,CAER,CACKX,EAAM,OACVA,EAAM,KAAK,KACRA,EAAM,OAAS,EAAM,EACxBA,EAAM,KAAK,KAAO,IAEnBF,EAAK,MAAQE,EAAM,MAAQ,EAC3BA,EAAM,KAAOH,GACb,MACD,KAAKsD,EAEJ,KAAQxC,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEAb,EAAK,MAAQE,EAAM,MAAQ4E,GAASlE,CAAK,EAEzCA,EAAO,EACPC,EAAO,EAEPX,EAAM,KAAOoD,EAEd,KAAKA,EACJ,GAAKpD,EAAM,WAAa,EAEvB,OAAAF,EAAK,SAAWkG,GAChBlG,EAAK,UAAYoG,GACjBpG,EAAK,QAAUiG,GACfjG,EAAK,SAAWmG,GAChBjG,EAAM,KAAOU,EACbV,EAAM,KAAOW,EAENyB,EAERtC,EAAK,MACJE,EAAM,MAAQ,EACfA,EAAM,KAAOH,GAEd,KAAKA,GACJ,GACCiG,KAAU9D,GACV8D,KAAU7D,EAEV,MAAM2E,EAGR,KAAKvD,GACJ,GAAKrD,EAAM,KAAO,CAEjBU,KAAUC,EAAO,EACjBA,GAAQA,EAAO,EAEfX,EAAM,KAAOmE,EACb,KACD,CAEA,KAAQxD,EAAO,GAAI,CAClB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAQA,OANAX,EAAM,KAAOU,EAAO,EAEpBA,KAAU,EACVC,GAAQ,EAGCD,EAAO,EAAmB,CAClC,IAAK,GAGJV,EAAM,KAAOsD,EACb,MACD,IAAK,GAMJ,GALAmC,GAAazF,CAAM,EAGnBA,EAAM,KACL4D,GACIkC,KAAU7D,EAAU,CAExBvB,KAAU,EACVC,GAAQ,EAER,MAAMiG,CACP,CACA,MACD,IAAK,GAGJ5G,EAAM,KAAOyD,GACb,MACD,IAAK,GACJ3D,EAAK,IAAM,qBACXE,EAAM,KAAOJ,EACf,CAEAc,KAAU,EACVC,GAAQ,EAER,MACD,KAAK2C,EAMJ,IAJA5C,KAAUC,EAAO,EACjBA,GAAQA,EAAO,EAGPA,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEA,IACGD,EAAO,UACLA,IAAS,GAAO,OACnB,CACDZ,EAAK,IACJ,+BACDE,EAAM,KAAOJ,GACb,KACD,CASA,GARAI,EAAM,OAASU,EAAO,MAItBA,EAAO,EACPC,EAAO,EAEPX,EAAM,KAAOuD,EACRuC,KAAU7D,EACd,MAAM2E,EAGR,KAAKrD,EACJvD,EAAM,KAAOwD,GAEd,KAAKA,GAEJ,GADAoC,GAAO5F,EAAM,OACR4F,GAAO,CAOX,GANKA,GAAOK,KACXL,GAAOK,IAEHL,GAAOM,KACXN,GAAOM,IAEHN,KAAS,EACb,MAAMgB,EAGP3I,EAAM,SACLqD,GACAD,GACA0E,GACAH,GACAI,EACD,EAEAC,IAAQL,GACRG,IAAQH,GACRM,IAAQN,GACRI,IAAOJ,GACP5F,EAAM,QAAU4F,GAChB,KACD,CAEA5F,EAAM,KAAOH,GACb,MACD,KAAK4D,GAEJ,KAAQ9C,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAqBA,GAnBAX,EAAM,MACHU,EAAO,IAAqB,IAE/BA,KAAU,EACVC,GAAQ,EAERX,EAAM,OACHU,EAAO,IAAqB,EAE/BA,KAAU,EACVC,GAAQ,EAERX,EAAM,OACHU,EAAO,IAAqB,EAE/BA,KAAU,EACVC,GAAQ,EAIPX,EAAM,KAAO,KACbA,EAAM,MAAQ,GACb,CACDF,EAAK,IACJ,sCACDE,EAAM,KAAOJ,GACb,KACD,CAGAI,EAAM,KAAO,EACbA,EAAM,KAAO0D,GAEd,KAAKA,GACJ,KAAQ1D,EAAM,KAAOA,EAAM,OAAQ,CAElC,KAAQW,EAAO,GAAI,CAClB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEAX,EAAM,KAAM2G,GAAO3G,EAAM,MAAO,CAAE,EACjCU,EAAO,EAERA,KAAU,EACVC,GAAQ,CAET,CACA,KAAQX,EAAM,KAAO,IACpBA,EAAM,KAAM2G,GAAO3G,EAAM,MAAO,CAAE,EAAI,EAsBvC,GAhBAA,EAAM,QAAUA,EAAM,OACtBA,EAAM,QAAU,EAEhB0G,GAAO,CAAE,KAAM1G,EAAM,OAAQ,EAC7BoF,GAAMzD,EACLC,EACA5B,EAAM,KACN,EACA,GACAA,EAAM,QACN,EACAA,EAAM,KACN0G,EACD,EACA1G,EAAM,QAAU0G,GAAK,KAEhBtB,GAAM,CACVtF,EAAK,IAAM,2BACXE,EAAM,KAAOJ,GACb,KACD,CAEAI,EAAM,KAAO,EACbA,EAAM,KAAO2D,GAEd,KAAKA,GACJ,KACC3D,EAAM,KACNA,EAAM,KAAOA,EAAM,OAClB,CACD,KACCgB,GACChB,EAAM,QACLU,GACK,GACHV,EAAM,SACN,CACH,EACDmG,GAAYnF,KAAS,GACrBoF,GAAYpF,KAAS,GAAO,IAC5BqF,GAAWrF,GAAO,MAEb,EAAAmF,IAAaxF,IAZV,CAgBR,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CAET,CACA,GAAK0F,GAAW,GAEf3F,KAAUyF,GACVxF,GAAQwF,GAERnG,EAAM,KAAMA,EAAM,MAAO,EACxBqG,OACK,CACN,GAAKA,KAAa,GAAK,CAGtB,IADAnK,GAAIiK,GAAY,EACRxF,EAAOzE,IAAI,CAClB,GAAK+J,KAAS,EACb,MAAMW,EAEPX,KACAvF,GACCW,GAAO0E,IAAO,GAAKpF,EACpBA,GAAQ,CACT,CAMA,GAHAD,KAAUyF,GACVxF,GAAQwF,GAEHnG,EAAM,OAAS,EAAI,CACvBF,EAAK,IACJ,4BACDE,EAAM,KAAOJ,GACb,KACD,CACApC,GACCwC,EAAM,KACLA,EAAM,KAAO,CACd,EACD4F,GAAO,GAAMlF,EAAO,GAEpBA,KAAU,EACVC,GAAQ,CAET,SAAY0F,KAAa,GAAK,CAG7B,IADAnK,GAAIiK,GAAY,EACRxF,EAAOzE,IAAI,CAClB,GAAK+J,KAAS,EACb,MAAMW,EAEPX,KACAvF,GACCW,GAAO0E,IAAO,GAAKpF,EACpBA,GAAQ,CACT,CAGAD,KAAUyF,GACVxF,GAAQwF,GAER3I,GAAM,EACNoI,GAAO,GAAMlF,EAAO,GAEpBA,KAAU,EACVC,GAAQ,CAET,KAAO,CAGN,IADAzE,GAAIiK,GAAY,EACRxF,EAAOzE,IAAI,CAClB,GAAK+J,KAAS,EACb,MAAMW,EAEPX,KACAvF,GACCW,GAAO0E,IAAO,GAAKpF,EACpBA,GAAQ,CACT,CAGAD,KAAUyF,GACVxF,GAAQwF,GAER3I,GAAM,EACNoI,GAAO,IAAOlF,EAAO,KAErBA,KAAU,EACVC,GAAQ,CAET,CACA,GACCX,EAAM,KAAO4F,GACb5F,EAAM,KAAOA,EAAM,MAClB,CACDF,EAAK,IACJ,4BACDE,EAAM,KAAOJ,GACb,KACD,CACA,KAAQgG,MACP5F,EAAM,KAAMA,EAAM,MAAO,EACxBxC,EAEH,CACD,CAGA,GAAKwC,EAAM,OAASJ,GACnB,MAID,GAAKI,EAAM,KAAM,GAAI,IAAM,EAAI,CAC9BF,EAAK,IACJ,uCACDE,EAAM,KAAOJ,GACb,KACD,CAuBA,GAlBAI,EAAM,QAAU,EAEhB0G,GAAO,CAAE,KAAM1G,EAAM,OAAQ,EAC7BoF,GAAMzD,EACLE,EACA7B,EAAM,KACN,EACAA,EAAM,KACNA,EAAM,QACN,EACAA,EAAM,KACN0G,EACD,EAGA1G,EAAM,QAAU0G,GAAK,KAGhBtB,GAAM,CACVtF,EAAK,IACJ,8BACDE,EAAM,KAAOJ,GACb,KACD,CAsBA,GApBAI,EAAM,SAAW,EAGjBA,EAAM,SAAWA,EAAM,QACvB0G,GAAO,CAAE,KAAM1G,EAAM,QAAS,EAC9BoF,GAAMzD,EACLG,EACA9B,EAAM,KACNA,EAAM,KACNA,EAAM,MACNA,EAAM,SACN,EACAA,EAAM,KACN0G,EACD,EAGA1G,EAAM,SAAW0G,GAAK,KAGjBtB,GAAM,CACVtF,EAAK,IAAM,wBACXE,EAAM,KAAOJ,GACb,KACD,CAGA,GADAI,EAAM,KAAO4D,GACRkC,KAAU7D,EACd,MAAM2E,EAGR,KAAKhD,GACJ5D,EAAM,KAAO6D,GAEd,KAAKA,GACJ,GAAKoC,IAAQ,GAAKC,IAAQ,IAAM,CAE/BpG,EAAK,SAAWkG,GAChBlG,EAAK,UAAYoG,GACjBpG,EAAK,QAAUiG,GACfjG,EAAK,SAAWmG,GAChBjG,EAAM,KAAOU,EACbV,EAAM,KAAOW,EAEbe,EAAc5B,EAAMK,EAAK,EAEzB6F,GAAMlG,EAAK,SACXwB,GAASxB,EAAK,OACdoG,GAAOpG,EAAK,UACZiG,GAAOjG,EAAK,QACZuB,GAAQvB,EAAK,MACbmG,GAAOnG,EAAK,SACZY,EAAOV,EAAM,KACbW,EAAOX,EAAM,KAGRA,EAAM,OAASH,KACnBG,EAAM,KAAO,IAEd,KACD,CAEA,IADAA,EAAM,KAAO,EAEZgB,GACChB,EAAM,QACLU,GACK,GAAKV,EAAM,SACd,CACH,EACDmG,GAAYnF,KAAS,GACrBoF,GAAYpF,KAAS,GAAO,IAC5BqF,GAAWrF,GAAO,MAEb,EAAAmF,IAAaxF,IAXV,CAeR,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CAET,CACA,GAAKyF,KAAaA,GAAU,OAAW,EAAI,CAI1C,IAHAE,GAAYH,GACZI,GAAUH,GACVI,GAAWH,GAEVrF,GACChB,EAAM,QACLwG,KACK9F,GACC,GACD4F,GACDC,IACD,IACDD,GACH,EACDH,GAAYnF,KAAS,GACrBoF,GAAYpF,KAAS,GAAO,IAC5BqF,GAAWrF,GAAO,MAGjB,EAAAsF,GAAYH,IACZxF,IAjBO,CAsBR,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CAET,CAEAD,KAAU4F,GACV3F,GAAQ2F,GAERtG,EAAM,MAAQsG,EACf,CAOA,GALA5F,KAAUyF,GACVxF,GAAQwF,GAERnG,EAAM,MAAQmG,GACdnG,EAAM,OAASqG,GACVD,KAAY,EAAI,CAIpBpG,EAAM,KAAOkE,GACb,KACD,CACA,GAAKkC,GAAU,GAAK,CAEnBpG,EAAM,KAAO,GACbA,EAAM,KAAOH,GACb,KACD,CACA,GAAKuG,GAAU,GAAK,CACnBtG,EAAK,IACJ,8BACDE,EAAM,KAAOJ,GACb,KACD,CACAI,EAAM,MAAQoG,GAAU,GACxBpG,EAAM,KAAO8D,GAEd,KAAKA,GACJ,GAAK9D,EAAM,MAAQ,CAGlB,IADA9D,GAAI8D,EAAM,MACFW,EAAOzE,IAAI,CAClB,GAAK+J,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEAX,EAAM,QACLU,GACI,GAAKV,EAAM,OACd,EAEFU,KAAUV,EAAM,MAChBW,GAAQX,EAAM,MAEdA,EAAM,MAAQA,EAAM,KACrB,CAEAA,EAAM,IAAMA,EAAM,OAClBA,EAAM,KAAO+D,GAEd,KAAKA,GACJ,KACC/C,GACChB,EAAM,SACLU,GACK,GAAKV,EAAM,UACd,CACH,EACDmG,GAAYnF,KAAS,GACrBoF,GAAYpF,KAAS,GAAO,IAC5BqF,GAAWrF,GAAO,MAEb,EAAAmF,IAAaxF,IAXV,CAeR,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CAET,CACA,IAAOyF,GAAU,OAAW,EAAI,CAI/B,IAHAE,GAAYH,GACZI,GAAUH,GACVI,GAAWH,GAEVrF,GACChB,EAAM,SACLwG,KACK9F,GACC,GACD4F,GACDC,IACD,IACDD,GACH,EACDH,GAAYnF,KAAS,GACrBoF,GAAYpF,KAAS,GAAO,IAC5BqF,GAAWrF,GAAO,MAGjB,EAAAsF,GAAYH,IACZxF,IAjBO,CAsBR,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CAET,CAEAD,KAAU4F,GACV3F,GAAQ2F,GAERtG,EAAM,MAAQsG,EACf,CAMA,GAJA5F,KAAUyF,GACVxF,GAAQwF,GAERnG,EAAM,MAAQmG,GACTC,GAAU,GAAK,CACnBtG,EAAK,IAAM,wBACXE,EAAM,KAAOJ,GACb,KACD,CACAI,EAAM,OAASqG,GACfrG,EAAM,MAAQoG,GAAU,GACxBpG,EAAM,KAAOgE,GAEd,KAAKA,GACJ,GAAKhE,EAAM,MAAQ,CAGlB,IADA9D,GAAI8D,EAAM,MACFW,EAAOzE,IAAI,CAClB,GAAK+J,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEAX,EAAM,QACLU,GACI,GAAKV,EAAM,OACd,EAEFU,KAAUV,EAAM,MAChBW,GAAQX,EAAM,MAEdA,EAAM,MAAQA,EAAM,KACrB,CAEA,GAAKA,EAAM,OAASA,EAAM,KAAO,CAChCF,EAAK,IACJ,gCACDE,EAAM,KAAOJ,GACb,KACD,CAGAI,EAAM,KAAOiE,GAEd,KAAKA,GACJ,GAAKiC,KAAS,EACb,MAAMU,EAGP,GADAhB,GAAOzF,GAAO+F,GACTlG,EAAM,OAAS4F,GAAO,CAG1B,GADAA,GAAO5F,EAAM,OAAS4F,GACjBA,GAAO5F,EAAM,OACZA,EAAM,KAAO,CACjBF,EAAK,IACJ,gCACDE,EAAM,KAAOJ,GACb,KACD,CAiBIgG,GAAO5F,EAAM,OACjB4F,IAAQ5F,EAAM,MACdmB,GAAOnB,EAAM,MAAQ4F,IAErBzE,GAAOnB,EAAM,MAAQ4F,GAEjBA,GAAO5F,EAAM,SACjB4F,GAAO5F,EAAM,QAEdoB,GAAcpB,EAAM,MACrB,MAECoB,GAAcE,GACdH,GAAO6E,GAAMhG,EAAM,OACnB4F,GAAO5F,EAAM,OAET4F,GAAOM,KACXN,GAAOM,IAERA,IAAQN,GACR5F,EAAM,QAAU4F,GAChB,GACCtE,GAAQ0E,IAAM,EAAI5E,GAAaD,IAAO,QAC7B,EAAEyE,IACP5F,EAAM,SAAW,IACrBA,EAAM,KAAO6D,IAEd,MACD,KAAKK,GACJ,GAAKgC,KAAS,EACb,MAAMU,EAEPtF,GAAQ0E,IAAM,EAAIhG,EAAM,OACxBkG,KACAlG,EAAM,KAAO6D,GACb,MACD,KAAKM,EACJ,GAAKnE,EAAM,KAAO,CAEjB,KAAQW,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KAEAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAwBA,GAtBAR,IAAQ+F,GACRpG,EAAK,WAAaK,GAClBH,EAAM,OAASG,GACVA,KACJL,EAAK,MAAQE,EAAM,MAElBA,EAAM,MACHR,EACAQ,EAAM,MACNsB,GACAnB,GACA6F,GAAM7F,EACN,EACAnB,EACAgB,EAAM,MACNsB,GACAnB,GACA6F,GAAM7F,EACN,GAELA,GAAO+F,IAGJlG,EAAM,MACLU,EACAkE,GAASlE,CAAK,KACjBV,EAAM,MACL,CACDF,EAAK,IAAM,uBACXE,EAAM,KAAOJ,GACb,KACD,CAEAc,EAAO,EACPC,EAAO,CAGR,CACAX,EAAM,KAAOoE,GAEd,KAAKA,GACJ,GAAKpE,EAAM,MAAQA,EAAM,MAAQ,CAEhC,KAAQW,EAAO,IAAK,CACnB,GAAKsF,KAAS,EACb,MAAMW,EAEPX,KACAvF,GAAQW,GAAO0E,IAAO,GAAKpF,EAC3BA,GAAQ,CACT,CAEA,GACCD,KACEV,EAAM,MAAQ,YACf,CACDF,EAAK,IAAM,yBACXE,EAAM,KAAOJ,GACb,KACD,CAEAc,EAAO,EACPC,EAAO,CAGR,CACAX,EAAM,KAAOqE,EAEd,KAAKA,EACJe,GAAMjD,EACN,MAAMyE,EACP,KAAKhH,GACJwF,GAAM9C,EACN,MAAMsE,EACP,KAAKtC,GACJ,OAAO/B,EACR,KAAKgC,GAEL,QACC,OAAOlC,CACT,CAqBD,OARAvC,EAAK,SAAWkG,GAChBlG,EAAK,UAAYoG,GACjBpG,EAAK,QAAUiG,GACfjG,EAAK,SAAWmG,GAChBjG,EAAM,KAAOU,EACbV,EAAM,KAAOW,GAIZX,EAAM,OACJG,KAASL,EAAK,WACfE,EAAM,KAAOJ,KACXI,EAAM,KAAOmE,GAAS2B,KAAU/D,KAGlC4D,GACC7F,EACAA,EAAK,OACLA,EAAK,SACLK,GAAOL,EAAK,SACb,GAEAE,EAAM,KAAOsE,GACN/B,IAGTtC,IAAOH,EAAK,SACZK,IAAQL,EAAK,UACbA,EAAK,UAAYG,GACjBH,EAAK,WAAaK,GAClBH,EAAM,OAASG,GACVH,EAAM,MAAQG,KAClBL,EAAK,MAAQE,EAAM,MAElBA,EAAM,MACHR,EACAQ,EAAM,MACNsB,GACAnB,GACAL,EAAK,SAAWK,EAChB,EACAnB,EACAgB,EAAM,MACNsB,GACAnB,GACAL,EAAK,SAAWK,EAChB,GAELL,EAAK,UACJE,EAAM,MACJA,EAAM,KAAO,GAAK,IAClBA,EAAM,OAASH,GAAO,IAAM,IAC5BG,EAAM,OAAS4D,IAAQ5D,EAAM,OAASuD,EACrC,IACA,IAECtD,KAAQ,GAAKE,KAAS,GACzB2F,KAAU/D,IACXqD,KAAQlD,IAERkD,GAAM5C,GAEA4C,GACR,CAEA,SAASyB,GAAY/G,EAAO,CAC3B,GACC,CAAEA,GACF,CAAEA,EAAK,MAEP,OAAOuC,EAGR,IAAIrC,GAAQF,EAAK,MACjB,OAAKE,GAAM,SACVA,GAAM,OAAS,MAEhBF,EAAK,MAAQ,KACNoC,CACR,CAEA,SAAS4E,GAAkBhH,EAAMiH,GAAO,CACvC,IAAI/G,EAOJ,MAJK,CAAEF,GAAQ,CAAEA,EAAK,QAGtBE,EAAQF,EAAK,OACNE,EAAM,KAAO,KAAQ,GACpBqC,GAIRrC,EAAM,KAAO+G,GACbA,GAAK,KAAO,GACL7E,EACR,CAEA,SAAS8E,GAAsBlH,EAAMmH,GAAa,CACjD,IAAIC,EAAaD,GAAW,OAExBjH,GACAmH,GACA/B,GAWJ,MAPC,CAAEtF,GACF,CAAEA,EAAK,QAIRE,GAAQF,EAAK,MAERE,GAAM,OAAS,GAAKA,GAAM,OAASoD,GAChCf,EAIHrC,GAAM,OAASoD,IACnB+D,GAAS,EAETA,GAASnI,EACRmI,GACAF,GACAC,EACA,CACD,EACKC,KAAWnH,GAAM,OACdsC,GAKT8C,GAAMO,GACL7F,EACAmH,GACAC,EACAA,CACD,EACK9B,IACJpF,GAAM,KAAOsE,GACN/B,IAERvC,GAAM,SAAW,EAEVkC,GACR,CAEAvG,EAAQ,aAAeoJ,GACvBpJ,EAAQ,cAAgBqJ,GACxBrJ,EAAQ,iBAAmBmJ,GAC3BnJ,EAAQ,YAAc0J,GACtB1J,EAAQ,aAAewJ,GACvBxJ,EAAQ,QAAUkK,GAClBlK,EAAQ,WAAakL,GACrBlL,EAAQ,iBAAmBmL,GAC3BnL,EAAQ,qBAAuBqL,GAC/BrL,EAAQ,YAAc,oCAWvB,EACA,CACC,kBAAmB,EACnB,YAAa,EACb,UAAW,EACX,YAAa,EACb,aAAc,CACf,CACD,EACA,EAAG,CACF,SAAWgB,EAASf,EAAQD,EAAU,CACrC,aAqBA,IAAIsC,EAAQtB,EAAS,iBAAkB,EAEnCyK,EAAU,GACV5C,EAAc,IACdC,EAAe,IAGf7C,EAAQ,EACRC,EAAO,EACPC,EAAQ,EAERuF,EAAQ,CACsB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACnD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,CAC1C,EAEIC,EAAO,CACwB,GAAI,GAAI,GAAI,GAAI,GAClD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAC7C,EAEIC,EAAQ,CACqB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IACjD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,MACjD,MAAO,EAAG,CACX,EAEIC,EAAO,CACuB,GAAI,GAAI,GAAI,GAAI,GAAI,GACrD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAC7C,EAEA5L,EAAO,QAAU,SAChB6L,EACAC,EACAC,EACAC,EACAvI,EACAwI,EACAC,EACApB,EACC,CACD,IAAI/F,EAAO+F,EAAK,KAGZlJ,EAAM,EACNkI,EAAM,EACNqC,EAAM,EACTnJ,EAAM,EACHoJ,EAAO,EACPC,EAAO,EACPC,EAAO,EACPhC,EAAO,EACPiC,EAAO,EACPC,GAAO,EACPC,GACAC,EACAC,EACAC,GACAzC,GACA0C,GAAO,KACPC,GAAa,EAEbhJ,GACAiJ,GAAQ,IAAI1K,EAAM,MAAOmJ,EAAU,CAAE,EACrCwB,GAAO,IAAI3K,EAAM,MAAOmJ,EAAU,CAAE,EACpCyB,GAAQ,KACRC,GAAc,EAEd3C,GAAWC,GAASC,EAkCxB,IAAM7I,EAAM,EAAGA,GAAO4J,EAAS5J,IAC9BmL,GAAOnL,CAAI,EAAI,EAEhB,IAAMkI,EAAM,EAAGA,EAAMkC,EAAOlC,IAC3BiD,GAAOjB,EAAMC,EAAajC,CAAI,CAAE,IAKjC,IADAsC,EAAOrH,EACD/B,EAAMwI,EAASxI,GAAO,GACtB+J,GAAO/J,CAAI,IAAM,EADQA,IAC9B,CAOD,GAHKoJ,EAAOpJ,IACXoJ,EAAOpJ,GAEHA,IAAQ,EAKZ,OAAAS,EAAOwI,GAAc,EAClB,GAAK,GAAS,IAAM,GAAO,EAK9BxI,EAAOwI,GAAc,EAClB,GAAK,GAAS,IAAM,GAAO,EAE9BnB,EAAK,KAAO,EACL,EAER,IAAMqB,EAAM,EAAGA,EAAMnJ,GACf+J,GAAOZ,CAAI,IAAM,EADGA,IACzB,CAUD,IANKC,EAAOD,IACXC,EAAOD,GAIR7B,EAAO,EACD1I,EAAM,EAAGA,GAAO4J,EAAS5J,IAG9B,GAFA0I,IAAS,EACTA,GAAQyC,GAAOnL,CAAI,EACd0I,EAAO,EACX,MAAO,GAGT,GAAKA,EAAO,IAAOuB,IAAS7F,GAAShD,IAAQ,GAC5C,MAAO,GAKR,IADAgK,GAAM,CAAE,EAAI,EACNpL,EAAM,EAAGA,EAAM4J,EAAS5J,IAC7BoL,GAAMpL,EAAM,CAAE,EAAIoL,GAAMpL,CAAI,EAAImL,GAAOnL,CAAI,EAI5C,IAAMkI,EAAM,EAAGA,EAAMkC,EAAOlC,IACtBgC,EAAMC,EAAajC,CAAI,IAAM,IACjCoC,EAAMc,GAAMlB,EAAMC,EAAajC,CAAI,CAAE,GAAI,EACxCA,GAkEH,GA5BK+B,IAAS7F,GACb6G,GAAOI,GAAQf,EACfpI,GAAM,IACK+H,IAAS5F,GACpB4G,GAAOpB,EACPqB,IAAc,IACdG,GAAQvB,EACRwB,IAAe,IACfpJ,GAAM,MAGN+I,GAAOlB,EACPsB,GAAQrB,EACR9H,GAAM,IAIP0I,GAAO,EACP1C,EAAM,EACNlI,EAAMuK,EACNhC,GAAO8B,EACPI,EAAOD,EACPE,EAAO,EACPK,EAAM,GACNJ,EAAO,GAAKH,EACZQ,GAAOL,EAAO,EAIXV,IAAS5F,GAAQsG,EAAO3D,GACxBiD,IAAS3F,GAASqG,EAAO1D,EAE3B,MAAO,GAIR,OAAS,CAER0B,GAAY3I,EAAM0K,EACbJ,EAAMpC,CAAI,EAAIhG,IAClB0G,GAAU,EACVC,EAAWyB,EAAMpC,CAAI,GACVoC,EAAMpC,CAAI,EAAIhG,IACzB0G,GAAUyC,GAAOC,GAAchB,EAAMpC,CAAI,CAAE,EAC3CW,EAAWoC,GAAMC,GAAaZ,EAAMpC,CAAI,CAAE,IAE1CU,GAAU,GACVC,EAAW,GAIZgC,GAAO,GAAO7K,EAAM0K,EACpBI,EAAO,GAAKL,EACZF,EAAMO,EACN,GACCA,GAAQD,GACRhJ,EAAO0G,IAASqC,IAAQF,GAASI,CAAK,EACnCnC,IAAa,GACbC,IAAW,GACbC,EACA,QACQiC,IAAS,GAInB,IADAD,GAAO,GAAO7K,EAAM,EACZ4K,GAAOC,IACdA,KAAS,EAWV,GATKA,KAAS,GACbD,IAAQC,GAAO,EACfD,IAAQC,IAERD,GAAO,EAIR1C,IACK,EAAEiD,GAAOnL,CAAI,IAAM,EAAI,CAC3B,GAAKA,IAAQoB,EACZ,MAEDpB,EAAMkK,EAAMC,EAAaG,EAAMpC,CAAI,CAAE,CACtC,CAGA,GAAKlI,EAAMwK,IAAUI,GAAOI,MAAWD,EAAM,CAY5C,IAVKL,IAAS,IACbA,EAAOF,GAIRjC,IAAQgC,EAGRE,EAAOzK,EAAM0K,EACbhC,EAAO,GAAK+B,EACJA,EAAOC,EAAOtJ,IACrBsH,GAAQyC,GAAOV,EAAOC,CAAK,EACtB,EAAAhC,GAAQ,KAGb+B,IACA/B,IAAS,EAKV,GADAiC,GAAQ,GAAKF,EAEVR,IAAS5F,GAAQsG,EAAO3D,GACxBiD,IAAS3F,GAASqG,EAAO1D,EAE3B,MAAO,GAIR8D,EAAMH,GAAOI,GAIbnJ,EAAOkJ,CAAI,EACRP,GAAQ,GACRC,GAAQ,GACRlC,GAAO8B,EACT,CACF,CACD,CAKA,OAAKO,KAAS,IAIb/I,EAAO0G,GAAOqC,EAAK,EACd5K,EAAM0K,GAAU,GAAS,IAAM,GAAO,GAK5CxB,EAAK,KAAOsB,EACL,CACR,CACD,EACA,CAAE,kBAAmB,CAAE,CACxB,EACA,GAAI,CACH,SAAWrL,EAASf,EAAQD,EAAU,CACrC,aAqBAC,EAAO,QAAU,CAChB,EAAG,kBACH,EAAG,aACH,EAAG,GACH,KAAM,aACN,KAAM,eACN,KAAM,aACN,KAAM,sBACN,KAAM,eACN,KAAM,sBACP,CACD,EACA,CAAC,CACF,EACA,GAAI,CACH,SAAWe,EAASf,EAAQD,EAAU,CACrC,aAqBA,SAASoN,GAAU,CAElB,KAAK,MAAQ,KACb,KAAK,QAAU,EAEf,KAAK,SAAW,EAEhB,KAAK,SAAW,EAEhB,KAAK,OAAS,KACd,KAAK,SAAW,EAEhB,KAAK,UAAY,EAEjB,KAAK,UAAY,EAEjB,KAAK,IAAM,GAEX,KAAK,MAAQ,KAEb,KAAK,UAAY,EAEjB,KAAK,MAAQ,CACd,CAEAnN,EAAO,QAAUmN,CAClB,EACA,CAAC,CACF,EACA,kBAAmB,CAClB,SAAWpM,EAASf,EAAQD,EAAU,CACrC,aAEA,IAAIqN,EAAerM,EAAS,gBAAiB,EACzCsB,EAAQtB,EAAS,gBAAiB,EAClCsM,EAAUtM,EAAS,iBAAkB,EACrCL,EAAIK,EAAS,kBAAmB,EAChCuM,EAAMvM,EAAS,iBAAkB,EACjCoM,EAAUpM,EAAS,gBAAiB,EACpCgD,EAAWhD,EAAS,iBAAkB,EAEtCwM,EAAW,OAAO,UAAU,SAgFhC,SAASC,EAASC,EAAU,CAC3B,GAAK,EAAI,gBAAgBD,GACxB,OAAO,IAAIA,EAASC,CAAQ,EAE7B,KAAK,QAAUpL,EAAM,OACpB,CACC,UAAW,MACX,WAAY,EACZ,GAAI,EACL,EACAoL,GAAW,CAAC,CACb,EAEA,IAAIC,EAAM,KAAK,QAKdA,EAAI,KACJA,EAAI,YAAc,GAClBA,EAAI,WAAa,KAEjBA,EAAI,WAAa,CAACA,EAAI,WACjBA,EAAI,aAAe,IACvBA,EAAI,WAAa,MAMlBA,EAAI,YAAc,GAClBA,EAAI,WAAa,IACjB,EAAID,GAAWA,EAAQ,cAEvBC,EAAI,YAAc,IAKdA,EAAI,WAAa,IAAMA,EAAI,WAAa,KAGrCA,EAAI,WAAa,MAAS,IAChCA,EAAI,YAAc,IAIpB,KAAK,IAAM,EACX,KAAK,IAAM,GACX,KAAK,MAAQ,GACb,KAAK,OAAS,CAAC,EAEf,KAAK,KAAO,IAAIP,EAChB,KAAK,KAAK,UAAY,EAEtB,IAAIQ,EAASP,EAAa,aACzB,KAAK,KACLM,EAAI,UACL,EAEA,GAAKC,IAAWjN,EAAE,KACjB,MAAM,IAAI,MAAO4M,EAAKK,CAAO,CAAE,EAQhC,GALA,KAAK,OAAS,IAAI5J,EAElBqJ,EAAa,iBAAkB,KAAK,KAAM,KAAK,MAAO,EAGjDM,EAAI,aAEH,OAAOA,EAAI,YAAe,SAC9BA,EAAI,WAAaL,EAAQ,WACxBK,EAAI,UACL,EAEAH,EAAS,KAAMG,EAAI,UAAW,IAC9B,yBAEAA,EAAI,WAAa,IAAI,WACpBA,EAAI,UACL,GAEIA,EAAI,MAERC,EAASP,EAAa,qBACrB,KAAK,KACLM,EAAI,UACL,EACKC,IAAWjN,EAAE,OACjB,MAAM,IAAI,MAAO4M,EAAKK,CAAO,CAAE,CAInC,CA8BAH,EAAQ,UAAU,KAAO,SAAWI,EAAMC,EAAO,CAChD,IAAI3J,EAAO,KAAK,KACZ4J,EAAY,KAAK,QAAQ,UACzBzC,EAAa,KAAK,QAAQ,WAC1BsC,EAAQI,EACRC,EAAeC,EAAMC,EAIrBC,EAAgB,GAEpB,GAAK,KAAK,MACT,MAAO,GAERJ,EACCF,IAAS,CAAC,CAACA,EACRA,EACAA,IAAS,GACTnN,EAAE,SACFA,EAAE,WAGD,OAAOkN,GAAS,SAEpB1J,EAAK,MAAQmJ,EAAQ,cAAeO,CAAK,EAEzCL,EAAS,KAAMK,CAAK,IAAM,uBAE1B1J,EAAK,MAAQ,IAAI,WAAY0J,CAAK,EAElC1J,EAAK,MAAQ0J,EAGd1J,EAAK,QAAU,EACfA,EAAK,SAAWA,EAAK,MAAM,OAE3B,EAAG,CA2BF,GA1BKA,EAAK,YAAc,IACvBA,EAAK,OAAS,IAAI7B,EAAM,KAAMyL,CAAU,EACxC5J,EAAK,SAAW,EAChBA,EAAK,UAAY4J,GAGlBH,EAASP,EAAa,QACrBlJ,EACAxD,EAAE,UACH,EAEKiN,IAAWjN,EAAE,aAAe2K,IAChCsC,EAASP,EAAa,qBACrB,KAAK,KACL/B,CACD,GAIAsC,IAAWjN,EAAE,aACbyN,IAAkB,KAElBR,EAASjN,EAAE,KACXyN,EAAgB,IAIhBR,IAAWjN,EAAE,cACbiN,IAAWjN,EAAE,KAEb,YAAK,MAAOiN,CAAO,EACnB,KAAK,MAAQ,GACN,GAGHzJ,EAAK,WAERA,EAAK,YAAc,GACnByJ,IAAWjN,EAAE,cACXwD,EAAK,WAAa,IACjB6J,IAAUrN,EAAE,UACbqN,IAAUrN,EAAE,iBAET,KAAK,QAAQ,KAAO,UACxBsN,EAAgBX,EAAQ,WACvBnJ,EAAK,OACLA,EAAK,QACN,EAEA+J,EAAO/J,EAAK,SAAW8J,EACvBE,EAAUb,EAAQ,WACjBnJ,EAAK,OACL8J,CACD,EAGA9J,EAAK,SAAW+J,EAChB/J,EAAK,UAAY4J,EAAYG,EACxBA,GACJ5L,EAAM,SACL6B,EAAK,OACLA,EAAK,OACL8J,EACAC,EACA,CACD,EAGD,KAAK,OAAQC,CAAQ,GAErB,KAAK,OACJ7L,EAAM,UACL6B,EAAK,OACLA,EAAK,QACN,CACD,GAYEA,EAAK,WAAa,GAAKA,EAAK,YAAc,IAC9CiK,EAAgB,GAElB,QACGjK,EAAK,SAAW,GAAKA,EAAK,YAAc,IAC1CyJ,IAAWjN,EAAE,cAQd,OALKiN,IAAWjN,EAAE,eACjBqN,EAAQrN,EAAE,UAINqN,IAAUrN,EAAE,UAChBiN,EAASP,EAAa,WAAY,KAAK,IAAK,EAC5C,KAAK,MAAOO,CAAO,EACnB,KAAK,MAAQ,GACNA,IAAWjN,EAAE,OAIhBqN,IAAUrN,EAAE,eAChB,KAAK,MAAOA,EAAE,IAAK,EACnBwD,EAAK,UAAY,GACV,GAIT,EAWAsJ,EAAQ,UAAU,OAAS,SAAWvL,EAAQ,CAC7C,KAAK,OAAO,KAAMA,CAAM,CACzB,EAYAuL,EAAQ,UAAU,MAAQ,SAAWG,EAAS,CAExCA,IAAWjN,EAAE,OACZ,KAAK,QAAQ,KAAO,SAGxB,KAAK,OAAS,KAAK,OAAO,KAAM,EAAG,EAEnC,KAAK,OAAS2B,EAAM,cACnB,KAAK,MACN,GAGF,KAAK,OAAS,CAAC,EACf,KAAK,IAAMsL,EACX,KAAK,IAAM,KAAK,KAAK,GACtB,EAyCA,SAAS1D,EAASxE,EAAOgI,EAAU,CAClC,IAAIW,EAAW,IAAIZ,EAASC,CAAQ,EAKpC,GAHAW,EAAS,KAAM3I,EAAO,EAAK,EAGtB2I,EAAS,IACb,MAAMA,EAAS,KAAOd,EAAKc,EAAS,GAAI,EAGzC,OAAOA,EAAS,MACjB,CAUA,SAASC,EAAY5I,EAAOgI,EAAU,CACrC,OAAAA,EAAUA,GAAW,CAAC,EACtBA,EAAQ,IAAM,GACPxD,EAASxE,EAAOgI,CAAQ,CAChC,CAWA1N,EAAQ,QAAUyN,EAClBzN,EAAQ,QAAUkK,EAClBlK,EAAQ,WAAasO,EACrBtO,EAAQ,OAASkK,CAClB,EACA,CACC,iBAAkB,EAClB,kBAAmB,EACnB,mBAAoB,EACpB,kBAAmB,EACnB,iBAAkB,EAClB,kBAAmB,GACnB,iBAAkB,EACnB,CACD,CACD,EACA,CAAC,EACD,CAAC,CACF,EAAG,iBAAkB,CACtB,CAAE,CAAA,CAAA,CAAA,UC1+HF,IAAIqE,IAAgB,WAAW,MA+BzBC,GAAN,KAAY,CACX,YAAaC,EAAMC,EAAS,CAAC,EAAGC,EAAM,CACrC,KAAK,KAAOF,EACZ,KAAK,OAASC,EACd,KAAK,IAAMC,EACX,OAAO,eAAgB,KAAM,iBAAkB,CAC9C,WAAY,GACZ,SAAU,EACX,CAAE,EACF,KAAK,eAAiB,EACvB,CACA,gBAAiB,CAAC,CAClB,iBAAkB,CACjB,KAAK,eAAiB,EACvB,CACA,SAAU,CACT,OAAO,IACR,CACA,UAAW,CACV,OAAO,KAAK,IACT,IAAK,KAAK,IAAK,YAAa,KAAK,GAAI,GACrC,IAAK,KAAK,IAAK,SACnB,CACD,EACMC,GAAN,KAAmB,CAClB,aAAc,CACb,KAAK,UAAY,CAAC,CACnB,CACA,iBAAkBH,EAAMI,EAAUC,EAAa,CAC9C,IAAIC,EAAM,KAAK,UAAWN,CAAK,GAAK,CAAC,EAChCK,EAAaC,EAAI,QAASF,CAAS,EACnCE,EAAI,KAAMF,CAAS,EACxB,KAAK,UAAWJ,CAAK,EAAIM,CAC1B,CACA,oBAAqBN,EAAMI,EAAW,CACrC,IAAIE,EAAM,KAAK,UAAWN,CAAK,GAAK,CAAC,EACjCO,EAAMD,EAAI,UAAaE,GAAOA,IAAMJ,CAAS,EAC5CG,EAAM,KACVD,EAAI,OAAQC,EAAK,CAAE,EACnB,KAAK,UAAWP,CAAK,EAAIM,EAE3B,CACA,SAAUG,EAAQ,CACjB,IAAIH,EAAM,KAAK,UAAWG,EAAM,IAAK,EACrC,GAAKH,EACJ,QAAUI,EAAI,EAAGF,EAAIF,EAAI,OAAQI,EAAIF,GAC7BC,EAAM,eAD0BC,IAEvCJ,EAAKI,CAAE,EAAGD,CAAM,CAGnB,CACD,EACME,GAAY,IAAI,KAAM,0BAA2B,EAAE,QAAQ,EACjE,SAASC,GAAQC,EAAO,CACvB,OAAO,MAAM,KAAMA,CAAK,EACtB,IAAOC,GAAO,OAAO,aAAcA,CAAE,CAAE,EACvC,KAAM,EAAG,CACZ,CACA,IAAMC,GAAN,KAAa,CACZ,YAAaC,EAAMC,EAAUC,EAAO,CACnC,KAAK,MAASA,GAAQF,EAAK,KAAO,IAAK,KAAK,EAC5C,KAAK,OAASA,EAAK,OACnB,KAAK,MAAQA,EAAK,OAClB,KAAK,OAAS,EACd,KAAK,KAAOC,EACZ,CACC,UACA,WACA,WACA,YACA,WACA,YACA,cACA,cACD,EAAE,QAAWC,GAAU,CACtB,IAAIC,EAAKD,EAAK,QAAS,YAAa,EAAG,EAAE,YAAY,EACjDE,EAAY,SAAUF,EAAK,QAAS,SAAU,EAAG,CAAE,EAAI,EAC3D,OAAO,eAAgB,KAAMC,EAAI,CAChC,IAAK,IAAM,KAAK,SAAUD,EAAME,CAAU,CAC3C,CAAE,CACH,CAAE,CACH,CACA,IAAI,iBAAkB,CACrB,OAAO,KAAK,MAAQ,KAAK,MAC1B,CACA,IAAI,gBAAiBC,EAAW,CAC/B,KAAK,MAAQA,EACb,KAAK,OAAS,CACf,CACA,KAAMC,EAAI,EAAGC,EAAO,EAAI,CACvB,KAAK,QAAYD,EAAIC,EAAS,CAC/B,CACA,SAAUvB,EAAMoB,EAAY,CAC3B,IAAIb,EAAM,KAAK,MAAQ,KAAK,OAC5B,KAAK,QAAUa,EACf,GAAI,CACH,OAAO,KAAK,KAAMpB,CAAK,EAAGO,CAAI,CAC/B,OAAUC,EAAI,CACb,cAAQ,MAAO,SAAUR,EAAMoB,EAAW,IAAK,EAC/C,QAAQ,MAAO,SAAU,KAAK,MAAO,KAAK,MAAO,EAC3CZ,CACP,CACD,CACA,MAAOc,EAAI,CACV,GAAKA,IAAM,GAAKA,IAAM,IAAMA,IAAM,IAAMA,IAAM,GAC7C,OAAO,KAAM,OAAQA,CAAE,EAAG,EACxB,SAAU,CAAE,EACZ,SAAUA,EAAG,CAAE,EACf,MAAO,EAAG,EACV,IAAOR,GAAOA,IAAM,GAAI,EAE3B,QAAQ,MACP,sEACD,EACA,QAAQ,MAAM,CACf,CACA,IAAI,KAAM,CACT,IAAMU,EAAI,KAAK,OACf,OAAOZ,GAAQ,CACZY,GAAK,GAAO,IACZA,GAAK,GAAO,IACZA,GAAK,EAAM,IACbA,EAAI,GACL,CAAE,CACH,CACA,IAAI,OAAQ,CACX,IAAIC,EAAQ,KAAK,MACbC,EAAQ,KAAK,MAAS,IAAM,KAAK,OAAW,KAAM,EACtD,OAAOD,EAAQC,EAAQ,GACxB,CACA,IAAI,aAAc,CACjB,IAAID,EAAQ,KAAK,OACbC,EAAQ,KAAK,OAAO,SAAU,EAAG,EAAE,SAAU,EAAG,CAAE,EACtD,OAAO,WAAY,GAAID,CAAM,IAAKC,CAAM,EAAG,CAC5C,CACA,IAAI,QAAS,CACZ,OAAS,KAAK,OAAS,KAAS,KAAK,OAAS,GAAM,KAAK,KAC1D,CACA,IAAI,SAAU,CACb,IAAIC,EAAQ,EACZ,QAAUC,EAAI,EAAGA,EAAI,EAAGA,IAAM,CAC7B,IAAIC,EAAO,KAAK,MAEhB,GADAF,EAAQA,EAAQ,KAAQE,EAAO,KAC1BA,EAAO,IAAM,KACnB,CACA,OAAOF,CACR,CACA,IAAI,cAAe,CAClB,OAAO,IAAI,KAAMhB,GAAY,IAAM,SAAU,KAAK,MAAM,SAAS,CAAE,CAAE,CACtE,CACA,IAAI,OAAQ,CACX,OAAO,KAAK,KACb,CACA,IAAI,QAAS,CACZ,OAAO,KAAK,MACb,CACA,IAAI,UAAW,CACd,OAAO,KAAK,MACb,CACA,IAAI,UAAW,CACd,OAAO,KAAK,MACb,CACA,IAAI,SAAU,CACb,IAAMY,EAAO,EAAE,OACTO,EAAU,CAAE,EAAG,EAAG,GAAI,EAAG,EAAGP,GAAQ,EAAG,EACvCQ,EAAWR,EAAO,MACxB,OAAOO,EAAUC,EAAW,KAC7B,CACA,cAAe,CACT,KAAK,QAAU,KAAK,QACxB,QAAQ,MACP,iCAAkC,KAAK,MAAO,UAAW,KAAK,IAAK,eAAgB,KAAK,MAAO,GAChG,CAEF,CACA,UAAWT,EAAI,EAAGD,EAAW,EAAGE,EAAO,EAAGS,EAAS,GAAQ,CAE1D,GADAV,EAAIA,GAAK,KAAK,OACTA,IAAM,EAAI,MAAO,CAAC,EAClBD,IAAW,KAAK,gBAAkBA,GACvC,IAAMF,EAAK,GAAIa,EAAS,GAAK,GAAI,MAAOT,CAAK,GAC5CU,EAAQ,CAAC,EACV,KAAQX,KAAMW,EAAM,KAAM,KAAMd,CAAG,CAAE,EACrC,OAAOc,CACR,CACD,EACMC,GAAN,KAAiB,CAChB,YAAaC,EAAS,CAErB,OAAO,eAAgB,KAAM,SADb,CAAE,WAAY,GAAO,IAAK,IAAMA,CAAO,CACR,EAC/C,IAAMC,EAAQD,EAAO,gBAErB,OAAO,eAAgB,KAAM,QADT,CAAE,WAAY,GAAO,IAAK,IAAMC,CAAM,CACR,CACnD,CACA,KAAMC,EAAS,CACd,OAAO,KAAMA,CAAO,EAAE,QAAWC,GAAO,CACvC,IAAIC,EAAQ,OAAO,yBAA0BF,EAAQC,CAAE,EAClDC,EAAM,IACV,KAAMD,CAAE,EAAIC,EAAM,IAAI,KAAM,IAAK,EACtBA,EAAM,QAAU,SAC3B,KAAMD,CAAE,EAAIC,EAAM,MAEpB,CAAE,EACG,KAAK,OAAO,QAChB,KAAK,OAAO,aAAa,CAE3B,CACD,EACMC,GAAN,cAA0BN,EAAW,CACpC,YAAalB,EAAMC,EAAUC,EAAO,CACnC,GAAM,CAAE,OAAAiB,EAAgB,MAAAC,CAAa,EAAI,MACxC,IAAIrB,GAAQC,EAAMC,EAAUC,CAAK,CAClC,EAEA,OAAO,eAAgB,KAAM,IADb,CAAE,WAAY,GAAO,IAAK,IAAMiB,CAAO,CACb,EAE1C,OAAO,eAAgB,KAAM,aADT,CAAE,WAAY,GAAO,IAAK,IAAMC,CAAM,CACH,CACxD,CACD,EACA,SAASK,GAAQC,EAAQC,EAAUC,EAAS,CAC3C,IAAIC,EACJ,OAAO,eAAgBH,EAAQC,EAAU,CACxC,IAAK,IACCE,IACLA,EAAMD,EAAO,EACNC,GAER,WAAY,EACb,CAAE,CACH,CACA,IAAMC,GAAN,cAAmBN,EAAY,CAC9B,YAAaO,EAAM9B,EAAU+B,EAAc,CAC1C,GAAM,CAAE,EAAGV,CAAE,EAAI,MAAO,CAAE,OAAQ,EAAG,OAAQ,EAAG,EAAGrB,EAAU,MAAO,EACpE,KAAK,QAAUqB,EAAE,OACjB,KAAK,UAAYA,EAAE,OACnB,KAAK,YAAcA,EAAE,OACrB,KAAK,cAAgBA,EAAE,OACvB,KAAK,WAAaA,EAAE,OACpBA,EAAE,aAAa,EACf,KAAK,UAAY,CAAE,GAAG,IAAI,MAAO,KAAK,SAAU,CAAE,EAAE,IACjDW,GAAO,IAAIC,GAAaZ,CAAE,CAC7B,EACA,KAAK,OAAS,CAAC,EACf,KAAK,UAAU,QAAWa,GAAW,CACpC,IAAMP,EAAS,IACdI,EACC,KAAK,OACL,CACC,IAAKG,EAAM,IACX,OAAQA,EAAM,OACd,OAAQA,EAAM,MACf,EACAlC,CACD,EACDwB,GAAQ,KAAK,OAAQU,EAAM,IAAI,KAAK,EAAGP,CAAO,CAC/C,CAAE,CACH,CACD,EACMM,GAAN,KAAkB,CACjB,YAAaZ,EAAI,CAChB,KAAK,IAAMA,EAAE,IACb,KAAK,SAAWA,EAAE,OAClB,KAAK,OAASA,EAAE,OAChB,KAAK,OAASA,EAAE,MACjB,CACD,EACMc,GAAaC,GAAW,SAAW,OACrCC,GAAmB,OAMjBC,GAAN,cAAqBf,EAAY,CAChC,YAAaO,EAAM9B,EAAU+B,EAAc,CAC1C,GAAM,CAAE,EAAGV,CAAE,EAAI,MAAO,CAAE,OAAQ,EAAG,OAAQ,EAAG,EAAGrB,EAAU,MAAO,EACpE,KAAK,UAAYqB,EAAE,IACnB,KAAK,OAASA,EAAE,OAChB,KAAK,OAASA,EAAE,OAChB,KAAK,UAAYA,EAAE,OACnBA,EAAE,OACF,KAAK,cAAgBA,EAAE,OACvB,KAAK,aAAeA,EAAE,OACtB,KAAK,aAAeA,EAAE,OACtB,KAAK,WAAaA,EAAE,OACpB,KAAK,WAAaA,EAAE,OACpB,KAAK,eAAiBA,EAAE,OACxB,KAAK,WAAaA,EAAE,OACpB,KAAK,WAAaA,EAAE,OACpBA,EAAE,aAAa,EACf,KAAK,UAAY,CAAE,GAAG,IAAI,MAAO,KAAK,SAAU,CAAE,EAAE,IACjDW,GAAO,IAAIO,GAAyBlB,CAAE,CACzC,EACAmB,GAAsB,KAAMxC,EAAU+B,CAAY,CACnD,CACD,EACMQ,GAAN,KAA8B,CAC7B,YAAalB,EAAI,CAChB,KAAK,IAAMA,EAAE,IACb,KAAK,OAASA,EAAE,OAChB,KAAK,WAAaA,EAAE,OACpB,KAAK,WAAaA,EAAE,OACpB,KAAK,aAAeA,EAAE,MACvB,CACD,EACA,SAASmB,GAAsBC,EAAMzC,EAAU+B,EAAc,CAC5DU,EAAK,OAAS,CAAC,EACfA,EAAK,UAAU,QAAWP,GAAW,CACpCV,GAAQiB,EAAK,OAAQP,EAAM,IAAI,KAAK,EAAG,IAAM,CAC5C,IAAIQ,EAAS,EACTC,EAAO3C,EACX,GAAKkC,EAAM,aAAeA,EAAM,WAAa,CAC5C,IAAMtC,EAAOI,EAAS,OAAO,MAC5BkC,EAAM,OACNA,EAAM,OAASA,EAAM,UACtB,EACIU,EACJ,GAAKT,GACJS,EAAWT,GAAY,IAAI,WAAYvC,CAAK,CAAE,UACnCyC,GACXO,EAAWP,GAAkB,IAAI,WAAYzC,CAAK,CAAE,MAC9C,CACN,IAAMX,EAAM,mDACZ,MAAK,KAAK,SAAU,KAAK,QAASA,CAAI,EAChC,IAAI,MAAOA,CAAI,CACtB,CACA0D,EAAO,IAAI,SAAUC,EAAS,MAAO,CACtC,MACCF,EAASR,EAAM,OAEhB,OAAOH,EACNU,EAAK,OACL,CAAE,IAAKP,EAAM,IAAK,OAAAQ,EAAgB,OAAQR,EAAM,UAAW,EAC3DS,CACD,CACD,CAAE,CACH,CAAE,CACH,CACA,IAAME,GAAeC,GACjBC,GAAqB,OAMnBC,GAAN,cAAsBzB,EAAY,CACjC,YAAaO,EAAM9B,EAAU+B,EAAc,CAC1C,GAAM,CAAE,EAAGV,CAAE,EAAI,MAAO,CAAE,OAAQ,EAAG,OAAQ,EAAG,EAAGrB,EAAU,OAAQ,EACrE,KAAK,UAAYqB,EAAE,IACnB,KAAK,OAASA,EAAE,OAChB,KAAK,OAASA,EAAE,OAChB,KAAK,UAAYA,EAAE,OACnBA,EAAE,OACF,KAAK,cAAgBA,EAAE,OACvB,KAAK,oBAAsBA,EAAE,OAC7B,KAAK,aAAeA,EAAE,OACtB,KAAK,aAAeA,EAAE,OACtB,KAAK,WAAaA,EAAE,OACpB,KAAK,WAAaA,EAAE,OACpB,KAAK,eAAiBA,EAAE,OACxB,KAAK,WAAaA,EAAE,OACpB,KAAK,WAAaA,EAAE,OACpBA,EAAE,aAAa,EACf,KAAK,UAAY,CAAE,GAAG,IAAI,MAAO,KAAK,SAAU,CAAE,EAAE,IACjDW,GAAO,IAAIiB,GAA0B5B,CAAE,CAC1C,EACA,IAAI6B,EAAa7B,EAAE,gBACnB,KAAK,UAAW,CAAE,EAAE,OAAS,EAC7B,KAAK,UAAU,QAAS,CAAE9B,EAAGoB,IAAO,CACnC,IAAIwC,EAAO,KAAK,UAAWxC,EAAI,CAAE,EAC5BwC,IACJA,EAAK,OACJ5D,EAAE,QACAA,EAAE,kBAAoB,OACrBA,EAAE,gBACFA,EAAE,YAER,CAAE,EACF,IAAI6D,EACAC,EAASrD,EAAS,OAAO,MAAOkD,CAAW,EAC/C,GAAKL,GACJO,EAAUP,GAAc,IAAI,WAAYQ,CAAO,CAAE,UACtCN,GACXK,EAAU,IAAI,WAAYL,GAAoBM,CAAO,CAAE,MACjD,CACN,IAAMpE,EAAM,mDACZ,MAAK6C,EAAK,SAAUA,EAAK,QAAS7C,CAAI,EAChC,IAAI,MAAOA,CAAI,CACtB,CACAqE,GAAuB,KAAMF,EAASrB,CAAY,CACnD,CACD,EACMkB,GAAN,KAA+B,CAC9B,YAAa5B,EAAI,CAChB,KAAK,MAAQA,EAAE,MACf,IAAMkC,EAAc,KAAK,UAAY,KAAK,MAAQ,GAC7CA,IAAc,GAClB,KAAK,IAAMlC,EAAE,IAEb,KAAK,IAAMmC,GAAaD,CAAU,EAInC,IAAIE,GAFuB,KAAK,kBAC7B,KAAK,MAAQ,MAAS,KACgB,GACpC,KAAK,MAAQ,QAAU,KAAK,MAAQ,UACxCA,EAAgB,KAAK,mBAAqB,GAE3C,KAAK,WAAapC,EAAE,QACfoC,IACJ,KAAK,gBAAkBpC,EAAE,QAE3B,CACD,EACA,SAASiC,GAAuBI,EAAON,EAASrB,EAAc,CAC7D2B,EAAM,OAAS,CAAC,EAChBA,EAAM,UAAU,QAAWxB,GAAW,CACrCV,GAAQkC,EAAM,OAAQxB,EAAM,IAAI,KAAK,EAAG,IAAM,CAC7C,IAAMf,EAAQe,EAAM,OACdyB,EACLxC,GACEe,EAAM,gBACLA,EAAM,gBACNA,EAAM,YACJtC,EAAO,IAAI,SAAUwD,EAAQ,MAAOjC,EAAOwC,CAAI,EAAE,MAAO,EAC9D,GAAI,CACH,OAAO5B,EACN2B,EAAM,OACN,CAAE,IAAKxB,EAAM,IAAK,OAAQ,EAAG,OAAQA,EAAM,UAAW,EACtDtC,CACD,CACD,OAAUL,EAAI,CACb,QAAQ,MAAOA,CAAE,CAClB,CACD,CAAE,CACH,CAAE,CACH,CACA,SAASiE,GAAaI,EAAO,CAC5B,MAAO,CACN,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACD,EAAGA,EAAO,EAAG,CACd,CACA,IAAMC,GAAe,CAAC,EAClBC,GAAqB,GACzB,QAAQ,IAAK,CACZ,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,EACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UA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lG,EAAS,EAC1B,OAAKyL,IAAQ,EAAW,YACxB,KAAK,OAAO,gBAAkB,KAAK,YAAczL,EACpC,KAAK,OAAO,UACxByL,EACA,KAAK,YAAczL,EACnB,EACA,EACD,EACY,IAAO0K,GAAO,OAAO,aAAcA,CAAE,CAAE,EAAE,KAAM,EAAG,EAC/D,CACD,EACMY,GAAa,CAClB,UACA,QACA,mBACA,QACA,SACA,WACA,aACA,SACA,UACA,YACA,cACA,YACA,aACA,WACA,OACA,QACA,SACA,SACA,QACA,OACA,MACA,MACA,QACA,OACA,OACA,MACA,QACA,QACA,OACA,QACA,YACA,OACA,QACA,UACA,WACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,cACA,YACA,eACA,cACA,aACA,QACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,YACA,MACA,aACA,aACA,YACA,QACA,WACA,SACA,SACA,YACA,YACA,SACA,SACA,cACA,YACA,SACA,QACA,WACA,SACA,SACA,cACA,YACA,SACA,SACA,cACA,YACA,SACA,SACA,SACA,cACA,YACA,SACA,SACA,SACA,cACA,YACA,SACA,SACA,OACA,WACA,UACA,SACA,YACA,aACA,aACA,YACA,YACA,QACA,WACA,WACA,KACA,SACA,WACA,YACA,YACA,eACA,MACA,KACA,cACA,YACA,UACA,KACA,WACA,cACA,eACA,QACA,KACA,SACA,eACA,aACA,aACA,UACA,SACA,cACA,QACA,gBACA,iBACA,WACA,mBACA,SACA,SACA,SACA,KACA,KACA,SACA,SACA,eACA,gBACA,YACA,aACA,SACA,UACA,YACA,YACA,WACA,WACA,gBACA,iBACA,KACA,KACA,YACA,iBACA,iBACA,eA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",
  "names": ["require_blocks", "__commonJSMin", "exports", "module", "require_block_library", "__commonJSMin", "exports", "module", "require_data", "__commonJSMin", "exports", "module", "require_deprecated", "__commonJSMin", "exports", "module", "require_element", "__commonJSMin", "exports", "module", "require_editor", "__commonJSMin", "exports", "module", "require_preferences", "__commonJSMin", "exports", "module", "require_widgets", "__commonJSMin", "exports", "module", "require_core_data", "__commonJSMin", "exports", "module", "require_block_editor", "__commonJSMin", "exports", "module", "require_i18n", "__commonJSMin", "exports", "module", "require_patterns", "__commonJSMin", "exports", "module", "require_private_apis", "__commonJSMin", "exports", "module", "require_router", "__commonJSMin", "exports", "module", "require_jsx_runtime", "__commonJSMin", "exports", "module", "require_components", "__commonJSMin", "exports", "module", "require_compose", "__commonJSMin", "exports", "module", "require_plugins", "__commonJSMin", "exports", "module", "require_notices", "__commonJSMin", "exports", "module", "require_html_entities", "__commonJSMin", "exports", "module", "require_primitives", "__commonJSMin", "exports", "module", "require_commands", "__commonJSMin", "exports", "module", "require_keycodes", "__commonJSMin", "exports", "module", "require_url", "__commonJSMin", "exports", "module", "require_dom", "__commonJSMin", "exports", "module", "require_keyboard_shortcuts", "__commonJSMin", "exports", "module", "require_react", "__commonJSMin", "exports", "module", "require_react_dom", "__commonJSMin", "exports", "module", "require_api_fetch", "__commonJSMin", "exports", "module", "require_style_engine", "__commonJSMin", "exports", "module", "require_es6", "__commonJSMin", "exports", "module", "equal", "a", "b", "length", "i", "keys", "key", "require_cjs", "__commonJSMin", "exports", "module", "isMergeableObject", "value", "isNonNullObject", "isSpecial", "stringValue", "isReactElement", "canUseSymbol", "REACT_ELEMENT_TYPE", "emptyTarget", "val", "cloneUnlessOtherwiseSpecified", "options", "deepmerge", "defaultArrayMerge", "target", "source", "element", "getMergeFunction", "key", "customMerge", "getEnumerableOwnPropertySymbols", "symbol", "getKeys", "propertyIsOnObject", "object", "property", "propertyIsUnsafe", "mergeObject", "destination", "sourceIsArray", "targetIsArray", "sourceAndTargetTypesMatch", "array", "prev", "next", "deepmerge_1", "require_a11y", "__commonJSMin", "exports", "module", "require_date", "__commonJSMin", "exports", "module", "require_blob", "__commonJSMin", "exports", "module", "require_use_sync_external_store_shim_production", "__commonJSMin", "exports", "React", "is", "x", "y", "objectIs", "useState", "useEffect", "useLayoutEffect", "useDebugValue", "useSyncExternalStore$2", "subscribe", "getSnapshot", "value", "_useState", "inst", "forceUpdate", "checkIfSnapshotChanged", "latestGetSnapshot", "nextValue", "useSyncExternalStore$1", "shim", "require_shim", "__commonJSMin", "exports", "module", "require_remove_accents", "__commonJSMin", "exports", "module", "characterMap", "chars", "allAccents", "firstAccent", "matcher", "match", "removeAccents", "string", "hasAccents", "require_warning", "__commonJSMin", "exports", "module", "import_blocks", "import_block_library", "import_data", "import_deprecated", "import_element", "import_editor", "import_preferences", "import_widgets", "import_data", "import_data", "settings", "state", "action", "editedPost", "saveViewPanel", "routes", "route", "reducer_default", "import_blocks", "import_deprecated", "import_core_data", "import_block_editor", "import_editor", "import_preferences", "import_i18n", "import_patterns", "import_private_apis", "lock", "unlock", "NAVIGATION_POST_TYPE", "TEMPLATE_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "TEMPLATE_ORIGINS", "TEMPLATE_PART_AREA_DEFAULT_CATEGORY", "TEMPLATE_PART_ALL_AREAS_CATEGORY", "PATTERN_TYPES", "PATTERN_DEFAULT_CATEGORY", "PATTERN_USER_CATEGORY", "EXCLUDED_PATTERN_SOURCES", "PATTERN_SYNC_TYPES", "unlock", "patternPrivateApis", "FOCUSABLE_ENTITIES", "POST_TYPE_LABELS", "LAYOUT_GRID", "LAYOUT_TABLE", "LAYOUT_LIST", "OPERATOR_IS", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "interfaceStore", "unlock", "editorPrivateApis", "toggleFeature", "featureName", "registry", "deprecated", "preferencesStore", "__experimentalSetPreviewDeviceType", "deviceType", "editorStore", "setTemplate", "addTemplate", "template", "dispatch", "newTemplate", "coreStore", "TEMPLATE_POST_TYPE", "removeTemplate", "setTemplatePart", "templatePartId", "TEMPLATE_PART_POST_TYPE", "setNavigationMenu", "navigationMenuId", "NAVIGATION_POST_TYPE", "setEditedEntity", "postType", "postId", "context", "setHomeTemplateId", "setEditedPostContext", "setPage", "setNavigationPanelActiveMenu", "openNavigationPanelToMenu", "setIsNavigationPanelOpened", "setIsInserterOpened", "value", "setIsListViewOpened", "isOpen", "updateSettings", "settings", "setIsSaveViewOpened", "revertTemplate", "options", "openGeneralSidebar", "name", "closeGeneralSidebar", "switchEditorMode", "mode", "setHasPageContentFocus", "hasPageContentFocus", "blockEditorStore", "toggleDistractionFree", "registerRoute", "route", "unregisterRoute", "name", "import_core_data", "import_data", "import_deprecated", "import_element", "import_preferences", "import_editor", "import_block_editor", "import_blocks", "EMPTY_ARRAY", "getFilteredTemplatePartBlocks", "blocks", "templateParts", "templatePartsById", "newTemplateParts", "part", "result", "stack", "innerBlocks", "block", "theme", "slug", "templatePartId", "templatePart", "isFeatureActive", "select", "_", "featureName", "deprecated", "preferencesStore", "__experimentalGetPreviewDeviceType", "editorStore", "getCanUserCreateMedia", "coreDataStore", "getReusableBlocks", "getSettings", "state", "getHomeTemplateId", "getEditedPostType", "getEditedPostId", "getEditedPostContext", "getPage", "isInserterOpened", "__experimentalGetInsertionPoint", "unlock", "isListViewOpened", "isSaveViewOpened", "getBlocksAndTemplateParts", "templateParts", "TEMPLATE_PART_POST_TYPE", "getBlocksByName", "getBlocksByClientId", "blockEditorStore", "clientIds", "getCurrentTemplateTemplateParts", "getFilteredTemplatePartBlocks", "getEditorMode", "getCurrentTemplateNavigationPanelSubMenu", "getNavigationPanelActiveMenu", "isNavigationOpened", "isPage", "hasPageContentFocus", "getRoutes", "state", "STORE_NAME", "storeConfig", "reducer_default", "actions_exports", "selectors_exports", "store", "STORE_NAME", "unlock", "private_selectors_exports", "private_actions_exports", "import_data", "import_router", "import_element", "import_core_data", "r", "f", "n", "o", "clsx", "clsx_default", "import_element", "import_jsx_runtime", "NavigableRegion", "children", "className", "ariaLabel", "Tag", "props", "ref", "clsx_default", "navigable_region_default", "import_components", "import_jsx_runtime", "Header", "breadcrumbs", "badges", "title", "subTitle", "actions", "VStack", "HStack", "Heading", "import_jsx_runtime", "Page", "breadcrumbs", "badges", "title", "subTitle", "children", "className", "actions", "hasPadding", "classes", "clsx_default", "navigable_region_default", "Header", "page_default", "import_components", "import_compose", "import_i18n", "import_element", "import_editor", "import_router", "import_plugins", "import_notices", "import_data", "import_preferences", "import_data", "import_components", "import_i18n", "import_core_data", "import_html_entities", "import_element", "import_element", "icon_default", "icon", "size", "props", "ref", "import_primitives", "import_jsx_runtime", "archive_default", "import_primitives", "import_jsx_runtime", "arrow_down_default", "import_primitives", "import_jsx_runtime", "arrow_left_default", "import_primitives", "import_jsx_runtime", "arrow_right_default", "import_primitives", "import_jsx_runtime", "arrow_up_left_default", "import_primitives", "import_jsx_runtime", "arrow_up_default", "import_primitives", "import_jsx_runtime", "at_symbol_default", "import_primitives", "import_jsx_runtime", "backup_default", "import_primitives", "import_jsx_runtime", "block_meta_default", "import_primitives", "import_jsx_runtime", "block_table_default", "import_primitives", "import_jsx_runtime", "calendar_default", "import_primitives", "import_jsx_runtime", "category_default", "import_primitives", "import_jsx_runtime", "check_default", "import_primitives", "import_jsx_runtime", "chevron_down_default", "import_primitives", "import_jsx_runtime", "chevron_left_small_default", "import_primitives", "import_jsx_runtime", "chevron_left_default", "import_primitives", "import_jsx_runtime", "chevron_right_small_default", "import_primitives", "import_jsx_runtime", "chevron_right_default", "import_primitives", "import_jsx_runtime", "chevron_up_default", "import_primitives", "import_jsx_runtime", "close_small_default", "import_primitives", "import_jsx_runtime", "cog_default", "import_primitives", "import_jsx_runtime", "comment_author_avatar_default", "import_primitives", "import_jsx_runtime", "download_default", "import_primitives", "import_jsx_runtime", "drafts_default", "import_primitives", "import_jsx_runtime", "drawer_right_default", "import_primitives", "import_jsx_runtime", "error_default", "import_primitives", "import_jsx_runtime", "file_default", "import_primitives", "import_jsx_runtime", "format_list_bullets_rtl_default", "import_primitives", "import_jsx_runtime", "format_list_bullets_default", "import_primitives", "import_jsx_runtime", "funnel_default", "import_primitives", "import_jsx_runtime", "globe_default", "import_primitives", "import_jsx_runtime", "help_default", "import_primitives", "import_jsx_runtime", "home_default", "import_primitives", "import_jsx_runtime", "layout_default", "import_primitives", "import_jsx_runtime", "link_default", "import_primitives", "import_jsx_runtime", "list_default", "import_primitives", "import_jsx_runtime", "media_default", "import_primitives", "import_jsx_runtime", "mobile_default", "import_primitives", "import_jsx_runtime", "more_vertical_default", "import_primitives", "import_jsx_runtime", "navigation_default", "import_primitives", "import_jsx_runtime", "next_default", "import_primitives", "import_jsx_runtime", "not_allowed_default", "import_primitives", "import_jsx_runtime", "not_found_default", "import_primitives", "import_jsx_runtime", "page_default", "import_primitives", "import_jsx_runtime", "pages_default", "import_primitives", "import_jsx_runtime", "pencil_default", "import_primitives", "import_jsx_runtime", "pending_default", "import_primitives", "import_jsx_runtime", "pin_default", "import_primitives", "import_jsx_runtime", "plugins_default", "import_primitives", "import_jsx_runtime", "post_default", "import_primitives", "import_jsx_runtime", "previous_default", "import_primitives", "import_jsx_runtime", "published_default", "import_primitives", "import_jsx_runtime", "rotate_left_default", "import_primitives", "import_jsx_runtime", "rotate_right_default", "import_primitives", "import_jsx_runtime", "scheduled_default", "import_primitives", "import_jsx_runtime", "search_default", "import_primitives", "import_jsx_runtime", "seen_default", "import_primitives", "import_jsx_runtime", "styles_default", "import_primitives", "import_jsx_runtime", "symbol_filled_default", "import_primitives", "import_jsx_runtime", "symbol_default", "import_primitives", "import_jsx_runtime", "tag_default", "import_primitives", "import_jsx_runtime", "trash_default", "import_primitives", "import_jsx_runtime", "unseen_default", "import_primitives", "import_jsx_runtime", "upload_default", "import_primitives", "import_jsx_runtime", "verse_default", "import_primitives", "import_jsx_runtime", "wordpress_default", "import_commands", "import_keycodes", "import_url", "import_router", "import_data", "import_components", "import_i18n", "import_core_data", "import_jsx_runtime", "SiteIcon", "className", "isRequestingSite", "siteIconUrl", "select", "getEntityRecord", "coreDataStore", "siteData", "icon", "wordpress_default", "clsx_default", "site_icon_default", "import_element", "import_dom", "import_jsx_runtime", "SidebarNavigationContext", "focusSidebarElement", "el", "direction", "focusSelector", "elementToFocus", "firstTabbable", "createNavState", "state", "SidebarContentWrapper", "children", "shouldAnimate", "navState", "wrapperRef", "navAnimation", "setNavAnimation", "wrapperCls", "clsx_default", "SidebarNavigationProvider", "SidebarContent", "routeKey", "import_jsx_runtime", "useLocation", "useHistory", "unlock", "routerPrivateApis", "SiteHub", "isTransparent", "ref", "dashboardLink", "homeUrl", "siteTitle", "select", "getSettings", "store", "getEntityRecord", "coreStore", "_site", "openCommandCenter", "commandsStore", "HStack", "clsx_default", "site_icon_default", "search_default", "site_hub_default", "SiteHubMobile", "path", "history", "navigate", "SidebarNavigationContext", "isBlockTheme", "isClassicThemeWithStyleBookSupport", "getCurrentTheme", "currentTheme", "settings", "supportsEditorStyles", "hasThemeJson", "backPath", "backButtonProps", "import_element", "import_components", "import_compose", "import_i18n", "import_router", "import_data", "import_core_data", "import_url", "import_jsx_runtime", "useLocation", "useHistory", "unlock", "routerPrivateApis", "HANDLE_STYLES_OVERRIDE", "FRAME_MIN_WIDTH", "FRAME_REFERENCE_WIDTH", "FRAME_TARGET_ASPECT_RATIO", "SNAP_TO_EDIT_CANVAS_MODE_THRESHOLD", "INITIAL_FRAME_SIZE", "calculateNewHeight", "width", "initialAspectRatio", "lerp", "a", "b", "amount", "lerpFactor", "intermediateAspectRatio", "ResizableFrame", "isFullWidth", "isOversized", "setIsOversized", "isReady", "children", "defaultSize", "innerContentStyle", "history", "path", "query", "canvas", "disableMotion", "frameSize", "setFrameSize", "startingWidth", "setStartingWidth", "isResizing", "setIsResizing", "shouldShowHandle", "setShouldShowHandle", "resizeRatio", "setResizeRatio", "FRAME_TRANSITION", "frameRef", "resizableHandleHelpId", "defaultAspectRatio", "isBlockTheme", "select", "getCurrentTheme", "coreStore", "handleResizeStart", "_event", "_direction", "ref", "handleResize", "_ref", "delta", "normalizedDelta", "deltaAbs", "maxDoubledDelta", "deltaToDouble", "doubleSegment", "singleSegment", "updatedWidth", "handleResizeStop", "handleResizableHandleKeyDown", "event", "newWidth", "frameAnimationVariants", "resizeHandleVariants", "currentResizeHandleVariant", "motion", "definition", "clsx_default", "resizable_frame_default", "import_element", "import_keyboard_shortcuts", "import_i18n", "import_data", "import_core_data", "import_editor", "shortcutName", "SaveKeyboardShortcut", "__experimentalGetDirtyEntityRecords", "isSavingEntityRecord", "coreStore", "hasNonPostEntityChanges", "isPostSavingLocked", "editorStore", "savePost", "setIsSaveViewOpened", "store", "registerShortcut", "unregisterShortcut", "keyboardShortcutsStore", "event", "dirtyEntityRecords", "hasDirtyEntities", "isSaving", "record", "import_element", "import_data", "import_core_data", "MAX_LOADING_TIME", "useIsSiteEditorLoading", "loaded", "setLoaded", "inLoadingPause", "select", "hasResolvingSelectors", "coreStore", "timeout", "updateQueue", "makeQueue", "raf", "fn", "schedule", "writeQueue", "onStartQueue", "onFrameQueue", "onFinishQueue", "timeouts", "handler", "ms", "time", "cancel", "t", "pendingCount", "timeout", "findTimeout", "start", "sync", "lastArgs", "queuedFn", "throttled", "args", "nativeRaf", "impl", "update", "ts", "queue", "loop", "stop", "prevTs", "count", "eachSafely", "next", "current", "arg", "values", "each", "value", "e", "import_react", "noop", "defineHidden", "obj", "key", "value", "is", "a", "isEqual", "b", "i", "each", "fn", "eachProp", "ctx", "toArray", "flush", "queue", "iterator", "items", "flushCalls", "args", "isSSR", "createStringInterpolator$1", "to", "colors$1", "skipAnimation", "willAdvance", "assign", "globals", "raf", "startQueue", "currentFrame", "prevFrame", "priority", "frameLoop", "animation", "flushStartQueue", "startSafely", "advance", "prevIndex", "startUnsafely", "findIndex", "other", "dt", "nextFrame", "arr", "test", "index", "colors", "NUMBER", "PERCENTAGE", "call", "parts", "rgb", "rgba", "hsl", "hsla", "hex3", "hex4", "hex6", "hex8", "normalizeColor", "color", "match", "parse255", "parse1", "hslToRgb", "parse360", "parsePercentage", "hue2rgb", "p", "q", "t", "h", "s", "l", "r", "g", "str", "int", "num", "colorToRgba", "input", "int32Color", "createInterpolator", "range", "output", "extrapolate", "config", "outputRange", "inputRange", "extrapolateLeft", "extrapolateRight", "easing", "findRange", "interpolate", "inputMin", "inputMax", "outputMin", "outputMax", "map", "result", "_extends", "target", "source", "$get", "$observers", "hasFluidValue", "arg", "getFluidValue", "getFluidObservers", "callFluidObserver", "observer", "event", "callFluidObservers", "observers", "FluidValue", "get", "setFluidGetter", "setHidden", "addFluidObserver", "removeFluidObserver", "count", "numberRegex", "colorRegex", "unitRegex", "rgbaRegex", "cssVariableRegex", "variableToRgba", "token", "fallback", "parseCSSVariable", "_value", "current", "namedColorRegex", "rgbaRound", "_", "p1", "p2", "p3", "p4", "createStringInterpolator", "keyframes", "interpolators", "values", "_output$find", "missingUnit", "prefix", "once", "func", "called", "warnInterpolate", "deprecateInterpolate", "warnDirectCall", "isAnimatedString", "value", "is", "isSSR", "cssVariableRegex", "colors$1", "useIsomorphicLayoutEffect", "useIsMounted", "isMounted", "useForceUpdate", "update", "useMemoOne", "getResult", "inputs", "initial", "committed", "prevCache", "cache", "areInputsEqual", "next", "prev", "i", "useOnce", "effect", "emptyDeps", "React", "import_react", "React", "import_react", "$node", "isAnimated", "value", "getAnimated", "owner", "setAnimated", "node", "defineHidden", "getPayload", "Animated", "AnimatedValue", "_AnimatedValue", "_value", "is", "step", "done", "AnimatedString", "_AnimatedString", "createInterpolator", "goal", "TreeContext", "AnimatedObject", "source", "animated", "values", "eachProp", "key", "hasFluidValue", "getFluidValue", "each", "payload", "AnimatedArray", "_AnimatedArray", "i", "makeAnimated", "isAnimatedString", "getAnimatedType", "parentNode", "_extends", "target", "withAnimated", "Component", "host", "hasInstance", "givenProps", "givenRef", "instanceRef", "ref", "updateRef", "props", "deps", "getAnimatedState", "forceUpdate", "useForceUpdate", "callback", "instance", "observer", "PropsObserver", "observerRef", "useIsomorphicLayoutEffect", "dep", "addFluidObserver", "removeFluidObserver", "raf", "useOnce", "usedProps", "update", "event", "dependencies", "cacheKey", "createHost", "components", "_applyAnimatedValues", "_createAnimatedStyle", "style", "_getComponentProps", "hostConfig", "displayName", "getDisplayName", "arg", "_extends", "target", "i", "source", "key", "callProp", "value", "args", "is", "matchProp", "toArray", "resolveProp", "prop", "getDefaultProp", "props", "noopTransform", "getDefaultProps", "transform", "keys", "DEFAULT_PROPS", "defaults", "RESERVED_PROPS", "getForwardProps", "forward", "count", "eachProp", "inferTo", "to", "out", "val", "computeGoal", "getFluidValue", "isAnimatedString", "globals", "isAsyncTo", "to", "is", "config", "c1", "c2", "c3", "c4", "c5", "bounceOut", "x", "easings", "defaults", "_extends", "AnimationConfig", "mergeConfig", "newConfig", "defaultConfig", "sanitizeConfig", "key", "mass", "frequency", "damping", "is", "props", "isTensionConfig", "emptyArray", "Animation", "scheduleProps", "callId", "defaultProps", "state", "actions", "resolve", "reject", "_props$cancel", "delay", "timeout", "cancel", "matchProp", "onStart", "pause", "callProp", "onResume", "onPause", "raf", "globals", "err", "getCombinedResult", "target", "results", "result", "getCancelledResult", "getNoopResult", "getFinishedResult", "value", "finished", "cancelled", "runAsync", "to", "parentId", "onRest", "prevTo", "prevPromise", "getDefaultProps", "preventBail", "bail", "bailPromise", "bailIfEnded", "bailSignal", "bailResult", "animate", "arg1", "arg2", "BailSignal", "skipAnimationSignal", "SkipAniamtionSignal", "stopAsync", "eachProp", "resume", "animating", "queue", "cancelId", "flush", "t", "isFrameValue", "FrameValue", "nextId$1", "FluidValue", "args", "priority", "node", "getAnimated", "deprecateInterpolate", "count", "idle", "callFluidObservers", "frameLoop", "$P", "HAS_ANIMATED", "IS_ANIMATING", "IS_PAUSED", "hasAnimated", "isAnimating", "isPaused", "setActiveBit", "active", "setPausedBit", "paused", "SpringValue", "getFluidValue", "AnimatedValue", "dt", "changed", "anim", "toValues", "payload", "getPayload", "hasFluidValue", "toArray", "i", "AnimatedString", "position", "elapsed", "from", "v0", "velocity", "precision", "decay", "e", "restVelocity", "bounceFactor", "canBounce", "isGrowing", "isMoving", "isBouncing", "step", "numSteps", "n", "springForce", "dampingForce", "acceleration", "p", "currVal", "finalVal", "event", "isAsyncTo", "range", "_ref", "isLoop", "prop", "resolveProp", "mergeActiveFn", "sendEvent", "flushCalls", "checkFinished", "nextProps", "createLoopUpdate", "hasToProp", "hasFromProp", "prevFrom", "hasFromChanged", "isEqual", "hasToChanged", "hasAsyncTo", "reset", "goal", "computeGoal", "isAnimatable", "isAnimatedString", "immediate", "nodeType", "getAnimatedType", "goalType", "started", "hasValueChanged", "each", "ACTIVE_EVENTS", "type", "getFluidObservers", "addFluidObserver", "removeFluidObserver", "arg", "oldNode", "setAnimated", "loop", "loopRet", "overrides", "inferTo", "reverse", "createUpdate", "keys", "findDefined", "findDefined", "values", "keys", "eachProp", "value", "key", "ACTIVE_EVENTS", "mergeActiveFn", "target", "props", "type", "getDefaultProp", "resolveProp", "sendEvent", "args", "_target$animation$typ", "_target$animation", "_target$defaultProps$", "_target$defaultProps", "BATCHED_EVENTS", "nextId", "Controller", "flush", "_extends", "spring", "item", "is", "createUpdate", "queue", "toArray", "prepareKeys", "flushUpdateQueue", "arg", "springs", "each", "stopAsync", "iterator", "onStart", "onChange", "onRest", "active", "changed", "result", "idle", "event", "raf", "ctrl", "flushUpdate", "results", "getCombinedResult", "isLoop", "to", "from", "loop", "onResolve", "defaults", "asyncTo", "handler", "finished", "cancelled", "state", "flushCalls", "promises", "cancel", "scheduleProps", "noop", "resolve", "getCancelledResult", "runAsync", "resume", "nextProps", "createLoopUpdate", "createSpring", "key", "observer", "spring", "SpringValue", "addFluidObserver", "prepareSprings", "springs", "props", "create", "each", "prepareKeys", "ctrl", "queue", "_objectWithoutPropertiesLoose", "source", "excluded", "target", "sourceKeys", "_excluded$3", "SpringContext", "_ref", "children", "inherited", "ctx", "pause", "immediate", "useMemoOne", "Provider", "makeContext", "init", "TransitionPhase", "Interpolation", "FrameValue", "source", "args", "createInterpolator", "value", "nodeType", "getAnimatedType", "setAnimated", "_dt", "oldValue", "isEqual", "getAnimated", "checkIdle", "becomeIdle", "inputs", "is", "getFluidValue", "toArray", "each", "getPayload", "node", "globals", "raf", "frameLoop", "priority", "hasFluidValue", "addFluidObserver", "isFrameValue", "removeFluidObserver", "event", "highest", "parent", "isIdle", "active", "self", "callFluidObservers", "globals", "createStringInterpolator", "source", "args", "Interpolation", "update", "frameLoop", "import_react_dom", "_objectWithoutPropertiesLoose", "source", "excluded", "target", "sourceKeys", "key", "_excluded$2", "isCustomPropRE", "dangerousStyleValue", "name", "value", "isUnitlessNumber", "attributeCache", "applyAnimatedValues", "instance", "props", "isFilterElement", "_ref", "style", "children", "scrollTop", "scrollLeft", "attributes", "values", "names", "n", "i", "prefixKey", "prefix", "prefixes", "acc", "prop", "_excluded$1", "domTransforms", "pxTransforms", "degTransforms", "addUnit", "unit", "is", "isValueIdentity", "id", "v", "AnimatedStyle", "AnimatedObject", "x", "y", "z", "inputs", "transforms", "xyz", "eachProp", "transform", "toArray", "deg", "input", "FluidTransform", "FluidValue", "identity", "each", "arg1", "getFluidValue", "t", "count", "hasFluidValue", "addFluidObserver", "removeFluidObserver", "event", "callFluidObservers", "primitives", "_excluded", "globals", "createStringInterpolator", "colors", "host", "createHost", "animated", "import_element", "getAbsolutePosition", "element", "ANIMATION_DURATION", "useMovingAnimation", "triggerAnimationOnChange", "ref", "previous", "prevRect", "controller", "Controller", "easings", "value", "x", "y", "width", "height", "finishedMoving", "destination", "animation_default", "import_data", "import_components", "import_core_data", "import_data", "import_components", "import_i18n", "import_core_data", "import_keycodes", "import_router", "import_editor", "import_url", "isPreviewingTheme", "currentlyPreviewingTheme", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "SaveButton", "className", "variant", "showTooltip", "showReviewMessage", "icon", "size", "__next40pxDefaultSize", "params", "setIsSaveViewOpened", "store", "saveDirtyEntities", "editorStore", "dirtyEntityRecords", "isSaving", "isSaveViewOpen", "previewingThemeName", "select", "isSavingEntityRecord", "isResolving", "coreStore", "isSaveViewOpened", "isActivatingTheme", "currentlyPreviewingThemeId", "currentlyPreviewingTheme", "record", "hasDirtyEntities", "isOnlyCurrentEntityDirty", "disabled", "isPreviewingTheme", "label", "import_jsx_runtime", "SaveHub", "isDisabled", "isSaving", "select", "__experimentalGetDirtyEntityRecords", "isSavingEntityRecord", "coreStore", "dirtyEntityRecords", "_isSaving", "record", "isPreviewingTheme", "HStack", "SaveButton", "check_default", "import_components", "import_editor", "import_data", "import_i18n", "import_core_data", "import_router", "import_element", "import_core_data", "import_data", "import_router", "import_url", "useHistory", "useLocation", "unlock", "routerPrivateApis", "useActivateTheme", "history", "path", "startResolution", "finishResolution", "coreStore", "isPreviewingTheme", "activationURL", "currentlyPreviewingTheme", "import_api_fetch", "import_element", "import_url", "ACTIVE_THEMES_URL", "useActualCurrentTheme", "currentTheme", "setCurrentTheme", "path", "apiFetch", "activeThemes", "import_jsx_runtime", "EntitiesSavedStatesExtensible", "unlock", "useLocation", "routerPrivateApis", "EntitiesSavedStatesForPreview", "onClose", "renderDialog", "variant", "isDirtyProps", "activateSaveLabel", "currentTheme", "useActualCurrentTheme", "previewingTheme", "select", "coreStore", "additionalPrompt", "activateTheme", "useActivateTheme", "values", "_EntitiesSavedStates", "isPreviewingTheme", "SavePanel", "query", "canvas", "isSaveViewOpen", "isDirty", "isSaving", "__experimentalGetDirtyEntityRecords", "isSavingEntityRecord", "isResolving", "dirtyEntityRecords", "isActivatingTheme", "isSaveViewOpened", "store", "record", "setIsSaveViewOpened", "activateSaveEnabled", "disabled", "navigable_region_default", "clsx_default", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "useStyle", "editorPrivateApis", "ANIMATION_DURATION", "Layout", "query", "routeKey", "areas", "widths", "canvas", "isMobileViewport", "toggleRef", "navigateRegionsProps", "useNavigateRegions", "disableMotion", "canvasResizer", "canvasSize", "isEditorLoading", "useIsSiteEditorLoading", "isResizableFrameOversized", "setIsResizableFrameOversized", "animationRef", "animation_default", "showIconLabels", "select", "preferencesStore", "backgroundColor", "gradientValue", "previousCanvaMode", "SaveKeyboardShortcut", "clsx_default", "navigable_region_default", "AnimatePresence", "motion", "site_hub_default", "SidebarNavigationProvider", "SidebarContent", "SaveHub", "SavePanel", "SiteHubMobile", "resizable_frame_default", "LayoutWithGlobalStylesProvider", "props", "createErrorNotice", "noticesStore", "onPluginAreaError", "name", "import_element", "import_data", "import_i18n", "import_commands", "import_router", "import_preferences", "import_core_data", "import_editor", "useHistory", "useLocation", "unlock", "routerPrivateApis", "useGlobalStyles", "editorPrivateApis", "getGlobalStylesToggleWelcomeGuideCommands", "openGeneralSidebar", "store", "params", "canvas", "set", "preferencesStore", "history", "isBlockBasedTheme", "select", "coreStore", "close", "help_default", "getGlobalStylesResetCommands", "user", "setUser", "canReset", "rotate_right_default", "rotate_left_default", "getGlobalStylesOpenRevisionsCommands", "setStylesPath", "editorStore", "hasRevisions", "getEntityRecord", "__experimentalGetCurrentGlobalStylesId", "globalStylesId", "backup_default", "useCommonCommands", "import_data", "import_commands", "import_block_editor", "import_router", "useCommandContext", "unlock", "commandsPrivateApis", "useLocation", "routerPrivateApis", "useSetCommandContext", "query", "canvas", "hasBlockSelected", "select", "blockEditorStore", "commandContext", "import_data", "import_element", "import_components", "import_i18n", "import_data", "import_core_data", "import_components", "import_i18n", "import_core_data", "import_data", "import_router", "import_element", "import_components", "import_jsx_runtime", "SidebarButton", "props", "clsx_default", "import_jsx_runtime", "useHistory", "useLocation", "unlock", "routerPrivateApis", "SidebarNavigationScreen", "isRoot", "title", "actions", "content", "footer", "description", "backPathProp", "dashboardLink", "dashboardLinkText", "previewingThemeName", "select", "getSettings", "store", "currentlyPreviewingThemeId", "currentlyPreviewingTheme", "coreStore", "location", "history", "navigate", "SidebarNavigationContext", "backPath", "icon", "chevron_right_default", "chevron_left_default", "VStack", "clsx_default", "HStack", "SidebarButton", "Heading", "isPreviewingTheme", "import_components", "import_i18n", "import_router", "import_element", "import_jsx_runtime", "useHistory", "useLink", "unlock", "routerPrivateApis", "SidebarNavigationItem", "className", "icon", "withChevron", "suffix", "uid", "to", "onClick", "children", "props", "history", "navigate", "SidebarNavigationContext", "handleClick", "e", "linkProps", "Item", "clsx_default", "HStack", "icon_default", "chevron_left_small_default", "chevron_right_small_default", "import_i18n", "import_data", "import_element", "import_preferences", "import_editor", "import_router", "import_url", "import_components", "import_blocks", "import_data", "import_block_editor", "import_element", "import_compose", "setImmutably", "object", "path", "value", "leaf", "prev", "key", "lvl", "getValueFromObjectPath", "defaultValue", "arrayPath", "fieldName", "VALID_SETTINGS", "getSetting", "globalStyles", "path", "blockName", "appendedBlockPath", "appendedPropertyPath", "contextualPath", "globalPath", "getValueFromObjectPath", "result", "setting", "value", "setImmutably", "setSetting", "globalStyles", "path", "newValue", "blockName", "appendedBlockPath", "appendedPropertyPath", "finalPath", "setImmutably", "import_style_engine", "DEFAULT_MAXIMUM_VIEWPORT_WIDTH", "DEFAULT_MINIMUM_VIEWPORT_WIDTH", "DEFAULT_SCALE_FACTOR", "DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN", "DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX", "DEFAULT_MINIMUM_FONT_SIZE_LIMIT", "getComputedFluidTypographyValue", "minimumFontSize", "maximumFontSize", "fontSize", "minimumViewportWidth", "maximumViewportWidth", "scaleFactor", "minimumFontSizeLimit", "getTypographyValueAndUnit", "fontSizeParsed", "minimumFontSizeLimitParsed", "fontSizeValueInPx", "minimumFontSizeFactor", "calculatedMinimumFontSize", "roundToPrecision", "minimumFontSizeParsed", "fontSizeUnit", "maximumFontSizeParsed", "minimumFontSizeRem", "maximumViewportWidthParsed", "minimumViewportWidthParsed", "linearDenominator", "minViewportWidthOffsetValue", "viewportWidthOffset", "linearFactor", "linearFactorScaled", "fluidTargetFontSize", "rawValue", "options", "coerceTo", "rootSizeValue", "acceptableUnits", "acceptableUnitsGroup", "regexUnits", "matches", "value", "unit", "returnValue", "digits", "base", "isFluidTypographyEnabled", "typographySettings", "fluidSettings", "getFluidTypographyOptionsFromSettings", "settings", "layoutSettings", "defaultMaxViewportWidth", "getTypographyValueAndUnit", "getTypographyFontSizeValue", "preset", "defaultSize", "fluidTypographySettings", "fluidFontSizeValue", "getComputedFluidTypographyValue", "PRESET_METADATA", "slug", "preset", "settings", "getTypographyFontSizeValue", "size", "findInPresetsBy", "settings", "blockName", "presetPath", "presetProperty", "presetValueValue", "orderedPresetsByOrigin", "getValueFromObjectPath", "presetByOrigin", "origins", "origin", "presets", "presetObject", "preset", "getValueFromPresetVariable", "features", "variable", "presetType", "slug", "metadata", "PRESET_METADATA", "data", "valueKey", "result", "getValueFromVariable", "getValueFromCustomVariable", "path", "resolvedVariable", "USER_VALUE_PREFIX", "THEME_VALUE_PREFIX", "THEME_VALUE_SUFFIX", "parsedVar", "type", "getStyle", "globalStyles", "path", "blockName", "shouldDecodeEncode", "appendedPath", "finalPath", "rawResult", "getValueFromObjectPath", "getValueFromVariable", "setStyle", "globalStyles", "path", "newValue", "blockName", "appendedPath", "finalPath", "setImmutably", "import_es6", "areGlobalStylesEqual", "original", "variation", "fastDeepEqual", "import_deepmerge", "isObject", "o", "isPlainObject", "ctor", "prot", "mergeGlobalStyles", "base", "user", "deepmerge", "isPlainObject", "key", "baseConfig", "userConfig", "r", "t", "n", "e", "u", "a", "o", "i", "s", "h", "b", "g", "d", "f", "c", "l", "p", "v", "m", "y", "N", "x", "M", "r", "n", "c", "e", "H", "$", "j", "x", "o", "t", "u", "i", "a", "s", "d", "h", "w", "S", "k", "y", "import_element", "import_element", "GlobalStylesContext", "import_jsx_runtime", "GlobalStylesProvider", "children", "value", "baseValue", "onChange", "fontLibraryEnabled", "merged", "mergeGlobalStyles", "contextValue", "GlobalStylesContext", "import_components", "import_i18n", "import_data", "import_core_data", "import_jsx_runtime", "IconWithCurrentColor", "className", "props", "icon_default", "clsx_default", "import_components", "import_jsx_runtime", "GenericNavigationButton", "icon", "children", "props", "Item", "HStack", "IconWithCurrentColor", "NavigationButtonAsItem", "import_components", "import_i18n", "import_block_editor", "o", "t", "a11y_default", "n", "r", "a", "i", "e", "v", "u", "d", "import_element", "import_data", "import_core_data", "import_i18n", "removePropertiesFromObject", "object", "properties", "key", "filterObjectByProperties", "newObject", "newFilter", "isVariationWithProperties", "variation", "variationWithProperties", "areGlobalStylesEqual", "getFontFamilyFromSetting", "fontFamilies", "setting", "fontFamilySlug", "fontFamily", "getFontFamilies", "themeJson", "themeFontFamilies", "customFontFamilies", "bodyFontFamilySetting", "bodyFontFamily", "headingFontFamilySetting", "headingFontFamily", "k", "a11y_default", "useStyle", "path", "blockName", "readFrom", "shouldDecodeEncode", "user", "base", "merged", "onChange", "GlobalStylesContext", "sourceValue", "styleValue", "getStyle", "setStyleValue", "newValue", "newGlobalStyles", "setStyle", "useSetting", "settingValue", "getSetting", "setSettingValue", "setSetting", "EMPTY_ARRAY", "hasThemeVariation", "title", "settings", "styles", "useCurrentMergeThemeStyleVariationsWithUserConfig", "properties", "variationsFromTheme", "select", "coreStore", "userVariation", "clonedUserVariation", "userVariationWithoutProperties", "removePropertiesFromObject", "variationsWithPropertiesAndBase", "variation", "isVariationWithProperties", "mergeGlobalStyles", "variationsByProperties", "import_private_apis", "lock", "unlock", "import_jsx_runtime", "useHasDimensionsPanel", "useHasTypographyPanel", "useHasColorPanel", "useSettingsForBlockElement", "useHasBackgroundPanel", "unlock", "blockEditorPrivateApis", "import_components", "useStylesPreviewColors", "textColor", "useStyle", "backgroundColor", "headingColor", "linkColor", "buttonBackgroundColor", "coreColors", "useSetting", "themeColors", "customColors", "paletteColors", "textColorObject", "color", "buttonBackgroundColorObject", "highlightedColors", "import_element", "import_components", "import_i18n", "findNearest", "input", "numbers", "a", "b", "extractFontWeights", "fontFaces", "result", "face", "weights", "start", "end", "i", "formatFontFamily", "regex", "output", "formatItem", "item", "getFamilyPreviewStyle", "family", "style", "formatFontFamily", "normalFaces", "face", "normalWeights", "extractFontWeights", "nearestWeight", "findNearest", "import_jsx_runtime", "PreviewTypography", "fontSize", "variation", "base", "GlobalStylesContext", "config", "textColor", "useStyle", "bodyFontFamilies", "headingFontFamilies", "getFontFamilies", "bodyPreviewStyle", "getFamilyPreviewStyle", "headingPreviewStyle", "motion", "import_components", "import_jsx_runtime", "HighlightedColors", "normalizedColorSwatchSize", "ratio", "highlightedColors", "useStylesPreviewColors", "scaledSwatchSize", "slug", "color", "index", "motion", "import_components", "import_compose", "import_element", "import_jsx_runtime", "normalizedWidth", "normalizedHeight", "THROTTLE_OPTIONS", "PreviewWrapper", "children", "label", "isFocused", "withHoverView", "backgroundColor", "useStyle", "gradientValue", "disableMotion", "isHovered", "setIsHovered", "containerResizeListener", "width", "throttledWidth", "setThrottledWidthState", "ratioState", "setRatioState", "setThrottledWidth", "newRatio", "ratioDiff", "fallbackRatio", "ratio", "motion", "child", "key", "preview_wrapper_default", "import_jsx_runtime", "firstFrameVariants", "midFrameVariants", "secondFrameVariants", "PreviewStyles", "label", "isFocused", "withHoverView", "variation", "fontWeight", "useStyle", "fontFamily", "headingFontFamily", "headingFontWeight", "textColor", "headingColor", "paletteColors", "useStylesPreviewColors", "preview_wrapper_default", "ratio", "key", "motion", "HStack", "PreviewTypography", "VStack", "HighlightedColors", "color", "index", "preview_styles_default", "import_jsx_runtime", "import_blocks", "import_i18n", "import_components", "import_data", "import_element", "import_block_editor", "import_compose", "import_a11y", "import_blocks", "import_data", "import_components", "import_jsx_runtime", "getFilteredBlockStyles", "blockStyles", "variations", "style", "useBlockVariations", "name", "select", "getBlockStyles", "blocksStore", "useSetting", "variationNames", "import_components", "import_i18n", "import_jsx_runtime", "import_jsx_runtime", "useHasDimensionsPanel", "useHasTypographyPanel", "useHasBorderPanel", "useSettingsForBlockElement", "useHasColorPanel", "unlock", "blockEditorPrivateApis", "useSortedBlockTypes", "blockItems", "select", "blocksStore", "groupByType", "blocks", "block", "core", "noncore", "coreItems", "nonCoreItems", "useBlockHasGlobalStyles", "blockName", "rawSettings", "useSetting", "settings", "hasTypographyPanel", "hasColorPanel", "hasBorderPanel", "hasDimensionsPanel", "hasLayoutPanel", "hasVariationsPanel", "useBlockVariations", "BlockMenuItem", "NavigationButtonAsItem", "HStack", "BlockList", "filterValue", "sortedBlockTypes", "debouncedSpeak", "isMatchingSearchTerm", "filteredBlockTypes", "blockType", "blockTypesListRef", "count", "resultsFoundMessage", "Text", "MemoizedBlockList", "import_blocks", "import_block_editor", "import_element", "import_data", "import_core_data", "import_components", "import_i18n", "import_block_editor", "import_blocks", "import_components", "import_element", "import_jsx_runtime", "import_components", "import_jsx_runtime", "Subtitle", "children", "level", "Heading", "import_jsx_runtime", "useHasDimensionsPanel", "useHasTypographyPanel", "useHasBorderPanel", "useSettingsForBlockElement", "useHasColorPanel", "useHasFiltersPanel", "useHasImageSettingsPanel", "useHasBackgroundPanel", "StylesBackgroundPanel", "StylesBorderPanel", "StylesColorPanel", "StylesTypographyPanel", "StylesDimensionsPanel", "StylesFiltersPanel", "ImageSettingsPanel", "StylesAdvancedPanel", "unlock", "blockEditorPrivateApis", "import_i18n", "import_components", "import_element", "import_i18n", "import_components", "import_jsx_runtime", "import_components", "import_components", "import_jsx_runtime", "StylesPreviewTypography", "variation", "isFocused", "withHoverView", "preview_wrapper_default", "ratio", "key", "HStack", "PreviewTypography", "preview_typography_default", "import_components", "import_element", "import_keycodes", "import_i18n", "import_jsx_runtime", "Variation", "variation", "children", "isPill", "properties", "showTooltip", "isFocused", "setIsFocused", "base", "user", "setUserConfig", "GlobalStylesContext", "context", "merged", "filterObjectByProperties", "selectVariation", "selectOnEnter", "event", "isActive", "areGlobalStylesEqual", "label", "content", "clsx_default", "import_jsx_runtime", "propertiesToFilter", "TypographyVariations", "title", "gap", "typographyVariations", "useCurrentMergeThemeStyleVariationsWithUserConfig", "VStack", "Subtitle", "Grid", "variation", "index", "Variation", "preview_typography_default", "import_i18n", "import_components", "import_element", "import_element", "import_data", "import_core_data", "import_i18n", "import_api_fetch", "import_components", "import_i18n", "FONT_WEIGHTS", "FONT_STYLES", "File", "kebabCase", "unlock", "componentsPrivateApis", "import_jsx_runtime", "FontLibraryContext", "import_i18n", "import_components", "import_core_data", "import_data", "import_element", "import_components", "import_core_data", "import_data", "import_element", "import_i18n", "import_i18n", "import_components", "import_components", "import_element", "import_jsx_runtime", "import_jsx_runtime", "import_element", "import_components", "import_jsx_runtime", "import_jsx_runtime", "import_element", "import_components", "import_compose", "import_i18n", "import_i18n", "import_components", "import_jsx_runtime", "import_element", "import_components", "import_jsx_runtime", "import_jsx_runtime", "DEFAULT_CATEGORY", "import_i18n", "import_components", "import_element", "require_unbrotli", "__commonJS", "exports", "module", "f", "g", "define", "r", "e", "n", "t", "o", "i", "c", "__require", "u", "a", "p", "require", "BROTLI_READ_SIZE", "BROTLI_IBUF_SIZE", "BROTLI_IBUF_MASK", "kBitMask", "BrotliBitReader", "input", "dst", "bytes_read", "n_bits", "val", "CONTEXT_LSB6", "CONTEXT_MSB6", "CONTEXT_UTF8", "CONTEXT_SIGNED", "BrotliInput", "BrotliOutput", "BrotliDictionary", "HuffmanCode", "BrotliBuildHuffmanTable", "Context", "Prefix", "Transform", "kDefaultCodeLength", "kCodeLengthRepeatCode", "kNumLiteralCodes", "kNumInsertAndCopyCodes", "kNumBlockLengthCodes", "kLiteralContextBits", "kDistanceContextBits", "HUFFMAN_TABLE_BITS", "HUFFMAN_TABLE_MASK", "HUFFMAN_MAX_TABLE_SIZE", "CODE_LENGTH_CODES", "kCodeLengthCodeOrder", "NUM_DISTANCE_SHORT_CODES", "kDistanceShortCodeIndexOffset", "kDistanceShortCodeValueOffset", "kMaxHuffmanTableSize", "DecodeWindowBits", "br", "DecodeVarLenUint8", "nbits", "MetaBlockLength", "DecodeMetaBlockLength", "out", "size_nibbles", "size_bytes", "next_byte", "next_nibble", "ReadSymbol", "table", "index", "start_index", "ReadHuffmanCodeLengths", "code_length_code_lengths", "num_symbols", "code_lengths", "symbol", "prev_code_len", "repeat", "repeat_code_len", "space", "code_len", "extra_bits", "old_repeat", "repeat_delta", "new_len", "x", "ReadHuffmanCode", "alphabet_size", "tables", "table_size", "simple_code_or_skip", "max_bits_counter", "max_bits", "symbols", "num_codes", "huff", "code_len_idx", "v", "ReadBlockLength", "code", "TranslateShortCodes", "ringbuffer", "MoveToFront", "value", "InverseMoveToFrontTransform", "v_len", "mtf", "HuffmanTreeGroup", "num_htrees", "next", "DecodeContextMap", "context_map_size", "use_rle_for_zeros", "max_run_length_prefix", "context_map", "reps", "DecodeBlockType", "max_block_type", "trees", "tree_type", "block_types", "ringbuffers", "indexes", "type_code", "block_type", "CopyUncompressedBlockToOutput", "output", "len", "pos", "ringbuffer_mask", "rb_size", "rb_pos", "br_pos", "nbytes", "tail", "JumpToByteBoundary", "new_bit_pos", "pad_bits", "BrotliDecompressedSize", "buffer", "BrotliDecompressBuffer", "output_size", "output_buffer", "BrotliDecompress", "input_end", "window_bits", "max_backward_distance", "max_distance", "ringbuffer_size", "ringbuffer_end", "dist_rb", "dist_rb_idx", "prev_byte1", "prev_byte2", "hgroup", "block_type_trees", "block_len_trees", "kRingBufferWriteAheadSlack", "meta_block_remaining_len", "is_uncompressed", "block_length", "num_block_types", "block_type_rb", "block_type_rb_index", "distance_postfix_bits", "num_direct_distance_codes", "distance_postfix_mask", "num_distance_codes", "context_modes", "num_literal_htrees", "dist_context_map", "num_dist_htrees", "context_offset", "context_map_slice", "literal_htree_index", "dist_context_offset", "dist_context_map_slice", "dist_htree_index", "context_lookup_offset1", "context_lookup_offset2", "context_mode", "htree_command", "_out", "tmp", "_o1", "_o2", "cmd_code", "range_idx", "insert_code", "copy_code", "insert_length", "copy_length", "distance_code", "distance", "context", "j", "copy_dst", "postfix", "offset", "word_id", "shift", "mask", "word_idx", "transform_idx", "_x", "base64", "compressed", "data", "bits", "MAX_LENGTH", "GetNextKey", "key", "step", "ReplicateValue", "end", "NextTableBitSize", "count", "root_bits", "left", "root_table", "code_lengths_size", "start_table", "low", "table_bits", "total_size", "sorted", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "extraBytes", "parts", "maxChunkLength", "len2", "PrefixCodeRange", "buf", "kIdentity", "kOmitLast1", "kOmitLast2", "kOmitLast3", "kOmitLast4", "kOmitLast5", "kOmitLast6", "kOmitLast7", "kOmitLast8", "kOmitLast9", "kUppercaseFirst", "kUppercaseAll", "kOmitFirst1", "kOmitFirst2", "kOmitFirst3", "kOmitFirst4", "kOmitFirst5", "kOmitFirst6", "kOmitFirst7", "kOmitFirst8", "kOmitFirst9", "prefix", "transform", "suffix", "kTransforms", "ToUpperCase", "idx", "word", "skip", "start_idx", "uppercase", "prefix_pos", "suffix_pos", "require_inflate", "__commonJS", "exports", "module", "f", "g", "define", "r", "e", "n", "t", "o", "i", "c", "__require", "u", "a", "p", "require", "TYPED_OK", "_has", "obj", "key", "sources", "source", "buf", "size", "fnTyped", "dest", "src", "src_offs", "len", "dest_offs", "chunks", "l", "pos", "chunk", "result", "fnUntyped", "on", "utils", "STR_APPLY_OK", "STR_APPLY_UIA_OK", "_utf8len", "q", "str", "c2", "m_pos", "str_len", "buf_len", "buf2binstring", "max", "out", "c_len", "utf16buf", "adler32", "adler", "s1", "s2", "makeTable", "table", "k", "crcTable", "crc32", "crc", "end", "GZheader", "BAD", "TYPE", "strm", "start", "state", "_in", "last", "_out", "beg", "dmax", "wsize", "whave", "wnext", "s_window", "hold", "bits", "lcode", "dcode", "lmask", "dmask", "here", "op", "dist", "from", "from_source", "input", "output", "top", "dolen", "dodist", "inflate_fast", "inflate_table", "CODES", "LENS", "DISTS", "Z_FINISH", "Z_BLOCK", "Z_TREES", "Z_OK", "Z_STREAM_END", "Z_NEED_DICT", "Z_STREAM_ERROR", "Z_DATA_ERROR", "Z_MEM_ERROR", "Z_BUF_ERROR", "Z_DEFLATED", "HEAD", "FLAGS", "TIME", "OS", "EXLEN", "EXTRA", "NAME", "COMMENT", "HCRC", "DICTID", "DICT", "TYPEDO", "STORED", "COPY_", "COPY", "TABLE", "LENLENS", "CODELENS", "LEN_", "LEN", "LENEXT", "DIST", "DISTEXT", "MATCH", "LIT", "CHECK", "LENGTH", "DONE", "MEM", "SYNC", "ENOUGH_LENS", "ENOUGH_DISTS", "MAX_WBITS", "DEF_WBITS", "zswap32", "InflateState", "inflateResetKeep", "inflateReset", "inflateReset2", "windowBits", "wrap", "inflateInit2", "ret", "inflateInit", "virgin", "lenfix", "distfix", "fixedtables", "sym", "updatewindow", "copy", "inflate", "flush", "next", "put", "have", "left", "here_bits", "here_op", "here_val", "last_bits", "last_op", "last_val", "hbuf", "opts", "order", "inf_leave", "inflateEnd", "inflateGetHeader", "head", "inflateSetDictionary", "dictionary", "dictLength", "dictid", "MAXBITS", "lbase", "lext", "dbase", "dext", "type", "lens", "lens_index", "codes", "table_index", "work", "min", "root", "curr", "drop", "used", "huff", "incr", "fill", "low", "mask", "base", "base_index", "count", "offs", "extra", "extra_index", "ZStream", "zlib_inflate", "strings", "msg", "toString", "Inflate", "options", "opt", "status", "data", "mode", "chunkSize", "_mode", "next_out_utf8", "tail", "utf8str", "allowBufError", "inflator", "inflateRaw", "fetchFunction", "Event", "type", "detail", "msg", "EventManager", "listener", "useCapture", "bin", "pos", "e", "event", "l", "startDate", "asText", "data", "v", "Parser", "dict", "dataview", "name", "fn", "increment", "position", "n", "bits", "t", "major", "minor", "value", "i", "byte", "integer", "fraction", "signed", "slice", "ParsedData", "parser", "start", "struct", "p", "props", "SimpleTable", "lazy$1", "object", "property", "getter", "val", "SFNT", "font", "createTable", "_", "TableRecord", "entry", "gzipDecode", "inflate_default", "nativeGzipDecode", "WOFF$1", "WoffTableDirectoryEntry", "buildWoffLazyLookups", "woff", "offset", "view", "unpacked", "brotliDecode", "unbrotli_default", "nativeBrotliDecode", "WOFF2$1", "Woff2TableDirectoryEntry", "dictOffset", "next", "decoded", "buffer", "buildWoff2LazyLookups", "tagNumber", "getWOFF2Tag", "hasTransforms", "woff2", "end", "flag", "tableClasses", "tableClassesLoaded", "cmap$1", "head$1", "hhea$1", "hmtx$1", "maxp$1", "name$1", "OS2$1", "post$1", "BASE$1", "GDEF$1", "GSUB$1", "GPOS$1", "SVG$1", "fvar$1", "cvt$1", "fpgm$1", "gasp$1", "glyf$1", "loca$1", "prep$1", "CFF$1", "CFF2$1", "VORG$1", "EBLC$1", "EBDT$1", "EBSC$1", "CBLC$1", "CBDT$1", "sbix$1", "COLR$1", "CPAL$1", "DSIG$1", "hdmx$1", "kern$1", "LTSH$1", "MERG$1", "meta$1", "PCLT$1", "VDMX$1", "vhea$1", "vmtx$1", "tables", "Type", "loadTableClasses", "count", "checkLoaded", "resolve", "reject", "getFontCSSFormat", "path", "errorOnStyle", "ext", "format", "setupFontFace", "url", "options", "style", "rules", "key", "TTF", "OTF", "WOFF", "WOFF2", "match", "ar1", "ar2", "validFontFormat", "LEAD_BYTES", "checkFetchResponseStatus", "response", "Font", "src", "filename", "err", "evt", "filenameOrUrL", "char", "glyphid", "variation", "text", "size", "d", "bbox", "OS2", "Subtable", "plaformID", "encodingID", "Format0", "platformID", "charCode", "glyphID", "Format2", "subHeaderCount", "subHeaderOffset", "SubHeader", "glyphIndexOffset", "low", "high", "subHeaderKey", "subheader", "first", "last", "preservePropNames", "h", "Format4", "endCodePosition", "startCodePosition", "idDeltaPosition", "idRangePosition", "glyphIdArrayPosition", "glyphIdArrayLength", "build", "startCode", "endCode", "idDelta", "idRangeOffset", "idRangeOffsetPointer", "glyphIDs", "s", "code", "segment", "Format6", "Format8", "SequentialMapGroup$1", "Format10", "Format12", "SequentialMapGroup", "group", "Format13", "ConstantMapGroup", "Format14", "VariationSelector", "uvs", "createSubTable", "cmap", "EncodingRecord", "tableID", "r", "recordID", "tableStart", "head", "hhea", "hmtx", "numberOfHMetrics", "numGlyphs", "metricsStart", "LongHorMetric", "lsbStart", "w", "b", "maxp", "NameRecord", "LangTagRecord", "nameID", "record", "length", "nameTable", "decodeString", "str", "bytes", "post", "macStrings", "bytelength", "index", "len", "BASE", "AxisTable", "BaseTagListTable", "BaseScriptListTable", "recordStart", "BaseScriptRecord", "baseScriptListTableStart", "BaseScriptTable", "BaseLangSysRecord", "BaseValuesTable", "MinMaxTable", "baseScriptTableStart", "id", "BaseCoordTable", "FeatMinMaxRecord", "ClassDefinition", "ClassRangeRecord", "CoverageTable", "CoverageRangeRecord", "ItemVariationStoreTable", "table", "GDEF", "AttachList", "LigCaretList", "MarkGlyphSetsTable", "pointID", "AttachPoint", "ligGlyphID", "LigGlyph", "caretID", "CaretValue", "markGlyphSetID", "ScriptList", "ScriptRecord", "ScriptTable", "LangSysRecord", "LangSysTable", "FeatureList", "FeatureRecord", "FeatureTable", "tag", "Size", "CharacterVariant", "StylisticSet", "undoCoverageOffsetParsing", "instance", "LookupType$1", "SubstLookupRecord", "LookupType1$1", "LookupType2$1", "SequenceTable", "LookupType3$1", "AlternateSetTable", "LookupType4$1", "LigatureSetTable", "LigatureTable", "LookupType5$1", "SubRuleSetTable", "SubClassSetTable", "SubRuleTable", "SubClassRuleTable", "LookupType6$1", "SequenceLookupRecord", "ChainSubRuleSetTable", "ChainSubClassSetTable", "ChainSubRuleTable", "ChainSubClassRuleTable", "LookupType7$1", "LookupType8$1", "GSUBtables", "subtable", "LookupType", "LookupType1", "LookupType2", "LookupType3", "LookupType4", "LookupType5", "LookupType6", "LookupType7", "LookupType8", "LookupType9", "GPOStables", "LookupList", "LookupTable", "builder", "CommonLayoutTable", "no_content", "scriptTag", "arg", "scriptTable", "hasDefault", "supported", "langSysTag", "langSysTable", "indexOrTag", "f", "featureTable", "lookupIndex", "lookupOffset", "GSUB", "GPOS", "SVG", "SVGDocumentList", "SVGDocumentRecord", "documentID", "fvar", "axisStart", "VariationAxisRecord", "instanceStart", "instances", "InstanceRecord", "a", "axisCount", "cvt", "fpgm", "gasp", "GASPRange", "glyf", "loca", "nextOffset", "prep", "CFF", "CFF2", "VORG", "VertOriginYMetric", "BitmapSize", "SbitLineMetrics", "BitmapScale", "EBLC", "EBDT", "EBSC", "CBLC", "CBDT", "sbix", "COLR", "BaseGlyphRecord", "firstID", "lastID", "mid", "middle", "midID", "LayerRecord", "CPAL", "numPalettes", "ColorRecord", "PaletteTypeArray", "PaletteLabelsArray", "PaletteEntryLabelArray", "DSIG", "SignatureRecord", "signatureID", "SignatureBlockFormat1", "hdmx", "DeviceRecord", "kern", "KernSubTable", "Pair", "LTSH", "MERG", "meta", "DataMap", "PCLT", "VDMX", "RatioRange", "VDMXGroup", "vTable", "vhea", "vmtx", "numOfLongVerMetrics", "LongVertMetric", "tsbStart", "import_components", "kebabCase", "unlock", "componentsPrivateApis", "import_jsx_runtime", "import_jsx_runtime", "Tabs", "unlock", "componentsPrivateApis", "DEFAULT_TAB", "UPLOAD_TAB", "import_i18n", "import_components", "import_element", "import_jsx_runtime", "import_jsx_runtime", "import_i18n", "import_components", "import_jsx_runtime", "import_jsx_runtime", "import_i18n", "import_components", "import_element", "import_block_editor", "import_jsx_runtime", "useSettingsForBlockElement", "StylesTypographyPanel", "unlock", "blockEditorPrivateApis", "import_jsx_runtime", "import_jsx_runtime", "elements", "import_i18n", "import_components", "import_block_editor", "import_components", "import_i18n", "import_element", "import_components", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "useSettingsForBlockElement", "StylesColorPanel", "unlock", "blockEditorPrivateApis", "import_i18n", "import_components", "import_compose", "import_components", "import_i18n", "import_components", "import_components", "import_jsx_runtime", "PresetColors", "paletteColors", "useStylesPreviewColors", "slug", "color", "index", "import_jsx_runtime", "firstFrameVariants", "StylesPreviewColors", "label", "isFocused", "withHoverView", "preview_wrapper_default", "key", "motion", "HStack", "PresetColors", "preview_colors_default", "import_jsx_runtime", "propertiesToFilter", "ColorVariations", "title", "gap", "colorVariations", "useCurrentMergeThemeStyleVariationsWithUserConfig", "VStack", "Subtitle", "Grid", "variation", "index", "Variation", "preview_colors_default", "import_jsx_runtime", "import_compose", "import_components", "import_i18n", "import_jsx_runtime", "import_jsx_runtime", "Tabs", "unlock", "componentsPrivateApis", "import_i18n", "import_block_editor", "import_components", "import_block_editor", "import_jsx_runtime", "StylesBackgroundPanel", "unlock", "blockEditorPrivateApis", "import_jsx_runtime", "useHasBackgroundPanel", "unlock", "blockEditorPrivateApis", "import_components", "import_i18n", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "customShadowMenuItems", "presetShadowMenuItems", "import_jsx_runtime", "import_i18n", "import_block_editor", "import_block_editor", "import_element", "import_jsx_runtime", "useSettingsForBlockElement", "StylesDimensionsPanel", "unlock", "blockEditorPrivateApis", "import_jsx_runtime", "useHasDimensionsPanel", "useSettingsForBlockElement", "unlock", "blockEditorPrivateApis", "import_components", "import_i18n", "import_i18n", "import_components", "import_core_data", "import_data", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "StyleVariationsContainer", "gap", "user", "GlobalStylesContext", "userStyles", "fullStyleVariations", "select", "result", "coreStore", "variation", "isVariationWithProperties", "themeVariations", "blockStyles", "blockName", "variationBlockStyles", "customCSS", "css", "blocks", "styles", "Grid", "index", "Variation", "isFocused", "preview_styles_default", "style_variations_container_default", "import_jsx_runtime", "import_jsx_runtime", "import_i18n", "import_components", "import_block_editor", "import_jsx_runtime", "StylesAdvancedPanel", "unlock", "blockEditorPrivateApis", "import_i18n", "import_components", "import_element", "import_data", "import_core_data", "import_element", "SITE_EDITOR_AUTHORS_QUERY", "DEFAULT_QUERY", "EMPTY_ARRAY", "useGlobalStylesRevisions", "query", "userConfig", "GlobalStylesContext", "_query", "authors", "currentUser", "isDirty", "revisions", "isLoadingGlobalStylesRevisions", "revisionsCount", "select", "__experimentalGetDirtyEntityRecords", "getCurrentUser", "getUsers", "getRevisions", "__experimentalGetCurrentGlobalStylesId", "getEntityRecord", "isResolving", "coreStore", "dirtyEntityRecords", "_currentUser", "_isDirty", "globalStylesId", "_revisionsCount", "globalStylesRevisions", "_authors", "_isResolving", "_modifiedRevisions", "revision", "author", "unsavedRevision", "import_i18n", "import_components", "import_date", "import_core_data", "import_data", "import_keycodes", "import_jsx_runtime", "DAY_IN_MILLISECONDS", "import_components", "import_i18n", "import_jsx_runtime", "import_jsx_runtime", "import_i18n", "import_components", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "import_i18n", "import_components", "import_element", "import_block_editor", "import_i18n", "import_jsx_runtime", "import_components", "import_i18n", "import_jsx_runtime", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "import_components", "import_jsx_runtime", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "import_jsx_runtime", "import_jsx_runtime", "withGlobalStylesProvider", "Component", "value", "baseValue", "onChange", "props", "GlobalStylesProvider", "StyleVariations", "withGlobalStylesProvider", "style_variations_container_default", "ColorVariations", "withGlobalStylesProvider", "TypographyVariations", "withGlobalStylesProvider", "import_i18n", "import_url", "import_components", "import_jsx_runtime", "SidebarNavigationScreenDetailsFooter", "record", "revisionsCount", "otherProps", "hrefProps", "lastRevisionId", "ItemGroup", "SidebarNavigationItem", "backup_default", "import_jsx_runtime", "useLocation", "useHistory", "unlock", "routerPrivateApis", "SidebarNavigationItemGlobalStyles", "props", "name", "SidebarNavigationItem", "SidebarNavigationScreenGlobalStyles", "history", "path", "revisions", "isLoadingRevisions", "revisionsCount", "useGlobalStylesRevisions", "openGeneralSidebar", "store", "setStylesPath", "editorStore", "setPreference", "preferencesStore", "openGlobalStyles", "openRevisions", "shouldShowGlobalStylesFooter", "SidebarNavigationScreen", "MainSidebarNavigationContent", "SidebarNavigationScreenDetailsFooter", "import_jsx_runtime", "MainSidebarNavigationContent", "isBlockBasedTheme", "ItemGroup", "SidebarNavigationItemGlobalStyles", "styles_default", "SidebarNavigationItem", "navigation_default", "page_default", "layout_default", "symbol_default", "SidebarNavigationScreenMain", "customDescription", "select", "coreStore", "description", "SidebarNavigationScreen", "import_i18n", "import_components", "import_jsx_runtime", "SidebarNavigationScreenUnsupported", "Spacer", "import_data", "import_components", "import_compose", "import_editor", "import_i18n", "import_core_data", "import_block_library", "import_element", "import_notices", "import_router", "import_html_entities", "import_block_editor", "import_url", "import_data", "import_components", "import_i18n", "import_element", "import_preferences", "import_core_data", "import_jsx_runtime", "WelcomeGuideImage", "nonAnimatedSrc", "animatedSrc", "import_jsx_runtime", "WelcomeGuideEditor", "toggle", "preferencesStore", "isActive", "isBlockBasedTheme", "select", "coreStore", "WelcomeGuideImage", "import_data", "import_components", "import_i18n", "import_preferences", "import_jsx_runtime", "WelcomeGuidePage", "toggle", "preferencesStore", "select", "isPageActive", "isEditorActive", "heading", "import_data", "import_components", "import_i18n", "import_preferences", "import_editor", "import_jsx_runtime", "WelcomeGuideTemplate", "toggle", "preferencesStore", "isActive", "hasPreviousEntity", "select", "getEditorSettings", "editorStore", "get", "heading", "import_jsx_runtime", "WelcomeGuide", "postType", "WelcomeGuideEditor", "WelcomeGuidePage", "WelcomeGuideTemplate", "import_components", "import_core_data", "import_data", "import_editor", "import_jsx_runtime", "Theme", "unlock", "componentsPrivateApis", "useStyle", "editorPrivateApis", "CanvasLoader", "id", "textColor", "backgroundColor", "elapsed", "total", "select", "selectorsByStatus", "coreStore", "resolving", "finished", "import_data", "import_element", "import_router", "import_compose", "import_editor", "import_router", "import_element", "useHistory", "unlock", "routerPrivateApis", "useNavigateToEntityRecord", "history", "params", "useLocation", "useHistory", "unlock", "routerPrivateApis", "useNavigateToPreviousEntityRecord", "location", "previousLocation", "history", "isFocusMode", "FOCUSABLE_ENTITIES", "didComeFromEditorCanvas", "useSpecificEditorSettings", "query", "canvas", "onNavigateToEntityRecord", "useNavigateToEntityRecord", "settings", "currentPostIsTrashed", "select", "getSettings", "store", "getCurrentPostAttribute", "editorStore", "onNavigateToPreviousEntityRecord", "import_editor", "import_data", "import_components", "import_deprecated", "import_jsx_runtime", "Fill", "Slot", "PluginTemplateSettingPanel", "children", "deprecated", "select", "editorStore", "plugin_template_setting_panel_default", "import_editor", "import_i18n", "import_components", "import_api_fetch", "import_data", "import_blob", "import_core_data", "import_notices", "import_jsx_runtime", "SiteExport", "canExport", "select", "coreStore", "createErrorNotice", "noticesStore", "handleExport", "response", "apiFetch", "blob", "contentDispositionMatches", "fileName", "errorResponse", "error", "errorMessage", "download_default", "import_i18n", "import_data", "import_components", "import_preferences", "import_jsx_runtime", "WelcomeGuideMenuItem", "toggle", "preferencesStore", "import_jsx_runtime", "ToolsMoreMenuGroup", "PreferencesModal", "unlock", "editorPrivateApis", "MoreMenu", "SiteExport", "WelcomeGuideMenuItem", "import_data", "import_keycodes", "import_element", "import_i18n", "import_editor", "import_router", "import_url", "useLocation", "useHistory", "unlock", "routerPrivateApis", "useEditorIframeProps", "query", "path", "history", "canvas", "currentPostIsTrashed", "select", "editorStore", "isFocused", "setIsFocused", "viewModeIframeProps", "event", "keyCode", "clsx_default", "import_i18n", "import_data", "import_core_data", "import_html_entities", "import_editor", "import_element", "import_data", "import_core_data", "import_i18n", "import_a11y", "import_html_entities", "import_router", "useLocation", "unlock", "routerPrivateApis", "useTitle", "title", "location", "siteTitle", "select", "coreStore", "isInitialLocationRef", "formattedTitle", "getTemplateInfo", "unlock", "editorPrivateApis", "useEditorTitle", "postType", "postId", "title", "isLoaded", "select", "getEditedEntityRecord", "getCurrentTheme", "hasFinishedResolution", "coreStore", "_record", "templateTypes", "templateInfo", "_isLoaded", "editorTitle", "POST_TYPE_LABELS", "TEMPLATE_POST_TYPE", "useTitle", "use_editor_title_default", "import_data", "import_block_editor", "import_editor", "import_element", "import_preferences", "useAdaptEditorToCanvas", "canvas", "clearSelectedBlock", "blockEditorStore", "setDeviceType", "closePublishSidebar", "setIsListViewOpened", "setIsInserterOpened", "editorStore", "getPreference", "preferencesStore", "registry", "isMediumOrBigger", "import_element", "import_data", "import_core_data", "import_router", "useLocation", "unlock", "routerPrivateApis", "postTypesWithoutParentTemplate", "TEMPLATE_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "NAVIGATION_POST_TYPE", "PATTERN_TYPES", "authorizedPostTypes", "getPostType", "name", "postType", "useResolveEditedEntity", "params", "query", "postId", "homePage", "select", "getHomePage", "coreDataStore", "resolvedTemplateId", "getTemplateId", "context", "useSyncDeprecatedEntityIntoState", "isReady", "setEditedEntity", "store", "import_i18n", "import_data", "import_core_data", "import_dom", "import_url", "import_jsx_runtime", "SitePreview", "siteUrl", "select", "getEntityRecord", "coreStore", "event", "document", "element", "import_jsx_runtime", "Editor", "BackButton", "unlock", "editorPrivateApis", "useHistory", "useLocation", "routerPrivateApis", "BlockKeyboardShortcuts", "blockLibraryPrivateApis", "toggleHomeIconVariants", "siteIconVariants", "getListPathForPostType", "postType", "getNavigationPath", "location", "path", "name", "EditSiteEditor", "isHomeRoute", "disableMotion", "canvas", "isLoading", "useIsSiteEditorLoading", "useAdaptEditorToCanvas", "entity", "useResolveEditedEntity", "useSyncDeprecatedEntityIntoState", "postId", "context", "isBlockBasedTheme", "hasSiteIcon", "select", "getCurrentTheme", "getEntityRecord", "coreDataStore", "siteData", "postWithTemplate", "use_editor_title_default", "_isPreviewingTheme", "isPreviewingTheme", "iframeProps", "useEditorIframeProps", "isEditMode", "loadingProgressId", "CanvasLoader", "settings", "useSpecificEditorSettings", "resetZoomLevel", "blockEditorStore", "createSuccessNotice", "noticesStore", "history", "onActionPerformed", "actionId", "items", "newItem", "_title", "isReady", "transition", "SitePreview", "WelcomeGuide", "SaveButton", "SavePanel", "plugin_template_setting_panel_default", "length", "motion", "site_icon_default", "clsx_default", "icon_default", "arrow_up_left_default", "MoreMenu", "isClassicThemeWithStyleBookSupport", "siteData", "isBlockTheme", "supportsEditorStyles", "hasThemeJson", "import_jsx_runtime", "homeRoute", "siteData", "isClassicThemeWithStyleBookSupport", "SidebarNavigationScreenMain", "SidebarNavigationScreenUnsupported", "EditSiteEditor", "import_router", "import_editor", "import_url", "import_i18n", "import_element", "import_router", "import_editor", "import_compose", "import_components", "import_url", "import_jsx_runtime", "GlobalStylesUIWrapper", "GlobalStylesActionMenu", "unlock", "editorPrivateApis", "useLocation", "useHistory", "routerPrivateApis", "GlobalStylesPageActions", "isStyleBookOpened", "setIsStyleBookOpened", "path", "onChangeSection", "history", "HStack", "seen_default", "updatedPath", "useSection", "query", "updatedSection", "SidebarGlobalStyles", "isMobileViewport", "section", "page_default", "import_jsx_runtime", "useLocation", "useHistory", "unlock", "routerPrivateApis", "StyleBookPreview", "editorPrivateApis", "MobileGlobalStylesUI", "query", "canvas", "EditSiteEditor", "SidebarGlobalStyles", "StylesPreviewArea", "path", "history", "isStylebook", "section", "onChangeSection", "updatedSection", "stylesRoute", "SidebarNavigationScreenGlobalStyles", "import_router", "import_i18n", "import_core_data", "import_data", "import_html_entities", "import_components", "PRELOADED_NAVIGATION_MENUS_QUERY", "import_i18n", "import_html_entities", "import_components", "import_i18n", "import_element", "import_router", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "notEmptyString", "testString", "RenameModal", "menuTitle", "onClose", "onSave", "editedMenuTitle", "setEditedMenuTitle", "isEditedMenuTitleValid", "VStack", "HStack", "e", "import_components", "import_i18n", "import_jsx_runtime", "DeleteConfirmDialog", "onClose", "onConfirm", "ConfirmDialog", "import_jsx_runtime", "useHistory", "unlock", "routerPrivateApis", "POPOVER_PROPS", "ScreenNavigationMoreMenu", "props", "onDelete", "onSave", "onDuplicate", "menuTitle", "menuId", "renameModalOpen", "setRenameModalOpen", "deleteConfirmDialogOpen", "setDeleteConfirmDialogOpen", "history", "closeModals", "openRenameModal", "openDeleteConfirmDialog", "more_vertical_default", "onClose", "DeleteConfirmDialog", "RenameModal", "import_element", "import_data", "import_block_editor", "import_blocks", "import_block_editor", "import_data", "import_blocks", "import_element", "import_core_data", "import_components", "import_data", "import_element", "import_i18n", "import_block_editor", "import_router", "import_jsx_runtime", "POPOVER_PROPS", "useHistory", "useLocation", "unlock", "routerPrivateApis", "LeafMoreMenu", "props", "history", "path", "block", "clientId", "moveBlocksDown", "moveBlocksUp", "removeBlocks", "blockEditorStore", "removeLabel", "goToLabel", "rootClientId", "select", "getBlockRootClientId", "onGoToPage", "selectedBlock", "attributes", "name", "more_vertical_default", "onClose", "chevron_up_default", "chevron_down_default", "import_jsx_runtime", "PrivateListView", "unlock", "blockEditorPrivateApis", "MAX_PAGE_COUNT", "PAGES_QUERY", "NavigationMenuContent", "rootClientId", "listViewRootClientId", "isLoading", "select", "areInnerBlocksControlled", "getBlockName", "getBlockCount", "getBlockOrder", "blockEditorStore", "isResolving", "coreStore", "blockClientIds", "pageListHasBlocks", "isLoadingPages", "replaceBlock", "__unstableMarkNextChangeAsNotPersistent", "offCanvasOnselect", "block", "LeafMoreMenu", "import_jsx_runtime", "noop", "NavigationMenuEditor", "navigationMenuId", "storedSettings", "select", "getSettings", "unlock", "store", "blocks", "NavigationMenuContent", "import_i18n", "import_html_entities", "buildNavigationLabel", "title", "id", "status", "import_jsx_runtime", "SingleNavigationMenu", "navigationMenu", "backPath", "handleDelete", "handleDuplicate", "handleSave", "menuTitle", "SidebarNavigationScreenWrapper", "ScreenNavigationMoreMenu", "buildNavigationLabel", "NavigationMenuEditor", "import_core_data", "import_i18n", "import_data", "import_notices", "import_router", "import_core_data", "import_components", "import_i18n", "import_data", "import_html_entities", "import_router", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "postType", "SidebarNavigationScreenNavigationMenu", "backPath", "postId", "navigationMenu", "isResolving", "isSaving", "isDeleting", "select", "isSavingEntityRecord", "isDeletingEntityRecord", "coreStore", "isLoading", "menuTitle", "handleSave", "handleDelete", "handleDuplicate", "useNavigationMenuHandlers", "_handleDelete", "_handleSave", "edits", "_handleDuplicate", "SidebarNavigationScreenWrapper", "SingleNavigationMenu", "ScreenNavigationMoreMenu", "buildNavigationLabel", "useHistory", "unlock", "routerPrivateApis", "useDeleteNavigationMenu", "deleteEntityRecord", "coreStore", "createSuccessNotice", "createErrorNotice", "noticesStore", "history", "navigationMenu", "postId", "postType", "error", "useSaveNavigationMenu", "getEditedEntityRecord", "select", "getEditedEntityRecordSelector", "editEntityRecord", "saveSpecifiedEntityEdits", "edits", "originalRecord", "NAVIGATION_POST_TYPE", "recordPropertiesToSave", "useDuplicateNavigationMenu", "saveEntityRecord", "menuTitle", "savedRecord", "useNavigationMenuHandlers", "import_jsx_runtime", "buildMenuLabel", "title", "id", "status", "SidebarNavigationScreenNavigationMenus", "backPath", "navigationMenus", "isResolvingNavigationMenus", "hasResolvedNavigationMenus", "NAVIGATION_POST_TYPE", "PRELOADED_NAVIGATION_MENUS_QUERY", "isLoading", "getNavigationFallbackId", "unlock", "coreStore", "isCreatingNavigationFallback", "select", "firstNavigationMenu", "handleSave", "handleDelete", "handleDuplicate", "useNavigationMenuHandlers", "hasNavigationMenus", "SidebarNavigationScreenWrapper", "SingleNavigationMenu", "edits", "ItemGroup", "index", "NavMenuItem", "navigation_default", "children", "actions", "description", "SidebarNavigationScreen", "postId", "props", "SidebarNavigationItem", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "MobileNavigationView", "query", "canvas", "EditSiteEditor", "SidebarNavigationScreenNavigationMenus", "navigationRoute", "siteData", "SidebarNavigationScreenUnsupported", "import_router", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "MobileNavigationItemView", "query", "canvas", "EditSiteEditor", "SidebarNavigationScreenNavigationMenu", "navigationItemRoute", "siteData", "SidebarNavigationScreenUnsupported", "import_components", "import_editor", "import_i18n", "import_router", "import_jsx_runtime", "CategoryItem", "count", "icon", "id", "isActive", "label", "type", "queryArgs", "SidebarNavigationItem", "import_element", "import_i18n", "import_core_data", "import_data", "useDefaultPatternCategories", "blockPatternCategories", "select", "getSettings", "unlock", "store", "settings", "restBlockPatternCategories", "coreStore", "import_core_data", "import_data", "import_element", "filterOutDuplicatesByName", "currentItem", "index", "items", "item", "useThemePatterns", "blockPatterns", "select", "getSettings", "unlock", "store", "restBlockPatterns", "coreStore", "pattern", "EXCLUDED_PATTERN_SOURCES", "filterOutDuplicatesByName", "import_blocks", "import_data", "import_core_data", "import_element", "import_block_editor", "extractWords", "getNormalizedSearchTerms", "normalizeString", "unlock", "blockEditorPrivateApis", "defaultGetName", "item", "PATTERN_TYPES", "TEMPLATE_PART_POST_TYPE", "defaultGetTitle", "defaultGetDescription", "defaultGetKeywords", "defaultHasCategory", "removeMatchingTerms", "unmatchedTerms", "unprocessedTerms", "term", "unprocessedTerm", "searchItems", "items", "searchInput", "config", "normalizedSearchTerms", "onlyFilterByCategory", "PATTERN_DEFAULT_CATEGORY", "searchRankConfig", "threshold", "rankedItems", "getItemSearchRank", "rank", "rank1", "rank2", "searchTerm", "categoryId", "getName", "getTitle", "getDescription", "getKeywords", "hasCategory", "TEMPLATE_PART_ALL_AREAS_CATEGORY", "PATTERN_USER_CATEGORY", "name", "title", "description", "keywords", "normalizedSearchInput", "normalizedTitle", "terms", "EMPTY_PATTERN_LIST", "selectTemplateParts", "select", "categoryId", "search", "getEntityRecords", "getCurrentTheme", "isResolvingSelector", "coreStore", "query", "templateParts", "TEMPLATE_PART_POST_TYPE", "templatePartAreas", "area", "templatePartHasCategory", "item", "category", "TEMPLATE_PART_AREA_DEFAULT_CATEGORY", "isResolving", "searchItems", "selectThemePatterns", "getSettings", "unlock", "store", "settings", "blockPatterns", "restBlockPatterns", "pattern", "EXCLUDED_PATTERN_SOURCES", "filterOutDuplicatesByName", "PATTERN_TYPES", "selectPatterns", "syncStatus", "themePatterns", "isResolvingThemePatterns", "userPatterns", "isResolvingUserPatterns", "userPatternCategories", "selectUserPatterns", "patterns", "PATTERN_SYNC_TYPES", "currentCategory", "catId", "cat", "getUserPatternCategories", "patternPosts", "categories", "userCategory", "useAugmentPatternsWithPermissions", "idsAndTypes", "record", "permissions", "getEntityRecordPermissions", "acc", "type", "id", "usePatterns", "postType", "use_patterns_default", "usePatternCategories", "defaultCategories", "useDefaultPatternCategories", "TEMPLATE_PART_AREA_DEFAULT_CATEGORY", "themePatterns", "useThemePatterns", "userPatterns", "userPatternCategories", "use_patterns_default", "PATTERN_TYPES", "patternCategories", "categoryMap", "categoriesWithCounts", "category", "pattern", "catId", "cat", "sortedCategories", "a", "b", "PATTERN_USER_CATEGORY", "PATTERN_DEFAULT_CATEGORY", "import_core_data", "import_data", "useTemplatePartsGroupedByArea", "items", "allItems", "templatePartAreas", "select", "coreStore", "knownAreas", "templatePartArea", "accumulator", "item", "key", "TEMPLATE_PART_AREA_DEFAULT_CATEGORY", "useTemplatePartAreas", "templateParts", "isLoading", "TEMPLATE_PART_POST_TYPE", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "CategoriesGroup", "templatePartAreas", "patternCategories", "currentCategory", "currentType", "allPatterns", "otherPatterns", "ItemGroup", "CategoryItem", "templateParts", "acc", "val", "TEMPLATE_PART_ALL_AREAS_CATEGORY", "TEMPLATE_PART_POST_TYPE", "area", "label", "file_default", "PATTERN_TYPES", "category", "SidebarNavigationScreenPatterns", "backPath", "postType", "categoryId", "PATTERN_DEFAULT_CATEGORY", "hasTemplateParts", "isLoading", "useTemplatePartAreas", "hasPatterns", "usePatternCategories", "SidebarNavigationScreen", "Item", "import_i18n", "import_element", "import_block_editor", "import_components", "import_element", "import_compose", "import_element", "import_i18n", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_BETWEEN", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "ALL_OPERATORS", "SINGLE_SELECTION_OPERATORS", "OPERATORS", "SORTING_DIRECTIONS", "sortArrows", "sortValues", "sortLabels", "sortIcons", "arrow_up_default", "arrow_down_default", "LAYOUT_TABLE", "LAYOUT_GRID", "LAYOUT_LIST", "LAYOUT_PICKER_GRID", "LAYOUT_PICKER_TABLE", "DataViewsContext", "LAYOUT_TABLE", "item", "dataviews_context_default", "import_i18n", "import_i18n", "import_components", "import_element", "import_keycodes", "import_components", "import_i18n", "import_jsx_runtime", "DataViewsSelectionCheckbox", "selection", "onChangeSelection", "item", "getItemId", "titleField", "disabled", "extraProps", "id", "checked", "selectionLabel", "itemId", "import_components", "import_i18n", "import_element", "import_data", "import_compose", "import_private_apis", "lock", "unlock", "import_jsx_runtime", "Menu", "kebabCase", "unlock", "componentsPrivateApis", "ButtonTrigger", "action", "onClick", "items", "label", "MenuItemTrigger", "ActionModal", "closeModal", "modalHeader", "ActionsMenuGroup", "actions", "item", "registry", "setActiveModalAction", "primaryActions", "regularActions", "acc", "renderActionGroup", "actionList", "ItemActions", "isCompact", "eligibleActions", "_eligibleActions", "CompactItemActions", "HStack", "PrimaryActions", "isSmall", "activeModalAction", "more_vertical_default", "import_components", "import_i18n", "import_element", "import_data", "import_compose", "import_jsx_runtime", "ActionWithModal", "action", "items", "ActionTriggerComponent", "isModalOpen", "setIsModalOpen", "ActionModal", "useHasAPossibleBulkAction", "actions", "item", "useSomeItemHasAPossibleBulkAction", "data", "BulkSelectionCheckbox", "selection", "onChangeSelection", "getItemId", "selectableItems", "selectedItems", "areAllSelected", "ActionTrigger", "onClick", "isBusy", "label", "EMPTY_ARRAY", "ActionButton", "actionInProgress", "setActionInProgress", "registry", "selectedEligibleItems", "renderFooterContent", "actionsToShow", "message", "HStack", "close_small_default", "FooterContent", "footerContentRef", "isMobile", "bulkActions", "BulkActionsFooter", "dataviews_context_default", "import_i18n", "import_components", "import_element", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "WithMenuSeparators", "children", "child", "i", "_HeaderMenu", "fieldId", "view", "fields", "onChangeView", "onHide", "setOpenedFilter", "canMove", "ref", "visibleFieldIds", "index", "isSorted", "isHidable", "isSortable", "canAddFilter", "operators", "field", "f", "header", "_filter", "sortArrows", "SORTING_DIRECTIONS", "direction", "isChecked", "value", "sortLabels", "funnel_default", "arrow_left_default", "arrow_right_default", "unseen_default", "id", "ColumnHeaderMenu", "column_header_menu_default", "import_components", "import_element", "import_jsx_runtime", "getClickableItemProps", "item", "isItemClickable", "onClickItem", "className", "event", "ItemClickWrapper", "renderItemLink", "children", "extraProps", "renderedElement", "clickProps", "import_jsx_runtime", "ColumnPrimary", "item", "level", "titleField", "mediaField", "descriptionField", "onClickItem", "renderItemLink", "isItemClickable", "HStack", "ItemClickWrapper", "VStack", "column_primary_default", "import_compose", "import_element", "import_i18n", "isScrolledToEnd", "element", "useIsHorizontalScrollEnd", "scrollContainerRef", "enabled", "isHorizontalScrollEnd", "setIsHorizontalScrollEnd", "handleIsHorizontalScrollEnd", "scrollContainer", "getDataByGroup", "data", "groupByField", "groups", "item", "groupName", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "FieldItem", "field", "isVisible", "onToggleVisibility", "Item", "HStack", "check_default", "isDefined", "item", "PropertiesSection", "showLabel", "view", "fields", "onChangeView", "dataviews_context_default", "togglableFields", "regularFields", "f", "titleField", "previewField", "descriptionField", "lockedFields", "visibleFieldIds", "visibleRegularFieldsCount", "visibleLockedFields", "isVisibleFlag", "totalVisibleFields", "locked", "hiddenLockedFields", "VStack", "ItemGroup", "fieldToRender", "fieldId", "import_jsx_runtime", "TableColumnField", "item", "fields", "column", "align", "field", "f", "className", "clsx_default", "TableRow", "hasBulkActions", "level", "actions", "id", "view", "titleField", "mediaField", "descriptionField", "selection", "getItemId", "isItemClickable", "onClickItem", "renderItemLink", "onChangeSelection", "isActionsColumnSticky", "posinset", "paginationInfo", "dataviews_context_default", "hasPossibleBulkAction", "useHasAPossibleBulkAction", "isSelected", "isHovered", "setIsHovered", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "handleMouseEnter", "handleMouseLeave", "isTouchDeviceRef", "columns", "hasPrimaryColumn", "event", "itemId", "DataViewsSelectionCheckbox", "column_primary_default", "width", "maxWidth", "minWidth", "e", "ItemActions", "ViewTable", "data", "getItemLevel", "isLoading", "onChangeView", "setOpenedFilter", "empty", "containerRef", "headerMenuRefs", "headerMenuToFocusRef", "nextHeaderMenuToFocus", "setNextHeaderMenuToFocus", "useSomeItemHasAPossibleBulkAction", "contextMenuAnchor", "setContextMenuAnchor", "tableNoticeId", "isHorizontalScrollEnd", "useIsHorizontalScrollEnd", "onHide", "hidden", "fallback", "handleHeaderContextMenu", "virtualAnchor", "hasData", "groupField", "dataByGroup", "getDataByGroup", "headerMenuRef", "index", "node", "isInfiniteScroll", "PropertiesSection", "BulkSelectionCheckbox", "column_header_menu_default", "sortValues", "groupName", "groupItems", "table_default", "import_components", "import_i18n", "import_compose", "import_keycodes", "import_element", "import_element", "import_jsx_runtime", "GridItems", "className", "previewSize", "props", "ref", "clsx_default", "import_jsx_runtime", "Badge", "unlock", "componentsPrivateApis", "GridItem", "view", "selection", "onChangeSelection", "onClickItem", "isItemClickable", "renderItemLink", "getItemId", "item", "actions", "mediaField", "titleField", "descriptionField", "regularFields", "badgeFields", "hasBulkActions", "config", "posinset", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "hasBulkAction", "useHasAPossibleBulkAction", "id", "instanceId", "isSelected", "renderedMediaField", "renderedTitleField", "shouldRenderMedia", "mediaA11yProps", "titleA11yProps", "paginationInfo", "dataviews_context_default", "VStack", "clsx_default", "event", "itemId", "ItemClickWrapper", "DataViewsSelectionCheckbox", "ItemActions", "HStack", "field", "ViewGrid", "data", "fields", "isLoading", "className", "empty", "resizeObserverRef", "otherFields", "accumulator", "fieldId", "f", "key", "hasData", "useSomeItemHasAPossibleBulkAction", "usedPreviewSize", "size", "groupField", "dataByGroup", "getDataByGroup", "isInfiniteScroll", "groupName", "groupItems", "GridItems", "index", "grid_default", "import_compose", "import_components", "import_element", "import_i18n", "import_data", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "generateItemWrapperCompositeId", "idPrefix", "generatePrimaryActionCompositeId", "primaryActionId", "generateDropdownTriggerCompositeId", "PrimaryActionGridCell", "primaryAction", "item", "registry", "isModalOpen", "setIsModalOpen", "compositeItemId", "label", "ActionModal", "ListItem", "view", "actions", "isSelected", "titleField", "mediaField", "descriptionField", "onSelect", "otherFields", "onDropdownTriggerKeyDown", "posinset", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "itemRef", "labelId", "descriptionId", "isHovered", "setIsHovered", "activeModalAction", "setActiveModalAction", "handleHover", "type", "paginationInfo", "dataviews_context_default", "eligibleActions", "_eligibleActions", "action", "hasOnlyOnePrimaryAction", "renderedMediaField", "renderedTitleField", "usedActions", "HStack", "more_vertical_default", "ActionsMenuGroup", "clsx_default", "VStack", "field", "isDefined", "ViewList", "props", "data", "fields", "getItemId", "isLoading", "onChangeSelection", "selection", "className", "empty", "baseId", "selectedItem", "fieldId", "f", "generateCompositeItemIdPrefix", "isActiveCompositeItem", "idToCheck", "activeCompositeId", "setActiveCompositeId", "activeItemIndex", "previousActiveItemIndex", "isActiveIdInList", "selectCompositeItem", "targetIndex", "generateCompositeId", "clampedIndex", "itemIdPrefix", "targetCompositeItemId", "event", "hasData", "groupField", "dataByGroup", "getDataByGroup", "groupName", "groupItems", "id", "index", "import_components", "import_i18n", "import_compose", "import_element", "import_components", "import_data", "import_element", "import_i18n", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "DataViewsPagination", "view", "onChangeView", "totalItems", "totalPages", "dataviews_context_default", "currentPage", "pageSelectOptions", "_", "i", "page", "HStack", "newValue", "next_default", "previous_default", "dataviews_pagination_default", "import_jsx_runtime", "useIsMultiselectPicker", "actions", "action", "import_jsx_runtime", "Badge", "unlock", "componentsPrivateApis", "GridItem", "view", "multiselect", "selection", "onChangeSelection", "getItemId", "item", "mediaField", "titleField", "descriptionField", "regularFields", "badgeFields", "config", "posinset", "setsize", "showTitle", "showMedia", "showDescription", "id", "isSelected", "renderedMediaField", "renderedTitleField", "children", "props", "VStack", "clsx_default", "itemId", "newSelection", "DataViewsSelectionCheckbox", "HStack", "field", "GridGroup", "groupName", "groupField", "headerId", "ViewPickerGrid", "actions", "data", "fields", "isLoading", "className", "empty", "resizeObserverRef", "paginationInfo", "itemListLabel", "dataviews_context_default", "otherFields", "accumulator", "fieldId", "f", "key", "hasData", "usedPreviewSize", "isMultiselect", "useIsMultiselectPicker", "size", "dataByGroup", "getDataByGroup", "isInfiniteScroll", "currentPage", "perPage", "setSize", "groupItems", "GridItems", "posInSet", "index", "picker_grid_default", "import_i18n", "import_components", "import_element", "import_jsx_runtime", "TableColumnField", "item", "fields", "column", "align", "field", "f", "className", "clsx_default", "TableRow", "id", "view", "titleField", "mediaField", "descriptionField", "selection", "getItemId", "onChangeSelection", "multiselect", "posinset", "paginationInfo", "dataviews_context_default", "isSelected", "isHovered", "setIsHovered", "showTitle", "showMedia", "showDescription", "infiniteScrollEnabled", "handleMouseEnter", "handleMouseLeave", "columns", "hasPrimaryColumn", "children", "props", "itemId", "newSelection", "DataViewsSelectionCheckbox", "column_primary_default", "width", "maxWidth", "minWidth", "ViewPickerTable", "actions", "data", "isLoading", "onChangeView", "setOpenedFilter", "empty", "headerMenuRefs", "headerMenuToFocusRef", "nextHeaderMenuToFocus", "setNextHeaderMenuToFocus", "isMultiselect", "useIsMultiselectPicker", "tableNoticeId", "onHide", "hidden", "fallback", "hasData", "groupField", "dataByGroup", "getDataByGroup", "headerMenuRef", "index", "node", "isInfiniteScroll", "BulkSelectionCheckbox", "column_header_menu_default", "sortValues", "groupName", "groupItems", "picker_table_default", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "imageSizes", "PreviewSizePicker", "context", "dataviews_context_default", "view", "breakValues", "size", "layoutPreviewSize", "previewSizeToUse", "index", "b", "marks", "value", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "DensityPicker", "context", "dataviews_context_default", "view", "ToggleGroupControl", "value", "ToggleGroupControlOption", "VIEW_LAYOUTS", "LAYOUT_TABLE", "table_default", "block_table_default", "DensityPicker", "LAYOUT_GRID", "grid_default", "category_default", "PreviewSizePicker", "LAYOUT_LIST", "ViewList", "format_list_bullets_rtl_default", "format_list_bullets_default", "LAYOUT_PICKER_GRID", "picker_grid_default", "LAYOUT_PICKER_TABLE", "picker_table_default", "import_element", "import_components", "import_components", "import_i18n", "import_element", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a", "b", "prop", "__spreadProps", "__objRest", "source", "exclude", "target", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a", "b", "prop", "__spreadProps", "__objRest", "source", "exclude", "target", "noop", "_", "applyState", "argument", "currentValue", "isUpdater", "value", "isLazyValue", "hasOwnProperty", "object", "prop", "chain", "fns", "args", "fn", "normalizeString", "str", "omit", "object", "keys", "result", "__spreadValues", "key", "hasOwnProperty", "pick", "paths", "identity", "value", "invariant", "condition", "message", "getKeys", "obj", "isFalsyBooleanCallback", "booleanOrCallback", "args", "result", "disabledFromProps", "props", "removeUndefinedValues", "key", "defaultValue", "values", "value", "import_react", "setRef", "ref", "value", "isValidElementWithRef", "element", "getRefProperty", "__spreadValues", "mergeProps", "base", "overrides", "props", "key", "hasOwnProperty", "prop", "overrideValue", "baseValue", "args", "canUseDOM", "checkIsBrowser", "_a", "getDocument", "node", "getActiveElement", "node", "activeDescendant", "activeElement", "getDocument", "isFrame", "id", "element", "contains", "parent", "child", "isButton", "tagName", "buttonInputTypes", "isVisible", "htmlElement", "isTextField", "isTextInput", "isTextArea", "isTextbox", "getTextboxValue", "range", "getTextboxSelection", "start", "end", "selection", "nextRange", "getPopupRole", "fallback", "allowedPopupRoles", "role", "getScrollingElement", "element", "isScrollableOverflow", "overflow", "overflowY", "overflowX", "setSelectionRange", "element", "args", "sortBasedOnDOMPosition", "items", "getElement", "pairs", "item", "index", "isOrderDifferent", "indexA", "a", "indexB", "b", "elementA", "elementB", "isElementPreceding", "_", "isTouchDevice", "canUseDOM", "isApple", "isSafari", "isFirefox", "isPortalEvent", "event", "contains", "isSelfTarget", "isOpeningInNewTab", "element", "isAppleDevice", "isApple", "tagName", "isDownloading", "fireBlurEvent", "element", "eventInit", "event", "defaultAllowed", "bubbleInit", "__spreadProps", "__spreadValues", "fireKeyboardEvent", "element", "type", "eventInit", "event", "fireClickEvent", "isFocusEventOutside", "container", "containerElement", "relatedTarget", "contains", "queueBeforeEvent", "element", "type", "callback", "timeout", "cancelTimer", "callback2", "timerId2", "timerId", "callSync", "addGlobalEventListener", "listener", "options", "scope", "children", "frame", "remove", "import_react", "React", "_React", "__spreadValues", "useReactId", "useReactDeferredValue", "useReactInsertionEffect", "useSafeLayoutEffect", "canUseDOM", "useInitialValue", "value", "initialValue", "useLiveRef", "value", "ref", "useSafeLayoutEffect", "useEvent", "callback", "ref", "useReactInsertionEffect", "args", "_a", "useTransactionState", "state", "setState", "useSafeLayoutEffect", "prevState", "prev", "useMergeRefs", "refs", "value", "setRef", "useId", "defaultId", "useReactId", "reactId", "id", "setId", "random", "useTagName", "refOrElement", "type", "stringOrUndefined", "type2", "tagName", "setTagName", "useSafeLayoutEffect", "element", "useAttribute", "attributeName", "defaultValue", "initialValue", "useInitialValue", "attribute", "setAttribute", "callback", "value", "observer", "useUpdateEffect", "effect", "deps", "mounted", "useUpdateLayoutEffect", "useForceUpdate", "useBooleanEvent", "booleanOrCallback", "useEvent", "useWrapElement", "props", "wrapElement", "__spreadProps", "__spreadValues", "useMetadataProps", "props", "key", "value", "parent", "onLoadedMetadataCapture", "__spreadProps", "__spreadValues", "useIsMouseMoving", "addGlobalEventListener", "setMouseMoving", "resetMouseMoving", "useEvent", "mouseMoving", "previousScreenX", "previousScreenY", "hasMouseMovement", "event", "movementX", "movementY", "React", "import_jsx_runtime", "forwardRef2", "render", "Role", "props", "ref", "__spreadProps", "__spreadValues", "memo2", "Component", "propsAreEqual", "createElement", "Type", "_a", "wrapElement", "rest", "__objRest", "mergedRef", "useMergeRefs", "getRefProperty", "element", "renderProps", "mergeProps", "createHook", "useProps", "useRole", "createStoreContext", "providers", "scopedProviders", "context", "scopedContext", "useContext2", "useScopedContext", "onlyScoped", "scoped", "store", "useProviderContext", "ContextProvider", "children", "Provider", "ctx", "createStoreContext", "useCollectionContext", "useCollectionScopedContext", "useCollectionProviderContext", "CollectionContextProvider", "CollectionScopedContextProvider", "import_react", "ctx", "createStoreContext", "CollectionContextProvider", "CollectionScopedContextProvider", "useCompositeContext", "useCompositeScopedContext", "useCompositeProviderContext", "CompositeContextProvider", "CompositeScopedContextProvider", "CompositeItemContext", "CompositeRowContext", "import_react", "TagValueContext", "TagRemoveIdContext", "ctx", "createStoreContext", "CompositeContextProvider", "CompositeScopedContextProvider", "useTagContext", "useTagScopedContext", "useTagProviderContext", "TagContextProvider", "TagScopedContextProvider", "getInternal", "store", "key", "internals", "invariant", "createStore", "initialState", "stores", "state", "prevStateBatch", "lastUpdate", "destroy", "noop", "instances", "updatedKeys", "setups", "listeners", "batchListeners", "disposables", "listenerKeys", "storeSetup", "callback", "storeInit", "initialized", "instance", "maybeDestroy", "desyncs", "getKeys", "chain", "_a", "storeState", "hasOwnProperty", "sync", "state2", "setState", "teardowns", "setup2", "cleanups", "init", "sub", "keys", "listener", "set", "storeSubscribe", "storeSync", "storeBatch", "storePick", "pick", "finalStore", "storeOmit", "omit", "getState", "value", "fromStores", "nextValue", "applyState", "prevState", "__spreadProps", "__spreadValues", "thisUpdate", "run", "prev", "uKeys", "_a2", "updated", "k", "snapshot", "setup", "args", "subscribe", "batch", "omit2", "pick2", "mergeStore", "store2", "nextState", "React", "import_shim", "useSyncExternalStore", "useSyncExternalStoreExports", "noopSubscribe", "useStoreState", "store", "keyOrSelector", "identity", "storeSubscribe", "callback", "subscribe", "getSnapshot", "key", "selector", "state", "hasOwnProperty", "useStoreStateObject", "object", "objRef", "updated", "obj", "prop", "value", "__spreadValues", "useStoreProps", "props", "setKey", "setValue", "propsRef", "useLiveRef", "useSafeLayoutEffect", "sync", "prev", "value2", "setValue2", "batch", "useStore", "createStore", "setStore", "init", "useState2", "memoizedStore", "__spreadProps", "updateStore", "useEvent", "store2", "getCommonParent", "items", "_a", "firstItem", "item", "lastItem", "parentElement", "getDocument", "getPrivateStore", "store", "createCollectionStore", "props", "syncState", "defaultValue", "itemsMap", "initialState", "syncPrivateStore", "privateStore", "createStore", "collection", "sortItems", "renderedItems", "sortedItems", "sortBasedOnDOMPosition", "i", "setup", "init", "batch", "state", "firstRun", "raf", "ioCallback", "root", "observer", "mergeItem", "setItems", "canDeleteFromMap", "prevItem", "items2", "index", "id", "nextItems", "nextItem", "__spreadValues", "registerItem", "getItems", "__spreadProps", "chain", "item2", "useCollectionStoreProps", "store", "update", "props", "useUpdateEffect", "useStoreProps", "toArray", "arg", "flatten2DArray", "array", "flattened", "row", "reverseArray", "NULL_ITEM", "findFirstEnabledItem", "items", "excludeId", "item", "getEnabledItems", "getItemsInRow", "rowId", "flipItems", "activeId", "shouldInsertNullItem", "index", "groupItemsByRows", "rows", "row", "currentRow", "_a", "getMaxRowLength", "array", "maxLength", "length", "createEmptyItem", "normalizeRows", "focusShift", "previousItem", "verticalizeItems", "verticalized", "i", "__spreadProps", "__spreadValues", "createCompositeStore", "props", "syncState", "collection", "createCollectionStore", "defaultValue", "initialState", "composite", "createStore", "setup", "sync", "state", "activeId2", "_a2", "getNextId", "direction", "options", "_b", "defaultState", "skip", "focusLoop", "focusWrap", "includesBaseElement", "renderedItems", "rtl", "isVerticalDirection", "isNextDirection", "canReverse", "canShift", "flatten2DArray", "reverseArray", "activeItem", "isGrid", "activeIndex", "nextItems", "nextItemsInRow", "nextEnabledItemsInRow", "nextItem2", "canLoop", "canWrap", "hasNullItem", "loopItems", "sortedItems", "nextItem", "element", "id", "moves", "useCompositeStoreOptions", "props", "id", "useId", "__spreadValues", "useCompositeStoreProps", "store", "update", "useCollectionStoreProps", "useStoreProps", "createDisclosureStore", "props", "store", "mergeStore", "omit2", "syncState", "open", "defaultValue", "animated", "initialState", "disclosure", "createStore", "setup", "sync", "state", "subscribe", "__spreadProps", "__spreadValues", "value", "open2", "useDisclosureStoreProps", "store", "update", "props", "useUpdateEffect", "useStoreProps", "createDialogStore", "props", "createDisclosureStore", "useDialogStoreProps", "store", "update", "props", "useDisclosureStoreProps", "createPopoverStore", "_a", "_b", "otherPopover", "props", "__objRest", "store", "mergeStore", "omit2", "syncState", "dialog", "createDialogStore", "__spreadProps", "__spreadValues", "placement", "defaultValue", "initialState", "popover", "createStore", "element", "usePopoverStoreProps", "store", "update", "props", "useUpdateEffect", "useStoreProps", "useDialogStoreProps", "isTouchSafari", "isSafari", "isTouchDevice", "createComboboxStore", "_a", "_b", "tag", "props", "__objRest", "store", "mergeStore", "pick2", "tagState", "syncState", "activeId", "defaultValue", "composite", "createCompositeStore", "__spreadProps", "__spreadValues", "popover", "createPopoverStore", "value", "selectedValue", "multiSelectable", "initialState", "combobox", "createStore", "setup", "sync", "chain", "state", "prevState", "batch", "prev", "activeId2", "activeItem", "value2", "selectedValue2", "useComboboxStoreOptions", "props", "tag", "useTagContext", "__spreadProps", "__spreadValues", "useCompositeStoreOptions", "useComboboxStoreProps", "store", "update", "useUpdateEffect", "useStoreProps", "useCompositeStoreProps", "usePopoverStoreProps", "useComboboxStore", "useStore", "createComboboxStore", "ctx", "createStoreContext", "useDisclosureContext", "useDisclosureScopedContext", "useDisclosureProviderContext", "DisclosureContextProvider", "DisclosureScopedContextProvider", "import_react", "ctx", "createStoreContext", "DisclosureContextProvider", "DisclosureScopedContextProvider", "useDialogContext", "useDialogScopedContext", "useDialogProviderContext", "DialogContextProvider", "DialogScopedContextProvider", "DialogHeadingContext", "DialogDescriptionContext", "ctx", "createStoreContext", "DialogContextProvider", "DialogScopedContextProvider", "usePopoverContext", "usePopoverScopedContext", "usePopoverProviderContext", "PopoverContextProvider", "PopoverScopedContextProvider", "import_react", "ComboboxListRoleContext", "ctx", "createStoreContext", "PopoverContextProvider", "CompositeContextProvider", "PopoverScopedContextProvider", "CompositeScopedContextProvider", "useComboboxContext", "useComboboxScopedContext", "useComboboxProviderContext", "ComboboxContextProvider", "ComboboxScopedContextProvider", "ComboboxItemValueContext", "ComboboxItemCheckedContext", "TagName", "usePopoverAnchor", "createHook", "_a", "_b", "store", "props", "__objRest", "context", "usePopoverProviderContext", "__spreadProps", "__spreadValues", "useMergeRefs", "PopoverAnchor", "forwardRef2", "htmlProps", "createElement", "findFirstEnabledItem", "items", "excludeId", "item", "getEnabledItem", "store", "id", "groupItemsByRows", "rows", "row", "currentRow", "_a", "selectTextField", "element", "collapseToEnd", "isTextField", "selection", "getDocument", "FOCUS_SILENTLY", "focusSilently", "silentlyFocused", "isSilentlyFocused", "isItem", "exclude", "import_react", "FocusableContext", "selector", "isFocusable", "element", "selector", "isVisible", "getClosestFocusable", "element", "isFocusable", "selector", "hasFocus", "activeElement", "getActiveElement", "activeDescendant", "hasFocusWithin", "contains", "focusIfNeeded", "focusIntoView", "element", "options", "__spreadValues", "import_react", "TagName", "isSafariBrowser", "isSafari", "alwaysFocusVisibleInputTypes", "safariFocusAncestorSymbol", "markSafariFocusAncestor", "element", "value", "safariFocusAncestorSymbol", "isAlwaysFocusVisible", "tagName", "readOnly", "type", "alwaysFocusVisibleInputTypes", "getLabels", "isNativeCheckboxOrRadio", "isNativeTabbable", "supportsDisabledAttribute", "getTabIndex", "focusable", "trulyDisabled", "nativeTabbable", "supportsDisabled", "tabIndexProp", "useDisableEvent", "onEvent", "disabled", "useEvent", "event", "isKeyboardModality", "onGlobalMouseDown", "target", "onGlobalKeyDown", "useFocusable", "createHook", "_a", "_b", "accessibleWhenDisabled", "autoFocus", "onFocusVisible", "props", "__objRest", "ref", "addGlobalEventListener", "isSafariBrowser", "labels", "onMouseUp", "label", "disabledFromProps", "focusVisible", "setFocusVisible", "observer", "isFocusable", "onKeyPressCapture", "onMouseDownCapture", "onClickCapture", "onMouseDownProp", "onMouseDown", "isPortalEvent", "isButton", "receivedFocus", "onFocus", "options", "focusableContainer", "getClosestFocusable", "queueBeforeEvent", "focusIfNeeded", "handleFocusVisible", "currentTarget", "hasFocus", "onKeyDownCaptureProp", "onKeyDownCapture", "isSelfTarget", "onFocusCaptureProp", "onFocusCapture", "applyFocusVisible", "onBlurProp", "onBlur", "isFocusEventOutside", "autoFocusOnShow", "FocusableContext", "autoFocusRef", "useTagName", "styleProp", "style", "__spreadValues", "__spreadProps", "useMergeRefs", "removeUndefinedValues", "Focusable", "forwardRef2", "htmlProps", "createElement", "TagName", "import_react", "import_jsx_runtime", "TagName", "isGrid", "items", "item", "isPrintableKey", "event", "target", "isTextField", "isModifierKey", "useKeyboardEventProxy", "store", "onKeyboardEvent", "previousElementRef", "useEvent", "_a", "isSelfTarget", "state", "activeElement", "getEnabledItem", "_b", "view", "eventInit", "__objRest", "previousElement", "fireKeyboardEvent", "findFirstEnabledItemInTheLastRow", "findFirstEnabledItem", "flatten2DArray", "reverseArray", "groupItemsByRows", "useScheduleFocus", "scheduled", "setScheduled", "schedule", "activeItem", "useComposite", "createHook", "composite", "focusOnMove", "moveOnKeyPress", "props", "context", "useCompositeProviderContext", "invariant", "ref", "scheduleFocus", "moves", "setBaseElement", "useTransactionState", "_a2", "activeId2", "itemElement", "focusIntoView", "useSafeLayoutEffect", "baseElement", "fireBlurEvent", "hasFocus", "activeId", "virtualFocus", "relatedTarget", "getActiveElement", "onKeyDownCapture", "onKeyUpCapture", "onFocusCaptureProp", "onFocusCapture", "virtualFocus2", "previousActiveElement", "isSilentlyFocused", "silentlyFocused", "onFocusProp", "onFocus", "isItem", "onBlurCaptureProp", "onBlurCapture", "nextActiveElement", "nextActiveElementIsItem", "onKeyDownProp", "moveOnKeyPressProp", "useBooleanEvent", "onKeyDown", "orientation", "renderedItems", "isVertical", "isHorizontal", "grid", "action", "id", "useWrapElement", "element", "CompositeContextProvider", "activeDescendant", "__spreadProps", "__spreadValues", "useMergeRefs", "focusable", "useFocusable", "Composite", "forwardRef2", "htmlProps", "createElement", "import_react", "TagName", "isFirstItemAutoSelected", "items", "activeValue", "autoSelect", "firstItem", "item", "hasCompletionString", "value", "normalizeString", "isInputEvent", "event", "isAriaAutoCompleteValue", "getDefaultAutoSelectId", "item2", "_a", "useCombobox", "createHook", "_b", "store", "focusable", "autoSelectProp", "getAutoSelectId", "setValueOnChange", "showMinLength", "showOnChange", "showOnMouseDown", "showOnClick", "showOnKeyDown", "showOnKeyPress", "blurActiveItemOnClick", "setValueOnClick", "moveOnKeyPress", "autoComplete", "props", "__objRest", "context", "useComboboxProviderContext", "invariant", "ref", "valueUpdated", "forceValueUpdate", "useForceUpdate", "canAutoSelectRef", "composingRef", "state", "inline", "canInline", "setCanInline", "useUpdateLayoutEffect", "storeValue", "prevSelectedValueRef", "sync", "_", "prev", "inlineActiveValue", "_a2", "open", "contentElement", "slice", "element", "onCompositeItemMove", "cleanup", "noop", "prevStart", "prevEnd", "getTextboxSelection", "nextStart", "nextEnd", "setSelectionRange", "hasFocus", "start", "end", "scrollingElementRef", "getAutoSelectIdProp", "useEvent", "autoSelectIdRef", "scrollingElement", "getScrollingElement", "onUserScroll", "onScroll", "activeId", "options", "useSafeLayoutEffect", "resetValueOnSelect", "useUpdateEffect", "_b2", "canAutoSelect", "baseElement", "contentElement2", "observer", "userAutoSelectId", "autoSelectId", "combobox", "elements", "value2", "onBlur2", "el", "isFocusEventOutside", "canShow", "onChangeProp", "showOnChangeProp", "useBooleanEvent", "setValueOnChangeProp", "onChange", "currentTarget", "selectionStart", "selectionEnd", "nativeEvent", "textInserted", "caretAtEnd", "isSameValue", "onCompositionEndProp", "onCompositionEnd", "onMouseDownProp", "blurActiveItemOnClickProp", "setValueOnClickProp", "showOnClickProp", "onMouseDown", "queueBeforeEvent", "onKeyDownProp", "showOnKeyPressProp", "onKeyDown", "open2", "onBlurProp", "onBlur", "id", "useId", "ariaAutoComplete", "isActiveItem", "__spreadProps", "__spreadValues", "getPopupRole", "useMergeRefs", "useComposite", "isFalsyBooleanCallback", "usePopoverAnchor", "Combobox", "forwardRef2", "htmlProps", "createElement", "import_jsx_runtime", "ComboboxProvider", "props", "store", "useComboboxStore", "ComboboxContextProvider", "import_react", "TagName", "isNativeClick", "event", "element", "isButton", "symbol", "useCommand", "createHook", "_a", "_b", "clickOnEnter", "clickOnSpace", "props", "__objRest", "ref", "isNativeButton", "setIsNativeButton", "active", "setActive", "activeRef", "disabled", "disabledFromProps", "isDuplicate", "metadataProps", "useMetadataProps", "onKeyDownProp", "onKeyDown", "useEvent", "isSelfTarget", "isTextField", "isEnter", "isSpace", "shouldPreventEnter", "shouldPreventSpace", "nativeClick", "_a2", "view", "eventInit", "click", "fireClickEvent", "isFirefox", "queueBeforeEvent", "onKeyUpProp", "onKeyUp", "__spreadProps", "__spreadValues", "useMergeRefs", "useFocusable", "Command", "forwardRef2", "htmlProps", "createElement", "import_react", "import_jsx_runtime", "TagName", "normalizeValue", "value", "normalizeString", "getOffsets", "string", "values", "offsets", "pos", "length", "index", "filterOverlappingOffsets", "offset", "i", "arr", "o", "l", "j", "sortOffsets", "a", "b", "splitValue", "itemValue", "userValue", "userValues", "toArray", "parts", "span", "autocomplete", "firstOffset", "_a", "nextOffset", "nextValue", "useComboboxItemValue", "createHook", "_b", "store", "props", "__objRest", "context", "useComboboxScopedContext", "itemContext", "ComboboxItemValueContext", "inputValue", "useStoreState", "state", "children", "__spreadValues", "removeUndefinedValues", "ComboboxItemValue", "forwardRef2", "htmlProps", "createElement", "import_react", "TagName", "getMouseDestination", "event", "relatedTarget", "hoveringInside", "nextElement", "contains", "symbol", "movingToAnotherItem", "dest", "hasOwnProperty", "useCompositeHover", "createHook", "_a", "_b", "store", "focusOnHover", "blurOnHoverEnd", "props", "__objRest", "context", "useCompositeContext", "invariant", "isMouseMoving", "useIsMouseMoving", "onMouseMoveProp", "focusOnHoverProp", "useBooleanEvent", "onMouseMove", "useEvent", "hasFocusWithin", "baseElement", "hasFocus", "onMouseLeaveProp", "blurOnHoverEndProp", "onMouseLeave", "_a2", "ref", "element", "__spreadProps", "__spreadValues", "useMergeRefs", "removeUndefinedValues", "CompositeHover", "memo2", "forwardRef2", "htmlProps", "createElement", "import_react", "TagName", "useCollectionItem", "createHook", "_a", "_b", "store", "shouldRegisterItem", "getItem", "identity", "element", "props", "__objRest", "context", "useCollectionContext", "id", "useId", "ref", "element2", "item", "__spreadProps", "__spreadValues", "useMergeRefs", "removeUndefinedValues", "CollectionItem", "forwardRef2", "htmlProps", "createElement", "import_react", "import_jsx_runtime", "TagName", "isEditableElement", "element", "isTextbox", "isButton", "getNextPageOffset", "scrollingElement", "pageUp", "height", "top", "pageSize", "pageOffset", "getItemOffset", "itemElement", "findNextPageItemId", "store", "next", "_a", "renderedItems", "getScrollingElement", "nextPageOffset", "id", "prevDifference", "i", "previousId", "getEnabledItem", "difference", "absDifference", "targetIsAnotherItem", "event", "isSelfTarget", "isItem", "useCompositeItem", "createHook", "_b", "rowIdProp", "preventScrollOnKeyDown", "moveOnKeyPress", "tabbable", "getItemProp", "ariaSetSizeProp", "ariaPosInSetProp", "props", "__objRest", "context", "useCompositeContext", "useId", "ref", "row", "CompositeRowContext", "trulyDisabled", "disabledFromProps", "rowId", "baseElement", "isActiveItem", "ariaSetSize", "ariaPosInSet", "isTabbable", "useStoreStateObject", "state", "itemsInRow", "item", "getItem", "_a2", "nextItem", "__spreadProps", "__spreadValues", "onFocusProp", "hasFocusedComposite", "onFocus", "useEvent", "isPortalEvent", "virtualFocus", "baseElement2", "selectTextField", "isSafari", "focusSilently", "onBlurCaptureProp", "onBlurCapture", "onKeyDownProp", "preventScrollOnKeyDownProp", "useBooleanEvent", "moveOnKeyPressProp", "onKeyDown", "currentTarget", "isGrid", "isVertical", "isHorizontal", "canHomeEnd", "isTextField", "action", "selection", "getTextboxSelection", "isLeft", "isRight", "isUp", "isDown", "valueLength", "getTextboxValue", "nextId", "providerValue", "useWrapElement", "CompositeItemContext", "useMergeRefs", "useCommand", "useCollectionItem", "removeUndefinedValues", "CompositeItem", "memo2", "forwardRef2", "htmlProps", "createElement", "import_react", "import_jsx_runtime", "TagName", "isSelected", "storeValue", "itemValue", "getItemRole", "popupRole", "_a", "useComboboxItem", "createHook", "_b", "store", "value", "hideOnClick", "setValueOnClick", "selectValueOnClick", "resetValueOnSelect", "focusOnHover", "moveOnKeyPress", "getItemProp", "props", "__objRest", "_a2", "context", "useComboboxScopedContext", "invariant", "resetValueOnSelectState", "multiSelectable", "selected", "useStoreStateObject", "state", "getItem", "item", "nextItem", "__spreadProps", "__spreadValues", "onClickProp", "setValueOnClickProp", "useBooleanEvent", "selectValueOnClickProp", "resetValueOnSelectProp", "hideOnClickProp", "onClick", "useEvent", "event", "isDownloading", "isOpeningInNewTab", "prevValue", "v", "onKeyDownProp", "onKeyDown", "baseElement", "hasFocus", "isTextField", "useWrapElement", "element", "ComboboxItemValueContext", "ComboboxItemCheckedContext", "ComboboxListRoleContext", "moveOnKeyPressProp", "useCompositeItem", "moveEvent", "useCompositeHover", "ComboboxItem", "memo2", "forwardRef2", "htmlProps", "createElement", "TagName", "useComboboxLabel", "createHook", "_a", "_b", "store", "props", "__objRest", "context", "useComboboxProviderContext", "invariant", "comboboxId", "state", "_a2", "__spreadValues", "removeUndefinedValues", "ComboboxLabel", "memo2", "forwardRef2", "htmlProps", "createElement", "import_react", "import_react_dom", "import_jsx_runtime", "TagName", "afterTimeout", "timeoutMs", "cb", "timeoutId", "afterPaint", "raf", "parseCSSTime", "times", "longestTime", "currentTimeString", "multiplier", "currentTime", "isHidden", "mounted", "hidden", "alwaysVisible", "useDisclosureContent", "createHook", "_a", "_b", "store", "props", "__objRest", "context", "useDisclosureProviderContext", "invariant", "ref", "id", "useId", "transition", "setTransition", "open", "animated", "contentElement", "otherElement", "useStoreState", "useSafeLayoutEffect", "previousAnimated", "animated2", "stopAnimation", "stopAnimationSync", "transitionDuration", "animationDuration", "transitionDelay", "animationDelay", "transitionDuration2", "animationDuration2", "transitionDelay2", "animationDelay2", "delay", "duration", "timeout", "frameRate", "maxTimeout", "useWrapElement", "element", "DialogScopedContextProvider", "styleProp", "style", "__spreadProps", "__spreadValues", "useMergeRefs", "removeUndefinedValues", "DisclosureContentImpl", "forwardRef2", "htmlProps", "createElement", "DisclosureContent", "unmountOnHide", "state", "import_react", "import_jsx_runtime", "TagName", "useComboboxList", "createHook", "_a", "_b", "store", "alwaysVisible", "props", "__objRest", "scopedContext", "useComboboxScopedContext", "context", "useComboboxContext", "scopedContextSameStore", "invariant", "ref", "id", "useId", "mounted", "hidden", "isHidden", "style", "__spreadProps", "__spreadValues", "multiSelectable", "state", "role", "useAttribute", "ariaMultiSelectable", "hasListboxInside", "setHasListboxInside", "contentElement", "useSafeLayoutEffect", "element", "callback", "observer", "useWrapElement", "ComboboxScopedContextProvider", "ComboboxListRoleContext", "setContentElement", "useMergeRefs", "removeUndefinedValues", "ComboboxList", "forwardRef2", "htmlProps", "createElement", "import_remove_accents", "import_compose", "import_i18n", "import_element", "import_components", "EMPTY_ARRAY", "getCurrentValue", "filterDefinition", "currentFilter", "import_element", "EMPTY_ARRAY", "useElements", "elements", "getElements", "staticElements", "records", "setRecords", "isLoading", "setIsLoading", "cancelled", "fetchedElements", "dynamicElements", "import_jsx_runtime", "normalizeSearchInput", "input", "removeAccents", "getNewValue", "filterDefinition", "currentFilter", "value", "v", "generateFilterElementCompositeItemId", "prefix", "filterElementValue", "MultiSelectionOption", "selected", "clsx_default", "check_default", "SingleSelectionOption", "ListBox", "view", "filter", "onChangeView", "baseId", "activeCompositeId", "setActiveCompositeId", "f", "currentValue", "getCurrentValue", "element", "newFilters", "_filter", "ComboboxList", "searchValue", "setSearchValue", "deferredSearchValue", "matches", "normalizedSearch", "item", "ComboboxProvider", "ComboboxLabel", "Combobox", "search_default", "ComboboxItem", "ComboboxItemValue", "SearchWidget", "props", "elements", "isLoading", "useElements", "Widget", "import_es6", "import_compose", "import_element", "import_components", "import_jsx_runtime", "InputWidget", "filter", "view", "onChangeView", "fields", "currentFilter", "f", "currentValue", "getCurrentValue", "field", "currentField", "item", "value", "data", "acc", "activeFilter", "handleChange", "updatedData", "nextValue", "fastDeepEqual", "_filter", "maxTime", "minTime", "millisecondsInWeek", "millisecondsInDay", "secondsInHour", "secondsInDay", "secondsInHour", "secondsInWeek", "secondsInYear", "secondsInMonth", "secondsInQuarter", "constructFromSymbol", "constructFrom", "date", "value", "constructFromSymbol", "toDate", "argument", "context", "constructFrom", "addDays", "date", "amount", "options", "_date", "toDate", "constructFrom", "addMonths", "date", "amount", "options", "_date", "toDate", "constructFrom", "dayOfMonth", "endOfDesiredMonth", "daysInMonth", "defaultOptions", "getDefaultOptions", "startOfWeek", "date", "options", "defaultOptions", "getDefaultOptions", "weekStartsOn", "_date", "toDate", "day", "diff", "startOfISOWeek", "date", "options", "startOfWeek", "getISOWeekYear", "date", "options", "_date", "toDate", "year", "fourthOfJanuaryOfNextYear", "constructFrom", "startOfNextYear", "startOfISOWeek", "fourthOfJanuaryOfThisYear", "startOfThisYear", "getTimezoneOffsetInMilliseconds", "date", "_date", "toDate", "utcDate", "normalizeDates", "context", "dates", "normalize", "constructFrom", "date", "startOfDay", "date", "options", "_date", "toDate", "differenceInCalendarDays", "laterDate", "earlierDate", "options", "laterDate_", "earlierDate_", "normalizeDates", "laterStartOfDay", "startOfDay", "earlierStartOfDay", "laterTimestamp", "getTimezoneOffsetInMilliseconds", "earlierTimestamp", "millisecondsInDay", "startOfISOWeekYear", "date", "options", "year", "getISOWeekYear", "fourthOfJanuary", "constructFrom", "startOfISOWeek", "addWeeks", "date", "amount", "options", "addDays", "addYears", "date", "amount", "options", "addMonths", "isDate", "value", "isValid", "date", "isDate", "toDate", "startOfMonth", "date", "options", "_date", "toDate", "startOfYear", "date", "options", "date_", "toDate", "formatDistanceLocale", "formatDistance", "token", "count", "options", "result", "tokenValue", "buildFormatLongFn", "args", "options", "width", "dateFormats", "timeFormats", "dateTimeFormats", "formatLong", "buildFormatLongFn", "formatRelativeLocale", "formatRelative", "token", "_date", "_baseDate", "_options", "buildLocalizeFn", "args", "value", "options", "context", "valuesArray", "defaultWidth", "width", "index", "eraValues", "quarterValues", "monthValues", "dayValues", "dayPeriodValues", "formattingDayPeriodValues", "ordinalNumber", "dirtyNumber", "_options", "number", "rem100", "localize", "buildLocalizeFn", "quarter", "buildMatchFn", "args", "string", "options", "width", "matchPattern", "matchResult", "matchedString", "parsePatterns", "key", "findIndex", "pattern", "findKey", "value", "rest", "object", "predicate", "array", "buildMatchPatternFn", "args", "string", "options", "matchResult", "matchedString", "parseResult", "value", "rest", "matchOrdinalNumberPattern", "parseOrdinalNumberPattern", "matchEraPatterns", "parseEraPatterns", "matchQuarterPatterns", "parseQuarterPatterns", "matchMonthPatterns", "parseMonthPatterns", "matchDayPatterns", "parseDayPatterns", "matchDayPeriodPatterns", "parseDayPeriodPatterns", "match", "buildMatchPatternFn", "value", "buildMatchFn", "index", "enUS", "formatDistance", "formatLong", "formatRelative", "localize", "match", "getDayOfYear", "date", "options", "_date", "toDate", "differenceInCalendarDays", "startOfYear", "getISOWeek", "date", "options", "_date", "toDate", "diff", "startOfISOWeek", "startOfISOWeekYear", "millisecondsInWeek", "getWeekYear", "date", "options", "_date", "toDate", "year", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "firstWeekOfNextYear", "constructFrom", "startOfNextYear", "startOfWeek", "firstWeekOfThisYear", "startOfThisYear", "startOfWeekYear", "date", "options", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "year", "getWeekYear", "firstWeek", "constructFrom", "startOfWeek", "getWeek", "date", "options", "_date", "toDate", "diff", "startOfWeek", "startOfWeekYear", "millisecondsInWeek", "addLeadingZeros", "number", "targetLength", "sign", "output", "lightFormatters", "date", "token", "signedYear", "year", "addLeadingZeros", "month", "dayPeriodEnumValue", "numberOfDigits", "milliseconds", "fractionalSeconds", "dayPeriodEnum", "formatters", "date", "token", "localize", "era", "signedYear", "year", "lightFormatters", "options", "signedWeekYear", "getWeekYear", "weekYear", "twoDigitYear", "addLeadingZeros", "isoWeekYear", "getISOWeekYear", "quarter", "month", "week", "getWeek", "isoWeek", "getISOWeek", "dayOfYear", "getDayOfYear", "dayOfWeek", "localDayOfWeek", "isoDayOfWeek", "dayPeriodEnumValue", "hours", "_localize", "timezoneOffset", "formatTimezoneWithOptionalMinutes", "formatTimezone", "formatTimezoneShort", "timestamp", "offset", "delimiter", "sign", "absOffset", "minutes", "dateLongFormatter", "pattern", "formatLong", "timeLongFormatter", "dateTimeLongFormatter", "matchResult", "datePattern", "timePattern", "dateTimeFormat", "longFormatters", "dayOfYearTokenRE", "weekYearTokenRE", "throwTokens", "isProtectedDayOfYearToken", "token", "isProtectedWeekYearToken", "warnOrThrowProtectedError", "format", "input", "_message", "message", "subject", "formattingTokensRegExp", "longFormattingTokensRegExp", "escapedStringRegExp", "doubleQuoteRegExp", "unescapedLatinCharacterRegExp", "format", "date", "formatStr", "options", "defaultOptions", "getDefaultOptions", "locale", "enUS", "firstWeekContainsDate", "weekStartsOn", "originalDate", "toDate", "isValid", "parts", "longFormattingTokensRegExp", "substring", "firstCharacter", "longFormatter", "longFormatters", "formattingTokensRegExp", "cleanEscapedString", "formatters", "unescapedLatinCharacterRegExp", "formatterOptions", "part", "token", "isProtectedWeekYearToken", "isProtectedDayOfYearToken", "warnOrThrowProtectedError", "formatter", "input", "matched", "escapedStringRegExp", "doubleQuoteRegExp", "subDays", "date", "amount", "options", "addDays", "subMonths", "date", "amount", "options", "addMonths", "subWeeks", "date", "amount", "options", "addWeeks", "subYears", "date", "amount", "options", "addYears", "import_date", "parseDateTime", "dateTimeString", "parsed", "isValid", "import_jsx_runtime", "ENTER", "SPACE", "FilterText", "activeElements", "filterInView", "filter", "filterTextWrappers", "OPERATOR_IS_ANY", "element", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_BETWEEN", "label", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "OperatorSelector", "view", "onChangeView", "operatorOptions", "operator", "OPERATORS", "currentFilter", "_filter", "value", "HStack", "newValue", "currentOperator", "newFilters", "OPERATORS_SHOULD_RESET_VALUE", "shouldResetValue", "Filter", "addFilterRef", "openedFilter", "fields", "commonProps", "toggleRef", "f", "elements", "useElements", "field", "dateValue", "parseDateTime", "isPrimary", "isLocked", "hasValues", "canResetOrRemove", "isOpen", "onToggle", "clsx_default", "event", "close_small_default", "VStack", "SearchWidget", "InputWidget", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "AddFilterMenu", "filters", "view", "onChangeView", "setOpenedFilter", "triggerProps", "inactiveFilters", "filter", "AddFilter", "ref", "isPrimary", "add_filter_default", "import_components", "import_i18n", "import_jsx_runtime", "ResetFilter", "filters", "view", "onChangeView", "isPrimary", "field", "_filter", "isDisabled", "f", "import_element", "useFilters", "fields", "view", "filters", "field", "operators", "isPrimary", "isLocked", "f", "op", "SINGLE_SELECTION_OPERATORS", "ALL_OPERATORS", "a", "b", "use_filters_default", "import_jsx_runtime", "Filters", "className", "fields", "view", "onChangeView", "openedFilter", "setOpenedFilter", "dataviews_context_default", "addFilterRef", "filters", "use_filters_default", "addFilter", "add_filter_default", "visibleFilters", "filter", "filterComponents", "Filter", "ResetFilter", "HStack", "filters_default", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "FiltersToggle", "filters", "view", "onChangeView", "setOpenedFilter", "isShowingFilter", "setIsShowingFilter", "dataviews_context_default", "buttonRef", "onChangeViewWithFilterVisibility", "_view", "hasVisibleFilters", "filter", "addFilterButtonProps", "toggleFiltersButtonProps", "buttonComponent", "funnel_default", "FilterVisibilityToggle", "AddFilterMenu", "filtersCount", "children", "toggle_default", "import_element", "import_jsx_runtime", "FiltersToggled", "props", "isShowingFilter", "dataviews_context_default", "filters_default", "filters_toggled_default", "import_element", "import_i18n", "import_jsx_runtime", "DataViewsLayout", "className", "actions", "data", "fields", "getItemId", "getItemLevel", "isLoading", "view", "onChangeView", "selection", "onChangeSelection", "setOpenedFilter", "onClickItem", "isItemClickable", "renderItemLink", "defaultLayouts", "empty", "dataviews_context_default", "ViewComponent", "VIEW_LAYOUTS", "v", "import_components", "import_element", "import_jsx_runtime", "EMPTY_ARRAY", "DataViewsFooter", "view", "totalItems", "totalPages", "data", "actions", "dataviews_context_default", "hasBulkActions", "useSomeItemHasAPossibleBulkAction", "LAYOUT_TABLE", "LAYOUT_GRID", "HStack", "BulkActionsFooter", "dataviews_pagination_default", "import_i18n", "import_element", "import_components", "import_compose", "import_jsx_runtime", "DataViewsSearch", "label", "view", "onChangeView", "dataviews_context_default", "search", "setSearch", "debouncedSearch", "onChangeViewRef", "viewRef", "searchLabel", "dataviews_search_default", "import_components", "import_i18n", "import_element", "import_warning", "import_compose", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "InfiniteScrollToggle", "context", "dataviews_context_default", "view", "onChangeView", "infiniteScrollEnabled", "newValue", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "DATAVIEWS_CONFIG_POPOVER_PROPS", "ViewTypeMenu", "view", "onChangeView", "defaultLayouts", "dataviews_context_default", "availableLayouts", "activeView", "VIEW_LAYOUTS", "v", "layout", "config", "e", "viewWithoutLayout", "warning", "SortFieldControl", "fields", "orderOptions", "field", "value", "SortDirectionControl", "ToggleGroupControl", "newDirection", "SORTING_DIRECTIONS", "direction", "ToggleGroupControlOptionIcon", "sortIcons", "sortLabels", "ItemsPerPageControl", "infiniteScrollEnabled", "newItemsPerPage", "newItemsPerPageNumber", "ToggleGroupControlOption", "SettingsSection", "title", "description", "children", "Grid", "Heading", "Text", "DataviewsViewConfigDropdown", "popoverId", "_DataViewsViewConfig", "activeLayout", "onToggle", "isOpen", "cog_default", "DropdownContentWrapper", "VStack", "HStack", "InfiniteScrollToggle", "PropertiesSection", "DataViewsViewConfig", "dataviews_view_config_default", "import_i18n", "RenderFromElements", "item", "field", "elements", "isLoading", "useElements", "value", "element", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "emailRegex", "email_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_i18n", "import_jsx_runtime", "sort", "a", "b", "direction", "integer_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BETWEEN", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_i18n", "import_jsx_runtime", "sort", "a", "b", "direction", "isEmpty", "value", "number_default", "item", "field", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BETWEEN", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "text_default", "item", "field", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_jsx_runtime", "sort", "a", "b", "direction", "timeA", "timeB", "datetime_default", "item", "field", "RenderFromElements", "value", "parseDateTime", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "import_date", "import_jsx_runtime", "getFormattedDate", "dateToDisplay", "sort", "a", "b", "direction", "timeA", "timeB", "date_default", "item", "field", "RenderFromElements", "value", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "OPERATOR_BETWEEN", "import_i18n", "import_jsx_runtime", "sort", "a", "b", "direction", "boolA", "boolean_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "sort", "media_default", "import_i18n", "sort", "valueA", "valueB", "direction", "arrA", "arrB", "joinedA", "joinedB", "render", "item", "field", "arrayFieldType", "value", "v", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "array_default", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "password_default", "item", "field", "RenderFromElements", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "telephone_default", "item", "field", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_i18n", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "colorA", "w", "colorB", "hslA", "hslB", "color_default", "item", "field", "value", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "import_jsx_runtime", "sort", "valueA", "valueB", "direction", "url_default", "item", "field", "RenderFromElements", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "import_jsx_runtime", "getFieldTypeDefinition", "type", "email_default", "integer_default", "number_default", "text_default", "datetime_default", "date_default", "boolean_default", "media_default", "array_default", "password_default", "telephone_default", "color_default", "url_default", "a", "b", "direction", "item", "field", "RenderFromElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "ALL_OPERATORS", "import_components", "import_element", "getCustomValidity", "isValid", "validity", "customValidity", "import_jsx_runtime", "ValidatedCheckboxControl", "unlock", "Checkbox", "field", "onChange", "data", "hideLabelFromVision", "validity", "getValue", "setValue", "label", "description", "isValid", "onChangeControl", "getCustomValidity", "import_components", "import_element", "import_i18n", "import_date", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "TIME_UNITS_OPTIONS", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "className", "data", "field", "onChange", "hideLabelFromVision", "operator", "options", "id", "label", "getValue", "setValue", "fieldValue", "relValue", "unit", "onChangeValue", "newValue", "onChangeUnit", "newUnit", "clsx_default", "HStack", "NumberControl", "import_jsx_runtime", "DateCalendar", "ValidatedInputControl", "unlock", "componentsPrivateApis", "formatDateTime", "date", "format", "CalendarDateTimeControl", "data", "field", "onChange", "hideLabelFromVision", "validity", "id", "label", "description", "setValue", "getValue", "isValid", "fieldValue", "value", "calendarMonth", "setCalendarMonth", "parseDateTime", "inputControlRef", "validationTimeoutRef", "previousFocusRef", "onChangeCallback", "newValue", "onSelectDate", "newDate", "dateTimeValue", "finalDateTime", "currentDateTime", "handleManualDateTimeChange", "dateTime", "parsedDate", "timezoneString", "startOfWeek", "displayLabel", "VStack", "getCustomValidity", "DateTime", "operator", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "import_components", "import_element", "import_i18n", "import_date", "import_jsx_runtime", "DateCalendar", "DateRangeCalendar", "unlock", "componentsPrivateApis", "DATE_PRESETS", "today", "subDays", "subMonths", "DATE_RANGE_PRESETS", "startOfMonth", "subYears", "startOfYear", "parseDate", "dateString", "parsed", "isValid", "formatDate", "date", "format", "ValidatedDateControl", "field", "validity", "inputRefs", "isTouched", "setIsTouched", "children", "customValidity", "setCustomValidity", "validateRefs", "refs", "ref", "input", "timeoutId", "getCustomValidity", "event", "clsx_default", "error_default", "CalendarDateControl", "data", "onChange", "hideLabelFromVision", "id", "label", "setValue", "getValue", "selectedPresetId", "setSelectedPresetId", "fieldValue", "value", "calendarMonth", "setCalendarMonth", "validityTargetRef", "onChangeCallback", "newValue", "onSelectDate", "newDate", "dateValue", "handlePresetClick", "preset", "presetDate", "handleManualDateChange", "parsedDate", "timezoneString", "startOfWeek", "displayLabel", "VStack", "HStack", "isSelected", "InputControl", "CalendarDateRangeControl", "selectedRange", "from", "to", "fromInputRef", "toInputRef", "updateDateRange", "fromDate", "toDate", "onSelectCalendarRange", "newRange", "startDate", "endDate", "fromOrTo", "currentFrom", "currentTo", "timezone", "l10n", "DateControl", "operator", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "OPERATOR_BETWEEN", "import_components", "import_components", "import_element", "import_jsx_runtime", "ValidatedInputControl", "unlock", "ValidatedText", "data", "field", "onChange", "hideLabelFromVision", "type", "prefix", "suffix", "validity", "label", "placeholder", "description", "getValue", "setValue", "isValid", "value", "onChangeControl", "newValue", "getCustomValidity", "import_jsx_runtime", "Email", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "at_symbol_default", "import_components", "import_jsx_runtime", "Telephone", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "mobile_default", "import_components", "import_jsx_runtime", "Url", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "link_default", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "ValidatedNumberControl", "unlock", "toNumberOrEmpty", "value", "number", "BetweenControls", "onChange", "hideLabelFromVision", "step", "min", "max", "onChangeMin", "newValue", "onChangeMax", "NumberControl", "ValidatedNumber", "data", "field", "operator", "decimals", "validity", "label", "description", "getValue", "setValue", "isValid", "onChangeControl", "onChangeBetweenControls", "OPERATOR_BETWEEN", "valueBetween", "element", "getCustomValidity", "import_jsx_runtime", "Number", "props", "ValidatedNumber", "import_jsx_runtime", "Number", "props", "ValidatedNumber", "import_components", "import_element", "import_jsx_runtime", "ValidatedRadioControl", "unlock", "Radio", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "description", "getValue", "setValue", "isValid", "elements", "isLoading", "useElements", "value", "onChangeControl", "newValue", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedSelectControl", "unlock", "Select", "data", "field", "onChange", "hideLabelFromVision", "validity", "type", "label", "description", "getValue", "setValue", "isValid", "isMultiple", "value", "onChangeControl", "newValue", "elements", "isLoading", "useElements", "getCustomValidity", "import_element", "import_jsx_runtime", "Text", "data", "field", "onChange", "hideLabelFromVision", "config", "validity", "prefix", "suffix", "ValidatedText", "import_components", "import_element", "import_jsx_runtime", "ValidatedToggleControl", "unlock", "Toggle", "field", "onChange", "data", "hideLabelFromVision", "validity", "label", "description", "getValue", "setValue", "isValid", "onChangeControl", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedTextareaControl", "unlock", "Textarea", "data", "field", "onChange", "hideLabelFromVision", "config", "validity", "rows", "label", "placeholder", "description", "setValue", "isValid", "value", "onChangeControl", "newValue", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedToggleGroupControl", "unlock", "ToggleGroup", "data", "field", "onChange", "hideLabelFromVision", "validity", "getValue", "setValue", "isValid", "value", "onChangeControl", "newValue", "elements", "isLoading", "useElements", "selectedOption", "el", "getCustomValidity", "ToggleGroupControlOption", "import_components", "import_element", "import_jsx_runtime", "ValidatedFormTokenField", "unlock", "ArrayControl", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "placeholder", "getValue", "setValue", "isValid", "value", "elements", "isLoading", "useElements", "arrayValueAsElements", "token", "suggestion", "onChangeControl", "tokens", "valueTokens", "getCustomValidity", "element", "el", "item", "import_components", "import_element", "import_jsx_runtime", "ValidatedInputControl", "Picker", "unlock", "ColorPicker", "color", "onColorChange", "validColor", "w", "onToggle", "isOpen", "InputControlPrefixWrapper", "Color", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "placeholder", "description", "setValue", "isValid", "value", "handleColorChange", "colorObject", "handleInputChange", "newValue", "getCustomValidity", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "Password", "data", "field", "onChange", "hideLabelFromVision", "validity", "isVisible", "setIsVisible", "toggleVisibility", "prev", "ValidatedText", "InputControlSuffixWrapper", "unseen_default", "seen_default", "hasElements", "field", "import_jsx_runtime", "FORM_CONTROLS", "ArrayControl", "Checkbox", "Color", "DateTime", "DateControl", "Email", "Telephone", "Url", "Number", "Password", "Radio", "Select", "Text", "Toggle", "Textarea", "ToggleGroup", "isEditConfig", "value", "createConfiguredControl", "config", "control", "controlConfig", "BaseControlType", "getControlByType", "props", "getControl", "field", "fieldTypeDefinition", "hasElements", "type", "getValueFromId", "id", "item", "path", "value", "segment", "setValueFromId", "result", "current", "getFilterBy", "field", "fieldTypeDefinition", "operators", "validOperators", "ALL_OPERATORS", "operator", "hasElements", "OPERATOR_BETWEEN", "SINGLE_SELECTION_OPERATORS", "defaultOperators", "normalizeFields", "fields", "getFieldTypeDefinition", "getValue", "setValue", "sort", "a", "b", "direction", "isValid", "Edit", "getControl", "render", "renderedField", "filterBy", "import_jsx_runtime", "defaultGetItemId", "item", "defaultIsItemClickable", "EMPTY_ARRAY", "dataViewsLayouts", "VIEW_LAYOUTS", "viewLayout", "DefaultUI", "header", "search", "searchLabel", "HStack", "dataviews_search_default", "toggle_default", "dataviews_view_config_default", "filters_toggled_default", "DataViewsLayout", "DataViewsFooter", "DataViews", "view", "onChangeView", "fields", "actions", "data", "getItemId", "getItemLevel", "isLoading", "paginationInfo", "defaultLayoutsProperty", "selectionProperty", "onChangeSelection", "onClickItem", "renderItemLink", "isItemClickable", "children", "config", "empty", "infiniteScrollHandler", "containerRef", "containerWidth", "setContainerWidth", "resizeObserverRef", "resizeObserverEntries", "selectionState", "setSelectionState", "isUncontrolled", "selection", "openedFilter", "setOpenedFilter", "setSelectionWithChange", "value", "newValue", "_fields", "normalizeFields", "_selection", "id", "filters", "use_filters_default", "hasPrimaryOrLockedFilters", "filter", "isShowingFilter", "setIsShowingFilter", "handleScroll", "event", "target", "scrollTop", "scrollHeight", "clientHeight", "container", "defaultLayouts", "layoutType", "dataviews_context_default", "DataViewsSubComponents", "BulkActionsFooter", "filters_default", "ViewTypeMenu", "DataViewsPagination", "DataviewsViewConfigDropdown", "dataviews_default", "import_element", "import_element", "import_jsx_runtime", "DataFormContext", "DataFormProvider", "fields", "children", "dataform_context_default", "import_components", "import_element", "import_components", "import_element", "import_components", "DEFAULT_LAYOUT", "normalizeCardSummaryField", "sum", "item", "normalizeLayout", "layout", "normalizedLayout", "summary", "normalizedSummary", "normalizeForm", "form", "normalizedFormLayout", "normalizedFields", "field", "fieldLayout", "normalize_form_default", "import_jsx_runtime", "Header", "title", "VStack", "HStack", "Heading", "Spacer", "FormRegularField", "data", "field", "onChange", "hideLabelFromVision", "validity", "fields", "dataform_context_default", "layout", "form", "DEFAULT_LAYOUT", "DataFormLayout", "labelPosition", "fieldDefinition", "fieldDef", "clsx_default", "import_components", "import_element", "import_components", "import_i18n", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "SummaryButton", "summaryFields", "data", "labelPosition", "fieldLabel", "disabled", "onClick", "ariaExpanded", "summaryField", "summary_button_default", "import_jsx_runtime", "DropdownHeader", "title", "onClose", "VStack", "HStack", "Heading", "Spacer", "close_small_default", "PanelDropdown", "data", "field", "onChange", "validity", "labelPosition", "summaryFields", "fieldDefinition", "popoverAnchor", "fieldLabel", "form", "DEFAULT_LAYOUT", "formValidity", "popoverProps", "isOpen", "onToggle", "summary_button_default", "DataFormLayout", "FieldLayout", "childField", "childFieldValidity", "dropdown_default", "import_deepmerge", "import_components", "import_i18n", "import_element", "import_deepmerge", "import_es6", "import_element", "import_i18n", "isEmptyNullOrUndefined", "value", "isArrayOrElementsEmptyNullOrUndefined", "element", "isInvalidForRequired", "fieldType", "isFormValid", "formValidity", "fieldValidation", "key", "validation", "getFormFieldsToValidate", "form", "fields", "normalizedForm", "normalize_form_default", "fieldsMap", "field", "processFormField", "formField", "processedChildren", "child", "fieldDef", "normalizedField", "normalizeFields", "setValidityAtPath", "fieldValidity", "path", "result", "current", "i", "segment", "finalKey", "handleElementsValidationAsync", "promise", "promiseHandler", "elementsCounterRef", "setFormValidity", "item", "currentToken", "prev", "validValues", "el", "v", "error", "errorMessage", "handleCustomValidationAsync", "customCounterRef", "validateFormField", "customError", "deepMerge", "filteredResult", "getFormFieldValue", "fieldValue", "childrenValues", "useFormValidity", "previousValuesRef", "validate", "formFieldsToValidate", "newFormValidity", "untouchedFields", "fastDeepEqual", "existingFormValidity", "validity", "fieldsToKeep", "use_form_validity_default", "import_jsx_runtime", "ModalContent", "data", "field", "onChange", "fieldLabel", "onClose", "fields", "dataform_context_default", "changes", "setChanges", "modalData", "deepMerge", "form", "DEFAULT_LAYOUT", "validity", "use_form_validity_default", "onApply", "handleOnChange", "newValue", "prev", "DataFormLayout", "FieldLayout", "childField", "childFieldValidity", "HStack", "Spacer", "PanelModal", "labelPosition", "summaryFields", "fieldDefinition", "isOpen", "setIsOpen", "summary_button_default", "modal_default", "extractSummaryIds", "summary", "item", "getSummaryFields", "summaryField", "fields", "summaryId", "_field", "import_jsx_runtime", "getFieldDefinition", "field", "fields", "fieldDefinition", "_field", "simpleChildren", "child", "getFieldDefinitionAndSummaryFields", "layout", "summaryFields", "getSummaryFields", "FormPanelField", "data", "onChange", "validity", "dataform_context_default", "popoverAnchor", "setPopoverAnchor", "labelPosition", "labelClassName", "clsx_default", "fieldLabel", "renderedControl", "modal_default", "dropdown_default", "VStack", "HStack", "import_components", "import_element", "import_jsx_runtime", "NonCollapsibleCardHeader", "children", "props", "OriginalCardHeader", "useCardHeader", "layout", "isOpened", "isCollapsible", "isOpen", "setIsOpen", "toggle", "prev", "CollapsibleCardHeader", "chevron_up_default", "chevron_down_default", "isSummaryFieldVisible", "summaryField", "summaryConfig", "fieldConfig", "config", "FormCardField", "data", "field", "onChange", "hideLabelFromVision", "validity", "fields", "dataform_context_default", "form", "DEFAULT_LAYOUT", "CardHeader", "visibleSummaryFields", "getSummaryFields", "sizeCard", "withHeader", "sizeCardBody", "DataFormLayout", "fieldDefinition", "fieldDef", "RegularLayout", "getFormFieldLayout", "import_components", "import_jsx_runtime", "Header", "title", "VStack", "HStack", "Heading", "Spacer", "EMPTY_WRAPPER", "children", "FormRowField", "data", "field", "onChange", "hideLabelFromVision", "validity", "layout", "form", "DEFAULT_LAYOUT", "DataFormLayout", "FieldLayout", "childField", "childFieldValidity", "RegularLayout", "getFormFieldLayout", "import_element", "import_i18n", "import_jsx_runtime", "FormDetailsField", "data", "field", "onChange", "fields", "dataform_context_default", "form", "DEFAULT_LAYOUT", "summaryFieldId", "summaryField", "fieldDef", "summaryContent", "DataFormLayout", "import_jsx_runtime", "FORM_FIELD_LAYOUTS", "FormRegularField", "children", "VStack", "FormPanelField", "FormCardField", "FormRowField", "layout", "HStack", "FormDetailsField", "getFormFieldLayout", "type", "import_jsx_runtime", "DEFAULT_WRAPPER", "children", "VStack", "DataFormLayout", "data", "form", "onChange", "validity", "as", "fieldDefinitions", "dataform_context_default", "getFieldDefinition", "field", "fieldDefinition", "Wrapper", "getFormFieldLayout", "formField", "FieldLayout", "import_jsx_runtime", "DataForm", "data", "form", "fields", "onChange", "validity", "normalizedForm", "normalize_form_default", "normalizedFields", "normalizeFields", "DataFormProvider", "DataFormLayout", "import_remove_accents", "import_date", "normalizeSearchInput", "input", "removeAccents", "EMPTY_ARRAY", "getRelativeDate", "value", "unit", "subDays", "subWeeks", "subMonths", "subYears", "filterSortAndPaginate", "data", "view", "fields", "_fields", "normalizeFields", "filteredData", "normalizedSearch", "item", "field", "fieldValue", "filter", "_field", "OPERATOR_IS_ANY", "filterValue", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_ON", "filterDate", "fieldDate", "OPERATOR_NOT_ON", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_BETWEEN", "OPERATOR_IN_THE_PAST", "targetDate", "OPERATOR_OVER", "sortByField", "groupByField", "a", "b", "groupCompare", "totalItems", "totalPages", "start", "import_core_data", "import_editor", "import_router", "has", "find", "iter", "tar", "key", "dequal", "foo", "bar", "ctor", "len", "tmp", "generatePreferenceKey", "kind", "name", "slug", "import_element", "import_data", "import_preferences", "omit", "obj", "keys", "result", "key", "useView", "config", "kind", "name", "slug", "defaultView", "queryParams", "onChangeQueryParams", "preferenceKey", "generatePreferenceKey", "persistedView", "select", "preferencesStore", "set", "baseView", "page", "search", "view", "isModified", "updateView", "newView", "urlParams", "preferenceView", "dequal", "resetToDefault", "import_data", "import_preferences", "loadView", "config", "kind", "name", "slug", "defaultView", "queryParams", "preferenceKey", "generatePreferenceKey", "baseView", "preferencesStore", "page", "search", "import_data", "import_core_data", "import_data", "import_element", "usePatternSettings", "storedSettings", "select", "getSettings", "unlock", "store", "settingsBlockPatterns", "restBlockPatterns", "coreStore", "blockPatterns", "filterOutDuplicatesByName", "__experimentalAdditionalBlockPatterns", "restStoredSettings", "import_components", "import_i18n", "import_components", "import_element", "import_i18n", "import_data", "import_router", "import_patterns", "import_notices", "import_core_data", "import_editor", "import_jsx_runtime", "useHistory", "useLocation", "unlock", "routerPrivateApis", "CreatePatternModal", "useAddPatternCategory", "editPatternsPrivateApis", "CreateTemplatePartModal", "editorPrivateApis", "AddNewPattern", "history", "location", "showPatternModal", "setShowPatternModal", "showTemplatePartModal", "setShowTemplatePartModal", "createPatternFromFile", "patternsStore", "createSuccessNotice", "createErrorNotice", "noticesStore", "patternUploadInputRef", "isBlockBasedTheme", "addNewPatternLabel", "addNewTemplatePartLabel", "canCreatePattern", "canCreateTemplatePart", "select", "getCurrentTheme", "getPostType", "canUser", "coreStore", "PATTERN_TYPES", "TEMPLATE_PART_POST_TYPE", "handleCreatePattern", "pattern", "handleCreateTemplatePart", "templatePart", "handleError", "controls", "symbol_default", "symbol_filled_default", "upload_default", "categoryMap", "findOrCreateTerm", "event", "file", "currentCategoryId", "currentCategory", "term", "PATTERN_DEFAULT_CATEGORY", "err", "import_components", "import_element", "import_i18n", "import_patterns", "import_jsx_runtime", "RenamePatternCategoryModal", "unlock", "patternsPrivateApis", "RenameCategoryMenuItem", "category", "onClose", "isModalOpen", "setIsModalOpen", "RenameModal", "normalizedCategory", "existingCategories", "usePatternCategories", "import_components", "import_core_data", "import_data", "import_element", "import_html_entities", "import_i18n", "import_notices", "import_router", "import_jsx_runtime", "useHistory", "unlock", "routerPrivateApis", "DeleteCategoryMenuItem", "category", "onClose", "isModalOpen", "setIsModalOpen", "history", "createSuccessNotice", "createErrorNotice", "noticesStore", "deleteEntityRecord", "invalidateResolution", "coreStore", "onDelete", "PATTERN_TYPES", "PATTERN_DEFAULT_CATEGORY", "error", "errorMessage", "ConfirmDialog", "import_jsx_runtime", "PatternsActions", "categoryId", "type", "patternCategories", "usePatternCategories", "patternCategory", "PATTERN_TYPES", "category", "AddNewPattern", "more_vertical_default", "onClose", "RenameCategoryMenuItem", "DeleteCategoryMenuItem", "import_i18n", "import_element", "import_router", "import_data", "import_core_data", "useHistory", "unlock", "routerPrivateApis", "useSetActiveTemplateAction", "activeTheme", "select", "coreStore", "getEntityRecord", "editEntityRecord", "saveEditedEntityRecord", "items", "item", "pencil_default", "deactivate", "activeTemplates", "useEditPostAction", "history", "post", "PATTERN_TYPES", "import_components", "import_i18n", "import_element", "import_block_editor", "import_blocks", "import_editor", "import_core_data", "import_data", "useAddedBy", "postType", "postId", "select", "getEntityRecord", "getUser", "getEditedEntityRecord", "coreStore", "template", "originalSource", "authorText", "layout_default", "TEMPLATE_ORIGINS", "plugins_default", "siteData", "globe_default", "user", "comment_author_avatar_default", "import_jsx_runtime", "useStyle", "unlock", "editorPrivateApis", "PreviewField", "item", "descriptionId", "description", "isTemplatePart", "TEMPLATE_PART_POST_TYPE", "backgroundColor", "blocks", "isEmpty", "previewField", "SYNC_FILTERS", "PATTERN_SYNC_TYPES", "patternStatusField", "syncStatus", "value", "OPERATOR_IS", "AuthorField", "isImageLoaded", "setIsImageLoaded", "text", "icon", "imageUrl", "useAddedBy", "HStack", "clsx_default", "icon_default", "templatePartAuthorField", "import_url", "import_components", "import_jsx_runtime", "ExperimentalBlockEditorProvider", "unlock", "blockEditorPrivateApis", "usePostActions", "patternTitleField", "editorPrivateApis", "useLocation", "useHistory", "routerPrivateApis", "EMPTY_ARRAY", "defaultLayouts", "LAYOUT_TABLE", "LAYOUT_GRID", "DEFAULT_VIEW", "usePagePatternsHeader", "type", "categoryId", "patternCategories", "usePatternCategories", "templatePartAreas", "select", "coreStore", "title", "description", "patternCategory", "TEMPLATE_PART_POST_TYPE", "templatePartArea", "area", "PATTERN_TYPES", "category", "DataviewsPatterns", "path", "query", "postType", "categoryIdFromURL", "history", "PATTERN_DEFAULT_CATEGORY", "view", "updateView", "isModified", "resetToDefault", "useView", "params", "viewSyncStatus", "field", "patterns", "isResolving", "use_patterns_default", "records", "authors", "authorsSet", "template", "author", "fields", "_fields", "previewField", "patternStatusField", "templatePartAuthorField", "data", "paginationInfo", "viewWithoutFilters", "filterSortAndPaginate", "dataWithPermissions", "useAugmentPatternsWithPermissions", "templatePartActions", "patternActions", "editAction", "useEditPostAction", "actions", "settings", "usePatternSettings", "page_default", "PatternsActions", "dataviews_default", "item", "import_jsx_runtime", "patternsRoute", "siteData", "backPath", "isClassicThemeWithStyleBookSupport", "SidebarNavigationScreenPatterns", "DataviewsPatterns", "query", "categoryId", "import_jsx_runtime", "patternItemRoute", "siteData", "backPath", "isClassicThemeWithStyleBookSupport", "SidebarNavigationScreenPatterns", "EditSiteEditor", "import_jsx_runtime", "templatePartItemRoute", "SidebarNavigationScreenPatterns", "EditSiteEditor", "import_i18n", "import_core_data", "import_element", "import_components", "import_i18n", "import_router", "import_url", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "EMPTY_ARRAY", "TemplateDataviewItem", "template", "isActive", "text", "icon", "useAddedBy", "SidebarNavigationItem", "DataviewsTemplatesSidebarContent", "activeView", "records", "firstItemPerAuthorText", "firstItemPerAuthor", "acc", "author", "ItemGroup", "published_default", "comment_author_avatar_default", "import_core_data", "import_element", "import_components", "import_i18n", "import_router", "import_url", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "EMPTY_ARRAY", "TemplateDataviewItem", "template", "isActive", "text", "icon", "useAddedBy", "SidebarNavigationItem", "DataviewsTemplatesSidebarContent", "activeView", "records", "TEMPLATE_POST_TYPE", "firstItemPerAuthorText", "firstItemPerAuthor", "acc", "author", "ItemGroup", "layout_default", "import_jsx_runtime", "SidebarNavigationScreenTemplatesBrowse", "backPath", "SidebarNavigationScreen", "DataviewsTemplatesSidebarContent", "import_i18n", "import_html_entities", "import_element", "import_core_data", "import_router", "import_editor", "import_url", "import_data", "import_compose", "import_components", "import_notices", "import_components", "import_html_entities", "import_element", "import_data", "import_core_data", "import_compose", "import_i18n", "import_notices", "import_router", "import_dom", "import_element", "import_i18n", "import_components", "import_core_data", "import_html_entities", "import_compose", "import_dom", "import_url", "import_data", "import_core_data", "import_html_entities", "import_element", "import_i18n", "import_url", "EMPTY_OBJECT", "getValueFromObjectPath", "object", "path", "value", "fieldName", "prefixSlug", "prefix", "slug", "mapToIHasNameAndId", "entities", "entity", "useExistingTemplates", "select", "coreStore", "TEMPLATE_POST_TYPE", "useDefaultTemplateTypes", "usePublicPostTypes", "postTypes", "excludedPostTypes", "viewable", "a", "b", "usePublicTaxonomies", "taxonomies", "visibility", "usePostTypeArchiveMenuItems", "publicPostTypes", "postTypesWithArchives", "postType", "existingTemplates", "postTypeLabels", "accumulator", "labels", "singularName", "needsUniqueIdentifier", "existingTemplate", "title", "archive_default", "usePostTypeMenuItems", "onClickMenuItem", "defaultTemplateTypes", "templateLabels", "templateName", "templatePrefixes", "suffix", "postTypesInfo", "useEntitiesInfo", "menuItems", "icon", "generalTemplateSlug", "defaultTemplateType", "_slug", "_needsUniqueIdentifier", "menuItemTitle", "menuItem", "post_default", "hasEntities", "template", "search", "suggestion", "templateSlug", "key", "useTaxonomiesMenuItems", "publicTaxonomies", "taxonomyLabels", "taxonomiesInfo", "existingTemplateSlugs", "taxonomy", "hasGeneralTemplate", "block_meta_default", "USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX", "USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS", "useAuthorMenuItem", "authorInfo", "authorMenuItem", "entityName", "additionalQueryParameters", "entitiesHasRecords", "import_jsx_runtime", "EMPTY_ARRAY", "SuggestionListItem", "suggestion", "search", "onSelect", "entityForSuggestions", "baseCssClass", "Text", "useSearchSuggestions", "config", "query", "searchResults", "searchHasResolved", "suggestions", "setSuggestions", "newSuggestions", "mapToIHasNameAndId", "SuggestionList", "setSearch", "debouncedSearch", "labels", "showSearchControl", "setShowSearchControl", "AddCustomTemplateModalContent", "onBack", "containerRef", "showSearchEntities", "setShowSearchEntities", "firstFocusable", "VStack", "slug", "title", "description", "templatePrefix", "add_custom_template_modal_content_default", "__assign", "s", "i", "p", "lowerCase", "str", "DEFAULT_SPLIT_REGEXP", "DEFAULT_STRIP_REGEXP", "noCase", "input", "options", "_a", "splitRegexp", "_b", "stripRegexp", "_c", "transform", "lowerCase", "_d", "delimiter", "result", "replace", "start", "end", "re", "value", "dotCase", "input", "options", "noCase", "__assign", "paramCase", "input", "options", "dotCase", "__assign", "import_element", "import_i18n", "import_components", "import_jsx_runtime", "AddCustomGenericTemplateModalContent", "createTemplate", "onBack", "title", "setTitle", "defaultTitle", "isBusy", "setIsBusy", "inputRef", "onCreateTemplate", "event", "paramCase", "VStack", "HStack", "add_custom_generic_template_modal_content_default", "import_jsx_runtime", "useHistory", "unlock", "routerPrivateApis", "DEFAULT_TEMPLATE_SLUGS", "TEMPLATE_ICONS", "home_default", "verse_default", "pin_default", "page_default", "archive_default", "search_default", "not_found_default", "list_default", "category_default", "comment_author_avatar_default", "block_meta_default", "calendar_default", "tag_default", "media_default", "TemplateListItem", "title", "direction", "className", "description", "icon", "onClick", "children", "VStack", "Text", "modalContentMap", "NewTemplateModal", "onClose", "modalContent", "setModalContent", "entityForSuggestions", "setEntityForSuggestions", "isSubmitting", "setIsSubmitting", "missingTemplates", "useMissingTemplates", "history", "saveEntityRecord", "coreStore", "createErrorNotice", "createSuccessNotice", "noticesStore", "containerRef", "isMobile", "homeUrl", "select", "TEMPLATE_SHORT_DESCRIPTIONS", "firstFocusable", "createTemplate", "template", "isWPSuggestion", "slug", "newTemplate", "TEMPLATE_POST_TYPE", "error", "errorMessage", "onModalClose", "modalTitle", "clsx_default", "Grid", "layout_default", "pencil_default", "add_custom_template_modal_content_default", "add_custom_generic_template_modal_content_default", "NewTemplate", "showModal", "setShowModal", "postType", "getPostType", "missingDefaultTemplates", "useDefaultTemplateTypes", "onClickMenuItem", "_entityForSuggestions", "enhancedMissingDefaultTemplateTypes", "defaultTaxonomiesMenuItems", "taxonomiesMenuItems", "useTaxonomiesMenuItems", "defaultPostTypesMenuItems", "postTypesMenuItems", "usePostTypeMenuItems", "authorMenuItem", "useAuthorMenuItem", "menuItem", "matchIndex", "template1", "template2", "usePostTypeArchiveMenuItems", "add_new_template_default", "import_components", "import_i18n", "import_element", "import_html_entities", "import_blocks", "import_block_editor", "import_editor", "import_core_data", "import_data", "import_jsx_runtime", "Badge", "unlock", "componentsPrivateApis", "useEntityRecordsWithPermissions", "corePrivateApis", "useStyle", "editorPrivateApis", "useAllDefaultTemplateTypes", "defaultTemplateTypes", "useDefaultTemplateTypes", "staticRecords", "record", "PreviewField", "item", "settings", "usePatternSettings", "backgroundColor", "blocks", "isEmpty", "previewField", "descriptionField", "defaultTemplateType", "type", "AuthorField", "isImageLoaded", "setIsImageLoaded", "text", "icon", "imageUrl", "useAddedBy", "HStack", "clsx_default", "authorField", "activeField", "activeLabel", "activeIntent", "isActive", "useThemeField", "activeTheme", "select", "coreStore", "slugField", "defaultLayouts", "DEFAULT_VIEW", "getDefaultView", "activeView", "import_jsx_runtime", "usePostActions", "usePostFields", "templateTitleField", "unlock", "editorPrivateApis", "useHistory", "useLocation", "routerPrivateApis", "useEntityRecordsWithPermissions", "corePrivateApis", "PageTemplates", "path", "query", "activeView", "postId", "selection", "setSelection", "selectedRegisteredTemplate", "setSelectedRegisteredTemplate", "defaultView", "getDefaultView", "view", "updateView", "isModified", "resetToDefault", "useView", "TEMPLATE_POST_TYPE", "newQueryParams", "history", "activeTemplatesOption", "activeTheme", "defaultTemplateTypes", "select", "getEntityRecord", "getCurrentTheme", "coreStore", "userRecords", "isLoadingUserRecords", "staticRecords", "isLoadingStaticData", "activeTemplates", "_active", "activeSlug", "activeId", "template", "userRecord", "index", "slug", "isLoadingData", "records", "isCustom", "record", "type", "_records", "users", "getUser", "acc", "onChangeSelection", "items", "dateField", "field", "themeField", "useThemeField", "fields", "_fields", "previewField", "descriptionField", "activeField", "slugField", "elements", "author", "authorField", "data", "paginationInfo", "filterSortAndPaginate", "createSuccessNotice", "noticesStore", "onActionPerformed", "actionId", "newItem", "_title", "postTypeActions", "editAction", "useEditPostAction", "setActiveTemplateAction", "useSetActiveTemplateAction", "actions", "onChangeView", "newView", "duplicateAction", "action", "page_default", "add_new_template_default", "dataviews_default", "item", "defaultLayouts", "import_i18n", "import_element", "import_core_data", "import_router", "import_editor", "import_url", "import_compose", "import_components", "import_components", "import_html_entities", "import_element", "import_data", "import_core_data", "import_compose", "import_i18n", "import_notices", "import_router", "import_dom", "import_element", "import_i18n", "import_components", "import_core_data", "import_html_entities", "import_compose", "import_dom", "import_url", "import_data", "import_core_data", "import_html_entities", "import_element", "import_i18n", "import_url", "EMPTY_OBJECT", "getValueFromObjectPath", "object", "path", "value", "fieldName", "prefixSlug", "prefix", "slug", "mapToIHasNameAndId", "entities", "entity", "useExistingTemplates", "select", "coreStore", "TEMPLATE_POST_TYPE", "useDefaultTemplateTypes", "usePublicPostTypes", "postTypes", "excludedPostTypes", "viewable", "a", "b", "usePublicTaxonomies", "taxonomies", "visibility", "usePostTypeArchiveMenuItems", "publicPostTypes", "postTypesWithArchives", "postType", "existingTemplates", "postTypeLabels", "accumulator", "labels", "singularName", "needsUniqueIdentifier", "existingTemplate", "title", "archive_default", "usePostTypeMenuItems", "onClickMenuItem", "defaultTemplateTypes", "templateLabels", "templateName", "templatePrefixes", "suffix", "postTypesInfo", "useEntitiesInfo", "existingTemplateSlugs", "menuItems", "icon", "generalTemplateSlug", "defaultTemplateType", "_slug", "hasGeneralTemplate", "_needsUniqueIdentifier", "menuItemTitle", "menuItem", "post_default", "hasEntities", "template", "search", "suggestion", "templateSlug", "key", "useTaxonomiesMenuItems", "publicTaxonomies", "taxonomyLabels", "taxonomiesInfo", "taxonomy", "block_meta_default", "USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX", "USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS", "useAuthorMenuItem", "authorInfo", "authorMenuItem", "useExistingTemplateSlugs", "slugsWithTemplates", "_accumulator", "_prefix", "useTemplatesToExclude", "entityName", "additionalQueryParameters", "slugsToExcludePerEntity", "entitiesWithTemplates", "recordsToExcludePerEntity", "entitiesHasRecords", "existingEntitiesIds", "id", "import_jsx_runtime", "EMPTY_ARRAY", "SuggestionListItem", "suggestion", "search", "onSelect", "entityForSuggestions", "baseCssClass", "Text", "useSearchSuggestions", "config", "query", "searchResults", "searchHasResolved", "suggestions", "setSuggestions", "newSuggestions", "mapToIHasNameAndId", "SuggestionList", "setSearch", "debouncedSearch", "labels", "showSearchControl", "setShowSearchControl", "AddCustomTemplateModalContent", "onBack", "containerRef", "showSearchEntities", "setShowSearchEntities", "firstFocusable", "VStack", "slug", "title", "description", "templatePrefix", "add_custom_template_modal_content_default", "import_element", "import_i18n", "import_components", "import_jsx_runtime", "AddCustomGenericTemplateModalContent", "createTemplate", "onBack", "title", "setTitle", "defaultTitle", "isBusy", "setIsBusy", "inputRef", "onCreateTemplate", "event", "paramCase", "VStack", "HStack", "add_custom_generic_template_modal_content_default", "import_jsx_runtime", "useHistory", "unlock", "routerPrivateApis", "DEFAULT_TEMPLATE_SLUGS", "TEMPLATE_ICONS", "home_default", "verse_default", "pin_default", "page_default", "archive_default", "search_default", "not_found_default", "list_default", "category_default", "comment_author_avatar_default", "block_meta_default", "calendar_default", "tag_default", "media_default", "TemplateListItem", "title", "direction", "className", "description", "icon", "onClick", "children", "VStack", "Text", "modalContentMap", "NewTemplateModal", "onClose", "modalContent", "setModalContent", "entityForSuggestions", "setEntityForSuggestions", "isSubmitting", "setIsSubmitting", "missingTemplates", "useMissingTemplates", "history", "saveEntityRecord", "coreStore", "createErrorNotice", "createSuccessNotice", "noticesStore", "containerRef", "isMobile", "homeUrl", "select", "TEMPLATE_SHORT_DESCRIPTIONS", "firstFocusable", "createTemplate", "template", "isWPSuggestion", "slug", "newTemplate", "TEMPLATE_POST_TYPE", "error", "errorMessage", "onModalClose", "modalTitle", "clsx_default", "Grid", "layout_default", "pencil_default", "add_custom_template_modal_content_default", "add_custom_generic_template_modal_content_default", "NewTemplate", "showModal", "setShowModal", "postType", "getPostType", "existingTemplates", "useExistingTemplates", "defaultTemplateTypes", "useDefaultTemplateTypes", "existingTemplateSlugs", "missingDefaultTemplates", "onClickMenuItem", "_entityForSuggestions", "enhancedMissingDefaultTemplateTypes", "defaultTaxonomiesMenuItems", "taxonomiesMenuItems", "useTaxonomiesMenuItems", "defaultPostTypesMenuItems", "postTypesMenuItems", "usePostTypeMenuItems", "authorMenuItem", "useAuthorMenuItem", "menuItem", "matchIndex", "template1", "template2", "usePostTypeArchiveMenuItems", "add_new_template_legacy_default", "import_jsx_runtime", "usePostActions", "templateTitleField", "unlock", "editorPrivateApis", "useHistory", "useLocation", "routerPrivateApis", "useEntityRecordsWithPermissions", "corePrivateApis", "PageTemplates", "path", "query", "activeView", "postId", "selection", "setSelection", "defaultView", "getDefaultView", "view", "updateView", "isModified", "resetToDefault", "useView", "TEMPLATE_POST_TYPE", "newQueryParams", "history", "records", "isLoadingData", "onChangeSelection", "items", "authors", "authorsSet", "template", "author", "fields", "previewField", "descriptionField", "authorField", "data", "paginationInfo", "filterSortAndPaginate", "postTypeActions", "editAction", "useEditPostAction", "actions", "onChangeView", "newView", "page_default", "add_new_template_legacy_default", "dataviews_default", "id", "defaultLayouts", "import_jsx_runtime", "isTemplateListView", "query", "activeView", "loadView", "getDefaultView", "templatesRoute", "siteData", "SidebarNavigationScreenTemplatesBrowse", "SidebarNavigationScreenUnsupported", "PageTemplates", "EditSiteEditor", "import_jsx_runtime", "areas", "siteData", "SidebarNavigationScreenTemplatesBrowse", "SidebarNavigationScreenUnsupported", "EditSiteEditor", "templateItemRoute", "import_router", "import_i18n", "import_data", "import_core_data", "import_components", "import_router", "import_data", "import_core_data", "import_element", "import_router", "import_components", "import_url", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "DataViewItem", "title", "slug", "type", "icon", "isActive", "suffix", "path", "iconToUse", "VIEW_LAYOUTS", "v", "HStack", "clsx_default", "SidebarNavigationItem", "import_i18n", "defaultLayouts", "DEFAULT_POST_BASE", "getDefaultViews", "postType", "pages_default", "published_default", "OPERATOR_IS_ANY", "scheduled_default", "drafts_default", "pending_default", "not_allowed_default", "trash_default", "getDefaultView", "activeView", "slug", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "DataViewsSidebarContent", "postType", "activeView", "postTypeObject", "select", "getPostType", "coreStore", "defaultViews", "getDefaultViews", "ItemGroup", "dataview", "DataViewItem", "import_components", "import_core_data", "import_element", "import_router", "import_data", "import_editor", "import_i18n", "import_compose", "import_url", "import_components", "import_i18n", "import_data", "import_element", "import_core_data", "import_notices", "import_html_entities", "import_blocks", "import_jsx_runtime", "AddNewPostModal", "postType", "onSave", "onClose", "labels", "select", "coreStore", "isCreatingPost", "setIsCreatingPost", "title", "setTitle", "saveEntityRecord", "createErrorNotice", "createSuccessNotice", "noticesStore", "resolveSelect", "createPost", "event", "postTypeObject", "newPage", "error", "errorMessage", "VStack", "HStack", "import_jsx_runtime", "usePostActions", "usePostFields", "unlock", "editorPrivateApis", "useLocation", "useHistory", "routerPrivateApis", "useEntityRecordsWithPermissions", "coreDataPrivateApis", "EMPTY_ARRAY", "DEFAULT_STATUSES", "getItemId", "item", "getItemLevel", "PostList", "postType", "path", "query", "activeView", "postId", "quickEdit", "history", "postTypeObject", "select", "getPostType", "coreStore", "view", "updateView", "isModified", "resetToDefault", "useView", "newQueryParams", "getDefaultView", "onChangeView", "newView", "selection", "setSelection", "onChangeSelection", "items", "fields", "queryArgs", "filters", "filter", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "records", "isLoadingData", "totalItems", "totalPages", "data", "filterSortAndPaginate", "ids", "record", "postIdWasDeleted", "id", "paginationInfo", "labels", "canCreateRecord", "canUser", "postTypeActions", "editAction", "useEditPostAction", "actions", "showAddPostModal", "setShowAddPostModal", "openModal", "closeModal", "handleNewPage", "type", "page_default", "AddNewPostModal", "dataviews_default", "defaultLayouts", "LAYOUT_LIST", "drawer_right_default", "import_i18n", "import_data", "import_core_data", "import_components", "import_element", "import_editor", "import_block_editor", "import_jsx_runtime", "usePostFields", "PostCardPanel", "unlock", "editorPrivateApis", "fieldsWithBulkEditSupport", "PostEditForm", "postType", "postId", "ids", "record", "hasFinishedResolution", "select", "args", "getEditedEntityRecord", "hasFinished", "coreDataStore", "multiEdits", "setMultiEdits", "editEntityRecord", "_fields", "fields", "field", "element", "form", "onChange", "edits", "id", "prev", "ExperimentalBlockEditorProvider", "blockEditorPrivateApis", "settings", "usePatternSettings", "fieldsWithDependency", "data", "VStack", "DataForm", "PostEdit", "page_default", "clsx_default", "import_jsx_runtime", "useLocation", "unlock", "routerPrivateApis", "isListView", "query", "activeView", "postTypeObject", "coreStore", "loadView", "getDefaultView", "MobilePagesView", "canvas", "EditSiteEditor", "PostList", "pagesRoute", "siteData", "SidebarNavigationScreen", "DataViewsSidebarContent", "SidebarNavigationScreenUnsupported", "PostEdit", "import_i18n", "import_jsx_runtime", "pageItemRoute", "siteData", "SidebarNavigationScreen", "DataViewsSidebarContent", "SidebarNavigationScreenUnsupported", "EditSiteEditor", "import_i18n", "import_editor", "import_jsx_runtime", "StyleBookPreview", "unlock", "editorPrivateApis", "stylebookRoute", "siteData", "isClassicThemeWithStyleBookSupport", "SidebarNavigationScreen", "SidebarNavigationScreenUnsupported", "import_i18n", "import_components", "import_jsx_runtime", "NotFoundError", "notFoundRoute", "SidebarNavigationScreenMain", "Spacer", "routes", "pageItemRoute", "pagesRoute", "templateItemRoute", "templatesRoute", "templatePartItemRoute", "patternItemRoute", "patternsRoute", "navigationItemRoute", "navigationRoute", "stylesRoute", "homeRoute", "stylebookRoute", "notFoundRoute", "useRegisterSiteEditorRoutes", "registry", "registerRoute", "unlock", "store", "import_jsx_runtime", "RouterProvider", "unlock", "routerPrivateApis", "AppLayout", "useCommonCommands", "useSetCommandContext", "LayoutWithGlobalStylesProvider", "App", "useRegisterSiteEditorRoutes", "routes", "currentTheme", "editorSettings", "select", "store", "coreStore", "beforeNavigate", "path", "query", "isPreviewingTheme", "currentlyPreviewingTheme", "matchResolverArgsValue", "import_editor", "import_url", "import_deprecated", "import_jsx_runtime", "isSiteEditor", "deprecateSlot", "name", "deprecated", "PluginMoreMenuItem", "props", "EditorPluginMoreMenuItem", "PluginSidebar", "EditorPluginSidebar", "PluginSidebarMoreMenuItem", "EditorPluginSidebarMoreMenuItem", "import_jsx_runtime", "registerCoreBlockBindingsSources", "unlock", "editorPrivateApis", "initializeEditor", "id", "settings", "target", "root", "blocksStore", "coreBlocks", "name", "preferencesStore", "store", "e", "App", "reinitializeEditor", "deprecated"]
}
