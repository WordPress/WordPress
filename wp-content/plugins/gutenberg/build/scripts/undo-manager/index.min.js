"use strict";var wp;(wp||={}).undoManager=(()=>{var x=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),H=(e,t)=>{for(var n in t)c(e,n,{get:t[n],enumerable:!0})},u=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of w(t))!m.call(e,r)&&r!==n&&c(e,r,{get:()=>t[r],enumerable:!(o=E(t,r))||o.enumerable});return e};var S=(e,t,n)=>(n=e!=null?x(y(e)):{},u(t||!e||!e.__esModule?c(n,"default",{value:e,enumerable:!0}):n,e)),b=e=>u(c({},"__esModule",{value:!0}),e);var g=C((U,h)=>{h.exports=window.wp.isShallowEqual});var v={};H(v,{createUndoManager:()=>q});var a=S(g());function j(e,t){let n={...e};return Object.entries(t).forEach(([o,r])=>{n[o]?n[o]={...n[o],to:r.to}:n[o]=r}),n}var p=(e,t)=>{let n=e?.findIndex(({id:r})=>typeof r=="string"?r===t.id:(0,a.default)(r,t.id)),o=[...e];return n!==-1?o[n]={id:t.id,changes:j(o[n].changes,t.changes)}:o.push(t),o};function q(){let e=[],t=[],n=0,o=()=>{e=e.slice(0,n||void 0),n=0},r=()=>{let s=e.length===0?0:e.length-1,i=e[s]??[];t.forEach(d=>{i=p(i,d)}),t=[],e[s]=i},R=s=>!s.filter(({changes:d})=>Object.values(d).some(({from:l,to:f})=>typeof l!="function"&&typeof f!="function"&&!(0,a.default)(l,f))).length;return{addRecord(s,i=!1){let d=!s||R(s);if(i){if(d)return;s.forEach(l=>{t=p(t,l)})}else{if(o(),t.length&&r(),d)return;e.push(s)}},undo(){t.length&&(o(),r());let s=e[e.length-1+n];if(s)return n-=1,s},redo(){let s=e[e.length+n];if(s)return n+=1,s},hasUndo(){return!!e[e.length-1+n]},hasRedo(){return!!e[e.length+n]}}}return b(v);})();
//# sourceMappingURL=index.min.js.map
